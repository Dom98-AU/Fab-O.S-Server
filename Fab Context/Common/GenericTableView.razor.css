/* GenericTableView Component - Fab.OS Visual Identity */

/* Container */
.generic-table-view {
    position: relative;
    width: 100%;
}

/* Table responsive wrapper - Fixed scrolling with frozen column support */
.generic-table-view .table-responsive {
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(13, 26, 128, 0.08);
    overflow-x: auto !important; /* Enable horizontal scrolling */
    overflow-y: visible; /* Allow dropdowns to overflow vertically */
    max-width: 100%;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    position: relative; /* Required for sticky positioning to work */
}

/* Ensure table takes minimum width needed */
.generic-table-view table {
    min-width: max-content;
}

/* Custom scrollbar styling */
.generic-table-view .table-responsive::-webkit-scrollbar {
    height: 8px;
}

.generic-table-view .table-responsive::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
}

.generic-table-view .table-responsive::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #B1B1B1 0%, #777777 100%);
    border-radius: 4px;
}

.generic-table-view .table-responsive::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #777777 0%, #161616 100%);
}

/* Frozen column styles - high specificity to override Bootstrap and other styles */
.generic-table-view .table-responsive table tbody td.frozen-left,
.generic-table-view .frozen-left {
    position: -webkit-sticky !important; /* Safari support */
    position: sticky !important;
    left: 0 !important;
    z-index: 100 !important;  /* High z-index to stay on top */
    background: white !important;
    border-right: 2px solid #10b981 !important;
    box-shadow: 2px 0 4px rgba(16, 185, 129, 0.1) !important;
    transition: none !important; /* Disable transitions */
    transform: translateZ(0); /* Force GPU acceleration */
    backface-visibility: hidden; /* Prevent flickering */
}

/* Frozen header columns - preserve blue gradient */
.generic-table-view .table-responsive table thead th.frozen-left {
    position: -webkit-sticky !important; /* Safari support */
    position: sticky !important;
    left: 0 !important;
    z-index: 100 !important;  /* High z-index to stay on top */
    background: linear-gradient(135deg, #3144CD 0%, #0D1A80 100%) !important;
    border-right: 2px solid #10b981 !important;
    box-shadow: 2px 0 4px rgba(16, 185, 129, 0.1) !important;
}

.generic-table-view .frozen-right {
    position: sticky !important;
    right: 0;
    z-index: 10;
    background: white;
    border-left: 2px solid #f59e0b;
    box-shadow: -2px 0 4px rgba(245, 158, 11, 0.1);
}

/* Multiple frozen columns positioning - let sticky stack naturally */
.generic-table-view .frozen-left-0 {
    left: 0 !important;
    z-index: 4;  /* Higher than base frozen but still low */
}

.generic-table-view .frozen-left-1 {
    left: var(--frozen-left-1-offset, 0) !important;  /* Use CSS variable from JS */
    z-index: 3;
}

.generic-table-view .frozen-left-2 {
    left: var(--frozen-left-2-offset, 0) !important;  /* Use CSS variable from JS */
    z-index: 2;
}

.generic-table-view .frozen-right-0 {
    right: 0px !important;
    z-index: 15;
}

.generic-table-view .frozen-right-1 {
    right: var(--frozen-right-1-offset, 150px) !important;
    z-index: 14;
}

/* Ensure frozen columns stay visible during scroll */
.generic-table-view .table-responsive table {
    border-collapse: separate !important; /* Required for sticky to work */
    border-spacing: 0;
}

/* Shadow indicators for scrollable area */
.generic-table-view::before,
.generic-table-view::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 20px;  /* Keep shadows above the scrollbar */
    width: 20px;
    pointer-events: none !important;  /* Ensure no mouse interference */
    z-index: 1;  /* Lower than frozen columns to prevent flicker */
    opacity: 0;
    transition: opacity 0.1s ease;  /* Faster transition to reduce flicker */
}

.generic-table-view::before {
    left: 0;
    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
}

.generic-table-view::after {
    right: 0;
    background: linear-gradient(to left, rgba(0,0,0,0.1), transparent);
}

.generic-table-view.scrolling-left::before {
    opacity: 1;
}

.generic-table-view.scrolling-right::after {
    opacity: 1;
}