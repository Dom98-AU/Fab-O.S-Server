@namespace SteelEstimation.Web.Components.Shared.Common
@rendermode InteractiveServer
@using Microsoft.AspNetCore.Components
@using SteelEstimation.Core.Models

<div class="generic-card-view">
    <div class="row g-3">
        @if (Items?.Any() == true)
        {
            @foreach (var item in Items)
            {
                <div class="col-md-4 col-lg-3">
                    <div class="card @CardClass" @onclick="() => OnCardClick.InvokeAsync(item)">
                        @if (CardTemplate != null)
                        {
                            @CardTemplate(item)
                        }
                        else
                        {
                            <div class="card-body">
                                <p>@item?.ToString()</p>
                            </div>
                        }
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    No items found.
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public IEnumerable<object>? Items { get; set; }
    [Parameter] public RenderFragment<object>? CardTemplate { get; set; }
    [Parameter] public EventCallback<object> OnCardClick { get; set; }
    [Parameter] public string? CardClass { get; set; }
}