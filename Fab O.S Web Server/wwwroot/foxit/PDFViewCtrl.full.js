!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFViewCtrl=t():e.PDFViewCtrl=t()}(self,()=>(()=>{var e={7085:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="collapse-panel">\n<div class="header" name="header">\n<div class="icon-triangle" name="icon">\n<svg width="8" height="8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n<polygon class="right-bottom" points="8,0 8,8 0,8 8,0" stroke-width="0"/>\n<polygon class="right" points="0,0 8,4 0,8 0,0" stroke-width="0"/>\n</svg>\n</div>\n<div class="text" name="text"></div>\n<div class="line"></div>\n</div>\n<div name="body"></div>\n</div>'}},5335:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict @aria:circular-focus class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\n<div @controller.alias="alert">\n<layer-header @set.title="alert.title"></layer-header>\n<layer-view class="fv__ui-dialog-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<span>\n<text @set.text="alert.message"></text>\n</span>\n</layer-view>\n<checkbox class="m-r-10 fv__ui-dialog-again" @set.text="alert.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()"><text @set.text="alert.okBtnText"></text></xbutton>\n</layer-toolbar>\n</div>\n</layer>\n'}},4756:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog websdk-modal" @aria:describedby="@layer-view>@div">\n<div @controller.alias="confirm" name="confirm-dialog">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message" name="fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden" name="fv__ui-layer-message-icon"></i>\n<span name="fv__ui-layer-message">\n<span></span>\n<text @set.text="confirm.message"></text>\n</span>\n\n</div>\n</layer-view>\n<checkbox class="fv__ui-dialog-again" @set.text="confirm.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" @on.click="confirm.ok()" @set.text="confirm.okText">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()" @set.text="confirm.cancelText">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},1449:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center  fv__ui-confirm-dialog fv__ui-custom-confirm-dialog">\n<div @controller.alias="confirm">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<text @set.text="confirm.message"></text>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<checkbox class="ask-again" text="common-dialogs.notAgain" name="notAgain"></checkbox>\n<div class="fv__ui-dialog-footer-buttons">\n<xbutton class="fv__ui-dialog-ok-button fv__ui-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button fv__ui-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\n</div>\n</layer-toolbar>\n</div>\n</layer>'}},3146:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password" @aria:circular-focus>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title"></layer-header>\n<layer-view>\n<div class="fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<p class="notify" name="fv__ui-prompt-pwd-notify">\n<text @set.text="prompt.notifyMessage"></text>\n</p>\n<div class="fv__ui-prompt-input-container">\n<input name="fv__ui-prompt-pwd-value-editor" type="password" @aria:labelledby="::parent()::parent()::childAt(0)" @aria:describedby="::parent()::parent()::childAt(1)">\n<i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},166:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-url" @isolate.strict>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<input name="fv__ui-prompt-value-editor" @aria:labelledby="::parent()::childAt(0)">\n</layer-view>\n<layer-toolbar  class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},5027:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=e.j,o=e.colors,a=e.color,s=e.bc,A=i.$escape,c=e.transparent,u=e.showTrans,l=e.transparentclass,d=e.addclass,h=e.removeclass;t+='<ul class="fv__ui-colors-picker">\n';for(n=0,r=o.length;n<r;n++){s="",s="border-color:#e0e0e0";"delected"!=(a=o[n])&&(t+='\n  <li class="fv__ui-picker-color" tabindex="-1" data-index=\'',t+=A(n),t+="' style=\"background-color:",t+=A(a),t+=";",t+=A(s),t+='"></li>\n')}if(t+='\n<span class="fv__ui-sperator"></span>\n',!c)u="display:none";return t+='\n<li class="',t+=A(l),t+='" style="',t+=A(u),t+='" tabindex="0">\n  <div style="height:100%;" class="fv__ui-picker-nocolor"></div>\n</li>\n<button class="',t+=A(d),t+=' fv__ui-picker-addcolor" role="option" tabindex="0"></button>\n<button class="',t+=A(h),t+=' fv__ui-picker-removecolor" role="option" tabindex="0"></button>\n</ul>'}},6936:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate class="foxit-spectrum-wrapper center" append-to="body">\n<div class="foxit-spectrum">\n<div class="foxit-spectrum-color">\n<div class="foxit-spectrum-gradientX">\n<div class="foxit-spectrum-gradientY">\n<div id="foxit-spectrum-color-dragger">\n</div>\n</div>\n</div>\n</div>\n<div class="foxit-spectrum-hue">\n<div id="foxit-spectrum-hue-slider">\n</div>\n</div>\n<div class="foxit-spectrum-transparent fv__ui-property-icon-nocolor"></div>\n</div>\n<div class="foxit-spectrum-tools">\n<div class="foxit-spectrum-show">\n<div id="foxit-spectrum-current">\n</div>\n<div id="foxit-spectrum-active">\n</div>\n</div>\n<div class="foxit-spectrum-btns">\n<button id="foxit-spectrum-choose" name="foxit-spectrum-choose" data-i18n="common-dialogs.ok">OK</button>\n<button id="foxit-spectrum-cancel" data-i18n="dialog.close">Cancel</button>\n</div>\n</div>\n</layer>'}},9262:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<dropdown\nselectable\nseparate="false"\n@var.self="$component"\nclass="fv__ui-dropdown-select"\n>\n<xbutton\n@foreach="item in self.options track by id"\nforeach@lazy-mode="self.lazyMode"\nforeach@item-height="self.itemHeight"\nforeach@threshold="self.lazyLoadThreshold"\n@setter.text="item.text"\n@on.click="self.userSelect($component, item)"\n@active="self.selectedItem === $component"\n></xbutton>\n</dropdown>'}},5883:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.layout,o=e.iconclass,a=e.icontext,s=e.text,A=e.selectorClass,c=e.options,u=e.i,l=e.j,d=e.option,h=e.optionLable,f=e.optionClass,p=e.noOptionLable,g=e.arrowiconclass;if(t+='<div class="fv__ui-select">\n<div class="fv__ui-select-icon ',t+=n(1==r?"":o),t+='">',t+=n(a),t+='</div>\n<div class="fv__ui-select-options">\n  <span class="fv__ui-select-lable" data-i18n="',t+=n(s||""),t+='">',t+=n(s),t+='</span>\n  <ul class="fv__ui-select-selector ',t+=n(A),t+='">\n',c){t+="\n";for(u=0,l=c.length;u<l;u++){h=(d=c[u]).lable||d.value,f=d.class;1!=p&&!1!==d.lable||(h=""),t+='\n<li class="fv__ui-select-option ',t+=n(d.optionItemClass||""),t+='" data-value="',t+=n(d.value),t+='"><div class="',t+=n(f),t+='" data-i18n="',t+=n(h),t+='" data-value="',t+=n(d.value),t+='">',t+=n(h),t+="</div></li>\n"}t+="\n"}return t+="\n  </ul>\n  ",g?(t+='\n  <div class="fv__ui-select-dropdown ',t+=n(g),t+='"></div>\n  '):t+='\n  <div class="fv__ui-select-dropdown">&#9660</div>\n  ',t+="\n</div>\n</div>"}},247:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).iconCls,r=i.$escape,o=e.iconText,a=e.hiddenInput,s=e.hideInput,A=e.left,c=e.value,u=e.min,l=e.max,d=e.usingSelect,h=e.unit;t+='<div class="fv__ui-slider">\n',n&&(t+='\n<div class="fv__slider-icon ',t+=r(n),t+='">',t+=r(o),t+="</div>\n"),t+="\n";a=s?"fv__hidden":"";return t+='\n<div class="fv__ui-slider-line">\n<div class="fv__ui-slider-center-point"></div>\n<div class="fv__ui-slider-bar" style="width:',t+=r(A=100*(c-u)/(l-u)),t+='%"></div>\n<span class="fv__ui-slider-cursor" style="left:',t+=r(A),t+='%"></span>\n</div>\n<input ',t+=r(d?"readOnly=1":""),t+='  value="',t+=r(c),t+='" class="fv__ui-slider-input ',t+=r(a),t+='" />\n<span class="fv__ui-slider-unit ',t+=r(a),t+='">',t+=r(h),t+="</span>\n</div>"}},2939:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-xselect-button">\n<div class="fv__ui-xselect-button-text"></div>\n<div class="fv__ui-xselect-button-edit">\n<input type="text">\n</div>\n<div class="fv__ui-xselect-button-icon">\n<i></i>\n</div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>'}},7482:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-layer-header-inner">\n<i class="fv__ui-layer-header-icon"></i>\n<div class="fv__ui-layer-header-title"></div>\n<div class="fv__ui-layer-header-buttons">\n\x3c!-- TODO: more layer header buttons... --\x3e\n<button href="javascript:;" class="fv__ui-layer-header-button" type="button" action="close">\n<i class="fv__icon-layer-close"></i>\n</button>\n</div>\n</div>'}},1558:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-paddle">\n<div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\n<i></i>\n</div>\n<div class="fv__ui-paddle-content-container">\n<div class="fv__ui-paddle-content"></div>\n</div>\n<div class="fv__ui-paddle-button fv__ui-paddle-button-next">\n<i></i>\n</div>\n</div>'}},7644:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div\nclass="fv__ui-scenario-option-group"\n></div>\n'}},757:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div\nclass="fv__ui-scenario-option"\n@var.option="$component"\n>\n<label class="fv__ui-scenario-option-radio-box">\n<input type="radio" @prop.checked="option.isChecked" @init="option.radioInput = $component" @on.change="option.onUserCheckThis()">\n<span class="fv__ui-scenario-option-label">\n@{option.text}\n<span slot="label"></span>\n</span>\n</label>\n<div class="fv__ui-scenario-option-body" body @class="{\'fv__ui-scenario-option-checked\': option.isChecked}" @init="option.body=$component"></div>\n</div>\n'}},5322:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'\x3c!-- FIXME the label div must be here --\x3e\n<div>\n<contextmenu name="fv--sidebar-contextmenu" class="sidebar-contextmenu-wrap" @controller="sidebar:SidebarContextmenuController">\n<contextmenu-item name="sidebar-contextmenu-bookmarks" icon-class="fv__icon-sidebar-bookmark" @controller="sidebar:SidebarContextmenuItemController"\naction="bookmarks">contextmenu.sidebar.bookmarks</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-pages" icon-class="fv__icon-sidebar-thumbnail" @controller="sidebar:SidebarContextmenuItemController"\naction="pages">contextmenu.sidebar.pages</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-comments" icon-class="fv__icon-sidebar-comment-list" @controller="sidebar:SidebarContextmenuItemController"\naction="comments">contextmenu.sidebar.comments</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-layers" icon-class="fv__icon-sidebar-page-manager" @controller="sidebar:SidebarContextmenuItemController"\naction="layers">contextmenu.sidebar.layers</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-attachments" icon-class="fv__icon-sidebar-attachment" @controller="sidebar:SidebarContextmenuItemController"\naction="attachments">contextmenu.sidebar.attachment</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-fields" icon-class="fv__icon-sidebar-field" @controller="sidebar:SidebarContextmenuItemController"\naction="fields">contextmenu.sidebar.fields</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-articles" icon-class="fv__icon-sidebar-articles" @controller="sidebar:SidebarContextmenuItemController"\naction="articles">contextmenu.sidebar.articles</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-signatures" icon-class="fv__icon-sidebar-signature" @controller="sidebar:SidebarContextmenuItemController"\naction="signatures">contextmenu.sidebar.signatures</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-destinations" icon-class="fv__icon-sidebar-destinations" @controller="sidebar:SidebarContextmenuItemController"\naction="destinations">contextmenu.sidebar.destinations</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item class="sidebar-contextmenu-no-icon" shortcut="F4"\n@controller="sidebar:SidebarContextmenuToggleNavigationPanelsController" action="hide">\ncontextmenu.sidebar.hideNavigationPanels</contextmenu-item>\n<contextmenu-item class="sidebar-contextmenu-no-icon" @controller="sidebar:SidebarContextmenuResetAllPanelsController">\ncontextmenu.sidebar.resetAllPanels</contextmenu-item>\n</contextmenu>\n</div>'}},1660:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-sidebar-ctls" name="sidebar-tabs">\n<a class="fv__ui-sidebar-toggler"></a>\n<div class="fv__ui-sidebar-nav">\n</div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n<span class="toggler" aria-hidden="true"></span>\n</div>'}},9059:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__action-dialog" >\n   <div class="fv__action-dialog-header">\n  <div class="fv__action-dialog-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.title")),t+='</div>\n  <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__action-dialog-body">\n  <div class="fv__action-dialog-select">\n <span class="fv__action-dialog-select-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectKey")),t+='</span>\n <select id="select-action">\n<option value="TypeGoto">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.goto")),t+='</option>\n<option value="TypeURI">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),t+='</option>\n </select>\n  </div>\n  <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n <div class="fv__action-dialog-url-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.URLAction.title")),t+='</div>\n <div class="fv__action-dialog-url-input">\n<input class="fv__action-dialog-input" id="url-input"/>\n </div>\n  </div>\n  <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\n <div class="fv__action-dialog-goto-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.title")),t+='</div>\n <div class="fv__action-dialog-goto-container">\n<div class="fv__action-dialog-goto-center">\n   <div class="fv__action-dialog-goto-left">\n  <div class="fv__action-dialog-goto-target">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.target")),t+=':</div>\n   </div>\n   <div class="fv__action-dialog-goto-right">\n  <div class="fv__action-dialog-goto-input">\n <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\n  </div>\n  <div class="fv__action-dialog-goto-position">\n <span class="fv__action-dialog-goto-position-left">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.left")),t+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\n <span class="fv__action-dialog-goto-position-top">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.top")),t+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\n  </div>\n   </div>\n</div>\n </div>\n  </div>\n   </div>\n   <div class="fv__action-dialog-footer">\n  <div class="fv__action-dialog-btns">\n  <button type="button" class="fv__action-btn fv__action-btn-ok">',t+=n(i.i18n("viewer_:dialog.actionDialog.OK")),t+='</button>\n  <button type="button" class="fv__action-btn fv__action-btn-cancel ">',t+=n(i.i18n("viewer_:dialog.actionDialog.Cancel")),t+="</button>\n  </div>\n   </div>\n</dialog>"}},875:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\n   <div class="fv__place-redaction-dialog-header">\n  <div class="fv__place-redaction-dialog-title">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.title")),t+='</div>\n  <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__place-redaction-dialog-body">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.allPage")),t+='</span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),t+='</span>\n<div class="fv__redaction-range">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),t+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',t+=n(e),t+='"/></div>\n</label>\n</div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.OK")),t+='</button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),t+="</button>\n</div>\n   </div>\n</dialog>"}},5100:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).disabledAttr,r=e.disabled,o=e.i18nRoot,a=e.hlm,s=e.endingStyle,A=e.borderWidth,c=i.$escape,u=e.minBorderWidth,l=e.borderStyle,d=e.cloudy,h=e.highlightingMode,f=e.rotation,p=e.fillColor,g=e.checked,v=e.strFillColor,m=e.color,y=e.lineStartStyle,_=e.startStyle,b=e.lineEndStyle,w=e.endStyle,k=e.hasCap,x=(e.hasCapChecked,e.opacity);t+='<div class="fv__annot-properties-dialog">\n<div>\n';n=r?"disabled=disabled":"",a=(o="viewer_:dialog.")+"highlightingMode.",s=o+"endingStyle.";if(t+="\n",void 0!==A&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"borderWidth")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="thickness-input-tx" type="number"\n   min="',t+=c(null!=u?u:1),t+='" max="12" step="1" value="',t+=c(A),t+='"\n   ',t+=c(n),t+='>\n<input id="thickness-input" type="range"\n   value="',t+=c(A),t+='" min="1" max="12" step="1"\n   ',t+=c(n),t+=">\n</div>\n</div>\n"),!1!==l&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"borderStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="borderStyle-select" ',t+=c(n),t+='>\n<option value="0">———————————</option>\n<option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\n<option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\n<option value="3">—  —  —  —  —  —  —  —  —</option>\n<option value="4">—  -  —  -  —  -  —  -  —  -  —  -</option>\n<option value="5">——  -  ——  -  ——  -  ——  -</option>\n<option value="6">-   ———   -   ———   -   ———</option>\n',!0===d&&(t+='\n<option value="7">﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋</option>\n<option value="8">~~~~~~~~~~~~~~~~~~~</option>\n'),t+="\n</select>\n</div>\n</div>\n"),void 0!==h&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(a+"title")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="highlighting-select" ',t+=c(n),t+='>\n<option value="0">',t+=c(i.i18n(a+"none")),t+='</option>\n<option value="1">',t+=c(i.i18n(a+"invert")),t+='</option>\n<option value="2">',t+=c(i.i18n(a+"outline")),t+='</option>\n<option value="3">',t+=c(i.i18n(a+"push")),t+='</option>\n<option value="4">',t+=c(i.i18n(a+"toggle")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==f&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"rotate")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="rotation-select" ',t+=c(n),t+='>\n<option value="0">0</option>\n<option value="1">90</option>\n<option value="2">180</option>\n<option value="3">270</option>\n</select>\n</div>\n</div>\n'),void 0!==p){g="",r="",v=p;if(0==p)r="disabled=1",g="checked=1",v="#FFFFFF";else{for(v=(p&=16777215).toString(16);v.length<6;)v="0"+v;v="#"+v}t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"fillColor")),t+='</span>\n\n<div class="fv__property-item-field-container">\n<input id="fillcolor-input" type="color" value="',t+=c(v),t+='" ',t+=c(r),t+=" ",t+=c(n),t+='>\n\n<label>\n<input id="fillColor-transparent-input" type="checkbox" ',t+=c(g),t+=" ",t+=c(n),t+=">\n",t+=c(i.i18n(o+"transparent")),t+="\n</label>\n</div>\n</div>\n"}(void 0!==m&&(0===m&&(m="#ffffff"),t+='\n<div class="fv__property-item">\n<label>\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"color")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="color-input" type="color" value="',t+=c(m),t+='" ',t+=c(n),t+=">\n</div>\n</label>\n</div>\n"),y&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"startStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="startstyle-select" value="',t+=c(_),t+='" ',t+=c(n),t+='>\n<option value="0">',t+=c(i.i18n(s+"none")),t+='</option>\n<option value="1">',t+=c(i.i18n(s+"square")),t+='</option>\n<option value="2">',t+=c(i.i18n(s+"circle")),t+='</option>\n<option value="3">',t+=c(i.i18n(s+"diamond")),t+='</option>\n<option value="4">',t+=c(i.i18n(s+"openArrow")),t+='</option>\n<option value="5">',t+=c(i.i18n(s+"closedArrow")),t+='</option>\n<option value="6">',t+=c(i.i18n(s+"butt")),t+='</option>\n<option value="7">',t+=c(i.i18n(s+"reverseOpenArrow")),t+='</option>\n<option value="8">',t+=c(i.i18n(s+"reverseClosedArrow")),t+='</option>\n<option value="9">',t+=c(i.i18n(s+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),b&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"endStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="endstyle-select" value="',t+=c(w),t+='" ',t+=c(n),t+='>\n<option value="0" >',t+=c(i.i18n(s+"none")),t+='</option>\n<option value="1" >',t+=c(i.i18n(s+"square")),t+='</option>\n<option value="2" >',t+=c(i.i18n(s+"circle")),t+='</option>\n<option value="3" >',t+=c(i.i18n(s+"diamond")),t+='</option>\n<option value="4" >',t+=c(i.i18n(s+"openArrow")),t+='</option>\n<option value="5" >',t+=c(i.i18n(s+"closedArrow")),t+='</option>\n<option value="6" >',t+=c(i.i18n(s+"butt")),t+='</option>\n<option value="7" >',t+=c(i.i18n(s+"reverseOpenArrow")),t+='</option>\n<option value="8" >',t+=c(i.i18n(s+"reverseClosedArrow")),t+='</option>\n<option value="9" >',t+=c(i.i18n(s+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==k)&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-only-field-container">\n<input id="hasCap-input" type="checkbox" ',t+=c(k?"checked=true":""),t+=" ",t+=c(n),t+=">\n",t+=c(i.i18n(o+"hasCap")),t+="\n</label>\n</div>\n");return!1!==x&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-name-container">',t+=c(i.i18n(o+"opacity")),t+='</label>\n<div class="fv__property-item-field-container">\n<input id="opacity-input" type="range" value="',t+=c(x),t+='" min="0" max="1" step="0.01" ',t+=c(n),t+=">\n</div>\n</div>\n"),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=c(i.i18n(o+"close")),t+="</button>\n</div>\n</div>"}},4637:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.disableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input type="checkbox" name="trustToClose">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.rememberTime")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.play")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.reject")),t+="</button>\n  </div>\n</dialog>"}},1160:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=(e.pointIndex,i.$escape);for(n=0;n<e.anchorCount;n++){t+="\n";t+='\n<div class="fv__pdf-annot-line-point" data-index="',t+=r(n),t+='"><div class="fv__pdf-annot-line-point-item"></div></div>\n'}return t+="\n\n",e.isLineDimension&&(t+='\n<div class="fv__pdf-annot-line-caption" data-index="caption">',t+=r(e.captionText),t+="</div>\n"),t}},1583:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M7.2,14.9H3.7c-.4,0-.7.3-.8.8V28.5c0,.4.3.7.8.8H7.2c.4,0,.7-.3.8-.8V15.7C7.9,15.2,7.6,14.9,7.2,14.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.8,7.9h3.5a.79.79,0,0,1,.8.8V28.5a.79.79,0,0,1-.8.8H10.8a.79.79,0,0,1-.8-.8V8.7C10.1,8.3,10.4,7.9,10.8,7.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M25.1,8h3.5a.79.79,0,0,1,.8.8V28.6a.79.79,0,0,1-.8.8H25.1a.79.79,0,0,1-.8-.8V8.8A.86.86,0,0,1,25.1,8Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M17.9,19.9h3.5a.79.79,0,0,1,.8.8v7.8a.79.79,0,0,1-.8.8H17.9a.79.79,0,0,1-.8-.8V20.7C17.2,20.2,17.5,19.9,17.9,19.9Z"/>\n</svg>'}},6283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 56">\n  <path stroke="#3f3f3f" transform="rotate(-44 14.147195816040043,29.311956405639645) " d="m22.48496,6.139239a10.573254,11.136632 0 0 1 3.338127,0.652288a9.244045,9.736598 0 0 1 5.769976,9.259314a9.4253,9.927512 0 0 1 -2.733941,7.127445l-18.503194,19.727748a6.585627,6.936531 0 0 1 -1.827662,1.272758a4.380348,4.613748 0 0 1 -2.129755,0.572741a5.603824,5.902415 0 0 1 -2.114651,-0.572741a5.55851,5.854687 0 0 1 -1.510465,-1.272758a6.177801,6.506975 0 0 1 -1.208372,-1.925046a4.531394,4.772842 0 0 1 -0.302093,-2.227326a8.307556,8.750211 0 0 1 1.510465,-4.168282l16.977624,-18.534538a2.326116,2.450059 0 0 1 1.223476,-0.636379a2.311011,2.43415 0 0 1 1.510465,0.636379a1.706825,1.797771 0 0 1 0.619291,1.288667a2.054232,2.163689 0 0 1 -0.619291,1.590947l-17.294822,18.216348a2.311011,2.43415 0 0 0 -0.604186,1.590947a1.9485,2.052322 0 0 0 1.782348,1.940956a1.510465,1.590947 0 0 0 1.223476,-0.636379l18.533403,-19.823205a5.060057,5.329674 0 0 0 1.510465,-4.168282a6.404371,6.745617 0 0 0 -1.510465,-4.152373a4.531394,4.772842 0 0 0 -3.64022,-1.909137a4.863697,5.122851 0 0 0 -3.957418,1.909137l-18.503194,19.807296a11.14723,11.741192 0 0 0 -2.114651,3.181895a9.334672,9.832055 0 0 0 0,7.381996a11.14723,11.741192 0 0 0 2.114651,3.181895a8.790905,9.259314 0 0 0 6.343952,2.879615a8.594545,9.052491 0 0 0 6.404371,-2.879615l18.820391,-19.489106a1.510465,1.590947 0 0 1 1.208372,-0.636379a1.842767,1.940956 0 0 1 1.208372,0.636379a1.616197,1.702314 0 0 1 0.619291,1.288667a1.510465,1.590947 0 0 1 -0.619291,1.272758l-18.503194,19.807296a14.878078,15.670832 0 0 1 -4.244406,3.181895a12.400916,13.061679 0 0 1 -4.863697,0.970478a12.325393,12.982131 0 0 1 -4.848592,-0.970478a9.87844,10.404796 0 0 1 -4.244406,-3.181895a12.400916,13.061679 0 0 1 -2.733941,-4.470562a13.760334,14.493531 0 0 1 -0.906279,-5.106941a15.512474,16.33903 0 0 1 0.906279,-5.44104a12.627486,13.300321 0 0 1 2.733941,-4.470562l18.503194,-19.807296a9.379986,9.879784 0 0 1 6.676254,-2.895524z" stroke-miterlimit="10" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/>\n</svg>\n'}},6852:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.9,20.3h0l-.1-.1-.1-.1-4.9-5.2h0V4.1H23a.94.94,0,0,0,1-1V2.5a.94.94,0,0,0-1-1H8.4a.94.94,0,0,0-1,1v.6a.94.94,0,0,0,1,1H9.7V14.9h0l-5,5.2-.1.1-.1.1h0c-.1.1-.1.2-.1.4a.79.79,0,0,0,.8.8H15v8.6a1,1,0,0,0,.8.9h0a1.22,1.22,0,0,0,.8-.9V21.5h9.7a.77.77,0,0,0,.8-.7v-.1A.76.76,0,0,1,26.9,20.3Z"/>\n</svg>'}},8807:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.2,20.4,13.6,2.4H3L2.4,3v9.4L19.5,31l1.1-.2L30,21.5ZM6.2,7.5A1.75,1.75,0,0,1,4.5,5.8,1.75,1.75,0,0,1,6.2,4.1,1.75,1.75,0,0,1,7.9,5.8,1.69,1.69,0,0,1,6.2,7.5Z"/>\n</svg>'}},3110:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M2.56,16.77a1,1,0,0,1,0-1.41L6.5,11.42a1,1,0,0,1,1.41,0l5.75,5.75a1,1,0,0,0,1.41,0h0l9.43-9.43a1,1,0,0,1,1.41,0l3.94,3.94a1,1,0,0,1,0,1.41L15.08,27.88a1,1,0,0,1-1.41,0Z"/>\n</svg>'}},7308:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16,2A14.13,14.13,0,0,0,1.77,16,14.12,14.12,0,0,0,16,29.94,14.13,14.13,0,0,0,30.32,16h0A14.13,14.13,0,0,0,16.06,2Zm0,26a12,12,0,1,1,.09,0Z"/>\n</svg>'}},3856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.6,2H4.75a3,3,0,0,0-3,3V21.63a3,3,0,0,0,3,3H6.2l1.22,6.24V31l6.37-6.37H27.6a3,3,0,0,0,3-3V5A3,3,0,0,0,27.6,2Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.24,6.92a.52.52,0,0,1-.52.52H6.22a.52.52,0,0,1-.52-.52h0a.52.52,0,0,1,.52-.52h20.5a.52.52,0,0,1,.52.52Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.35,12.07a.51.51,0,0,1-.5.52H6.33a.51.51,0,0,1-.51-.51h0a.51.51,0,0,1,.51-.51H26.84a.51.51,0,0,1,.51.51Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M22,17.19c0,.29-.18.52-.39.52H6.2c-.22,0-.39-.23-.39-.52h0c0-.28.17-.52.39-.52H21.63c.21,0,.39.24.39.52Z"/>\n</svg>'}},4814:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24,1.4a1.55,1.55,0,0,0-2.18,0L17.17,6A1.55,1.55,0,0,1,15,6L10.35,1.4a1.55,1.55,0,0,0-2.18,0L1.59,8a1.55,1.55,0,0,0,0,2.18L6.22,14.8a1.56,1.56,0,0,1,0,2.19l-4.63,4.6a1.56,1.56,0,0,0,0,2.19l6.58,6.58a1.56,1.56,0,0,0,2.19,0L15,25.73a1.56,1.56,0,0,1,2.19,0l4.62,4.63a1.55,1.55,0,0,0,2.18,0l6.58-6.58a1.56,1.56,0,0,0,0-2.19L25.93,17a1.55,1.55,0,0,1,0-2.18h0l4.62-4.62a1.55,1.55,0,0,0,0-2.18Z"/>\n</svg>'}},9797:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.68,16.17A14.48,14.48,0,1,1,16.19,1.7h0A14.47,14.47,0,0,1,30.68,16.17Z"/>\n<path fill="#fff" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M11.23,13.28c0-2.28.95-5.29,5-5.29,3.2,0,5,2,5,4a4.9,4.9,0,0,1-1.35,3.6c-1.59,1.58-1.8,2.38-1.8,3.84h0c0,.19-.5.35-1.12.35H15.51c-.61,0-1.11-.32-1.11-.71a7.58,7.58,0,0,1,.33-1.77,11.61,11.61,0,0,1,1.21-2.63c.32-.41,1.56-.95,1.56-2.33,0-.88-.37-1.37-1.35-1.37C15.33,11,15,12.2,15,12.2a1.51,1.51,0,0,1-1.38,1.08Zm3.17,9a1.13,1.13,0,0,1,1.11-1.12h1.43a1.12,1.12,0,0,1,1.12,1.12h0V24a1.12,1.12,0,0,1-1.12,1.12H15.51A1.13,1.13,0,0,1,14.4,24Z"/>\n</svg>'}},4739:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.16,24.36,17.49,6.08a2,2,0,0,0-1.64-.92,2,2,0,0,0-1.63.92L1.55,24.36a2.06,2.06,0,0,0-.41,1.19,1.56,1.56,0,0,0,1.29,1.54H29.28a1.56,1.56,0,0,0,1.29-1.54A2.06,2.06,0,0,0,30.16,24.36Z"/>\n</svg>'}},1158:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.65,5.25A9.26,9.26,0,0,0,12.4,15L3,24.32a4.53,4.53,0,0,0-1.15,2.8v1.67a2,2,0,0,0,2,2h1.7a4.3,4.3,0,0,0,2.74-1.1,3.53,3.53,0,0,0,1-2.29.89.89,0,0,0,0-.23v-.05a.23.23,0,0,1,.07-.19.4.4,0,0,1,.28-.08,1.86,1.86,0,0,0,2-1.48.63.63,0,0,1,.46-.53,1.57,1.57,0,0,0,1.44-1.66v-.09a.38.38,0,0,1,0-.15h.18a2,2,0,0,0,2.15-.59,12.55,12.55,0,0,1,1.31-1.51l.46-.47a9.23,9.23,0,0,0,10-15.09Zm-2.1,4.86a1.92,1.92,0,1,1,0-2.72h0A1.93,1.93,0,0,1,25.55,10.11Z"/>\n</svg>'}},2186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n points="5.88 28.59 4.82 24.23 5.06 5.18 6 2.71 9.65 2.59 19.29 3.06 21.65 4.47 25.41 7.76 25.65 9.53 26.1 21.8 25.52 28.58 23.53 29.29 9.41 28.94 5.88 28.59"/>\n<path fill="#3f3f3f"\n  d="M22.26,18.19a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.34.34,0,0,1,.33-.35h13.2a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,21.8a.35.35,0,0,1-.35.35H8.73a.34.34,0,0,1-.35-.33v0h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.14,25.18a.35.35,0,0,1-.35.35H8.61a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.79a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,14.69a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M24.48,30.13H6.3A2.28,2.28,0,0,1,4,27.87V4.07A2.28,2.28,0,0,1,6.29,1.8H20.41l.14.13.13.14,5.8,5.69.14.13.14.14V27.85a2.28,2.28,0,0,1-2.28,2.28ZM6.73,3.83a.82.82,0,0,0-.81.81V27.29a.82.82,0,0,0,.81.8H24a.81.81,0,0,0,.82-.8h0V9.69H18.29V3.83ZM20.29,7.69h3.25L20.29,4.5Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M23.28,28.58A.58.58,0,0,1,22.7,28V26.36a.58.58,0,0,0-.58-.58H20.48a.58.58,0,0,1-.58-.58V23a.58.58,0,0,1,.58-.58h1.64a.58.58,0,0,0,.58-.58V20.17a.6.6,0,0,1,.58-.59h2.24a.6.6,0,0,1,.58.59V21.8a.58.58,0,0,0,.58.58h1.63a.58.58,0,0,1,.58.58V25.2a.58.58,0,0,1-.58.58H26.68a.58.58,0,0,0-.58.58V28a.58.58,0,0,1-.58.58Z"/>\n</svg>'}},927:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=(0,i.$escape)(e.fillColor),t+='"\n points="6.35 4 5.88 28.59 7.53 29.77 19.88 29.41 22 28.82 26.23 24.47 27.06 10.94 26.71 3.41 24.94 2.47 6.71 3.06 6.35 4"/>\n<path fill="#3f3f3f"\n  d="M23.17,16.73a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,13a.36.36,0,0,0-.36-.36H9.33A.36.36,0,0,0,9,13H9a.37.37,0,0,0,.36.35H22.81A.37.37,0,0,0,23.17,13Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,9.35A.37.37,0,0,0,22.81,9H9.33A.37.37,0,0,0,9,9.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,20.31a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M25.62,2a2.32,2.32,0,0,1,2.32,2.32V24.63l-.14.14-.14.13-5.93,5.82-.14.14-.14.14H7a2.32,2.32,0,0,1-2.32-2.32h0V4.34A2.32,2.32,0,0,1,7,2H25.62ZM7.46,28.92H19.28v-6H26v-18a.83.83,0,0,0-.83-.83H7.46a.83.83,0,0,0-.83.83V28.09A.83.83,0,0,0,7.46,28.92Zm13.87-4v3.27L24.65,25Z"/>\n</svg>'}},5984:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.36,2.52A7.93,7.93,0,0,0,9,2.77H9A6.45,6.45,0,0,0,4.51,9.1a6.52,6.52,0,0,0,6.23,6.77H11V29.19l1.49.69v.95h2.1L14.54,6h3.54V29.19l1.5.69v.95h2.09L21.59,6h3.7V2.52Z"/>\n</svg>'}},1490:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M28.87,16.67a.82.82,0,0,0,.3-1.12.86.86,0,0,0-.3-.3L13.94,4.65c-.54-.39-1-.16-1,.52V9.78A1.22,1.22,0,0,1,11.73,11H4.32a1.22,1.22,0,0,0-1.21,1.22v7.49a1.22,1.22,0,0,0,1.21,1.22h7.41a1.21,1.21,0,0,1,1.21,1.21h0v4.61c0,.67.46.9,1,.52Z"/>\n</svg>'}},9856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M29,16h0a1.3,1.3,0,0,0-.07-.33c0-.42-.84-1.16-1.28-1.43L7.17,2a1.76,1.76,0,0,0-1.32-.26h0A1.16,1.16,0,0,0,5.33,2h0l7.25,14L5.33,30h0a1.09,1.09,0,0,0,.52.27h0A1.76,1.76,0,0,0,7.17,30L27.63,17.83c.44-.27,1.28-1,1.28-1.43a1.3,1.3,0,0,0,.07-.33h0Z"/>\n</svg>'}},7156:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24.28,29.33A2.58,2.58,0,0,1,23.1,29l-4.89-2.64A3.73,3.73,0,0,0,16.47,26a3.7,3.7,0,0,0-1.73.37L9.85,29a2.56,2.56,0,0,1-1.18.34,1.43,1.43,0,0,1-1.14-.52,2,2,0,0,1-.33-1.75l1-5.47a4.17,4.17,0,0,0-1.08-3.3l-4-3.84a1.88,1.88,0,0,1-.7-2,1.84,1.84,0,0,1,1.72-1.17l5.5-.74a4.22,4.22,0,0,0,2.81-2l2.4-5a1.87,1.87,0,0,1,1.64-1.26,1.87,1.87,0,0,1,1.64,1.26l2.41,5a4.15,4.15,0,0,0,2.8,2l5.51.74a1.85,1.85,0,0,1,1.71,1.17,1.83,1.83,0,0,1-.7,2l-4,3.84a4.14,4.14,0,0,0-1.07,3.29l1,5.47a2,2,0,0,1-.33,1.75,1.43,1.43,0,0,1-1.14.52Z"/>\n</svg>'}},9649:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16.49,3.74a.78.78,0,0,0-1.07-.28.75.75,0,0,0-.28.28L5,18.08c-.37.52-.15,1,.49,1H9.91a1.17,1.17,0,0,1,1.17,1.17h0v7.1a1.18,1.18,0,0,0,1.17,1.16h7.18a1.17,1.17,0,0,0,1.17-1.17h0v-7.1A1.17,1.17,0,0,1,21.7,19h4.51c.64,0,.86-.43.48-.95Z"/>\n</svg>'}},7283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10" \n  d="M7.4,5C7,4.8,6.6,5,6.4,5.4c-0.1,0.1-0.1,0.3,0,0.4l1.3,17.5c0,0.6,0.5,0.8,1,0.4l3.4-2.8\n\tc0.5-0.4,1.2-0.3,1.6,0.2c0,0,0,0,0,0l4.5,5.5c0.4,0.5,1.1,0.6,1.6,0.2c0,0,0,0,0,0l5.5-4.6c0.5-0.4,0.6-1.1,0.2-1.6c0,0,0,0,0,0\n\tL21,15.1c-0.4-0.5-0.3-1.2,0.1-1.6l3.4-2.8c0.5-0.4,0.4-0.9-0.2-1.1L7.4,5z"/>\n</svg>\n'}},8998:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="7.53" cy="27.68" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="25.53" cy="27.68" r="1"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.53,15.76V14.61A10,10,0,0,0,16.6,4.68h-.14a10,10,0,0,0-9.93,9.93v1.15a6.5,6.5,0,0,0,1,12.92l.68-.3.32-.7v-13a8,8,0,0,1,16,0v13l.35.61.65.39a6.5,6.5,0,0,0,1-12.92Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="10.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15.53" y="19.68" width="2" height="6" rx="0.99"/>\n</svg>'}},7697:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M9,12v2c0,4.4,2.6,8,7,8s7-3.6,7-8V12h2v2.07C25,19.53,21.53,24,16.07,24h-.14C10.47,24,7,19.53,7,14.07V12Z"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="8" cy="12" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="24" cy="12" r="1"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15" y="23" width="2" height="5" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="8" y="27" width="16" height="2" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="12" y="4" width="8" height="16" rx="3.95"/>\n</svg>'}},9291:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M18.7,4.62a5.88,5.88,0,0,0-3,1.79l-5.12,4.74H4.91a2,2,0,0,0-2,2v6.38a2,2,0,0,0,2,2h5.66l5.12,4.73a6,6,0,0,0,3,1.8.48.48,0,0,0,.51-.45V5.13C19.14,4.75,19,4.62,18.7,4.62Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="24" y="20.12" width="2" height="8" rx="0.99" transform="translate(-9.73 24.74) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.95" y="6.88" width="8" height="2" rx="0.99"\n  transform="translate(1.74 19.95) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="22" y="15" width="6" height="2" rx="0.99"/>\n</svg>'}},4252:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return e.length&&(r+='\n<label class="fv__label-block-text">',r+=o(i.i18n("viewer_:dialog.replies")),r+="</label>\n",t=n(1186)(e),r+=t,r+="\n"),r}},4210:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return r+='<li class="fv__replies_item"><span class="fv__replies_content">',r+=o(e.content),r+="</span>\n",t=n(1186)(e.replies),r+=t,r+="\n</li>"}},1186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$each;e.$value,e.$index;return e.length&&(t+='\n<ul class="fv__replies_list">\n',r(e,function(e,i){var r;t+="\n",r=n(4210)(e),t+=r,t+="\n"}),t+="\n</ul>\n"),t}},6912:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$escape,o=e.content,a=e.replies;return t+='<dialog class="fv__dialog fv__annot-reply-dialog">\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.content")),t+='</span>\n<textarea class="fv__block-textarea content-textarea">',t+=r(o),t+='</textarea>\n</label>\n</div>\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.reply")),t+='</span>\n<textarea class="fv__block-textarea reply-textarea"></textarea>\n</label>\n</div>\n<div class="fv__btn_reply_container">\n<button type="button" class="fv__btn fv__btn-reply" disabled>',t+=r(i.i18n("viewer_:dialog.reply")),t+='</button>\n</div>\n<div class="fv__dialog-replies-block">\n',function(e){t+=e}(n(4252)(a)),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=r(i.i18n("viewer_:dialog.close")),t+="</button>\n</div>\n</dialog>"}},269:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__text-boundary fv__text-boundary-',t+=(0,i.$escape)(e.direction),t+='">\n<div class="fv__text-boundary-blank">\n<div class="fv__text-boundary-cursor"></div>\n<div class="fv__text-boundary-sign"></div>\n</div>\n</div>'}},7539:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="websdk-modal fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.enableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input component-type=input type="radio" name="trustMode" value="one" checked>\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustOneTime")),t+='</span>\n  </label>\n  <label>\n  <input component-type=input type="radio" name="trustMode" value="always">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustAlways")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button component-type="button" type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.ok")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.cancel")),t+="</button>\n  </div>\n</dialog>"}},4563:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+="<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n  <script>\nwindow.initJS = function (PDFJSGlobal) {\n  const standardGlobalVariables = [\n  'app', 'event', 'doc',\n  'this', 'util', 'catalog',\n  'color', 'console', 'dbg'\n  ];\n  standardGlobalVariables.forEach(function(key) {\nObject.defineProperty(window, key, {\nget: function(){\nreturn PDFJSGlobal[key];\n},\nset: function(value){\nPDFJSGlobal[key] = value;\n}\n})\n  });\n  window.PDFJSGlobal = new Proxy(PDFJSGlobal, {\nhas: function(target, key) {\nreturn Reflect.has(target, key);\n},\nget: function(target, key) {\nreturn Reflect.get(target, key);\n},\nset: function(target, key, value) {\nReflect.set(target, key, value);\nif(standardGlobalVariables.indexOf(key) === -1) {\nReflect.set(window, key, value);\n}\n}\n  })\n  function appClosure() {\nfor (var i in window) {\n  if (i != 'PDFJSGlobal'\n&& i != 'location'\n&& i != 'window'\n&& i != 'appClosure') {\n  try {\neval('var ' + i + '=null');\n  } catch (ex) {}\n  }\n}\nvar proto = Object.getPrototypeOf ? Object.getPrototypeOf(window.PDFJSGlobal.doc) : window.PDFJSGlobal.doc.__proto__;\nObject.getOwnPropertyNames(proto).forEach(function (key) {\n  if (key === \"constructor\") return;\n  var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n  if(typeof descriptor.value === 'function') {\nwindow[key] = function () {\n  return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc, arguments)\n}\n  } else {\n  if(window[key]){window[key] = window.PDFJSGlobal.doc[key];return}\nObject.defineProperty(window, key, {\n  get: function () {\nreturn window.PDFJSGlobal.doc[key];\n  }, set: function (val) {\nwindow.PDFJSGlobal.doc[key] = val\n  }\n})\n  }\n})\n\nreturn {\n  docClosure: function (f) {\n  var self = {};\n  for (var i in window) {\n  self[i] = undefined;\n  }\n  self.PDFJSGlobal = window.PDFJSGlobal;\n  with(self) {\n  with (PDFJSGlobal) {\n  with (PDFJSGlobal.doc) {\n  try {\n  eval(f);\n  } catch (e) {\n  //",t+=(0,i.$escape)(e.log||""),t+="&&console.warn(e)\n  }\n  return function(f) {\n  var self = {};\n  for (var i in window) {\n  self[i] = undefined;\n  }\n  with (self) {\n  return eval(f)\n  }\n  }\n  }\n  }\n  }\n  }\n}\n  }\n  window.__appClosure__ = appClosure();\n}\n\nwindow.runJS = function (data, engineEvent) {\n  var doc = window.PDFJSGlobal.doc;\n  window.PDFJSGlobal.event = engineEvent;\n\n  doc.timeStamp = engineEvent && engineEvent.timeStamp;\n\n  var resetDocClosure = function () {\nconst guessVariableNames = Array.from(new Set(data.code.split(/\\W/))).filter(name => {\nif(!doc.exec) {\ndoc.exec = window.__appClosure__.docClosure('');\n}\ntry {\ndoc.exec(name);\nreturn false\n} catch (error) {\nreturn true\n}\n});\ndoc.exec = window.__appClosure__.docClosure.call(doc, data.code);\nguessVariableNames.forEach(name => {\ntry {\nconst value = doc.exec(name);\ndoc[name] = value;\n} catch (error) {\n// IGNORE\n}\n})\n  }\n  if(typeof data.code === 'string')\n  data.code = data.code.replace(/window\\.open/g, ''); //Sanitize window.open\n  switch (data.action) {\ncase 'execute':\n  doc.exec(data.code, data, engineEvent);\n  break;\ncase 'reset':\n  resetDocClosure();\n  return;\ndefault:\n  if (data.global) { // 兼容旧版本\nreturn resetDocClosure();\n  }\n  }\n  window.PDFJSGlobal.event = null;\n}\n  <\/script>\n</head>\n\n<body>\n</body>\n\n</html>\n"}},8272:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__ui-print-process">\n<div class="fv__ui-print-process-title">',t+=(0,i.$escape)(e.title),t+='</div>\n<div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\n<div class="fv__ui-print-process-bar">\n<div class="fv__ui-print-process-percent"></div>\n</div>\n</div>'}},1885:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv-callout">\n<div class="fv__shape-control callout">\n<canvas class="fv__shape-control-previewer"></canvas>\n<div class="fv__shape-control-move-area"></div>\n<div class="fv__shape-control-inner-area">\n<div class="fv__shape-controller callout left text"></div>\n<div class="fv__shape-controller callout top text"></div>\n<div class="fv__shape-controller callout right text"></div>\n<div class="fv__shape-controller callout bottom text"></div>\n</div>\n<div class="fv__shape-control-text-area"></div>\n<div class="fv__shape-controller callout calloutStart"></div>\n<div class="fv__shape-controller callout calloutKnee"></div>\n</div>\n</div>'}},8012:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.previewer,o=e.moveable,a=e.resizable,s=e.enableFrame,A=e.enableDiagonally,c=e.enableSizeBox,u=e.rotatable,l=e.degreeInitVisibility;return t+='<div class="fv__shape-control">\n<canvas class="fv__shape-control-previewer" ',t+=n(r?"":"style=display:none"),t+=" ></canvas>\n",o&&(t+='\n<div class="fv__shape-control-move-area"></div>\n'),t+='\n<div class="fv__shape-controller-resizable-wrap" ',t+=n(a?"":"style=visibility:hidden"),t+=" >\n",s&&(t+='\n<div class="fv__shape-controller" direction="north"></div>\n<div class="fv__shape-controller" direction="south"></div>\n<div class="fv__shape-controller" direction="west"></div>\n<div class="fv__shape-controller" direction="east"></div>\n'),t+="\n",A&&(t+='\n<div class="fv__shape-controller" direction="north-west"></div>\n<div class="fv__shape-controller" direction="north-east"></div>\n<div class="fv__shape-controller" direction="south-west"></div>\n<div class="fv__shape-controller" direction="south-east"></div>\n'),t+="\n",c&&(t+='\n<div class="fv__shape-size"></div>\n'),t+="\n</div>\n",u&&(t+='\n<div class="fv__shape-rotate">\n<div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\n<div class="fv-shape-rotate-degree" ',t+=n(l?"":"style=visibility:hidden"),t+=' ></div>\n<div class="fv-shape-rotate-bound"></div>\n</div>\n'),t+="\n</div>"}},564:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";var t="";return t+='<div class="fv__rendering-container" >\n',t+=(e=e||{}).isIE?'\n<ul class="fv__loading-animation">\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n':'\n<div class="fv__rendering-svg" aria-live="assertive" aria-busy="true"></div>\n',t+="\n</div>"}},5143:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-progress-layer">\n<div class="fv__ui-progress-icon"></div>\n<span class="fv__ui-progress-text"></span>\n</div>'}},3013:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$each,r=e.actions,o=(e.$value,e.$index,i.$escape);return t+='<div class="fv__selection-tool-tip-container" tabindex="0">\n\x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\n<div class="fv__selection-tool-tip-items">\n',n(r,function(e,n){t+='\n<div class="fv__selection-tool-tip-item ',t+=o(e.iconClass),t+='" action="',t+=o(e.name),t+='"></div>\n'}),t+="\n</div>\n\x3c!--</div>--\x3e\n</div>"}},9901:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<audio class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='"  poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload" style="width: 100%; height: 100%;">Your browser does not support the audio tag.</audio>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},5680:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__pdf-viewer-layout">\r\n<div class="fv__pdf-viewer-rendering"></div>\r\n<div class="fv__pdf-viewer-container"></div>\r\n<div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},2843:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<video class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},973:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n(1);var i={isFirefox:function(){return"undefined"!=typeof InstallTrigger},getFirefoxMajorVersion:function(e){var t=(e=e||navigator.userAgent).toLowerCase().match(/firefox\/(\S+)/);if(t)return t[1].split(".").map(function(e){return parseInt(e)})[0]},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}},r=i,o={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),n.appendChild(i);var r=document.createElement("span");r.setAttribute("class","printSpinner"),n.appendChild(r);var a=document.createTextNode(e.modalMessage);n.appendChild(a),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",function(){o.close()})},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}},a=o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function A(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e,t){for(var n=0;n<e.length;n++)if("object"===s(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function u(e,t){var n=document.createElement("div");if(h(t.header))n.innerHTML=t.header;else{var i=document.createElement("h1"),r=document.createTextNode(t.header);i.appendChild(r),i.setAttribute("style",t.headerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes[0])}function l(e,t){var n=document.createElement("div");if(h(t.footer))n.innerHTML=t.footer;else{var i=document.createElement("h1"),r=document.createTextNode(t.footer);i.appendChild(r),i.setAttribute("style",t.footerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes.lastChild)}function d(e){e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(r.isChrome()||r.isFirefox())&&(t="focus"),window.addEventListener(t,function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var i=document.getElementById(e.frameId);i&&(e.frameRemoveDelay?setTimeout(function(){i.remove()},e.frameRemoveDelay):i.remove())})}function h(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}function f(e,t){try{if(r.isEdge()||r.isIE())try{e.focus(),e.contentWindow.document.execCommand("print",!1,null),d(t)}catch(n){setTimeout(function(){e.focus(),e.contentWindow.print(),d(t)},1e3)}else setTimeout(function(){e.focus(),e.contentWindow.print(),d(t)},1e3)}catch(e){t.onError(e)}finally{r.isFirefox()&&r.getFirefoxMajorVersion()<110&&(e.style.visibility="hidden",e.style.left="-1px")}}var p={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var i=document.createElement("style");i.innerHTML=e.style,t.head.appendChild(i)}var o=t.getElementsByTagName("img");o.length>0?function(e){var t=e.map(function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise(function(t){!function n(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()})}(e)});return Promise.all(t)}(Array.from(o)).then(function(){return f(n,e)}):f(n,e)}else r.isFirefox()&&r.getFirefoxMajorVersion()<110||r.isSafari()?setTimeout(function(){return f(n,e)},1e3):f(n,e)}}},g=function(e,t){if(e.base64){-1!==e.printable.indexOf(",")&&(e.printable=e.printable.split(",")[1]);var n=Uint8Array.from(atob(e.printable),function(e){return e.charCodeAt(0)});v(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var i=new window.XMLHttpRequest;i.responseType="arraybuffer",i.addEventListener("error",function(){d(e),e.onError(i.statusText,i)}),i.addEventListener("load",function(){if(-1===[200,201].indexOf(i.status))return d(e),void e.onError(i.statusText,i);v(e,t,i.response)}),i.open("GET",e.printable,!0),i.send()}};function v(e,t,n){var i=new window.Blob([n],{type:"application/pdf"});i=window.URL.createObjectURL(i),t.setAttribute("src",i),p.send(e,t)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y=function(e,t){var n,i="object"===m(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);i?(e.printableElement=_(i,e),e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)};function _(e,t){for(var n=e.cloneNode(),i=Array.prototype.slice.call(e.childNodes),r=0;r<i.length;r++)if(-1===t.ignoreElements.indexOf(i[r].id)){var o=_(i[r],t);n.appendChild(o)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",function(e,t){for(var n="",i=(document.defaultView||window).getComputedStyle(e,""),r=0;r<i.length;r++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(i[r])||c(t.targetStyles,i[r]))&&i.getPropertyValue(i[r])&&(n+=i[r]+":"+i.getPropertyValue(i[r])+";");return n+"max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0)}return n}var b=function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)},w=function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach(function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,r.isFirefox()){var i=n.src;n.src=i}var o=document.createElement("div");o.appendChild(n),e.printableElement.appendChild(o)}),e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var x=function(e,t){if("object"!==k(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map(function(t){return{field:"object"===k(t)?t.field:t,displayName:"object"===k(t)?t.displayName:t,columnSize:"object"===k(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}}),e.printableElement=document.createElement("div"),e.header&&u(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,i='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var r=0;r<n.length;r++)i+='<th style="width:'+n[r].columnSize+";"+e.gridHeaderStyle+'">'+A(n[r].displayName)+"</th>";i+="</tr>",e.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var o=0;o<t.length;o++){i+="<tr>";for(var a=0;a<n.length;a++){var s=t[o],c=n[a].field.split(".");if(c.length>1)for(var u=0;u<c.length;u++)s=s[c[u]];else s=s[n[a].field];i+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+s+"</td>"}i+="</tr>"}return i+"</tbody></table>"}(e),e.footer&&l(e.printableElement,e),p.send(e,t)};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var C=["pdf","html","image","json","raw-html"],D=function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",footer:null,footerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",frameRemoveDelay:null,printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(P(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]=void 0!==t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+P(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===C.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&a.show(e),e.onLoadingStart&&e.onLoadingStart();var i=document.getElementById(e.frameId);i&&i.parentNode.removeChild(i);var o=document.createElement("iframe");switch(r.isFirefox()?o.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):o.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),o.setAttribute("id",e.frameId),"pdf"!==e.type&&(o.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(e){o.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),o.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(e.fallbackPrintable,"_blank").focus(),e.onIncompatibleBrowser()}catch(t){e.onError(t)}finally{e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd()}else g(e,o);break;case"image":w(e,o);break;case"html":y(e,o);break;case"raw-html":b(e,o);break;case"json":x(e,o)}},E=D;"undefined"!=typeof window&&(window.printJS=E),t.default=E}]).default},5585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(i),o=/["&'<>]/;function a(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?a(e.call(e)):JSON.stringify(e)),e}r.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var i="",r=void 0,a=void 0,s=void 0;for(r=n.index,a=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==r&&(i+=t.substring(a,r)),a=r+1,i+=s}return a!==r?i+t.substring(a,r):i}(a(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=r},5779:(e,t,n)=>{"use strict";e.exports=n(5585)},3954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0iaSIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xMiAySDRWM0gxMlYyWiIvPjwvbWFzaz48cGF0aCBkPSJNMTIgMkg0VjNIMTJWMloiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNCAyVjFIM1YySDRaTTEyIDJIMTNWMUgxMlYyWk0xMiAzVjRIMTNWM0gxMlpNNCAzSDNWNEg0VjNaTTQgM0gxMlYxSDRWM1pNMTEgMlYzSDEzVjJIMTFaTTEyIDJINFY0SDEyVjJaTTUgM1YySDNWM0g1WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNpKSIvPjxtYXNrIGlkPSJkIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTEwIDRINVY1SDEwVjRaIi8+PC9tYXNrPjxwYXRoIGQ9Ik0xMCA0SDVWNUgxMFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01IDRWM0g0VjRINVpNMTAgNEgxMVYzSDEwVjRaTTEwIDVWNkgxMVY1SDEwWk01IDVINFY2SDVWNVpNNSA1SDEwVjNINVY1Wk05IDRWNUgxMVY0SDlaTTEwIDRINVY2SDEwVjRaTTYgNVY0SDRWNUg2WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNkKSIvPjxtYXNrIGlkPSJjIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTEwIDQuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYxYzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMCA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik05LjUgNUM5LjIyMzg2IDUgOSA0Ljc3NjE0IDkgNC41SDExQzExIDMuNjcxNTcgMTAuMzI4NCAzIDkuNSAzVjVaTTkgNC41VjUuNUgxMVY0LjVIOVpNOSA1LjVDOSA1LjIyMzg2IDkuMjIzODYgNSA5LjUgNVY3QzEwLjMyODQgNyAxMSA2LjMyODQzIDExIDUuNUg5Wk05LjUgNUM5Ljc3NjE0IDUgMTAgNS4yMjM4NiAxMCA1LjVIOEM4IDYuMzI4NDMgOC42NzE1NyA3IDkuNSA3VjVaTTEwIDUuNVY0LjVIOFY1LjVIMTBaTTEwIDQuNUMxMCA0Ljc3NjE0IDkuNzc2MTQgNSA5LjUgNVYzQzguNjcxNTcgMyA4IDMuNjcxNTcgOCA0LjVIMTBaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2MpIi8+PG1hc2sgaWQ9ImIiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIvPjwvbWFzaz48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01LjUgNUM1LjIyMzg2IDUgNSA0Ljc3NjE0IDUgNC41SDdDNyAzLjY3MTU3IDYuMzI4NDMgMyA1LjUgM1Y1Wk01IDQuNVY1LjVIN1Y0LjVINVpNNSA1LjVDNSA1LjIyMzg2IDUuMjIzODYgNSA1LjUgNVY3QzYuMzI4NDMgNyA3IDYuMzI4NDMgNyA1LjVINVpNNS41IDVDNS43NzYxNCA1IDYgNS4yMjM4NiA2IDUuNUg0QzQgNi4zMjg0MyA0LjY3MTU3IDcgNS41IDdWNVpNNiA1LjVWNC41SDRWNS41SDZaTTYgNC41QzYgNC43NzYxNCA1Ljc3NjE0IDUgNS41IDVWM0M0LjY3MTU3IDMgNCAzLjY3MTU3IDQgNC41SDZaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2IpIi8+PG1hc2sgaWQ9ImEiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIvPjwvbWFzaz48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik03IDRWM0g2VjRIN1pNOCA0SDlWM0g4VjRaTTggMTFWMTJIOVYxMUg4Wk03IDExSDZWMTJIN1YxMVpNNyA1SDhWM0g3VjVaTTcgNFYxMUg5VjRIN1pNOCAxMEg3VjEySDhWMTBaTTggMTFWNEg2VjExSDhaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2EpIi8+PG1hc2sgaWQ9ImgiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIvPjwvbWFzaz48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik02LjUgMTFIOC41VjlINi41VjExWk04LjUgMTFDOC4yMjM4NiAxMSA4IDEwLjc3NjEgOCAxMC41SDEwQzEwIDkuNjcxNTcgOS4zMjg0MyA5IDguNSA5VjExWk04IDEwLjVDOCAxMC4yMjM5IDguMjIzODYgMTAgOC41IDEwVjEyQzkuMzI4NDMgMTIgMTAgMTEuMzI4NCAxMCAxMC41SDhaTTguNSAxMEg2LjVWMTJIOC41VjEwWk02LjUgMTBDNi43NzYxNCAxMCA3IDEwLjIyMzkgNyAxMC41SDVDNSAxMS4zMjg0IDUuNjcxNTcgMTIgNi41IDEyVjEwWk03IDEwLjVDNyAxMC43NzYxIDYuNzc2MTQgMTEgNi41IDExVjlDNS42NzE1NyA5IDUgOS42NzE1NyA1IDEwLjVIN1oiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjaCkiLz48bWFzayBpZD0iZyIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTQgMTJ2LTFoLTF2MWgxem03IDBoMXYtMWgtMXYxem0wIDF2MWgxdi0xaC0xem0tNyAwaC0xdjFoMXYtMXptMCAwaDd2LTJoLTd2MnptNi0xdjFoMnYtMWgtMnptMSAwaC03djJoN3YtMnptLTYgMXYtMWgtMnYxaDJ6IiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2cpIi8+PG1hc2sgaWQ9ImYiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNCA1aDF2LTFoLTF2MXptMCA1djFoMXYtMWgtMXptLTEgMGgtMXYxaDF2LTF6bTAtNXYtMWgtMXYxaDF6bTAgMHY1aDJ2LTVoLTJ6bTEgNGgtMXYyaDF2LTJ6bTAgMXYtNWgtMnY1aDJ6bS0xLTRoMXYtMmgtMXYyeiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNmKSIvPjxtYXNrIGlkPSJlIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTIgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMiAxMHYtNWgtMXY1aDF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIgNWgxdi0xaC0xdjF6bTAgNXYxaDF2LTFoLTF6bS0xIDBoLTF2MWgxdi0xem0wLTV2LTFoLTF2MWgxem0wIDB2NWgydi01aC0yem0xIDRoLTF2Mmgxdi0yem0wIDF2LTVoLTJ2NWgyem0tMS00aDF2LTJoLTF2MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjZSkiLz48cGF0aCBkPSJtMi41IDEuNWgtMnYyaDJ2LTJ6IiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTUuNSAxLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0ibTIuNSAxMS41aC0ydjJoMnYtMnoiIHN0cm9rZT0iIzMzMyIvPjxwYXRoIGQ9Im0xNS41IDExLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PC9zdmc+Cg=="},975:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cG9seWdvbiBwb2ludHM9IjAgMCA2MCAwIDMwIDMwIiBzdHJva2Utd2lkdGg9IjAiLz48L3N2Zz4K"},916:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2luX3BjX3VpPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjQ1IiB5Mj0iMjAuMDIiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIyMC41IiB5Mj0iMjEiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSI3IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjwvZz48L2c+PC9zdmc+Cg=="},5798:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2luYm90dG9tX3BjX3VpPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjU1IiB5Mj0iMTEuNDgiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSI3IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjwvZz48L2c+PC9zdmc+Cg=="},6690:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiM5OTk7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2ludG9wX3BjPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEwLjUiIHkyPSIyMSIvPjwvZz48L2c+PC9zdmc+Cg=="},6931:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTJ7ZmlsbDpub25lO3N0cm9rZTojOTk5O3N0cm9rZS1taXRlcmxpbWl0OjEwO30uY2xzLTJ7c3Ryb2tlLWRhc2hhcnJheTowLjk1IDAuOTU7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5saW5lPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEuNDUiIHkyPSIyMC4wMiIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjIwLjUiIHkyPSIyMSIvPjwvZz48L2c+PC9zdmc+Cg=="},4290:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5taW51c19wYzwvdGl0bGU+PGcgZGF0YS1uYW1lPSJsIDIiPjxnPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTI9IjIxIi8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMTQiIHgyPSI1LjUiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMSIgeT0iNiIgd2lkdGg9IjkiIGhlaWdodD0iOSIvPjxyZWN0IGNsYXNzPSJjbHMtNSIgeD0iMiIgeT0iNyIgd2lkdGg9IjciIGhlaWdodD0iNyIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMyIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48L2c+PC9nPjwvc3ZnPgo="},7161:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5taW51c2JvdHRvbV9wYzwvdGl0bGU+PGcgZGF0YS1uYW1lPSLlm77lsYIgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjU1IiB5Mj0iMTEuNDgiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxMiIgeTI9IjEyLjUiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSIxNS41IiB4Mj0iNS41IiB5MT0iMTIuNSIgeTI9IjEyLjUiLz48cmVjdCBjbGFzcz0iY2xzLTQiIHk9IjYiIHdpZHRoPSI5IiBoZWlnaHQ9IjkiLz48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjEiIHk9IjciIHdpZHRoPSI3IiBoZWlnaHQ9IjciLz48cmVjdCBjbGFzcz0iY2xzLTQiIHg9IjIiIHk9IjEwIiB3aWR0aD0iNSIgaGVpZ2h0PSIxIi8+PC9nPjwvZz48L3N2Zz4K"},4281:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5wbHVnX3BjPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIyMSIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjE0IiB4Mj0iNSIgeTE9IjEwLjUiIHkyPSIxMC41Ii8+PHJlY3QgY2xhc3M9ImNscy00IiB4PSIxIiB5PSI2IiB3aWR0aD0iOSIgaGVpZ2h0PSI5Ii8+PHJlY3QgY2xhc3M9ImNscy01IiB4PSIyIiB5PSI3IiB3aWR0aD0iNyIgaGVpZ2h0PSI3Ii8+PHJlY3QgY2xhc3M9ImNscy00IiB4PSIzIiB5PSIxMCIgd2lkdGg9IjUiIGhlaWdodD0iMSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iNSIgeT0iOCIgd2lkdGg9IjEiIGhlaWdodD0iNSIvPjwvZz48L2c+PC9zdmc+Cg=="},9775:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5wbHVnYm90dG9tPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEuNTUiIHkyPSIxMS40OCIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEyIiB5Mj0iMTIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjE1LjUiIHgyPSI0LjUiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMSIgeT0iNiIgd2lkdGg9IjkiIGhlaWdodD0iOSIvPjxyZWN0IGNsYXNzPSJjbHMtNSIgeD0iMiIgeT0iNyIgd2lkdGg9IjciIGhlaWdodD0iNyIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMyIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48cmVjdCBjbGFzcz0iY2xzLTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02IDE1KSByb3RhdGUoLTkwKSIgeD0iMiIgeT0iMTEiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48L2c+PC9nPjwvc3ZnPgo="},6402:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMSAxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMi41IDUuNSA2IDQuNXYtMTBsLTYgNS41eiIgZmlsbD0iIzMzMyIvPjwvc3ZnPgo="},9322:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Zz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGF0dHJpYnV0ZVR5cGU9InhtbCIgZHVyPSIxcyIgZnJvbT0iMCAyNSAyNSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHRvPSIzNjAgMjUgMjUiIHR5cGU9InJvdGF0ZSIvPjxjaXJjbGUgY3g9IjE3IiBjeT0iMTUiIHI9IjUiIGZpbGw9IiNFN0I3RTgiLz48Y2lyY2xlIGN4PSIzNiIgY3k9IjE4IiByPSI1IiBmaWxsPSIjQ0Q4RENFIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIzMiIgcj0iNSIgZmlsbD0iI0MxNzVDMiIvPjxjaXJjbGUgY3g9IjMzIiBjeT0iMzYiIHI9IjUiIGZpbGw9IiM5NjQ5OTgiLz48L2c+PC9zdmc+Cg=="},4052:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNy41IDguNXYtMmMwLTEuMTA0NiAwLjg5NTQzLTIgMi0yaDVtMCAwLTIuNS0yLjVtMi41IDIuNS0yLjUgMi41IiBzdHJva2U9InVybCgjYikiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Im03IDEuNWgtNC41Yy0wLjU1MjI4IDAtMSAwLjQ0NzcyLTEgMXYxMWMwIDAuNTUyMyAwLjQ0NzcyIDEgMSAxaDExYzAuNTUyMyAwIDEtMC40NDc3IDEtMXYtMy41IiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjExIiB4Mj0iMTEiIHkxPSIyIiB5Mj0iOC41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzI0N0VGOSIgb2Zmc2V0PSIwIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0I3NDRFRCIgb2Zmc2V0PSIxIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSI4IiB4Mj0iOCIgeTE9IjEuNSIgeTI9IjE0LjUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjMjQ3RUY5IiBvZmZzZXQ9IjAiLz48c3RvcCBzdG9wLWNvbG9yPSIjQjc0NEVEIiBvZmZzZXQ9IjEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4K"},5767:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cG9seWdvbiBwb2ludHM9IjAgMCA2MCAwIDMwIDMwIiBmaWxsPSJIaWdobGlnaHRUZXh0IiBzdHJva2Utd2lkdGg9IjAiLz48L3N2Zz4K"},9456:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOSA5LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2NGMwIDAuMjc2MSAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzkgMC41LTAuNXYtNHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOS41IDEzaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0zIDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzODYgMC41IDAuNSAwLjVzMC41LTAuMjIzODYgMC41LTAuNXYtMC43eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNSAxLjhjMC0wLjI3NjE0LTAuMjIzOS0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzOSAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE0LjUgN2gtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM4Ni0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMTJjMC4yNzYxIDAgMC41LTAuMjIzODYgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im05IDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXY0YzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTR6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},4855:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGQ9Im0xNC41IDE0aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzktMC41IDAuNXMwLjIyMzg2IDAuNSAwLjUgMC41aDEzYzAuMjc2MSAwIDAuNS0wLjIyMzkgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im01LjU2NTQgMTEuNjk3LTAuOTAwOSAwLjc4MTVoLTIuNDIyNmwyLjA5MzItMi4wMTE4IDEuMjMwMyAxLjIzMDN6IiBmaWxsPSIjRkFCMTBCIi8+PHBhdGggZD0ibTIuMjQxOSAxMi40NzhoMS4yNDE4IDEuMTgwOS0xZS01IC0yLjQyMjZ6IiBmaWxsPSIjMzMzIiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTQuOTQgMy4wNjEyLTIuMDAwNC0yLjAwMDRjLTAuMTk1My0wLjE5NTI2LTAuNTExOS0wLjE5NTI2LTAuNzA3MiAwbC04LjE3MTMgOC4xNzEzYy0wLjE5NTI2IDAuMTk1MjctMC4xOTUyNiAwLjUxMTg1IDAgMC43MDcxMWwyLjAwMDQgMi4wMDA0YzAuMTk1MjcgMC4xOTUyIDAuNTExODUgMC4xOTUyIDAuNzA3MTEgMGw4LjE3MTQtOC4xNzE0YzAuMTk1Mi0wLjE5NTI2IDAuMTk1Mi0wLjUxMTg0IDAtMC43MDcxMXoiIHN0cm9rZT0iIzMzMyIvPjxtYXNrIGlkPSJhIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTguMjkyOSAxMSAwLjcwNzExLTAuNzA3MS0yLjgyODQtMi44Mjg1LTAuNzA3MSAwLjcwNzExIDIuODI4NCAyLjgyODR6Ii8+PC9tYXNrPjxwYXRoIGQ9Im04LjI5MjkgMTEgMC43MDcxMS0wLjcwNzEtMi44Mjg0LTIuODI4NS0wLjcwNzEgMC43MDcxMSAyLjgyODQgMi44Mjg0eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05IDEwLjI5MyAwLjcwNzExIDAuNzA3MSAwLjcwNzA5LTAuNzA3MS0wLjcwNzA5LTAuNzA3MTQtMC43MDcxMSAwLjcwNzE0em0tMC43MDcxMSAwLjcwNzEtMC43MDcxIDAuNzA3MSAwLjcwNzEgMC43MDcxIDAuNzA3MTEtMC43MDcxLTAuNzA3MTEtMC43MDcxem0tMi44Mjg0LTIuODI4NC0wLjcwNzExLTAuNzA3MTEtMC43MDcxMSAwLjcwNzExIDAuNzA3MTEgMC43MDcxMSAwLjcwNzExLTAuNzA3MTF6bTAuNzA3MS0wLjcwNzExIDAuNzA3MTEtMC43MDcxMS0wLjcwNzExLTAuNzA3MS0wLjcwNzEgMC43MDcxIDAuNzA3MSAwLjcwNzExem0yLjEyMTMgMi4xMjEzLTAuNzA3MSAwLjcwNzE0IDEuNDE0MiAxLjQxNDIgMC43MDcxMS0wLjcwNzEtMS40MTQyLTEuNDE0MnptMC43MDcxMSAwLjcwNzE0LTIuODI4NC0yLjgyODUtMS40MTQyIDEuNDE0MiAyLjgyODQgMi44Mjg0IDEuNDE0Mi0xLjQxNDJ6bS0yLjgyODQtMS40MTQyIDAuNzA3MTEtMC43MDcxMS0xLjQxNDItMS40MTQyLTAuNzA3MTEgMC43MDcxMSAxLjQxNDIgMS40MTQyem0tMC43MDcxLTAuNzA3MTEgMi44Mjg0IDIuODI4NCAxLjQxNDItMS40MTQyLTIuODI4NC0yLjgyODQtMS40MTQyIDEuNDE0MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjYSkiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiNmZmYiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4K"},2142:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNOSAxSDhWMTJIOVYxWiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05LjUgMTJoLTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgyYzAuMjc2MTQgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzODYtMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTMgMS41YzAtMC4yNzYxNC0wLjIyMzg2LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE1IDEuOGMwLTAuMjc2MTQtMC4yMjM5LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM5IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTAuN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQuNSAxNGgtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxMmMwLjI3NjEgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzOS0wLjUtMC41LTAuNXoiIGZpbGw9IiNGQUIxMEIiLz48L3N2Zz4K"},3434:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA80lEQVR42qXToU4DQRDG8V+BVNRUIXH3DCVBtTgEpMGRuj5CFQFPUH2EOoIjFxB1xZH0Hc4hqzCImsNMk025KyX3JZPb/c/st5PJXqssS010tFkMr4b/Opi/5uBAQ20b9PCObkVtN3K9XQYP6OMF7YS3g/WjptbgBgXOMUMrYhasiJrfQwytcIEPjPAZfJTkVrsMxC2XWOA22Hew4q8hbrTENNlPg9nX4BSTZD8JtpdBhjd08BjRCZbVvsTQMebxfcJd8JMY5Bxn6SC3O3iOWxYYo4wYB8uipraDexziGuuEr4PlSVeVBksMagb7VZVr/DP9AJT5MPf0gyv5AAAAAElFTkSuQmCC"},8672:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM1NTU7fS5jbHMtMntmaWxsOm5vbmU7c3Ryb2tlOiM1NTU7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fTwvc3R5bGU+PC9kZWZzPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjQsMTMuNjJhLjYuNiwwLDAsMC0uODIuMTgsOSw5LDAsMCwxLTcuNjYsNCw5LjA2LDkuMDYsMCwwLDEtNy42Ni00LC41OS41OSwwLDAsMC0uODItLjIxLjY0LjY0LDAsMCwwLS4yMi4yNC43My43MywwLDAsMC0uMDcuMjR2LjA3YS42My42MywwLDAsMCwuMS4zQTEwLjI3LDEwLjI3LDAsMCwwLDExLjkyLDE5YTEwLjI2LDEwLjI2LDAsMCwwLDguNjctNC41OC42MS42MSwwLDAsMC0uMTktLjgyWiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjMzLDE0LjI1YS42MS42MSwwLDAsMCwuMi0uODIsMTAuMjgsMTAuMjgsMCwwLDAtOC42OC00LjU4LDEwLjI3LDEwLjI3LDAsMCwwLTguNjcsNC41OC42Mi42MiwwLDAsMC0uMDkuM3YuMDdhLjUzLjUzLDAsMCwwLC4wNi4yNC42NC42NCwwLDAsMCwuMjIuMjQuNi42LDAsMCwwLC44My0uMjEsOSw5LDAsMCwxLDcuNjUtNCw5LDksMCwwLDEsNy42Niw0LC42MS42MSwwLDAsMCwuODIuMThaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTIuMDUsMi45MmEuNjUuNjUsMCwwLDAtLjY1LjY2VjYuMTlhLjY1LjY1LDAsMSwwLDEuMywwVjMuNThBLjY1LjY1LDAsMCwwLDEyLjA1LDIuOTJaTTQuNjYsNmEuNjMuNjMsMCwwLDAtLjQ2LjIuNjQuNjQsMCwwLDAsMCwuOTJMNi4wNSw5YS42Mi42MiwwLDAsMCwuNDYuMTlBLjY1LjY1LDAsMCwwLDcsOSwuNjcuNjcsMCwwLDAsNyw4TDUuMTIsNi4xOEEuNjUuNjUsMCwwLDAsNC42Niw2Wk0xOS40NCw2YS42Ni42NiwwLDAsMC0uNDYuMkwxNy4xMyw4YS42Ny42NywwLDAsMCwwLC45My42Ni42NiwwLDAsMCwuOTMsMEwxOS45LDcuMWEuNjQuNjQsMCwwLDAsMC0uOTJBLjYzLjYzLDAsMCwwLDE5LjQ0LDZaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSIxMi4xIiBjeT0iMTMuOTciIHI9IjIiLz48L2c+PC9zdmc+Cg=="},4471:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM1NTU7fTwvc3R5bGU+PC9kZWZzPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjQ5LDguMzVhLjU5LjU5LDAsMCwwLS44Mi4xNyw5LDksMCwwLDEtNy42Niw0LDkuMDUsOS4wNSwwLDAsMS03LjY2LTQsLjYuNiwwLDAsMC0uODItLjIuNTYuNTYsMCwwLDAtLjIyLjI0LjUxLjUxLDAsMCwwLS4wNy4yNHYuMDdhLjU2LjU2LDAsMCwwLC4xLjI5QTEwLjI0LDEwLjI0LDAsMCwwLDEyLDEzLjc1YTEwLjI2LDEwLjI2LDAsMCwwLDguNjctNC41OS42LjYsMCwwLDAtLjE5LS44MVoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04LjkyLDE2LjUxaC0uMWEuNTkuNTksMCwwLDEtLjQ5LS42OWwuNDctMi42N2EuNi42LDAsMSwxLDEuMTguMkw5LjUxLDE2YS42LjYsMCwwLDEtLjU5LjQ5bTYuMTEsMGEuNjEuNjEsMCwwLDEtLjU5LS40OGwtLjU1LTIuNjdhLjYuNiwwLDAsMSwuNDctLjcxLjYyLjYyLDAsMCwxLC43MS40N2wuNTUsMi42N2EuNjEuNjEsMCwwLDEtLjQ3LjcxSDE1bS0xMC4xOC0yYS40NS40NSwwLDAsMS0uMiwwLC41OS41OSwwLDAsMS0uMzYtLjc2aDBsMS0yLjY3YS42LjYsMCwxLDEsMS4xMy40MWwtMSwyLjY4YS42LjYsMCwwLDEtLjU2LjM5TTE5LjEsMTVhLjYuNiwwLDAsMS0uNTYtLjM4bC0xLjA2LTIuNjhhLjYuNiwwLDAsMSwxLjEyLS40NGwxLjA2LDIuNjdhLjU5LjU5LDAsMCwxLS4wNy41Ni41OC41OCwwLDAsMS0uNDkuMjciLz48L2c+PC9zdmc+Cg=="},8488:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNCA0SDVMMyAxMUgyTDQgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNiA4SDNWOUg2VjhaIiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTExLjAwMSA0aC0xdjdoMXYtN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDhoLTJ2LTFoMmMwLjI2NTIgMCAwLjUxOTUtMC4xMDU0MyAwLjcwNy0wLjI5Mjk3czAuMjkzLTAuNDQxODEgMC4yOTMtMC43MDcwMy0wLjEwNTUtMC41MTk0OS0wLjI5My0wLjcwNzAzLTAuNDQxOC0wLjI5Mjk3LTAuNzA3LTAuMjkyOTdoLTJ2LTFoMmMwLjUzMDQgMCAxLjAzOSAwLjIxMDg2IDEuNDE0IDAuNTg1OTQgMC4zNzUxIDAuMzc1MDcgMC41ODYgMC44ODM2MyAwLjU4NiAxLjQxNDFzLTAuMjEwOSAxLjAzOS0wLjU4NiAxLjQxNDFjLTAuMzc1IDAuMzc1MDgtMC44ODM2IDAuNTg1OTQtMS40MTQgMC41ODU5NHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNSA0SDRMNiAxMUg3TDUgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDExaC0ydi0xaDJjMC4yNjUyIDAgMC41MTk1LTAuMTA1NDMgMC43MDctMC4yOTI5N3MwLjI5My0wLjQ0MTgxIDAuMjkzLTAuNzA3MDMtMC4xMDU1LTAuNTE5NDktMC4yOTMtMC43MDcwMy0wLjQ0MTgtMC4yOTI5Ny0wLjcwNy0wLjI5Mjk3aC0ydi0xaDJjMC41MzA0IDAgMS4wMzkgMC4yMTA4NiAxLjQxNCAwLjU4NTk0IDAuMzc1MSAwLjM3NTA3IDAuNTg2IDAuODgzNjMgMC41ODYgMS40MTQxcy0wLjIxMDkgMS4wMzktMC41ODYgMS40MTQxYy0wLjM3NSAwLjM3NS0wLjg4MzYgMC41ODU5LTEuNDE0IDAuNTg1OXoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQgMi41aC0xMmMtMC44Mjg0MyAwLTEuNSAwLjY3MTU3LTEuNSAxLjV2N2MwIDAuODI4NCAwLjY3MTU3IDEuNSAxLjUgMS41aDEyYzAuODI4NCAwIDEuNS0wLjY3MTYgMS41LTEuNXYtN2MwLTAuODI4NDMtMC42NzE2LTEuNS0xLjUtMS41eiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0iTTkgM0g4VjEzSDlWM1oiIGZpbGw9IiMzMzMiLz48L3N2Zz4K"},3231:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIuNTQ2IDIuODg4OS05Ljg5OTUgOS44OTk1Yy0wLjE5NTI2IDAuMTk1My0wLjE5NTI2IDAuNTExOSAwIDAuNzA3MSAwLjE5NTI3IDAuMTk1MyAwLjUxMTg1IDAuMTk1MyAwLjcwNzExIDBsOS44OTk1LTkuODk5NWMwLjE5NTItMC4xOTUyNyAwLjE5NTItMC41MTE4NSAwLTAuNzA3MTEtMC4xOTUzLTAuMTk1MjYtMC41MTE5LTAuMTk1MjYtMC43MDcxIDB6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIuNjQ2IDMuNTk2IDkuODk5NSA5Ljg5OTRjMC4xOTUzIDAuMTk1MyAwLjUxMTggMC4xOTUzIDAuNzA3MSAwIDAuMTk1My0wLjE5NTIgMC4xOTUzLTAuNTExOCAwLTAuNzA3MWwtOS44OTk1LTkuODk5NWMtMC4xOTUyNy0wLjE5NTI2LTAuNTExODUtMC4xOTUyNi0wLjcwNzExIDAtMC4xOTUyNiAwLjE5NTI3LTAuMTk1MjYgMC41MTE4NSAwIDAuNzA3MTF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},6627:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZD0iTTQsMUg1LjQ2M0wxLjQ0OSwxNEgwWiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5NyIvPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyMCAyNzEpIiBkPSJNMiwxSC41NTZMNC41MiwxNEg2WiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5OCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxOCAyNzkpIiBmaWxsPSIjZmZmIiBkYXRhLW5hbWU9Iui3r+W+hCA5MDE1Ij48cGF0aCBkPSJtNS41IDAuOTYwOTRoLTV2LTAuNDYwOTRoNXYwLjQ2MDk0eiIvPjxwYXRoIGQ9Im0wLTEuMTkyMWUtNmg2djEuNDYwOWgtNnYtMS40NjA5eiIgZmlsbD0iIzcwNzA3MCIvPjwvZz48L2c+PC9zdmc+Cg=="},5080:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBkYXRhLW5hbWU9IkZyb20gZmlsZSI+PGcgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzUyMCI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDQpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODM5Ij48cGF0aCBkPSJtMCAwaDEydjlhMiAyIDAgMCAxLTIgMmgtOGEyIDIgMCAwIDEtMi0ydi05eiIgc3Ryb2tlPSJub25lIi8+PHBhdGggZD0iTTEsLjVIMTFhLjUuNSwwLDAsMSwuNS41VjlBMS41LDEuNSwwLDAsMSwxMCwxMC41SDJBMS41LDEuNSwwLDAsMSwuNSw5VjFBLjUuNSwwLDAsMSwxLC41WiIgZmlsbD0ibm9uZSIvPjwvZz48cmVjdCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDIpIiB3aWR0aD0iMTQiIGhlaWdodD0iMSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODQxIj48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSIzIiByeD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNSIgaGVpZ2h0PSIyIiByeD0iLjUiIGZpbGw9Im5vbmUiLz48L2c+PHJlY3QgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIgd2lkdGg9IjEiIGhlaWdodD0iNSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MiIvPjxyZWN0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDkgNykiIHdpZHRoPSIxIiBoZWlnaHQ9IjUiIHJ4PSIuNSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnn6nlvaIgMTM4NDMiLz48L2c+PC9zdmc+Cg=="},2272:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNy41IDEyYzIuNDg1MyAwIDQuNS0yLjAxNDcgNC41LTQuNXMtMi4wMTQ3LTQuNS00LjUtNC41LTQuNSAyLjAxNDctNC41IDQuNSAyLjAxNDcgNC41IDQuNSA0LjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},329:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIiBkYXRhLW5hbWU9IkErIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjggMjc3KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNSI+PHJlY3Qgd2lkdGg9IjEiIGhlaWdodD0iNSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiBoZWlnaHQ9IjQiIGZpbGw9Im5vbmUiLz48L2c+PHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDE2IDI3MSkiIGQ9Ik00LDFINS40NjNMMS40NDksMTRIMFoiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTciLz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjAgMjcxKSIgZD0iTTIsMUguNTU2TDQuNTIsMTRINloiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTgiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTggMjc5KSIgZmlsbD0iI2ZmZiIgZGF0YS1uYW1lPSLot6/lvoQgOTAxNSI+PHBhdGggZD0ibTUuNSAwLjk2MDk0aC01di0wLjQ2MDk0aDV2MC40NjA5NHoiLz48cGF0aCBkPSJtMC0xLjE5MjFlLTZoNnYxLjQ2MDloLTZ2LTEuNDYwOXoiIGZpbGw9IiM3MDcwNzAiLz48L2c+PC9nPjwvc3ZnPgo="},1759:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNSA3aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzg2LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxM2MwLjI3NjEgMCAwLjUtMC4yMjM4NiAwLjUtMC41cy0wLjIyMzktMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},5906:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTE5IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MTkgMjcxKSIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuakreWchiAyOTgiPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSI4IiBzdHJva2U9Im5vbmUiLz48Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iNy41IiBmaWxsPSJub25lIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwIDk4KSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnu4QgMTM0MjciPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDgxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNiIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNyIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgOCIvPjwvZz48L2c+PC9zdmc+Cg=="},383:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIgMi41aC04Yy0wLjgyODQzIDAtMS41IDAuNjcxNTctMS41IDEuNXY4YzAgMC44Mjg0IDAuNjcxNTcgMS41IDEuNSAxLjVoOGMwLjgyODQgMCAxLjUtMC42NzE2IDEuNS0xLjV2LThjMC0wLjgyODQzLTAuNjcxNi0xLjUtMS41LTEuNXoiIHN0cm9rZT0iIzMzMyIvPjwvc3ZnPgo="},9416:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNjQ2IDIuODktOS4xOTI0IDkuMTkyNGMtMC4xOTUyNiAwLjE5NTMtMC4xOTUyNiAwLjUxMTkgMCAwLjcwNzEgMC4xOTUyNiAwLjE5NTMgMC41MTE4NCAwLjE5NTMgMC43MDcxMSAwbDkuMTkyNC05LjE5MjRjMC4xOTUzLTAuMTk1MjYgMC4xOTUzLTAuNTExODUgMC0wLjcwNzExLTAuMTk1Mi0wLjE5NTI2LTAuNTExOC0wLjE5NTI2LTAuNzA3MSAweiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im02LjE2MTIgMTIuMDgyLTQuMjQyNi00LjI0MjdjLTAuMTk1MjctMC4xOTUyNy0wLjUxMTg1LTAuMTk1MjctMC43MDcxMSAwLTAuMTk1MjYgMC4xOTUyNi0wLjE5NTI2IDAuNTExODQgMCAwLjcwNzFsNC4yNDI2IDQuMjQyN2MwLjE5NTI2IDAuMTk1MiAwLjUxMTg0IDAuMTk1MiAwLjcwNzExIDAgMC4xOTUyNi0wLjE5NTMgMC4xOTUyNi0wLjUxMTkgMC0wLjcwNzF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},2954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Q0N3tmaWxsOiM0RjRENEY7fTwvc3R5bGU+PGc+PHJlY3QgY2xhc3M9InN0NDciIHRyYW5zZm9ybT0ibWF0cml4KC43MjcgLjY4NjYgLS42ODY2IC43MjcgMTEuMTQ1IC01LjEwNTEpIiB4PSI1Ljk3IiB5PSIxMC44NCIgd2lkdGg9IjEyLjA1IiBoZWlnaHQ9IjEuMjQiLz48cmVjdCBjbGFzcz0ic3Q0NyIgdHJhbnNmb3JtPSJtYXRyaXgoLS42NzggLjczNTEgLS43MzUxIC0uNjc4IDI4LjU1IDEwLjQyKSIgeD0iNS45NyIgeT0iMTAuODQiIHdpZHRoPSIxMi4wNSIgaGVpZ2h0PSIxLjI0Ii8+PC9nPjwvc3ZnPgo="},5412:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPjEyOC4xMjh2aWRlbyBhdWRpbzwvdGl0bGU+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjwvc3ZnPgo="},4031:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI1OS43NSIgY3k9IjU5Ljc1IiByPSI1Ni43NSIvPjxyZWN0IHg9IjQwIiB5PSIzMi41IiB3aWR0aD0iMTEiIGhlaWdodD0iNTkiLz48cmVjdCB4PSI3MCIgeT0iMzIuNSIgd2lkdGg9IjExIiBoZWlnaHQ9IjU5Ii8+PC9zdmc+Cg=="},5471:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTkuNzUiIGN5PSI1OS43NSIgcj0iNTYuNzUiLz48L3N2Zz4K"},384:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAdUlEQVR42u2VwQrAIAxD07H/Lv3y7LKDlG46bAeCuUkPjxhrhCQqdaBYZ3sws1E78jZU1Rjgh5HMDADYgzwCPogjjrIy4B8hM+WKfEZ3Ji1Eqp8ps0IOXTlH9Yu2ARuwWh9Ei5IN8N8ue/0w3QezjmT50i8HXN7EHrm7nJBpAAAAAElFTkSuQmCC"},5672:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0z///+1////TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD///+W/////////////////////////5b///8DAAAAAAAAAAD///9U8PDw/0pKSv/w8PD/////VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD///////z8/P////8D////Lfn5+f9CQkL/AAAA/0JCQv/6+vr/////LQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP///5b/////AAAA//////////////////////8AAAD//////////5T///+WaWlp/wAAAP8AAAD/AAAA/2lpaf////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP///////f39/////wL///8B/v7+//////8CAgL//////f///y3///+W/////wAAAP//////////lv///y0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////////8CAAAAAAAAAAD///8B/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////8JAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD///////b29v//////7e3t/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD///+Wqqqq/////5YAAAAAAAAAAAAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD///9VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////lv////////////////////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////////////////////////////////////////////////////////////////////////////////////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////////////////////////////////////////////////////////////////////////////////////////////////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////+P////j/+P/44DB/+MAAP/iAAD/4gAA/+IYY//iPGP/4jxj/+I8Y//iPGP/4jxj/+I8Y//iPCP/4jwD/+I8A//jfgf/4////+AAAP/gAAD/4AAA///////////////////////////8="},8244:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4404:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////4AAH/+AAB///////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4420:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACaSURBVFiF7ZRBDoAgDATrxv8/efEChtRgKEWMpnMTK7OxTUWCIPgLJBPJZP0OM0MAEGuIqQFGQ7jJwlS1Yagdbvnd2TK5NcQ2IDzJ/RYAm64DUD9fagq7RV5f2rq41JHsvbofPWz6jyzpfUuydPq1zCN3LaIZS8ccoB6yPIQev10ujaWjz5fIe949Llc178g9dE3Q3SoNguDzHE8r6s7tkQQOAAAAAElFTkSuQmCC"},8555:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUpXsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SlexfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv6xfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv+xfUr/sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUpX////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Su+xfUqcsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SpyxfUrv////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APn/nwD4/x8A/H4/AP48fwD/GP8A/4H/AP/D/wD/w/8A/4H/AP8Y/wD+PH8A/H4/APj/HwD5/58A////AP///wD///8A////AP///wA="},3296:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD/AP8A/gB/APwAPwD8AD8A/AA/APwAPwD8AD8A/AA/APwAPwD8AD8A/gB/AP8A/wD///8A////AP///wD///8A////AP///wA="},4853:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wDwAA8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wA="},7e3:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APgAHwD5/58A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPn/nwD4AB8A////AP///wD///8A////AP///wA="},9382:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8AgICAEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8AgICAIICAgP+AgIAg////AP///wD///8AgICA/4CAgED///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgP+AgIBw////AP///wCAgIBQgICA/4CAgCD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgKCAgID/gICAQICAgECAgID/gICA0P///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgGCAgID/gICA/4CAgP+AgID/gICAnv///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgBCAgID/gICAUICAgDCAgID/gICAMP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgID/gICAoICAgHCAgID/////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgICAgICA4ICAgMCAgICg////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgIAwgICA/4CAgP+AgIBg////AP///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICA7ICAgP+AgIAQ////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICAwYCAgNz///8A////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8Awf//APf//wD3+/8A9jkHAPcxZwD3A3cA9wN3APcDZwD3hwcA94dnAPeHdwD3x2cA988HAPf//wD3//8Awf//AP///wD///8A////AP///wA="},5481:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUrIsX1K4bF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SsGxfUr/sX1K/rF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KwbF9Sv+xfUp3sX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUrBsX1K/7F9SnexfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SsGxfUr/sX1Kd7F9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KwbF9Sv+xfUp3sX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUp3sX1K/7F9SnexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUqU////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP+f/wD/D/8A/gf/APxj/wD48f8A8fj/AOP8fwD//j8A//8fAP//jwD//8cA///jAP///wD///8A////AP///wD///8A////AP///wA="},5618:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///9F////rv///+H////k////sf///0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8D////kNLS0v9RUVH/Hh4e/xsbG/9OTk7/ycnJ/////5P///8MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b//////////////5YAAAAAAAAAAP///5OTk5P/BgYG/z8/P/+EhIT/h4eH/0VFRf8DAwP/ioqK/////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP8AAAD//////////5b///9Iw8PD/wMDA/+Kior/////wP///3v///+NsbGx/wYGBv8AAAD/wMDA/////1oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD//////////7FOTk7/RUVF/////7r///8M////iq6urv8JCQn/q6ur/1RUVP88PDz/////wwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP///////////wAAAP//////////5xgYGP+cnJz/////Y////4qurq7/DAwM/6urq/////+Nq6ur/wMDA//8/Pz/////AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////5YAAAAAAAAAAP////8AAAD/////////////////AAAA///////////qFRUV/6Wlpf////+Kq6ur/wwMDP+rq6v/////iv///0u0tLT/AAAA//n5+f////8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////5b///+W/////wAAAP///////////wAAAP//////////lv///71CQkL/Y2Nj/6urq/8MDAz/q6ur/////4oAAAAA////inV1df8tLS3/////0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD///////////8AAAD/////////////////AAAA//////8AAAAA////VL29vf8GBgb/CQkJ/6urq/////+K////Qv///5DMzMz/DAwM/6Wlpf////9pAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP///////////wAAAP//////////lgAAAAAAAAAA////kH5+fv8DAwP/cnJy/7q6uv+9vb3/eHh4/wYGBv9jY2P/////nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD/////////////////AAAA////////////////////////////////07e3t/85OTn/BgYG/wAAAP82Njb/paWl/////5z///8zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////AAAA/wAAAP8AAAD/AAAA/wAAAP//////////Xf///8b////5/////////8n///9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////4H///4Af/+GAH//AAA//wAAP/4AAB/GAAAfwAAEP8AEAD/ABgB/wAAAf8AAAf/AAH//wAB//8AA///AAf//wAP//8AH///AD///wB///8A////Af///wP///8H////D////x//////////////8="},527:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAP///////////////wAAAP////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////////////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////wAAAAD///////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD///////////////////////////////////////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////AAAA//////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////wB///8Af///AH////f////j////wf//gYD//wCA//4AY//8ACP//AAj//gAI//4AD//8AA//+AAP//gAD//4AA///4AP//+AH///gD///8B////g////8f///////////////////////8="},6189:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADWSURBVFiF7ZY7DoMwDEDdqgtiyMRK5t6iHRm5RK8B52CAIzAycoOs7F07I3Wx3aVUkSoqCg1BlZ8UKZ8hz3YkB0AQhH8BETMiYmu09hoRM6cCRMRaawYAVkpxVVWslGIAYK01ExE7FUDEfIjWGMMAwMYYOwO5UwGbZ7STot6v4PORw9hBXyeTaxamzW6uwHYzMHC8tHC93d/24yiArji5F+iK82sepg30dbL4UhvvJRCBrwTiKPAr8ItXv0hg09jteKQZrduOy7L0145HPiS5UwFBEObyAD+5v55ihI+vAAAAAElFTkSuQmCC"},6190:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA////////////AAAA//////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////8AAAAA/////wAAAP8AAAD//////wAAAAD//////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af///4//8AiP//ABj//4Y4//+HeP//h/j//4f4//+H+P/8hPj//AD4//wA+P/8APj////AH///wB///8If/////////////////////////////////////8="},3350:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAwADQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////8////+H////B////gf///wP///4H///8D//wAB//wAA//4fgf/8f+H//P/x//n/ef/5/zn/+f+5//n/uf/5/7n/+f+5//n/uf/5/3n//P/z//x/4//+H4f//wAP///AP////////////////////////////8="},7898:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAUABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAA/wAAAOcAAAHngAABgYAAAYGAAAHngAAA5wAAAP8AAAA8AAAAAAAAA///////////////////////////////////////////////////////////////////////////////////////5////8f///+P////H///wj///wB///4Af//+AH///AA///wAP//8AD///AA///4Af//+AH///wD////D///8="},4005:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoCAAAFgAAACgAAAAgAAAAQAAAAAEACAAAAAAAgAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8ACQkJABISEgAfHx8ALCwsADk5OQBFRUUAUlJSAF9fXwBsbGwAeHh4AIWFhQCSkpIAn5+fAKurqwC4uLgAxcXFANLS0gDe3t4A6+vrAPj4+ADw+/8ApKCgAMDcwADwyqYAAAA+AAAAXQAAAHwAAACbAAAAugAAANkAAADwACQk/wBISP8AbGz/AJCQ/wC0tP8AABQ+AAAeXQAAKHwAADKbAAA8ugAARtkAAFXwACRt/wBIhf8AbJ3/AJC1/wC0zf8AACo+AAA/XQAAVHwAAGmbAAB+ugAAk9kAAKrwACS2/wBIwv8AbM7/AJDa/wC05v8AAD4+AABdXQAAfHwAAJubAAC6ugAA2dkAAPDwACT//wBI//8AbP//AJD//wC0//8AAD4qAABdPwAAfFQAAJtpAAC6fgAA2ZMAAPCqACT/tgBI/8IAbP/OAJD/2gC0/+YAAD4UAABdHgAAfCgAAJsyAAC6PAAA2UYAAPBVACT/bQBI/4UAbP+dAJD/tQC0/80AAD4AAABdAAAAfAAAAJsAAAC6AAAA2QAAAPAAACT/JABI/0gAbP9sAJD/kAC0/7QAFD4AAB5dAAAofAAAMpsAADy6AABG2QAAVfAAAG3/JACF/0gAnf9sALX/kADN/7QAKj4AAD9dAABUfAAAaZsAAH66AACT2QAAqvAAALb/JADC/0gAzv9sANr/kADm/7QAPj4AAF1dAAB8fAAAm5sAALq6AADZ2QAA8PAAAP//JAD//0gA//9sAP//kAD//7QAPioAAF0/AAB8VAAAm2kAALp+AADZkwAA8KoAAP+2JAD/wkgA/85sAP/akAD/5rQAPhQAAF0eAAB8KAAAmzIAALo8AADZRgAA8FUAAP9tJAD/hUgA/51sAP+1kAD/zbQAPgAAAF0AAAB8AAAAmwAAALoAAADZAAAA8AAAAP8kJAD/SEgA/2xsAP+QkAD/tLQAPgAUAF0AHgB8ACgAmwAyALoAPADZAEYA8ABVAP8kbQD/SIUA/2ydAP+QtQD/tM0APgAqAF0APwB8AFQAmwBpALoAfgDZAJMA8ACqAP8ktgD/SMIA/2zOAP+Q2gD/tOYAPgA+AF0AXQB8AHwAmwCbALoAugDZANkA8ADwAP8k/wD/SP8A/2z/AP+Q/wD/tP8AKgA+AD8AXQBUAHwAaQCbAH4AugCTANkAqgDwALYk/wDCSP8Azmz/ANqQ/wDmtP8AFAA+AB4AXQAoAHwAMgCbADwAugBGANkAVQDwAG0k/wCFSP8AnWz/ALWQ/wDNtP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////////////////////////////////////////f////z////9f////b///+HAB//v//f/7//3/+//9//sADf/7//3/+//9//v//f/7AA3/+//9//v//f/7//3/+AAB/////////////////////////////////"},209:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/wAAAACiWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/8AAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/8AAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/AAAAAKJZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////9/////n////4f////J////0P///+B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8F////iP///9D////h////8///////////////////////////8="},8483:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD//////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP///////////wAAAP//////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////wAAAP8AAAD///////////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA/wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////wAAAP8AAAD///////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAAA/////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////hD///4A///+AP///8f/+ARH//gAx//4Ecf//DvH/+AHx//gB8f/4AfH//w/x//gB8f/4AfH/+AHx////gD///4A///+EP/////////////////////////////////////8="},1342:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAEBAAAAAAAABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAQAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAACtbS4AAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS4AAAAAAACtbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA+B8AAPAPAADgBwAAw8MAAIfhAACP8QAAj/EAAI/xAACPcQAAhmEAAMBDAADgRwAA8G8AAOB/AAD//wAA"},6294:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAP///////////////wAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////wAAAAD///////////////8AAAAA////////////////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB//iMAf/wB4//4AOP/+Ijj//8H4//+A+P//HHj//xx4//8ceP//HHj//xx4//8ceP//vvj////AH///wB///8If/////////////////////////////////////8="},7710:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKNnK0CjZytAo2crQKNnK0CfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgomcqYKNpK4CjaCvAo2ks4KRqLf+kai3/pGot/6RqLf+kai3/pGot/6RqLf+kai3/o2kssKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ9fHxCiaSxQo2krgKNpK4CiaSxQo2crQJ9fHxAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0CiaCyQo2ks8KNoK8CfXx8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2grwKJpLKCjaCtwn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgo2ks0KNpLLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACjaCvApGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgpGot/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNoK3Ckai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0Ckai3/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2ks0KNoK8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJpLKCjaSzwn2cnIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAACiZypgpGot/6JnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAn2cnIKNpLPCjaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAACjaCtwo2ks4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEKNnK0Ckai3/o2krgJ9nJyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6NpLNCfXx8QAAAAAKJpLFCjaSzQpGot/6RqLf+jaCvAo2grwKNoK8CjaSywo2krgKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCjaSzQn18fEKJnKmCjaSzQn18fEAAAAACfXx8Qo2crQKNoK3CjaSuAo2krgKNpK4CjaSuAomcqYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEJ9fHxCiZypgpGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZCown18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6JpLFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+fZCowAAAAAJ9nJyCfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////gf//4AA//+A+D//h/4//4P/P/+B/z//gP8//8B+P//gPH//8Bj///gJ///8AH///gQA//8BAP//gP///+B////gP///4B///8AP///gB///8Af///gH///8T////v//////////////////////8="},6623:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP8AAAD//////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8D4///A+P//4fj//+H4//8AOP//ADj//wA4///h+P//ADj//wA4//8AOP////j////AH///wB///8If/////////////////////////////////////8="},4113:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAgACACoDAAAFgAAACgAAAAgAAAAQAAAAAEAGAAAAAAAgAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////f////z//wAAf/8AAD//AAAAfx48AP8ePAH/HjwD/x48B/8ePA//Hjwf/x48P/8ePH//Hjx//x48f/8ePH//Hjx//wAAf/8AAH//AAB//w=="},3800:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADaSURBVFiF7dbNDYMwDIbhT6H3jJBNccIgMEo3yEa2ewEp/UkLFNMe8kpIICHlSQ4YoNVq/WvMTCKixXUtn5mZTAEioiEEBaDee52mSb33CkBDCCoiagpg5rjsNuesADTnXJ5ANAWUzbt9u2tmjntQl29g5eLDMNB8j67rVkMOASyllACAtiAOBexBHA7YijABbEGYAdYiTAFrEOaATwgTABGB6H5UqGo65QSICH3fJ+fc02KvchaLb/kSVivHcWUY0cP7u2ZBtcdxPI7j78Zx5YckmgJardZZ3QBYf/tz/TccpQAAAABJRU5ErkJggg=="},5225:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8B4//+AOP//wHj//+D4///AeP//jjj//444//+OOP//jjj//444//+OOP//33j////AH///wB///8If/////////////////////////////////////8="},7047:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Zz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGF0dHJpYnV0ZVR5cGU9InhtbCIgZHVyPSIxcyIgZnJvbT0iMCAyNSAyNSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHRvPSIzNjAgMjUgMjUiIHR5cGU9InJvdGF0ZSIvPjxjaXJjbGUgY3g9IjE3IiBjeT0iMTUiIHI9IjUiIGZpbGw9IiNFN0I3RTgiLz48Y2lyY2xlIGN4PSIzNiIgY3k9IjE4IiByPSI1IiBmaWxsPSIjQ0Q4RENFIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIzMiIgcj0iNSIgZmlsbD0iI0MxNzVDMiIvPjxjaXJjbGUgY3g9IjMzIiBjeT0iMzYiIHI9IjUiIGZpbGw9IiM5NjQ5OTgiLz48L2c+PC9zdmc+Cg=="},6989:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9IiNkZGQiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAiIGNhbGNNb2RlPSJzcGxpbmUiIGR1cj0iMS4ycyIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGtleXRpbWVzPSIwOy4yOy41OzEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIvPjwvcGF0aD48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuMiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuOCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjwvc3ZnPgo="},9411:e=>{e.exports="data:application/vnd.ms-fontobject;charset=utf-8;base64,yA0AAPgMAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAePjH6wAAAAAAAAAAAAAAAAAAAAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAOAFIAZQBnAHUAbABhAHIAAAAWAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAAAAABAAAACwCAAAMAMEdTVUIgiyV6AAABOAAAAFRPUy8yQG9MCAAAAYwAAABWY21hcIsI7vIAAAIIAAAB0mdseWap/oa/AAAD8AAABhRoZWFkGMy1jwAAAOAAAAA2aGhlYQe/A8gAAAC8AAAAJGhtdHggAP/6AAAB5AAAACRsb2NhBp4H6AAAA9wAAAAUbWF4cAEaAI4AAAEYAAAAIG5hbWWhQ3MWAAAKBAAAAo5wb3N0ObP5owAADJQAAABjAAEAAAPA/8AAAAQA//r//gQCAAEAAAAAAAAAAAAAAAAAAAAJAAEAAAABAADrx/h4Xw889QALBAAAAAAA2ti4iQAAAADa2LiJ//r/wAQCA8AAAAAIAAIAAAAAAAAAAQAAAAkAggAHAAAAAAACAAAACgAKAAAA/wAAAAAAAAABAAAACgAwAD4AAkRGTFQADmxhdG4AGgAEAAAAAAAAAAEAAAAEAAAAAAAAAAEAAAABbGlnYQAIAAAAAQAAAAEABAAEAAAAAQAIAAEABgAAAAEAAAABA44BkAAFAAACiQLMAAAAjwKJAswAAAHrADIBCAAAAgAFAwAAAAAAAAAAAAAAAAAAAAAAAAAAAABQZkVkAEDqAeoIA8D/wABcA8AAQAAAAAEAAAAAAAAAAAAABAAAAAQAAAAEAP/6BAAAAAQAAAAEAAAABAAAAAQAAAAAAAAFAAAAAwAAACwAAAAEAAABYgABAAAAAABcAAMAAQAAACwAAwAKAAABYgAEADAAAAAEAAQAAQAA6gj//wAA6gH//wAAAAEABAAAAAEAAgADAAQABQAGAAcACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAcAAAAAAAAAAIAADqAQAA6gEAAAABAADqAgAA6gIAAAACAADqAwAA6gMAAAADAADqBAAA6gQAAAAEAADqBQAA6gUAAAAFAADqBgAA6gYAAAAGAADqBwAA6gcAAAAHAADqCAAA6ggAAAAIAAAAAAAAADIAjAFWAdYCSAJ8As4DCgABAAAAAAOTA3cAIwAAARUUBisBFRQGKwEiJj0BIyImPQE0NjsBNTQ2OwEyFh0BMzIWA5IgF+0gF24XIO0XICAX7SAXbhcg7RcgAhttFyDuFyAgF+4gF20XIO4XICAX7iAAAAAABQAA/8AEAAPAAB8AIgAlADMAPAAAATIWFREUBiMhIiY9ASEiJjURNDY/AT4BOwEyFh0BNjMPATMBBzMXNzUjFRQGKwERITU0NgERIxUUBisBEQPJFyAgF/3cFyD+yRcgFxDpEDcX7RcgJyJJq6v+k6urcLTbIBfuASUXAjLcIBbuAuUgF/1JFyAgF6QgFwGAFzcQ6RAXIBe7F3qrAYarxrTu7hcg/pOSFzf+RAKS7Rcg/pIAB//6AAAEAgMuAAgASwBZAGcAcgB7AIEAAAEyFhQGIiY0NhcFFgYPAQYiJyUHBgcWBw4BBwYjIicmNz4BNzYzMhc2PwEnJicGIyInLgEnJjY3NjMyFx4BFxYHMh8BJTYyHwEeAQcFNiYnJiMiBwYWFxYzMgM+AScmIyIHDgEXFjMyExc1ND8BJwcGDwEfAQEnBRUHHwEFNyUHBgcCJQ4WFh0WFroBIhAFEUkIEgj+dT8EAggDBDgvTFJOMTQHBDguTFMwJwUHRkYHBScwU0wuOAQDFxkwT1JMLzgEAwgCBD8BiwgSCEkRBRD9WRocLzQ5KxYaHC80OSsbLxwaFis5NC8cGhYrOZo3EwgtFQQDBHs3AaRJ/klbCRwB7Un+12UBBgHAFh0WFh0WJeMLKQklBAXdJgIBHBssUR4wLTBGK1IeMBIIBSkqBQgSMB5RLCI9Fy0wHlEsHBwCJt0FBCUJKQtPGEseIRQYTB0i/msdTBgUIR1MGBQBgCIHFAwEGxUFAgOFEwFJJfZBNwgctyTqTwICAAAFAAAAAAOTA3cADwAfAC8ANwBbAAAlETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjYBIScmJyMGBwUVFAYrAREUBiMhIiY1ESMiJj0BNDY7ATc+ATsBMhYfATMyFgGSCgglCAoKCCUICpMLCCQICwsIJAgLkgoIJQgKCgglCAr+yQEAGwQGtQYEAfYKCDc2Jf4kJTY3CAoKCLEoCC0XthctCCixCAquAZIICgoI/m4ICwsIAZIICgoI/m4ICwsIAZIICgoI/m4ICwsCP0IGAQEGVSQIC/3jMEVDLwIgCwgkCAtfFR4eFV8LAAAABQAAAAAD/AN3AAYADwA5AD4ASAAAATcnBxUzFQEmDwEGFj8BNhMVFAYjISImNRE0NjMhMhceAQ8BBicmIyEiBhURFBYzITI2PQE0PwE2FgMXASM1AQcnNzYyHwEWFAH7Q1dCNgEcCQrIChMJyAolYUT+JURhYUQB2yQfCAQHHAgKDQ3+JSY2NiYB2yY1BiQJFzek/oCkAn00pTUQLhBWEAEbQ1dDIDcBnAkKyAkTCsgK/rVsRGFhRAHbRGEOBBMHHAgDBDYm/iUmNjYmSAcFJQkKAZqk/oCkATU1pTQQEFcQLQAAAQAA/9ID7gOpACEAAAEUDgIiLgI1ND4BNxUOARUUHgIyPgI1NCYnNR4CA+5PhLbKtoRPb8B2fqc7YYiUiGE7p352wG8BwGW2hE9PhLZletSJEoMZyoNKiGE7O2GISoPKGYMSidQAAAAEAAD/wAQAA8AACAAYABsANwAAJSERIyImPQEjNzU0JiMhIgYdARQWMyEyNhMzJwURFAYjISImPQEhIiY1ETQ2MyEyFh0BFh8BHgEBtwIA7hcg25ILB/5uCAsLCAGSBwuSq6sBJSAX/dwXIP7JFyAgFwJuFiAMCekQFwkBbiAX7aUlBwsLByUHCwv+h6v0/oAXICAXWyAXAwAXICAXuwgI6RA3AAEAAAAAA1QC7wAkAAAlFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQPARcWA1MQTRAuEKioEC4QTRAQqKgQEE0QLhCoqBAuEE0QEKioEM0XEE4QEKioEBBOEC0QqKgQLhBOEBCoqBAQThAuEKioEAAAAAAAEADGAAEAAAAAAAEAEgAAAAEAAAAAAAIABwASAAEAAAAAAAMAEgAZAAEAAAAAAAQAEgArAAEAAAAAAAUACwA9AAEAAAAAAAYAEgBIAAEAAAAAAAoAKwBaAAEAAAAAAAsAEwCFAAMAAQQJAAEAJACYAAMAAQQJAAIADgC8AAMAAQQJAAMAJADKAAMAAQQJAAQAJADuAAMAAQQJAAUAFgESAAMAAQQJAAYAJAEoAAMAAQQJAAoAVgFMAAMAAQQJAAsAJgGiY29udGV4dC1tZW51LWljb25zUmVndWxhcmNvbnRleHQtbWVudS1pY29uc2NvbnRleHQtbWVudS1pY29uc1ZlcnNpb24gMS4wY29udGV4dC1tZW51LWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBWAGUAcgBzAGkAbwBuACAAMQAuADAAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAQIBAwEEAQUBBgEHAQgBCQEKAANhZGQEY29weQNjdXQGZGVsZXRlBGVkaXQHbG9hZGluZwVwYXN0ZQRxdWl0AAAA"},5259:e=>{e.exports="data:font/ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJAb0wIAAABjAAAAFZjbWFwiwju8gAAAggAAAHSZ2x5Zqn+hr8AAAPwAAAGFGhlYWQYzLWPAAAA4AAAADZoaGVhB78DyAAAALwAAAAkaG10eCAA//oAAAHkAAAAJGxvY2EGngfoAAAD3AAAABRtYXhwARoAjgAAARgAAAAgbmFtZaFDcxYAAAoEAAACjnBvc3Q5s/mjAAAMlAAAAGMAAQAAA8D/wAAABAD/+v/+BAIAAQAAAAAAAAAAAAAAAAAAAAkAAQAAAAEAAOvH+HhfDzz1AAsEAAAAAADa2LiJAAAAANrYuIn/+v/ABAIDwAAAAAgAAgAAAAAAAAABAAAACQCCAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDjgGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOoB6ggDwP/AAFwDwABAAAAAAQAAAAAAAAAAAAAEAAAABAAAAAQA//oEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAFiAAEAAAAAAFwAAwABAAAALAADAAoAAAFiAAQAMAAAAAQABAABAADqCP//AADqAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAABwAAAAAAAAAAgAAOoBAADqAQAAAAEAAOoCAADqAgAAAAIAAOoDAADqAwAAAAMAAOoEAADqBAAAAAQAAOoFAADqBQAAAAUAAOoGAADqBgAAAAYAAOoHAADqBwAAAAcAAOoIAADqCAAAAAgAAAAAAAAAMgCMAVYB1gJIAnwCzgMKAAEAAAAAA5MDdwAjAAABFRQGKwEVFAYrASImPQEjIiY9ATQ2OwE1NDY7ATIWHQEzMhYDkiAX7SAXbhcg7RcgIBftIBduFyDtFyACG20XIO4XICAX7iAXbRcg7hcgIBfuIAAAAAAFAAD/wAQAA8AAHwAiACUAMwA8AAABMhYVERQGIyEiJj0BISImNRE0Nj8BPgE7ATIWHQE2Mw8BMwEHMxc3NSMVFAYrAREhNTQ2AREjFRQGKwERA8kXICAX/dwXIP7JFyAXEOkQNxftFyAnIkmrq/6Tq6twtNsgF+4BJRcCMtwgFu4C5SAX/UkXICAXpCAXAYAXNxDpEBcgF7sXeqsBhqvGtO7uFyD+k5IXN/5EApLtFyD+kgAH//oAAAQCAy4ACABLAFkAZwByAHsAgQAAATIWFAYiJjQ2FwUWBg8BBiInJQcGBxYHDgEHBiMiJyY3PgE3NjMyFzY/AScmJwYjIicuAScmNjc2MzIXHgEXFgcyHwElNjIfAR4BBwU2JicmIyIHBhYXFjMyAz4BJyYjIgcOARcWMzITFzU0PwEnBwYPAR8BAScFFQcfAQU3JQcGBwIlDhYWHRYWugEiEAURSQgSCP51PwQCCAMEOC9MUk4xNAcEOC5MUzAnBQdGRgcFJzBTTC44BAMXGTBPUkwvOAQDCAIEPwGLCBIISREFEP1ZGhwvNDkrFhocLzQ5KxsvHBoWKzk0LxwaFis5mjcTCC0VBAMEezcBpEn+SVsJHAHtSf7XZQEGAcAWHRYWHRYl4wspCSUEBd0mAgEcGyxRHjAtMEYrUh4wEggFKSoFCBIwHlEsIj0XLTAeUSwcHAIm3QUEJQkpC08YSx4hFBhMHSL+ax1MGBQhHUwYFAGAIgcUDAQbFQUCA4UTAUkl9kE3CBy3JOpPAgIAAAUAAAAAA5MDdwAPAB8ALwA3AFsAACURNCYrASIGFREUFjsBMjY3ETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNgEhJyYnIwYHBRUUBisBERQGIyEiJjURIyImPQE0NjsBNz4BOwEyFh8BMzIWAZIKCCUICgoIJQgKkwsIJAgLCwgkCAuSCgglCAoKCCUICv7JAQAbBAa1BgQB9goINzYl/iQlNjcICgoIsSgILRe2Fy0IKLEICq4BkggKCgj+bggLCwgBkggKCgj+bggLCwgBkggKCgj+bggLCwI/QgYBAQZVJAgL/eMwRUMvAiALCCQIC18VHh4VXwsAAAAFAAAAAAP8A3cABgAPADkAPgBIAAABNycHFTMVASYPAQYWPwE2ExUUBiMhIiY1ETQ2MyEyFx4BDwEGJyYjISIGFREUFjMhMjY9ATQ/ATYWAxcBIzUBByc3NjIfARYUAftDV0I2ARwJCsgKEwnICiVhRP4lRGFhRAHbJB8IBAccCAoNDf4lJjY2JgHbJjUGJAkXN6T+gKQCfTSlNRAuEFYQARtDV0MgNwGcCQrICRMKyAr+tWxEYWFEAdtEYQ4EEwccCAMENib+JSY2NiZIBwUlCQoBmqT+gKQBNTWlNBAQVxAtAAABAAD/0gPuA6kAIQAAARQOAiIuAjU0PgE3FQ4BFRQeAjI+AjU0Jic1HgID7k+Etsq2hE9vwHZ+pzthiJSIYTunfnbAbwHAZbaET0+EtmV61IkSgxnKg0qIYTs7YYhKg8oZgxKJ1AAAAAQAAP/ABAADwAAIABgAGwA3AAAlIREjIiY9ASM3NTQmIyEiBh0BFBYzITI2EzMnBREUBiMhIiY9ASEiJjURNDYzITIWHQEWHwEeAQG3AgDuFyDbkgsH/m4ICwsIAZIHC5KrqwElIBf93Bcg/skXICAXAm4WIAwJ6RAXCQFuIBftpSUHCwsHJQcLC/6Hq/T+gBcgIBdbIBcDABcgIBe7CAjpEDcAAQAAAAADVALvACQAACUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYDUxBNEC4QqKgQLhBNEBCoqBAQTRAuEKioEC4QTRAQqKgQzRcQThAQqKgQEE4QLRCoqBAuEE4QEKioEBBOEC4QqKgQAAAAAAAQAMYAAQAAAAAAAQASAAAAAQAAAAAAAgAHABIAAQAAAAAAAwASABkAAQAAAAAABAASACsAAQAAAAAABQALAD0AAQAAAAAABgASAEgAAQAAAAAACgArAFoAAQAAAAAACwATAIUAAwABBAkAAQAkAJgAAwABBAkAAgAOALwAAwABBAkAAwAkAMoAAwABBAkABAAkAO4AAwABBAkABQAWARIAAwABBAkABgAkASgAAwABBAkACgBWAUwAAwABBAkACwAmAaJjb250ZXh0LW1lbnUtaWNvbnNSZWd1bGFyY29udGV4dC1tZW51LWljb25zY29udGV4dC1tZW51LWljb25zVmVyc2lvbiAxLjBjb250ZXh0LW1lbnUtaWNvbnNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkBAgEDAQQBBQEGAQcBCAEJAQoAA2FkZARjb3B5A2N1dAZkZWxldGUEZWRpdAdsb2FkaW5nBXBhc3RlBHF1aXQAAAA="},4128:e=>{e.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAaUAAsAAAAADPgAAAZFAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCDUgqMFIoSATYCJAMkCxQABCAFhQ4HYxscCxEVpHmS/UzI3LzQrNryNVzHQVwiFCHL2nz5zVFEm2eC5/m83nPzEn+VTgF40nqmslaC90wAXJvabmNfmEyZq06qp8x+IPMpPBlDbunxSiB1omoQc5nwqsJUMxuz/acq/O9+v/o3zCPnR85OJzSLhTjB7raHiA9R614hFE0m0qBkQo2AAHhriYeV34IALkWohFajVmouSBjQtbsVpEdHmClgN5cBfesqgH1IRI/xE+wYM+RMNQ9aAAzQZsuuA/P1OvKNYgIzN4ZCOLJJr7hqUOWrfLXVhfASHdRkqpSXD7BvhAIKtCdZuoVmdkCZUEBXblimTpF4qdPuqx2Gh6+iitZy6moodIzbP56FDWIiqDichlTa8FVkia41JGiFBK0jQRtI0CYStIUEbYPJBEdtmxzIBJpF0jQgeJbACAYWypi3o8S3VPIEx6mekOA5ZtL6NratWiefEsmus1ZuajceRHYgrmKPCpDYAxH1/GOHADCkgx6LE1BcYxUcNSD4u9tap70WLdBeUlbL1lAZTbV4CY52KB1pw2OH9J9fFCbEvAp2q20us6hfmcpgmwy3PivzDImmP2i9/mX5l2gsiDcgcE7/FBLFz7zIvP2oy0U0lnf6eaZNhkt6aVW88st5+7ZhzeKLcg+QqOPB52Xvo7H8sy/zCUg09dSzvIfQWFEaFDgYlMuzBMNaJtXh5aBFKqeuRGUug1XJA65nhgFahG3uRHjCHd+4qhHPRBisAkSWIK4eeebGRV+I4UY5SAIe9VqvPpsk7bRRnnIMW0fgucCj9zIslzk0HskFIOkxKnjpxcfs2E2Y4xJ9zguPiobHwNMCdjaIWL6vMK8akeFN8Jx+lbHjQ+PPBNfow1oSvHzUGjuNyANcY4+MBC9aCVndE9X0ZLSWoLB0BtBWygJ8Adqqq2xqwJo3nAhLS7UdltiIK1xJ4CaGmMFrFAAbRQkcZJ1hoIGU5scKDJLjf2rp35fPY9HyAY5vkB+/JWDTPmJQK33+HNamSb3N6VrrxAFBEJtnqNd2/fDhlWd5t/nZkpMyqPU6S71L0DH1z1b886tbZhK/4rSt1dvfT7iO37W+e/Hdh6JrxzuHlG6irV84O123siquXEDT9/YTcjwrEqrjHOOcqhMqPHNSPN4HZIZYDZj9m5G9Qtqru4yXFV1efD4ieVeiLZz4e386b5KsLRKUv7num6IpmpZ+iWZXxee4BBXhW1eOVahTugy/U6OEVbFx05V7EhNtT3yLKvSfO6s5VsfG8Ut1I6gpC/dS8Eo4p0xBq9psptSL4J2wDwXtmk0g1bHb+4eTvqpf5vFMv28tbL3blzYrUrKG3Ts7v2oelqWP/LLFQYfS7vtpThjc7zaiD3M18Ns4OhrHo6It/UtnWD2/6ealFdkXlLBW+snNseXlsW/P8LVdxWrP9lFX45/lyrOXrxJnn6huUWK+wX/Tnj1jY3v3Dvv6cqUYqVDYspVUkEpvLvVsdHxq6nj6HYlq1LpizWDr0/OzetZNjRjuvz21XvBceflcMLOma7qOS57y0qDoqYj2F+dbn3LMZtC01f3xduEWO7XQSSozPQ5eRBeyXxQE2y+RJwC3B3AdpJ9x+uTcQmhDySI3DKQGDRsB2wWmMTtowVAKFZJHwPpAtVg+OvyNrqlCbqHjvw3Cu+qn2kl2C+3X/3Qvnl26R+fECt9s77db8vTxidmbfOl3eKGcphcAG+3rqPhXsjuLsf2P+ltGCkkOlwh5Zvhbd4cjcgQ4TMEyGuCKJRAiZCdxsdxsIXlqP9Cs5DYo00oH0p3yEwOPisQkOXWIS37ane+RgukoRHcQfFasiEYCZ4jC5yrSnX4Sg9Synpj44khcWkmD63hAcsmmhmbGjb0JZ+d1h1XYF0o3ViZwAN9f/NDYjmaI/DDiJRnOaCrGFuod7CJjZgHC0ARpunuNI4E21GPDvmLWSRCIsHf7DU2HhmbGjT0mnJ1HF55uX4f1l26sTOohx8NvXWFs5155IMInzKUyP8+pqlTQkl7val27yPhmWIBsDE1mbFomjGIFATo8vcd1BfuoHEYnBJvxRFrl12xNz/08wEX4ekc0UaKLIaZYYosjLqpr214a0vu5cXxrcUTGC7Yd30eqtDqzvOrKel3/LuFwAAAAAA=="},1787:e=>{e.exports="data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAiEAAsAAAAADPgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAb0wIY21hcAAAAYgAAABuAAAB0osI7vJnbHlmAAAB+AAABGMAAAYUqf6Gv2hlYWQAAAZcAAAAMQAAADYYzLWPaGhlYQAABpAAAAAgAAAAJAe/A8hobXR4AAAGsAAAABUAAAAkIAD/+mxvY2EAAAbIAAAAFAAAABQGngfobWF4cAAABtwAAAAfAAAAIAEaAI5uYW1lAAAG/AAAATwAAAKOoUNzFnBvc3QAAAg4AAAATAAAAGM5s/mjeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGTuY5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwOrxhfcTAf+H+AIYb5AIMDUJgRJAcAElcM+QB4nO2R0Q2EQAhE37q4EmMpflxB92UFV/c24TFgGZK8mTAhfACwAj04A4N20VB9I22Zd/bMjU/OmPLp9x3apNFb6hKzFhsHGx7B4K0j9fd0rpsVecWlQN4LfWNaobvOtdCn5iiQbwVyL/A/vZIXbwAAeJyFVEtoXFUYPv99z0w7uZOZuSfpvO487r2N6Tycx70JsQk2MXTaaUITNZQsyiyCCzUVwQotlkiqtribuCouE1oZEAptCnYzK2kDbqTgIu2quFDIuJEu1Nz6n7lJWgriXfznf5zzP8757keA4Mev8Z+SLCEQjUjDnsiYxyHLRNUegxoTZS0BlbLGt3S6o9Nlqu9Q/SWVi31I9S5zdXX6QmXpRUKedwTCd0iKZIhBKuQNrFXWoqGIlE2zIihqoao9AePgFbIrfVABuUKdWrbXTyiNTUBoz+Afsuy7j6nuokbV31SHYg9Wpt5uu2vt9kd3trE4GJQrP9a1Lvcrbq6zI+s6hRXq4AE8dp9easOX7R/vdLFZd61FHXeKa2Eet0Xk538RInB8gSjkNDlH3iMfk8vk817fESljVm0qalIfSBnLkCVZk4MgS9mMZTrj4NiVMsVhLNNirgIqds+XBKrJ5RQYNookyKJtWmY2I0sa1Splfhx6VhCYFaa1KqaQsUYKwBKjcgpEh9XijKCmJTTtB8ioYqiu9CvuJxMCp/DCSLExN/N6VRZGCo35kiXK09OyaJXmG4URgaeDpdm5RhE1hRMm4Gs8Vw+J6u65I/FidXRY85ZYMX5EGx6tessNJ6zkowIvXHZgve7WF31x2Km7vyyBBB3WQ0IzngaGfIYgPjE5iMeOnU2W8qXp4blkqV8Rh14Tlf5S8uyxzHGaZ2s8zplPRMHwDQVmB04n05GBRiLjvp9oDETSTMBKRo4cEmJRkeO/CEPdePamo8Tv5X6f5bgejvaw2odIKhKHLBJihKomwlVCMGmIHdv5HxvS+CxZSRY9JHkIrIUOsO54EEwxrEPLrxiKvyfWAkpOCfTES173IZCYIN2VBHjmVxzbcHOG7bDg7aNKnm7SvHL0tuL/HlrM5y6zDP+hcxMnJADpHSyw+7T01mSR03vVzkeTyej5ANmf/x+cX8IbGCXj5CTi0bHkaCUKJmJRmwA7HN0fqWpX0gxzGEBcpb0rQJeNg+JGjaeQrYFsOQyNWgT+nlw4YUPc53/gD/se+I3mlGtMNZtTsJ1LKYIcV/yHD7uGadsmbJs1Keejzrq7ss59Vt2oqQX1XRVikwuTugPfYgpfGNO4dz/wEkw1g0IYM/CCbXopTsqi4fPDDZYBarWNqqouqHkcB7niZ77Lf0fSaESCXKbA1ar4T0WDSExJrjyOpmnVkhzfnb26ubV5dfZC5+KVm2PNa99ca47dvHKxcwE6S+jG6NKlR9f7Vwe3Vk9hCHecWt0aXO2//givUTjgJIUMkBhiiRhpDwVZByuw+0qAd1/hiiW+SlXoR5rS2G8M9ziCBLLdCsj7jyoHWu02GC8oSqfcsqYf8iHv+GAZaXPDkAMBmQn3q/af7grbsqhTnjDlvqIgoxGPm9/m/iA57C7CyKaILIPCZNTABHu6vffrQ9rg59Uz+BS3bqE4o7L1Vfsnqs54gRk17wUO7N5GQv4FV5EzGAB4nGNgZGBgAOLXxy8zxPPbfGXgZmEAgVs3dnTC6P+//h9gYWI+AORyMDCBRAGNQQ6nAAAAeJxjYGRgYD7w/wADAwvD/1///7EwMQBFUAAnAKWfBo54nGNgYGBggeP/v1hQ+BAMACzQAhoAAAAAAAAAADIAjAFWAdYCSAJ8As4DCnicY2BkYGDgZGhiYGcAASYg5gJCBob/YD4DABaQAakAeJyNjrtOwzAUhn/TC6KVECoSEpuHCiGhppexEmvLwNShA1uaOm2qJI4ct2ofgHdg5jmYGXgYnoE/xmKgS23p+DvfuSQArvAJgeoIdFyszhnOmf1yjXTruU5+8NxAG4+em/RPnlvsePHcxjVeuUHUL2i6ePN8hkt8eK7Rf3muk789N3AjOp6b6Ip7zy3MxbPnNu7Ee6Rzq/a2l6l820uYlTO12qahOS4cm7kyZaJzOQwGx8WpypUJrVrKxUGWu9XI2ljGRmdyUvWmqZaF0RsV2WBtbTHu92Pvg0hniKCRw0Jhz9hDRsqxJSW+VmJGt6JLEcKcNHFKz5zO8E1cLjFEgMFJk1PnqunQdS45vcCBscSOfzqitYiZx+zR3CEx+dub8mqawtU2NBF9gLWbKjBGnzf+1x+4r2c/1uR9/3icbcjLCoAgEAXQuT7TvxRnCEHSaFz09wVtO8tDhj6Z/iUYWDh4BERsSMhkC7OrY962Lg0sXVSccNPYR+F27H6W661zNSV6AHljD4A="},5852:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(9411),a=n(4128),s=n(1787),A=n(5259);t=i(!1);var c=r(o),u=r(o,{hash:"#iefix"}),l=r(a),d=r(s),h=r(A);t.push([e.id,'@charset "UTF-8";\r\n/*!\r\n * jQuery contextMenu - Plugin for simple contextMenu handling\r\n *\r\n * Version: v2.9.2\r\n *\r\n * Authors: Björn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)\r\n * Web: http://swisnl.github.io/jQuery-contextMenu/\r\n *\r\n * Copyright (c) 2011-2020 SWIS BV and contributors\r\n *\r\n * Licensed under\r\n *   MIT License http://www.opensource.org/licenses/mit-license\r\n *\r\n * Date: 2020-05-13T13:55:37.023Z\r\n */\r\n@-webkit-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@-o-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n\r\n@font-face {\r\n  font-family: "context-menu-icons";\r\n  font-style: normal; \r\n  font-weight: normal;\r\n\r\n  src: url('+c+");\r\n  src: url("+u+') format("embedded-opentype"), url('+l+') format("woff2"), url('+d+') format("woff"), url('+h+') format("truetype");\r\n}\r\n\r\n.context-menu-icon-add:before {\r\n  content: "\\EA01";\r\n}\r\n\r\n.context-menu-icon-copy:before {\r\n  content: "\\EA02";\r\n}\r\n\r\n.context-menu-icon-cut:before {\r\n  content: "\\EA03";\r\n}\r\n\r\n.context-menu-icon-delete:before {\r\n  content: "\\EA04";\r\n}\r\n\r\n.context-menu-icon-edit:before {\r\n  content: "\\EA05";\r\n}\r\n\r\n.context-menu-icon-loading:before {\r\n  content: "\\EA06";\r\n}\r\n\r\n.context-menu-icon-paste:before {\r\n  content: "\\EA07";\r\n}\r\n\r\n.context-menu-icon-quit:before {\r\n  content: "\\EA08";\r\n}\r\n\r\n.context-menu-icon::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: "context-menu-icons";\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.context-menu-icon.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n\r\n.context-menu-icon.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon-loading:before {\r\n  -webkit-animation: cm-spin 2s infinite;\r\n       -o-animation: cm-spin 2s infinite;\r\n          animation: cm-spin 2s infinite;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: FontAwesome;\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa5 {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5 i, .context-menu-icon.context-menu-icon--fa5 svg {\r\n  position: absolute;\r\n  top: .3em; \r\n  left: .5em;\r\n  color: #2980b9;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-hover > i, .context-menu-icon.context-menu-icon--fa5.context-menu-hover > svg {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-disabled i, .context-menu-icon.context-menu-icon--fa5.context-menu-disabled svg {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-list {\r\n  position: absolute; \r\n  display: inline-block;\r\n  min-width: 13em;\r\n  max-width: 26em;\r\n  padding: .25em 0;\r\n  margin: .3em;\r\n  font-family: inherit;\r\n  font-size: inherit;\r\n  list-style-type: none;\r\n  background: #fff;\r\n  border: 1px solid #bebebe;\r\n  border-radius: .2em;\r\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n          box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n}\r\n\r\n.context-menu-item {\r\n  position: relative;\r\n  -webkit-box-sizing: content-box;\r\n     -moz-box-sizing: content-box;\r\n          box-sizing: content-box;\r\n  padding: .2em 2em;\r\n  color: #2f2f2f;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-separator {\r\n  padding: 0; \r\n  margin: .35em 0;\r\n  border-bottom: 1px solid #e6e6e6;\r\n}\r\n\r\n.context-menu-item > label > input,\r\n.context-menu-item > label > textarea {\r\n  -webkit-user-select: text;\r\n     -moz-user-select: text;\r\n      -ms-user-select: text;\r\n          user-select: text;\r\n}\r\n\r\n.context-menu-item.context-menu-hover {\r\n  color: #fff;\r\n  cursor: pointer; \r\n  background-color: #2980b9;\r\n}\r\n\r\n.context-menu-item.context-menu-disabled {\r\n  color: #bbb;\r\n  cursor: default; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-input.context-menu-hover {\r\n  color: #2f2f2f; \r\n  cursor: default;\r\n}\r\n\r\n.context-menu-submenu:after {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: .5em;\r\n  z-index: 1; \r\n  width: 0;\r\n  height: 0;\r\n  content: \'\';\r\n  border-color: transparent transparent transparent #2f2f2f;\r\n  border-style: solid;\r\n  border-width: .25em 0 .25em .25em;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n}\r\n\r\n/**\r\n * Inputs\r\n */\r\n.context-menu-item.context-menu-input {\r\n  padding: .3em .6em;\r\n}\r\n\r\n/* vertically align inside labels */\r\n.context-menu-input > label > * {\r\n  vertical-align: top;\r\n}\r\n\r\n/* position checkboxes and radios as icons */\r\n.context-menu-input > label > input[type="checkbox"],\r\n.context-menu-input > label > input[type="radio"] {\r\n  position: relative;\r\n  top: .12em; \r\n  margin-right: .4em;\r\n}\r\n\r\n.context-menu-input > label {\r\n  margin: 0;\r\n}\r\n\r\n.context-menu-input > label,\r\n.context-menu-input > label > input[type="text"],\r\n.context-menu-input > label > textarea,\r\n.context-menu-input > label > select {\r\n  display: block;\r\n  width: 100%; \r\n  -webkit-box-sizing: border-box;\r\n     -moz-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\n.context-menu-input > label > textarea {\r\n  height: 7em;\r\n}\r\n\r\n.context-menu-item > .context-menu-list {\r\n  top: .3em; \r\n  /* re-positioned by js */\r\n  right: -.3em;\r\n  display: none;\r\n}\r\n\r\n.context-menu-item.context-menu-visible > .context-menu-list {\r\n  display: block;\r\n}\r\n\r\n.context-menu-accesskey {\r\n  text-decoration: underline;\r\n}\r\n',""]),e.exports=t},5979:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\n      /*rtl:begin:ignore*/left:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\n      /*rtl:begin:ignore*/right:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}',""]),e.exports=t},5533:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-display-on-device.none-devices-match,.fv__ui-directive-hide-on-device.devices-match{display:none !important}",""]),e.exports=t},987:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-visible-only-container{position:relative}.fv__ui-visible-only-element{visibility:hidden}",""]),e.exports=t},8600:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-foreach-delay-container{position:relative}.fv__ui-foreach-delay-container>.fv__ui-foreach-delay-item{position:absolute}",""]),e.exports=t},8778:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-scrollable{scrollbar-width:none}.fv__ui-directive-scrollable::-webkit-scrollbar{display:none}.fv__ui-directive-scrollable-vertical{overflow-y:auto}.fv__ui-directive-scrollable-horizontal{overflow-x:auto}.fv__ui-scrollable-scrolling *{-webkit-touch-callout:none !important;-webkit-user-select:none !important;-moz-user-select:none !important;-ms-user-select:none !important;-o-user-select:none !important;user-select:none !important}",""]),e.exports=t},3883:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-draggable-target{position:absolute}.fv__ui-draggable-action{cursor:move}",""]),e.exports=t},5609:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-resizable-action{cursor:nw-resize;background:rgba(0,0,0,0);position:absolute;right:0;bottom:0;width:10px;height:10px}",""]),e.exports=t},2730:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-show-hidden,.fv__ui-directive-hide-hidden{display:none !important}",""]),e.exports=t},2868:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-tooltip-tip{position:fixed;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);border-radius:5px;font-size:12px;text-align:left;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);padding:10px;margin:0;z-index:1061;line-height:1}.fv__ui-directive-tooltip-tip>.fv__ui-directive-tooltip-title{white-space:pre-line}.fv__ui-tooltip-arrow{position:absolute;display:block;width:12px;height:12px;overflow:hidden;background:0 0;pointer-events:none}.fv__ui-tooltip-placement-bottom .fv__ui-tooltip-arrow{top:-8.484px;left:50%;margin-left:-6px}.fv__ui-tooltip-placement-top .fv__ui-tooltip-arrow{bottom:-8.484px;left:50%;margin-left:-6px}.fv__ui-tooltip-placement-right .fv__ui-tooltip-arrow{left:-6px;top:50%;margin-top:-6px}.fv__ui-tooltip-placement-left .fv__ui-tooltip-arrow{right:-6px;top:50%;margin-top:-6px}.fv__ui-tooltip-arrow-content{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:12px;height:12px;background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);pointer-events:auto}.fv__ui-tooltip-placement-bottom .fv__ui-tooltip-arrow-content{-webkit-transform:translateY(4px) rotate(45deg);-moz-transform:translateY(4px) rotate(45deg);-ms-transform:translateY(4px) rotate(45deg);-o-transform:translateY(4px) rotate(45deg);transform:translateY(4px) rotate(45deg)}.fv__ui-tooltip-placement-top .fv__ui-tooltip-arrow-content{-webkit-transform:translateY(-3px) rotate(45deg);-moz-transform:translateY(-3px) rotate(45deg);-ms-transform:translateY(-3px) rotate(45deg);-o-transform:translateY(-3px) rotate(45deg);transform:translateY(-3px) rotate(45deg)}.fv__ui-tooltip-placement-right .fv__ui-tooltip-arrow-content{-webkit-transform:translateX(2px) rotate(45deg);-moz-transform:translateX(2px) rotate(45deg);-ms-transform:translateX(2px) rotate(45deg);-o-transform:translateX(2px) rotate(45deg);transform:translateX(2px) rotate(45deg)}.fv__ui-tooltip-placement-left .fv__ui-tooltip-arrow-content{-webkit-transform:translateX(-3px) rotate(45deg);-moz-transform:translateX(-3px) rotate(45deg);-ms-transform:translateX(-3px) rotate(45deg);-o-transform:translateX(-3px) rotate(45deg);transform:translateX(-3px) rotate(45deg)}.fv__ui-directive-tooltip-desc{margin:.5em 0}",""]),e.exports=t},2547:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-accordion-card-header-button>i{display:inline-block}.fv__ui-accordion-card{min-width:0;word-wrap:break-word;background-clip:border-box;box-sizing:border-box;margin-top:12px}.fv__ui-accordion-card.active .fv__ui-accordion-card-header-button>i{transform:rotate(360deg)}.fv__ui-accordion-card.active .fv__ui-accordion-card-body{height:auto;overflow:visible}.fv__ui-accordion-card-header{font-size:12px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;line-height:1}.fv__ui-accordion-card-header.selected button{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-secondary-bg, var(--fv-hover-bg, #D8DBE5))}.fv__ui-accordion-card-header-button{border:none;margin:0;outline:none;border-radius:3px;background-color:#f4f4f4;background-color:var(--fv-secondary-bg, #f4f4f4);padding:9px 10px;cursor:pointer;width:100%;text-align:left;font-family:inherit;font-size:1em;line-height:1}.fv__ui-accordion-card-header-button .fv__ui-mobile.fv__ui-tablet{font-size:12px}.fv__ui-accordion-card-header-button>span{color:var(--fv-primary-color, #131313);color:var(--fv-secondary-color, #333)}.fv__ui-accordion-card-header-button>i{width:12px;height:12px;float:right;transform:rotate(270deg);transition:transform .2s ease-out}.fv__ui-accordion-card-body{height:0;overflow:hidden}.fv__ui-mobile .fv__ui-accordion-card-header{font-size:3.2vmin;padding:2.1333333333vmin;border-radius:0.6666666667vmin}.fv__ui-mobile .fv__ui-accordion-card-header>i{width:3.2vmin;height:3.2vmin}",""]),e.exports=t},6613:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(5767);t=i(!1);var a=r(o);t.push([e.id,".fv__ui-fileselector-label,.fv__ui-button{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-fileselector-label,.fv__ui-button{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-button-text,.fv__dropdown-button.fv__ui-button>span{display:inline-block}.fv__ui-button:not(.disabled):not(.active):focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list .fv__ui-button:not(.disabled):not(.active):focus{outline-offset:-4px}.fv__dropdown-button.fv__ui-button{width:auto;min-width:168px;line-height:34px;border:1px rgba(0,0,0,0)}.fv__ui-comparison-pdf-file-selector{padding:5px 0}.fv__ui-button{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;cursor:pointer;box-sizing:border-box;font-size:12px;line-height:24px;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;white-space:nowrap}.fv__ui-button .fv__ui-button-icon{width:1rem;height:1rem}.fv__ui-button.active{background:#f0f1f5;background-color:var(--fv-btn-pressed-bg, #F0F1F5)}.fv__ui-button.disabled{color:#666;filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:not-allowed}.fv__ui-button:not(.disabled):hover{color:var(--fv-accent-btn-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #B051BE)}.fv__ui-button:not(.disabled):not(.active):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-button:not(.disabled):not(.active):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-button>*{position:relative}.fv__ui-button-sm,.fv__ui-button-sm .fv__ui-button-icon{width:16px;height:16px}.fv__ui-button-text{color:#131313;color:var(--fv-primary-color, #131313);white-space:nowrap}.fv__ui-button-text.accent-text{color:var(--fv-accent-btn-color, #FFFFFF)}.fv__ui-fileselector{height:24px;padding:0 12px;font-size:14px;border-radius:24px;line-height:20px;color:#131313;color:var(--Primary_text, #131313);background-color:#fbfbfd;background-color:var(--fv-primary-bg, #FBFBFD)}.fv__ui-fileselector.disabled>.fv__ui-fileselector-label{cursor:not-allowed}.fv__ui-fileselector-label{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;height:100%;cursor:pointer;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-fileselector-input{display:none}.fx-ribbon-item{display:block;background-color:rgba(0,0,0,0);outline:1px solid rgba(0,0,0,0)}.fx-ribbon-item>*{position:relative}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button .fv__ui-button-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.disabled .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.disabled:not(.fv__ui-dropdown-button){outline:1px solid;outline-offset:-2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled).active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled).active .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus .fv__ui-button-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.fv__ui-fileselector.disabled{outline-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item{border:none;padding:1px 5px}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus{background-color:Highlight;color:HighlightText;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more svg polygon{fill:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more svg>polygon{fill:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-icon{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-color:rgba(0,0,0,0)}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled{border-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled .fx-ribbon-item-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled .fx-ribbon-item-more svg>polygon{fill:graytext}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-text{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-more svg>polygon{fill:WindowText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-button .fv__ui-button-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-button.disabled .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast .fv__ui-button.disabled:not(.fv__ui-dropdown-button){outline:1px solid;outline-offset:-2px}.fv__ui-high-contrast .fv__ui-button:not(.disabled).active,.fv__ui-high-contrast .fv__ui-button:not(.disabled).active .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus .fv__ui-button-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fv__ui-button.fv__ui-fileselector.disabled{outline-color:GrayText}.fv__ui-high-contrast .fx-ribbon-item{border:none;padding:1px 5px}.fv__ui-high-contrast .fx-ribbon-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus{background-color:Highlight;color:HighlightText;outline:none}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more svg polygon{fill:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more svg>polygon{fill:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-icon{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-color:rgba(0,0,0,0)}.fv__ui-high-contrast .fx-ribbon-item-disabled{border-color:GrayText}.fv__ui-high-contrast .fx-ribbon-item-disabled,.fv__ui-high-contrast .fx-ribbon-item-disabled .fx-ribbon-item-text{color:GrayText}.fv__ui-high-contrast .fx-ribbon-item-disabled .fx-ribbon-item-more svg>polygon{fill:graytext}.fv__ui-high-contrast .fx-ribbon-item-text{color:WindowText}.fv__ui-high-contrast .fx-ribbon-item-more svg>polygon{fill:WindowText}}",""]),e.exports=t},7978:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".collapse-panel .header .icon-triangle{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.collapse-panel .header .icon-triangle{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.collapse-panel .header .icon-triangle{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.collapse-panel .header{display:-ms-flex;display:flex;-ms-flex-align:center;align-items:center;height:30px;line-height:30px;margin-bottom:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.collapse-panel .header .icon-triangle svg polygon{fill:#333}.collapse-panel .header .icon-triangle.right svg polygon.right-bottom{display:none}.collapse-panel .header .icon-triangle.right-bottom svg polygon.right{display:none}.collapse-panel .header .text{-ms-flex-negative:0;flex-shrink:0;margin-left:5px;color:var(--fv-primary-color, #131313)}.collapse-panel .header .text:focus{outline:1px solid #b5b4b4}.collapse-panel .header .line{width:100%;height:1px;margin-left:10px;background-color:var(--Spacing_line_color, #E6E9F0)}.fv__ui-high-contrast.fv__ui-browser-firefox .collapse-panel .header .icon-triangle svg polygon{fill:WindowText}@media(forced-colors: active){.fv__ui-high-contrast .collapse-panel .header .icon-triangle svg polygon{fill:WindowText}}",""]),e.exports=t},4162:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-contextmenu{min-width:13.13em;-webkit-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-moz-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-ms-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-o-box-shadow:0 2px 5px rgba(0, 0, 0, .5);box-shadow:0 2px 5px rgba(0, 0, 0, .5);border-radius:.2em;border:1px solid #bebebe;border-color:var(--fv-frame-border-color, #bebebe);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-contextmenu.fv__ui-layer{padding:.25em 0;position:fixed}.fv__ui-contextmenu .fv__ui-layer-inner{padding:0}.fv__ui-contextmenu .fv__ui-button-icon{width:24px;height:24px;background-position:center;background-size:contain;margin-right:4px}.fv__ui-contextmenu .fv__ui-option-group .fv__ui-button-icon{margin-right:0}.fv__ui-contextmenu-item{margin:.25rem .375rem;padding:.125rem .5rem;height:30px;line-height:30px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-contextmenu-item:not(.disabled):hover,.fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover{background-color:#f0f1f5;background-color:var(--fv-hover-bg, #D8DBE5)}.fv__ui-cotextmenu-separator{display:block;border:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--base-border-color, #C7CCD9);border-bottom:none;pointer-events:none;margin:0 1em}.fv__ui-cotextmenu-separator+.fv__ui-cotextmenu-separator,.fv__ui-cotextmenu-separator+.fv__ui-hide+.fv__ui-cotextmenu-separator{display:none}.context-menu-item.context-menu-separator.context-menu-not-selectable{margin:0 1em}.fv__ui-contextmenu-item-shortcut{font-size:12px;color:#aaa;white-space:nowrap;line-height:24px;margin-left:auto;padding-left:5px}.fv__ui-contextmenu .fv__ui-button{text-align:left}.fv__ui-contextmenu .fv__ui-dropdown,.fv__ui-contextmenu .fv__ui-button{display:block;width:95%;height:30px;font-size:12px;line-height:24px;border-radius:0;margin:.25rem .375rem;padding:.125rem .5rem}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{font-size:1em;font-family:"Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";border-left:0;border-right:0}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:#131313;color:var(--fv-primary-color, #131313)}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-mobile.fv__ui-tablet{font-size:3.2vmin;padding:0 20px}.fv__ui-contextmenu .fv__ui-dropdown .fv__icon-toolbar-caret{transform:rotateZ(-90deg);background-color:rgba(0,0,0,0) !important}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-item{display:flex;padding:.2em 2em;height:inherit;font-size:12px;line-height:24px;color:#444}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-item:hover{background-color:#f0f1f5}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-button{font-size:inherit}.fv__ui-contextmenu .fv__ui-dropdown[disabled]{cursor:default;opacity:.6}.fv__ui-contextmenu .fv__ui-dropdown[disabled] .fv__ui-dropdown-toggler{cursor:inherit}.fv__ui-contextmenu .fv__ui-dropdown:not([disabled]):hover{background-color:var(--fv-hover-bg, #D8DBE5)}.fv__ui-contextmenu .fv__ui-dropdown:not([disabled]).active{background-color:var(--fv-active-bg, #E6E9F0)}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu .fv__ui-dropdown{height:4.5714285714vmin;line-height:4.5714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{font-size:1.3714285714vmin;padding-left:13px}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu-item.fv__ui-button{height:4.5714285714vmin;line-height:4.5714285714vmin;padding:0}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{font-size:1.3714285714vmin;line-height:4.5714285714vmin;padding:2px 20px}.fv__ui-mobile .fv__ui-contextmenu{font-size:3.2vmin}.fv__ui-mobile .fv__ui-contextmenu.fv__ui-layer{padding:.25em 0}.fv__ui-mobile .fv__ui-contextmenu .fv__ui-dropdown{height:8.5333333333vmin;line-height:8.5333333333vmin}.fv__ui-mobile .fv__ui-contextmenu-item{height:8.5333333333vmin;line-height:8.5333333333vmin}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button{width:auto;height:8.5333333333vmin;line-height:8.5333333333vmin;font-size:3.2vmin;justify-content:flex-start}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{display:none}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{font-size:3.2vmin;line-height:8.5333333333vmin;padding-left:0}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button span,.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover>span,.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover>label>span,.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover .fv__ui-button-text{color:#000}.fv__ui-mobile .fv__ui-cotextmenu-separator,.fv__ui-mobile .fv__ui-contextmenu-item{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item-shortcut{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;opacity:.8}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button{border:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active{background-color:Highlight;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-contextmenu-item-shortcut{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{outline:none;border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.active{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.disabled{outline:none;opacity:1}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.disabled>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-contextmenu-item-shortcut{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;opacity:.8}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button{border:0}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active{background-color:Highlight;outline:none}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-contextmenu-item-shortcut{color:HighlightText}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{color:WindowText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{outline:none;border:none}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.active{background-color:Highlight}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.disabled{outline:none;opacity:1}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.disabled>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{color:GrayText}}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover{outline:1px dotted highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active:hover{outline:1px solid highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{color:WindowText}',""]),e.exports=t},1286:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-alert-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-alert-dialog{border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-alert-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-alert-dialog .fv__ui-layer-panel{font-size:12px;padding:1em;padding-left:0;white-space:pre-wrap;word-break:break-word}.fv__ui-alert-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-alert-dialog .fv__ui-dialog-message{display:flex;padding:22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-wrap:break-word}.fv__ui-alert-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-alert-dialog .fv__ui-dialog-again{display:flex;margin-bottom:20px;font-size:12px;cursor:pointer}.fv__ui-alert-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-alert-dialog{border-radius:0.6666666667vmin}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-inner{min-width:auto}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-panel{font-size:3.2vmin;min-width:26.6666666667vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-alert-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-alert-dialog{border:1px solid}}",""]),e.exports=t},2891:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-confirm-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-confirm-dialog{border-radius:3px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-confirm-dialog .fv__ui-layer-panel{padding:0}.fv__ui-confirm-dialog .fv__ui-confirm-message{font-size:12px;padding-bottom:.5em}.fv__ui-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-confirm-dialog .fv__ui-dialog-message{display:flex;padding:0 0 22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-break:break-word;word-wrap:break-word}.fv__ui-confirm-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-confirm-dialog .fv__ui-dialog-again{display:flex;position:absolute;left:22px;bottom:28px;align-items:center;font-size:12px;cursor:pointer}.fv__ui-confirm-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-confirm-dialog{border-radius:0.4vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding:2.9333333333vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner{padding:0;min-width:74.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner input{width:4vmin;height:4vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-confirm-message{word-break:break-all;font-size:4.2666666667vmin;padding-bottom:.5em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar{font-size:4vmin;padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-confirm-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-confirm-dialog{border:1px solid}}",""]),e.exports=t},7319:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-confirm-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-confirm-dialog{border-radius:3px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-confirm-dialog .fv__ui-layer-panel{padding:0}.fv__ui-confirm-dialog .fv__ui-confirm-message{font-size:12px;padding-bottom:.5em}.fv__ui-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-confirm-dialog .fv__ui-dialog-message{display:flex;padding:0 0 22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-break:break-word;word-wrap:break-word}.fv__ui-confirm-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-confirm-dialog .fv__ui-dialog-again{display:flex;position:absolute;left:22px;bottom:28px;align-items:center;font-size:12px;cursor:pointer}.fv__ui-confirm-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-confirm-dialog{border-radius:0.4vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding:2.9333333333vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner{padding:0;min-width:74.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner input{width:4vmin;height:4vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-confirm-message{word-break:break-all;font-size:4.2666666667vmin;padding-bottom:.5em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar{font-size:4vmin;padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-confirm-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-confirm-dialog{border:1px solid}}.fv__ui-custom-confirm-dialog{width:auto;max-width:650px;min-width:505px}.fv__ui-custom-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-custom-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-custom-confirm-dialog .fv__ui-dialog-message{align-items:flex-start;font-size:14px}.fv__ui-custom-confirm-dialog .fv__ui-button{margin:0 !important;min-width:70px !important;min-height:unset !important;height:26px !important}.fv__ui-custom-confirm-dialog .fv__ui-button~.fv__ui-button{margin-left:10px !important}.fv__ui-custom-confirm-dialog .ask-again{margin-right:auto}.fv__ui-custom-confirm-dialog .lv-checkbox{display:inline-block;cursor:pointer;vertical-align:middle;user-select:none}.fv__ui-custom-confirm-dialog .lv-checkbox-tick{position:relative;top:0;left:0;display:inline-block;margin-right:4px;width:16px;height:16px;background-color:var(--fv-input-bg, #fff);border:1px solid var(--fv-input-border-color, #d9d9d9);border-radius:2px;border-collapse:separate;vertical-align:middle;-webkit-transition:all .3s;transition:all .3s}.fv__ui-custom-confirm-dialog .lv-checkbox-text{position:relative;display:inline-block;vertical-align:middle;margin-left:5px}.fv__ui-custom-confirm-dialog .lv-checkbox:active>.lv-checkbox-tick{background-color:rgba(64,158,255,.2)}.fv__ui-custom-confirm-dialog .lv-checkbox-checked>.lv-checkbox-tick:after{content:"";position:absolute;top:0;right:0;bottom:10%;left:1px;margin:auto;width:60%;height:40%;border-style:solid;border-color:var(--fv-checkbox-border-color, #aaa);border-width:2px;border-left:0;border-bottom:0;transform:rotate(135deg) scale(1)}.fv__ui-custom-confirm-dialog .fv__ui-dialog-comment-des20{margin-bottom:20px}.fv__ui-custom-confirm-dialog .fv__ui-dialog-comment-des5{margin-bottom:5px}.fv__ui-mobile .fv__ui-custom-confirm-dialog{min-width:100vw}',""]),e.exports=t},8305:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar,.fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-dialog-button{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border:1px solid #ddd;border-radius:3px;background:#fff;background-color:var(--fv-btn-bg, #fff);border-color:var(--fv-btn-border-color, #ddd);cursor:pointer;padding:5px 10px;line-height:18px;align-self:flex-start;text-align:center}.fv__ui-dialog-button.disabled{opacity:.5;pointer-events:none}.fv__ui-dialog-button.small{padding-top:2px;padding-bottom:2px}.fv__ui-dialog-button.round{border-radius:20px}.fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:auto;min-width:48px;min-height:28px;line-height:28px;border:1px solid #dd88e0;border-color:var(--fv-btn-border-color, #dd88e0);border-radius:3px;justify-content:center;padding:0px 10px;cursor:pointer;white-space:nowrap}.fv__ui-dialog-ok-button:not(.disabled):not(.active):focus,.fv__ui-dialog-cancel-button:not(.disabled):not(.active):focus{border-radius:2rem}.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-dialog-cancel-button .fv__ui-button-text{padding:0}.fv__ui-dialog-ok-button{color:var(--fv-accent-btn-color, #FFFFFF);background-color:var(--fv-accent-btn-bg, #9E3ABF)}.fv__ui-dialog-cancel-button{border:var(--fv-btn-border, 1px solid #BCC1D1)}.fv__ui-ask-dialog{max-width:500px;padding:22px}.fv__ui-ask-dialog .fv__ui-layer-inner{padding:0}.fv__ui-ask-dialog .fv__ui-layer-header-inner{padding:0;font-size:16px;height:40px;line-height:40px}.fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto;padding:0 1px}.fv__ui-dialog-message{white-space:pre-wrap;overflow:hidden;word-wrap:break-word}.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-ok-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-cancel-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-ok-button.fv__ui-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-cancel-button.fv__ui-button{width:auto;height:3.4285714286vmin;line-height:3.4285714286vmin;min-width:5.4857142857vmin;border-radius:0.3428571429vmin;font-size:1.3714285714vmin;padding:0vmin 1.1428571429vmin}.fv__ui-mobile .fv__ui-dialog-ok-button,.fv__ui-mobile .fv__ui-dialog-cancel-button,.fv__ui-mobile .fv__ui-dialog-ok-button.fv__ui-button,.fv__ui-mobile .fv__ui-dialog-cancel-button.fv__ui-button{width:auto;height:8vmin;line-height:8vmin;min-width:12.8vmin;border-radius:0.8vmin;font-size:3.2vmin;padding:0vmin 2.6666666667vmin}.fv__ui-mobile .fv__ui-ask-dialog{width:80vw;max-width:80vw;padding:2.9333333333vmin}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-inner{padding:0}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-header-inner{height:5.3333333333vmin;line-height:5.3333333333vmin}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:10px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.fv__ui-button .fv__ui-button-text{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled.fv__ui-button .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button{outline:none;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button .fv__ui-button-text{color:HighlightText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-ok-button.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.fv__ui-button .fv__ui-button-text{color:WindowText}.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled.fv__ui-button .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button{outline:none;background-color:Highlight}.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button .fv__ui-button-text{color:HighlightText}}",""]),e.exports=t},666:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-layer.fv__ui-loading-layer{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,0);box-shadow:none;cursor:wait;border:none}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{padding:0;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;height:100%}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation{width:128px;height:128px}.fv__ui-mobile .fv__ui-layer.fv__ui-loading-layer .fv__loading-animation{width:17.0666666667vmin;height:17.0666666667vmin}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(1){animation-delay:0s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(2){animation-delay:.2s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(3){animation-delay:.4s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(4){animation-delay:.6s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(5){animation-delay:.8s}.fv__ui-layer.fv__ui-loading-layer .fv__ui-loading-hidden{display:none}.fv__ui-loading-text{color:#eee}@-webkit-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@-moz-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@-o-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-loading-layer{border:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-loading-layer{border:none}}",""]),e.exports=t},6578:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(4471),a=n(8672);t=i(!1);var s=r(o),A=r(a);t.push([e.id,".fv__ui-prompt-input-container,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-prompt-password-switcher,.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-prompt-input-container,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-prompt-password-switcher,.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__prompt-password{padding:10px}.fv__prompt-password .fv__ui-layer-panel.fv__ui-layer-panel.fv__ui-layer-panel{padding:0 0 10px 0}.fv__prompt-password .fv__ui-layer-toolbar:last-child{padding:0}.fv__prompt-password.fv__ui-layer{z-index:100000}.fv__ui-prompt-dialog{border-radius:3px;width:360px;font-size:16px;padding:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-prompt-dialog .fv__ui-layer-header-inner{padding-left:0}.fv__ui-prompt-dialog .fv__ui-layer-panel{font-size:16px;padding-bottom:10px}.fv__ui-prompt-dialog .fv__ui-layer-inner{padding:0 10px}.fv__ui-prompt-dialog .fv__ui-layer-inner input{width:100%;height:27px;padding:0 .2em;border:1px solid var(--fv-input-border-color, #ddd)}.fv__ui-prompt-dialog p.notify{display:none;padding:0;margin:0}.fv__ui-prompt-dialog p.notify.error{display:block;color:darkred}.fv__ui-prompt-dialog p.notify.success{display:block;color:#006400}.fv__ui-prompt-dialog p.notify.info{display:block;color:#00008b}.fv__ui-prompt-dialog p.notify.warning{display:block;color:#ff0}.fv__ui-prompt-dialog .fv__ui-prompt-message{font-size:16px;padding-bottom:.5em}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto;margin-top:10px}.fv__ui-prompt-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:10px}.fv__ui-prompt-input-container{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;position:relative}.fv__ui-prompt-password-switcher{position:absolute;right:10px;background-repeat:no-repeat;background-size:100%;width:16px;height:16px;cursor:pointer}.fv__ui-prompt-show-password{background-image:url("+s+")}.fv__ui-prompt-hide-password{background-image:url("+A+")}.fv__ui-mobile .fv__ui-prompt-password-switcher{right:2.6666666667vmin;width:4.2666666667vmin;height:4.2666666667vmin}.fv__ui-mobile .fv__ui-prompt-dialog{border-radius:0.4vmin;width:86vw;font-size:13.3333333333vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-inner{padding:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-inner input{height:6.9333333333vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-prompt-message{font-size:4.2666666667vmin;padding:1em;padding-left:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-toolbar{font-size:4vmin;margin-top:1.3333333333vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-prompt-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-prompt-dialog{border:1px solid}}@media(inverted-colors: inverted){.fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#3183c8}.fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#aca7a3}}.fv__ui-browser-webkit[hc=a3] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a4] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a5] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#3183c8}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#aca7a3}",""]),e.exports=t},8015:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list,.fv__ui-dropdown-item-label,.fv__ui-dropdown-list>li,.fv__ui-dropdown-button,.fv__ui-dropdown-toggler{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-dropdown-toggler-text{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-dropdown-toggler-text,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span,.fv__ui-dropdown-editor{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-dropdown-list>li{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-dropdown-toggler{-webkit-box-pack:justify;-moz-box-pack:justify;box-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between}.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list,.fv__ui-dropdown-item-label,.fv__ui-dropdown-list>li,.fv__ui-dropdown-toggler{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-dropdown-button-icon,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-dropdown-editor,.fv__ui-dropdown,.fv__ui-dropdown-icon,.fv__ui-dropdown-caret{display:inline-block}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-icon:focus,.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus,.fv__ui-dropdown-toggler:focus,.fv__ui-dropdown-caret:focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list .fv__ui-dropdown-icon:focus,.fv__ui-dropdown-list .fv__ui-dropdown-toggler:focus,.fv__ui-dropdown-list .fv__ui-dropdown-caret:focus{outline-offset:-4px}.fv__ui-dropdown{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;width:54px;white-space:nowrap;height:40px;line-height:40px}.fv__ui-dropdown-caret{width:16px}.fv__ui-dropdown-caret:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-caret:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-toggler{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;cursor:pointer;overflow:hidden;border-top-right-radius:3px;border-bottom-right-radius:3px;height:100%;width:100%;border:1px solid rgba(0,0,0,0);background-color:rgba(0,0,0,0);padding:0;line-height:40px;line-height:inherit}.fv__ui-dropdown-toggler.disabled{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1;cursor:not-allowed}.fv__ui-dropdown-toggler>*{position:relative}.fv__ui-dropdown-toggler:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-toggler:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown,.fv__ui-dropdown-toggler{border-radius:3px}.fv__ui-dropdown-hide-text>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{display:none}.fv__ui-editable-dropdown{height:1.5rem;line-height:1.5rem}.fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid #c8c8c8;border-color:var(--fv-input-border-color, #c8c8c8)}.fv__ui-editable-dropdown .fv__ui-dropdown-caret{border-left:1px solid #c8c8c8;border-left-color:var(--fv-input-border-color, #c8c8c8)}.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-editable-dropdown .fv__ui-dropdown-icon{height:24px}.fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{cursor:no-drop}.fv__ui-mobile .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{filter:alpha(opacity=55);-moz-opacity:.55;-khtml-opacity:.55;opacity:.55}.fv__ui-dropdown-editor{height:1.5rem;min-width:0;border:none;margin:1px 0 0 2px;text-align:left;background-color:var(--fv-input-bg, #fff);color:var(--fv-primary-color, #131313)}.fv__ui-dropdown-editor:focus,.fv__ui-dropdown-editor:active{outline:none}.fv__ui-dropdown-icon{width:36px;height:38px;background-repeat:no-repeat;background-position:center}.fv__ui-dropdown-icon:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-icon:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-icon.fx-icon-normal svg{width:1rem;height:1rem}button.fv__ui-dropdown-icon,button.fv__ui-dropdown-caret{border:none;background-color:rgba(0,0,0,0);appearance:none;-webkit-appearance:none;-moz-appearance:none}.fv__ui-dropdown-button{list-style:none;margin-left:0;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-dropdown-list{list-style:none;margin:0;left:auto;top:auto;padding:4px 0;display:none;position:fixed;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);z-index:1060;border-radius:5px;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);border:1px solid #fff;border-color:var(--fv-frame-border-color, white)}.fv__ui-dropdown-list>li{margin:.25rem .375rem;padding:.125rem .5rem;position:relative;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item{padding:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item>.fv__ui-dropdown>.fv__ui-dropdown-toggler{padding:0 14px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item{height:32px;line-height:32px;min-width:168px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown{width:100%;border:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown:hover{background-color:var(--fv-accent-btn-hover-bg, #E6E9F0)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler{-webkit-align-content:flex-start;align-content:flex-start;height:32px;font-size:14px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span{padding-left:18px;text-overflow:ellipsis;overflow:hidden;text-align:left;color:#444;color:var(--fv-primary-color, #444)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{transform:rotate(270deg);background-color:rgba(0,0,0,0);margin-left:auto}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-icon{width:16px;height:16px;line-height:24px;align-self:center}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-icon,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-caret{height:32px;line-height:32px}.fv__ui-dropdown-list>li.fv__ui-dropdown-button{height:32px;line-height:32px;min-width:168px;width:auto;cursor:pointer;font-size:14px;border-radius:0;border:1px rgba(0,0,0,0) solid}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:hover,.fv__ui-dropdown-list>li.fv__ui-dropdown-button.active{background-color:#f0f1f5}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.selected{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.active{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:hover{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled{filter:alpha(opacity=60);-moz-opacity:.6;-khtml-opacity:.6;opacity:.6;cursor:not-allowed}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled:hover{background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button-file{padding:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-button-file>.fv__ui-dropdown-item-label{padding:0 14px;width:100%}.fv__ui-dropdown.active>.fv__ui-dropdown-list{display:block}.fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:#e0bde1;background-color:var(--fv-btn-pressed-bg, #E0BDE1)}.fv__ui-dropdown.disabled{filter:alpha(opacity=60);-moz-opacity:.6;-khtml-opacity:.6;opacity:.6}.fv__ui-dropdown-item-text,.fv__ui-dropdown-toggler-text{color:#444;color:var(--fv-primary-color, #444)}.fv__ui-dropdown.fv__ui-dropdown-limit-options .fv__ui-dropdown-list{max-height:224px;overflow-y:scroll}.fv__ui-dropdown-item-text{line-height:1.5;margin-left:.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fv__ui-dropdown-toggler-text{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}.fv__ui-dropdown-button-icon{width:24px;height:24px;background-position:center;background-repeat:no-repeat}.fv__ui-dropdown-button-icon.new-save-local-icon{width:24px;margin-left:-1px;background-position:center}.fv__ui-dropdown-item-label{margin:0;cursor:pointer;height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center}.fv__ui-dropdown-item-input{display:none}.fv__ui-dropdown-separator:after{content:"";border-bottom:1px solid #dddedf;border-bottom-color:var(--fv-spacing-line-primary-color, #dddedf);left:14px;right:14px;display:block;height:0;position:absolute;bottom:0px}.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list{padding:5px 0}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list .fv__ui-dropdown-item-text{display:none}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list>li.fv__ui-dropdown-button{min-width:0;width:44px;height:44px;padding:10px;border-radius:3px;margin-left:5px}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list>li.fv__ui-dropdown-button:last-child{margin-right:5px}.fv__ui-mobile .fv__ui-dropdown-editor{width:100%;height:100%}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler{outline-offset:-1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{background-color:Window;margin:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{margin:1px 0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected .fv__ui-dropdown-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler{border-color:Highlight;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:HighlightText;background-color:Highlight;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled{outline:1px solid GrayText;outline-offset:-2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-caret{border-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{color:GrayText;background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-toggler{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button .fv__ui-dropdown-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled .fv__ui-dropdown-item-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover .fv__ui-dropdown-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-toggler-text{background-color:Window;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown:not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler:focus .fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler{outline-offset:-1px}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{border-color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{background-color:Window;margin:1px}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{margin:1px 0}.fv__ui-high-contrast .fv__ui-dropdown.selected,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected{border-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.selected .fv__ui-dropdown-icon,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret{border-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler{border-color:Highlight;background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:HighlightText;background-color:Highlight;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-high-contrast .fv__ui-dropdown.disabled,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled{outline:1px solid GrayText;outline-offset:-2px}.fv__ui-high-contrast .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid WindowText}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled{outline:none}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-caret{border-color:GrayText}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{color:GrayText;background-color:Window}.fv__ui-high-contrast .fv__ui-editable-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-toggler{outline:none}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button .fv__ui-dropdown-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled .fv__ui-dropdown-item-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover .fv__ui-dropdown-item-text,.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-toggler-text{background-color:Window;color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown:not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler:focus .fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}.fv__ui-dropdown-icon-only .fv__ui-dropdown-toggler{display:inline-block}.fv__ui-dropdown-icon-only,.fv__ui-dropdown-icon-only .fv__ui-dropdown-icon{width:var(--fv-dropdown-icon-only-size, 24px);height:var(--fv-dropdown-icon-only-size, 24px);line-height:var(--fv-dropdown-icon-only-size, 24px)}.fv__ui-dropdown-icon-only .fv__ui-dropdown-caret{display:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown{border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler{border-width:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{margin:1px 1px 1px 0;border-top-right-radius:3px;border-bottom-right-radius:3px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler{outline:1px solid graytext}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.active>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.selected>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler{border-width:1px;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.selected).active{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(.selected):hover{outline:1px dotted}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}',""]),e.exports=t},3858:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-colors-picker{font-size:0;margin:0;padding:0;overflow:hidden}.fv__ui-colors-picker li,.fv__ui-colors-picker .fv__ui-picker-addcolor,.fv__ui-colors-picker .fv__ui-picker-removecolor{border:1px solid rgba(0,0,0,0);border-radius:5px;display:block;height:24px;margin:5px 1.5% 5px 1.5%;width:11%;background-color:none;float:left}.fv__ui-colors-picker li:focus,.fv__ui-colors-picker .fv__ui-picker-addcolor:focus,.fv__ui-colors-picker .fv__ui-picker-removecolor:focus{box-shadow:1px 2px 3px #656}.fv__ui-colors-picker li{cursor:pointer;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-colors-picker .fv__ui-property-icon-nocolor{background-color:#fff;border-color:#aeaeae}.fv__ui-colors-picker .fv__ui-picker-addcolor{background-color:#fff;border-color:#aeaeae;position:relative}.fv__ui-colors-picker .fv__ui-picker-removecolor{background-color:#fff;border-color:#aeaeae}.fv__ui-colors-picker .fv__color-picker-add,.fv__ui-colors-picker .fv__color-picker-add>div:first-child{width:100%;height:100%;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0;position:absolute}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-colors-picker li{border-color:WindowText !important}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-colors-picker li:focus{border-color:Highlight !important}",""]),e.exports=t},2877:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.foxit-spectrum-btns{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.foxit-spectrum-btns{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.foxit-spectrum-wrapper{position:fixed;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;width:256px;padding:22px;z-index:1051;display:none;border:1px solid #fff;border-color:var(--fv-frame-border-color, white)}.foxit-spectrum :after{content:"";display:block;width:0;height:0;clear:both}.foxit-spectrum,.foxit-spectrum-tools,.foxit-spectrum-btns{min-width:0}.foxit-spectrum{height:156px;display:flex;justify-content:space-between}.foxit-spectrum-color{width:156px;height:156px;background-color:red;position:relative}.foxit-spectrum-gradientX{width:100%;height:100%;background-image:linear-gradient(to right, #fff, rgba(204, 154, 129, 0));background-color:rgba(0,0,0,0)}.foxit-spectrum-gradientY{width:100%;height:100%;background-image:linear-gradient(to top, #000, rgba(204, 154, 129, 0));background-color:rgba(0,0,0,0)}#foxit-spectrum-color-dragger{border-radius:3px;height:6px;width:6px;border:1px solid #fff;background:#000;cursor:pointer;position:absolute;top:-3px;left:-3px}#foxit-spectrum-color-dragger:focus{background-color:#f0f1f5}.foxit-spectrum-hue{width:30px;height:120px;margin-left:10px;height:156px;background:linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);position:relative}.foxit-spectrum-transparent{width:30px;height:30px;position:absolute;border:1px solid #bfbebe;background-color:#fff;border-color:var(--fv-frame-border-color, #bfbebe);background-color:var(--fv-file-page-content-bg, #FFFFFF);border-radius:5px;right:22px;top:184px;display:none}.foxit-spectrum-transparent.show{display:block}#foxit-spectrum-hue-slider{position:absolute;left:-1px;top:-3px;width:32px;height:5px;border:1px solid #000;border-color:var(--fv-border-color, #000);background:#fff;filter:alpha(opacity=80);-moz-opacity:.8;-khtml-opacity:.8;opacity:.8}#foxit-spectrum-hue-slider:focus{background-color:#f0f1f5;filter:drop-shadow(1px 2px 3px #665566)}#foxit-spectrum-color-dragger,#foxit-spectrum-hue-slider{cursor:pointer}.foxit-spectrum-tools{margin-top:10px;height:30px}.foxit-spectrum-show{width:156px;height:24px;outline:1px solid #bfbfbf}#foxit-spectrum-current,#foxit-spectrum-active{float:left;width:50%;height:24px}.foxit-spectrum-btns{font-size:14px;margin-top:10px}.foxit-spectrum-btns button{margin-left:auto;width:60px;height:30px;border-radius:5px;background:rgba(0,0,0,0);outline:none;border:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--fv-btn-border-color, #dddddd);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);font-size:.75rem;min-width:fit-content;min-width:-moz-fit-content;min-width:-webkit-fit-content;padding:0rem .75rem 0rem .75rem;height:24px}.foxit-spectrum-btns button:last-child{margin-right:0}.foxit-spectrum-btns button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.foxit-spectrum-btns button input[type=checkbox]:last-child{margin-right:0}.foxit-spectrum-btns button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.foxit-spectrum-btns button:not(.disabled):hover,.foxit-spectrum-btns button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.foxit-spectrum-btns button:not(.disabled):hover .fv__ui-button-text,.foxit-spectrum-btns button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.foxit-spectrum-btns button.disabled,.foxit-spectrum-btns button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}#foxit-spectrum-choose{border:1px solid var(--fv-btn-border-color, #BCC1D1);border-color:var(--fv-btn-border-color, #BCC1D1);color:#fff;color:var(--fv-accent-btn-color, #FFFFFF);width:40%;float:left;margin-left:5%;display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2);margin-right:10px;min-width:0;font-size:.75rem;padding:0rem .75rem 0rem .75rem;height:24px}#foxit-spectrum-choose:last-child{margin-right:0}#foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}#foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}#foxit-spectrum-choose .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}#foxit-spectrum-choose.disabled,#foxit-spectrum-choose:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}#foxit-spectrum-choose.disabled .fv__ui-button-text,#foxit-spectrum-choose:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}#foxit-spectrum-cancel{width:40%;float:right;margin-right:5%}.fv__ui-mobile #foxit-spectrum-choose{border:1px solid #dd88e0;border-color:var(--fv-btn-border-color, #dd88e0);color:#dd88e0;color:var(--Accent_button_text, #dd88e0);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;margin-right:5px;margin-left:5px;min-width:4rem;color:#fff}.fv__ui-mobile #foxit-spectrum-choose:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile #foxit-spectrum-choose:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):hover,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):focus,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):active,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-choose.disabled,.fv__ui-mobile #foxit-spectrum-choose:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;min-width:4rem}.fv__ui-mobile #foxit-spectrum-cancel:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile #foxit-spectrum-cancel:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):hover,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):focus,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):active,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel.disabled,.fv__ui-mobile #foxit-spectrum-cancel:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.foxit-spectrum-color,.foxit-spectrum-hue,.foxit-spectrum-show,.foxit-spectrum-gradientX,.foxit-spectrum-gradientY,.foxit-spectrum-transparent{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}',""]),e.exports=t},3402:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-dropdown-select{width:100%;border:1px solid var(--fv-input-border-color, #d1d1d1);background-color:var(--fv-input-bg, #fff)}.fv__ui-dropdown-select,.fv__ui-mobile .fv__ui-dropdown-select.fv__ui-dropdown-select{height:var(--fv-dropdown-select-height, 6.4vmin);line-height:var(--fv-dropdown-select-height, 6.4vmin);width:100%}.fv__ui-dropdown-select .fv__ui-dropdown-list{max-height:var(--ui-dropdown-select-max-height, 50vh);overflow-y:auto;background-color:var(--fv-input-bg, #fff)}.fv__ui-dropdown-select .fv__ui-dropdown-list>li.fv__ui-dropdown-button{height:var(--ui-dropdown-select-item-height, 28px);line-height:var(--ui-dropdown-select-item-height, 28px)}.fv__ui-dropdown-select .fv__ui-dropdown-toggler{padding-left:.2em}.fv__ui-dropdown-select-inline{margin:0 .5em;vertical-align:middle}",""]),e.exports=t},6754:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-select .fv__ui-select-options,.fv__ui-select{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-select .fv__ui-select-options .fv__ui-select-lable,.fv__ui-select .fv__ui-select-options{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-select .fv__ui-select-options,.fv__ui-select{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-select .fv__ui-select-options,.fv__ui-select{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-select{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:30px;line-height:30px;border:1px solid rgba(0,0,0,0);position:relative;cursor:pointer}.fv__ui-select:not(.disabled):hover{border-color:#dd88e0;border-color:var(--fv-input-border-color, #dd88e0)}.fv__ui-select:focus{border-color:#dd88e0;border-color:var(--fv-input-border-color, #dd88e0)}.fv__ui-select .fv__ui-select-icon{width:30px;height:30px}.fv__ui-select .fv__ui-select-selector{box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);z-index:1001;display:none;border-radius:5px;background:#fbfbfd;background-color:var(--fv-primary-bg, #FBFBFD);padding:5px;margin:0;width:100%;position:absolute;top:100%;line-height:20px}.fv__ui-select .fv__ui-select-option{cursor:pointer;display:block;height:20px;line-height:20px}.fv__ui-select .fv__ui-select-option:hover,.fv__ui-select .fv__ui-select-option.selected{background-color:#e6e9f0;background-color:var(--fv-active-bg, #E6E9F0)}.fv__ui-select .fv__ui-select-option>div{height:100%;display:block;text-align:center;font-size:12px}.fv__ui-select .fv__ui-select-option:focus{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-accent-btn-hover-bg, var(--fv-hover-bg, #D8DBE5))}.fv__ui-select .fv__ui-select-options{height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;padding-left:19px}.fv__ui-select .fv__ui-select-options .fv__ui-select-lable{overflow:hidden;text-overflow:ellipsis;white-space:pre;height:100%}.fv__ui-select .fv__ui-select-options .fv__ui-select-dropdown{margin-left:auto;width:30px;height:30px;text-align:center;font-size:12px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select-selector{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option{overflow:hidden;margin-bottom:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option:hover{outline:1px dotted}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option.selected{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option.selected{background-color:Highlight}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-select-selector{outline:1px solid}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option{overflow:hidden;margin-bottom:1px}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option:hover{outline:1px dotted}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option.selected{outline:1px solid}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option:hover,.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option.selected{background-color:Highlight}}",""]),e.exports=t},1637:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-slider{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-slider{position:relative;width:100%;min-width:220px;height:20px;font-size:12px;color:#444;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-slider .fv__ui-slider-line,.fv__ui-slider input,.fv__ui-slider .fv__slider-icon{display:inline-block;vertical-align:top}.fv__ui-slider .fv__slider-icon{width:30px;height:100%}.fv__ui-slider .fv__ui-slider-line,.fv__ui-slider input{margin-left:1.375em}.fv__ui-slider .fv__ui-slider-line{width:calc(100% - 129px);height:4px;position:relative;background-color:var(--fv-check-or-radio-border-color, #9197A8)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-bar{height:100%;background-color:var(--fv-accent-color, #A236B2)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor{display:inline-block;width:10px;height:10px;position:absolute;background-color:#cecece;border:1px solid #fff;box-sizing:border-box;top:-3px;left:-5px;cursor:pointer}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:hover,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:focus,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor.fv__ui-select-dragging{background-color:var(--fv-accent-btn-hover-bg, #e2a1e6)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:focus{border-radius:50%}.fv__ui-slider input{height:100%;width:40px;position:absolute;right:15px}.fv__ui-slider span{font-size:14px;top:2px;position:absolute;right:0}.fv__ui-slider.contrast .fv__ui-slider-bar{background-color:var(--fv-accent-color, #A236B2)}.fv__ui-slider.contrast .fv__ui-slider-line{background-color:var(--fv-check-or-radio-border-color, #9197A8)}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider-line{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider-bar{height:0;border-top:4px solid #cecece}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-slider-line{outline:1px solid}.fv__ui-high-contrast .fv__ui-slider-bar{height:0;border-top:4px solid #cecece}}.fv__ui-slider-no-input input{display:none}.fv__ui-slider-center-point{position:absolute;left:calc(50% - 5px);top:-4px;display:block;width:0;height:10px;border-left:2px solid #cecece;cursor:pointer}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider .fv__ui-slider-cursor{background-color:Highlight}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-slider .fv__ui-slider-cursor{background-color:Highlight}}",""]),e.exports=t},4881:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-xselect-button{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-xselect-button-text{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-xselect-button{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-xselect{display:inline-block}.fv__ui-xselect-button{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.fv__ui-xselect-button.editable .fv__ui-xselect-button-text{display:none}.fv__ui-xselect-button.editable .fv__ui-xselect-button-edit{display:block}.fv__ui-xselect-button-edit{display:none}.fv__ui-xselect-button-text{display:block}.fv__ui-xselect-button-icon{width:1em}",""]),e.exports=t},62:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-checkbox{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-checkbox-wrapper,.fv__ui-checkbox{box-sizing:border-box;margin:0;padding:0;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";cursor:pointer}.fv__ui-checkbox{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;line-height:1;white-space:nowrap}.fv__ui-checkbox.disabled .fv__ui-checkbox-text{opacity:.5}.fv__ui-checkbox-wrapper{outline:none;position:relative;display:inline-block;width:1.3333333333em;min-width:1.3333333333em;height:1.3333333333em;min-height:1.3333333333em;vertical-align:middle}.fv__ui-checkbox-input{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;cursor:pointer;opacity:0;border:0;margin:0}.fv__ui-checkbox-inner{position:relative;top:0;left:0;width:100%;height:100%;display:inline-block;direction:ltr;background-color:var(--fv-input-bg, #FFFFFF);border:var(--Check_or_Radio_border, 1px solid #9197A8);border-radius:2px;border-collapse:separate}.fv__ui-checkbox-inner,.fv__ui-checkbox-inner::after,.fv__ui-checkbox-inner::before{-webkit-transition:opacity 0.1s, width 0.1s, height 0.1s;transition:opacity 0.1s, width 0.1s, height 0.1s}.fv__ui-checkbox-inner::after,.fv__ui-checkbox-inner::before{position:absolute;display:table;opacity:0;content:" "}.fv__ui-checkbox-inner::before{top:50%;left:20%;width:60%;height:.176em;margin-top:-0.088em;background-color:#c8c8c8}.fv__ui-checkbox-inner::after{top:50%;left:25%;-webkit-transform:rotate(45deg) scale(1) translate(-50%, -50%);-moz-transform:rotate(45deg) scale(1) translate(-50%, -50%);-ms-transform:rotate(45deg) scale(1) translate(-50%, -50%);-o-transform:rotate(45deg) scale(1) translate(-50%, -50%);transform:rotate(45deg) scale(1) translate(-50%, -50%);border:.1866666667em solid var(--fv-accent-btn-color, #FFFFFF);border-top:0;border-left:0;width:0.40715em;height:0.7415em}.fv__ui-checkbox-input:checked+.fv__ui-checkbox-inner{background-color:var(--fv-accent-btn-bg, #9E3ABF);border-color:var(--fv-accent-btn-bg, #9E3ABF)}.fv__ui-checkbox-input:indeterminate+.fv__ui-checkbox-inner::before,.fv__ui-checkbox-input:checked+.fv__ui-checkbox-inner::after{opacity:1}.fv__ui-checkbox-input:disabled+.fv__ui-checkbox-inner{opacity:.5;color:#888;border-color:var(--Accent_color, #d9d9d9) !important;cursor:not-allowed}.fv__ui-checkbox-text{margin-left:.5em}.fv__ui-checkbox-hide-text .fv__ui-checkbox-text{display:none}',""]),e.exports=t},6607:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-color-picker-button{--fv-color-picker-button-size: 24px;--value: transparent;position:relative;width:var(--fv-color-picker-button-size);height:var(--fv-color-picker-button-size);-webkit-user-select:none;user-select:none;border:1px solid var(--fv-input-border-color, #d1d1d1);background-color:var(--value);forced-color-adjust:none;forced-color-adjust:preserve-parent-color;box-sizing:content-box;padding:0}.fv__ui-color-picker-button:focus{outline:2px solid #656}.fv__ui-color-picker-button-empty:before{content:"";position:absolute;top:0;left:0;width:0;height:0;border:calc(var(--fv-color-picker-button-size)/2) solid green;border-top-color:blue;border-left-color:blue;cursor:pointer}.fv__ui-color-picker-button-empty:after{content:"?";font-size:calc(var(--fv-color-picker-button-size)/1.5);width:1em;height:1em;position:absolute;left:calc(50% - .5em);top:calc(50% - .5em);color:red}',""]),e.exports=t},5111:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-content-editor{display:block;white-space:pre;overflow:auto}.fv__ui-content-editor-disabled{opacity:.5}",""]),e.exports=t},9674:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-form-group{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-form-group-ttb .fv__ui-form-group-label,.fv__ui-form-group-rtl .fv__ui-form-group-label,.fv__ui-form-group-ltr .fv__ui-form-group-container{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-form-group-ttb{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-align:start;-moz-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.fv__ui-form-group-label{white-space:nowrap}.fv__ui-form-group-container{line-height:1}.fv__ui-form-group-delimiter{margin:0 5px 0 2px}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-form-group-ttb{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.fv__ui-form-group.disabled{opacity:.6;cursor:not-allowed}",""]),e.exports=t},9173:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-high-contrast.fv__ui-browser-firefox input.disabled{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast input.disabled{color:GrayText;border-color:GrayText}}.fv__ui-input-primary{border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem);height:6.4vmin;line-height:6.4vmin}.fv__ui-number.disabled{cursor:not-allowed}.fv__ui-input.disabled{cursor:not-allowed}",""]),e.exports=t},9302:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-pdf-unit-number-input-decrement:after,.fv__ui-pdf-unit-number-input-increment:after{content:""}.fv__ui-pdf-unit-number-input-decrement,.fv__ui-pdf-unit-number-input-increment{display:flex;justify-content:center;align-items:center;width:100%;height:50%;cursor:pointer;border:none;appearance:none}.fv__ui-pdf-unit-number-input-decrement:hover,.fv__ui-pdf-unit-number-input-increment:hover{background-color:var(--fv-content-bg, #eee)}.fv__ui-pdf-unit-number-input{position:relative;border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem);overflow:hidden}.fv__ui-pdf-unit-number-input-editor{border:none;width:100%}.fv__ui-pdf-unit-number-input:hover .fv__ui-pdf-unit-number-input-buttons{display:flex;flex-direction:column;align-items:center;flex-wrap:nowrap;justify-content:space-between}.fv__ui-pdf-unit-number-input-buttons{display:none;position:absolute;right:0;top:0;width:24px;height:100%}.fv__ui-pdf-unit-number-input-increment:after{bottom:3px;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-bottom:4px solid gray}.fv__ui-pdf-unit-number-input-decrement:after{top:3px;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:4px solid gray}',""]),e.exports=t},6828:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"fv__ui-radio{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}fv__ui-radio{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}fv__ui-radio-label{margin-left:.5em}",""]),e.exports=t},4827:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-textarea.disabled{cursor:not-allowed}.fv__ui-textarea-primary{border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem)}",""]),e.exports=t},6845:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(975);t=i(!1);var a=r(o);t.push([e.id,'.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active,.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{-webkit-box-align:start;-moz-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.fv__ui-grp-more .fv__icon-toolbar-more,.fv__ui-grouplist-item.shrink .fv__ui-grp-more{display:inline-block}.fx-ribbon{display:flex;padding:4px 0;user-select:none}.fx-ribbon-group{display:flex;border-left:1px solid #e0e0e0;border-left-color:var(--fv-body-bg, #e0e0e0);position:relative}.fx-ribbon-group:first-child{border-left:none}.fx-ribbon-group-header{display:none}.fx-ribbon-group-elements{display:flex}.fx-ribbon-item{flex-shrink:0;text-align:center;padding:0;margin:0 4px;color:#131313;color:var(--fv-primary-color, #131313);cursor:pointer}.fx-ribbon-item-disabled,.fx-ribbon-item.disabled{opacity:.5;cursor:not-allowed}.fx-ribbon-items-sm .fx-ribbon-item{padding:3px;margin:3px 0}.fx-ribbon-item-active,.fx-ribbon-item.active,.fx-ribbon-item.selected,.fx-ribbon-item:hover{border-radius:3px}.fx-ribbon-item-active,.fx-ribbon-item.active,.fx-ribbon-item.selected{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);outline-color:var(--fv-btn-outline-color, transparent)}.fx-ribbon-item:hover{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);outline-color:var(--fv-border-color, transparent);border-radius:3px}.fx-ribbon-item-sm{padding:0}.fx-ribbon-item-sm.fx-ribbon-item-active,.fx-ribbon-item-sm-active,.fx-ribbon-item-sm.active,.fx-ribbon-item-sm.selected,.fx-ribbon-item-sm:hover{background-color:rgba(0,0,0,0)}.fx-ribbon-item-sm.fx-ribbon-item-active .fx-ribbon-item-icon,.fx-ribbon-item-sm-active .fx-ribbon-item-icon,.fx-ribbon-item-sm.active .fx-ribbon-item-icon,.fx-ribbon-item-sm.selected .fx-ribbon-item-icon,.fx-ribbon-item-sm:hover .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);border-radius:3px}.fx-ribbon-item-sm-active .fx-ribbon-item-icon,.fx-ribbon-item-sm.active .fx-ribbon-item-icon,.fx-ribbon-item-sm.selected .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-sm:hover .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-sm .fx-ribbon-item-icon{padding:2px;height:20px;width:20px;line-height:inherit}.fx-ribbon-item-sm .fx-ribbon-item-icon .fx-icon{line-height:inherit}.fx-ribbon-item-icon{height:32px;line-height:32px;overflow:hidden;text-align:center}.fx-ribbon-item-icon:focus{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-text{height:32px;min-width:42px;font-size:12px;text-align:center}.fx-ribbon-item-text:focus{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-text-1,.fx-ribbon-item-text-2{height:16px;line-height:16px;white-space:nowrap}.fx-ribbon-item-more svg{display:inline-block;margin-left:2px;margin-bottom:-2px}.fx-ribbon-item-more .fv__ribbonButton-arrow{display:inline-block;content:"";width:6px;height:3px;background-image:url('+a+');background-size:100%;background-repeat:no-repeat;margin-left:2px}.fx-ribbon-item-more:after{display:inline-block;content:"";width:6px;height:3px;background-image:var(--fv-icon-ribbon-item-more, url('+a+'));background-size:100%;background-repeat:no-repeat;margin-left:2px;margin-bottom:1px}.fx-ribbon-item-dropdown-menu.fx-dropdown-menu{margin-left:-4px}.fv__ui-mobile .fx-ribbon-dropdown>.fv__ui-dropdown{height:0}.fx-ribbon-dropdown{position:absolute;height:0}.fx-ribbon-dropdown>.fv__ui-dropdown{height:0}.fx-ribbon-dropdown>.fv__ui-dropdown>.fv__ui-dropdown-toggler{display:none}.fv__ui-grouplist{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item:last-child{margin-right:0}.fv__ui-grouplist-item{*zoom:1;position:relative}.fv__ui-grouplist-item:after{content:"";height:30px;width:0px;border-right:var(--Spacing_line, 1px solid #E6E9F0);border-right-color:var(--Spacing_line_color, #E6E9F0);display:block;clear:both}.fv__ui-grouplist-item>*{margin-right:8px;clear:both}.fv__ui-grouplist-item>*:first-child{margin-left:8px}.fv__ui-grouplist-item .fv__ui-grp-btn-list-title{display:none}.fv__ui-grouplist-item .fv__ui-grp-btn-list{margin-right:0}.fv__ui-grouplist-item .fv__ui-grp-btn-list>*{margin-right:8px;list-style:none}.fv__ui-grp-btn-list{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grp-btn-list>*{margin-right:0}.fv__ui-grp-btn-list>.fx-ribbon-items-sm{align-self:flex-start}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list{display:none}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{position:fixed;background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);z-index:1000;padding-top:5px;padding-bottom:5px;border-radius:5px;min-width:142px;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px)}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-editable_zoom_dropdown{width:129px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-grp-btn-list-title{display:block;padding:0 8px;height:38px;line-height:38px;font-size:12px;color:#444;color:var(--fv-primary-color, #444);font-weight:bold}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-file-selector,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-fileselector,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected{width:100%;height:32px;padding:4px 8px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-file-selector>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-fileselector>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected>span{display:inline}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button{margin:0}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields>span{margin-left:17px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected>span{margin-left:6px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-directive-tooltip-tip{display:none}div[name=fv--esignCN-tab-paddle] .fv__ui-grouplist-item:after{height:65px}div[name=fv--esignCN-tab-paddle] .fv__ui-paddle-content{display:flex}.fv__ui-grp-more{width:24px;height:24px;cursor:pointer;display:none}.fv__ui-grp-more .fv__icon-toolbar-more{width:24px;height:24px}.fv__ui-grp-more:focus{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-secondary-bg, var(--fv-hover-bg, #D8DBE5));border-radius:3px}',""]),e.exports=t},706:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-gtab-item-icon{display:inline-block}.fv__ui-gtab-item:focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list .fv__ui-gtab-item:focus{outline-offset:-4px}.fx-tab,.fv__ui-tab-nav{display:flex;list-style:none;padding:0;margin:0;user-select:none;background-color:#f4f4f4;background-color:var(--File_page_content_BG, #F4F4F4)}.fx-tab-item,.fv__ui-gtab-item{padding:.25rem 1rem .0625rem;cursor:pointer;color:#464646;color:var(--fv-primary-color, #464646);border-bottom:.1875rem solid rgba(0,0,0,0)}.fx-tab-item-active,.fv__ui-gtab-item.active,.fx-tab-item.active,.fx-tab-item:hover,.fv__ui-gtab-item:hover{color:#a236b2;color:var(--fv-accent-color, #A236B2);border-bottom-color:#a236b2;border-bottom-color:var(--fv-accent-color, #A236B2)}.fx-tab-link,.fv__ui-gtab-item-text{font-size:.875rem;line-height:1.25rem;font-weight:bold}.fx-tab-content{background-color:#f4f4f4;background-color:var(--File_page_content_BG, #F4F4F4)}.fx-tab-pane{display:none}.fx-tab-pane-active,.fx-tab-pane.active{display:block}.fv__ui-gtab-item{display:inline-block;position:relative}.fv__ui-browser-huawei .fv__ui-gtab-item::after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;z-index:1}.fv__ui-gtab-item:focus{outline-offset:-3px;outline-color:var(--fv-accent-color, #A236B2)}.fv__ui-gtab-item:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-gtab-item:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-gtab-item-icon{width:1em;height:1em;background-size:100%;margin:0 .2em}.fv__ui-gtab-item-text{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;color:var(--fv-ribbon-name-text, #515151)}.fv__ui-gtab-item-close{width:.625em;height:.625em;position:absolute;right:0;top:0;text-align:center;color:var(--fv-primary-color, #131313)}.fv__ui-gtab-item-close:before{content:"×";font-size:.625em;line-height:1;position:absolute;width:100%;height:100%;left:0;top:0;font-weight:bold;font-family:system-ui}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-gtab-item:focus{background-color:Window;outline:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-gtab-item:focus{background-color:Window;outline:none}}',""]),e.exports=t},8859:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}",""]),e.exports=t},2387:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-option-group{position:relative;padding:4px 0}.fv__ui-option-group:not(:first-of-type)::before{content:"";position:absolute;top:0;right:8px;width:calc(100% - 1em - 32px);height:1px;border-top:solid 1px var(--base-border-color, #C7CCD9)}.fv__ui-option-group .fv__ui-option-group-item{display:flex;align-items:center;justify-content:flex-start;gap:8px;margin:0 5px;padding:0 8px;height:30px;min-width:168px;cursor:pointer}.fv__ui-option-group .fv__ui-option-group-item:not(.selected)>.fv__icon-tick{background-image:none}.fv__ui-option-group .fv__ui-option-group-item:not([disabled]).active,.fv__ui-option-group .fv__ui-option-group-item:not([disabled]):hover{background-color:var(--fv-accent-btn-hover-bg, #E6E9F0)}',""]),e.exports=t},7814:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-backward .fv__ui-paddle-button-prev,.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-forward .fv__ui-paddle-button-next,.fv__ui-paddle-horizontal{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-paddle-horizontal .fv__ui-paddle-content{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-paddle-content-container{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-paddle-horizontal,.fv__ui-paddle-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-paddle-horizontal .fv__ui-paddle-content,.fv__ui-paddle-horizontal{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-paddle-unavailable,.fv__ui-paddle-unavailable .fv__ui-paddle-content-container{display:inline-block}.fv__ui-paddle{overflow:hidden}.fv__ui-paddle::after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.fv__ui-paddle-button{cursor:pointer;display:none;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.disabled .fv__ui-paddle-button{cursor:not-allowed}.fv__ui-paddle-button>i{display:block;width:9px;height:9px;border-top:1px solid #999;border-right:1px solid #999}.fv__ui-paddle-content-container{overflow:hidden}.fv__ui-paddle-horizontal{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.fv__ui-paddle-horizontal .fv__ui-paddle-content{height:100%;max-height:100%;min-width:100%;position:relative}.fv__ui-paddle-horizontal .fv__ui-paddle-button{width:16px}.fv__ui-paddle-horizontal .fv__ui-paddle-button-prev{border-right:1px solid #ddd}.fv__ui-paddle-horizontal .fv__ui-paddle-button-prev>i{transform:rotate(-135deg);margin-left:3px}.fv__ui-paddle-horizontal .fv__ui-paddle-button-next{border-left:1px solid #ddd}.fv__ui-paddle-horizontal .fv__ui-paddle-button-next>i{transform:rotate(45deg);margin-right:3px}.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-none .fv__ui-paddle-button{display:none}.fv__ui-paddle-unavailable{vertical-align:top;width:100%}.fv__ui-paddle-unavailable .fv__ui-paddle-button{display:none}.fv__ui-paddle-unavailable .fv__ui-paddle-content-container{width:100%;overflow-x:auto}.fv__ui-paddle-unavailable .fv__ui-paddle-content-container::-webkit-scrollbar{display:none}',""]),e.exports=t},133:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"",""]),e.exports=t},5174:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-scenario-option{display:flex;flex-direction:column;gap:10px}.fv__ui-scenario-option-radio-box{display:flex;align-items:center;gap:10px;height:24px;line-height:24px;white-space:nowrap}.fv__ui-scenario-option-radio-box input{margin:0}.fv__ui-scenario-option-body{padding-left:22px;cursor:not-allowed}.fv__ui-scenario-option-checked{cursor:initial}.fv__ui-scenario-option-disabled{opacity:.6}.fv__ui-scenario-option-disabled *{cursor:not-allowed}",""]),e.exports=t},2765:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-widget-sel-option{display:block;white-space:nowrap;min-height:1.2em;padding:0px 2px 1px;line-height:inherit;cursor:pointer}.fv__ui-widget-sel-option-selected{background-color:#d8dbe5;background-color:var(--fv-hover-bg, #D8DBE5);background-image:linear-gradient(0deg, #D8DBE5 0%, #D8DBE5 100%);background-image:linear-gradient(0deg, var(--fv-hover-bg, #D8DBE5) 0%, var(--fv-hover-bg, #D8DBE5) 100%);color:var(--fv-primary-color, #131313)}.fv__ui-widget-select-list{display:inline-block;border-radius:3px;border:var(--fv-frame-border, 1px solid #C7CCD9);overflow-x:hidden;overflow-y:scroll;list-style:none;margin:0;padding:0}.fv__ui-widget-select-list:focus-within{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-widget-sel-option-selected{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-image:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-widget-sel-option-selected{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-image:none}}",""]),e.exports=t},3985:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(6402);t=i(!1);var a=r(o);t.push([e.id,'.fv__ui-sidebar-dragger,.fv__ui-sidebar-body>.active,.fv__ui-sidebar.expand .fv__ui-sidebar-ctls,.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-sidebar-panel-body,.fv__ui-sidebar-body{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-sidebar-ctls{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-sidebar-dragger{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-sidebar-dragger,.fv__ui-sidebar-body>.active,.fv__ui-sidebar-ctls{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-sidebar-nav-icon{display:inline-block}.fv__ui-sidebar{z-index:999;background-color:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-content:stretch;align-content:stretch}.fv__ui-sidebar.expand .fv__ui-sidebar-body{display:block}.fv__ui-sidebar.collapse-totally .fv__ui-sidebar-ctls,.fv__ui-sidebar.collapse-totally .fv__ui-sidebar-body{display:none}.fv__ui-sidebar.fv__ui-sidebar-full-width{width:100vw}.fv__ui-sidebar-ctls{order:0;width:38px;border-right:1px solid #e1e1e1;border-right-color:var(--fv-frame-border-color, #e1e1e1);background:#f7f7f7;background:var(--fv-secondary-bg, #f7f7f7)}.fv__ui-sidebar-toggler{width:38px;height:38px;display:block;cursor:pointer}.fv__ui-sidebar-nav{margin-top:8px}.fv__ui-sidebar-nav-ctrl{display:block;width:32px;height:48px;margin-left:5px;box-sizing:border-box;line-height:0;margin-bottom:1px;border-top-left-radius:5px;border-bottom-left-radius:5px;background:#f8f8f8;background-color:var(--fv-secondary-bg, #f8f8f8);cursor:pointer;padding:1px;position:relative;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none !important;user-select:none}.fv__ui-sidebar-nav-ctrl.active{border:1px solid #e1e1e1;border-right:none;border-color:var(--fv-frame-border-color, #e1e1e1);padding:0;background:#fff;background-color:var(--fv-primary-bg, #FFFFFF)}.fv__ui-sidebar-nav-ctrl.active:after{content:"";display:block;position:absolute;top:0;right:-1px;width:1px;height:100%;float:right;background:#fff;background-color:var(--fv-primary-bg, #FFFFFF)}.fv__ui-sidebar-nav-ctrl.disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:not-allowed}.fv__ui-sidebar-body{order:1;overflow:hidden}.fv__ui-sidebar-body>*{display:none;min-width:240px;height:100%}.fv__ui-sidebar-body .fv__ui-button:hover{background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF)}.fv__ui-sidebar-body .fv__ui-button .fv__ui-button-icon{background-size:auto}.fv__ui-sidebar-body .fv__ui-buttongroup{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown-toggler-text{display:none}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown{width:1.75rem}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown .fv__ui-dropdown-icon{background-size:1rem}.fv__ui-sidebar-body .fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler{padding:0 1rem}.fv__ui-sidebar-body .fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span{padding-left:0px}.fv__ui-sidebar-dragger{order:2;width:12px;cursor:col-resize;background-color:#e6e9f0;border-right:1px solid #e6e9f0;border-left:1px solid #e6e9f0;background-color:var(--fv-hide-show-bg, #E6E9F0);border-left-color:var(--fv-hide-show-bg, #E6E9F0);border-right-color:var(--fv-hide-show-bg, #E6E9F0);-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-content:center;align-content:center}.fv__ui-sidebar-dragger .toggler{position:relative;cursor:pointer;font-size:12px;font-family:Verdana,Helvetica,"Micosoft Yahei",微软雅黑,宋体,sans-serif}.fv__ui-sidebar.collapse .fv__ui-sidebar-dragger{border-left:0}.fv__ui-sidebar.collapse .toggler,.fv__ui-sidebar.expand .toggler{display:inline-block;width:.625rem;height:.625rem;background:var(--fv-sidebar-toggler-icon, url('+a+')) no-repeat 100% 100%}.fv__ui-sidebar.collapse-totally .toggler:before{content:"▶";color:var(--fv-primary-color)}.fv__ui-sidebar-nav-icon{width:32px;height:48px}.fv__ui-sidebar-panel-header{height:43px;border-bottom:var(--Spacing_line, 1px solid #E6E9F0);border-bottom-color:var(--Spacing_line_color, #C7CCD9)}div[name=sidebar-attachment] .fv__ui-sidebar-panel-header{border-bottom:none}.fv__ui-sidebar-panel-title{line-height:36px;padding-left:1em;font-size:14px;font-weight:700;color:#666;color:var(--Secondary_text, #333333);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none !important;user-select:none;white-space:nowrap}.fv__ui-sidebar-panel-body{overflow-y:auto;padding:0 10px}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-ctls,.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-toggler{width:4.3428571429vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-ctls{overflow-y:auto;overflow-x:hidden;border-right-width:0.0571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-toggler{height:2.1714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-nav-icon{width:2.7428571429vmin;height:5.3714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-nav-ctrl{width:3.6571428571vmin;height:5.3714285714vmin;margin-left:0.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-dragger{width:1.4857142857vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-header,.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-title{font-size:1.3714285714vmin;line-height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-title{padding-left:1.2571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-header{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-body>*{min-width:14.8571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-toggle-commentlist-group-button{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button .fv__ui-dropdown-item-text{font-size:size(24px);height:2.6285714286vmin;line-height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button{padding:0.9142857143vmin 1.3714285714vmin}.fv__ui-mobile .fv__ui-sidebar-ctls,.fv__ui-mobile .fv__ui-sidebar-toggler{width:10.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-ctls{overflow-y:auto;overflow-x:hidden;border-right-width:0.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-toggler{height:5.0666666667vmin}.fv__ui-mobile .fv__ui-sidebar-nav-icon{width:6.4vmin;height:12.5333333333vmin}.fv__ui-mobile .fv__ui-sidebar-nav-ctrl{width:8.5333333333vmin;height:12.5333333333vmin;margin-left:1.4666666667vmin;text-align:center}.fv__ui-mobile .fv__ui-sidebar-dragger{width:3.4666666667vmin}.fv__ui-mobile .fv__ui-sidebar-dragger.active{background-color:#c6c6c6}.fv__ui-mobile .fv__ui-sidebar-panel-header,.fv__ui-mobile .fv__ui-sidebar-panel-title{font-size:3.2vmin;line-height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-panel-title{padding-left:2.9333333333vmin}.fv__ui-mobile .fv__ui-sidebar-panel-header{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-body>*{min-width:34.6666666667vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button{width:auto;height:auto}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-toggle-commentlist-group-button{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button .fv__ui-dropdown-item-text{font-size:size(24px);height:6.1333333333vmin;line-height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button{height:auto;padding:2.1333333333vmin 3.2vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button:hover{background-color:var(--fv-active-bg, #E6E9F0)}@media(inverted-colors: inverted){.fv__ui-sidebar-nav-ctrl.active{border-color:#3183c8}.fv__ui-sidebar-ctls{border-right-color:#3183c8}}.fv__ui-browser-webkit[hc=a3] .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a4] .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a5] .fv__ui-sidebar-nav-ctrl.active{border-color:#3183c8}.fv__ui-browser-webkit[hc=a3] .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a4] .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a5] .fv__ui-sidebar-ctls{border-right-color:#3183c8}@media(inverted-colors: inverted){.fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active{border-color:#aca7a3}.fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls{border-right-color:#aca7a3}}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active{border-color:#aca7a3}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls{border-right-color:#aca7a3}.fv__ui-sidebar-ctls .fv__icon-sidebar-search{background-size:80%}.sidebar-contextmenu-wrap.fv__ui-contextmenu{min-width:222px}.sidebar-contextmenu-wrap.fv__ui-contextmenu .fv__ui-button-icon{width:16px;height:16px}.sidebar-contextmenu-no-icon .fv__ui-button-text{margin-left:20px}',""]),e.exports=t},3731:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-tab-nav{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-tab-nav{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-tab-nav{list-style:none;padding:0;margin:0}.fv__ui-tab-nav li{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;height:28px;line-height:28px;padding:0 16px;min-width:68px;text-align:center;border-top-left-radius:3px;border-top-right-radius:3px;color:#636363}.fv__ui-tab-nav li.active{background:#f7f7f7}.fv__ui-tab-body{background:#f7f7f7}.fv__ui-tab-body>*{display:none}.fv__ui-tab-body>.active{display:block}",""]),e.exports=t},7348:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-toolbar{border-bottom:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--fv-border-color, #C7CCD9);background-color:var(--fv-primary-bg, #FBFBFD);line-height:0}",""]),e.exports=t},54:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(916),a=n(5798),s=n(6690),A=n(6931),c=n(4290),u=n(4281),l=n(9775),d=n(7161),h=n(9322);t=i(!1);var f=r(o),p=r(a),g=r(s),v=r(A),m=r(c),y=r(u),_=r(l),b=r(d),w=r(h);t.push([e.id,".fv__ui-tree-node-wrapper{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-tree-node-wrapper{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-tree-node-icon,.fv__ui-tree-node-checkbox-inner,.fv__ui-tree-node-checkable .fv__ui-tree-node-checkbox,.fv__ui-tree-node-intent-unit{display:inline-block}.fv__ui-tree-node-leaf .fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-mid, url("+f+"));--icon-name: join_pc_ui}.fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-bottom, url("+p+"));--icon-name: joinbottom_pc_ui}.fv__ui-tree-node-leaf:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-top, url("+g+"));--icon-name: jointop_pc_ui}.fv__ui-tree-node-intent-unit,.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-across, url("+v+"));--icon-name: line_pc_ui}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree.fv__ui-tree-node-open>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-minus-mid, url("+m+"));--icon-name: minus_pc_ui}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-close:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree.fv__ui-tree-node-close>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-plus-mid, url("+y+"));--icon-name: plug_pc_ui}.fv__ui-tree-node-subtree.fv__ui-tree-node-close:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-plus-bottom, url("+_+"));--icon-name: plugbottom_pc}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-minus-bottom, url("+b+'));--icon-name: minusbottom_pc}.fv__ui-tree{width:max-content}.fv__ui-tree-node-list{list-style:none;padding:0;margin:0}.fv__ui-tree-node-subtree.fv__ui-tree-node-close:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree>.fv__ui-tree-node-list>.fv__ui-tree-node:not(.fv__ui-tree-node-subtree):first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::before{background-image:none}.fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-children-wrapper{transition:height 5s ease-in;width:max-content;max-width:100%;display:none}.fv__ui-tree-node-open>.fv__ui-tree-node-children-wrapper{display:block}.fv__ui-tree-node.fv__ui-tree-node-loading .fv__ui-tree-node-children-wrapper:after{content:"";display:block;width:100%;min-width:1em;height:1em;background-image:var(--fv-icon-tree-node-loading, url('+w+'));background-repeat:no-repeat;background-position:center;background-size:1em}.fv__ui-tree-node{font-size:var(--fv-tree-node-font-size, 12px);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;width:max-content;max-width:100%}.fv__ui-tree-node-wrapper{-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;white-space:nowrap;box-sizing:content-box;font-family:Verdana,Geneva,Arial,Helvetica,sans-serif}.fv__ui-tree-node-switcher-icon{height:21px;width:14px;min-width:14px;background-size:14px 21px}.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{background-size:14px 21px;background-repeat:repeat-y}.fv__ui-tree-node-intent-unit,.fv__ui-tree-node-switcher{background-size:100%;background-repeat:repeat-y;display:flex;align-self:stretch;flex-direction:column}.fv__ui-tree-node-intent-unit::before,.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{content:"";display:inline-block}.fv__ui-tree-node-intent-unit::before,.fv__ui-tree-node-switcher::before{height:calc(1em - 12px);width:14px;min-width:14px}.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{flex:1}.fv__ui-tree-node-intent{pointer-events:none;min-width:fit-content;display:flex;align-items:stretch}.fv__ui-tree-node-intent-unit{position:relative;visibility:hidden}.fv__ui-tree-node-intent-unit-has-line{visibility:visible;height:auto}.fv__ui-tree-node-checkbox{width:1em;height:1em;line-height:1;display:none;margin-left:2.4px;margin-right:4.8px;margin-top:calc(.5em - 1px)}.fv__ui-tree-node-checkbox-inner{width:1em;height:1em;box-sizing:border-box;border:1px solid #d9d9d9;border-radius:2px;border-collapse:separate;direction:ltr;position:relative;overflow:hidden}.fv__ui-tree-node-checkbox-inner:before,.fv__ui-tree-node-checkbox-inner:after{content:"";position:absolute}.fv__ui-tree-node-checkbox-native{display:none}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner{border:0}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner:before{left:0;top:0;width:0;height:0;border:.5em solid #1890ff}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner:after{position:absolute;display:table;border:.125em solid #fff;border-top:0;border-right:0;width:.5714285713em;height:.3571428566em;transform:rotate(-45deg) translate(0, 90%)}.fv__ui-tree-node-checkbox-native:indeterminate+.fv__ui-tree-node-checkbox-inner:before{left:.16em;top:.18em;width:0;height:0;border:.28em solid #1890ff;background-color:#1890ff}.fv__ui-tree-node-content-wrapper{display:inline-flex;align-items:flex-start;padding:.325em 0}.fv__ui-tree-node-title{color:var(--fv-primary-color, #000000);white-space:nowrap;line-height:1.2;box-sizing:content-box;max-width:calc(100% - 16px)}.fv__ui-tree-node-title-bold{font-weight:bold}.fv__ui-tree-node-title-italic{font-style:italic}.fv__ui-tree-node-titleWrap .fv__ui-tree-node-title{white-space:break-spaces}.fv__ui-tree-node-icon{width:16px;min-width:16px;height:16px;margin-right:3px;margin-top:calc(.6*(1em - 12px));background-size:cover;background-repeat:no-repeat}.fv__ui-tree-node-editting>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-content-wrapper>.fv__ui-tree-node-title{min-width:12em;border:solid 1px #e1e1e1;border-color:var(--fv-input-border-color, #e1e1e1);font-size:inherit;display:inline-block;vertical-align:top;cursor:text}.fv__ui-tree-node-editting>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-content-wrapper>.fv__ui-tree-node-title:focus{box-shadow:0px 0px 0px 1px #e2a1e6;box-shadow:var(--fv-drop-shadow, 0px 0px 0px 1px #E2A1E6);color:var(--fv-accent-color, #000);outline:none}.fv__ui-tree-node-drag-indicator{display:block;position:fixed;height:0;overflow:hidden;border-top:1px dashed #666;pointer-events:none;z-index:99999}.fv__ui-tree-dragging{cursor:pointer}.fv__ui-mobile .fv__ui-tree-node{font-size:3.2vmin}.fv__ui-tree-dragging-node{opacity:.8}',""]),e.exports=t},7057:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__js-exec-dialog-element{display:flex;flex-direction:column;padding:4px 0;--fv-exec-dialog-element-gap: 0.5em;align-items:flex-start;height:var(--fv-js-exec-dialog-element-height, auto);width:var(--fv-js-exec-dialog-element-width, auto);overflow:auto;box-sizing:content-box}.fv__js-exec-dialog-element-gap{align-self:stretch}.fv__js-exec-dialog-element-cluster{border:1px solid var(--fv-frame-border-color, #bebebe);padding:var(--fv-exec-dialog-element-gap, 0.5em);align-self:stretch}.fv__js-exec-dialog-element-button{display:inline-block}.fv__js-exec-dialog-element-edit_text{border:2px inset var(--fv-frame-border-color, #bebebe);cursor:text;align-self:stretch;outline:none;resize:none;font-size:14px}.fv__js-exec-dialog-element-edit_text-measure{font-size:14px;padding:0 2px;visibility:hidden;height:0px;overflow:visible;white-space:break-spaces}.fv__js-exec-dialog-element-edit_text-oneline{white-space:nowrap;word-break:keep-all}.fv__js-exec-dialog-element-edit_text-multiline{white-space:pre-wrap}.fv__js-exec-dialog-element-static_text{align-self:stretch}.fv__js-exec-dialog-element-static_text-oneline{white-space:break-spaces}.fv__js-exec-dialog-element-static_text-multiline{white-space:pre-wrap}.fv__js-exec-dialog-element-link_view{align-self:stretch}.fv__js-exec-dialog-element-ok{display:inline-block}.fv__js-exec-dialog-element-ok_cancel{display:inline-flex;flex-direction:row;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-radio,.fv__js-exec-dialog-element-checkbox{flex-direction:row;gap:var(--fv-exec-dialog-element-gap, 0.5em);align-items:center}.fv__js-exec-dialog-element-radio>input,.fv__js-exec-dialog-element-checkbox>input{margin:0}.fv__js-exec-dialog-element-radio>input[disabled]~span,.fv__js-exec-dialog-element-checkbox>input[disabled]~span{opacity:.5}.fv__js-exec-dialog-element-ok_cancel_other{flex-direction:row;justify-content:flex-end;align-self:stretch;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-ok_cancel_other>[data-button-type=other]{margin-right:auto}.fv__js-exec-dialog-element-listbox{align-self:stretch;border:2px inset var(--fv-frame-border-color, #bebebe)}.fv__js-exec-dialog-element-hier_listbox{align-self:stretch;border:2px inset var(--fv-frame-border-color, #bebebe)}.fv__js-exec-dialog-element-bold{font-weight:bold}.fv__js-exec-dialog-element-italic{font-style:italic}.fv__js-exec-dialog-element-alignment-children-align_right{align-items:flex-end}.fv__js-exec-dialog-element-alignment-children-align_center{align-items:center}.fv__js-exec-dialog-element-alignment-children-align_left{align-items:flex-start}.fv__js-exec-dialog-element-alignment-children-align_row{flex-direction:row;justify-content:space-between;align-items:center;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-alignment-children-align_distribute{flex-direction:row;justify-content:space-around}.fv__js-exec-dialog-element-alignment-children-align_fill{flex-direction:row;justify-content:stretch}.fv__js-exec-dialog-element-alignment-self-align_right{align-self:flex-end}.fv__js-exec-dialog-element-alignment-self-align_center{align-self:center}.fv__js-exec-dialog-element-alignment-self-align_left{align-self:flex-start}",""]),e.exports=t},3636:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__action-dialog{padding:22px;overflow:hidden;color:rgba(0,0,0,0);position:fixed;margin:0;left:50%;top:50%;transform:translate(-50%, -50%)}.fv__action-dialog-container{cursor:default}.fv__action-dialog-header{font-size:18px;font-weight:600;display:flex;justify-content:space-between;color:#444}.fv__action-dialog-close-icon{cursor:pointer}.fv__action-dialog-body{padding:22px 0;font-size:12px;color:#212529;color:var(--fv-primary-color, #131313)}.fv__action-dialog-select{line-height:24px}.fv__action-dialog-input{height:24px;border:1px solid #d2d2d2;border-color:var(--fv-input-border-color, #d2d2d2);border-radius:5px}#select-action,#select-openIn{width:216px;height:24px;border:1px solid var(--fv-input-border-color, #cecece);border-radius:3px;font-size:12px}.fv__action-dialog-box{width:403px;margin-top:22px;border-radius:5px;display:none}.fv__action-box-title{line-height:18px;margin-bottom:9px}.fv__action-dialog-btns{float:right}.fv__action-dialog-btns .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__action-dialog-btns .fv__ui-dialog-ok-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__action-dialog-btns .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__action-dialog-btns .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__action-dialog-btns .fv__ui-dialog-cancel-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}#url-input{width:100%}#goto-input{width:157px}.fv__action-dialog-goto-container{display:flex}.fv__action-dialog-goto-center{display:flex}.fv__action-dialog-select-title,.fv__action-dialog-goto-target{line-height:24px;white-space:nowrap;display:inline-block;width:140px;padding-right:12px}.fv__action-dialog-goto-input{display:inline-block;margin-right:10px}.fv__action-dialog-goto-position{display:inline-block;color:#969696}.fv__action-dialog-goto-left-value{margin-right:10px}.fv__action-btn{min-width:64px;height:30px;border-radius:5px;background:#f8f8f8;cursor:pointer;outline:none}.fv__action-btn:hover{background:#f0f1f5}.fv__action-dialog-footer{overflow:hidden}.fv__action-btn-ok{border:1px solid #dd88e0;color:#444}.fv__action-btn-cancel{border:1px solid #ddd;color:#444;margin-right:20px}",""]),e.exports=t},136:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__place-redaction-dialog{top:40%}.fv__place-redaction-dialog .fv__place-redaction-dialog-header{height:30px}.fv__place-redaction-dialog .fv__place-redaction-dialog-title{float:left}.fv__place-redaction-dialog .fv__place-redaction-dialog-close-icon{float:right}.fv__place-redaction-dialog span{vertical-align:text-bottom;padding:10px}.fv__place-redaction-dialog .fv__redaction-range{padding:10px 30px;font-size:12px}.fv__place-redaction-dialog .fv__redaction-page-range{padding:2px 42px 2px 5px;border:1px solid var(--fv-input-border-color, #e1e1e1);border-radius:5px;height:30px}.fv__place-redaction-dialog .fv__redaction-page-range.fv__redaction-error{border:1px solid red}.fv__redaction-container:not(:last-child){margin-bottom:10px}.fv__redaction-container{font-size:14px}",""]),e.exports=t},8962:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv_shapes_ui{position:absolute;z-index:25;left:0;top:0}",""]),e.exports=t},6608:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__widget-appearance-element{position:absolute;z-index:9999;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:var(--fv-doc-cursor-type, pointer);outline:1px dotted #666;outline-offset:0}.hide-form-field-focus-rectangle .fv__widget-appearance-element{outline:none}.fv__widget-appearance-element:active:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,.01);opacity:.1}.fv__widget-focus-element{position:absolute;z-index:9999;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-indent:-1em;font-size:12px;-webkit-transform:scale(0.01);transform:scale(0.01);color:rgba(0,0,0,0);overflow:hidden;padding:0;width:1px;height:1px;border:none;resize:none;background:rgba(0,0,0,0);outline:none;white-space:nowrap}.fv__widget-outline{outline:1px dotted #666;outline-offset:1px;opacity:1}.hide-form-field-focus-rectangle .fv__widget-outline{outline:none}.fv__widget-signature-foreground{mix-blend-mode:multiply;position:absolute;z-index:28}.fv__widget-signature-foreground:hover{outline:1px solid;cursor:var(--fv-doc-cursor-type, pointer)}.fv__widget-signature-foreground.fv__widget-outline:hover{outline-width:0}.fv_doc-readonly .fv__widget-signature-foreground{pointer-events:none}.fv__widget-signature-readonly{pointer-events:none}.fv__widget-signature-foreground-hidden{display:none}',""]),e.exports=t},422:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.js-window-modal .js-modal-dialog .modal-content .modal-body{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.js-window-modal .js-modal-dialog{-webkit-box-flex:auto;-moz-box-flex:auto;box-flex:auto;-webkit-flex:auto;-moz-flex:auto;flex:auto}.js-window-modal{z-index:10020;position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(125,125,125,.5)}.js-window-modal .disabled{filter:alpha(opacity=65);-moz-opacity:.65;-khtml-opacity:.65;opacity:.65;cursor:not-allowed !important}.js-window-modal .js-modal-dialog{position:absolute;top:50%;left:50%;border:1px solid;border-radius:4px;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);background:#fbfbfd;background:var(--fv-primary-bg, #FBFBFD);max-height:82%;width:700px;max-width:80%}.js-window-modal .js-modal-dialog .modal-content{height:100%}.js-window-modal .js-modal-dialog .modal-content .modal-header{position:relative;line-height:19px;padding:5px 10px;border-bottom:1px solid #c7ccd9;border-bottom:var(--fv-frame-border, 1px solid #C7CCD9);font-size:14px;height:50px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .modal-header button.close{float:right;border:0;background:rgba(0,0,0,0);font-size:24px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.js-window-modal .js-modal-dialog .modal-content .modal-body{padding:20px;line-height:1.42857143;height:calc(100% - 106px);overflow:auto;max-height:325px}.js-window-modal .js-modal-dialog .modal-content .modal-footer{padding:5px 20px 20px;height:56px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer{padding:5px 20px 20px}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer .js-warning{padding:5px;border:1px solid #c7ccd9;border:var(--fv-frame-border, 1px solid #C7CCD9);color:red;font-size:14px}.js-window-modal .js-modal-dialog .modal-content .js-view-component+*{margin-top:20px}.js-window-modal .js-modal-dialog .modal-content .js-view-component{overflow:hidden;word-break:keep-all}.js-window-modal .js-modal-dialog .modal-content .js-view-component>*{max-width:100%}.js-window-modal .js-modal-dialog .modal-content .children-in-row::before,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::before{display:table;content:" "}.js-window-modal .js-modal-dialog .modal-content .children-in-row::after,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::after{display:table;content:" ";clear:both}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>input{float:left;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>span{float:left;height:19px;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .children-in-row{position:relative}.js-window-modal .js-modal-dialog .modal-content .children-in-row .js-item-wrapper{float:left}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper:not(:last-child){margin-right:15px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper .btn{min-width:80px;min-height:21px}.js-window-modal .js-modal-dialog .modal-content .js-buttons .js-item-wrapper{display:inline-block}.js-window-modal .js-modal-dialog .modal-content .align-right{text-align:right}.js-window-modal .js-modal-dialog .modal-content .align-left{text-align:left}',""]),e.exports=t},7868:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-print-process{position:fixed;width:40%;left:50%;top:50%;transform:translate(-50%, -50%);background:#fff;box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;border-radius:5px;z-index:100;padding:23px;font-size:18px}.fv__ui-print-process-digital-progress{margin:18px 0}.fv__ui-print-process-bar{height:24px;box-shadow:0 2px 4px #555;border-radius:5px;overflow:hidden;border:1px solid rgba(0,0,0,0);box-sizing:border-box}.fv__ui-print-process-percent{border-top:24px solid #a3bde3;width:0%;height:0}",""]),e.exports=t},995:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-snapped-point{position:absolute;z-index:1000;pointer-events:none}",""]),e.exports=t},9672:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-image-blank{position:absolute;border:1px solid red}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-image-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-image-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}",""]),e.exports=t},6110:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-link-blank{position:absolute;border:1px solid blue}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-link-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-link-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}",""]),e.exports=t},1051:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__mark-selection-blank{position:absolute;padding:0;background-color:rgba(85,153,255,.3)}.fv__selection-tool-tip-container{position:absolute;display:none;z-index:100}.fv__selection-tool-tip-container.fv__active{display:block}.fv__selection-tool-tip-container::before,.fv__selection-tool-tip-container::after{content:"";position:absolute;left:-10px;display:block;border:10px solid rgba(0,0,0,0);width:0;height:0}.fv__selection-tool-tip-container::before{bottom:-11px;border-top-color:#ccc}.fv__selection-tool-tip-container::after{bottom:-10px;border-top-color:#fff}.fv__selection-tool-tip-items{position:relative;margin-top:-50px;left:-50%;box-shadow:rgba(151,151,151,.35) 0 0 14px;font-size:0;white-space:nowrap}.fv__selection-tool-tip-item{display:inline-block;width:40px;height:40px;cursor:pointer;background-color:#fff}.fv__selection-tool-tip-item:first-child{border-radius:5px 0 0 5px}.fv__selection-tool-tip-item:last-child{border-radius:0 5px 5px 0}.fv__selection-tool-tip-item.disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:initial}.fv__mark-text-selection-range{position:absolute;padding:0;border:solid 1px #000}.fv__text-link{max-width:200px;position:absolute;padding:10px;word-break:break-all;background-color:var(--fv-file-page-content-bg, #FFFFFF);box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px}',""]),e.exports=t},7759:(e,t,n)=>{var i=n(3645),r=n(5979),o=n(1667),a=n(209),s=n(6190),A=n(6189),c=n(6294),u=n(5225),l=n(6623),d=n(8483),h=n(4420),f=n(3800),p=n(4113),g=n(4404),v=n(7898),m=n(3350),y=n(1342),_=n(9382),b=n(5481),w=n(8555),k=n(3296),x=n(4853),P=n(7e3),C=n(4005),D=n(5672),E=n(8244),S=n(5618),I=n(527),T=n(7710),M=n(4855),R=n(9456),F=n(2142),N=n(384),L=n(3954),O=n(6989),j=n(4052),B=n(5471),V=n(4031),H=n(3434),U=n(5412),z=n(2954),W=n(329),Y=n(6627),G=n(5080),$=n(8488),J=n(5906),q=n(9416),K=n(3231),Z=n(2272),X=n(1759),Q=n(383);(t=i(!1)).i(r);var ee=o(a),te=o(s),ne=o(A),ie=o(c),re=o(u),oe=o(l),ae=o(d),se=o(h),Ae=o(f),ce=o(p),ue=o(g),le=o(v),de=o(m),he=o(y),fe=o(_),pe=o(b),ge=o(w),ve=o(k),me=o(x),ye=o(P),_e=o(C),be=o(D),we=o(E),ke=o(S),xe=o(I),Pe=o(T),Ce=o(M),De=o(R),Ee=o(F),Se=o(N),Ie=o(L),Te=o(O),Me=o(j),Re=o(B),Fe=o(V),Ne=o(H),Le=o(U),Oe=o(z),je=o(W),Be=o(Y),Ve=o(G),He=o($),Ue=o(J),ze=o(q),We=o(K),Ye=o(Z),Ge=o(X),$e=o(Q);t.push([e.id,".fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__pdf-page-caret-annot-handler-container.disabled{cursor:not-allowed;filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__cursor-pencil{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+ee+")) 3 28,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-insert-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+te+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-highlight{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ne+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-s-underline{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ie+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-underline{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+re+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-strikeout{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+oe+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-replace-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ae+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-file{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+se+")) 5 27,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-typewriter{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+Ae+")) 11 4,var(--fv-doc-cursor-type, text)}.fv__cursor-textbox{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ce+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-eraser{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+ue+")) 3 28,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-marquee{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+le+")) 0 0,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-loupe{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+de+")) 0 0,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-rotation{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+he+")) 8 8,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+fe+")) 4 0,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-tick{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+pe+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-cross{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ge+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-dot{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ve+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-line{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+me+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-rectangle{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ye+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-note{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+_e+")) 6 6,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-article{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+be+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-eraser-2{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+we+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-forbidden{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+ke+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-hand{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+xe+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-sign{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+Pe+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-disable.fv__cursor-disable.fv__cursor-disable{cursor:no-drop}.fv__cursor-none{cursor:var(--fv-doc-cursor-type, none)}.fv__cursor-grab{cursor:var(--fv-doc-cursor-type, grab)}.fv__cursor-text{cursor:var(--fv-doc-cursor-type, text)}.fv__cursor-grabbing{cursor:var(--fv-doc-cursor-type, grabbing)}.fv__cursor-text{cursor:var(--fv-doc-cursor-type, text)}.fv__cursor-crosshair{cursor:var(--fv-doc-cursor-type, crosshair)}.fv__cursor-pointer{cursor:var(--fv-doc-cursor-type, pointer)}.fv__icon-toolbar-edit-text,.fv__icon-popup-copy,.fv__icon-toolbar-underline,.fv__icon-toolbar-strikeout,.fv__icon-toolbar-text-highlight{background-repeat:no-repeat;background-position:center}.fv__icon-toolbar-text-highlight{background-image:url("+Ce+")}.fv__icon-toolbar-strikeout{background-image:url("+De+")}.fv__icon-toolbar-underline{background-image:url("+Ee+")}.fv__icon-popup-copy{background-image:url("+Se+")}.fv__icon-toolbar-edit-text{background-image:url("+Ie+')}@font-face{font-family:FoxitPDFSDKForWeb;src:local("Helvetica"),local("Arial"),local("Times New Roman"),local("宋体")}html{--facing-margin: 8px}[contenteditable]{-webkit-user-select:text;user-select:text}.fv__hide{display:none !important}.fv__block{display:block !important}.fv__inline{display:inline !important}.fv__hidden{display:none !important}.fv__mb_5{margin-bottom:5px}.fv__mb_15{margin-bottom:15px}.fv__btn{cursor:pointer}.fv__pdf-page-not-rendered{height:100vh}.fv__rendering-svg{background-image:url('+Te+');background-repeat:no-repeat;background-size:100%;background-position:center;width:128px;height:128px}.fv__ui-touch-device .fv__pdf-page-rendering{pointer-events:none}.fv__pdf-viewer-rendering,.fv__pdf-doc-rendering,.fv__pdf-page-rendering{text-align:center;height:100%}.fv__pdf-viewer-rendering.rendered,.fv__pdf-doc-rendering.rendered,.fv__pdf-page-rendering.rendered{height:unset}.fv__pdf-viewer-rendering .fv__rendering-svg,.fv__pdf-doc-rendering .fv__rendering-svg,.fv__pdf-page-rendering .fv__rendering-svg{width:128px;vertical-align:middle}.fv__pdf-viewer-rendering .fv__loading-animation,.fv__pdf-doc-rendering .fv__loading-animation,.fv__pdf-page-rendering .fv__loading-animation{width:128px;height:128px}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(1){animation-delay:0s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(2){animation-delay:.2s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(3){animation-delay:.4s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(4){animation-delay:.6s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(5){animation-delay:.8s}.fv__loading-animation{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;list-style:none;padding:0}.fv__loading-animation li{background-color:#ddd;-webkit-box-flex:1 1 auto;-moz-box-flex:1 1 auto;box-flex:1 1 auto;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:26.56%;animation:loading-animation 1.2s infinite}.fv__loading-animation li:first-child{margin-left:5.859%}.fv__loading-animation li:last-child{margin-right:5.859%}.fv__loading-animation li+li{margin-left:5.468%}@-webkit-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-moz-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-o-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}.fv__pdf-doc-layout{position:relative}.fv__pdf-doc-layout.fv__destroy{display:none}.fv__pdf-doc-layout .fv__pdf-doc-container{position:relative}.fv__pdf-doc-layout .fv__pdf-doc-container .fv__pdf-view-mode-item{margin-top:var(--facing-margin);margin-right:var(--facing-margin);margin-bottom:0}.fv__pdf-view-mode-item{margin:8px auto 0}.fv__pdf-invisible-page-item .fv__pdf-page-layout{visibility:hidden}.fv__pdf-invisible-page-item .fv__pdf-page-layout>.fv__pdf-page-handler-container{visibility:hidden}.fv__pdf-invisible-page-item .fv__pdf-page-container,.fv__pdf-invisible-page-item canvas,.fv__pdf-invisible-page-item .fv__pdf-page-customs-container{display:none}.fv__pdf-page-layout{overflow:visible;margin:8px auto;margin:0 auto;position:relative}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering{position:absolute;width:100%;height:100%;z-index:100;display:table}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering .fv__rendering-container{display:table-cell;vertical-align:middle}.fv__pdf-page-container{position:relative;transform-origin:0 0;overflow:hidden;width:100%;height:100%;background-color:var(--bgc)}.fv__pdf-page-annots-container,.fv__pdf-page-customs-container{position:absolute;transform-origin:0 0;top:0;left:0;width:100%;height:100%;overflow:hidden}.fv__tiles-container{transform-origin:0 0;position:relative}.fv__pdf-viewer{--bgc: #fff;position:relative;display:inline-block;min-width:100%}.fv__h-continuous-view-mode-layout{height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.fv__pdf-viewer canvas{vertical-align:top}.fv__tiles-canvas{vertical-align:top;width:100%;height:100%}.fv__pdf-page-annot-container{position:absolute;overflow:visible;overflow:unset;z-index:22;transform-origin:0 0;cursor:pointer;line-height:0}.fv__pdf-page-annot-container.fv__annot-flags-nozoom{overflow:hidden;transform:scale(1) !important}.fv__pdf-page-annot-container.fv__zindex-down{z-index:21}.fv__pdf-page-highlight-annot-container,.fv__viewer-fake-highlight-area-annot{mix-blend-mode:multiply}.fv__color-property-row{display:flex;flex-direction:row;margin:1px 0}.fv__color-property-col{position:relative;-webkit-box-flex:1 0 28px;-moz-box-flex:1 0 28px;box-flex:1 0 28px;-webkit-flex:1 0 28px;-moz-flex:1 0 28px;-ms-flex:1 0 28px;flex:1 0 28px;height:26px;display:flex;margin:1px;cursor:pointer;line-height:26px;text-align:center}.fv__color-property-item{position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.fv__color-property-item.fv__transparent{position:relative}.fv__color-property-item.fv__transparent:before{content:"";transform:rotate(-45deg);position:absolute;top:49%;width:100%;height:0;border-top:1px solid red}.fv__pdf-doc-handler-container{z-index:9;position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(1,0,0,0)}.fv__pdf-page-content-container{z-index:10}.fv__pdf-page-highlight-container{position:absolute;top:0;left:0;z-index:1;transform-origin:0 0}.fv__pdf-page-no-highlight-container{position:absolute;top:0;left:0;z-index:20;transform-origin:0 0}.fv__virtual-pdf-page{position:relative}.fv__virtual-pdf-page>*{pointer-events:none}.fv__virtual-pdf-page:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;cursor:not-allowed;z-index:30}.fv_choice_border{box-sizing:border-box}.fv_choice_icon{position:absolute;top:0;left:0;width:100%;height:100%}.fv__height100{height:100%}.fv__width100{width:100%}.fv__annot-container-zindex-up .fv__pdf-page-handler-container{z-index:26}.fv__annot-container-zindex-up .fv__pdf-page-annot-container{z-index:28}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__zindex-down{z-index:27}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-page-watermark-annot-container{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container{z-index:25;user-select:none}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container.fv__zindex-down{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-highlight-annot-container{z-index:27}.fv__annot-container-zindex-up .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:25}.fv__annot-container-zindex-up.fv__allow-modify-form-control .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:29}.fv__pdf-page-handler-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:30;transform-origin:0 0;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:31;display:none;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container.active{display:block}.fv__pdf-page-annot-handler-container.fv__pdf-form-control-handler-container{z-index:29;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__pdf-page-annot-handler-container.fv__pdf-page-caret-annot-handler-container{z-index:31}.fv__pdf-page-3d-annot-interaction-canvas{width:100%;height:100%}.fv__pdf-page-text-selection-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:32}.fv__pdf-page-annot-handler-blank{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1}.fv__pdf-page-annot-handler-rect{position:absolute;z-index:2;outline-offset:-1px}.fv__pdf-page-annot-handler-rect.active{outline:1px solid red}.fv__pdf-page-annot-handler-rect.fv__annot-active{outline:1px solid #5aa}.fv__text-boundary{z-index:10;position:absolute;width:0;cursor:e-resize}.fv__text-boundary.ban{cursor:default}.fv__text-boundary.ban .fv__text-boundary-cursor{border:2px solid gray}.fv__text-boundary.ban .fv__text-boundary-sign{border:2px solid gray}.fv__text-boundary-blank{padding:0 7px;margin-left:-8px;height:100%}.fv__text-boundary-cursor{border:1px solid blue;width:0;height:100%}.fv__text-boundary-sign{position:absolute;border:2px solid blue;width:12px;height:12px;left:-8px;border-radius:50%;box-sizing:content-box}.fv__text-boundary-left{transform-origin:left top}.fv__text-boundary-left .fv__text-boundary-sign{top:-15px}.fv__text-boundary-right{transform-origin:left bottom}.fv__text-boundary-right .fv__text-boundary-sign{bottom:-15px}.fv__pdf-page-annot-action-container{position:absolute;z-index:40;display:none}.fv__pdf-page-annot-action-container.active{display:block}.fv__clipboard-copy-textarea{position:absolute;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}.fv__dialog{position:absolute;left:0;right:0;top:30%;z-index:1024;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;padding:1em;background:#fff;color:var(--fv-primary-color, #131313);display:block;box-shadow:1px 1px 3px 0px #ddd;border:1px solid #c7ccd9;border:var(--fv-dialog-border, 1px solid #C7CCD9);border-radius:5px}.fv__dialog:not([open]){display:none}.fv__dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.1)}.fv__dialog.fixed{position:fixed;top:50%;transform:translate(0, -50%)}.fv__annot-reply-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-reply-dialog .fv__textarea-container{margin-bottom:5px;margin-bottom:.2rem}.fv__annot-reply-dialog .trust-dia-inbox label{display:block}.fv__annot-reply-dialog .trust-dia-inbox label input{vertical-align:-2px}.fv__annot-reply-dialog .fv__block-textarea{border-color:#e5e5e5;border-radius:4px;width:300px;color:#666}.fv__annot-reply-dialog .fv__btn-reply{border-color:#e2a1e6;color:#e2a1e6}.fv__annot-reply-dialog .fv__btn-replay-disabled{border-color:gray;color:gray}.fv__annot-reply-dialog .fv__btn_reply_container{text-align:right;margin-bottom:-5px;margin-bottom:-0.2rem}.fv__annot-reply-dialog .fv__btn-close-container{border-top:1px solid #ddd;padding-top:10px;margin-top:10px;text-align:right}.trust-dia-dibox{padding:22px;background:#fbfbfd;background:var(--fv-primary-bg, #FBFBFD);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;max-width:480px}.trust-dia-dibox .btn-bot-box{margin-top:20px;margin-bottom:0}.trust-dia-dibox>p{margin-bottom:22px;padding:0;font-size:16px;color:#131313;color:var(--fv-primary-color, #131313);font-weight:400;display:flex;justify-content:space-between}.trust-dia-dibox>p i{width:16px;height:16px;cursor:pointer}.trust-dia-dibox .fv__icon-dialog-level-warning{display:inline-block;width:30px;height:24px;flex:0 0 30px;margin-top:5px}.trust-dia-dibox .fv__trust-tip-container>p{display:flex}.trust-dia-dibox .fv__trust-tip-container>p span{margin-left:8px}.trust-dia-dibox .trust-ok-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.trust-dia-dibox .trust-ok-btn:last-child{margin-right:0}.trust-dia-dibox .trust-ok-btn input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.trust-dia-dibox .trust-ok-btn input[type=checkbox]:last-child{margin-right:0}.trust-dia-dibox .trust-ok-btn .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.trust-dia-dibox .trust-ok-btn.disabled,.trust-dia-dibox .trust-ok-btn:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.trust-dia-dibox .trust-ok-btn.disabled .fv__ui-button-text,.trust-dia-dibox .trust-ok-btn:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.trust-dia-dibox .trust-no-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.trust-dia-dibox .trust-no-btn:last-child{margin-right:0}.trust-dia-dibox .trust-no-btn input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.trust-dia-dibox .trust-no-btn input[type=checkbox]:last-child{margin-right:0}.trust-dia-dibox .trust-no-btn .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.trust-dia-dibox .trust-no-btn:not(.disabled):hover,.trust-dia-dibox .trust-no-btn:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.trust-dia-dibox .trust-no-btn:not(.disabled):hover .fv__ui-button-text,.trust-dia-dibox .trust-no-btn:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.trust-dia-dibox .trust-no-btn.disabled,.trust-dia-dibox .trust-no-btn:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__replies_list{list-style:none;margin:0;padding:2px 0}.fv__replies_list .fv__replies_list{margin-left:5px}.fv__replies_item{line-height:2;border-top:1px dashed #ddd;color:#666}.fv__replies_content{white-space:pre}.fv__label-block-text{display:block;font-weight:bold;margin-bottom:5px;margin-bottom:.2rem}.fv__block-textarea{display:block;width:100%;box-sizing:border-box}.fv__annot-properties-dialog+.backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog::backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-properties-dialog .fv__property-item{margin-bottom:5px;padding-bottom:5px;border-bottom:1px dashed #ddd}.fv__annot-properties-dialog .fv__property-item:last-child{border-bottom:none}.fv__annot-properties-dialog .fv__property-item-name-container{display:inline-block;width:100px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fv__annot-properties-dialog .fv__property-item-field-container{display:inline-block;width:200px}.fv__annot-properties-dialog .fv__property-item-field-container select,.fv__annot-properties-dialog .fv__property-item-field-container input{width:100%;border:1px solid #d4d4d4;border-radius:3px}.fv__annot-properties-dialog .fv__property-item-field-container input[type=range]{vertical-align:middle}.fv__annot-properties-dialog .fv__property-item-field-container input[type=number]{text-align:right}.fv__annot-properties-dialog .fv__property-item-field-container input[type=checkbox]{width:auto}.fv__annot-properties-dialog .fv__property-item-field-container select{vertical-align:super}.fv__annot-properties-dialog .fv__property-item-only-field-container{text-align:center}.fv__annot-properties-dialog .fv__btn-close-container{text-align:right}.fv__dialog-replies-block{margin-bottom:5px}.fv__pdf-annot-line-point{position:absolute;cursor:pointer}.fv__pdf-annot-line-point-item{position:absolute;top:-4px;left:-4px;width:8px;height:8px;background-color:#5aa;z-index:3}.fv__pdf-annot-line-caption{position:absolute;top:0px;left:0px;padding:0px 1px;white-space:nowrap;color:rgba(0,0,0,0);z-index:3;cursor:pointer}.fv__freetext-content-edit-textarea{display:none;position:absolute;transform-origin:0 0}.fv__freetext-content-edit-textarea.fv__active{display:block}.fv__mark-selection-blank{position:absolute;padding:0}.fv__mark-selection-blank button{display:none;position:relative;left:calc(100% + 8px);top:calc(100% - 32px);width:24px;height:24px;border-radius:4px;cursor:pointer;border:1px solid var(--Border-Frame_border, #C7CCD9);background:url('+Me+') no-repeat center center;box-shadow:0px 4px 4px 0px #c7d3e4}.fv__page-area-renderer{overflow:hidden;background-color:gray;width:100%;height:100%}.fv__page-area-renderer canvas{background-color:#fff;outline:1px solid #000;position:relative}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__callout-shape-controller-resizable-disabled .fv__shape-controller{visibility:hidden;display:none}.fv__shape-control,.fv__process-innerrect-control,.fv__move-whole-control{display:block;position:absolute;outline:1px solid #5aa;outline-offset:-1px;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;transform-origin:50% 50%;z-index:1}.fv__shape-control.disabled,.fv__process-innerrect-control.disabled,.fv__move-whole-control.disabled{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__shape-control.disabled .fv__shape-controller,.fv__process-innerrect-control.disabled .fv__shape-controller,.fv__move-whole-control.disabled .fv__shape-controller{visibility:hidden;display:none}.fv__shape-control.move-disabled,.fv__shape-control.move-disabled .fv__shape-control-move-area,.fv__shape-control.disabled,.fv__shape-control.disabled .fv__shape-control-move-area,.fv__process-innerrect-control.move-disabled,.fv__process-innerrect-control.move-disabled .fv__shape-control-move-area,.fv__process-innerrect-control.disabled,.fv__process-innerrect-control.disabled .fv__shape-control-move-area,.fv__move-whole-control.move-disabled,.fv__move-whole-control.move-disabled .fv__shape-control-move-area,.fv__move-whole-control.disabled,.fv__move-whole-control.disabled .fv__shape-control-move-area{cursor:not-allowed}.fv__shape-control.callout,.fv__process-innerrect-control.callout,.fv__move-whole-control.callout{left:0;top:0;width:100%;height:100%;outline:none;z-index:31}.fv__shape-control.current-annot:before,.fv__process-innerrect-control.current-annot:before,.fv__move-whole-control.current-annot:before{content:"";width:calc(100% + 2px);height:calc(100% + 2px);position:absolute;top:-1px;left:-1px;border:1px dashed #666}.fv__move-whole-control,.fv__process-innerrect-control{background:rgba(123,178,189,.2)}.fv__shape-control-move-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0;cursor:move;background:rgba(1,0,0,0)}.fv__shape-control-text-area,.fv__shape-control-inner-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0}.fv__shape-control-text-area{z-index:4}.fv__shape-control-inner-area{z-index:3}.fv__shape-control-inner-area .fv__shape-controller{z-index:5}.fv__shape-control-previewer{background:rgba(0,0,0,0);position:absolute;left:0;top:0;filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv_form-editing .fv__shape-controller{background-color:#1492e6;outline:1px solid #1492e6}.fv_form-editing .fv_form-editing-label.active div{background-color:#1492e6}.fv_form-editing .fv__shape-control,.fv_form-editing .fv__process-innerrect-control,.fv_form-editing .fv__move-whole-control{outline:1px solid #1492e6}.fv__ui-tablet .fv__shape-controller:after,.fv__ui-mobile .fv__shape-controller:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__shape-controller{position:absolute;width:8px;height:8px;background-color:#5aa;pointer-events:initial}.fv__shape-controller.callout{cursor:pointer}.fv__shape-controller[direction=north],.fv__shape-controller.top{left:50%;margin-left:-4px;top:-4px;cursor:n-resize}.fv__shape-controller[direction=south],.fv__shape-controller.bottom{left:50%;margin-left:-4px;bottom:-4px;cursor:s-resize}.fv__shape-controller[direction=west],.fv__shape-controller.left{top:50%;margin-top:-4px;left:-4px;cursor:w-resize}.fv__shape-controller[direction=east],.fv__shape-controller.right{top:50%;margin-top:-4px;right:-4px;cursor:e-resize}.fv__shape-controller[direction=north-west]{left:-4px;top:-4px;cursor:nw-resize}.fv__shape-controller[direction=north-east]{right:-4px;top:-4px;cursor:ne-resize}.fv__shape-controller[direction=south-west]{left:-4px;bottom:-4px;cursor:sw-resize}.fv__shape-controller[direction=south-east]{right:-4px;bottom:-4px;cursor:se-resize}.fv__shape-rotate{height:60%;width:6px;left:50%;top:-10%;position:absolute;transform-origin:0 100%}.fv__shape-rotate>.fv-shape-rotate-handle{position:absolute;width:12px;height:12px;left:-5px;top:-11px;border-radius:50%;border:2px solid #5aa;box-sizing:border-box}.fv__shape-rotate>.fv-shape-rotate-bound{position:absolute;height:100%;width:2px;background-color:#5aa;box-sizing:border-box}.fv__shape-size{position:absolute;right:1px;background:#ccc;padding:4px;font-size:12px;height:18px;overflow:hidden}.fv-shape-rotate-degree{position:absolute;top:0;left:10px;border:1px solid #ccc;background:#ccc;padding:2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__shape-controller{outline:4px solid #000;outline-offset:-4px}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__annot-properties-dialog{user-select:none}.fv__half-width{display:inline-block}input[type=range]:disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__autocomp-ul{position:absolute;z-index:29;list-style-type:none;max-height:400px;overflow-y:auto;border:1px solid #000;margin:0;padding:0;cursor:pointer}.fv__autocomp-ul.fv__autocomp-open{display:block}.fv__autocomp-ul.fv__autocomp-close{display:none}.fv__autocomp-li{color:#000;font-size:20px;padding:4px 10px;background-color:#fff}.fv__autocomp-li.active{background-color:#daf6ff}.datepicker.datepicker td.old.day,.datepicker.datepicker td.new.day{opacity:1}.checkbox.form-field-options{z-index:35}.form-field-option.selected{color:#fff;background-color:#003371 !important}.form-field-option:not(.readonly):hover{background-color:rgba(0,51,113,.2)}.fv__ui-form-foreground:not(.form-field-readonly):hover{border:1px solid}.fv__ui-form-foreground{z-index:1;mix-blend-mode:multiply}.textCombContainer{display:flex}.textCombContainer,.textCombInput{position:absolute;height:100%;width:100%;font-size:0}.textCombContainer input,.textCombInput input{transform-origin:0 0;box-sizing:border-box;position:relative;outline:none}.textComb{display:inline-block;font-size:14px;text-align:center;vertical-align:middle}.fv__push_button{white-space:nowrap}.form-field-required{border-color:red}.fwr__ui-combo-dropdown{position:absolute;right:10px;top:10%;width:0;height:0;border-width:10px 10px 0;border-style:solid;border-color:#333 rgba(0,0,0,0) rgba(0,0,0,0)}.fwr__ui-combo-arrow{position:absolute;width:20px;height:100%;color:#000;background-color:#d0d0d0;font-size:20px}.fwr__ui-combo-arrow span{position:absolute;border-style:solid;border-width:12px 6px 0 6px;border-color:#666 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);top:50%;left:4px}.datepicker{background:#fff;border:1px solid #000;position:absolute;user-select:none}.datepicker td.old.day,.datepicker td.new.day{filter:alpha(opacity=40);-moz-opacity:.4;-khtml-opacity:.4;opacity:.4}.datepicker td.active{background:rgba(0,255,0,.2)}.datepicker span:not(:first-child){margin-left:10px}.fv__control_focus{outline:dashed 1px #000}.hide-form-field-focus-rectangle .fv__control_focus{outline:none}.fv__pdf-form-control-handler-container input::-ms-clear{display:none}.fv__ui-form-selected-container{position:absolute;border:1px solid #000;display:none;justify-content:center;align-items:center;overflow:hidden}.fv__ui-form-selected-container>div{background:#000;color:#fff;white-space:nowrap;font-size:12px;line-height:normal}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected{z-index:31}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected .fv__ui-form-selected-container{display:flex}.fv__pdf-page-annot-container.fv__pdf-form-control-container.editing .fv__ui-form-selected-container>div{background:#5aa}.flatpickr-calendar.hasTime.open{box-shadow:rgba(151,151,151,.85) 0 0 14px 3px}.fv__pdf-form-field-combo-textarea{overflow:hidden;padding:0}.fv__pdf-form-field-combo-textarea.fv__scroll-text:focus{overflow:auto}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:#393939;opacity:.3}.flatpickr-day{border-width:0;box-sizing:border-box}.flatpickr-day.today{border-width:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}@media(forced-colors: active){.fv__ui-high-contrast .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span{position:absolute;border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span:before{content:"▼"}.fv__select-annot-state-handler .fv__ui-field-show-in-select-annot-handler{display:block !important}.fv__ui-canvas-mirror{position:fixed;left:-100%;top:-100%;z-index:-1}.fv__pdf-page-multi-media-annot-container{width:96%;height:96%;left:2%;top:2%;position:absolute;z-index:11}.fv__pdf-page-multi-media-annot-container .play{width:100%;height:100%;background:url('+Re+") no-repeat center center}.fv__pdf-page-multi-media-annot-container .pause{width:100%;height:100%;background:url("+Fe+") no-repeat center center}.fv__pdf-player{position:absolute}.fv__pdf-player .IE-player{height:50px}.fv__pdf-player .player{position:absolute;left:0;top:0}.fv__pdf-player button{padding:0;margin:0;position:absolute;left:-1px;top:-1px;background:#fff;cursor:pointer;width:18px;height:18px;z-index:1999;border:1px solid #eee}.fv__pdf-player .fv__close-video{position:absolute;left:0;top:0;background:url("+Ne+");cursor:pointer;width:18px;height:18px;z-index:1999}.fv__pdf-player .err-tips{background:#eee;padding:16px 8px;width:200px;position:absolute;top:0}.fv__ui-mobile .fv__pdf-page-multi-media-annot-container .play{background:url("+Le+") no-repeat center center}.fv__ui-mobile .fv__pdf-player button{width:14px;height:14px}.fv__ui-mobile .fv__pdf-player .fv__close-video{width:14px;height:14px;background:url("+Oe+')}.fv__ui-mobile .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-mobile .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__ui-tablet .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-tablet .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__contextmenu-container{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0}.fv__edid-text-container{position:absolute;left:0;top:0}.fv__edit-text-background{position:absolute;background-color:#fff;outline:1px solid #7dbaff}.fv__edit-text-content{position:absolute;border:none;background:rgba(0,0,0,0);transform-origin:left bottom}.fv__ui-freetext-editor{position:absolute;z-index:3;display:none;resize:none;outline:none;line-height:18.7px;word-break:break-word;overflow:hidden;outline:none;padding:0;margin:0;border:none}.fwr__graphics-object-handler{z-index:50;position:absolute;left:0;top:0}.fv__text-object-edit-char-container{position:absolute;width:0;height:0;top:0;left:0}.fv__text-fill-sign-toolbar,.fv__text-object-edit-char-mask-layer,.fv__text-object-edit-char-form,.fv__text-object-edit-char-input{position:absolute;z-index:50;left:0;bottom:0;transform-origin:left bottom;min-width:8px}.fv__text-object-edit-char-mask-layer{background:#fff;outline:none}.fv__text-object-edit-char-input{-webkit-text-size-adjust:none;-webkit-user-select:text;border:none;line-height:1;padding:0;background-color:#fff;outline:1px dashed #4d90fe;white-space:pre-line;overflow-wrap:break-word;word-break:break-all;overflow:hidden;width:max-content;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__text_fill-sign-container .fv__text-object-edit-char-input{white-space:nowrap}.fv__text-fill-sign-toolbar{transform:translateY(-30px);height:25px;left:-5px;background-color:var(--fv-primary-bg, #FBFBFD);margin-bottom:10px;padding:0 3px;border:1px solid rgba(151,151,151,.6);border-radius:5px;box-shadow:-4px 4px 4px rgba(151,151,151,.6)}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:flex;align-items:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:none}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-icon{cursor:pointer;width:24px;height:24px}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-increase{background-image:var(--fv-icon-fill-increase, url('+je+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-decrease{background-image:var(--fv-icon-fill-decrease, url("+Be+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-delete{background-image:var(--fv-icon-fill-delete, url("+Ve+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-combo-filed{background-image:var(--fv-icon-fill-combo-field, url("+He+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-more,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base-button{background-image:var(--fv-icon-fill-more, url("+Ue+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-tick{background-image:var(--fv-icon-fill-tick, url("+ze+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-cross{background-image:var(--fv-icon-fill-cross, url("+We+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-dot{background-image:var(--fv-icon-fill-dot, url("+Ye+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-line{background-image:var(--fv-icon-fill-line, url("+Ge+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-rectangle{background-image:var(--fv-icon-fill-rectangle, url("+$e+'));background-repeat:no-repeat;background-position:center}.fv__pdf-view-mode-item-split{display:none}.fv__viewer-fake-annot-container{position:absolute;z-index:22}.fv__markup-annot-invisible{display:none !important}.fv__typewriter_ui{margin:0;padding:0;font-family:"","","","",FoxitPDFSDKForWeb;line-height:100%}.fv__textbox_ui{position:absolute;word-break:break-word;white-space:pre-wrap;line-height:18px}.fv__ftui-container{position:relative;z-index:2;transform-origin:0}.fv__viewer-render-square-canvas{position:relative;z-index:-1}.fv_viewer-tooltip-container{width:250px;min-height:40px;background-color:var(--fv-popup-bg, #ffffff);box-shadow:0px 0px 10px rgba(151,151,151,.6);position:absolute;border-radius:5px;z-index:999}.fv_viewer-tooltip-container .fv_viewer-tooltip-title,.fv_viewer-tooltip-container .fv_viewer-tooltip-content{width:100%;overflow:hidden;text-overflow:ellipsis}.fv_viewer-tooltip-container .fv_viewer-tooltip-title{font-weight:bold;padding:3px 8px;text-align:left;box-sizing:border-box;line-height:24px}.fv_viewer-tooltip-container .fv_viewer-tooltip-content{padding-left:8px;padding-right:8px;font-size:12px;line-height:2;box-sizing:border-box}.fv__ui-predefined-cursor-img{position:absolute;transform-origin:0 50%;opacity:.5;font-family:Courier;font-size:16px;color:#131313}.tooltip-unactive{display:none}.tooltip-active{display:block}.fv__table-fixed-head{border:1px solid #ddd;border-color:var(--fv-border-color, #ddd);position:relative;overflow:hidden;padding:30px 0 0 0}.fv__table-fixed-head .thead{position:absolute;left:0;top:0;right:0}.fv__table-fixed-head .thead .tr{height:30px;line-height:30px;background:#eee;background-color:var(--fv-secondary-bg, #eee)}.fv__table-fixed-head .thead .tr .td{font-weight:bold;color:#666;color:var(--fv-primary-color, #666)}.fv__table-fixed-head .tbody{width:100%;height:100%;overflow:auto}.fv__table-fixed-head .tbody .tr{height:25px;line-height:25px}.fv__table-fixed-head .thead .tr,.fv__table-fixed-head .tbody .tr{border-bottom:1px solid #ddd;border-color:var(--fv-border-color, #ddd);display:-ms-flex;display:flex;-ms-flex-align:center;align-items:center}.fv__table-fixed-head .thead .tr .td,.fv__table-fixed-head .tbody .tr .td{border-right:1px solid #ddd;border-color:var(--fv-border-color, #ddd);padding:0 0 0 10px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:100%}.fv__table-fixed-head .thead .tr .td:last-child,.fv__table-fixed-head .tbody .tr .td:last-child{border-right:none}.fv__table-fixed-head .tbody .tr{cursor:pointer;user-select:none;-webkit-user-select:none}.fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:var(--fv-content-bg, #f9e3fa);color:var(--fv-accent-color)}.tooltip-active{display:block}.flatpickr-calendar::before,.flatpickr-calendar::after{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;width:8px;height:8px;transform:rotate(45deg);border:none;background-color:#e6e6e6;display:none;z-index:-1}.flatpickr-calendar.arrowTop::before{display:block;margin-bottom:-3px}.flatpickr-calendar.arrowBottom::after{display:block;margin-top:-4px}.flatpickr-calendar>.flatpickr-months,.flatpickr-calendar>.flatpickr-innerContainer,.flatpickr-calendar>.flatpickr-time{background-color:#fff}.fv__viewer-annot-container-hide{visibility:hidden}.fv__force-hide{display:none !important}.annotRenderers,.highlightAP{position:absolute;z-index:11;transform-origin:0 0}.highlightAP{mix-blend-mode:multiply}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast .flatpickr-calendar::before,.fv__ui-high-contrast .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{-moz-filter:contrast(0.1);filter:contrast(0.5)}@media(inverted-colors: inverted){.fv__ui-browser-safari img{filter:none}}',""]),e.exports=t},5044:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".d_f{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.d-if{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.d-ib{display:inline-block}.fd_c{-ms-flex-direction:column;flex-direction:column}.fw_w{-ms-flex-wrap:wrap;flex-wrap:wrap}.jc_fs{-ms-flex-pack:start;justify-content:flex-start}.jc_c{-ms-flex-pack:center;justify-content:center}.jc_fe{-ms-flex-pack:end;justify-content:flex-end}.jc_sb{-ms-flex-pack:justify;justify-content:space-between}.jc_sa{-ms-flex-pack:distribute;justify-content:space-around}.ai_fs{-ms-flex-align:start;align-items:flex-start}.ai_c{-ms-flex-align:center;align-items:center}.ai_fe{-ms-flex-align:end;align-items:flex-end}.fg_0{-ms-flex-positive:0;flex-grow:0}.fg_1{-ms-flex-positive:1;flex-grow:1}.fg_2{-ms-flex-positive:2;flex-grow:2}.fg_3{-ms-flex-positive:3;flex-grow:3}.fg_4{-ms-flex-positive:4;flex-grow:4}.fg_5{-ms-flex-positive:5;flex-grow:5}.fs_0{-ms-flex-negative:0;flex-shrink:0}.fs_1{-ms-flex-negative:1;flex-shrink:1}.fs_2{-ms-flex-negative:2;flex-shrink:2}.fs_3{-ms-flex-negative:3;flex-shrink:3}.fs_4{-ms-flex-negative:4;flex-shrink:4}.fs_5{-ms-flex-negative:5;flex-shrink:5}.fb_0{-ms-flex-preferred-size:0;flex-basis:0}.fb_10z{-ms-flex-preferred-size:10%;flex-basis:10%}.fb_20z{-ms-flex-preferred-size:20%;flex-basis:20%}.fb_30z{-ms-flex-preferred-size:30%;flex-basis:30%}.fb_40z{-ms-flex-preferred-size:40%;flex-basis:40%}.fb_50z{-ms-flex-preferred-size:50%;flex-basis:50%}.fb_60z{-ms-flex-preferred-size:60%;flex-basis:60%}.fb_70z{-ms-flex-preferred-size:70%;flex-basis:70%}.fb_80z{-ms-flex-preferred-size:80%;flex-basis:80%}.fb_90z{-ms-flex-preferred-size:90%;flex-basis:90%}.fb_100z{-ms-flex-preferred-size:100%;flex-basis:100%}.fb_25z{-ms-flex-preferred-size:25%;flex-basis:25%}.fb_33z{-ms-flex-preferred-size:33.3%;flex-basis:33.3%}.f_0{-ms-flex:0 0 0px;flex:0 0 0px}.f_1{-ms-flex:1 0 0px;flex:1 0 0px}.f_2{-ms-flex:2 0 0px;flex:2 0 0px}.f_3{-ms-flex:3 0 0px;flex:3 0 0px}.f_4{-ms-flex:4 0 0px;flex:4 0 0px}.f_5{-ms-flex:5 0 0px;flex:5 0 0px}.f_6{-ms-flex:6 0 0px;flex:6 0 0px}.f_7{-ms-flex:7 0 0px;flex:7 0 0px}.f_8{-ms-flex:8 0 0px;flex:8 0 0px}.f_9{-ms-flex:9 0 0px;flex:9 0 0px}.m_a{margin:auto}.mt_0{margin-top:0px}.mr_0{margin-right:0px}.mb_0{margin-bottom:0px}.ml_0{margin-left:0px}.mtmb_0{margin-top:0px;margin-bottom:0px}.mlmr_0{margin-left:0px;margin-right:0px}.mt_1{margin-top:1px}.mr_1{margin-right:1px}.mb_1{margin-bottom:1px}.ml_1{margin-left:1px}.mtmb_1{margin-top:1px;margin-bottom:1px}.mlmr_1{margin-left:1px;margin-right:1px}.mt_2{margin-top:2px}.mr_2{margin-right:2px}.mb_2{margin-bottom:2px}.ml_2{margin-left:2px}.mtmb_2{margin-top:2px;margin-bottom:2px}.mlmr_2{margin-left:2px;margin-right:2px}.mt_3{margin-top:3px}.mr_3{margin-right:3px}.mb_3{margin-bottom:3px}.ml_3{margin-left:3px}.mtmb_3{margin-top:3px;margin-bottom:3px}.mlmr_3{margin-left:3px;margin-right:3px}.mt_4{margin-top:4px}.mr_4{margin-right:4px}.mb_4{margin-bottom:4px}.ml_4{margin-left:4px}.mtmb_4{margin-top:4px;margin-bottom:4px}.mlmr_4{margin-left:4px;margin-right:4px}.mt_5{margin-top:5px}.mr_5{margin-right:5px}.mb_5{margin-bottom:5px}.ml_5{margin-left:5px}.mtmb_5{margin-top:5px;margin-bottom:5px}.mlmr_5{margin-left:5px;margin-right:5px}.mt_6{margin-top:6px}.mr_6{margin-right:6px}.mb_6{margin-bottom:6px}.ml_6{margin-left:6px}.mtmb_6{margin-top:6px;margin-bottom:6px}.mlmr_6{margin-left:6px;margin-right:6px}.mt_7{margin-top:7px}.mr_7{margin-right:7px}.mb_7{margin-bottom:7px}.ml_7{margin-left:7px}.mtmb_7{margin-top:7px;margin-bottom:7px}.mlmr_7{margin-left:7px;margin-right:7px}.mt_8{margin-top:8px}.mr_8{margin-right:8px}.mb_8{margin-bottom:8px}.ml_8{margin-left:8px}.mtmb_8{margin-top:8px;margin-bottom:8px}.mlmr_8{margin-left:8px;margin-right:8px}.mt_9{margin-top:9px}.mr_9{margin-right:9px}.mb_9{margin-bottom:9px}.ml_9{margin-left:9px}.mtmb_9{margin-top:9px;margin-bottom:9px}.mlmr_9{margin-left:9px;margin-right:9px}.mt_10{margin-top:10px}.mr_10{margin-right:10px}.mb_10{margin-bottom:10px}.ml_10{margin-left:10px}.mtmb_10{margin-top:10px;margin-bottom:10px}.mlmr_10{margin-left:10px;margin-right:10px}.mt_11{margin-top:11px}.mr_11{margin-right:11px}.mb_11{margin-bottom:11px}.ml_11{margin-left:11px}.mtmb_11{margin-top:11px;margin-bottom:11px}.mlmr_11{margin-left:11px;margin-right:11px}.mt_12{margin-top:12px}.mr_12{margin-right:12px}.mb_12{margin-bottom:12px}.ml_12{margin-left:12px}.mtmb_12{margin-top:12px;margin-bottom:12px}.mlmr_12{margin-left:12px;margin-right:12px}.mt_13{margin-top:13px}.mr_13{margin-right:13px}.mb_13{margin-bottom:13px}.ml_13{margin-left:13px}.mtmb_13{margin-top:13px;margin-bottom:13px}.mlmr_13{margin-left:13px;margin-right:13px}.mt_14{margin-top:14px}.mr_14{margin-right:14px}.mb_14{margin-bottom:14px}.ml_14{margin-left:14px}.mtmb_14{margin-top:14px;margin-bottom:14px}.mlmr_14{margin-left:14px;margin-right:14px}.mt_15{margin-top:15px}.mr_15{margin-right:15px}.mb_15{margin-bottom:15px}.ml_15{margin-left:15px}.mtmb_15{margin-top:15px;margin-bottom:15px}.mlmr_15{margin-left:15px;margin-right:15px}.mt_16{margin-top:16px}.mr_16{margin-right:16px}.mb_16{margin-bottom:16px}.ml_16{margin-left:16px}.mtmb_16{margin-top:16px;margin-bottom:16px}.mlmr_16{margin-left:16px;margin-right:16px}.mt_17{margin-top:17px}.mr_17{margin-right:17px}.mb_17{margin-bottom:17px}.ml_17{margin-left:17px}.mtmb_17{margin-top:17px;margin-bottom:17px}.mlmr_17{margin-left:17px;margin-right:17px}.mt_18{margin-top:18px}.mr_18{margin-right:18px}.mb_18{margin-bottom:18px}.ml_18{margin-left:18px}.mtmb_18{margin-top:18px;margin-bottom:18px}.mlmr_18{margin-left:18px;margin-right:18px}.mt_19{margin-top:19px}.mr_19{margin-right:19px}.mb_19{margin-bottom:19px}.ml_19{margin-left:19px}.mtmb_19{margin-top:19px;margin-bottom:19px}.mlmr_19{margin-left:19px;margin-right:19px}.mt_20{margin-top:20px}.mr_20{margin-right:20px}.mb_20{margin-bottom:20px}.ml_20{margin-left:20px}.mtmb_20{margin-top:20px;margin-bottom:20px}.mlmr_20{margin-left:20px;margin-right:20px}.mt_21{margin-top:21px}.mr_21{margin-right:21px}.mb_21{margin-bottom:21px}.ml_21{margin-left:21px}.mtmb_21{margin-top:21px;margin-bottom:21px}.mlmr_21{margin-left:21px;margin-right:21px}.mt_22{margin-top:22px}.mr_22{margin-right:22px}.mb_22{margin-bottom:22px}.ml_22{margin-left:22px}.mtmb_22{margin-top:22px;margin-bottom:22px}.mlmr_22{margin-left:22px;margin-right:22px}.mt_23{margin-top:23px}.mr_23{margin-right:23px}.mb_23{margin-bottom:23px}.ml_23{margin-left:23px}.mtmb_23{margin-top:23px;margin-bottom:23px}.mlmr_23{margin-left:23px;margin-right:23px}.mt_24{margin-top:24px}.mr_24{margin-right:24px}.mb_24{margin-bottom:24px}.ml_24{margin-left:24px}.mtmb_24{margin-top:24px;margin-bottom:24px}.mlmr_24{margin-left:24px;margin-right:24px}.mt_25{margin-top:25px}.mr_25{margin-right:25px}.mb_25{margin-bottom:25px}.ml_25{margin-left:25px}.mtmb_25{margin-top:25px;margin-bottom:25px}.mlmr_25{margin-left:25px;margin-right:25px}.mt_26{margin-top:26px}.mr_26{margin-right:26px}.mb_26{margin-bottom:26px}.ml_26{margin-left:26px}.mtmb_26{margin-top:26px;margin-bottom:26px}.mlmr_26{margin-left:26px;margin-right:26px}.mt_27{margin-top:27px}.mr_27{margin-right:27px}.mb_27{margin-bottom:27px}.ml_27{margin-left:27px}.mtmb_27{margin-top:27px;margin-bottom:27px}.mlmr_27{margin-left:27px;margin-right:27px}.mt_28{margin-top:28px}.mr_28{margin-right:28px}.mb_28{margin-bottom:28px}.ml_28{margin-left:28px}.mtmb_28{margin-top:28px;margin-bottom:28px}.mlmr_28{margin-left:28px;margin-right:28px}.mt_29{margin-top:29px}.mr_29{margin-right:29px}.mb_29{margin-bottom:29px}.ml_29{margin-left:29px}.mtmb_29{margin-top:29px;margin-bottom:29px}.mlmr_29{margin-left:29px;margin-right:29px}.mt_30{margin-top:30px}.mr_30{margin-right:30px}.mb_30{margin-bottom:30px}.ml_30{margin-left:30px}.mtmb_30{margin-top:30px;margin-bottom:30px}.mlmr_30{margin-left:30px;margin-right:30px}.mt_35{margin-top:35px}.mr_35{margin-right:35px}.mb_35{margin-bottom:35px}.ml_35{margin-left:35px}.mtmb_35{margin-top:35px;margin-bottom:35px}.mlmr_35{margin-left:35px;margin-right:35px}.mt_40{margin-top:40px}.mr_40{margin-right:40px}.mb_40{margin-bottom:40px}.ml_40{margin-left:40px}.mtmb_40{margin-top:40px;margin-bottom:40px}.mlmr_40{margin-left:40px;margin-right:40px}.mt_45{margin-top:45px}.mr_45{margin-right:45px}.mb_45{margin-bottom:45px}.ml_45{margin-left:45px}.mtmb_45{margin-top:45px;margin-bottom:45px}.mlmr_45{margin-left:45px;margin-right:45px}.mt_50{margin-top:50px}.mr_50{margin-right:50px}.mb_50{margin-bottom:50px}.ml_50{margin-left:50px}.mtmb_50{margin-top:50px;margin-bottom:50px}.mlmr_50{margin-left:50px;margin-right:50px}.mt_55{margin-top:55px}.mr_55{margin-right:55px}.mb_55{margin-bottom:55px}.ml_55{margin-left:55px}.mtmb_55{margin-top:55px;margin-bottom:55px}.mlmr_55{margin-left:55px;margin-right:55px}.mt_60{margin-top:60px}.mr_60{margin-right:60px}.mb_60{margin-bottom:60px}.ml_60{margin-left:60px}.mtmb_60{margin-top:60px;margin-bottom:60px}.mlmr_60{margin-left:60px;margin-right:60px}.pt_0{padding-top:0px}.pr_0{padding-right:0px}.pb_0{padding-bottom:0px}.pl_0{padding-left:0px}.ptpb_0{padding-top:0px;padding-bottom:0px}.plpr_0{padding-left:0px;padding-right:0px}.pt_1{padding-top:1px}.pr_1{padding-right:1px}.pb_1{padding-bottom:1px}.pl_1{padding-left:1px}.ptpb_1{padding-top:1px;padding-bottom:1px}.plpr_1{padding-left:1px;padding-right:1px}.pt_2{padding-top:2px}.pr_2{padding-right:2px}.pb_2{padding-bottom:2px}.pl_2{padding-left:2px}.ptpb_2{padding-top:2px;padding-bottom:2px}.plpr_2{padding-left:2px;padding-right:2px}.pt_3{padding-top:3px}.pr_3{padding-right:3px}.pb_3{padding-bottom:3px}.pl_3{padding-left:3px}.ptpb_3{padding-top:3px;padding-bottom:3px}.plpr_3{padding-left:3px;padding-right:3px}.pt_4{padding-top:4px}.pr_4{padding-right:4px}.pb_4{padding-bottom:4px}.pl_4{padding-left:4px}.ptpb_4{padding-top:4px;padding-bottom:4px}.plpr_4{padding-left:4px;padding-right:4px}.pt_5{padding-top:5px}.pr_5{padding-right:5px}.pb_5{padding-bottom:5px}.pl_5{padding-left:5px}.ptpb_5{padding-top:5px;padding-bottom:5px}.plpr_5{padding-left:5px;padding-right:5px}.pt_6{padding-top:6px}.pr_6{padding-right:6px}.pb_6{padding-bottom:6px}.pl_6{padding-left:6px}.ptpb_6{padding-top:6px;padding-bottom:6px}.plpr_6{padding-left:6px;padding-right:6px}.pt_7{padding-top:7px}.pr_7{padding-right:7px}.pb_7{padding-bottom:7px}.pl_7{padding-left:7px}.ptpb_7{padding-top:7px;padding-bottom:7px}.plpr_7{padding-left:7px;padding-right:7px}.pt_8{padding-top:8px}.pr_8{padding-right:8px}.pb_8{padding-bottom:8px}.pl_8{padding-left:8px}.ptpb_8{padding-top:8px;padding-bottom:8px}.plpr_8{padding-left:8px;padding-right:8px}.pt_9{padding-top:9px}.pr_9{padding-right:9px}.pb_9{padding-bottom:9px}.pl_9{padding-left:9px}.ptpb_9{padding-top:9px;padding-bottom:9px}.plpr_9{padding-left:9px;padding-right:9px}.pt_10{padding-top:10px}.pr_10{padding-right:10px}.pb_10{padding-bottom:10px}.pl_10{padding-left:10px}.ptpb_10{padding-top:10px;padding-bottom:10px}.plpr_10{padding-left:10px;padding-right:10px}.pt_11{padding-top:11px}.pr_11{padding-right:11px}.pb_11{padding-bottom:11px}.pl_11{padding-left:11px}.ptpb_11{padding-top:11px;padding-bottom:11px}.plpr_11{padding-left:11px;padding-right:11px}.pt_12{padding-top:12px}.pr_12{padding-right:12px}.pb_12{padding-bottom:12px}.pl_12{padding-left:12px}.ptpb_12{padding-top:12px;padding-bottom:12px}.plpr_12{padding-left:12px;padding-right:12px}.pt_13{padding-top:13px}.pr_13{padding-right:13px}.pb_13{padding-bottom:13px}.pl_13{padding-left:13px}.ptpb_13{padding-top:13px;padding-bottom:13px}.plpr_13{padding-left:13px;padding-right:13px}.pt_14{padding-top:14px}.pr_14{padding-right:14px}.pb_14{padding-bottom:14px}.pl_14{padding-left:14px}.ptpb_14{padding-top:14px;padding-bottom:14px}.plpr_14{padding-left:14px;padding-right:14px}.pt_15{padding-top:15px}.pr_15{padding-right:15px}.pb_15{padding-bottom:15px}.pl_15{padding-left:15px}.ptpb_15{padding-top:15px;padding-bottom:15px}.plpr_15{padding-left:15px;padding-right:15px}.pt_16{padding-top:16px}.pr_16{padding-right:16px}.pb_16{padding-bottom:16px}.pl_16{padding-left:16px}.ptpb_16{padding-top:16px;padding-bottom:16px}.plpr_16{padding-left:16px;padding-right:16px}.pt_17{padding-top:17px}.pr_17{padding-right:17px}.pb_17{padding-bottom:17px}.pl_17{padding-left:17px}.ptpb_17{padding-top:17px;padding-bottom:17px}.plpr_17{padding-left:17px;padding-right:17px}.pt_18{padding-top:18px}.pr_18{padding-right:18px}.pb_18{padding-bottom:18px}.pl_18{padding-left:18px}.ptpb_18{padding-top:18px;padding-bottom:18px}.plpr_18{padding-left:18px;padding-right:18px}.pt_19{padding-top:19px}.pr_19{padding-right:19px}.pb_19{padding-bottom:19px}.pl_19{padding-left:19px}.ptpb_19{padding-top:19px;padding-bottom:19px}.plpr_19{padding-left:19px;padding-right:19px}.pt_20{padding-top:20px}.pr_20{padding-right:20px}.pb_20{padding-bottom:20px}.pl_20{padding-left:20px}.ptpb_20{padding-top:20px;padding-bottom:20px}.plpr_20{padding-left:20px;padding-right:20px}.pt_21{padding-top:21px}.pr_21{padding-right:21px}.pb_21{padding-bottom:21px}.pl_21{padding-left:21px}.ptpb_21{padding-top:21px;padding-bottom:21px}.plpr_21{padding-left:21px;padding-right:21px}.pt_22{padding-top:22px}.pr_22{padding-right:22px}.pb_22{padding-bottom:22px}.pl_22{padding-left:22px}.ptpb_22{padding-top:22px;padding-bottom:22px}.plpr_22{padding-left:22px;padding-right:22px}.pt_23{padding-top:23px}.pr_23{padding-right:23px}.pb_23{padding-bottom:23px}.pl_23{padding-left:23px}.ptpb_23{padding-top:23px;padding-bottom:23px}.plpr_23{padding-left:23px;padding-right:23px}.pt_24{padding-top:24px}.pr_24{padding-right:24px}.pb_24{padding-bottom:24px}.pl_24{padding-left:24px}.ptpb_24{padding-top:24px;padding-bottom:24px}.plpr_24{padding-left:24px;padding-right:24px}.pt_25{padding-top:25px}.pr_25{padding-right:25px}.pb_25{padding-bottom:25px}.pl_25{padding-left:25px}.ptpb_25{padding-top:25px;padding-bottom:25px}.plpr_25{padding-left:25px;padding-right:25px}.pt_26{padding-top:26px}.pr_26{padding-right:26px}.pb_26{padding-bottom:26px}.pl_26{padding-left:26px}.ptpb_26{padding-top:26px;padding-bottom:26px}.plpr_26{padding-left:26px;padding-right:26px}.pt_27{padding-top:27px}.pr_27{padding-right:27px}.pb_27{padding-bottom:27px}.pl_27{padding-left:27px}.ptpb_27{padding-top:27px;padding-bottom:27px}.plpr_27{padding-left:27px;padding-right:27px}.pt_28{padding-top:28px}.pr_28{padding-right:28px}.pb_28{padding-bottom:28px}.pl_28{padding-left:28px}.ptpb_28{padding-top:28px;padding-bottom:28px}.plpr_28{padding-left:28px;padding-right:28px}.pt_29{padding-top:29px}.pr_29{padding-right:29px}.pb_29{padding-bottom:29px}.pl_29{padding-left:29px}.ptpb_29{padding-top:29px;padding-bottom:29px}.plpr_29{padding-left:29px;padding-right:29px}.pt_30{padding-top:30px}.pr_30{padding-right:30px}.pb_30{padding-bottom:30px}.pl_30{padding-left:30px}.ptpb_30{padding-top:30px;padding-bottom:30px}.plpr_30{padding-left:30px;padding-right:30px}.pt_35{padding-top:35px}.pr_35{padding-right:35px}.pb_35{padding-bottom:35px}.pl_35{padding-left:35px}.ptpb_35{padding-top:35px;padding-bottom:35px}.plpr_35{padding-left:35px;padding-right:35px}.pt_40{padding-top:40px}.pr_40{padding-right:40px}.pb_40{padding-bottom:40px}.pl_40{padding-left:40px}.ptpb_40{padding-top:40px;padding-bottom:40px}.plpr_40{padding-left:40px;padding-right:40px}.pt_45{padding-top:45px}.pr_45{padding-right:45px}.pb_45{padding-bottom:45px}.pl_45{padding-left:45px}.ptpb_45{padding-top:45px;padding-bottom:45px}.plpr_45{padding-left:45px;padding-right:45px}.pt_50{padding-top:50px}.pr_50{padding-right:50px}.pb_50{padding-bottom:50px}.pl_50{padding-left:50px}.ptpb_50{padding-top:50px;padding-bottom:50px}.plpr_50{padding-left:50px;padding-right:50px}.pt_55{padding-top:55px}.pr_55{padding-right:55px}.pb_55{padding-bottom:55px}.pl_55{padding-left:55px}.ptpb_55{padding-top:55px;padding-bottom:55px}.plpr_55{padding-left:55px;padding-right:55px}.pt_60{padding-top:60px}.pr_60{padding-right:60px}.pb_60{padding-bottom:60px}.pl_60{padding-left:60px}.ptpb_60{padding-top:60px;padding-bottom:60px}.plpr_60{padding-left:60px;padding-right:60px}.b_n{border:none}.b_1s{border:1px solid}.bt_1s{border-top:1px solid}.br_1s{border-right:1px solid}.bb_1s{border-bottom:1px solid}.bl_1s{border-left:1px solid}.b_2s{border:2px solid}.bt_2s{border-top:2px solid}.br_2s{border-right:2px solid}.bb_2s{border-bottom:2px solid}.bl_2s{border-left:2px solid}.b_3s{border:3px solid}.bt_3s{border-top:3px solid}.br_3s{border-right:3px solid}.bb_3s{border-bottom:3px solid}.bl_3s{border-left:3px solid}.b_1d{border:1px dashed}.bt_1d{border-top:1px dashed}.br_1d{border-right:1px dashed}.bb_1d{border-bottom:1px dashed}.bl_1d{border-left:1px dashed}.b_2d{border:2px dashed}.bt_2d{border-top:2px dashed}.br_2d{border-right:2px dashed}.bb_2d{border-bottom:2px dashed}.bl_2d{border-left:2px dashed}.b_3d{border:3px dashed}.bt_3d{border-top:3px dashed}.br_3d{border-right:3px dashed}.bb_3d{border-bottom:3px dashed}.bl_3d{border-left:3px dashed}.br_50z{border-radius:50%}.br_100z{border-radius:100%}.br_999{border-radius:999px}.br_0{border-radius:0px}.br_1{border-radius:1px}.br_2{border-radius:2px}.br_3{border-radius:3px}.br_4{border-radius:4px}.br_5{border-radius:5px}.br_6{border-radius:6px}.br_7{border-radius:7px}.br_8{border-radius:8px}.br_9{border-radius:9px}.br_10{border-radius:10px}.br_11{border-radius:11px}.br_12{border-radius:12px}.br_13{border-radius:13px}.br_14{border-radius:14px}.br_15{border-radius:15px}.br_16{border-radius:16px}.br_17{border-radius:17px}.br_18{border-radius:18px}.br_19{border-radius:19px}.br_20{border-radius:20px}.br_25{border-radius:25px}.br_30{border-radius:30px}.br_35{border-radius:35px}.br_40{border-radius:40px}.br_45{border-radius:45px}.br_50{border-radius:50px}.br_55{border-radius:55px}.br_60{border-radius:60px}.bc_t{border-color:rgba(0,0,0,0)}.bc_000{border-color:#000}.bc_111{border-color:#111}.bc_222{border-color:#222}.bc_333{border-color:#333}.bc_444{border-color:#444}.bc_555{border-color:#555}.bc_666{border-color:#666}.bc_777{border-color:#777}.bc_888{border-color:#888}.bc_999{border-color:#999}.bc_aaa{border-color:#aaa}.bc_bbb{border-color:#bbb}.bc_ccc{border-color:#ccc}.bc_ddd{border-color:#ddd}.bc_eee{border-color:#eee}.bc_fff{border-color:#fff}.bc_primary{border-color:#e2a1e6}.bc_red{border-color:#fb7878}.bc_green{border-color:#4ddc8a}.bc_blue{border-color:#4cb3ff}.bc_search{border-color:#454545}.c_t{color:rgba(0,0,0,0)}.c_000{color:#000}.c_111{color:#111}.c_222{color:#222}.c_333{color:#333}.c_444{color:#444}.c_555{color:#555}.c_666{color:#666}.c_777{color:#777}.c_888{color:#888}.c_999{color:#999}.c_aaa{color:#aaa}.c_bbb{color:#bbb}.c_ccc{color:#ccc}.c_ddd{color:#ddd}.c_eee{color:#eee}.c_fff{color:#fff}.c_primary{color:#e2a1e6}.c_red{color:#fb7878}.c_green{color:#4ddc8a}.c_blue{color:#4cb3ff}.c_error{color:#e12b2b}.b_t{background:rgba(0,0,0,0)}.b_000{background:#000}.b_111{background:#111}.b_222{background:#222}.b_333{background:#333}.b_444{background:#444}.b_555{background:#555}.b_666{background:#666}.b_777{background:#777}.b_888{background:#888}.b_999{background:#999}.b_aaa{background:#aaa}.b_bbb{background:#bbb}.b_ccc{background:#ccc}.b_ddd{background:#ddd}.b_eee{background:#eee}.b_fff{background:#fff}.b_primary{background:#e2a1e6}.b_red{background:#fb7878}.b_green{background:#4ddc8a}.b_blue{background:#4cb3ff}.b_body{background:#f4f4f4}.fs_8{font-size:8px}.fs_9{font-size:9px}.fs_10{font-size:10px}.fs_11{font-size:11px}.fs_12{font-size:12px}.fs_13{font-size:13px}.fs_14{font-size:14px}.fs_15{font-size:15px}.fs_16{font-size:16px}.fs_17{font-size:17px}.fs_18{font-size:18px}.fs_19{font-size:19px}.fs_20{font-size:20px}.fs_21{font-size:21px}.fs_22{font-size:22px}.fs_23{font-size:23px}.fs_24{font-size:24px}.fs_25{font-size:25px}.fs_26{font-size:26px}.fs_27{font-size:27px}.fs_28{font-size:28px}.fs_29{font-size:29px}.fs_30{font-size:30px}.fw_n{font-weight:normal}.fw_b{font-weight:bold}.fw_l{font-weight:lighter}.fw_100{font-weight:100}.fw_200{font-weight:200}.fw_300{font-weight:300}.fw_400{font-weight:400}.fw_500{font-weight:500}.fw_600{font-weight:600}.fw_700{font-weight:700}.fw_800{font-weight:800}.fw_900{font-weight:900}.fs_n{font-style:normal}.fs_i{font-style:italic}.w_a{width:auto}.w_fc{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w_minc{width:-webkit-min-content;width:-moz-min-content;width:min-content}.w_maxc{width:-webkit-max-content;width:-moz-max-content;width:max-content}.w_5z{width:5%}.w_5vw{width:5vw}.w_10z{width:10%}.w_10vw{width:10vw}.w_15z{width:15%}.w_15vw{width:15vw}.w_20z{width:20%}.w_20vw{width:20vw}.w_25z{width:25%}.w_25vw{width:25vw}.w_30z{width:30%}.w_30vw{width:30vw}.w_35z{width:35%}.w_35vw{width:35vw}.w_40z{width:40%}.w_40vw{width:40vw}.w_45z{width:45%}.w_45vw{width:45vw}.w_50z{width:50%}.w_50vw{width:50vw}.w_55z{width:55%}.w_55vw{width:55vw}.w_60z{width:60%}.w_60vw{width:60vw}.w_65z{width:65%}.w_65vw{width:65vw}.w_70z{width:70%}.w_70vw{width:70vw}.w_75z{width:75%}.w_75vw{width:75vw}.w_80z{width:80%}.w_80vw{width:80vw}.w_85z{width:85%}.w_85vw{width:85vw}.w_90z{width:90%}.w_90vw{width:90vw}.w_95z{width:95%}.w_95vw{width:95vw}.w_100z{width:100%}.w_100vw{width:100vw}.w_0{width:0px}.w_1{width:1px}.w_2{width:2px}.w_3{width:3px}.w_4{width:4px}.w_5{width:5px}.w_6{width:6px}.w_7{width:7px}.w_8{width:8px}.w_9{width:9px}.w_10{width:10px}.w_11{width:11px}.w_12{width:12px}.w_13{width:13px}.w_14{width:14px}.w_15{width:15px}.w_16{width:16px}.w_17{width:17px}.w_18{width:18px}.w_19{width:19px}.w_20{width:20px}.w_21{width:21px}.w_22{width:22px}.w_23{width:23px}.w_24{width:24px}.w_25{width:25px}.w_26{width:26px}.w_27{width:27px}.w_28{width:28px}.w_29{width:29px}.w_30{width:30px}.w_35{width:35px}.w_40{width:40px}.w_45{width:45px}.w_50{width:50px}.w_55{width:55px}.w_60{width:60px}.w_65{width:65px}.w_70{width:70px}.w_75{width:75px}.w_80{width:80px}.w_85{width:85px}.w_90{width:90px}.w_95{width:95px}.w_100{width:100px}.w_110{width:110px}.w_120{width:120px}.w_130{width:130px}.w_140{width:140px}.w_150{width:150px}.w_160{width:160px}.w_170{width:170px}.w_180{width:180px}.w_190{width:190px}.w_200{width:200px}.w_210{width:210px}.w_220{width:220px}.w_230{width:230px}.w_240{width:240px}.w_250{width:250px}.w_260{width:260px}.w_270{width:270px}.w_280{width:280px}.w_290{width:290px}.w_300{width:300px}.h_a{height:auto}.h_fc{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h_minc{height:-webkit-min-content;height:-moz-min-content;height:min-content}.h_maxc{height:-webkit-max-content;height:-moz-max-content;height:max-content}.h_5z{height:5%}.h_5vh{height:5vh}.h_10z{height:10%}.h_10vh{height:10vh}.h_15z{height:15%}.h_15vh{height:15vh}.h_20z{height:20%}.h_20vh{height:20vh}.h_25z{height:25%}.h_25vh{height:25vh}.h_30z{height:30%}.h_30vh{height:30vh}.h_35z{height:35%}.h_35vh{height:35vh}.h_40z{height:40%}.h_40vh{height:40vh}.h_45z{height:45%}.h_45vh{height:45vh}.h_50z{height:50%}.h_50vh{height:50vh}.h_55z{height:55%}.h_55vh{height:55vh}.h_60z{height:60%}.h_60vh{height:60vh}.h_65z{height:65%}.h_65vh{height:65vh}.h_70z{height:70%}.h_70vh{height:70vh}.h_75z{height:75%}.h_75vh{height:75vh}.h_80z{height:80%}.h_80vh{height:80vh}.h_85z{height:85%}.h_85vh{height:85vh}.h_90z{height:90%}.h_90vh{height:90vh}.h_95z{height:95%}.h_95vh{height:95vh}.h_100z{height:100%}.h_100vh{height:100vh}.h_0{height:0px}.h_1{height:1px}.h_2{height:2px}.h_3{height:3px}.h_4{height:4px}.h_5{height:5px}.h_6{height:6px}.h_7{height:7px}.h_8{height:8px}.h_9{height:9px}.h_10{height:10px}.h_11{height:11px}.h_12{height:12px}.h_13{height:13px}.h_14{height:14px}.h_15{height:15px}.h_16{height:16px}.h_17{height:17px}.h_18{height:18px}.h_19{height:19px}.h_20{height:20px}.h_21{height:21px}.h_22{height:22px}.h_23{height:23px}.h_24{height:24px}.h_25{height:25px}.h_26{height:26px}.h_27{height:27px}.h_28{height:28px}.h_29{height:29px}.h_30{height:30px}.h_35{height:35px}.h_40{height:40px}.h_45{height:45px}.h_50{height:50px}.h_55{height:55px}.h_60{height:60px}.h_65{height:65px}.h_70{height:70px}.h_75{height:75px}.h_80{height:80px}.h_85{height:85px}.h_90{height:90px}.h_95{height:95px}.h_100{height:100px}.h_110{height:110px}.h_120{height:120px}.h_130{height:130px}.h_140{height:140px}.h_150{height:150px}.h_160{height:160px}.h_170{height:170px}.h_180{height:180px}.h_190{height:190px}.h_200{height:200px}.h_210{height:210px}.h_220{height:220px}.h_230{height:230px}.h_240{height:240px}.h_250{height:250px}.h_260{height:260px}.h_270{height:270px}.h_280{height:280px}.h_290{height:290px}.h_300{height:300px}.lh_n{line-height:normal}.lh_10z{line-height:10%}.lh_10vh{line-height:10vh}.lh_20z{line-height:20%}.lh_20vh{line-height:20vh}.lh_30z{line-height:30%}.lh_30vh{line-height:30vh}.lh_40z{line-height:40%}.lh_40vh{line-height:40vh}.lh_50z{line-height:50%}.lh_50vh{line-height:50vh}.lh_60z{line-height:60%}.lh_60vh{line-height:60vh}.lh_70z{line-height:70%}.lh_70vh{line-height:70vh}.lh_80z{line-height:80%}.lh_80vh{line-height:80vh}.lh_90z{line-height:90%}.lh_90vh{line-height:90vh}.lh_100z{line-height:100%}.lh_100vh{line-height:100vh}.lh_0{line-height:0px}.lh_1{line-height:1px}.lh_2{line-height:2px}.lh_3{line-height:3px}.lh_4{line-height:4px}.lh_5{line-height:5px}.lh_6{line-height:6px}.lh_7{line-height:7px}.lh_8{line-height:8px}.lh_9{line-height:9px}.lh_10{line-height:10px}.lh_11{line-height:11px}.lh_12{line-height:12px}.lh_13{line-height:13px}.lh_14{line-height:14px}.lh_15{line-height:15px}.lh_16{line-height:16px}.lh_17{line-height:17px}.lh_18{line-height:18px}.lh_19{line-height:19px}.lh_20{line-height:20px}.lh_21{line-height:21px}.lh_22{line-height:22px}.lh_23{line-height:23px}.lh_24{line-height:24px}.lh_25{line-height:25px}.lh_26{line-height:26px}.lh_27{line-height:27px}.lh_28{line-height:28px}.lh_29{line-height:29px}.lh_30{line-height:30px}.lh_35{line-height:35px}.lh_40{line-height:40px}.lh_45{line-height:45px}.lh_50{line-height:50px}.lh_55{line-height:55px}.lh_60{line-height:60px}.lh_65{line-height:65px}.lh_70{line-height:70px}.lh_75{line-height:75px}.lh_80{line-height:80px}.lh_85{line-height:85px}.lh_90{line-height:90px}.lh_95{line-height:95px}.lh_100{line-height:100px}.lh_110{line-height:110px}.lh_120{line-height:120px}.lh_130{line-height:130px}.lh_140{line-height:140px}.lh_150{line-height:150px}.lh_160{line-height:160px}.lh_170{line-height:170px}.lh_180{line-height:180px}.lh_190{line-height:190px}.lh_200{line-height:200px}.lh_210{line-height:210px}.lh_220{line-height:220px}.lh_230{line-height:230px}.lh_240{line-height:240px}.lh_250{line-height:250px}.lh_260{line-height:260px}.lh_270{line-height:270px}.lh_280{line-height:280px}.lh_290{line-height:290px}.lh_300{line-height:300px}.d_i{display:inline}.d_b{display:block}.d_n{display:none}.p_a{position:absolute}.p_r{position:relative}.p_sti{position:-webkit-sticky;position:sticky}.p_sta{position:static}.p_f{position:fixed}.t_0{top:0px}.r_0{right:0px}.b_0{bottom:0px}.l_0{left:0px}.t_1{top:1px}.r_1{right:1px}.b_1{bottom:1px}.l_1{left:1px}.t_2{top:2px}.r_2{right:2px}.b_2{bottom:2px}.l_2{left:2px}.t_3{top:3px}.r_3{right:3px}.b_3{bottom:3px}.l_3{left:3px}.t_4{top:4px}.r_4{right:4px}.b_4{bottom:4px}.l_4{left:4px}.t_5{top:5px}.r_5{right:5px}.b_5{bottom:5px}.l_5{left:5px}.t_6{top:6px}.r_6{right:6px}.b_6{bottom:6px}.l_6{left:6px}.t_7{top:7px}.r_7{right:7px}.b_7{bottom:7px}.l_7{left:7px}.t_8{top:8px}.r_8{right:8px}.b_8{bottom:8px}.l_8{left:8px}.t_9{top:9px}.r_9{right:9px}.b_9{bottom:9px}.l_9{left:9px}.t_10{top:10px}.r_10{right:10px}.b_10{bottom:10px}.l_10{left:10px}.t_11{top:11px}.r_11{right:11px}.b_11{bottom:11px}.l_11{left:11px}.t_12{top:12px}.r_12{right:12px}.b_12{bottom:12px}.l_12{left:12px}.t_13{top:13px}.r_13{right:13px}.b_13{bottom:13px}.l_13{left:13px}.t_14{top:14px}.r_14{right:14px}.b_14{bottom:14px}.l_14{left:14px}.t_15{top:15px}.r_15{right:15px}.b_15{bottom:15px}.l_15{left:15px}.t_16{top:16px}.r_16{right:16px}.b_16{bottom:16px}.l_16{left:16px}.t_17{top:17px}.r_17{right:17px}.b_17{bottom:17px}.l_17{left:17px}.t_18{top:18px}.r_18{right:18px}.b_18{bottom:18px}.l_18{left:18px}.t_19{top:19px}.r_19{right:19px}.b_19{bottom:19px}.l_19{left:19px}.t_20{top:20px}.r_20{right:20px}.b_20{bottom:20px}.l_20{left:20px}.t_21{top:21px}.r_21{right:21px}.b_21{bottom:21px}.l_21{left:21px}.t_22{top:22px}.r_22{right:22px}.b_22{bottom:22px}.l_22{left:22px}.t_23{top:23px}.r_23{right:23px}.b_23{bottom:23px}.l_23{left:23px}.t_24{top:24px}.r_24{right:24px}.b_24{bottom:24px}.l_24{left:24px}.t_25{top:25px}.r_25{right:25px}.b_25{bottom:25px}.l_25{left:25px}.t_26{top:26px}.r_26{right:26px}.b_26{bottom:26px}.l_26{left:26px}.t_27{top:27px}.r_27{right:27px}.b_27{bottom:27px}.l_27{left:27px}.t_28{top:28px}.r_28{right:28px}.b_28{bottom:28px}.l_28{left:28px}.t_29{top:29px}.r_29{right:29px}.b_29{bottom:29px}.l_29{left:29px}.t_30{top:30px}.r_30{right:30px}.b_30{bottom:30px}.l_30{left:30px}.t_35{top:35px}.r_35{right:35px}.b_35{bottom:35px}.l_35{left:35px}.t_40{top:40px}.r_40{right:40px}.b_40{bottom:40px}.l_40{left:40px}.t_45{top:45px}.r_45{right:45px}.b_45{bottom:45px}.l_45{left:45px}.t_50{top:50px}.r_50{right:50px}.b_50{bottom:50px}.l_50{left:50px}.t_55{top:55px}.r_55{right:55px}.b_55{bottom:55px}.l_55{left:55px}.t_60{top:60px}.r_60{right:60px}.b_60{bottom:60px}.l_60{left:60px}.o_0{opacity:0}.o_1{opacity:1}.o_01{opacity:.1}.o_02{opacity:.2}.o_03{opacity:.3}.o_04{opacity:.4}.o_05{opacity:.5}.o_06{opacity:.6}.o_07{opacity:.7}.o_08{opacity:.8}.o_09{opacity:.9}.ta_l{text-align:left}.ta_c{text-align:center}.ta_r{text-align:right}.ta_s{text-align:start}.ta_e{text-align:end}.f_n{float:none}.f_l{float:left}.f_r{float:right}.va_t{vertical-align:top}.va_m{vertical-align:middle}.va_b{vertical-align:bottom}.o_h{overflow:hidden}.o_a{overflow:auto}.o_v{overflow:visible}.ox_h{overflow-x:hidden}.oy_h{overflow-y:hidden}.ox_s{overflow-x:scroll}.oy_s{overflow-y:scroll}.zi_a{z-index:auto}.zi_0{z-index:0}.zi_1{z-index:1}.zi_2{z-index:2}.zi_3{z-index:3}.zi_4{z-index:4}.zi_5{z-index:5}.zi_6{z-index:6}.zi_7{z-index:7}.zi_8{z-index:8}.zi_9{z-index:9}.zi_10{z-index:10}.ws_n{white-space:nowrap}.to_e{text-overflow:ellipsis}.to_c{text-overflow:clip}.ww_bw{word-wrap:break-word}.wb_ba{word-break:break-all}.v_h{visibility:hidden}.c_b{clear:both}.c_p{cursor:pointer}.c_a{cursor:auto}.v_h{visibility:hidden}.us_n{user-select:none}",""]),e.exports=t},9580:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(7047);t=i(!1);var a=r(o);t.push([e.id,".fv__ui-progress-layer{position:absolute;left:0;right:0;top:0;bottom:0;box-shadow:none;background:rgba(255,255,255,.6);z-index:99}.fv__ui-progress-layer .fv__ui-progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#923094;font-size:16px;font-weight:bold}.fv__ui-progress-layer .fv__ui-progress-icon{background-image:url("+a+");background-repeat:no-repeat;background-size:50px;width:50px;height:50px;position:absolute;top:calc(50% - 40px);left:50%;transform:translate(-50%, -50%)}",""]),e.exports=t},3373:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__js-popup-menu-container{position:fixed;left:0;top:0;z-index:1004}.context-menu-icon-check:before{content:"ચ"}',""]),e.exports=t},4482:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__pdf-page-rendering>.fv__ui-layer-backdrop{background-color:#fff;opacity:0}.fv__js-exec-dialog{font-size:1rem;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border:1px solid #dedede;padding:0}.fv__js-exec-dialog-body{padding:8px 16px 16px 16px}.fv__js-exec-dialog-warning{border:1px solid var(--fv-frame-border-color, #bebebe);width:100%;height:2em;line-height:2em;margin-top:20px;padding-left:.5em;color:red;font-size:14px}.fv__js-exec-dialog-header{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid var(--fv-frame-border-color, #bebebe);padding-left:.5em}.fv__js-exec-dialog-close-button{border:none;margin-left:auto;cursor:pointer}.fv__js-exec-dialog-close-button:before{content:"×";font-size:24px;font-weight:bold}',""]),e.exports=t},8023:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-single-view-mode .fv__pdf-doc-container{position:relative}.fv__viewer-single-view-mode .fv__pdf-view-mode-item{position:relative;--facing-margin: 0}",""]),e.exports=t},5789:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-selections-area{position:fixed;display:block;padding:0;margin:0;z-index:50}",""]),e.exports=t},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(A," */")),o=i.sources.map(function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")});return[n].concat(o).concat([r]).join("\n")}var a,s,A;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var A=[].concat(e[s]);i&&r[A[0]]||(n&&(A[2]?A[2]="".concat(n," and ").concat(A[2]):A[2]=n),t.push(A))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},5461:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=(new Date).getTimezoneOffset(),c=Date.prototype;function u(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:A))}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-u(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+u(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&s(t.prototype,n),i&&s(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments)}}),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(new Date(this.$d.getTime()+u(this.$timezoneOffset)),arguments)}}),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach(function(e){l.prototype[e]=function(){var t=new Date(this.$d.getTime()+u(this.$timezoneOffset));c[e].apply(t,arguments),t.setTime(t.getTime()-u(this.$timezoneOffset)),this.$d=t}}),["toString","toTimeString"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}});var d=l,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach(function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}}),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-A)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===A},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?A:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",s="day",A="week",c="month",u="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,a=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:A,d:s,D:d,h:a,m:o,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",_={};_[y]=g;var b="$isDayjsObject",w=function(e){return e instanceof C||!(!e||!e[b])},k=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(r=o),n&&(_[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,r=s}return!i&&r&&(y=r),r||!i&&y},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},P=m;P.l=k,P.i=w,P.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return x(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<x(e)},v.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!P.u(t)||t,u=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(s)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(u){case l:return i?h(1,0):h(31,11);case c:return i?h(1,g):h(0,g+1);case A:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return h(i?v-_:v+(6-_),g);case s:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,A=P.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[s]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[l]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[A],f=A===s?this.$D+(t-this.$W):t;if(A===c||A===l){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[P.p(e)]()},v.add=function(i,u){var d,h=this;i=Number(i);var f=P.p(u),p=function(e){var t=x(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===l)return this.set(l,this.$y+i);if(f===s)return p(1);if(f===A)return p(7);var g=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,v=this.$d.getTime()+i*g;return P.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,s=this.$M,A=n.weekdays,c=n.months,u=n.meridiem,l=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return s+1;case"MM":return P.s(s+1,2,"0");case"MMM":return l(n.monthsShort,s,c,3);case"MMMM":return l(c,s);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return l(n.weekdaysMin,t.$W,A,2);case"ddd":return l(n.weekdaysShort,t.$W,A,3);case"dddd":return A[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,d,h){var f,p=this,g=P.p(d),v=x(i),m=(v.utcOffset()-this.utcOffset())*t,y=this-v,_=function(){return P.m(p,v)};switch(g){case l:f=_()/12;break;case c:f=_();break;case u:f=_()/3;break;case A:f=(y-m)/6048e5;break;case s:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=k(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),D=C.prototype;return x.prototype=D,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",s],["$M",c],["$y",l],["$D",d]].forEach(function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),x.extend=function(e,t){return e.$i||(e(t,C,x),e.$i=!0),x},x.locale=k,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=_[y],x.Ls=_,x.p={},x}()},7211:(e,t,n)=>{var i;!function(){var r=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function A(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,14)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&s(a,e)){var A=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(A&&"auto"!==A||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var n=[];t.forEach(function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))}),n.length&&e(n)}))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var l=document.createElement("form");if(l.setAttribute("method","dialog"),"dialog"!==l.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var h=d.get;d.get=function(){return A(this)?"dialog":h.call(this)};var f=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&A(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}o(t)&&(u.formSubmitter=t)}}},!1);var p=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!A(this))return p.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(A(t)){e.preventDefault();var n=o(t);if(n){var i=u.formSubmitter;i&&i.form===t?n.close(u.useValue||i.value):n.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n.amdD?void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=u:window.dialogPolyfill=u}()},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),A=n?n+t:t;return e._events[A]?e._events[A].fn?e._events[A]=[e._events[A],s]:e._events[A].push(s):(e._events[A]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var A,c,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,a),!0}for(c=1,A=new Array(l-1);c<l;c++)A[c-1]=arguments[c];u.fn.apply(u.context,A)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,r);break;default:if(!A)for(d=1,A=new Array(l-1);d<l;d++)A[d-1]=arguments[d];u[c].fn.apply(u[c].context,A)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var A=0,c=[],u=s.length;A<u;A++)(s[A].fn!==t||r&&!s[A].once||i&&s[A].context!==i)&&c.push(s[A]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},3162:function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){A(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,A=document.createElement("a");t=t||e.name||"download",A.download=t,A.rel="noopener","string"==typeof e?(A.href=e,A.origin===location.origin?o(A):r(A.href)?i(e,t,n):o(A,A.target="_blank")):(A.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(A.href)},4e4),setTimeout(function(){o(A)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){o(s)})}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,A=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&A||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var l=a.URL||a.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});a.saveAs=A.saveAs=A,e.exports=A})?i.apply(t,r):i)||(e.exports=o)},1895:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,...t){if(!e)throw TypeError("Cannot convert undefined or null to object");for(const n of t)n&&Object.keys(n).forEach(t=>e[t]=n[t]);return e})},2805:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};t.l10ns.de=n;var i=t.l10ns;e.German=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},969:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};t.l10ns.es=n;var i=t.l10ns;e.Spanish=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},122:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],longhand:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ordinal:function(e){return e>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Défiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};t.l10ns.fr=n;var i=t.l10ns;e.French=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9088:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return"°"},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};t.l10ns.it=n;var i=t.l10ns;e.Italian=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6741:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",monthAriaLabel:"月",amPM:["午前","午後"],yearAriaLabel:"年",hourAriaLabel:"時間",minuteAriaLabel:"分"};t.l10ns.ja=n;var i=t.l10ns;e.Japanese=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1844:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ "};t.l10ns.ko=n;var i=t.l10ns;e.Korean=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6679:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" t/m ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(e){return 1===e||8===e||e>=20?"ste":"de"}};t.l10ns.nl=n;var i=t.l10ns;e.Dutch=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},7821:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["週日","週一","週二","週三","週四","週五","週六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"週",scrollTitle:"滾動切換",toggleTitle:"點擊切換 12/24 小時時制"};t.l10ns.zh_tw=n;var i=t.l10ns;e.MandarinTraditional=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},799:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["周日","周一","周二","周三","周四","周五","周六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"周",scrollTitle:"滚动切换",toggleTitle:"点击切换 12/24 小时时制"};t.l10ns.zh=n;var i=t.l10ns;e.Mandarin=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},840:(e,t,n)=>{var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){"use strict";var A,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),l=Math.round,d=Math.abs,h=Date.now;function f(e,t,n){return setTimeout(b(e,n),t)}function p(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function v(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}A="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var m=v(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),y=v(function(e,t){return m(e,t,!0)},"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&A(i,n)}function b(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function k(e,t){return e===s?t:e}function x(e,t,n){g(E(t),function(t){e.addEventListener(t,n,!1)})}function P(e,t,n){g(E(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function D(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function S(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];S(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function M(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((i=(n=c[o])?n+r:t)in e)return i;o++}return s}var R=1;function F(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var N="ontouchstart"in r,L=M(r,"PointerEvent")!==s,O=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",B="mouse",V=24,H=["x","y"],U=["clientX","clientY"];function z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function W(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r===0,a=12&t&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=Y(t));r>1&&!n.firstMultiple?n.firstMultiple=Y(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,A=a?a.center:o.center,c=t.center=G(i);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(A,c),t.distance=q(A,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=J(t.deltaX,t.deltaY);var u=$(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,t.scale=a?(l=a.pointers,f=i,q(f[0],f[1],U)/q(l[0],l[1],U)):1,t.rotation=a?function(e,t){return K(t[1],t[0],U)+K(e[1],e[0],U)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,A=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(A>25||a.velocity===s)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,l=$(A,c,u);i=l.x,r=l.y,n=d(l.x)>d(l.y)?l.x:l.y,o=J(c,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var l,f;var p=e.element;C(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Y(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:l(e.pointers[n].clientX),clientY:l(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:l(e[0].clientX),y:l(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:l(n/t),y:l(i/t)}}function $(e,t,n){return{x:t/e||0,y:n/e||0}}function J(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function q(e,t,n){n||(n=H);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function K(e,t,n){n||(n=H);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(F(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4},X="mousedown",Q="mousemove mouseup";function ee(){this.evEl=X,this.evWin=Q,this.pressed=!1,z.apply(this,arguments)}_(ee,z,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:B,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:j,3:"pen",4:B,5:"kinect"},ie="pointerdown",re="pointermove pointerup pointercancel";function oe(){this.evEl=ie,this.evWin=re,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ie="MSPointerDown",re="MSPointerMove MSPointerUp MSPointerCancel"),_(oe,z,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=te[i],o=ne[e.pointerType]||e.pointerType,a=o==j,s=S(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function se(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function Ae(e,t){var n=I(e.touches),i=I(e.changedTouches);return 12&t&&(n=T(n.concat(i),"identifier",!0)),[n,i]}_(se,z,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=Ae.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}}});var ce={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ue="touchstart touchmove touchend touchcancel";function le(){this.evTarget=ue,this.targetIds={},z.apply(this,arguments)}function de(e,t){var n=I(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=I(e.changedTouches),s=[],A=this.target;if(o=n.filter(function(e){return C(e.target,A)}),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[T(o.concat(s),"identifier",!0),s]:void 0}_(le,z,{handler:function(e){var t=ce[e.type],n=de.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}});function he(){z.apply(this,arguments);var e=b(this.handler,this);this.touch=new le(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function fe(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,pe.call(this,t)):12&e&&pe.call(this,t)}function pe(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)},2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(he,z,{handler:function(e,t,n){var i=n.pointerType==j,r=n.pointerType==B;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)fe.call(this,t,n);else if(r&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ve=M(u.style,"touchAction"),me=ve!==s,ye="compute",_e="auto",be="manipulation",we="none",ke="pan-x",xe="pan-y",Pe=function(){if(!me)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||r.CSS.supports("touch-action",n)}),e}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){e==ye&&(e=this.compute()),me&&this.manager.element.style&&Pe[e]&&(this.manager.element.style[ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(D(e,we))return we;var t=D(e,ke),n=D(e,xe);if(t&&n)return we;if(t||n)return t?ke:xe;if(D(e,be))return be;return _e}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=D(i,we)&&!Pe[we],o=D(i,xe)&&!Pe[xe],a=D(i,ke)&&!Pe[ke];if(r){var s=1===e.pointers.length,A=e.distance<2,c=e.deltaTime<250;if(s&&A&&c)return}if(!a||!o)return r||o&&6&n||a&&n&V?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var De=32;function Ee(e){this.options=A({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Se(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ie(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Te(e,t){var n=t.manager;return n?n.get(e):e}function Me(){Ee.apply(this,arguments)}function Re(){Me.apply(this,arguments),this.pX=null,this.pY=null}function Fe(){Me.apply(this,arguments)}function Ne(){Ee.apply(this,arguments),this._timer=null,this._input=null}function Le(){Me.apply(this,arguments)}function Oe(){Me.apply(this,arguments)}function je(){Ee.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Be(e,t){return(t=t||{}).recognizers=k(t.recognizers,Be.defaults.preset),new Ve(e,t)}Ee.prototype={defaults:{},set:function(e){return A(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(p(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Te(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return p(e,"dropRecognizeWith",this)||(e=Te(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(p(e,"requireFailure",this))return this;var t=this.requireFail;return-1===S(t,e=Te(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(p(e,"dropRequireFailure",this))return this;e=Te(e,this);var t=S(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Se(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Se(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=De},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=A({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=De);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(Me,Ee,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:De}}),_(Re,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(xe),e&V&&t.push(ke),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Me.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ie(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Fe,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[we]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Ne,Ee,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=f(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return De},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(Le,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[we]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Oe,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Re.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&V&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ie(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(je,Ee,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[be]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return De},failTimeout:function(){return this._timer=f(function(){this.state=De},this.options.interval,this),De},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Be.VERSION="2.0.7",Be.defaults={domEvents:!1,touchAction:ye,enable:!0,inputTarget:null,inputClass:null,preset:[[Le,{enable:!1}],[Fe,{enable:!1},["rotate"]],[Oe,{direction:6}],[Re,{direction:6},["swipe"]],[je],[je,{event:"doubletap",taps:2},["tap"]],[Ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ve(e,t){var n;this.options=A({},Be.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(L?oe:O?le:N?he:ee))(n,W),this.touchAction=new Ce(this,this.options.touchAction),He(this,!0),g(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function He(e,t){var n,i=e.element;i.style&&(g(e.options.cssProps,function(r,o){n=M(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}Ve.prototype={set:function(e){return A(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ee)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(p(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(p(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=S(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(E(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(E(e),function(e){t?n[e]&&n[e].splice(S(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&He(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},A(Be,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:De,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:V,DIRECTION_ALL:30,Manager:Ve,Input:z,TouchAction:Ce,TouchInput:le,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:he,SingleTouchInput:se,Recognizer:Ee,AttrRecognizer:Me,Tap:je,Pan:Re,Swipe:Oe,Pinch:Fe,Rotate:Le,Press:Ne,on:x,off:P,each:g,merge:y,extend:m,assign:A,inherit:_,bindFn:b,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Be,(i=function(){return Be}.call(t,n,t,e))===s||(e.exports=i)}(window,document)},7337:(e,t,n)=>{var i,r,o;r=[n(9755)],void 0===(o="function"==typeof(i=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(n){var i,r,o;for(o=0;null!=n[o];o++){r=n[o];try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}}t(n)}));var n=null,i=!1,r=e(window),o=0,a={},s={},A={},c={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var i;if(t||n){if("maintain"===t&&"maintain"===n)i=e.$menu.position();else{var o=e.$menu.offsetParent().offset();i={top:n-o.top,left:t-o.left}}var a=r.scrollTop()+r.height(),s=r.scrollLeft()+r.width(),A=e.$menu.outerHeight(),c=e.$menu.outerWidth();i.top+A>a&&(i.top-=A),i.top<0&&(i.top=0),i.left+c>s&&(i.left-=c),i.left<0&&(i.left=0),e.$menu.css(i)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:e.noop,show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},u={timer:null,pageX:null,pageY:null},l=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var i=e(this);if(!1!==t.data.events.preShow(i,t)&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled")))){if(n=i,t.data.build){var r=t.data.build(n,t);if(!1===r)return;if(t.data=e.extend(!0,{},c,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,h.create(t.data)}h.show.call(i,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var i=e(this);n&&n.length&&!n.is(i)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(n=i.data("contextMenuActive",!0))},mouseup:function(t){var i=e(this);i.data("contextMenuActive")&&n&&n.length&&n.is(i)&&!i.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=i,i.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(t){var i=e(this),r=e(t.relatedTarget),o=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||n&&n.length||(u.pageX=t.pageX,u.pageY=t.pageY,u.data=t.data,o.on("mousemove.contextMenuShow",d.mousemove),u.timer=setTimeout(function(){u.timer=null,o.off("mousemove.contextMenuShow"),n=i,i.trigger(e.Event("contextmenu",{data:u.data,pageX:u.pageX,pageY:u.pageY}))},t.data.delay))},mousemove:function(e){u.pageX=e.pageX,u.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(u.timer)}catch(t){}u.timer=null}},layerClick:function(t){var n,i,o=e(this).data("contextMenuRoot"),a=t.button,s=t.pageX,A=t.pageY,c=void 0===s;t.preventDefault(),setTimeout(function(){if(c)null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide");else{var u,l="left"===o.trigger&&0===a||"right"===o.trigger&&2===a;if(document.elementFromPoint&&o.$layer){if(o.$layer.hide(),null!==(n=document.elementFromPoint(s-r.scrollLeft(),A-r.scrollTop()))&&n.isContentEditable){var d=document.createRange(),h=window.getSelection();d.selectNode(n),d.collapse(!0),h.removeAllRanges(),h.addRange(d)}e(n).trigger(t),o.$layer.show()}if(o.hideOnSecondTrigger&&l&&null!==o.$menu&&void 0!==o.$menu)o.$menu.trigger("contextmenu:hide");else{if(o.reposition&&l)if(document.elementFromPoint){if(o.$trigger.is(n))return void o.position.call(o.$trigger,o,s,A)}else if(i=o.$trigger.offset(),u=e(window),i.top+=u.scrollTop(),i.top<=t.pageY&&(i.left+=u.scrollLeft(),i.left<=t.pageX&&(i.bottom=i.top+o.$trigger.outerHeight(),i.bottom>=t.pageY&&(i.right=i.left+o.$trigger.outerWidth(),i.right>=t.pageX))))return void o.position.call(o.$trigger,o,s,A);n&&l&&o.$trigger.one("contextmenu:hidden",function(){e(n).contextMenu({x:s,y:A,button:a})}),null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide")}}},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};n&&(t=n.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var i=0,r=function(e){""!==e.style.zIndex?i=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?r(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&r(e.parentElement)};if(r(e.target),!(t.$menu&&parseInt(i,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(d.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(d.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var o=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=o)}break;case 39:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var a=t.$selected.data("contextMenu")||{};if(a.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(d.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void d.keyStop(e,t);case 27:return d.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():o.last(),s=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():o.last()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var A=a.find("input, textarea, select");A.length&&A.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():o.first(),s=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():o.first()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var A=a.find("input, textarea, select");A.length&&A.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),i=n.contextMenu,r=n.contextMenuRoot;r.$selected=i.$selected=t,r.isInput=i.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;o.hovering=!0,t&&o.$layer&&o.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(r.$menu?r:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)?r.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;if(o!==r&&o.$layer&&o.$layer.is(t.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(o.$selected=r.$selected=r.$node);r&&r.$menu&&r.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(t){var n,i=e(this),r=i.data(),o=r.contextMenu,a=r.contextMenuRoot,s=r.contextMenuKey;if(!(!o.items[s]||i.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||i.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(o.callbacks[s])&&Object.prototype.hasOwnProperty.call(o.callbacks,s))n=o.callbacks[s];else{if(!e.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,s,a,t)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&h.update.call(a.$trigger,a)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var i=e(this).data("contextMenuRoot");h.hide.call(i.$trigger,i,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)||(n.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),r.$selected=o.$selected=n,r&&r.$node&&r.$node.hasClass("context-menu-submenu")&&r.$node.addClass(o.classNames.hover),r.$node&&o.positionSubmenu.call(r.$node,r.$menu))},blurItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;r.autoHide&&n.removeClass(o.classNames.visible),n.removeClass(o.classNames.hover),r.$selected=null}},h={show:function(t,i,r){var o=e(this),a={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=o,!1!==t.events.show.call(o,t))if(!1!==h.update.call(o,t)){if(t.position.call(o,t,i,r),t.zIndex){var s=t.zIndex;"function"==typeof t.zIndex&&(s=t.zIndex.call(o,t)),a.zIndex=l(o)+s}h.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,function(){o.trigger("contextmenu:visible"),h.activated(t),t.events.activated(t)}),o.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var n=o.offset();n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout(function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")},50)})}else n=null;else n=null},hide:function(t,i){var r=e(this);if(t||(t=r.data("contextMenu")||{}),i||!t.events||!1!==t.events.hide.call(r,t)){if(r.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((o=t.$layer,function(){o.remove()}),10);try{delete t.$layer}catch(e){t.$layer=null}}var o;n=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,function(){t.build&&(t.$menu.remove(),e.each(t,function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}})),setTimeout(function(){r.trigger("contextmenu:hidden")},10)})}},create:function(t,n){function i(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}void 0===n&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),t.dataAttr&&e.each(t.dataAttr,function(e,n){t.$menu.attr("data-"+t.key,n)}),e.each(["callbacks","commands","inputs"],function(e,i){t[i]={},n[i]||(n[i]={})}),n.accesskeys||(n.accesskeys={}),e.each(t.items,function(r,o){var a=e('<li class="context-menu-item"></li>').addClass(o.className||""),s=null,c=null;if(a.on("click",e.noop),"string"!=typeof o&&"cm_separator"!==o.type||(o={type:"cm_seperator"}),o.$node=a.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:r}),void 0!==o.accesskey)for(var u,l=f(o.accesskey),p=0;u=l[p];p++)if(!n.accesskeys[u]){n.accesskeys[u]=o;var g=o.name.match(new RegExp("^(.*?)("+u+")(.*)$","i"));g&&(o._beforeAccesskey=g[1],o._accesskey=g[2],o._afterAccesskey=g[3]);break}if(o.type&&A[o.type])A[o.type].call(a,o,t,n),e.each([t,n],function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)});else{switch("cm_seperator"===o.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===o.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==o.type&&o.type?(s=e("<label></label>").appendTo(a),i(o).appendTo(s),a.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],function(e,t){t.commands[r]=o,t.inputs[r]=o})):o.items&&(o.type="sub"),o.type){case"cm_seperator":break;case"text":c=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(s);break;case"textarea":c=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(s),o.height&&c.height(o.height);break;case"checkbox":c=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"radio":c=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"select":c=e('<select name=""></select>').attr("name","context-menu-input-"+r).appendTo(s),o.options&&(e.each(o.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(c)}),c.val(o.selected));break;case"sub":i(o).appendTo(a),o.appendTo=o.$node,a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?h.processPromises(o,n,o.items):h.create(o,n);break;case"html":e(o.html).appendTo(a);break;default:e.each([t,n],function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)}),i(o).appendTo(a)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(c.on("focus",d.focusInput).on("blur",d.blurInput),o.events&&c.on(o.events,t)),o.icon&&(e.isFunction(o.icon)?o._icon=o.icon.call(this,this,a,r,o):"string"!=typeof o.icon||"fab "!==o.icon.substring(0,4)&&"fas "!==o.icon.substring(0,4)&&"fad "!==o.icon.substring(0,4)&&"far "!==o.icon.substring(0,4)&&"fal "!==o.icon.substring(0,4)?"string"==typeof o.icon&&"fa-"===o.icon.substring(0,3)?o._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+o.icon:o._icon=n.classNames.icon+" "+n.classNames.icon+"-"+o.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),o._icon=e('<i class="'+o.icon+'"></i>')),"string"==typeof o._icon?a.addClass(o._icon):a.prepend(o._icon))}o.$input=c,o.$label=s,a.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&a.on("selectstart.disableTextSelect",d.abortevent)}),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var i;t.css({position:"absolute",display:"block"}),t.data("width",(i=t.get(0)).getBoundingClientRect?Math.ceil(i.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){h.resize(e(this),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return e(this).data("width")})},update:function(t,n){var i=this;void 0===n&&(n=t,h.resize(t.$menu));var r=!1;return t.$menu.children().each(function(){var o,a=e(this),s=a.data("contextMenuKey"),A=t.items[s],c=e.isFunction(A.disabled)&&A.disabled.call(i,s,n)||!0===A.disabled;if((o=e.isFunction(A.visible)?A.visible.call(i,s,n):void 0===A.visible||!0===A.visible)&&(r=!0),a[o?"show":"hide"](),a[c?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(A.icon)){a.removeClass(A._icon);var u=A.icon.call(this,i,a,s,A);"string"==typeof u?a.addClass(u):a.prepend(u)}if(A.type)switch(a.find("input, select, textarea").prop("disabled",c),A.type){case"text":case"textarea":A.$input.val(A.value||"");break;case"checkbox":case"radio":A.$input.val(A.value||"").prop("checked",!!A.selected);break;case"select":A.$input.val((0===A.selected?"0":A.selected)||"")}A.$menu&&h.update.call(i,A,n)&&(r=!0)}),r},layer:function(t,n){var i=t.$layer=e('<div id="context-menu-layer"></div>').css({height:r.height(),width:r.width(),display:"block",position:"fixed","z-index":n-1,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).appendTo(document.body).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return void 0===document.body.style.maxWidth&&i.css({position:"absolute",height:e(document).height()}),i},processPromises:function(e,t,n){function i(e,t,n){void 0===n&&r(void 0),o(e,t,n)}function r(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),o(e,t,n)}function o(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,h.create(e,t,!0),h.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(i.bind(this,e,t),r.bind(this,e,t))},activated:function(t){var n=t.$menu,i=n.offset(),r=e(window).height(),o=e(window).scrollTop(),a=n.height();a>r?n.css({height:r+"px","overflow-x":"hidden","overflow-y":"auto",top:o+"px"}):(i.top<o||i.top+a>o+r)&&n.css({top:o+"px"})}};function f(e){for(var t,n=e.split(/\s+/),i=[],r=0;t=n[r];r++)t=t.charAt(0).toUpperCase(),i.push(t);return i}function p(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function g(t,n,i){return i||(i=0),n.each(function(){var n,r,o=e(this),a=this,s=this.nodeName.toLowerCase();switch("label"===s&&o.find("input, textarea, select").length&&(n=o.text(),s=(a=(o=o.children().first()).get(0)).nodeName.toLowerCase()),s){case"menu":r={name:o.attr("label"),items:{}},i=g(r.items,o.children(),i);break;case"a":case"button":r={name:o.text(),disabled:!!o.attr("disabled"),callback:function(){o.get(0).click()}};break;case"menuitem":case"command":switch(o.attr("type")){case void 0:case"command":case"menuitem":r={name:o.attr("label"),disabled:!!o.attr("disabled"),icon:o.attr("icon"),callback:function(){o.get(0).click()}};break;case"checkbox":r={type:"checkbox",disabled:!!o.attr("disabled"),name:o.attr("label"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",disabled:!!o.attr("disabled"),name:o.attr("label"),radio:o.attr("radiogroup"),value:o.attr("id"),selected:!!o.attr("checked")};break;default:r=void 0}break;case"hr":r="-------";break;case"input":switch(o.attr("type")){case"text":r={type:"text",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"checkbox":r={type:"checkbox",name:n||p(a),disabled:!!o.attr("disabled"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",name:n||p(a),disabled:!!o.attr("disabled"),radio:!!o.attr("name"),value:o.val(),selected:!!o.attr("checked")};break;default:r=void 0}break;case"select":r={type:"select",name:n||p(a),disabled:!!o.attr("disabled"),selected:o.val(),options:{}},o.children().each(function(){r.options[this.value]=e(this).text()});break;case"textarea":r={type:"textarea",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"label":break;default:r={type:"html",html:o.clone(!0)}}r&&(i++,t["key"+i]=r)}),i}e.fn.contextMenu=function(t){var n=this,i=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var r=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;r&&r.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(s,function(){this.selector===n.selector&&(i.data=this,e.extend(i.data,{trigger:"demand"}))}),d.contextmenu.call(i.target,i);return this},e.contextMenu=function(t,n){"string"!=typeof t&&(n=t,t="create"),"string"==typeof n?n={selector:n}:void 0===n&&(n={});var r=e.extend(!0,{},c,n||{}),A=e(document),u=A,l=!1;switch(r.context&&r.context.length?(u=e(r.context).first(),r.context=u.get(0),l=!e(r.context).is(document)):r.context=document,t){case"update":if(l)h.update(u);else for(var f in s)s.hasOwnProperty(f)&&h.update(s[f]);break;case"create":if(!r.selector)throw new Error("No selector specified");if(r.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className');if(!r.build&&(!r.items||e.isEmptyObject(r.items)))throw new Error("No Items specified");if(o++,r.ns=".contextMenu"+o,l||(a[r.selector]=r.ns),s[r.ns]=r,r.trigger||(r.trigger="right"),!i){var p="click"===r.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave};g[p]=d.itemClick,A.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on(g,".context-menu-item"),i=!0}switch(u.on("contextmenu"+r.ns,r.selector,r,d.contextmenu),l&&u.on("remove"+r.ns,function(){e(this).contextMenu("destroy")}),r.trigger){case"hover":u.on("mouseenter"+r.ns,r.selector,r,d.mouseenter).on("mouseleave"+r.ns,r.selector,r,d.mouseleave);break;case"left":u.on("click"+r.ns,r.selector,r,d.click);break;case"touchstart":u.on("touchstart"+r.ns,r.selector,r,d.click)}r.build||h.create(r);break;case"destroy":var v;if(l){var m=r.context;e.each(s,function(t,n){if(!n)return!0;if(!e(m).is(n.selector))return!0;(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&v.trigger("contextmenu:hide",{force:!0});try{s[n.ns].$menu&&s[n.ns].$menu.remove(),delete s[n.ns]}catch(e){s[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(r.selector){if(a[r.selector]){(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(r.selector)&&v.trigger("contextmenu:hide",{force:!0});try{s[a[r.selector]].$menu&&s[a[r.selector]].$menu.remove(),delete s[a[r.selector]]}catch(e){s[a[r.selector]]=null}A.off(a[r.selector])}}else A.off(".contextMenu .contextMenuAutoHide"),e.each(s,function(t,n){e(n.context).off(n.ns)}),a={},s={},o=0,i=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){void 0===n&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}})},e.contextMenu.getInputValues=function(t,n){return void 0===n&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}}),n},e.contextMenu.fromMenu=function(t){var n={};return g(n,e(t).children()),n},e.contextMenu.defaults=c,e.contextMenu.types=A,e.contextMenu.handle=d,e.contextMenu.op=h,e.contextMenu.menus=s})?i.apply(t,r):i)||(e.exports=o)},9755:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,A=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,l={},d=l.toString,h=l.hasOwnProperty,f=h.toString,p=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[d.call(e)]||"object":typeof e}var k="3.7.1",x=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:k,constructor:P,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,A=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===A&&(a=this,s--);s<A;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?P.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!x.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return A(a)},guid:1,support:g}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var E=o.pop,S=o.sort,I=o.splice,T="[\\x20\\t\\r\\n\\f]",M=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(R,F)};var N=y,L=c;!function(){var e,t,n,r,a,A,c,l,d,f,p=L,v=P.expando,m=0,y=0,_=ee(),b=ee(),w=ee(),k=ee(),x=function(e,t){return e===t&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+T+"*("+R+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+T+"*\\]",O=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(T+"+","g"),B=new RegExp("^"+T+"*,"+T+"*"),V=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),H=new RegExp(T+"|>"),U=new RegExp(O),z=new RegExp("^"+R+"$"),W={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){Ae()},X=de(function(e){return!0===e.disabled&&D(e,"fieldset")},{dir:"parentNode",next:"legend"});try{p.apply(o=s.call(N.childNodes),N.childNodes),o[N.childNodes.length].nodeType}catch(e){p={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function Q(e,t,n,i){var r,o,a,s,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(Ae(t),t=t||A,l)){if(11!==m&&(c=$.exec(e)))if(r=c[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Q.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(c[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(k[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(H.test(e)||V.test(e))){for((f=J.test(e)&&se(t.parentNode)||t)==t&&g.scope||((s=t.getAttribute("id"))?s=P.escapeSelector(s):t.setAttribute("id",s=v)),o=(u=ue(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+le(u[o]);h=u.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){k(e,!0)}finally{s===v&&t.removeAttribute("id")}}}return me(e.replace(M,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[v]=!0,e}function ne(e){var t=A.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return D(t,"input")&&t.type===e}}function re(e){return function(t){return(D(t,"input")||D(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&X(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te(function(t){return t=+t,te(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function Ae(e){var n,i=e?e.ownerDocument||e:N;return i!=A&&9===i.nodeType&&i.documentElement?(c=(A=i).documentElement,l=!P.isXMLDoc(A),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&N!=A&&(n=A.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=ne(function(e){return c.appendChild(e).id=P.expando,!A.getElementsByName||!A.getElementsByName(P.expando).length}),g.disconnectedMatch=ne(function(e){return f.call(e,"*")}),g.scope=ne(function(){return A.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return A.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&l)return t.getElementsByClassName(e)},d=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+T+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+v+"-]").length||d.push("~="),e.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=A.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=A.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")}),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),x=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument==N&&Q.contains(N,e)?-1:t===A||t.ownerDocument==N&&Q.contains(N,t)?1:r?u.call(r,e)-u.call(r,t):0:4&n?-1:1)},A):A}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(Ae(e),l&&!k[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return Q(t,A,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=A&&Ae(e),P.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=A&&Ae(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!l):void 0;return void 0!==r?r:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!g.sortStable,r=!g.sortStable&&s.call(e,0),S.call(e,x),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)I.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(s.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return D(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+T+")"+e+"("+T+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=Q.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,A){var c,u,l,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!A&&!s,_=!1;if(p){if(o){for(;f;){for(l=t;l=l[f];)if(s?D(l,g):1===l.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(_=(d=(c=(u=p[v]||(p[v]={}))[e]||[])[0]===m&&c[1])&&c[2],l=d&&p.childNodes[d];l=++d&&l&&l[f]||(_=d=0)||h.pop();)if(1===l.nodeType&&++_&&l===t){u[e]=[m,d,_];break}}else if(y&&(_=d=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===m&&c[1]),!1===_)for(;(l=++d&&l&&l[f]||(_=d=0)||h.pop())&&(!(s?D(l,g):1===l.nodeType)||!++_||(y&&((u=l[v]||(l[v]={}))[e]=[m,_]),l!==t)););return(_-=r)===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return r[v]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=u.call(e,o[a])]=!(t[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:te(function(e){var t=[],n=[],i=ve(e.replace(M,"$1"));return i[v]?te(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return Q(e,t).length>0}}),contains:te(function(e){return e=e.replace(q,K),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}}),lang:te(function(e){return z.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(q,K).toLowerCase(),function(t){var n;do{if(n=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return A.activeElement}catch(e){}}()&&A.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return D(e,"input")&&!!e.checked||D(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){return D(e,"input")&&"button"===e.type||D(e,"button")},text:function(e){var t;return D(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,n){return[n<0?n+t:n]}),even:ae(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ae(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ae(function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:ae(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function ue(e,n){var i,r,o,a,s,A,c,u=b[e+" "];if(u)return n?0:u.slice(0);for(s=e,A=[],c=t.preFilter;s;){for(a in i&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),A.push(o=[])),i=!1,(r=V.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(M," ")}),s=s.slice(i.length)),t.filter)!(r=W[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?Q.error(e):b(e,A).slice(0)}function le(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,A){var c,u,l=[m,s];if(A){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,A))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=t[v]||(t[v]={}),r&&D(t,r))t=t[i]||t;else{if((c=u[o])&&c[0]===m&&c[1]===s)return l[2]=c[2];if(u[o]=l,l[2]=e(t,n,A))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],s=0,A=e.length,c=null!=t;s<A;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function pe(e,t,n,i,r,o){return i&&!i[v]&&(i=pe(i)),r&&!r[v]&&(r=pe(r,o)),te(function(o,a,s,A){var c,l,d,h,f=[],g=[],v=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Q(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?m:fe(m,f,e,s,A);if(n?n(y,h=r||(o?e:v||i)?[]:a,s,A):h=y,i)for(c=fe(h,g),i(c,[],s,A),l=c.length;l--;)(d=c[l])&&(h[g[l]]=!(y[g[l]]=d));if(o){if(r||e){if(r){for(c=[],l=h.length;l--;)(d=h[l])&&c.push(y[l]=d);r(null,h=[],c,A)}for(l=h.length;l--;)(d=h[l])&&(c=r?u.call(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else h=fe(h===a?h.splice(v,h.length):h),r?r(null,a,h,A):p.apply(a,h)})}function ge(e){for(var i,r,o,a=e.length,s=t.relative[e[0].type],A=s||t.relative[" "],c=s?1:0,l=de(function(e){return e===i},A,!0),d=de(function(e){return u.call(i,e)>-1},A,!0),h=[function(e,t,r){var o=!s&&(r||t!=n)||((i=t).nodeType?l(e,t,r):d(e,t,r));return i=null,o}];c<a;c++)if(r=t.relative[e[c].type])h=[de(he(h),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<a&&!t.relative[e[o].type];o++);return pe(c>1&&he(h),c>1&&le(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(M,"$1"),r,c<o&&ge(e.slice(c,o)),o<a&&ge(e=e.slice(o)),o<a&&le(e))}h.push(r)}return he(h)}function ve(e,i){var r,o=[],a=[],s=w[e+" "];if(!s){for(i||(i=ue(e)),r=i.length;r--;)(s=ge(i[r]))[v]?o.push(s):a.push(s);s=w(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,s,c,u,d){var h,f,g,v=0,y="0",_=a&&[],b=[],w=n,k=a||o&&t.find.TAG("*",d),x=m+=null==w?1:Math.random()||.1,C=k.length;for(d&&(n=s==A||s||d);y!==C&&null!=(h=k[y]);y++){if(o&&h){for(f=0,s||h.ownerDocument==A||(Ae(h),c=!l);g=e[f++];)if(g(h,s||A,c)){p.call(u,h);break}d&&(m=x)}r&&((h=!g&&h)&&v--,a&&_.push(h))}if(v+=y,r&&y!==v){for(f=0;g=i[f++];)g(_,b,s,c);if(a){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=E.call(u));b=fe(b)}p.apply(u,b),d&&!a&&b.length>0&&v+i.length>1&&P.uniqueSort(u)}return d&&(m=x,n=w),_};return r?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,i,r){var o,a,s,A,c,u="function"==typeof e&&e,d=!r&&ue(e=u.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&l&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(q,K),n)||[])[0]))return i;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[A=s.type]);)if((c=t.find[A])&&(r=c(s.matches[0].replace(q,K),J.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&le(a)))return p.apply(i,r),i;break}}return(u||ve(e,d))(r,n,!l,i,!n||J.test(e)&&se(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(x).join("")===v,Ae(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(A.createElement("fieldset"))}),P.find=Q,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Q.compile=ve,Q.select=me,Q.setDocument=Ae,Q.tokenize=ue,Q.escape=P.escapeSelector,Q.getText=P.text,Q.isXML=P.isXMLDoc,Q.selectors=P.expr,Q.support=P.support,Q.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return v(t)?P.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?P.grep(e,function(e){return e===t!==n}):"string"!=typeof t?P.grep(e,function(e){return u.call(t,e)>-1!==n}):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,function(e){return 1===e.nodeType}))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter(function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"==typeof e&&B.test(e)?P(e):e||[],!1).length}});var U,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||U,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,U=P(y);var W=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!B.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(P(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(Y[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}});var $=/[^\x20\t\r\n\f]+/g;function J(e){return e}function q(e){throw e}function K(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],function(e,n){t[n]=!0}),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],s=-1,A=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){P.each(n,function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)})}(arguments),n&&!t&&A()),this},remove:function(){return P.each(arguments,function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||A()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred(function(n){P.each(t,function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var s=this,A=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(s,A))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,a(o,t,J,r),a(o,t,q,r)):(o++,c.call(i,a(o,t,J,r),a(o,t,q,r),a(o,t,J,t.notifyWith))):(n!==J&&(s=void 0,A=[i]),(r||t.resolveWith)(s,A))}},u=r?c:function(){try{c()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,u.error),e+1>=o&&(n!==q&&(s=void 0,A=[i]),t.rejectWith(s,A))}};e?u():(P.Deferred.getErrorHook?u.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(u.error=P.Deferred.getStackHook()),i.setTimeout(u))}}return P.Deferred(function(i){t[0][3].add(a(0,i,v(r)?r:J,i.notifyWith)),t[1][3].add(a(0,i,v(e)?e:J)),t[2][3].add(a(0,i,v(n)?n:q))}).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,function(e,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(K(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)K(r[n],a(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Z.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout(function(){throw e})};var X=P.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),i.removeEventListener("load",Q),P.ready()}P.fn.ready=function(e){return X.then(e).catch(function(e){P.readyException(e)}),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||X.resolveWith(y,[P]))}}),P.ready.then=X.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Q),i.addEventListener("load",Q));var ee=function(e,t,n,i,r,o,a){var s=0,A=e.length,c=null==n;if("object"===w(n))for(s in r=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(P(e),n)})),t))for(;s<A;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):A?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var se=new ae,Ae=new ae,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function le(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}Ae.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return Ae.hasData(e)||se.hasData(e)},data:function(e,t,n){return Ae.access(e,t,n)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ae.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),le(o,i,r[i]));se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ae.set(this,e)}):ee(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Ae.get(o,e))||void 0!==(n=le(o,e))?n:void 0;this.each(function(){Ae.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=se.get(e,t),n&&(!i||Array.isArray(n)?i=se.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){P.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:P.Callbacks("once memory").add(function(){se.remove(e,[t+"queue",n])})})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each(function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)})},dequeue:function(e){return this.each(function(){P.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ge=function(e){return P.contains(e.ownerDocument,e)},ve={composed:!0};pe.getRootNode&&(ge=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return P.css(e,t,"")},A=s(),c=n&&n[3]||(P.cssNumber[t]?"":"px"),u=e.nodeType&&(P.cssNumber[t]||"px"!==c&&+A)&&he.exec(P.css(e,t));if(u&&u[3]!==c){for(A/=2,c=c||u[3],u=+A||1;a--;)P.style(e,t,u+c),(1-o)*(1-(o=s()/A||.5))<=0&&(a=0),u/=o;u*=2,P.style(e,t,u+c),n=n||[]}return n&&(u=+u||+A||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var _e={};function be(e){var t,n=e.ownerDocument,i=e.nodeName,r=_e[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),_e[i]=r,r)}function we(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=se.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=be(i))):"none"!==n&&(r[o]="none",se.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?P(this).show():P(this).hide()})}});var ke,xe,Pe=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,De=/^$|^module$|\/(?:java|ecma)script/i;ke=y.createDocumentFragment().appendChild(y.createElement("div")),(xe=y.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),ke.appendChild(xe),g.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",g.option=!!ke.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?P.merge([e],n):n}function Ie(e,t){for(var n=0,i=e.length;n<i;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,g.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Me(e,t,n,i,r){for(var o,a,s,A,c,u,l=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===w(o))P.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||l.appendChild(t.createElement("div")),s=(Ce.exec(o)||["",""])[1].toLowerCase(),A=Ee[s]||Ee._default,a.innerHTML=A[1]+P.htmlPrefilter(o)+A[2],u=A[0];u--;)a=a.lastChild;P.merge(d,a.childNodes),(a=l.firstChild).textContent=""}else d.push(t.createTextNode(o));for(l.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(c=ge(o),a=Se(l.appendChild(o),"script"),c&&Ie(a),n)for(u=0;o=a[u++];)De.test(o.type||"")&&n.push(o);return l}var Re=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Ne(){return!1}function Le(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each(function(){P.event.add(this,t,r,i,n)})}function Oe(e,t,n){n?(se.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=se.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),se.set(this,t,i),this[t](),n=se.get(this,t),se.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(se.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===se.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,s,A,c,u,l,d,h,f,p,g=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(A=g.events)||(A=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)h=p=(s=Re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(l=P.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=P.event.special[h]||{},u=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=A[h])||((d=A[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,A,c,u,l,d,h,f,p,g=se.hasData(e)&&se.get(e);if(g&&(A=g.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(h=p=(s=Re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(l=P.event.special[h]||{},d=A[h=(i?l.delegateType:l.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&p!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,l.remove&&l.remove.call(e,u));a&&!d.length&&(l.teardown&&!1!==l.teardown.call(e,f,g.handle)||P.removeEvent(e,h,g.handle),delete A[h])}else for(h in A)P.event.remove(e,h+t[c],n,i,!0);P.isEmptyObject(A)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),A=P.event.fix(e),c=(se.get(this,"events")||Object.create(null))[A.type]||[],u=P.event.special[A.type]||{};for(s[0]=A,t=1;t<arguments.length;t++)s[t]=arguments[t];if(A.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,A)){for(a=P.event.handlers.call(this,A,c),t=0;(r=a[t++])&&!A.isPropagationStopped();)for(A.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!A.isImmediatePropagationStopped();)A.rnamespace&&!1!==o.namespace&&!A.rnamespace.test(o.namespace)||(A.handleObj=o,A.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(A.result=i)&&(A.preventDefault(),A.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,A),A.result}},handlers:function(e,t){var n,i,r,o,a,s=[],A=t.delegateCount,c=e.target;if(A&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<A;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,A<t.length&&s.push({elem:c,handlers:t.slice(A)}),s},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&D(t,"input")&&se.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(y.documentMode){var n=se.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),se.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t)-1;o?se.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),se.remove(r,t))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),P.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){P.event.remove(this,e,n,t)})}});var je=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(r in se.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)P.event.add(t,r,s[r][n]);Ae.hasData(e)&&(o=Ae.access(e),a=P.extend({},o),Ae.set(t,a))}}function Ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ge(e,t,n,i){t=A(t);var r,o,a,s,c,u,l=0,d=e.length,h=d-1,f=t[0],p=v(f);if(p||d>1&&"string"==typeof f&&!g.checkClone&&Be.test(f))return e.each(function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ge(o,t,n,i)});if(d&&(o=(r=Me(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=P.map(Se(r,"script"),Ue)).length;l<d;l++)c=r,l!==h&&(c=P.clone(c,!0,!0),s&&P.merge(a,Se(c,"script"))),n.call(e[l],c,l);if(s)for(u=a[a.length-1].ownerDocument,P.map(a,ze),l=0;l<s;l++)c=a[l],De.test(c.type||"")&&!se.access(c,"globalEval")&&P.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?P._evalUrl&&!c.noModule&&P._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):b(c.textContent.replace(Ve,""),c,u))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Se(i)),i.parentNode&&(n&&ge(i)&&Ie(Se(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),A=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Se(s),i=0,r=(o=Se(e)).length;i<r;i++)Ye(o[i],a[i]);if(t)if(n)for(o=o||Se(e),a=a||Se(s),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,s);return(a=Se(s,"script")).length>0&&Ie(a,!A&&Se(e,"script")),s},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[se.expando]=void 0}n[Ae.expando]&&(n[Ae.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,function(e){return void 0===e?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ge(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)})},prepend:function(){return Ge(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return P.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Ee[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Se(this)),n&&n.replaceChild(t,this))},e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var Je=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ze=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Xe=new RegExp(fe.join("|"),"i");function Qe(e,t,n){var i,r,o,a,s=qe.test(t),A=e.style;return(n=n||Ke(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(M,"$1")||void 0),""!==a||ge(e)||(a=P.style(e,t)),!g.pixelBoxStyles()&&Je.test(a)&&Xe.test(t)&&(i=A.width,r=A.minWidth,o=A.maxWidth,A.minWidth=A.maxWidth=A.width=a,a=n.width,A.width=i,A.minWidth=r,A.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,A=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),pe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,s,A,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,P.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),A},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function At(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ct(e,t,n,i,r,o){var a="width"===t?1:0,s=0,A=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(A-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(A-=P.css(e,"border"+fe[a]+"Width",!0,r))):(A+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?A+=P.css(e,"border"+fe[a]+"Width",!0,r):s+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(A+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-A-s-.5))||0),A+c}function ut(e,t,n){var i=Ke(e),r=(!g.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Qe(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Je.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,n||(r?"border":"content"),o,i,a)+"px"}function lt(e,t,n,i,r){return new lt.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re(t),A=qe.test(t),c=e.style;if(A||(t=rt(s)),a=P.cssHooks[t]||P.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||A||(n+=r&&r[3]||(P.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(A?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=re(t);return qe.test(t)||(t=rt(s)),(a=P.cssHooks[t]||P.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Qe(e,t,i)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,i):Ze(e,at,function(){return ut(e,t,i)})},set:function(e,n,i){var r,o=Ke(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),A=i?ct(e,t,i,s,o):0;return s&&a&&(A-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),A&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),At(0,n,A)}}}),P.cssHooks.marginLeft=et(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=At)}),P.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)},e,t,arguments.length>1)}}),P.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=lt.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function gt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(gt):i.setTimeout(gt,P.fx.interval),P.fx.tick())}function vt(){return i.setTimeout(function(){dt=void 0}),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function _t(e,t,n){var i,r,o=0,a=_t.prefilters.length,s=P.Deferred().always(function(){delete A.elem}),A=function(){if(r)return!1;for(var t=dt||vt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=_t.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(P._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return P.map(u,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),P.fx.timer(P.extend(A,{elem:e,anim:c,queue:c.opts.queue})),c}P.Animation=P.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,A,c,u,l="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),g=se.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||P.style(e,i)}if((A=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=se.get(e,"display")),"none"===(u=P.css(e,"display"))&&(c?u=c:(we([e],!0),c=e.style.display||c,u=P.css(e,"display"),we([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===P.css(e,"float")&&(A||(d.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),A=!1,h)A||(g?"hidden"in g&&(p=g.hidden):g=se.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&we([e],!0),d.done(function(){for(i in p||we([e]),se.remove(e,"fxshow"),h)P.style(e,i,h[i])})),A=yt(p?g[i]:0,i,d),i in g||(g[i]=A.start,p&&(A.end=A.start,A.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=_t(this,P.extend({},e),o);(r||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=se.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),P.each(["toggle","show","hide"],function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}}),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,gt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,wt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){P.removeAttr(this,e)})}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||P.find.attr;wt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=wt[a],wt[a]=r,r=null!=n(e,t,i)?a:null,wt[a]=o),r}});var kt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[P.propFix[e]||e]})}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return v(e)?this.each(function(t){P(this).addClass(e.call(this,t,Ct(this)))}):(t=Dt(e)).length?this.each(function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}}):this},removeClass:function(e){var t,n,i,r,o,a;return v(e)?this.each(function(t){P(this).removeClass(e.call(this,t,Ct(this)))}):arguments.length?(t=Dt(e)).length?this.each(function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return v(e)?this.each(function(n){P(this).toggleClass(e.call(this,n,Ct(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Dt(e),this.each(function(){if(s)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Ct(this))&&se.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":se.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,function(e){return null==e?"":e+""})),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Et,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],A=a?o+1:r.length;for(i=o<0?A:a?o:0;i<A;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},g.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St=i.location,It={guid:Date.now()},Tt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Mt=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,s,A,c,u,l,d,f=[n||y],p=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),l=P.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!m(n)){for(A=l.delegateType||p,Mt.test(A+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?A:l.bindType||p,(u=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&oe(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!oe(n)||c&&v(n[p])&&!m(n)&&((s=n[c])&&(n[c]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Rt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Rt),P.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each(function(){P.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Nt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,function(t,r){n||Ft.test(e)?i(e,r):jt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==w(t))i(e,t);else for(r in t)jt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,function(){r(this.name,this.value)});else for(n in e)jt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}});var Bt=/%20/g,Vt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Yt={},Gt={},$t="*/".concat("*"),Jt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Gt;function a(s){var A;return r[s]=!0,P.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(A=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),A}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Zt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Jt.href=St.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,P.ajaxSettings),t):Zt(P.ajaxSettings,e)},ajaxPrefilter:qt(Yt),ajaxTransport:qt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,A,c,u,l,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,g=P.Deferred(),v=P.Callbacks("once memory"),m=h.statusCode||{},_={},b={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ut.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),x(0,t),this}};if(g.promise(k),h.url=((e||h.url||St.href)+"").replace(Wt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){A=y.createElement("a");try{A.href=h.url,A.href=A.href,h.crossDomain=Jt.protocol+"//"+Jt.host!=A.protocol+"//"+A.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Kt(Yt,h,t,k),c)return k;for(l in(u=P.event&&h.global)&&0===P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Bt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Tt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ht,"$1"),d=(Tt.test(r)?"&":"?")+"_="+It.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&k.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&k.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||c))return k.abort();if(w="abort",v.add(h.complete),k.done(h.success),k.fail(h.error),n=Kt(Gt,h,t,k)){if(k.readyState=1,u&&p.trigger("ajaxSend",[k,h]),c)return k;h.async&&h.timeout>0&&(s=i.setTimeout(function(){k.abort("timeout")},h.timeout));try{c=!1,n.send(_,x)}catch(e){if(c)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,A){var l,d,y,_,b,w=t;c||(c=!0,s&&i.clearTimeout(s),n=void 0,o=A||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,r,o,a,s=e.contents,A=e.dataTypes;"*"===A[0];)A.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){A.unshift(r);break}if(A[0]in n)o=A[0];else{for(r in n){if(!A[0]||e.converters[r+" "+A[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==A[0]&&A.unshift(o),n[o]}(h,k,a)),!l&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(e,t,n,i){var r,o,a,s,A,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!A&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),A=o,o=u.shift())if("*"===o)o=A;else if("*"!==A&&A!==o){if(!(a=c[A+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[A+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+A+" to "+o}}}return{state:"success",data:t}}(h,_,k,l),l?(h.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=b),(b=k.getResponseHeader("etag"))&&(P.etag[r]=b)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=_.state,d=_.data,l=!(y=_.error))):(y=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(t||w)+"",l?g.resolveWith(f,[d,w,k]):g.rejectWith(f,[k,w,y]),k.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[k,h,l?d:y]),v.fireWith(f,[k,w]),u&&(p.trigger("ajaxComplete",[k,h]),--P.active||P.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],function(e,t){P[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}}),P.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){P(this).wrapInner(e.call(this,t))}):this.each(function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){P(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Qt=P.ajaxSettings.xhr();g.cors=!!Qt&&"withCredentials"in Qt,g.ajax=Qt=!!Qt,P.ajaxTransport(function(e){var t,n;if(g.cors||Qt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),P.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),P.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}});var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+It.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),g.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Me([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Pt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,function(t){return e===t.elem}).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,s,A,c=P.css(e,"position"),u=P(e),l={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=P.css(e,"top"),A=P.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+A).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(A)||0),v(t)&&(t=t.call(e,n,P.extend({},s))),null!=t.top&&(l.top=t.top-s.top+a),null!=t.left&&(l.left=t.left-s.left+r),"using"in t?t.using.call(e,l):u.css(l)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){P.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),P.each(["top","left"],function(e,t){P.cssHooks[t]=et(g.pixelPosition,function(e,n){if(n)return n=Qe(e,t),Je.test(n)?P(e).position()[t]+"px":n})}),P.each({Height:"height",Width:"width"},function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return ee(this,function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,s):P.style(t,n,r,s)},t,a?r:void 0,a)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){P.fn[t]=function(e){return this.on(t,e)}}),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=D,P.isFunction=v,P.isWindow=m,P.camelCase=re,P.type=w,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P})},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(401),o=n(7667),a=n(1327),s=n(1866);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}A.prototype.clear=i,A.prototype.delete=r,A.prototype.get=o,A.prototype.has=a,A.prototype.set=s,e.exports=A},8407:(e,t,n)=>{var i=n(7040),r=n(4125),o=n(2117),a=n(7518),s=n(4705);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}A.prototype.clear=i,A.prototype.delete=r,A.prototype.get=o,A.prototype.has=a,A.prototype.set=s,e.exports=A},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),o=n(6e3),a=n(9916),s=n(5265);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}A.prototype.clear=i,A.prototype.delete=r,A.prototype.get=o,A.prototype.has=a,A.prototype.set=s,e.exports=A},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var i=n(8407),r=n(7465),o=n(3779),a=n(7599),s=n(4758),A=n(4309);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=A,e.exports=c},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),o=n(1469),a=n(4144),s=n(5776),A=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),l=!n&&!u&&a(e),d=!n&&!u&&!l&&A(e),h=n||u||l||d,f=h?i(e.length,String):[],p=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,p))||f.push(g);return f}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),o=n(2333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),o=n(8351),a=n(6096),s=n(4160),A=n(1469),c=n(4144),u=n(6719),l="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,v){var m=A(e),y=A(t),_=m?d:s(e),b=y?d:s(t),w=(_=_==l?h:_)==h,k=(b=b==l?h:b)==h,x=_==b;if(x&&c(e)){if(!c(t))return!1;m=!0,w=!1}if(x&&!w)return v||(v=new i),m||u(e)?r(e,t,n,p,g,v):o(e,t,_,n,p,g,v);if(!(1&n)){var P=w&&f.call(e,"__wrapped__"),C=k&&f.call(t,"__wrapped__");if(P||C){var D=P?e.value():e,E=C?t.value():t;return v||(v=new i),g(D,E,n,p,v)}}return!!x&&(v||(v=new i),a(e,t,n,p,g,v))}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,A=Function.prototype,c=Object.prototype,u=A.toString,l=c.hasOwnProperty,d=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:s).test(a(e))}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},280:(e,t,n)=>{var i=n(5726),r=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},7561:(e,t,n)=>{var i=n(7246),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},7114:(e,t,n)=>{var i=n(8668),r=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,A){var c=1&n,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var d=A.get(e),h=A.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,g=2&n?new i:void 0;for(A.set(e,t),A.set(t,e);++f<u;){var v=e[f],m=t[f];if(a)var y=c?a(m,v,f,t,e,A):a(v,m,f,e,t,A);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!r(t,function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,A)))return g.push(t)})){p=!1;break}}else if(v!==m&&!s(v,m,n,a,A)){p=!1;break}}return A.delete(e),A.delete(t),p}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),o=n(7813),a=n(7114),s=n(8776),A=n(1814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,l,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&i;if(h||(h=A),e.size!=t.size&&!f)return!1;var p=d.get(e);if(p)return p==t;i|=2,d.set(e,t);var g=a(h(e),h(t),i,c,l,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var A=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!A)return!1;for(var l=u;l--;){var d=c[l];if(!(A?d in t:r.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=A;++l<u;){var v=e[d=c[l]],m=t[d];if(o)var y=A?o(m,v,d,t,e,s):o(v,m,d,e,t,s);if(!(void 0===y?v===m||a(v,m,n,o,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),o=n(3674);e.exports=function(e){return i(e,o,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),function(t){return o.call(e,t)}))}:r;e.exports=s},4160:(e,t,n)=>{var i=n(8552),r=n(7071),o=n(3818),a=n(8525),s=n(577),A=n(4239),c=n(346),u="[object Map]",l="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=c(i),g=c(r),v=c(o),m=c(a),y=c(s),_=A;(i&&_(new i(new ArrayBuffer(1)))!=f||r&&_(new r)!=u||o&&_(o.resolve())!=l||a&&_(new a)!=d||s&&_(new s)!=h)&&(_=function(e){var t=A(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case p:return f;case g:return u;case v:return l;case m:return d;case y:return h}return t}),e.exports=_},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7246:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var i=n(3218),r=n(7771),o=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var A,c,u,l,d,h,f=0,p=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=A,i=c;return A=c=void 0,f=t,l=e.apply(i,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=u}function _(){var e=r();if(y(e))return b(e);d=setTimeout(_,function(e){var n=t-(e-h);return g?s(n,u-(e-f)):n}(e))}function b(e){return d=void 0,v&&A?m(e):(A=c=void 0,l)}function w(){var e=r(),n=y(e);if(A=arguments,c=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(_,t),p?m(e):l}(h);if(g)return clearTimeout(d),d=setTimeout(_,t),m(h)}return void 0===d&&(d=setTimeout(_,t)),l}return t=o(t)||0,i(n)&&(p=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==d&&clearTimeout(d),f=0,A=h=c=d=void 0},w.flush=function(){return void 0===d?l:b(r())},w}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,A=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=A},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,A=(s?s.isBuffer:void 0)||r;e.exports=A},8446:(e,t,n)=>{var i=n(939);e.exports=function(e,t){return i(e,t)}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},3674:(e,t,n)=>{var i=n(4636),r=n(280),o=n(8612);e.exports=function(e){return o(e)?i(e):r(e)}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,A=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||A.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},7460:function(e,t){var n,i,r;
/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/i=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,o={},a=0,s={};function A(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let t=this._config.newline;t||(o=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,o)),e=[...e.split(t).slice(i)].join(t)}this.isFirstChunk&&b(this._config.beforeFirstChunk)&&void 0!==(o=this._config.beforeFirstChunk(e))&&(e=o),this.isFirstChunk=!1,this._halted=!1,i=this._partialLine+e;var o=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=o.meta.cursor,this._finished||(this._partialLine=i.substring(e-this._baseIndex),this._baseIndex=e),o&&o.data&&(this._rowCount+=o.data.length),i=this._finished||this._config.preview&&this._rowCount>=this._config.preview,r)n.postMessage({results:o,workerId:s.WORKER_ID,finished:i});else if(b(this._config.chunk)&&!t){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=o=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!i||!b(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):r&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),A.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var r;this._config.chunkSize&&(r=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+r));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),A.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,r=(this._config.chunkSize&&(r=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,r)),t.readAsText(e,this._config.encoding));i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function l(e){var t;A.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function d(e){A.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=_(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=_(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,n,i,r,o=Math.pow(2,53),a=-o,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,l=0,d=0,h=!1,g=!1,v=[],m={data:[],errors:[],meta:{}};function _(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(m&&i&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(m.data=m.data.filter(function(e){return!_(e)})),k()){if(m)if(Array.isArray(m.data[0])){for(var t=0;k()&&t<m.data.length;t++)m.data[t].forEach(n);m.data.splice(0,1)}else m.data.forEach(n);function n(t,n){b(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function r(t,n){for(var i=e.header?{}:[],r=0;r<t.length;r++){var s=r,u=t[r];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(A.test(e)&&(e=parseFloat(e),a<e&&e<o))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(s=e.header?r>=v.length?"__parsed_extra":v[r]:s,u=e.transform?e.transform(u,s):u),"__parsed_extra"===s?(i[s]=i[s]||[],i[s].push(u)):i[s]=u}return e.header&&(r>v.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+r,d+n):r<v.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+r,d+n)),i}var u;m&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(r),u=m.data.length):m.data=r(m.data,0),e.header&&m.meta&&(m.meta.fields=v),d+=u)}function k(){return e.header&&0===v.length}function x(e,t,n,i){e={type:e,code:t,message:n},void 0!==i&&(e.row=i),m.errors.push(e)}b(e.step)&&(r=e.step,e.step=function(t){m=t,k()?w():(w(),0!==m.data.length&&(l+=t.data.length,e.preview&&l>e.preview?n.abort():(m.data=m.data[0],r(m,u))))}),this.parse=function(r,o,a){var A=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(r,A)),i=!1,e.delimiter?b(e.delimiter)&&(e.delimiter=e.delimiter(r),m.meta.delimiter=e.delimiter):((A=((t,n,i,r,o)=>{var a,A,c,u;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var l=0;l<o.length;l++){for(var d,h=o[l],f=0,g=0,v=0,m=(c=void 0,new p({comments:r,delimiter:h,newline:n,preview:10}).parse(t)),y=0;y<m.data.length;y++)i&&_(m.data[y])?v++:(g+=d=m.data[y].length,void 0===c?c=d:0<d&&(f+=Math.abs(d-c),c=d));0<m.data.length&&(g/=m.data.length-v),(void 0===A||f<=A)&&(void 0===u||u<g)&&1.99<g&&(A=f,a=h,u=g)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=A.bestDelimiter:(i=!0,e.delimiter=s.DefaultDelimiter),m.meta.delimiter=e.delimiter),A=y(e),e.preview&&e.header&&A.preview++,t=r,n=new p(A),m=n.parse(t,o,a),w(),h?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=b(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(h=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),m.meta.aborted=!0,b(e.complete)&&e.complete(m),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(f(t)+"([^]*?)"+f(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var i=0,r=0;r<n.length;r++)"\n"===n[r][0]&&i++;return i>=n.length/2?"\r\n":"\r"}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(e){var t=(e=e||{}).delimiter,n=e.newline,i=e.comments,r=e.step,o=e.preview,a=e.fastMode,A=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,l=u;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof t||-1<s.BAD_DELIMITERS.indexOf(t))&&(t=","),i===t)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,h=!1;this.parse=function(s,p,g){if("string"!=typeof s)throw new Error("Input must be a string");var v=s.length,m=t.length,y=n.length,_=i.length,w=b(r),k=[],x=[],P=[],C=d=0;if(!s)return j();if(a||!1!==a&&-1===s.indexOf(u)){for(var D=s.split(n),E=0;E<D.length;E++){if(P=D[E],d+=P.length,E!==D.length-1)d+=n.length;else if(g)return j();if(!i||P.substring(0,_)!==i){if(w){if(k=[],F(P.split(t)),B(),h)return j()}else F(P.split(t));if(o&&o<=E)return k=k.slice(0,o),j(!0)}}return j()}for(var S=s.indexOf(t,d),I=s.indexOf(n,d),T=new RegExp(f(l)+f(u),"g"),M=s.indexOf(u,d);;)if(s[d]===u)for(M=d,d++;;){if(-1===(M=s.indexOf(u,M+1)))return g||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:d}),L();if(M===v-1)return L(s.substring(d,M).replace(T,u));if(u===l&&s[M+1]===l)M++;else if(u===l||0===M||s[M-1]!==l){-1!==S&&S<M+1&&(S=s.indexOf(t,M+1));var R=N(-1===(I=-1!==I&&I<M+1?s.indexOf(n,M+1):I)?S:Math.min(S,I));if(s.substr(M+1+R,m)===t){P.push(s.substring(d,M).replace(T,u)),s[d=M+1+R+m]!==u&&(M=s.indexOf(u,d)),S=s.indexOf(t,d),I=s.indexOf(n,d);break}if(R=N(I),s.substring(M+1+R,M+1+R+y)===n){if(P.push(s.substring(d,M).replace(T,u)),O(M+1+R+y),S=s.indexOf(t,d),M=s.indexOf(u,d),w&&(B(),h))return j();if(o&&k.length>=o)return j(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:d}),M++}}else if(i&&0===P.length&&s.substring(d,d+_)===i){if(-1===I)return j();d=I+y,I=s.indexOf(n,d),S=s.indexOf(t,d)}else if(-1!==S&&(S<I||-1===I))P.push(s.substring(d,S)),d=S+m,S=s.indexOf(t,d);else{if(-1===I)break;if(P.push(s.substring(d,I)),O(I+y),w&&(B(),h))return j();if(o&&k.length>=o)return j(!0)}return L();function F(e){k.push(e),C=d}function N(e){var t=0;return-1!==e&&(e=s.substring(M+1,e))&&""===e.trim()?e.length:t}function L(e){return g||(void 0===e&&(e=s.substring(d)),P.push(e),d=v,F(P),w&&B()),j()}function O(e){d=e,F(P),P=[],I=s.indexOf(n,d)}function j(i){if(e.header&&!p&&k.length&&!c){var r=k[0],o=Object.create(null),a=new Set(r);let t=!1;for(let n=0;n<r.length;n++){let i=r[n];if(o[i=b(e.transformHeader)?e.transformHeader(i,n):i]){let e,s=o[i];for(;e=i+"_"+s,s++,a.has(e););a.add(e),r[n]=e,o[i]++,t=!0,(A=null===A?{}:A)[e]=i}else o[i]=1,r[n]=i;a.add(i)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:k,errors:x,meta:{delimiter:t,linebreak:n,aborted:h,truncated:!!i,cursor:C+(p||0),renamedHeaders:A}}}function B(){r(j()),k=[],x=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return d}}function g(e){var t=e.data,n=o[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){i=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(b(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},r),!i);a++);delete t.results}else b(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!i&&v(t.workerId,t.results)}function v(e,t){var n=o[e];b(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function m(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=y(e[t]);return n}function _(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return s.parse=function(t,i){var r=(i=i||{}).dynamicTyping||!1;if(b(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.transform=!!b(i.transform)&&i.transform,!i.worker||!s.WORKERS_SUPPORTED)return r=null,s.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),r=new(i.download?c:l)(i)):!0===t.readable&&b(t.read)&&b(t.on)?r=new d(i):(n.File&&t instanceof File||t instanceof Object)&&(r=new u(i)),r.stream(t);(r=(()=>{var t;return!!s.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,i=e.toString();return s.BLOB_URL||(s.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=a++,o[t.id]=t)})()).userStep=i.step,r.userChunk=i.chunk,r.userComplete=i.complete,r.userError=i.error,i.step=b(i.step),i.chunk=b(i.chunk),i.complete=b(i.complete),i.error=b(i.error),delete i.worker,r.postMessage({input:t,config:i,workerId:r.id})},s.unparse=function(e,t){var n=!1,i=!0,r=",",o="\r\n",a='"',A=a+a,c=!1,u=null,l=!1,d=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(r=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(A=t.escapeChar+a),t.escapeFormulae instanceof RegExp?l=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(l=/^[=+\-@\t\r].*$/)}})(),new RegExp(f(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var a="",s=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),A=!Array.isArray(t[0]);if(s&&i){for(var c=0;c<e.length;c++)0<c&&(a+=r),a+=p(e[c],c);0<t.length&&(a+=o)}for(var u=0;u<t.length;u++){var l=(s?e:t[u]).length,d=!1,h=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var f=[],g=0;g<l;g++){var v=A?e[g]:g;f.push(t[u][v])}d=""===f.join("").trim()}if(!d){for(var m=0;m<l;m++){0<m&&!h&&(a+=r);var y=s&&A?e[m]:m;a+=p(t[u][y],m)}u<t.length-1&&(!n||0<l&&!h)&&(a+=o)}}return a}function p(e,t){var i,o;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(o=!1,l&&"string"==typeof e&&l.test(e)&&(e="'"+e,o=!0),i=e.toString().replace(d,A),(o=o||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(i,s.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?a+i+a:i)}},s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!i&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=p,s.ParserHandle=h,s.NetworkStreamer=c,s.FileStreamer=u,s.StringStreamer=l,s.ReadableStreamStreamer=d,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var i=e.config||{},r=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:t.extend({},i)})}),o(),this;function o(){if(0===r.length)b(e.complete)&&e.complete();else{var n,i,o,A,c=r[0];if(b(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",i=c.file,o=c.inputElem,A=u.reason,void(b(e.error)&&e.error({name:n},i,o,A));if("skip"===u.action)return void a();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void a()}var l=c.instanceConfig.complete;c.instanceConfig.complete=function(e){b(l)&&l(e,c.file,c.inputElem),a()},s.parse(c.file,c.instanceConfig)}}function a(){r.splice(0,1),o()}}),r&&(n.onmessage=function(e){e=e.data,void 0===s.WORKER_ID&&e&&(s.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=s.parse(e.input,e.config))&&n.postMessage({workerId:s.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(A.prototype)).constructor=c,(u.prototype=Object.create(A.prototype)).constructor=u,(l.prototype=Object.create(l.prototype)).constructor=l,(d.prototype=Object.create(A.prototype)).constructor=d,s},void 0===(r="function"==typeof n?n.apply(t,i):n)||(e.exports=r)},3522:(e,t,n)=>{var i=n(5852);"string"==typeof i&&(i=[[e.id,i,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(6723)(i,r);i.locals&&(e.exports=i.locals)},6723:(e,t,n)=>{var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){return document.querySelector(e)},A=function(){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=s.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),c=null,u=0,l=[],d=n(1947);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=A(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=A(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=v(t)),i=w.bind(null,n,a,!1),r=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),i=x.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),i=k.bind(null,n),r=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}e&&h(f(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var A=0;A<s.parts.length;A++)s.parts[A]();delete o[s.id]}}}};var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function k(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function x(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},1947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},6929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACTION_EXECUTOR_CHANNEL_ID:()=>oe,ADDITIONAL_ACTION_API_CHANNEL_ID:()=>re,ALL_ACTION_TRIGGER_EVENTS:()=>a,ANNOT_ACTION_API_CHANNEL_ID:()=>ae,ActionFlag:()=>x,ActionTriggerEvents:()=>o,ActionType:()=>_,AdditionalAction:()=>Ce,AnnotActionTriggerEvents:()=>s,AnnotActionTriggerEventsArray:()=>A,BOOKMARK_ACTION_API_CHANNEL_ID:()=>se,BeepType:()=>de,DIALOG_CALLBACK_CHANNEL_ID:()=>le,DialogAlignmentType:()=>ce,DialogElementFontType:()=>ue,DialogElementType:()=>Ae,DocActionTriggerEvents:()=>h,DocActionTriggerEventsArray:()=>f,EmbeddedGotoTargetRelationship:()=>E,FXJSE_ACTION_CALLBACK_API:()=>he,FieldActionTriggerEvents:()=>c,FieldActionTriggerEventsArray:()=>u,JSConfirmButtonID:()=>_e,JSDialogButtonID:()=>ye,JSDialogButtonType:()=>me,JSDialogIconType:()=>be,NewWindowFlag:()=>k,PRINT_EVENT_CALLBACK_API_CHANNEL_ID:()=>ve,PageActionTriggerEvents:()=>l,PageActionTriggerEventsArray:()=>d,PrintRangeMode:()=>ge,PrintType:()=>pe,SubmitFormat:()=>D,UI_STATE_MANAGER_API:()=>fe,ZoomMode:()=>i,assembleActions:()=>ee,createDestination:()=>G,createFileSpec:()=>$,describeActionDataForExecution:()=>B,describeActionFlags:()=>P,describeGSDKActionHierarchy:()=>j,describeGSDKActionSpecification:()=>O,disassembleActions:()=>X,extractGSDKDestination:()=>F,extractGSDKFileSpec:()=>N,findAction:()=>te,flattenActionHierarchy:()=>V,getAdditionalActionByDict:()=>z,getAdditionalActionByOwner:()=>W,isAnnotTrigger:()=>g,isDocTrigger:()=>y,isFieldTrigger:()=>v,isPageTrigger:()=>m,iterateActionHierarchy:()=>ie,moveActionAcross:()=>Q,moveAdditionalAction:()=>Z,overwriteJavaScriptAction:()=>ne,removeAction:()=>Y,transformFromGSDKActionType:()=>w,transformGSDKZoomMode:()=>r,transformToGSDKActionType:()=>b,transformToGSDKTriggerEvent:()=>p,writeDataToGSDKAction:()=>K});var i=function(e){return e.ZoomFitBBox="ZoomFitBBox",e.ZoomFitBHorz="ZoomFitBHorz",e.ZoomFitBVert="ZoomFitBVert",e.ZoomFitHorz="ZoomFitHorz",e.ZoomFitVert="ZoomFitVert",e.ZoomFitPage="ZoomFitPage",e.ZoomFitRect="ZoomFitRect",e.ZoomXYZ="ZoomXYZ",e}({});function r(e,t){switch(t){case e.ZoomMode.e_ZoomFitBBox:return"ZoomFitBBox";case e.ZoomMode.e_ZoomFitBHorz:return"ZoomFitBHorz";case e.ZoomMode.e_ZoomFitBVert:return"ZoomFitBVert";case e.ZoomMode.e_ZoomFitHorz:return"ZoomFitHorz";case e.ZoomMode.e_ZoomFitPage:return"ZoomFitPage";case e.ZoomMode.e_ZoomFitRect:return"ZoomFitRect";case e.ZoomMode.e_ZoomFitVert:return"ZoomFitVert";case e.ZoomMode.e_ZoomXYZ:return"ZoomXYZ";case void 0:case null:return"ZoomFitBHorz"}throw new Error("Incorrect zoomMode enumeration: ".concat(t))}var o=function(e){return e[e.NONE=-1]="NONE",e[e.PAGE_OPENED=0]="PAGE_OPENED",e[e.PAGE_CLOSED=1]="PAGE_CLOSED",e[e.DOC_WILL_CLOSE=2]="DOC_WILL_CLOSE",e[e.DOC_WILL_SAVE=3]="DOC_WILL_SAVE",e[e.DOC_SAVED=4]="DOC_SAVED",e[e.DOC_WILL_PRINT=5]="DOC_WILL_PRINT",e[e.DOC_PRINTED=6]="DOC_PRINTED",e[e.FIELD_KEY_STROKE=7]="FIELD_KEY_STROKE",e[e.FIELD_WILL_FORMAT=8]="FIELD_WILL_FORMAT",e[e.FIELD_VALUE_CHANGED=9]="FIELD_VALUE_CHANGED",e[e.FIELD_RECALCULATE_VALUE=10]="FIELD_RECALCULATE_VALUE",e[e.ANNOT_CURSOR_ENTER=11]="ANNOT_CURSOR_ENTER",e[e.ANNOT_CURSOR_EXIT=12]="ANNOT_CURSOR_EXIT",e[e.ANNOT_MOUSE_BUTTON_PRESSED=13]="ANNOT_MOUSE_BUTTON_PRESSED",e[e.ANNOT_MOUSE_BUTTON_RELEASED=14]="ANNOT_MOUSE_BUTTON_RELEASED",e[e.ANNOT_RECEIVE_INPUT_FOCUS=15]="ANNOT_RECEIVE_INPUT_FOCUS",e[e.ANNOT_LOSE_INPUT_FOCUS=16]="ANNOT_LOSE_INPUT_FOCUS",e[e.ANNOT_PAGE_OPENED=17]="ANNOT_PAGE_OPENED",e[e.ANNOT_PAGE_CLOSED=18]="ANNOT_PAGE_CLOSED",e[e.ANNOT_PAGE_VISIBLE=19]="ANNOT_PAGE_VISIBLE",e[e.ANNOT_PAGE_INVISIBLE=20]="ANNOT_PAGE_INVISIBLE",e}({}),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],s={ANNOT_CURSOR_ENTER:11,ANNOT_CURSOR_EXIT:12,ANNOT_MOUSE_BUTTON_PRESSED:13,ANNOT_MOUSE_BUTTON_RELEASED:14,ANNOT_RECEIVE_INPUT_FOCUS:15,ANNOT_LOSE_INPUT_FOCUS:16,ANNOT_PAGE_OPENED:17,ANNOT_PAGE_CLOSED:18,ANNOT_PAGE_VISIBLE:19,ANNOT_PAGE_INVISIBLE:20},A=Object.values(s),c={FIELD_KEY_STROKE:7,FIELD_WILL_FORMAT:8,FIELD_VALUE_CHANGED:9,FIELD_RECALCULATE_VALUE:10},u=Object.values(c),l={PAGE_OPENED:0,PAGE_CLOSED:1},d=Object.values(l),h={DOC_WILL_CLOSE:2,DOC_WILL_SAVE:3,DOC_SAVED:4,DOC_WILL_PRINT:5,DOC_PRINTED:6},f=Object.values(h);function p(e,t){var n;return null!==(n=e.TriggerEvent.values[t])&&void 0!==n?n:{value:-1}}function g(e){switch(e){case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:return!0}return!1}function v(e){switch(e){case 7:case 8:case 9:case 10:return!0}return!1}function m(e){switch(e){case 1:case 0:return!0}return!1}function y(e){switch(e){case 2:case 3:case 4:case 5:case 6:return!0}return!1}var _=function(e){return e.goto="TypeGoto",e.launch="TypeLaunch",e.uri="TypeURI",e.named="TypeNamed",e.thread="TypeThread",e.submitForm="TypeSubmitForm",e.resetForm="TypeResetForm",e.javaScript="TypeJavaScript",e.importData="TypeImportData",e.hide="TypeHide",e.gotoE="TypeGoToE",e.gotoR="TypeGoToR",e.setOCGState="TypeSetOCGState",e.rendition="TypeRendition",e}({});function b(e,t){switch(t){case"TypeGoto":return e.ActionType.e_TypeGoto;case"TypeLaunch":return e.ActionType.e_TypeLaunch;case"TypeURI":return e.ActionType.e_TypeURI;case"TypeNamed":return e.ActionType.e_TypeNamed;case"TypeThread":return e.ActionType.e_TypeThread;case"TypeSubmitForm":return e.ActionType.e_TypeSubmitForm;case"TypeResetForm":return e.ActionType.e_TypeResetForm;case"TypeJavaScript":return e.ActionType.e_TypeJavaScript;case"TypeImportData":return e.ActionType.e_TypeImportData;case"TypeHide":return e.ActionType.e_TypeHide;case"TypeGoToE":return e.ActionType.e_TypeGoToE;case"TypeGoToR":return e.ActionType.e_TypeGoToR;case"TypeSetOCGState":return e.ActionType.e_TypeSetOCGState;case"TypeRendition":return e.ActionType.e_TypeRendition}return e.ActionType.e_TypeUnknown}function w(e,t){switch(t){case e.ActionType.e_TypeGoto:return"TypeGoto";case e.ActionType.e_TypeLaunch:return"TypeLaunch";case e.ActionType.e_TypeURI:return"TypeURI";case e.ActionType.e_TypeNamed:return"TypeNamed";case e.ActionType.e_TypeThread:return"TypeThread";case e.ActionType.e_TypeSubmitForm:return"TypeSubmitForm";case e.ActionType.e_TypeResetForm:return"TypeResetForm";case e.ActionType.e_TypeJavaScript:return"TypeJavaScript";case e.ActionType.e_TypeImportData:return"TypeImportData";case e.ActionType.e_TypeHide:return"TypeHide";case e.ActionType.e_TypeGoToE:return"TypeGoToE";case e.ActionType.e_TypeGoToR:return"TypeGoToR";case e.ActionType.e_TypeSetOCGState:return"TypeSetOCGState";case e.ActionType.e_TypeRendition:return"TypeRendition";default:throw new Error("Unknown gsdk action type: ".concat(t))}}var k=function(e){return e[e.NewWindowFlagFalse=0]="NewWindowFlagFalse",e[e.NewWindowFlagTrue=1]="NewWindowFlagTrue",e[e.NewWindowFlagNone=2]="NewWindowFlagNone",e}({}),x=function(e){return e[e.FlagExclude=1]="FlagExclude",e[e.FlagIncludeNoValueFields=2]="FlagIncludeNoValueFields",e[e.FlagExportFormat=4]="FlagExportFormat",e[e.FlagGetMethod=8]="FlagGetMethod",e[e.FlagWithCoordinates=16]="FlagWithCoordinates",e[e.FlagAsXFDF=32]="FlagAsXFDF",e[e.FlagIncludeAppendSaves=64]="FlagIncludeAppendSaves",e[e.FlagIncludeAnnotations=128]="FlagIncludeAnnotations",e[e.FlagSubmitAsPDF=256]="FlagSubmitAsPDF",e[e.FlagCanonicalFormat=512]="FlagCanonicalFormat",e[e.FlagExclNonUserAnnots=1024]="FlagExclNonUserAnnots",e[e.FlagExclFKey=2048]="FlagExclFKey",e[e.FlagEmbedForm=8192]="FlagEmbedForm",e}({});function P(e){return{format:C(e),includeAnnots:!!(128&e),exclude:!!(1&e),includeNoValueFields:!!(2&e),isGetMethod:!!(8&e)}}function C(e){return 4&e?"html":32&e?"xfdf":256&e?"pdf":"fdf"}var D=function(e){return e.fdf="fdf",e.html="html",e.xfdf="xfdf",e.pdf="pdf",e.txt="txt",e.xml="xml",e}({}),E=function(e){return e.Parent="P",e.Child="C",e}({}),S=n(2956),I=n(651);var T=n(5578),M=n(7582);function R(e,t,n){if(!n.IsEmpty()){var i=n.GetAttachedFileName().toString(),r=n.GetFileAttachmentAnnotIndex(),o=n.GetPageIndex(),a=n.GetRelationship().toString(),s=n.GetTarget();return{attachedFileName:i,fileAttachmentAnnotIndex:r,pageIndex:o,relationship:a,target:R(e,t,s),get fileInfo(){return new Promise(function(n,a){return(0,T._)(function(){var s,A,c,u,l,d,h;return(0,M.Jh)(this,function(f){try{if(o>-1?(A=t.GetPage(o)).IsEmpty()||(c=A.GetAnnot(r)).IsEmpty()||(u=new e.FileAttachment(c),s=u.GetFileSpec()):(l=new e.PDFNameTree(t,e.PDFNameTreeType.e_EmbeddedFiles),(d=l.GetObj((0,I.createWString)(e,i)))&&(s=new e.FileSpec(t,d))),!s)return n(void 0),[2];h=function(e,t){var n=new Blob;return e.ExportToFileStream(t.StreamCallback.implement({Release:function(){},Flush:function(){return!0},GetSize:function(){return n.size},WriteBlock:function(e,i,r){var o=t.HEAPU8.buffer;return n=new Blob([n,o.slice(e,e+r)]),!0}})),n}(s,e),n({fileName:s.GetFileName().toString(),blob:h,description:s.GetDescription().toString()})}catch(e){a(e)}return[2]})})()})}}}}function F(e,t,n){if(!n.IsEmpty()){var o=function(e,t,n){var i=n.GetDestArray();if(!i||0===i.GetElementCount())return 0;var r=i.GetElement(0).GetDirectObject();if(!r)return 0;var o=r.GetType().value;if(2==o)return r.GetInteger();if(6!=o)return 0;var a=e.String,s=new a("Parent"),A=new a("Kids");try{var c=r.GetDict().GetElement(s);if(!c)return 0;var u=c.GetDict();if(!u)return 0;if(u.HasKey(A)){var l=u.GetElement(A).GetDirectObject().GetArray();if(!l||0===l.GetElementCount())return 0}}finally{s.delete(),A.delete()}return n.GetPageIndex(t)}(e,t,n);o<0&&(o=0);var a=r(e,n.GetZoomMode()),s=n.GetLeft(),A=n.GetRight(),c=n.GetTop(),u=n.GetBottom(),l=n.GetZoomFactor();switch(a){case i.ZoomFitBBox:return{zoomMode:a,pageIndex:o};case i.ZoomFitBHorz:return{zoomMode:a,pageIndex:o,top:c};case i.ZoomFitBVert:return{zoomMode:a,pageIndex:o,left:s};case i.ZoomFitHorz:return{zoomMode:a,pageIndex:o,top:c};case i.ZoomFitPage:return{zoomMode:a,pageIndex:o};case i.ZoomFitRect:return{zoomMode:a,pageIndex:o,left:s,top:c,right:A,bottom:u};case i.ZoomFitVert:return{zoomMode:a,pageIndex:o,left:s};case i.ZoomXYZ:return{zoomMode:a,pageIndex:o,left:s,top:c,right:A,bottom:u,zoomFactor:l}}}}function N(e,t){return t.IsEmpty()?{}:{fileName:t.GetFileName().toString(),fileSize:t.GetFileSize(),description:t.GetDescription().toString(),modifiedDateTime:(0,I.toLocalDate)(t.GetModifiedDateTime()),subtype:t.GetSubtype().toString(),isEmbedded:t.IsEmbedded()}}function L(e){return Array.from({length:e.GetSize()},function(t,n){return e.GetAt(n).toString()})}function O(e,t,n){var i=w(e,n.GetType());switch(i){case _.javaScript:var r=new e.JavaScriptAction(n);return{type:i,data:{javascript:(0,I.getPDFString)(e,r.GetScript())}};case _.uri:return{type:i,data:{uri:new e.URIAction(n).GetURI().toString()}};case _.goto:var o=new e.GotoAction(n).GetDestination();return{type:i,data:{destination:F(e,t,o)}};case _.gotoR:var a=new e.RemoteGotoAction(n);return{type:i,data:{destination:F(e,t,a.GetDestination()),fileSpec:N(0,a.GetFileSpec()),newWindowFlag:a.GetNewWindowFlag().value}};case _.hide:var s=new e.HideAction(n);return{type:i,data:{fieldNames:L(s.GetFieldNames()),hideState:s.GetHideState()}};case _.launch:return{type:i,data:{fileSpec:N(0,new e.LaunchAction(n).GetFileSpec())}};case _.importData:return{type:i,data:{fileSpec:N(0,new e.ImportDataAction(n).GetFDFFileSpec())}};case _.resetForm:var A=new e.ResetFormAction(n),c=L(A.GetFieldNames());return{type:i,data:{flags:A.GetFlags(),fieldNames:c}};case _.submitForm:var u=new e.SubmitFormAction(n);return{type:i,data:{fieldNames:L(u.GetFieldNames()),flags:u.GetFlags(),address:u.GetURL().toString()}};case _.named:return{type:i,data:{name:new e.NamedAction(n).GetName().toString()}};case _.thread:var l=new e.ThreadAction(n),d=l.IsDestThreadInCurrentDoc(),h=l.GetDestinationThread(),f=l.GetDestinationThreadIndex(),p=l.GetDestinationThreadTitle().toString();return{type:i,data:{fileSpec:N(0,l.GetFileSpec()),isDestThreadInCurrentDoc:d,destThread:h,destThreadIndex:f,destThreadTitle:p}};case _.gotoE:var g=new e.EmbeddedGotoAction(n),v=g.GetDestinationName().toString(),m=g.GetDestination(),y=F(e,t,m),b=g.GetRootFile(),k=b.IsEmpty()?void 0:N(0,b),x=g.GetNewWindowFlag().value,P=g.GetTarget();return{type:i,data:{destinationName:v,destination:y,rootFile:k,newWindowFlag:x,target:R(e,t,P)}};case _.setOCGState:for(var C=function(t){var n=D.GetOCGStateArray(t),i=D.GetOCGState(t),r=n.GetSize();i===e.OCGState.e_OCGStateOn?S=Array.from({length:r},function(e,t){return n.GetAt(t).GetObjNum()}):T=Array.from({length:r},function(e,t){return n.GetAt(t).GetObjNum()})},D=new e.SetOCGStateAction(n),E=D.GetOCGStateCount(),S=[],T=[],M=0;M<E;M++)C(M);return{type:i,data:{visibleLayerNodeObjNums:S,hiddenLayerNodeObjNums:T}};case _.rendition:var O=new e.RenditionAction(n),j=O.GetJavaScript().toString(),B=O.GetRenditionCount(),V=Array.from({length:B},function(e,t){return{name:O.GetRendition(t).GetRenditionName().toString()}}),H=function(e,t){switch(t){case e.OperationType.e_OpTypeAssociate:return"Associate";case e.OperationType.e_OpTypeNone:return"None";case e.OperationType.e_OpTypePause:return"Pause";case e.OperationType.e_OpTypePlay:return"Play";case e.OperationType.e_OpTypeResume:return"Resume";case e.OperationType.e_OpTypeStop:return"Stop"}throw new Error("Invalid operation type: ".concat(t))}(e,O.GetOperationType());return{type:i,data:{javascript:j,renditions:V,operationType:H}};default:throw new Error("Unsupported action type: "+n.GetType().constructor.name)}}function j(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=n.GetDict().GetObjNum(),o=i?Array.from({length:n.GetSubActionCount()},function(i,r){var o=n.GetSubAction(r);return j(e,t,o)}):[];return(0,S._)({objNumber:r,subAction:o},O(e,t,n))}function B(e,t,n){var i=V(j(e,t,n,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),function(e){return{type:e.type,objectNumber:e.objNumber,data:e.data}});return i}function V(e,t){var n=[],i=function(e){var r;n.push(t(e)),null===(r=e.subAction)||void 0===r||r.forEach(i)};return i(e),n}var H=n(5843),U=n(8278);function z(e){var t=e.doc,n=e.gsdk,i=e.dict,r=e.createIfNotExists,o=void 0!==r&&r,a=new n.String("AA");try{var s=i.GetElement(a);if(s){var A=s.GetDict();return new n.AdditionalAction(t,A)}if(o){var c=n.PDFDictionary.Create();return i.SetAt(a,c),new n.AdditionalAction(t,c)}}finally{a.delete()}}function W(e){var t=e.gsdk,n=e.doc,i=e.query,r=e.trigger,o=e.useDict,a=void 0!==o&&o,s=e.createIfNotExists,A=void 0!==s&&s;switch(i.type){case"doc":if(a){var c=n.GetCatalog();return z({doc:n,gsdk:t,dict:c,createIfNotExists:A})}return new t.AdditionalAction(n,null);case"page":var u=n.GetPage(i.pageIndex);if(u.IsEmpty())throw new Error("The page index ".concat(i.pageIndex," you are trying to access does not exist and the additional action cannot be obtained!"));return(0,I.deleteLater)(u),a?z({doc:n,gsdk:t,dict:u.GetDict(),createIfNotExists:A}):t.AdditionalAction.CreateFromPage(u);case"annot":var l;if((0,I.isAnnotIdQuery)(i)){var d=i.annotId,h=d.pageIndex,f=d.objNumber;if(!(l=(0,U.findAnnot)(n,i.annotId)))throw new Error("The annot (page: ".concat(h,", objNumber: ").concat(f,") you are trying to access does not exist and the additional action cannot be obtained!"))}else l=i.annot;if(!l.IsEmpty()&&l.GetType()===t.AnnotType.e_Widget&&v(r)){var p=((0,H._)(l,t.Widget)?l:new t.Widget(l)).GetField();return a?z({doc:n,gsdk:t,dict:p.GetDict(),createIfNotExists:A}):new t.AdditionalAction(p)}return a?z({doc:n,gsdk:t,dict:l.GetDict(),createIfNotExists:A}):t.AdditionalAction.CreateFromAnnot(l);case"field":var g;if((0,I.isFieldNameQuery)(i)){var m=new t.Form(n),y=(0,I.createWString)(t,i.fieldName);if((g=m.GetField(0,y)).IsEmpty())throw new Error("The field ".concat(i.fieldName," you are trying to access does not exist and the additional action cannot be obtained!"));(0,I.deleteLater)(m)}else if((0,I.isWidgetFieldQuery)(i)){var _=(0,U.findAnnot)(n,i.widgetId);if(!_||_.IsEmpty()||_.GetType()!==t.AnnotType.e_Widget)throw new Error("The widget ".concat(JSON.stringify(i.widgetId)," you are trying to access does not exist and the additional action cannot be obtained!"));g=new t.Widget(_).GetField()}else g=i.field;return a?z({doc:n,gsdk:t,dict:g.GetDict(),createIfNotExists:A}):new t.AdditionalAction(g);default:throw new Error("Cannot obtain additional action by this owner: ".concat(JSON.stringify(i)))}}function Y(e,t,n){var i={value:t},r=e.GetAction(i);if(!r||r.IsEmpty())return!1;if("number"!=typeof n)return e.RemoveAction(i),!0;for(var o=r.GetSubActionCount(),a=[r],s=0;s<o;s++)a.push(r.GetSubAction(s));var A=a.findIndex(function(e){return e.GetDict().GetObjNum()===n});if(-1===A)throw new Error("Action not found by this obj number: ".concat(n));if(0===A){if(a.shift(),0===a.length)return e.RemoveAction(i),!0;r.RemoveAllSubActions();var c=a.slice(1),u=a[0];c.forEach(function(e,t){u.InsertSubAction(t,e)}),e.SetAction(i,u)}else r.RemoveSubAction(A-1);return!0}function G(e){var t=e.gsdk,n=e.doc,r=e.data,o=e.assertPageIndex;switch(r.zoomMode){case i.ZoomXYZ:return a(function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i){var r=t.GetPageCount(),o=n.pageIndex;if(isNaN(o)||o<0||o>=r){if(1===r)throw new Error("Incorrect page index: ".concat(o,". It should be 0"));throw new Error("Incorrect page index: ".concat(o,". It should be between [0,").concat(r-1,"]"))}}return e.Destination.CreateXYZ(t,n.pageIndex,n.left,n.top,n.zoomFactor)}(t,n,r,o));case i.ZoomFitPage:return a(function(e,t,n){return e.Destination.CreateFitPage(t,n.pageIndex)}(t,n,r));case i.ZoomFitHorz:return a(function(e,t,n){return e.Destination.CreateFitHorz(t,n.pageIndex,n.top)}(t,n,r));case i.ZoomFitVert:return a(function(e,t,n){return e.Destination.CreateFitVert(t,n.pageIndex,n.left)}(t,n,r));case i.ZoomFitRect:return a(function(e,t,n){return e.Destination.CreateFitRect(t,n.pageIndex,n.left,n.bottom,n.right,n.top)}(t,n,r));case i.ZoomFitBBox:return a(function(e,t,n){return e.Destination.CreateFitBBox(t,n.pageIndex)}(t,n,r));case i.ZoomFitBHorz:return a(function(e,t,n){return e.Destination.CreateFitBHorz(t,n.pageIndex,n.top)}(t,n,r));default:return a(function(e,t,n){return e.Destination.CreateFitBVert(t,n.pageIndex,n.left)}(t,n,r))}function a(e){if(e.IsEmpty())throw new Error("Failed to create 'Destination', please check the parameters: ".concat(JSON.stringify(r)));return e}}function $(e,t,n){var i=new e.FileSpec(t),r=n.buffer,o=n.fileName;if(r&&i.Embed(e.StreamCallback.implement({Release:function(){},GetSize:function(){return r.byteLength},ReadBlock:function(t,n,i){var o=r.slice(n,n+i);return e.HEAPU8.set(o,t),!0}})),i.SetFileName((0,I.createWString)(e,o)),n.description&&i.SetDescription((0,I.createString)(e,n.description)),n.modifiedDateTime){var a=(0,I.createDateTime)(e,n.modifiedDateTime);i.SetModifiedDateTime(a)}return n.subtype&&i.SetSubtype((0,I.createString)(e,n.subtype)),i}function J(e,t,n,i){var r=i.destination,o=i.destinationName,a=i.rootFile,s=i.newWindowFlag,A=i.target,c=new e.EmbeddedGotoAction(n);if(r){var u=new e.PDFDoc(null,!1),l=G({gsdk:e,doc:u,data:r,assertPageIndex:!1});c.SetDestination(l)}if(o&&c.SetDestinationName((0,I.createString)(e,o)),!r&&!o)throw new Error("For a embedded goto action, either destination or destinationName is required!");if(a){var d=t;if(a.buffer){var h=a.buffer,f=h.byteLength,p=e._malloc(f);e.HEAPU8.set(new Uint8Array(h),p);var g=e.createPDFDocWithBuffer(p,f),v=g.Load((0,I.createString)(e,""));if(v!==e.ErrorCode.e_ErrSuccess)throw new Error("Failed to load root file: ".concat(v));a.buffer=void 0,d=g}var m=$(e,d,a);c.SetRootFile(m)}switch(s){case k.NewWindowFlagFalse:case k.NewWindowFlagNone:case k.NewWindowFlagTrue:case void 0:c.SetNewWindowFlag(null!=s?s:k.NewWindowFlagNone);break;default:throw new Error("Unsupported new window flag: ".concat(s,", it should be one of ").concat(Object.values(k).join(", ")))}A&&c.SetTarget(q(e,t,A))}function q(e,t,n){var i=new e.EmbeddedGotoTarget(t);if(i.SetAttachedFileName((0,I.createWString)(e,n.attachedFileName)),i.SetFileAttachmentAnnotIndex(n.fileAttachmentAnnotIndex),i.SetPageIndex(n.pageIndex),i.SetRelationship((0,I.createString)(e,n.relationship)),n.target){var r=q(e,t,n.target);r.SetTarget(r)}return i}function K(e){var t=e.gsdk,n=e.doc,i=e.action,r=e.data;switch(w(t,i.GetType())){case _.javaScript:!function(e,t,n){var i=n.javascript;if(void 0!==i){var r=new e.JavaScriptAction(t),o=(0,I.createWString)(e,i);r.SetScript(o),o.delete()}}(t,i,r);break;case _.uri:!function(e,t,n){var i=n.uri;if(void 0!==i){var r=new e.URIAction(t),o=(0,I.createString)(e,i);r.SetURI(o),o.delete()}}(t,i,r);break;case _.launch:!function(e,t,n,i){var r=i.fileSpec;if(r){var o=new e.LaunchAction(n),a=$(e,t,r);o.SetFileSpec(a)}}(t,n,i,r);break;case _.resetForm:!function(e,t,n){var i=n.fieldNames,r=n.flags,o=new e.ResetFormAction(t);if(void 0!==r&&o.SetFlags(r),i){var a=new e.WStringArray;i.forEach(function(t){a.Add((0,I.createWString)(e,t))}),o.SetFieldNames(a)}}(t,i,r);break;case _.submitForm:!function(e,t,n){var i=n.flags,r=n.fieldNames,o=n.address,a=new e.SubmitFormAction(t);if(a.SetFlags(i),void 0!==o){var s=o;o.toLowerCase().startsWith("mailto:")||(s="mailto:".concat(o)),a.SetURL((0,I.createString)(e,s))}if(r){var A=new e.WStringArray;r.forEach(function(t){A.Add((0,I.createWString)(e,t))}),a.SetFieldNames(A)}}(t,i,r);break;case _.importData:!function(e,t,n,i){var r=i.fileSpec;if(r){var o=new e.ImportDataAction(n),a=$(e,t,r);o.SetFDFFileSpec(a)}}(t,n,i,r);break;case _.goto:!function(e,t,n,i){var r=i.destination;if(r){var o=new e.GotoAction(n),a=G({gsdk:e,doc:t,data:r});o.SetDestination(a)}}(t,n,i,r);break;case _.gotoR:!function(e,t,n,i){var r=i.destination,o=i.fileSpec,a=i.newWindowFlag,s=new e.RemoteGotoAction(n);if(r){var A=new e.PDFDoc(null,!1),c=G({gsdk:e,doc:A,data:r,assertPageIndex:!1});s.SetDestination(c)}if(o){var u=$(e,t,o);s.SetFileSpec(u)}void 0!==a&&s.SetNewWindowFlag({value:a})}(t,n,i,r);break;case _.gotoE:J(t,n,i,r);break;case _.hide:!function(e,t,n){var i=n.fieldNames;if(i){var r=new e.HideAction(t),o=new e.WStringArray;i.forEach(function(t){var n=(0,I.createWString)(e,t);o.Add(n)}),r.SetHideState(n.hideState),r.SetFieldNames(o),o.delete()}}(t,i,r);break;case _.named:!function(e,t,n){var i=n.name;if(i){var r=new e.NamedAction(t),o=(0,I.createString)(e,i);r.SetName(o)}}(t,i,r);break;case _.setOCGState:!function(e,t,n,i){if(i){var r=new e.SetOCGStateAction(n),o=new e.LayerTree(t),a=new e.LayerContext(t,e.UsageType.e_UsageView),s=new e.PDFDictionaryArray,A=new e.PDFDictionaryArray,c=function(e){var t=e.GetChildrenCount();if(t)for(var n=0;n<t;n++){var i=e.GetChild(n);c(i)}else{var r=a.IsVisible(e),o=e.GetDict();r?s.Add(o):A.Add(o)}};if(!o.IsEmpty())for(var u=o.GetRootNode(),l=u.GetChildrenCount(),d=0;d<l;d++){var h=u.GetChild(d);c(h)}r.InsertOCGStates(t,0,e.OCGState.e_OCGStateOn,s),r.InsertOCGStates(t,0,e.OCGState.e_OCGStateOff,A)}}(t,n,i,r);break;case _.thread:!function(e,t,n,i){if(i.isDestThreadInCurrentDoc){var r=new e.ThreadAction(n),o=new e.FileSpec(t);r.SetDestinationThreadIndex(o,i.destThreadIndex)}}(t,n,i,r)}return i}function Z(e,t){var n={value:t.trigger};return function(e,t,n){var i=t.targetActionObjNumber,r=t.direction,o=t.trigger,a={value:o},s=X(e),A=s.findIndex(function(e){return e.GetDict().GetObjNum()===i});if(-1===A)throw new Error("Cannot found action by this obj number: ".concat(i));var c="down"===r?A+1:A-1;if(c<0||c>=s.length)return!1;if(0===c||0===A){e.RemoveAllSubActions(),null==n||n.RemoveAction(a);var u=0==A?c:A,l=s[u];null==n||n.SetAction(a,l),s.splice(u,1);for(var d=0;d<s.length;d++)l.InsertSubAction(d,s[d])}else{var h;e.RemoveAllSubActions(),h=[s[c],s[A]],s[A]=h[0],s[c]=h[1];for(var f=1;f<s.length;f++)e.InsertSubAction(f,s[f])}return!0}(e.GetAction(n),t,e)}function X(e){if(e.IsEmpty())return[];var t=[e];function n(e,t){var i=e.GetSubAction(t),r=Array.from({length:i.GetSubActionCount()},function(e,t){return n(i,t)});return[i].concat(r)}var i=Array.from({length:e.GetSubActionCount()},function(t,i){return n(e,i)}).flat(1/0).filter(function(e){return!e.IsEmpty()});return t.concat(i)}function Q(e,t,n,i){var r=i.trigger,o=i.targetActionObjNumber,a=i.direction,s={value:r},A=n.GetAction(s),c=X(t),u=X(A),l=c.concat(u),d=l.findIndex(function(e){return e.GetDict().GetObjNum()===o});if(-1===d)throw new Error("Cannot found action by this obj number: ".concat(o));var h="down"===a?d+1:d-1;if(h<0||h>=l.length)return!1;var f,p=c.length;h<c.length?p=c.length+1:d<c.length&&(p=c.length-1),f=[l[h],l[d]],l[d]=f[0],l[h]=f[1];var g=l.slice(0,p),v=l.slice(p),m=ee(g),y=ee(v);return m?e.SetAction(m):e.RemoveAction(),y?n.SetAction(s,y):n.RemoveAction(s),!0}function ee(e){var t=e[0];if(t)return t.RemoveAllSubActions(),e.slice(1).forEach(function(n,i){var r=e[i+1];r.RemoveAllSubActions(),t.InsertSubAction(i,r)}),t}function te(e,t){if(!e.IsEmpty()){if(e.GetDict().GetObjNum()===t)return{action:e,index:-1};var n=function(e){for(var i=e.GetSubActionCount(),r=0;r<i;r++){var o=e.GetSubAction(r);if(!o.IsEmpty()){if(o.GetDict().GetObjNum()===t)return{parent:e,action:o,index:r};var a=n(o);if(a)return a;(0,I.deleteLater)(o)}}};return n(e)}}function ne(e){return(0,T._)(function(e){var t,n,i,r,o,a,s,A,c,u,l;return(0,M.Jh)(this,function(d){switch(d.label){case 0:return t=e.gsdk,n=e.doc,i=e.additionalAction,r=e.trigger,o=e.actionData,a=e.validator,[4,(void 0===a?function(){return Promise.resolve(!0)}:a)()];case 1:return d.sent()?(s={value:r},A=(0,I.createString)(t,"JS"),c=t.Action.Create(n,t.ActionType.e_TypeJavaScript),u=c.GetDict(),l=(0,I.createWString)(t,o.javascript),u.SetAtWString(A,l),i.SetAction(s,c),[2,!0]):[2,!1]}})}).apply(this,arguments)}function ie(e,t){var n,i,r,o,a,s,A;return(0,M.Jh)(this,function(c){switch(c.label){case 0:return[4,{hierarchy:e,parent:t}];case 1:c.sent(),n=!0,i=!1,r=void 0,c.label=2;case 2:c.trys.push([2,7,8,9]),o=e.subAction[Symbol.iterator](),c.label=3;case 3:return(n=(a=o.next()).done)?[3,6]:(s=a.value,[5,(0,M.XA)(ie(s,e))]);case 4:c.sent(),c.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return A=c.sent(),i=!0,r=A,[3,9];case 8:try{n||null==o.return||o.return()}finally{if(i)throw r}return[7];case 9:return[2]}})}var re="additional-action-api-channel-id",oe="action-executor-action-id",ae="annot-action-api-channel",se="bookmark-action-api-channel",Ae=function(e){return e.BUTTON="button",e.CHECK_BOX="checkbox",e.RADIO="radio",e.LIST_BOX="listbox",e.HIER_LIST_BOX="hier_listbox",e.STATIC_TEXT="static_text",e.EDIT_TEXT="edit_text",e.OK="ok",e.OK_CANCEL="ok_cancel",e.OK_CANCEL_OTHER="ok_cancel_other",e.CLUSTER="cluster",e.IMAGE="image",e.PROGRESS_BAR="progress_bar",e.LINK_TEXT="link_text",e.LINK_GROUP="link_group",e.POPUP="popup",e.GAP="gap",e.VIEW="view",e}({}),ce=function(e){return e.LEFT="align_left",e.CENTER="align_center",e.RIGHT="align_right",e.TOP="align_top",e.FILL="align_fill",e.DISTRIBUTE="align_distribute",e.ROW="align_row",e.OFFSCREEN="align_offscreen",e}({}),ue=function(e){return e.DEFAULT="default",e.DIALOG="dialog",e.palette="palette",e}({}),le="dialog_event_callback_channel_id",de=function(e){return e[e.ERROR=0]="ERROR",e[e.WARNING=1]="WARNING",e[e.QUESTION=2]="QUESTION",e[e.STATUS=3]="STATUS",e[e.DEFAULT=4]="DEFAULT",e}({}),he="fxjse_action_callback_api_channel_id",fe="ui-state-manager-channel-id",pe=function(e){return e[e.Doc=0]="Doc",e[e.DocAndAnnot=1]="DocAndAnnot",e[e.DocAntStamps=2]="DocAntStamps",e[e.FieldsOnly=3]="FieldsOnly",e}({}),ge=function(e){return e[e.All=0]="All",e[e.CurrentView=1]="CurrentView",e[e.CurrentPage=2]="CurrentPage",e[e.Pages=3]="Pages",e[e.PortfolioSelected=4]="PortfolioSelected",e[e.PortfolioAll=5]="PortfolioAll",e}({}),ve="print-event-callback-api-channel",me=function(e){return e[e.OK=0]="OK",e[e.OKCancel=1]="OKCancel",e[e.YesNO=2]="YesNO",e[e.YesNoCancel=3]="YesNoCancel",e}({}),ye=function(e){return e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.NO=3]="NO",e[e.Yes=4]="Yes",e}({}),_e=function(e){return e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.Block=3]="Block",e}({}),be=function(e){return e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Question=2]="Question",e[e.Prompt=3]="Prompt",e}({}),we=n(9227),ke=n(7424),xe=n(5991),Pe={annot:A,doc:f,page:d,field:u,bookmark:[]},Ce=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return Pe[r.query.type]};(0,we._)(this,e),(0,xe._)(this,"query",void 0),(0,xe._)(this,"additionalActionAPI",void 0),(0,xe._)(this,"emitAAActionChangeEvent",void 0),(0,xe._)(this,"getDefaultTriggerEvents",void 0),this.query=t,this.additionalActionAPI=n,this.emitAAActionChangeEvent=i,this.getDefaultTriggerEvents=o}return(0,ke._)(e,[{key:"setAction",value:function(e,t){return(0,T._)(function(){return(0,M.Jh)(this,function(n){switch(n.label){case 0:return[4,this.additionalActionAPI.overwriteAction(this.query,e,t)];case 1:return n.sent(),this.emitAAActionChangeEvent("set",e,t),[2]}})}).call(this)}},{key:"updateActionData",value:function(e,t,n){return(0,T._)(function(){return(0,M.Jh)(this,function(i){switch(i.label){case 0:return[4,this.additionalActionAPI.updateAction(this.query,e,t,n)];case 1:return i.sent(),this.emitAAActionChangeEvent("update",e,t,n),[2]}})}).call(this)}},{key:"getActions",value:function(e){return Array.isArray(e)||(e=this.getDefaultTriggerEvents()),(null==e?void 0:e.length)?this.additionalActionAPI.getActions(this.query,e):Promise.resolve([])}},{key:"moveAction",value:function(e){return(0,T._)(function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return[4,this.additionalActionAPI.moveAction(this.query,e)];case 1:return t.sent(),this.emitAAActionChangeEvent("move"),[2]}})}).call(this)}},{key:"removeAction",value:function(e,t){return(0,T._)(function(){var n;return(0,M.Jh)(this,function(i){switch(i.label){case 0:return[4,this.additionalActionAPI.removeAction(this.query,e,t)];case 1:return(n=i.sent())&&this.emitAAActionChangeEvent("remove",e,t),[2,n]}})}).call(this)}},{key:"addAction",value:function(e,t){return(0,T._)(function(){return(0,M.Jh)(this,function(n){switch(n.label){case 0:return[4,this.additionalActionAPI.appendAction(this.query,e,t)];case 1:return n.sent(),this.emitAAActionChangeEvent("add",e,t),[2]}})}).call(this)}},{key:"triggerAction",value:function(e){return(0,T._)(function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return[4,this.additionalActionAPI.triggerAction(this.query,e)];case 1:return t.sent(),[2]}})}).call(this)}}]),e}()},8278:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnnotType:()=>c,HighlightingMode:()=>u,annotIdToString:()=>o,findAnnot:()=>A,isAnnotId:()=>a,isSameAnnotId:()=>r,isValidHighlightingMode:()=>l});var i=n(9256);function r(e,t){return!(!e||!t)&&(e===t||e.objNumber===t.objNumber&&e.pageIndex===t.pageIndex)}function o(e,t){return"".concat(e,"_").concat(t.pageIndex,"-").concat(t.objNumber)}function a(e){return!!e&&"object"===(void 0===e?"undefined":(0,i._)(e))&&"number"==typeof e.pageIndex&&"number"==typeof e.objNumber}var s=n(651);function A(e,t){var n=e.GetPage(t.pageIndex);if(!n.IsEmpty()){(0,s.deleteLater)(n);for(var i=n.GetAnnotCount(),r=0;r<i;r++){var o=n.GetAnnot(r);if(o.GetDict().GetObjNum()===t.objNumber)return o;(0,s.deleteLater)(o)}}}var c=function(e){return e.unKnownType="unknowntype",e.text="text",e.link="link",e.freeText="freetext",e.line="line",e.square="square",e.circle="circle",e.polygon="polygon",e.polyLine="polyline",e.polyline="polyline",e.highlight="highlight",e.underline="underline",e.squiggly="squiggly",e.strikeOut="strikeout",e.stamp="stamp",e.caret="caret",e.ink="ink",e.psInk="psink",e.fileAttachment="fileattachment",e.sound="sound",e.movie="movie",e.widget="widget",e.screen="screen",e.printerMark="printermark",e.trapNet="trapnet",e.watermark="watermark",e.threeD="3d",e.popup="popup",e.redact="redact",e}({}),u=function(e){return e[e.NONE=0]="NONE",e[e.INVERT=1]="INVERT",e[e.OUTLINE=2]="OUTLINE",e[e.PUSH=3]="PUSH",e[e.TOGGLE=4]="TOGGLE",e}({});function l(e){switch(e){case 0:case 1:case 2:case 3:case 4:return!0;default:return!1}}},651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationContextImpl:()=>Qe,Aspect:()=>Kt,BROWSER_DETECTION:()=>Qo,BasicIoCStrategy:()=>We,BrowserInfo:()=>s,BuiltinIntersectionObserver:()=>ma,CLIPBOARD_DATA_TYPES:()=>$a,CSS_CURSOR_MAP:()=>bi,CUSTOM_SPELL_CHECKER_REMOTE_API:()=>pi,ChunkDownloader:()=>eA,Color:()=>Qt,CountDownLatch:()=>hi,CursorType:()=>_i,DEVICE_DETACTION:()=>qi,DebounceAsyncTaskExecutor:()=>v,DebounceTaskExecutor:()=>At,Defer:()=>p,DeviceInfo:()=>r,Disposable:()=>Ke,EDITABLE_ELEMENT_SHORTCUTS:()=>Zr,ErrorCodeMap:()=>kn,EventEmitterStore:()=>vt,ExecutionContext:()=>m,F:()=>Bn,FileExtensions:()=>oi,FileFormat:()=>ri,IOC_SHARED_SINGLETON:()=>U,IOC_SINGLETON:()=>z,IS_HANDLED:()=>eo,IoCScope:()=>W,KEYBOARD_LOCATION:()=>tr,KeyCodes:()=>Ur,KeyboardImpl:()=>so,KeyboardUtils:()=>o,Lazy:()=>B,Log_Levels:()=>i,Logger:()=>xe,LoggerFactory:()=>Ne,MESSAGE_CHANNEL_MESSAGE_NAME:()=>_n,MODULE_LICENSE_INFO:()=>Ja,MessageChannel:()=>En,NoLogger:()=>Pe,PDFDate:()=>fn,PDFUnit:()=>un,PDFUnitNumber:()=>hn,PrototypeIoCStrategy:()=>qe,Proxy:()=>M,QueuedAsyncTaskExecutor:()=>y,RandomAccessBlob:()=>Ki,Reflect:()=>R,SHARED_STRATEGY:()=>Je,SPELL_CHECKER_API_CHANNEL_ID:()=>fi,STANDARD_HTML_ELEMENTS:()=>qa,SYSTEM_DEFAULT_SHORTCUTS:()=>Kr,Shortcut:()=>qr,ShortcutContextImpl:()=>oo,ShortcutEventApportunity:()=>io,ShortcutEventImpl:()=>no,SingletonIoCStrategy:()=>Ye,Store:()=>pt,SyncGeneratorInvoker:()=>On,T:()=>jn,ThrottleAsyncTaskExecutor:()=>w,ThrottleTaskStatus:()=>b,TrustedPointerEventInput:()=>Os,UndoRedoManager:()=>mi,ValueStore:()=>gt,VisibilityChecker:()=>zs,Watcher:()=>is,WorkerSyncGeneratorInvoker:()=>Wn,WriterHelper:()=>Js,addClass:()=>ba,appOnly:()=>nt,assertThat:()=>Y,attachContextMenuEvent:()=>_a,attachContextMenuEvent2:()=>ya,attachKeypressEvent:()=>Na,browser:()=>A,checkHighContrast:()=>rs,colorConvertor:()=>on,config:()=>_e,convertFromNumberToHex:()=>tn,convertFromNumberToJSColor:()=>An,convertFromNumberToRGBA:()=>rn,convertPointTo:()=>ln,convertToPoint:()=>dn,copyText:()=>la,createClass:()=>ot,createClickEvent:()=>La,createDOM:()=>es,createDateTime:()=>Ws,createDatetimeFromString:()=>Ys,createDeferred:()=>g,createFocusEvent:()=>Oa,createHammer:()=>js,createString:()=>Jn,createWString:()=>$n,cssText:()=>xa,curry:()=>Un,cursorIndex2Pos:()=>Rs,dayjs:()=>qt,debounce:()=>ct,decodePDFString:()=>ai,deleteLater:()=>qn,diffRender:()=>as,dom:()=>Za,doms:()=>Xa,dpr:()=>ra,escapeXMLValue:()=>ni,eventPath:()=>da,excludeCommandInterceptor:()=>co,excludeEditableElementInterceptor:()=>lo,extToMimeType:()=>tt,extendOptions:()=>lt,focusNeedBeOn:()=>fo,getCanvasPixelRatio:()=>fa,getClientX:()=>Ya,getClientY:()=>Ga,getClipboardData:()=>Fs,getCursorIndex:()=>Ms,getCursorPositionOfEditableElement:()=>Ts,getDPI:()=>aa,getHostname:()=>nA,getKey:()=>Mr,getLocation:()=>iA,getPDFString:()=>$s,getPtPxRatio:()=>sa,getPxPtRatio:()=>Aa,getSafariVersion:()=>ea,getSecureRandom:()=>zn,getTransparentOrColor:()=>cn,getUniqueId:()=>fe,globalPointerStatus:()=>Ks,hasCanvasAutoUpdateBug:()=>va,identity:()=>Vn,includeCommandInterceptor:()=>Ao,interceptors:()=>a,invokeAddDestroyHook:()=>He,invokeAllInjected:()=>Oe,invokeDecorate:()=>Ue,invokeDestroy:()=>Be,invokeInjected:()=>je,invokePullout:()=>Ve,is360:()=>Jo,isAliAppBrowser:()=>Oi,isAllSimilar:()=>ce,isAlt:()=>yr,isAltLeft:()=>_r,isAltRight:()=>br,isAndroid:()=>Ri,isAnnotIdQuery:()=>Ai,isAnnotQuery:()=>si,isBaidu:()=>Uo,isBlackBerry:()=>Fi,isChrome:()=>Ro,isChromebook:()=>Ji,isChromiumEdge:()=>Mo,isCloseTo:()=>Ae,isCtrl:()=>hr,isCtrlLeft:()=>fr,isCtrlRight:()=>pr,isDefined:()=>ee,isDesktop:()=>Hi,isDocument:()=>Ps,isEdge:()=>So,isEditable:()=>Ca,isEditableElement:()=>uo,isElement:()=>Sa,isEnd:()=>Sr,isEnter:()=>Pr,isFieldNameQuery:()=>ci,isFieldQuery:()=>ui,isFirefox:()=>Lo,isFullscreen:()=>os,isFunction:()=>te,isGecko:()=>No,isHTMLElement:()=>xs,isHome:()=>Er,isHuawei:()=>Wi,isHuaweiBrowser:()=>Go,isIE:()=>Co,isIE10:()=>Do,isIE10Compact:()=>Xo,isIE8:()=>qo,isIE8Compact:()=>Ko,isIE9Compact:()=>Zo,isIEAtLeast11:()=>Eo,isIOS:()=>Si,isIOSChrome:()=>$o,isIPAD:()=>Ti,isIPHONE:()=>Ii,isIPOD:()=>Mi,isInCloseRange:()=>re,isInLeftCloseRange:()=>oe,isInOpenRange:()=>se,isInRightCloseRange:()=>ae,isInputMethodOpening:()=>oA,isInteger:()=>J,isKey:()=>Tr,isKindle:()=>Li,isLazy:()=>ze,isLiebao:()=>Wo,isLinux:()=>Yi,isMac:()=>Ei,isMacOS:()=>$i,isMatch:()=>ur,isMaxthon:()=>Oo,isMeta:()=>wr,isMetaLeft:()=>kr,isMetaRight:()=>xr,isMiPad:()=>Ui,isMiuiBrowser:()=>Yo,isMobile:()=>Vi,isNumber:()=>G,isNumberInRange:()=>Z,isNumpadEnter:()=>Dr,isOpera:()=>Io,isPlainObject:()=>wn,isPromiseLike:()=>ue,isQQ:()=>Bo,isQuirksMode:()=>jo,isRevockableCallback:()=>Yn,isRunningInBrowser:()=>ga,isRunningInWorker:()=>pa,isSafari:()=>Fo,isSamePoint:()=>Q,isShift:()=>gr,isShiftLeft:()=>vr,isShiftPressedKey:()=>Vr,isShiftRight:()=>mr,isSougou:()=>Ho,isSpace:()=>Ir,isSquaredNumber:()=>q,isStandardEnter:()=>Cr,isString:()=>ne,isTablet:()=>Bi,isTeamsAndroid:()=>ji,isTouchDevice:()=>wi,isUC:()=>zo,isValidNumber:()=>$,isValidRange:()=>ie,isValidRotationAngle:()=>K,isWeChat:()=>Vo,isWebOS:()=>Ni,isWebkit:()=>To,isWidgetFieldQuery:()=>li,isWindowObject:()=>Ea,isWindows:()=>Gi,isXiaomi:()=>zi,keyCodeToKey:()=>jr,keyboardStatus:()=>po,match:()=>cr,matchers:()=>dr,mix:()=>Bs,moduleType:()=>vs,moveCursorOfContentEditable:()=>Is,moveCursorOfTextInput:()=>Ss,moveCursorTo:()=>Ds,moveCursorToEnd:()=>Cs,moveCursorToEndOfTextInput:()=>Es,noop:()=>h,notImplemented:()=>De,number2String:()=>qs,observeResize:()=>Ia,onTap:()=>ja,openFilePicker:()=>Zs,pointerStatus:()=>tA,preventDefaultInterceptor:()=>ho,preventFastClickByKeydown:()=>za,prop:()=>Hn,readFromClipboard:()=>Hs,releaseLater:()=>Kn,removeClass:()=>wa,replaceInvalidXMLCharacters:()=>ti,resolveLineWrap:()=>yi,setAttrs:()=>Pa,setLogLevel:()=>we,setThemeColor:()=>_s,simulateKey:()=>Hr,singletonCreator:()=>at,standardColorAsARGBNumber:()=>sn,stopPropagationOnShortcutEvent:()=>Wa,strLogLevel2Num:()=>be,toCloneableQuery:()=>di,toLocalDate:()=>Gs,toggleClassByFlag:()=>ka,toggleLogOff:()=>ke,unsupported:()=>mt,useJQuery:()=>Fa});var i={};n.r(i),n.d(i,{LEVEL_DEBUG:()=>pe,LEVEL_ERROR:()=>me,LEVEL_INFO:()=>ge,LEVEL_WARN:()=>ve});var r={};n.r(r),n.d(r,{DEVICE_DETACTION:()=>qi,isAliAppBrowser:()=>Oi,isAndroid:()=>Ri,isBlackBerry:()=>Fi,isChromebook:()=>Ji,isDesktop:()=>Hi,isHuawei:()=>Wi,isIOS:()=>Si,isIPAD:()=>Ti,isIPHONE:()=>Ii,isIPOD:()=>Mi,isKindle:()=>Li,isLinux:()=>Yi,isMac:()=>Ei,isMacOS:()=>$i,isMiPad:()=>Ui,isMobile:()=>Vi,isTablet:()=>Bi,isTeamsAndroid:()=>ji,isTouchDevice:()=>wi,isWebOS:()=>Ni,isWindows:()=>Gi,isXiaomi:()=>zi});var o={};n.r(o),n.d(o,{KEYBOARD_LOCATION:()=>tr,getKey:()=>Mr,isAlt:()=>yr,isAltLeft:()=>_r,isAltRight:()=>br,isCtrl:()=>hr,isCtrlLeft:()=>fr,isCtrlRight:()=>pr,isEnd:()=>Sr,isEnter:()=>Pr,isHome:()=>Er,isKey:()=>Tr,isMatch:()=>ur,isMeta:()=>wr,isMetaLeft:()=>kr,isMetaRight:()=>xr,isNumpadEnter:()=>Dr,isShift:()=>gr,isShiftLeft:()=>vr,isShiftPressedKey:()=>Vr,isShiftRight:()=>mr,isSpace:()=>Ir,isStandardEnter:()=>Cr,keyCodeToKey:()=>jr,match:()=>cr,matchers:()=>dr,simulateKey:()=>Hr});var a={};n.r(a),n.d(a,{excludeCommandInterceptor:()=>co,excludeEditableElementInterceptor:()=>lo,focusNeedBeOn:()=>fo,includeCommandInterceptor:()=>Ao,preventDefaultInterceptor:()=>ho});var s={};n.r(s),n.d(s,{BROWSER_DETECTION:()=>Qo,getSafariVersion:()=>ea,is360:()=>Jo,isBaidu:()=>Uo,isChrome:()=>Ro,isChromiumEdge:()=>Mo,isEdge:()=>So,isFirefox:()=>Lo,isGecko:()=>No,isHuaweiBrowser:()=>Go,isIE:()=>Co,isIE10:()=>Do,isIE10Compact:()=>Xo,isIE8:()=>qo,isIE8Compact:()=>Ko,isIE9Compact:()=>Zo,isIEAtLeast11:()=>Eo,isIOSChrome:()=>$o,isLiebao:()=>Wo,isMaxthon:()=>Oo,isMiuiBrowser:()=>Yo,isOpera:()=>Io,isQQ:()=>Bo,isQuirksMode:()=>jo,isSafari:()=>Fo,isSougou:()=>Ho,isUC:()=>zo,isWeChat:()=>Vo,isWebkit:()=>To});var A={};n.r(A),n.d(A,{copyText:()=>la,dpr:()=>ra,eventPath:()=>da,getCanvasPixelRatio:()=>fa,getDPI:()=>aa,getPtPxRatio:()=>sa,getPxPtRatio:()=>Aa,hasCanvasAutoUpdateBug:()=>va,isRunningInBrowser:()=>ga,isRunningInWorker:()=>pa});var c=n(9227),u=n(7424),l=n(5843),d=n(4919);function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}var f=n(5991),p=function(){function e(){var t=this;(0,c._)(this,e),(0,f._)(this,"promise",void 0),(0,f._)(this,"resolve",void 0),(0,f._)(this,"reject",void 0),(0,f._)(this,"resolveValue",void 0),(0,f._)(this,"rejectReason",void 0),(0,f._)(this,"isSettled",!1),this.promise=new Promise(function(e,n){t.resolve=function(n){t.isSettled=!0,t.resolveValue=n,e(n)},t.reject=function(e){t.isSettled=!0,t.rejectReason=e,n(e)}})}return(0,u._)(e,[{key:"then",value:function(t,n){var i=new e;return this.promise.then(t,n).then(i.resolve,i.reject),i}},{key:"catch",value:function(t){var n=new e;return this.promise.catch(t).then(n.resolve,n.reject),n}},{key:"finally",value:function(t){var n=new e;return this.promise.finally(t).then(n.resolve,n.reject),n}}],[{key:"resolve",value:function(t){var n=new e;return n.resolve(t),n}},{key:"reject",value:function(t){var n=new e;return n.reject(t),n}}]),e}();function g(){return new p}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),this.lastTaskPromise=Promise.resolve(),this.interval=t,this.pending=!1,this.leading=n,this.flag=0,this.cancelLast=h,this.currentTaskFn=h}return(0,u._)(e,[{key:"invokeTask",value:function(e){var t=this,n=e();return(0,l._)(n,Promise)?n.finally(function(){t.pending=!1}):(this.pending=!1,Promise.resolve(n))}},{key:"exec",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.flag++,this.currentTaskFn=(t=e).bind.apply(t,[r].concat((0,d._)(i)));var o=this.currentTaskFn;if(this.pending)return this.lastTaskPromise;this.leading&&(this.lastTaskPromise=this.lastTaskPromise.finally(function(){return o()}),this.currentTaskFn=h);var a=g(),s=function(){n.pending=!0,n.lastTaskPromise=n.lastTaskPromise.finally(function(){var e=setTimeout(function(){if(n.flag>0)n.flag=0,clearTimeout(e),s();else{var t=n.currentTaskFn();(0,l._)(t,Promise)?t=t.finally(function(){n.pending=!1}):n.pending=!1,a.resolve(t)}},n.interval)})};return s(),a.promise}},{key:"waitForLastTask",value:function(e){return this.lastTaskPromise||Promise.resolve(e)}},{key:"cancel",value:function(){this.currentTaskFn=h}},{key:"destroy",value:function(){this.cancel()}}]),e}(),m=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"task",void 0),(0,f._)(this,"cancelled",void 0),(0,f._)(this,"defer",void 0),this.task=t,this.cancelled=!1,this.defer=g()}return(0,u._)(e,[{key:"cancel",value:function(){this.defer.resolve(),this.cancelled=!0}},{key:"isCancelled",value:function(){return this.cancelled}},{key:"promise",get:function(){return this.defer.promise}},{key:"reject",value:function(e){this.defer.reject(e)}},{key:"resolve",value:function(e){this.defer.resolve(e)}}]),e}(),y=function(){function e(){(0,c._)(this,e),(0,f._)(this,"executing",void 0),(0,f._)(this,"insertions",[]),(0,f._)(this,"executions",[]),(0,f._)(this,"isRunning",!1)}return(0,u._)(e,[{key:"notifyExecute",value:function(){var e=this;if(!this.isRunning){this.isRunning=!0;var t=function(){var n,i=e.getAndPopNextExecution();if(i){var r=null===(n=e.executing)||void 0===n?void 0:n.promise,o=function(){if(e.executing=i,i.isCancelled())t();else{var n=i.task;Promise.resolve(function(){try{return n()}catch(e){return Promise.reject(e)}}()).then(function(e){i.resolve(e)},function(e){i.reject(e)}).finally(function(){t()})}};r?r.then(o,o):o()}else e.isRunning=!1};t()}}},{key:"execTasks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return this.waitForCurrentRunningTasks();var n,i,r=e.map(function(e){return new m(_(e))});t?(n=this.executions).unshift.apply(n,(0,d._)(r)):(i=this.executions).push.apply(i,(0,d._)(r));var o=r[r.length-1].promise;return this.notifyExecute(),o}},{key:"execInverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return this.exec(e,t,n,!0)}},{key:"exec",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=("number"==typeof n?Array(n).fill(0).map(function(e,t){return[t]}):n).map(function(n){return(t=e).bind.apply(t,[i].concat((0,d._)(n)))});return this.execTasks(o,r)}},{key:"insert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t.map(_).map(function(e){return new m(e)});(i=this.insertions).push.apply(i,(0,d._)(r));var o=Promise.all(r.map(function(e){return e.promise}));return this.notifyExecute(),o}},{key:"resume",value:function(){}},{key:"cancel",value:function(){var e;this.insertions.forEach(function(e){e.cancel()}),this.executions.forEach(function(e){e.cancel()}),null===(e=this.executing)||void 0===e||e.cancel()}},{key:"waitForCurrentRunningTasks",value:function(){var e=this.insertions.concat(this.executions);return this.executing&&e.push(this.executing),Promise.all(e.map(function(e){return e.promise}))}},{key:"waitUntilQuiet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(n){var i=function(){setTimeout(function(){e.executions.length>0?i():n(e.waitForCurrentRunningTasks())},t)};i()})}},{key:"getRunningTaskCount",value:function(){return this.executions.filter(function(e){return!e.isCancelled()}).length}},{key:"getAndPopNextExecution",value:function(){var e;return this.insertions.length>0?(e=this.insertions[0],this.insertions.shift()):this.executions.length>0&&(e=this.executions[0],this.executions.shift()),e}}]),e}();function _(e){return"function"==typeof e?e:e.context?Array.isArray(e.args)?(t=e.task).bind.apply(t,[e.context].concat((0,d._)(e.args))):e.task.bind(e.context):e.task;var t}var b=function(e){return e.IDLE="idle",e.RUNNING="running",e.CANCELLED="cancelled",e}({}),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),(0,f._)(this,"interval",void 0),(0,f._)(this,"retainLastTask",void 0),(0,f._)(this,"status",void 0),(0,f._)(this,"lastCompleteTime",void 0),(0,f._)(this,"lastTaskPromise",void 0),(0,f._)(this,"retainTaskTimmerId",void 0),this.interval=t,this.retainLastTask=n,this.status="idle",this.lastCompleteTime=0,this.lastTaskPromise=Promise.resolve()}return(0,u._)(e,[{key:"exec",value:function(e,t,n){var i=this,r=function(){if("cancelled"!==i.status){i.status="running";var r=e.apply(n,t||[])||Promise.resolve();i.lastTaskPromise=r.finally(function(){i.lastCompleteTime=Date.now(),"cancelled"!==i.status&&(i.status="idle")})}else i.status="idle"},o=Date.now();if("idle"===this.status)if(o-this.lastCompleteTime>=this.interval){var a=function(){return r(),i.lastTaskPromise};return this.lastTaskPromise.then(a,a)}return this.retainLastTask?new Promise(function(e){clearTimeout(i.retainTaskTimmerId);var t=i.interval-(Date.now()-i.lastCompleteTime)%i.interval;i.retainTaskTimmerId=setTimeout(function(){r(),e(i.lastTaskPromise)},t)}):this.lastTaskPromise}},{key:"waitForLastTask",value:function(){return this.lastTaskPromise}},{key:"cancel",value:function(){this.status="cancelled"}},{key:"isRunning",value:function(){return"running"===this.status}}]),e}(),k=n(4691),x=n(5467),P=n(9256);Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce(function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t},{})});var C=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","apply","arguments","bind","call","caller",Symbol.hasInstance,"valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],D=["toSource","watch","unwatch"];function E(e,t){try{delete e[t]}catch(n){e[t]=void 0}}var S=C.concat(["length","name","prototype"]),I="origin",T="$proxy_class_symbol_"+Date.now().toString(32),M=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"getNoopConstructor",value:function(e){function t(){}return t.prototype=Object.create(e.prototype),t}},{key:"getProxyClass",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0};if(r){n=function(e){function t(e){var n;return(0,c._)(this,t),(n=(0,k._)(this,t))[I]=e,n}return(0,x._)(t,e),t}(this.getNoopConstructor(e)),n[T]=!0}else{n=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,arguments)}return(0,x._)(t,e),t}("function"==typeof i?i:this.getNoopConstructor(e));var a=this.getStaticDescriptors(e);Object.defineProperties(n,a),n[T]=!0}var s=this.getClassDescriptors(e.prototype);if("function"==typeof t){var A=function(e){var n=s[e];if(!n||!o(e,n))return"continue";if("function"==typeof n.value){var i=n.value;n.value=r?function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this[I],i,r,e,"method")}:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this,i,r,e,"method")}}if("function"==typeof n.get){var a=n.get;n.get=r?function(){return a.call(this[I])}:function(){return t.call(this,this,null,[],e,"getter")}}if("function"==typeof n.set){var A=n.set;n.set=r?function(e){A.call(this[I],e)}:function(n){return t.call(this,this,null,[n],e,"setter")}}};for(var u in s)A(u)}return Object.defineProperties(n.prototype,s),n}},{key:"isProxyClass",value:function(e){return"function"==typeof e&&e.hasOwnProperty(T)}},{key:"getProxyObject",value:function(e,t,n){if(null==e)throw new Error("Cannot proxy a null or undefined object");var i=e.constructor;return new(this.getProxyClass(i,t,i,!0,n))(e)}},{key:"getStaticDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=function e(t){if(t===Object||t===Function||!t)return{};var n=Object.getPrototypeOf(t),i=e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach(function(e){E(n,e)}),D.forEach(function(t){e[t]===Function.prototype[t]&&E(n,t)}),n}},{key:"getClassDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=function e(t){if("object"!==(void 0===t?"undefined":(0,P._)(t))||null===t)return{};var n=Object.getPrototypeOf(t),i=n===t?{}:e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach(function(e){E(n,e)}),D.forEach(function(t){e[t]===Object.prototype[t]&&E(n,t)}),n}}]),e}();const R=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"getSuperClass",value:function(e){if(e&&e.prototype){var t=Object.getPrototypeOf(e.prototype);return null==t?void 0:t.constructor}}},{key:"isSubClassOf",value:function(e,t){return"function"==typeof e&&"function"==typeof t&&(0,l._)(e.prototype,t)}},{key:"isOverrided",value:function(e,t,n){for(var i=t.prototype;;){var r=i.constructor;if(!r||r===e||r===Object)return!1;if(Object.prototype.hasOwnProperty.call(i,n))return!M.isProxyClass(r);i=Object.getPrototypeOf(i)}}},{key:"mixin",value:function(e,t){var n=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,arguments)}return(0,x._)(t,e),t}(e),i=M.getStaticDescriptors(t);Object.defineProperties(n,i);var r=M.getClassDescriptors(t.prototype);return Object.keys(r).filter(function(e){return"constructor"!==e}).forEach(function(e){Object.defineProperty(n.prototype,e,r[e])}),n}},{key:"getAllMethodNames",value:function(e){for(var t=e.prototype,n=new Set;t&&t!==Object.prototype&&t!==Function.prototype;){Object.getOwnPropertyNames(t).forEach(function(e){return n.add(e)}),t=Object.getPrototypeOf(t)}return n}}]),e}();var F=n(6905),N=n(9418),L={},O="__lazy__",j=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"properties",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in n){var r=n[i];"function"==typeof r&&e.property(t,i,r)}}},{key:"property",value:function(t,n,i){var r=L;Object.getOwnPropertyDescriptor(t,O)||Object.defineProperty(t,O,{value:{},enumerable:!1,configurable:!1});var o=t[O][n]||{};t[O][n]=o,o.initialized=!1;var a=!1;Object.defineProperty(t,n,{get:function(){if(!o.initialized){if(a)throw new Error("The lazy property is not initialized and cannot be accessed at this time");a=!0;try{r=i()}catch(e){throw a=!1,e}o.initialized=!0,Promise.resolve().then(function(){(o.callbacks||[]).forEach(function(e){e(r)})}),a=!1}return r},enumerable:!0,configurable:!0});var s=function(){e.release(t,n)};return"function"===t.addDestroyHook&&t.addDestroyHook(s),s}},{key:"value",value:function(t){var n="lazy_variable_"+Math.ceil(Math.random()*Date.now()).toString(34),i={};return e.property(i,n,t),{reset:function(){return e.reset(i,n)},get value(){return i[n]},get initialized(){return e.isPropertyIntialized(i,n)}}}},{key:"loadProperty",value:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&n.get)return n.get.call(e)}},{key:"release",value:function(e,t){O in e&&!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&delete e[O][t],Object.defineProperty(e,t,{get:function(){},enumerable:!1,configurable:!0})}},{key:"reset",value:function(e,t){var n=e[O];if(n){var i=n[t];i&&(i.initialized=!1)}}},{key:"isPropertyIntialized",value:function(e,t){var n=e[O];return!!(n&&n[t]&&n[t].initialized)}},{key:"hasProperty",value:function(e,t){var n=e[O];return!(!n||!(t in n))}},{key:"notNullProperty",value:function(t,n,i){return e.property(t,n,function(){var r=i();return null==r&&e.reset(t,n),r})}},{key:"get",value:function(t,n,i){e.isPropertyIntialized(t,n)&&i(t[n])}},{key:"onInitialized",value:function(t,n,i){if(e.isPropertyIntialized(t,n))return i(t[n]),function(){};var r=t[O][n]||{};return t[O][n]=r,r.callbacks=r.callbacks||[],r.callbacks.push(i),function(){var e=r.callbacks.indexOf(i);e>-1&&r.callbacks.splice(e,1)}}}]),e}();const B=j;function V(e){for(var t=e,n=[];t&&t!==Object;)n.push(H(t)),t=R.getSuperClass(t);return n.reduce(function(e,t){for(var n in t){if(n in e&&e[n]!==t[n])throw new Error("Service injection conflict, the ".concat(n," injected into the parent class is ").concat(e[n],", while the service injected into the subclass is ").concat(t[n]));e[n]=t[n]}return e},{})}function H(e){var t=e.services,n=e.inject||t;if("function"==typeof n){var i=n.call(e);return Array.isArray(i)?i.reduce(function(e,t,n){return e["service"+n]=t,e},{}):"function"==typeof i?{service0:i}:i}return{}}var U="SHARED-SINGLETON",z="SINGLETON",W=function(e){return e.SHARED_SINGLETON="SHARED-SINGLETON",e.SINGLETON="SINGLETON",e.PROTOTYPE="PROTOTYPE",e}({});function Y(e,t){if(!e)throw new Error(t)}function G(e){return"number"==typeof e}function $(e){return G(e)&&isFinite(e)}function J(e){return G(e)&&Math.floor(e)===e}function q(e){return Math.pow(Math.floor(e),2)!==e}function K(e){return(e%360+360)%360%90==0}function Z(e,t,n){return(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?e>=t:e>t)&&(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?e<=n:e<n)}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<n}function Q(e,t){return X(e.x,t.x)&&X(e.y,t.y)}function ee(e){return null!=e}function te(e){return"function"==typeof e}function ne(e){return"string"==typeof e}function ie(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e<=t:e<t}function re(e,t,n){return!!G(t)&&(!!G(n)&&(!(t>n)&&(e>=t&&e<=n)))}function oe(e,t,n){return!!G(t)&&(!!G(n)&&(!(t>n)&&(e>=t&&e<n)))}function ae(e,t,n){return!!G(t)&&(!!G(n)&&(!(t>n)&&(e>t&&e<=n)))}function se(e,t,n){return!!G(t)&&(!!G(n)&&(!(t>n)&&(e>t&&e<n)))}function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return Math.abs(e-t)<n}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.reduce(function(e,t){return e+t})/n.length;return-1===n.findIndex(function(t){return t-r>e})}function ue(e){return!!e&&"object"===(void 0===e?"undefined":(0,P._)(e))&&"function"==typeof e.then}function le(e){var t=e.scope;return te(t)&&t.call(e)||W.SINGLETON}var de="unique_"+Date.now(),he=0;const fe=function(e){return[e||"",de,he++].join("_")};var pe=0,ge=2,ve=4,me=8;const ye=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"format",value:function(e,t,n){return[{type:"string",value:"[".concat(this.levelText(t),"]")},{type:"string",value:"{".concat(e,"}")}].concat(n.map(function(e){return null==e?{type:void 0===e?"undefined":(0,P._)(e),value:e+""}:{type:void 0===e?"undefined":(0,P._)(e),value:e}}))}},{key:"levelText",value:function(e){switch(e){case pe:return"DEBUG";case ge:return"INFO";case ve:return"WARN";case me:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var _e={logLevel:be("warn"),logLayout:"complex",logAppenders:["console"]||0,logOff:!1,setLogLevel:we,toggleLogOff:ke};function be(e){switch(e){case"debug":return pe;case"info":return ge;case"warn":return ve;default:return me}}function we(e){switch(e){case pe:case ge:case ve:case me:_e.logLevel=e}}function ke(e){_e.logOff="boolean"==typeof e?e:!_e.logOff}var xe=function(){function e(t,n,i){(0,c._)(this,e),this.appender=t,this.layout=n,this.module=i,this.logOff=!1}return(0,u._)(e,[{key:"getMinLevel",value:function(){return void 0===this.minLevel?_e.logLevel:this.minLevel}},{key:"toggle",value:function(e){this.logOff="boolean"==typeof e?e:!this.logOff}},{key:"setLevel",value:function(e){this.minLevel=e}},{key:"doLog",value:function(e,t){if(!this.isLogOff(e)){var n=this.layout.format(this.module,e,t);this.appender.print(n,e)}}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.doLog(e,n)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(pe,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(ge,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(ve,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(me,t)}},{key:"isLogOff",value:function(e){return this.logOff||_e.logOff||e<this.getMinLevel()}}]),e}(),Pe=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,arguments)}return(0,x._)(t,e),(0,u._)(t,[{key:"doLog",value:function(){}}]),t}(xe);const Ce=xe;const De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw new Error("Method not implemented".concat(e?":"+e:""))};const Ee=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"print",value:function(e,t){De(e,t)}}]),e}();var Se=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,arguments)}return(0,x._)(t,e),(0,u._)(t,[{key:"print",value:function(e,t){var n=e.map(function(e){return"string"!==e.type?" %o":" %c"+e.value}).join("").trim(),i=e.map(function(e){return"string"===e.type?e.style:e.value});switch(i.splice(0,0,n),t){case pe:var r;(r=console).debug.apply(r,(0,d._)(i));break;case ge:var o;(o=console).info.apply(o,(0,d._)(i));break;case ve:var a;(a=console).warn.apply(a,(0,d._)(i));break;case me:var s;(s=console).error.apply(s,(0,d._)(i));break;default:var A;(A=console).log.apply(A,(0,d._)(i))}}}]),t}(Ee);const Ie=Se;const Te=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"format",value:function(e,t,n){var i,r=this,o=(new Error).stack;o&&(i="\n  "+o.split("\n").pop().trim());return[{type:"string",style:"color: ".concat(this.levelColor(t),";"),value:"[".concat(this.levelText(t),"]")},{type:"string",style:"color: magenta",value:"{".concat(e,"}")}].concat(n.map(function(e){return null==e?{type:void 0===e?"undefined":(0,P._)(e),style:"color: megenta;font-weight: bold",value:e+""}:"string"==typeof e?{type:void 0===e?"undefined":(0,P._)(e),style:"color: ".concat(r.levelColor(t)),value:e}:{type:void 0===e?"undefined":(0,P._)(e),value:e}})).concat({type:"string",style:"color: grey;",value:i})}},{key:"levelColor",value:function(e){switch(e){case pe:return"blue";case ge:return"green";case ve:return"#FCDCA0";case me:return"red"}return"#000"}},{key:"levelText",value:function(e){switch(e){case pe:return"DEBUG";case ge:return"INFO";case ve:return"WARN";case me:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var Me=function(e){function t(e){var n;return(0,c._)(this,t),(n=(0,k._)(this,t)).appenders=e||[],n}return(0,x._)(t,e),(0,u._)(t,[{key:"print",value:function(e,t){this.appenders.forEach(function(n){return n.print(e,t)})}}]),t}(Ee);const Re=Me;var Fe={},Ne=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"toggleLogger",value:function(e){ke(e)}},{key:"setLogLevel",value:function(e){we(e)}},{key:"getLogger",value:function(e){return Fe[e]=Fe[e]||this.createLogger(e)}},{key:"createLogger",value:function(e){var t,n;if("complex"===_e.logLayout)t=new Te;else t=new ye;return n=_e.logAppenders.map(function(e){switch(e){case"console":return new Ie;case"websocket":return new WebsocketAppender}}).filter(function(e){return(0,l._)(e,Ee)}),new Ce(new Re(n),t,e)}}]),e}();const Le=Ne;function Oe(e){te(e.serviceInjected)&&(e.serviceInjected(),e.serviceInjected=h),te(e.allInjected)&&(e.allInjected(),e.allInjected=h)}function je(e,t,n){te(e.injected)&&e.injected(t,n)}function Be(e){te(e.destroy)&&e.destroy()}function Ve(e,t){te(e.pullout)&&e.pullout(t)}function He(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;te(e.addDestroyHook)&&(r=e).addDestroyHook.apply(r,(0,d._)(n))}function Ue(e){var t=e.constructor.decorate;return te(t)&&t.call(e.constructor,e)||e}function ze(e){return!!te(e.isLazy)&&e.isLazy()}var We=function(){function e(){(0,c._)(this,e),(0,f._)(this,"map",new Map)}return(0,u._)(e,[{key:"getComponentInstance",value:function(e,t){if(ne(e))return this.map.get(e);var n=e.$$ioc_instance_name;if(ne(n)&&this.map.has(n))return this.map.get(n);e.length>0&&Le.getLogger(this+"").warn("Relying on other object instances through constructors is not a good practice",e);var i=1===e.length?new e(t):new e;return this.saveComponentInstance(e,i),i}},{key:"saveComponentInstance",value:function(e,t){var n;if(ne(e)?n=e:(n=e.$$ioc_instance_name||this.generateInstanceName(),e.$$ioc_instance_name=n),this.map.has(n))throw new Error("[IoC] An unknown error has occurred: Duplicate requests to create instances of the same type: (".concat(e,")!"));this.map.set(n,t)}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&He(i,function(){Ve(n,r)})}},{key:"destroyComponents",value:function(){this.map.forEach(function(e){Be(e)}),this.map.clear()}},{key:"define",value:function(e){}}]),e}(),Ye=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"singleton",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return(0,c._)(this,t),e=(0,k._)(this,t),(0,f._)(e,"name",void 0),(0,f._)(e,"level",void 0),e.name=n,e.level=i,e}return(0,x._)(t,e),(0,u._)(t,[{key:"generateInstanceName",value:function(){return fe(this.name)}},{key:"registerComponentInstance",value:function(e){var t=e.constructor;this.saveComponentInstance(t,e)}},{key:"registerComponentInstanceByName",value:function(e,t){this.saveComponentInstance(t,e)}}]),t}(We),Ge="object"===("undefined"==typeof window?"undefined":(0,P._)(window))?window:globalThis,$e=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,["shared",1/0])}return(0,x._)(t,e),(0,u._)(t,[{key:"destroyComponents",value:function(){}}]),t}(Ye),Je=Ge.__SHARED_IOC_STRATEGY__||new $e;Ge.__SHARED_IOC_STRATEGY__=Je;var qe=function(){function e(){(0,c._)(this,e),(0,f._)(this,"level",Number.MIN_SAFE_INTEGER)}return(0,u._)(e,[{key:"getComponentInstance",value:function(e,t){return new e}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&He(i,function(){Ve(n,r)})}},{key:"destroyComponents",value:function(){}},{key:"define",value:function(){}}]),e}(),Ke=function(){function e(){(0,c._)(this,e),this.destroyHooks=[],this.isDestroyed=!1}return(0,u._)(e,[{key:"ownsTo",value:function(t){if(!(0,l._)(t,e))throw new Error("Cannot owns to non Disposable instance");var n=t.addDestroyHook(this);this.addDestroyHook(n)}},{key:"addDestroyHook",value:function(){for(var t,n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=this.destroyHooks).push.apply(t,(0,d._)(r.filter(function(t){if("function"!=typeof t&&!(0,l._)(t,e))throw new Error("[Illegal Argument] Invalid destroy hook:".concat(t,", It's not a function!"));return!0}))),function(){r.forEach(function(e){var t=n.destroyHooks.indexOf(e);t>-1&&n.destroyHooks.splice(t,1)})}}},{key:"destroy",value:function(){this.destroyHooks.slice(0).forEach(function(t){try{"function"==typeof t?t():(0,l._)(t,e)&&t.destroy()}catch(e){throw e}}),this.destroyHooks=[],this.isDestroyed=!0}},{key:Symbol.dispose,value:function(){this.destroy()}}]),e}();const Ze=Ke;var Xe=fe("$$ioc-component-instance-initialized"),Qe=function(e){function t(){var e;return(0,c._)(this,t),e=(0,k._)(this,t),(0,f._)(e,"strategies",new Map),e.setStrategy(W.SHARED_SINGLETON,Je),e.setStrategy(W.PROTOTYPE,new qe),e.setStrategy(W.SINGLETON,new Ye),e}return(0,x._)(t,e),(0,u._)(t,[{key:"define",value:function(e){var t=le(e),n=this.getStrategy(t);null==n||n.define(e)}},{key:"getInstanceByClass",value:function(e,t){if(this.isDestroyed)throw new Error("IoC has been destroyed!");if("string"==typeof e){var n=this.getStrategy(W.SINGLETON).getComponentInstance(e,t);return n&&this.initInstance(n)}if("function"==typeof e){var i=le(e),r=this.getStrategy(i).getComponentInstance(e,t);return Ue(this.initInstance(r))}}},{key:"initInstance",value:function(e){var t=function(t){if(B.hasProperty(e,t))return"continue";if(t in e&&e[t])throw new Error("Unable to inject instance, the same property name(".concat(t,") already exists in target instance."));B.property(e,t,function(){var a=le(i),s=V(i),A=n.getStrategy(a);if(A.level<o.level)throw new Error("[IoC] Instances of scope '".concat(r,"' cannot depend on scope '").concat(a,"'"));var c=n.getInstanceByClass(s[t],e);if(!c)throw new Error("Unexpected ioc component class ".concat(s[t],", name: ").concat(t,", owner: ").concat(e));return je(e,t,c),o.onInject({component:c,injectInto:e,propertyName:t,targetStrategy:A}),c}),ze(i)||B.loadProperty(e,t)},n=this;if(this.isDestroyed)throw new Error("IoC has been destroyed!");if(!e||!e.constructor)throw new Error("".concat(e," is not a valid IoC Component instance!"));if(e[Xe])return e;Object.defineProperty(e,Xe,{get:function(){return!0},configurable:!1,enumerable:!1});var i=e.constructor,r=le(i),o=this.getStrategy(r),a=V(i);for(var s in a)t(s);return Oe(e),e}},{key:"setStrategy",value:function(e,t){this.strategies.set(e,t)}},{key:"getStrategy",value:function(e){var t=this.strategies.get(e);if(!t)throw new Error("[IoC] Incorrect scope: ".concat(e));return t}},{key:"hasStrategy",value:function(e){return this.strategies.has(e)}},{key:"destroy",value:function(){(0,F._)((0,N._)(t.prototype),"destroy",this).call(this),this.strategies.forEach(function(e){e.destroyComponents()})}}]),t}(Ze);const et={aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpg:"image/jpeg",jpeg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",mid:"audio/midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",cda:"application/x-cdf",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",fdf:"application/vnd.fdf",xfdf:"application/vnd.adobe.fdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",".tiff":"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"};function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";return et[e]||t}function nt(){}var it=n(1550),rt=n(6073);function ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.hasOwnProperty.call(e,"constructor"),r=i?e.constructor:void 0,o=function(e){function t(){var e;return(0,c._)(this,t),e=(0,k._)(this,t,arguments),i?(0,rt._)(e,r.apply(e,arguments)):e}return(0,x._)(t,e),t}(t);return i&&delete e.constructor,Object.assign(o.prototype,e),e.constructor=r,Object.assign(o,n),o}function at(e){var t=null;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===t&&(t=(0,it._)(e,(0,d._)(i))),t}}var st=function(){},At=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),(0,f._)(this,"delay",void 0),(0,f._)(this,"leading",void 0),(0,f._)(this,"handle",void 0),(0,f._)(this,"flag",void 0),(0,f._)(this,"pending",void 0),this.delay=t,this.leading=n,this.handle=st,this.flag=0,this.pending=!1}return(0,u._)(e,[{key:"exec",value:function(e){var t=this;if(this.flag++,this.handle=e,!this.pending){this.leading&&(e(),this.flag=0,this.handle=st);var n=function(){t.pending=!0,setTimeout(function(){if(t.flag>1)t.flag=0,n();else{var e=t.handle;t.handle=st,e(),t.pending=!1}},t.delay)};n()}}},{key:"cancel",value:function(){this.handle=st}}]),e}();function ct(e){var t=new At(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o,a=(o=e).bind.apply(o,[this].concat((0,d._)(i)));t.exec(a)}}var ut={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0;"boolean"==typeof e&&(r=e,e=n[0],n=n.slice(1)),(null===e||"object"!==(void 0===e?"undefined":(0,P._)(e))&&"function"!=typeof e)&&(e={});for(var o=0,a=n.length;o<a;o++){var s=n[o];if(null!=s)for(var A in s){var c=e[A],u=s[A];if(e!==u){var l=void 0;if(r&&u&&(ht(u)||(l=Array.isArray(u)))){var d=void 0;l?(l=!1,d=c&&Array.isArray(c)?c:[]):d=c&&ht(c)?c:{},e[A]=lt(r,d,u)}else void 0!==u&&(e[A]=u)}}}return e}function dt(e,t){return null!=e&&{}.hasOwnProperty.call(e,t)}function ht(e){if(!e||"object"!==function(e){if(null===e)return"null";switch(void 0===e?"undefined":(0,P._)(e)){case"object":case"function":return ut[Object.prototype.toString(e)]||"object"}return void 0===e?"undefined":(0,P._)(e)}(e)||e.nodeType||null!=e&&e==e.window)return!1;if(e.constructor&&!dt(e,"constructor")&&!dt(e.constructor.prototype,"isPrototypeOf"))return!1;var t=void 0;for(t in e);return void 0===t||dt(e,t)}var ft=Promise.resolve(),pt=function(e){function t(){var e;return(0,c._)(this,t),e=(0,k._)(this,t),(0,f._)(e,"__data",{}),(0,f._)(e,"subscribers",{}),(0,f._)(e,"reducers",[]),(0,f._)(e,"filters",[]),e.addDestroyHook(function(){e.reducers.length=0,e.filters.length=0,e.subscribers={},e.clear()}),e}return(0,x._)(t,e),(0,u._)(t,[{key:"getCurrentValue",value:function(e,t){if(arguments.length>1&&!this.has(e))return t;var n=this.__data[e];return this.reducers.reduce(function(t,n){return n(t,e)},n)}},{key:"forEach",value:function(e){if("function"!=typeof e)throw new Error((void 0===e?"undefined":(0,P._)(e))+" is not a function!");for(var t in this.__data)e(this.getCurrentValue(t),t)}},{key:"has",value:function(e){return e in this.__data}},{key:"dispatch",value:function(e,t){var n=this;if(this.isDestroyed)return ft;this.__data[e]=t;var i=this.subscribers[e]||[],r=this.getCurrentValue(e),o=0===this.filters.length||this.filters.some(function(e){return e(t)});return o&&i.length?Promise.all(i.slice(0).map(function(t){return t.call(n,r,e)})):ft}},{key:"unDispatch",value:function(e){this.isDestroyed||delete this.__data[e]}},{key:"remove",value:function(e){this.isDestroyed||(delete this.__data[e],this.subscribers[e]=[])}},{key:"subscribe",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(this.isDestroyed)return function(){};var i,r=!1,o=this.subscribers[e]||(this.subscribers[e]=[]),a=function(){if(!r)return n.call(t,t.getCurrentValue(e),e)};return o.push(a),e in this.__data&&Promise.resolve().then(a),function(){if(r)return i;r=!0;var e=o.indexOf(a);return i=e>-1&&o.splice(e,1).length>0}}},{key:"subscribeNextOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,i=this.has(e)?2:1,r=this.subscribe(e,function(o){if(0===--i)return r(),n.call(t,o,e)});return r}},{key:"subscribeOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=this.subscribe(e,function(e,i){return n&&n(),t.apply(this,[e,i])});return n}},{key:"takeWhile",value:function(e){var t=this;return new Promise(function(n){t.subscribeOnce(e,function(e){n(e)})})}},{key:"takeUntil",value:function(e,t){var n=this;return new Promise(function(i){var r=n.subscribe(e,function(e){t(e)&&(i(),r())})})}},{key:"reducer",value:function(e){var t=this;if(this.isDestroyed)return h;if("function"!=typeof e)return h;var n=e.bind(this);return this.reducers.push(n),function(){var e=t.reducers.indexOf(n);return e>-1&&t.reducers.splice(e,1).length>0}}},{key:"filter",value:function(e){var t=this;if(!this.isDestroyed){if("function"!=typeof e)return h;var n=function(t){return e(t)};return this.filters.push(n),function(){var e=t.filters.indexOf(n);-1!==e&&t.filters.splice(e,1)}}}},{key:"clear",value:function(){this.__data={}}}]),t}(Ze),gt=function(e){function t(e){var n;return(0,c._)(this,t),n=(0,k._)(this,t),(0,f._)(n,"store",new pt),(0,f._)(n,"key","k"),n.addDestroyHook(n.store),e&&n.dispatch(e),n}return(0,x._)(t,e),(0,u._)(t,[{key:"getCurrentValue",value:function(e){return this.store.has(this.key)?this.store.getCurrentValue(this.key):e}},{key:"dispatch",value:function(e){return this.store.dispatch(this.key,e)}},{key:"subscribe",value:function(e){return this.store.subscribe(this.key,function(t){return e(t)})}},{key:"subscribeOnce",value:function(e){return this.store.subscribeOnce(this.key,function(t){return e(t)})}},{key:"subscribeNextOne",value:function(e){return this.store.subscribeNextOne(this.key,e)}},{key:"takeWhile",value:function(){return this.store.takeWhile(this.key)}},{key:"takeUntil",value:function(e){return this.store.takeUntil(this.key,e)}},{key:"filter",value:function(e){return this.store.filter(e)}},{key:"reduce",value:function(e){return this.store.reducer(function(t){return e(t)})}},{key:"unDispatch",value:function(){this.store.unDispatch(this.key)}},{key:"remove",value:function(){this.store.remove(this.key)}}]),t}(Ze),vt=function(e){function t(e){var n;return(0,c._)(this,t),n=(0,k._)(this,t),(0,f._)(n,"eventEmitter",void 0),(0,f._)(n,"listeners",void 0),n.eventEmitter=e,n.listeners=new Set,n}return(0,x._)(t,e),(0,u._)(t,[{key:"dispatch",value:function(e,t){throw new Error("Cannot dispatch EventEmitterStore!")}},{key:"registerEvent",value:function(e){var n=this,i=this;if(!this.listeners.has(e)){this.listeners.add(e);var r=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(0,F._)((0,N._)(t.prototype),"dispatch",i).call(i,e,r)};this.eventEmitter.on(e,r),this.addDestroyHook(function(){n.eventEmitter.off(e,r)})}}},{key:"subscribe",value:function(e,n){return this.registerEvent(e+""),(0,F._)((0,N._)(t.prototype),"subscribe",this).call(this,e,function(e){return n.apply(void 0,(0,d._)(e))})}},{key:"subscribeOnce",value:function(e,n){return this.registerEvent(e+""),(0,F._)((0,N._)(t.prototype),"subscribeOnce",this).call(this,e,function(e){return n.apply(void 0,(0,d._)(e))})}}]),t}(pt);const mt=function(){throw new Error("Unsupported operation!")};var yt=n(7990),_t=n.n(yt),bt=n(8366),wt=n.n(bt),kt=n(4231),xt=n.n(kt),Pt=n(1434),Ct=n.n(Pt),Dt=n(7983),Et=n.n(Dt),St=n(1128),It=n.n(St),Tt=n(579),Mt=n.n(Tt),Rt=n(7074),Ft=n.n(Rt),Nt=n(890),Lt=n.n(Nt),Ot=n(8990),jt=n.n(Ot),Bt=n(5522),Vt=n.n(Bt),Ht=n(3765),Ut=n.n(Ht),zt=n(5576),Wt=n.n(zt),Yt=n(859),Gt=n.n(Yt),$t=n(4883),Jt=n.n($t);_t().locale(It()),_t().locale(Mt()),_t().locale(Ft()),_t().locale(Lt()),_t().locale(jt()),_t().locale(jt()),_t().locale(Vt()),_t().locale(Ut()),_t().locale(Wt()),_t().locale(Gt()),_t().locale(jt()),_t().locale(Jt()),_t().extend(wt()),_t().extend(xt()),_t().extend(Ct()),_t().extend(Et());const qt=_t();var Kt=function(){function e(t){(0,c._)(this,e),this.originfn=t,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}return(0,u._)(e,[{key:"before",value:function(e){return"function"==typeof e&&this.beforeHooks.push(e),this}},{key:"after",value:function(e){return"function"==typeof e&&this.afterHooks.push(e),this}},{key:"thrown",value:function(e){return"function"==typeof e&&this.thrownHooks.push(e),this}},{key:"around",value:function(e){return"function"==typeof e&&this.aroundHooks.push(e),this}},{key:"proxy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.after,i=e.thrown,r=e.around;return this.before(t),this.after(n),this.thrown(i),this.around(r),this}},{key:"extract",value:function(){var e=this,t=e.beforeHooks,n=e.afterHooks,i=e.thrownHooks,r=e.aroundHooks,o=e.originfn;function a(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.forEach(function(t){return t.call(e,a)});try{var A=o.apply(this,a);return(0,l._)(A,Promise)?(A.then(function(t){n.forEach(function(n){return n.call(e,t,a)})}),A.catch(function(t){i.forEach(function(n){return n.call(e,t,a)})})):n.forEach(function(t){return t.call(e,A,a)}),A}catch(t){i.length,i.forEach(function(n){return n.call(e,t,a)})}}return a.origin=o,r.reduceRight(function(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t(this,e,i)}},a)}}],[{key:"on",value:function(t){if("function"==typeof t)return new e(t);if((0,l._)(t,e))return new e(t.extract());throw new TypeError("Unexpected type: ".concat(void 0===t?"undefined":(0,P._)(t)))}}]),e}(),Zt=n(449),Xt=Math.pow(2,24),Qt=function(){function e(t,n,i,r){(0,c._)(this,e),(0,f._)(this,"r",void 0),(0,f._)(this,"g",void 0),(0,f._)(this,"b",void 0),(0,f._)(this,"a",void 0),this.r=t,this.g=n,this.b=i,this.a=r}return(0,u._)(e,[{key:"toCSS_Hex",value:function(){return"#".concat(en(this.r)).concat(en(this.g)).concat(en(this.b))}},{key:"toCSS_RGB",value:function(){return"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}},{key:"toRGB",value:function(){return this.r<<16|this.g<<8|this.b}},{key:"toARGB",value:function(){return this.a*Xt+this.toRGB()}},{key:"toBGR",value:function(){return this.b<<16|this.g<<8|this.r}},{key:"toABGR",value:function(){return this.a*Xt+this.toBGR()}},{key:"toCSS_RGBA",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a/255,")")}},{key:"toHSL",value:function(){var e=this.r/255,t=this.g/255,n=this.b/255,i=Math.min(e,t,n),r=Math.max(e,t,n),o=r-i,a=0,s=0;return(a=0===o?0:r===e?(t-n)/o%6:r===t?(n-e)/o+2:(e-t)/o+4)<0&&(a+=360),s=(r+i)/2,{h:a,s:+(100*(0===o?0:o/(1-Math.abs(2*s-1)))).toFixed(1),l:s=+(100*s).toFixed(1)}}},{key:"toCSS_HSL",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsl(".concat(t,",").concat(n,"%,").concat(i,"%)")}},{key:"toCSS_HSLA",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsla(".concat(t,",").concat(n,"%,").concat(i,"%, ").concat(this.a/255,")")}},{key:"toCMYK",value:function(){return e.convertRGB2CMYK(this.r,this.g,this.b)}},{key:"toHSV",value:function(){return e.convertRGB2HSV(this.r,this.g,this.b)}},{key:"clone",value:function(){return new(0,this.constructor)(this.r,this.g,this.b,this.a)}},{key:"isSameAs",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"fromHSLA",value:function(t,n,i,r){var o=(0,Zt._)(e.convertHSL2rgb(t,n,i),3);return new e(o[0],o[1],o[2],r)}},{key:"fromRGBA",value:function(t,n){var i=(0,Zt._)(e.separateRGBNumber(t),3);return new e(i[0],i[1],i[2],n)}},{key:"fromARGB",value:function(t){var n=255&t>>24,i=16777215&t;return e.fromRGBA(i,n)}},{key:"fromRGB",value:function(t){return e.fromRGBA(t,255)}},{key:"fromBGR",value:function(t){var n=(255&t)<<16|(t>>8&255)<<8|t>>16&255;return e.fromRGB(n)}},{key:"convertHSL2rgb",value:function(e,t,n){e=Math.min(359,Math.max(0,e)),t=Math.min(100,Math.max(0,t)),n=Math.min(100,Math.max(0,n)),n/=100;var i,r,o,a,s=(t/=100)*(1-Math.abs(2*n-1)),A=s*(1-Math.abs(e/60%2-1)),c=n-s/2;if(e>=0&&e<60)i=(a=[s,A,0])[0],r=a[1],o=a[2];else if(e>=60&&e<120){var u;i=(u=[A,s,0])[0],r=u[1],o=u[2]}else if(e>=120&&e<180){var l;i=(l=[0,s,A])[0],r=l[1],o=l[2]}else if(e>=180&&e<240){var d;i=(d=[0,A,s])[0],r=d[1],o=d[2]}else if(e>=240&&e<300){var h;i=(h=[A,0,s])[0],r=h[1],o=h[2]}else{var f;i=(f=[s,0,A])[0],r=f[1],o=f[2]}return[i,r,o].map(function(e){return Math.round(255*(e+c))})}},{key:"convertRGB2CMYK",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=1-Math.max(i,r,o);return{c:(1-i-a)/(1-a),m:(1-r-a)/(1-a),y:(1-o-a)/(1-a),k:a}}},{key:"convertRGB2HSV",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=Math.max(i,r,o),s=a-Math.min(i,r,o);return{h:0===s?0:a===i?(r-o)/s*60%6:a===r?60*((o-i)/s+2):60*((i-r)/s+4),s:0===a?0:s/a,v:a}}},{key:"separateRGBNumber",value:function(e){return[e>>16&255,e>>8&255,255&e]}}]),e}();function en(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function tn(e){if("number"!=typeof e)throw new TypeError("Unexpected color value:"+e);if(e<0)return-1;var t=e.toString(16),n=6;for(e>16777215&&(n=8);t.length<n;)t="0"+t;return"#"+t}var nn=Math.pow(2,24);function rn(e){var t;return e<16777216?t=255:(t=e/nn&255,e&=16777215),{r:e>>16&255,g:e>>8&255,b:255&e,a:t}}function on(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s="";if(e>4294967295)throw new Error("Incorrect color");switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":t=(16711680&e[1])>>16,n=(65280&e[1])>>8,i=255&e[1];break;case"T":t=0,n=0,i=0,a=0;break;case"G":t=n=i=255*e[1];break;case"RGB":t=255*e[1],n=255*e[2],i=255*e[3];break;case"CMYK":t=(1-e[4])*(1-e[1])*255,n=(1-e[4])*(1-e[2])*255,i=(1-e[4])*(1-e[3])*255;break;case"r":t=+(r=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],n=+r[2],i=+r[3];var A=r[4];void 0!==A&&(a=+A);break;case"#":var c=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;r=e.match(c),t=parseInt(r[1],16),n=parseInt(r[2],16),i=parseInt(r[3],16);break;default:throw new Error("Unsupported color format")}switch(o){case"HTML":s=t===n&&n===i&&-1===i?"transparent":"rgba("+parseInt(t)+","+parseInt(n)+","+parseInt(i)+","+a+")";break;case"RGB":s=["RGB",t/255,n/255,i/255];break;case"#":s+=t<16?"#0"+t.toString(16):"#"+t.toString(16),s+=n<16?"0"+n.toString(16):n.toString(16),s+=i<16?"0"+i.toString(16):i.toString(16);break;case"int":s=0,s|=(a*=255)<<24,s|=t<<16,s|=n<<8,s|=i,s>>>=0;break;case"CMYK":var u=255-t,l=255-n,d=255-i;return["CMYK",u/255,l/255,d/255,Math.min(u,l,d)/255];case"GRAY":return["GRAY",(.3*t+.59*n+.11*i)/255]}return s}var an=4278190080;function sn(e){switch(void 0===e?"undefined":(0,P._)(e)){case"number":if(e<=16777215)return an+e;if(e>16777215)return e;break;case"string":if((e=e.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(e,16);if(e.match(/^[0-9A-F]{6}$/i))return an+parseInt(e,16);if(e.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var t=(0,Zt._)(e.split(/\D+/).map(function(e){return parseInt(e)}),4),n=t[1],i=t[2],r=t[3];return an+(n<<16)+(i<<8)+r}if(e.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var o=(0,Zt._)(e.split(/\D+/).map(function(e){return parseInt(e)}),5),a=o[1],s=o[2],A=o[3],c=o[4];return Math.floor(c*an)+(a<<16)+(s<<8)+A}}throw new Error('incorrect color format: "'.concat(e,'"'))}function An(e){return["RGB",((16711680&e)>>16)/255,((65280&e)>>8)/255,(255&e)/255]}function cn(e){return 0===e?"transparent":on(16777215&e,"#")}var un=function(e){return e.Point="pt",e.Inch="inch",e.Centimeter="cm",e.Milimeter="mm",e.Picas="pica",e}({});function ln(e,t){switch(t){case"cm":return 2.54*e/72;case"mm":return 25.4*e/72;case"inch":return e/72;case"pt":return e;case"pica":return e/12}}function dn(e,t){switch(t){case"cm":return 72*e/2.54;case"mm":return 72*e/25.4;case"inch":return 72*e;case"pt":return e;case"pica":return 12*e}}var hn=function(){function e(t,n){(0,c._)(this,e),(0,f._)(this,"value",void 0),(0,f._)(this,"unit",void 0),this.value=t,this.unit=n}return(0,u._)(e,[{key:"format",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(isNaN(this.value))return"";var t=Math.pow(10,e);if(this.unit===un.Picas){var n=Math.floor(this.value),i=Math.round(12*(this.value-n)*t)/t;return"".concat(n,"p").concat(i)}return Math.round(this.value*t)/t+""}},{key:"convert",value:function(t){return isNaN(this.value)?e.NaN(t):this.unit===t?this:new e(ln(dn(this.value,this.unit),t),t)}},{key:"add",value:function(t){return isNaN(this.value)||isNaN(t.value)?e.NaN(this.unit):new e(ln(dn(this.value,this.unit)+dn(t.value,t.unit),this.unit),this.unit)}},{key:"minus",value:function(t){return isNaN(this.value)||isNaN(t.value)?e.NaN(this.unit):new e(ln(dn(this.value,this.unit)-dn(t.value,t.unit),this.unit),this.unit)}},{key:"valueOfUnit",value:function(e){return e===this.unit?this.value:this.convert(e).value}}],[{key:"zero",value:function(){return new e(0,un.Point)}},{key:"one",value:function(t){return new e(1,t)}},{key:"NaN",value:function(){return new e(NaN,arguments.length>0&&void 0!==arguments[0]?arguments[0]:un.Point)}},{key:"parse",value:function(t,n){if(t.indexOf("p")>-1){if(n!==un.Picas)throw new Error("Incorrect number format: ".concat(t));var i=(0,Zt._)(t.split("p"),2),r=i[0],o=i[1];return new e(ln(12*(parseFloat(r)||0)+(parseFloat(o)||0),un.Picas),n)}var a=parseFloat(t);if(!isFinite(a))throw new Error("Incorrect number format: ".concat(t));return new e(a,n)}}]),e}(),fn=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"dayjs",void 0),this.dayjs=_t()(t)}return(0,u._)(e,[{key:"format",value:function(e){return e=pn(e),this.dayjs.format(e)}},{key:"getDate",value:function(){return this.dayjs.toDate()}}],[{key:"now",value:function(){return new e(new Date)}},{key:"parse",value:function(t,n){return n=pn(n),new e(_t()(t,n))}},{key:"from",value:function(t){return new e(t)}}]),e}();function pn(e){return e=(e=(e=e.replace(/yyyy/g,"YYYY")).replace(/yy/g,"YY")).replace(/mmmm|mmm|mm|m|MM|M/g,function(e){return e.toLowerCase()===e?e.toUpperCase():e.toLowerCase()}),e=e.replace(/dddd|ddd|dd|d/g,function(e){switch(e){case"dddd":case"ddd":return e}return e.toUpperCase()}),e=e.replace(/tt/g,"a")}var gn=n(5578),vn=n(2956),mn=n(9149),yn=n(7582),_n="message-channel-message-name-lnQiP2FiI",bn=function(e){function t(e){var n;(0,c._)(this,t),n=(0,k._)(this,t),(0,f._)(n,"eventTarget",void 0),(0,f._)(n,"channelListeners",void 0),n.eventTarget=e,n.channelListeners=new Map;var i=function(e){var t=e.data;if(t&&t.name===_n){var i=n.channelListeners.get(t.channelId);i&&i(t)}};return n.eventTarget.addEventListener("message",i),n.addDestroyHook(function(){t.instances.delete(e),n.eventTarget.removeEventListener("message",i)}),n}return(0,x._)(t,e),(0,u._)(t,[{key:"on",value:function(e,t){var n=this;return this.channelListeners.set(e,t),function(){n.channelListeners.delete(e)}}}],[{key:"getInstance",value:function(e){return this.instances.has(e)?this.instances.get(e):new t(e)}}]),t}(Ze);function wn(e){if("object"!==(void 0===e?"undefined":(0,P._)(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(0,f._)(bn,"instances",new WeakMap);var kn={0:"Success, and no error occurs.",1:"File cannot be found or could not be opened.",2:"Format is invalid. For files, this may also mean that file is corrupted.",3:"Invalid password. Usually, this error may occur when loading a PDF document with password. When meet this, user should load document again with correct password.",4:"Error handle.",5:"Certificate error: PDF document is encrypted by digital certificate but current user does not have the correct certificate.",6:"Any unknown error occurs.",7:"Invalid license is used to initialize Foxit PDF SDK library.",8:"Parameter error: value of any input parameter for a function is invalid.",9:"Some types are not supported.",10:"Out-of-memory error occurs.",11:"PDF document is encrypted by some unsupported security handler.",12:"Content has not been parsed yet. Usually, this represents PDF page has not been parsed yet.",13:"Expected data or object is not found.",14:"The type of input object or current object is invalid.",15:"New data conflicts with existed data.",16:"Any unknown state occurs.",17:"Data is not ready. Usually this is used as an exception error code when loading document in asynchronous way.",18:"Data of current object is invalid.",19:"XFA loading error.",20:"Current object has not been loaded yet.",21:"Invalid or incorrect state.",22:"(For ConnectedPDF only) The loaded document is not a ConnectedPDF DRM document.",23:"(For ConnectedPDF only) Cannot connect to ConnectedPDF server.",24:"(For ConnectedPDF only) Input user token is invalid.",25:"(For ConnectedPDF only) Current user has no right to open the ConnectedPDF DRM document.",26:"(For ConnectedPDF only) The rights of Current user has expired.",27:"(For ConnectedPDF only) Current device is limited to open the ConnectedPDF DRM document.",28:"(For ConnectedPDF only) Cannot remove the security from ConnectedPDF server.",29:"(For ConnectedPDF only) Cannot get the ACL from ConnectedPDF server.",30:"(For ConnectedPDF only) Cannot set the ACL to ConnectedPDF server.",31:"(For ConnectedPDF only) Loaded document is already a ConnectedPDF document.",32:"(For ConnectedPDF only) Loaded document is already a ConnectedPDF DRM document.",33:"(For ConnectedPDF only) Cannot upload ConnectedPDF document info to ConnectedPDF server.",34:"(For ConnectedPDF only) Cannot upload ConnectedPDF DRM document info to ConnectedPDF server.",35:"(For ConnectedPDF only) The input ConnectedPDF DRM wrapper document is invalid.",36:"(For ConnectedPDF only) Cannot get client ID from ConnectedPDF server.",37:"(For ConnectedPDF only) Cannot get user token from ConnectedPDF server.",38:"(For ConnectedPDF only) Input ACL is invalid.",39:"(For ConnectedPDF only) Input client ID is invalid.",40:"(For OCR only) OCR engine has not been initialized successfully.",41:"(For OCR only) Not enough disk space.",42:"(For OCR only) The trial for OCR module is end.",43:"File or folder path does not exist.",44:"(For compliance only) Compliance engine has not been initialized successfully.",45:"(For compliance only) Invalid unlock code is used to initialize compliance engine.",46:"(For compliance only) Fail to initialize compliance engine.",47:"Time stamp server manager has not been initialized successfully.",48:"(For LTV only) LTV verify mode has not been set.",49:"(For LTV only) Revocation callback for LTV has not been set.",50:"(For LTV only) Fail to switch PDF verion.",51:"(For LTV only) Fail to check DTS.",52:"(For LTV only) Fail to load DSS.",53:"(For LTV only) Fail to load DTS.",54:"(For signature only) The signature being operated needs to be signed.",55:"(For compliance only) Compliance resource file(s) cannot be found or opened. Please check if compliance resource folder and files in this folder are valid.",56:"No default server has been set to time stamp server manager yet.",57:"Cannot use current default time stamp server. Please check if default time stamp server can be used.",58:'No "ConnectedPDF" module right.',59:'No "XFA" module right.',60:'No "Redaction" module right.',61:'No "RMS" module right.',62:'No "OCR" module right.',63:'No "Comparison" module right.',64:'No "Compliance" module right.',65:'No "Optimizer" module right.',66:'No "Conversion" module right.',67:"(For Office-to-PDF conversion only) Office COM has not been initialized successfully.",68:"(For Office-to-PDF conversion only) No Microsoft Office is installed in current system.",69:"(For Excel-to-PDF conversion only) Excel document does not have any content so it cannot be converted to PDF file.",70:'No "LayoutRecognition" module right.',71:"(For ConnectedPDF only) There is some error in response data.",72:"(For PDF Optimizer PDF) There are some objects not image type.",73:'No "AdvEdit" module right.',74:'No "3D" module right.'},xn="undefined"!=typeof WorkerGlobalScope&&(0,l._)(self,WorkerGlobalScope),Pn=Ne.getLogger("MessageChannel"),Cn="function_bcd5156b98f2d";function Dn(e){return!!e&&e.tag==Cn&&"string"==typeof e.id}var En=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c._)(this,t),i=(0,k._)(this,t),(0,f._)(i,"eventTarget",void 0),(0,f._)(i,"channelId",void 0),(0,f._)(i,"receiver",void 0),(0,f._)(i,"returnCallbacks",void 0),(0,f._)(i,"callbackReturnCallbacks",void 0),(0,f._)(i,"invocationCallbacks",void 0),i.eventTarget=e,i.channelId=n,i.receiver=r,i.returnCallbacks=new Map,i.callbackReturnCallbacks=new Map,i.invocationCallbacks=new Map;var o=bn.getInstance(e);return i.addDestroyHook(o.on(i.channelId,function(e){"return"===e.type?i.handleReturnMessage(e):"invoke"===e.type?i.handleInvokeMessage(e):"callback"===e.type?i.handleCallback(e):"callback-return"===e.type?i.handleCallbackReturn(e):"revoke-callback"===e.type&&i.revokeCallback(e)})),i}return(0,x._)(t,e),(0,u._)(t,[{key:"revokeCallback",value:function(e){var t=this.invocationCallbacks.get(e.invocationId);t&&(t.get(e.callbackId)&&t.delete(e.callbackId),0===t.size&&this.invocationCallbacks.delete(e.invocationId))}},{key:"handleCallback",value:function(e){return(0,gn._)(function(){var t,n,i,r,o;return(0,yn.Jh)(this,function(a){switch(a.label){case 0:if(t=this.invocationCallbacks.get(e.invocationId),!(n=null==t?void 0:t.get(e.callbackId)))return[2];a.label=1;case 1:return a.trys.push([1,5,,6]),ue(i=n.apply(void 0,(0,d._)(e.args||[])))?[4,i]:[3,3];case 2:return r=a.sent(),[3,4];case 3:r=i,a.label=4;case 4:return this.eventTarget.postMessage({name:_n,type:"callback-return",invocationId:e.invocationId,callbackId:e.callbackId,channelId:this.channelId,status:"resolve",value:r}),[3,6];case 5:return o=a.sent(),this.eventTarget.postMessage({name:_n,type:"callback-return",invocationId:e.invocationId,callbackId:e.callbackId,channelId:this.channelId,status:"reject",reason:null==o?void 0:o.toString()}),[3,6];case 6:return[2]}})}).call(this)}},{key:"handleCallbackReturn",value:function(e){var t=this.callbackReturnCallbacks.get(e.invocationId+e.callbackId);t&&t(e)}},{key:"handleInvokeMessage",value:function(e){var t=this;var n=function(n){var i=new Map,r=t.serializeMessageData([n],i)[0];t.invocationCallbacks.set(e.invocationId,i),t.eventTarget.postMessage({type:"return",name:_n,channelId:t.channelId,invocationId:e.invocationId,data:{status:"resolved",value:r}},t.collectTransferables([n]))},i=function(n){t.eventTarget.postMessage({type:"return",name:_n,channelId:t.channelId,invocationId:e.invocationId,data:{status:"rejected",reason:n}})},r=this.deserializeMessageData(e.invocationId,e.args);try{var o,a=(o=this.receiver)[e.method].apply(o,(0,d._)(r));ue(a)?a.then(n,i):n(a)}catch(n){if(i(n),!xn)throw n;!function(n){if("number"==typeof n){var i=getErrorCode(n);n=kn[i.value],Pn.error("An error occurred while calling a remote method:",{receiver:t.receiver,invokeMessage:e,errorCode:i,reason:n})}else Pn.error("An error occurred while calling a remote method:",{receiver:t.receiver,invokeMessage:e,reason:n})}(n)}}},{key:"handleReturnMessage",value:function(e){var t=this.returnCallbacks.get(e.invocationId);t&&t(e)}},{key:"invoke",value:function(e,t){var n=this,i="message-channel-callback-".concat(this.channelId,"-").concat(e,"-").concat(Date.now(),"-").concat(Math.random()),r=new Map,o=this.serializeMessageData(t,r);this.invocationCallbacks.set(i,r),this.eventTarget.postMessage({type:"invoke",name:_n,channelId:this.channelId,invocationId:i,method:e,args:o},this.collectTransferables(t));var a=new p;return this.returnCallbacks.set(i,function(e){var t=e.data;if("rejected"===t.status)a.reject(t.reason);else{var r=n.deserializeMessageData(i,[t.value])[0];a.resolve(r)}n.returnCallbacks.delete(i)}),a}},{key:"invokeCallback",value:function(e,t,n){var i=this,r=this.collectTransferables(n),o=new p;return this.eventTarget.postMessage({type:"callback",name:_n,channelId:this.channelId,callbackId:t,invocationId:e,args:n},r),this.callbackReturnCallbacks.set(e+t,function(n){"resolve"===n.status?o.resolve(n.value):o.reject(n.reason),i.callbackReturnCallbacks.delete(e+t)}),o.promise}},{key:"remoteImplementation",get:function(){var e=this;return new Proxy({},{has:function(e){return"then"!==e&&"string"==typeof e},get:function(t,n,i){var r=e;if("symbol"!==(void 0===n?"undefined":(0,P._)(n))&&"then"!==n)return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.invoke(n,t)}}})}},{key:"deserializeMessageData",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=function(t){if(Dn(t)){var i=n,r=t.id,o=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.invokeCallback(e,r,n)};return Object.assign(o,{revoke:function(){n.eventTarget.postMessage({type:"revoke-callback",name:_n,channelId:n.channelId,invocationId:e,callbackId:r})}}),o}return t};return t.map(function(t){if(i.has(t))return i.get(t);if(Array.isArray(t)){var o,a=[];i.set(t,a);var s=t.map(function(t){return i.has(t)?i.get(t):(o=Dn(t)?r(t):n.deserializeMessageData(e,[t],i)[0],i.set(t,o),o);var o});return(o=a).push.apply(o,(0,d._)(s)),a}if(wn(t)){if(Dn(t)){var A=r(t);return i.set(t,A),A}var c={};i.set(t,c);var u=Object.getOwnPropertyDescriptors(t);for(var l in u){var h=t[l];if(Dn(h)&&h.isGetter){var f={get:r(h)};Object.defineProperty(c,l,f)}else if(i.has(h))c[l]=i.get(h);else if(te(h)){var p=r(h);i.set(h,p),c[l]=p}else if(h&&"object"===(void 0===h?"undefined":(0,P._)(h))){var g=n.deserializeMessageData(e,[h],i)[0];c[l]=g}else c[l]=h}return c}return t})}},{key:"serializeMessageData",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(te(e)){var i=fe("func");return t.set(i,e),{tag:Cn,id:i,isGetter:n}}return e};return e.map(function(e){if(i.has(e))return e;if(i.add(e),Array.isArray(e))return e.map(function(e){return te(e)?r(e):n.serializeMessageData([e],t,i)[0]});if(wn(e)){var o=Object.getOwnPropertyDescriptors(e),a={};for(var s in o){var A=o[s];if(A.get)if("undefined"!=typeof window)a[s]=e[s];else{var c=(0,mn._)((0,vn._)({},A),{value:r(A.get,!0)});delete c.get,delete c.set,Object.defineProperty(a,s,c)}else te(e[s])?a[s]=r(e[s]):A.writable?a[s]=n.serializeMessageData([e[s]],t,i)[0]:(A.value=n.serializeMessageData([e[s]],t,i)[0],Object.defineProperty(a,s,A))}return a}return r(e)})}},{key:"collectTransferables",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=[];return e.forEach(function(e){if(!n.has(e))if(n.add(e),function(e){return(0,l._)(e,Uint8Array)||(0,l._)(e,Uint16Array)||(0,l._)(e,Uint32Array)||(0,l._)(e,Int8Array)||(0,l._)(e,Int16Array)||(0,l._)(e,Int32Array)||(0,l._)(e,Uint8ClampedArray)}(e))i.push(e.buffer);else if(function(e){return(0,l._)(e,ArrayBuffer)||"undefined"!=typeof OffscreenCanvas&&(0,l._)(e,OffscreenCanvas)||(0,l._)(e,MessagePort)||globalThis.ReadableStream&&(0,l._)(e,globalThis.ReadableStream)||globalThis.WritableStream&&(0,l._)(e,globalThis.WritableStream)||globalThis.TransformStream&&(0,l._)(e,globalThis.TransformStream)||globalThis.VideoFrame&&(0,l._)(e,globalThis.VideoFrame)||globalThis.ImageBitmap&&(0,l._)(e,globalThis.ImageBitmap)}(e))i.push(e);else if(Array.isArray(e)){var r;(r=i).push.apply(r,(0,d._)(t.collectTransferables(e,n)))}else if(wn(e)){var o;(o=i).push.apply(o,(0,d._)(t.collectTransferables(Object.values(e),n)))}}),i}}]),t}(Ze);var Sn="$$u8a",In="$$buffer",Tn="$$blob",Mn="$$file";function Rn(e){return JSON.stringify(e,function(e,t){return(0,l._)(t,Uint8Array)?{type:Sn,data:URL.createObjectURL(new Blob([t]))}:(0,l._)(t,ArrayBuffer)?{type:In,data:URL.createObjectURL(new Blob([t]))}:(0,l._)(t,File)?{type:Mn,data:{url:URL.createObjectURL(t),mime:t.type,name:t.name}}:(0,l._)(t,Blob)?{type:Tn,data:{url:URL.createObjectURL(t),mime:t.type}}:t})}function Fn(e){if("string"==typeof e&&""!==e.trim())return JSON.parse(e,function(e,t){switch(null==t?void 0:t.type){case Sn:var n=t.data,i=Nn(n);return URL.revokeObjectURL(n),new Uint8Array(i);case In:var r=t.data,o=Nn(r);return URL.revokeObjectURL(r),o;case Mn:var a=t.data,s=a.url,A=a.mime,c=a.name,u=Nn(s);return URL.revokeObjectURL(s),new File([u],c,{type:A});case Tn:var l=t.data,d=l.url,h=l.mime,f=Nn(d);return URL.revokeObjectURL(d),new Blob([f],{type:h})}return t})}function Nn(e){var t=new XMLHttpRequest;return t.responseType="arraybuffer",t.open("GET",e,!1),t.send(),t.response}var Ln="value",On=function(){function e(){(0,c._)(this,e),(0,f._)(this,"queue",[]),(0,f._)(this,"store",new pt),(0,f._)(this,"started",!1)}return(0,u._)(e,[{key:"start",value:function(){this.started=!0}},{key:"wait",value:function(){return(0,gn._)(function(){var e;return(0,yn.Jh)(this,function(t){switch(t.label){case 0:if(this.queue.length>0)return e=this.queue.shift(),0===this.queue.length&&this.store.unDispatch(Ln),[2,Rn(e)];t.label=1;case 1:return[4,this.store.takeWhile(Ln)];case 2:return t.sent(),this.queue.length>0?[2,Rn(this.queue.shift())]:(this.store.unDispatch(Ln),[3,1]);case 3:return[2]}})}).call(this)}},{key:"return",value:function(e){this.started=!1,this.queue.push({status:"done",data:e}),this.store.dispatch(Ln,void 0)}},{key:"done",value:function(e){this.started=!1;var t=this.queue.slice(0);return this.queue.length=0,Rn({returnData:e,messages:t})}},{key:"doYield",value:function(e,t){this.queue.push({status:e,data:t}),this.store.dispatch(Ln,void 0)}},{key:"yield",value:function(e){this.doYield("data",e)}},{key:"postWorkerMessage",value:function(e){this.doYield("worker-message",e)}},{key:"isStarted",value:function(){return this.started}},{key:"workerMessageAdaptor",value:function(e){var t=this,n=[];return{addEventListener:function(t,i){return"message"===t&&n.push(i),e.addEventListener(t,i)},postMessage:function(n,i){return t.isStarted()?t.postWorkerMessage(n):e.postMessage(n,i)}}}}]),e}(),jn=function(){return!0},Bn=function(){return!1},Vn=function(e){return e},Hn=function(e,t){return t[e]},Un=function(e){return function t(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(void 0,(0,d._)(i)):function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,(0,d._)(i).concat((0,d._)(n)))}}};function zn(){if("undefined"!=typeof window){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return Hn("random",Math)()}var Wn=function(){function e(t,n){(0,c._)(this,e),(0,f._)(this,"syncBaseUrl",void 0),(0,f._)(this,"clientId",void 0),this.syncBaseUrl=t,this.clientId=n}return(0,u._)(e,[{key:"send",value:function(e,t){var n=new XMLHttpRequest;return n.open("PUT",this.syncBaseUrl,!1),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("cache-control","no-cache"),n.send(JSON.stringify({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*zn()|0;return("x"==e?t:3&t|8).toString(16)}),clientId:this.clientId,type:"SyncGeneratorInvoker",action:e,data:t})),n.responseText}},{key:"start",value:function(){this.send("start")}},{key:"wait",value:function(){return Fn(this.send("wait"))}},{key:"done",value:function(){var e=Fn(this.send("done")),t=(e.returnData,e.messages);if(t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if("worker-message"===s.status){var A=new MessageEvent("message",{data:s.data});globalThis.dispatchEvent(A)}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"invokeSync",value:function(e){var t,n,i,r,o;return(0,yn.Jh)(this,function(a){switch(a.label){case 0:if(this.start(),t=e(),!(0,l._)(t,p))throw new Error("Only asynchronous method calls driven by MessageChannel are supported!!");a.label=1;case 1:return t.isSettled?(this.done(),[2,t.resolveValue]):(n=this.wait(),i=n.status,r=n.data,"done"!==i?[3,2]:[2,r]);case 2:if("error"!==i)return[3,3];throw r;case 3:return"data"!==i?[3,5]:[4,r];case 4:return a.sent(),[3,6];case 5:"worker-message"===i&&(o=new MessageEvent("message",{data:r}),globalThis.dispatchEvent(o)),a.label=6;case 6:return[3,1];case 7:return[2]}})}},{key:"invokeSyncAndReturn",value:function(e){for(var t=this.invokeSync(e);;){var n=t.next(),i=n.done,r=n.value;if(i)return r}}}]),e}();function Yn(e){return"function"==typeof e&&"revoke"in e&&"function"==typeof e.revoke}var Gn=new p;function $n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn,i=new e.WString(t);return qn(i,n),i}function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn,i=new e.String(t);return qn(i,n),i}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn;"delete"in e&&"function"==typeof e.delete&&t.promise.finally(function(){try{if(e.isDeleted())return;e.delete()}catch(e){}})}function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn;"release"in e&&"function"==typeof e.release&&t.promise.finally(function(){try{e.release()}catch(e){}})}Gn.resolve();var Zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"},Xn=ei(Zn),Qn={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":"","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"´","&micro;":"µ","&para;":"¶","&cedil;":"¸","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&iquest;":"¿","&times;":"×","&divide;":"÷","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&fnof;":"ƒ","&circ;":"ˆ","&tilde;":"˜","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&bull;":"•","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&lsaquo;":"‹","&rsaquo;":"›","&oline;":"‾","&euro;":"€","&trade;":"™","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};ei(Qn);function ei(e){return Object.keys(e).reduce(function(t,n){return t[e[n]]=n,t},{})}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!e)return e;for(var n=e.replace(/[^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD]/g,t),i=String.fromCharCode(55296);;){var r=n.indexOf(i);if(-1===r)break;n=n.replace(n.substring(r,r+2),t)}return n}function ni(e){if(!e)return e;var t=e.replace(/&/g,function(e,t,n){return/^#?(\d+)|([a-z]+);/i.test(n.substr(t+1))?e:"&amp;"}).replace(new RegExp(Object.keys(Xn).join("|"),"g"),function(e){return"&"===e?e:Xn[e]});return ti(t.replace(/\&[^;#]+;/g,function(e){return(e=e.toLowerCase())in Zn?e:e in Qn?Qn[e]:e.replace("&","&amp;")})," ")}var ii,ri=function(e){return e.pdf="pdf",e.xfdf="xfdf",e.fdf="fdf",e.xml="xml",e.html="html",e.json="json",e.csv="csv",e.text="text",e.xdp="xdp",e}({}),oi=(ii={},(0,f._)(ii,"pdf","pdf"),(0,f._)(ii,"xfdf","xfdf"),(0,f._)(ii,"fdf","fdf"),(0,f._)(ii,"xml","xml"),(0,f._)(ii,"html","html"),(0,f._)(ii,"json","json"),(0,f._)(ii,"csv","csv"),(0,f._)(ii,"text","txt"),(0,f._)(ii,"xdp","xdp"),ii);function ai(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}function si(e){return"annot"===e.type&&"annot"in e}function Ai(e){return"annot"===e.type&&"annotId"in e}function ci(e){return"field"===e.type&&"fieldName"in e}function ui(e){return"field"===e.type&&"field"in e}function li(e){return"field"===e.type&&"widgetId"in e}function di(e){switch(e.type){case"annot":if("annot"in e){var t=e.annot;return{type:"annot",annotId:{pageIndex:t.GetPage().GetIndex(),objNumber:t.GetDict().GetObjNum()}}}case"field":if("field"in e)return{type:"field",fieldName:e.field.GetName().toString()}}return e}var hi=function(e){function t(e){var n;return(0,c._)(this,t),n=(0,k._)(this,t),(0,f._)(n,"count",void 0),(0,f._)(n,"defer",void 0),n.count=e,n.defer=new p,n}return(0,x._)(t,e),(0,u._)(t,[{key:"countDown",value:function(){this.isDestroyed||this.isDone()||(this.count--,this.isDone()&&this.defer.resolve())}},{key:"isDone",value:function(){return this.count<=0}},{key:"await",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!isFinite(t))return this.defer.promise;var i=n?null:new Error("Operation timed out after exceeding the specified wait time of ".concat(t," milliseconds!"));return new Promise(function(r,o){var a=setTimeout(function(){n?r():o(i)},t);e.defer.promise.then(function(){clearTimeout(a),r()})})}},{key:"getCount",value:function(){return this.count}}]),t}(Ze),fi="spell-checker-api-channel-id",pi="custom-spell-checker-remote-api",gi=Symbol("initialized"),vi=gi,mi=function(){function e(){(0,c._)(this,e),(0,f._)(this,"stack",[]),(0,f._)(this,"position",0),(0,f._)(this,vi,!1)}return(0,u._)(e,[{key:"initialized",get:function(){return this[gi]}},{key:"initialize",value:function(e){if(this.initialized)throw new Error("Cannot initialize twice");this[gi]=!0,this.stack.push(e),this.position=0}},{key:"save",value:function(e){if(!this.initialized)throw new Error("Cannot save before initialization");this.stack.push(e),this.position=this.stack.length-1}},{key:"current",value:function(){return this.stack[this.position]}},{key:"undo",value:function(){this.canUndo()&&this.position--}},{key:"redo",value:function(){this.canRedo()&&this.position++}},{key:"canUndo",value:function(){return this.position>0}},{key:"canRedo",value:function(){return this.position<this.stack.length}},{key:"reset",value:function(){this.stack.length=0,this[gi]=!1,this.position=0}}]),e}();function yi(e){return e?e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"):""}var _i=function(e){return e[e.Pointer=0]="Pointer",e[e.Select=1]="Select",e[e.Cross=2]="Cross",e[e.HBeam=3]="HBeam",e[e.SizeAll=4]="SizeAll",e[e.SizeNESW=5]="SizeNESW",e[e.SizeNS=6]="SizeNS",e[e.SizeNWSE=7]="SizeNWSE",e[e.SizeWE=8]="SizeWE",e[e.SelectCopy=9]="SelectCopy",e[e.SelectDrag=10]="SelectDrag",e[e.SelectNoDrag=11]="SelectNoDrag",e[e.SelectCaption=12]="SelectCaption",e[e.VBeam=13]="VBeam",e[e.Hand=14]="Hand",e}({}),bi=new Map([[0,"pointer"],[1,"text"],[2,"crosshair"],[3,"text"],[13,"text"],[14,"grab"],[4,"move"],[5,"nesw-resize"],[6,"ns-resize"],[7,"nwse-resize"],[8,"col-resize"],[9,"copy"],[10,"move"],[11,"move"]]),wi=function(){if("undefined"==typeof window)return!1;var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&(0,l._)(document,DocumentTouch))||function(e){return!!window.matchMedia&&window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}(),ki=navigator.userAgent.toLowerCase(),xi="desktop"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Pi="mobile"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Ci="tablet"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Di=xi||Pi||Ci,Ei=/macintosh|mac os x/.test(ki),Si=/ipad|iphone|ipod/.test(ki),Ii=/iphone/.test(ki),Ti=/ipad/.test(ki),Mi=/ipod/.test(ki),Ri=/android/.test(ki),Fi=/blackberry/.test(ki),Ni=/webos/.test(ki),Li=/silk|kindle/.test(ki),Oi=/aliapp/.test(ki),ji=/teamsmobile-android/.test(ki),Bi=Di?Ci:!Oi&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(ki),Vi=Di?Pi:(!Bi||ji)&&(/mobile/.test(ki)||Si||Ri||Fi||Ni||Li),Hi=Di?xi:!(Vi||Bi||Ri||Ii||Ti||Mi||Li||Ni),Ui=/(MI(.*|\s*)PAD).*/i.test(ki),zi=!Ui&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(ki),Wi=/HUAWEI/i.test(navigator.userAgent),Yi=/Linux/i.test(ki),Gi=!Yi&&/Windows(\s+NT)?/i.test(ki),$i=/MacIntosh|(mac os)/i.test(ki),Ji=/(cros\s|chromebook)/i.test(ki),qi={mac:Ei,ios:Si,iphone:Ii,ipad:Ti,ipod:Mi,android:Ri,blackberry:Fi,webos:Ni,kindle:Li,tablet:Bi,mobile:Vi,desktop:Hi,xiaomi:zi,huawei:Wi,touch:wi,linux:Yi,windows:Gi,macos:$i,chromebook:Ji},Ki=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/octet-stream";(0,c._)(this,e),(0,f._)(this,"blob",void 0),this.blob="string"==typeof t?new Blob([],{type:t}):t}return(0,u._)(e,[{key:"set",value:function(e,t){if(e<0)throw new Error("offset must be greater than 0");if(e===this.blob.size){var n=new Blob([this.blob,t],{type:this.blob.type});this.blob=n}else if(e>this.blob.size){var i=new Blob([this.blob,new ArrayBuffer(e-this.blob.size),t],{type:this.blob.type});this.blob=i}else{var r=(0,l._)(t,Blob)?t.size:t.byteLength,o=new Blob([this.blob.slice(0,e),t,this.blob.slice(e+r)],{type:this.blob.type});this.blob=o}}},{key:"sub",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.blob.size;return new e(this.blob.slice(t,t+n))}},{key:"extract",value:function(){return this.blob}},{key:"size",get:function(){return this.blob.size}}]),e}(),Zi=1,Xi=2,Qi=3,er=0,tr=function(e){return e[e.LEFT=KeyboardEvent.DOM_KEY_LOCATION_LEFT]="LEFT",e[e.RIGHT=KeyboardEvent.DOM_KEY_LOCATION_RIGHT]="RIGHT",e[e.STANDARD=KeyboardEvent.DOM_KEY_LOCATION_STANDARD]="STANDARD",e[e.NUMPAD=KeyboardEvent.DOM_KEY_LOCATION_NUMPAD]="NUMPAD",e}({}),nr=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"isMatch",void 0),this.isMatch=t}return(0,u._)(e,[{key:"match",value:function(){return this.isMatch}}]),e}(),ir=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,u._)(e,[{key:"match",value:function(e){return this.keys.some(function(t){return"string"==typeof t?Tr(e,t):"boolean"==typeof t?t:t.match(e)})}}]),e}(),rr=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"callback",void 0),this.callback=t}return(0,u._)(e,[{key:"match",value:function(e){return this.callback(e)}}]),e}(),or=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,u._)(e,[{key:"match",value:function(e){return this.keys.every(function(t){return"string"==typeof t?Tr(e,t):"boolean"==typeof t?t:t.match(e)})}}]),e}(),ar=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"key",void 0),this.key=t}return(0,u._)(e,[{key:"match",value:function(e){return Tr(e,this.key)}}]),e}();KeyboardEvent.prototype.getModifierState||(KeyboardEvent.prototype.getModifierState=function(e){switch(e){case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Alt":return this.altKey;case"Meta":return this.metaKey}return!1});var sr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c._)(this,e),(0,f._)(this,"event",void 0),(0,f._)(this,"detectors",void 0),(0,f._)(this,"interrupted",void 0),this.event=t,this.detectors=n,this.interrupted=!1}return(0,u._)(e,[{key:"switchers",value:function(e){return this.ctrl(e).shift(e).meta(e).alt(e)}},{key:"ctrl",value:function(e){var t=this;return Br(e)?this.detectors.control=function(){return t.event.getModifierState("Control")===e}:delete this.detectors.control,this}},{key:"filter",value:function(e){var t=this;return"function"==typeof e&&(this.detectors[fe("filter")]=function(){return e.call(t,t.event)}),this}},{key:"shift",value:function(e){var t=this;return Br(e)?this.detectors.shift=function(){return t.event.getModifierState("Shift")===e}:delete this.detectors.shift,this}},{key:"capsLock",value:function(e){var t=this;return Br(e)?this.detectors.capsLock=function(){return t.event.getModifierState("CapsLock")===e}:delete this.detectors.capsLock,this}},{key:"meta",value:function(e){var t=this;return Br(e)?this.detectors.meta=function(){return t.event.metaKey===e}:delete this.detectors.meta,this}},{key:"alt",value:function(e){var t=this;return Br(e)?this.detectors.alt=function(){return t.event.getModifierState("Alt")===e}:delete this.detectors.alt,this}},{key:"mod",value:function(e){return Ei?this.meta(e):this.ctrl(e)}},{key:"location",value:function(e){var t=this;return this.detectors.location=function(){return Fr(t.event)===e},this}},{key:"standard",value:function(){return this.location(tr.STANDARD)}},{key:"numpad",value:function(){return this.location(tr.NUMPAD)}},{key:"left",value:function(){return this.location(tr.LEFT)}},{key:"right",value:function(){return this.location(tr.RIGHT)}},{key:"run",value:function(e){this.passed()&&(!1===e(this.event)&&(this.interrupted=!0));return this.clone()}},{key:"key",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=new ir(n.map(function(e){switch(void 0===e?"undefined":(0,P._)(e)){case"string":return dr.key(e);case"boolean":return new nr(e)}return e}));return this.detectors.keys=function(){return r.match(e.event)},this}},{key:"when",value:function(e,t){var n;return Array.isArray(e)?(n=this.clone()).key.apply(n,(0,d._)(e)).run(t):this.clone().key(e).run(t)}},{key:"clone",value:function(){return this.interrupted?new Ar(this.event,{}):new e(this.event,Object.assign({},this.detectors))}},{key:"passed",value:function(){return!this.interrupted&&!Object.values(this.detectors).some(function(e){return!e()})}}]),e}(),Ar=function(e){function t(){return(0,c._)(this,t),(0,k._)(this,t,arguments)}return(0,x._)(t,e),(0,u._)(t,[{key:"switchers",value:function(){return this}},{key:"ctrl",value:function(){return this}},{key:"shift",value:function(){return this}},{key:"capsLock",value:function(){return this}},{key:"meta",value:function(){return this}},{key:"alt",value:function(){return this}},{key:"location",value:function(){return this}},{key:"standard",value:function(){return this}},{key:"numpad",value:function(){return this}},{key:"left",value:function(){return this}},{key:"right",value:function(){return this}},{key:"run",value:function(){return this}},{key:"key",value:function(){return this}},{key:"when",value:function(){return this}}]),t}(sr);function cr(e){return new sr(e)}function ur(e,t){var n=new sr(e),i=!1;return n.when(t,function(){i=!0}),i}var lr=function(e){return new ar(e)},dr={or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ir(t)},key:lr,and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new or(t)},Space:new rr(Ir),Home:new rr(Er),End:new rr(Sr),Enter:new rr(Pr),StandardEnter:new rr(Cr),NumpadEnter:new rr(Dr),Tab:lr("Tab"),CapsLock:lr("CapsLock"),PageUp:lr("PageUp"),PageDown:lr("PageDown"),ArrowUp:lr("ArrowUp"),ArrowDown:lr("ArrowDown"),ArrowLeft:lr("ArrowLeft"),ArrowRight:lr("ArrowRight"),BackSpace:lr("Backspace"),Delete:lr("Delete"),Escape:lr("Escape"),F1:lr("F1"),F2:lr("F2"),F3:lr("F3"),F4:lr("F4"),F5:lr("F5"),F6:lr("F6"),F7:lr("F7"),F8:lr("F8"),F9:lr("F9"),F10:lr("F10"),F11:lr("F11"),F12:lr("F12")};function hr(e){return fr(e)||pr(e)}function fr(e){return Rr(e,"Control",Zi)}function pr(e){return Rr(e,"Control",Xi)}function gr(e){return vr(e)||mr(e)}function vr(e){return Rr(e,"Shift",Zi)}function mr(e){return Rr(e,"Shift",Xi)}function yr(e){return _r(e)||br(e)}function _r(e){return Rr(e,"Alt",Zi)}function br(e){return Rr(e,"Alt",Xi)}function wr(e){return kr(e)||xr(e)}function kr(e){return Rr(e,"Meta",Zi)}function xr(e){return Rr(e,"Meta",Xi)}function Pr(e){return Cr(e)||Dr(e)}function Cr(e){return Rr(e,"Enter",er)}function Dr(e){return Rr(e,"Enter",Qi)}function Er(e){return Rr(e,"Home",er)}function Sr(e){return Rr(e,"End",er)}function Ir(e){return Tr(e," ")}function Tr(e,t){return Mr(e)===t}function Mr(e){return Nr(e)?e.key:jr(e.keyCode,e.shiftKey)}function Rr(e,t,n){if(void 0!==n&&Fr(e)!==n)return!1;var i=e.key;return Nr(e)||(i=jr(e.keyCode,e.shiftKey)),i===t}function Fr(e){return void 0===e.location?e.keyLocation:e.location}function Nr(e){return void 0!==e.key}var Lr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",189:"_",187:"+",219:"{",220:"|",221:"}",186:":",222:'"',188:"<",190:">",191:"?",192:"~"},Or={192:"`",191:"/",190:".",189:"-",188:",",220:"\\",222:"'",186:";",221:"]",219:"[",187:"=",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",27:"Escape",9:"Tab",20:"CapsLock",16:"Shift",17:"Control",91:"Meta",18:"Alt",32:" ",33:"PageUp",34:"PageDown",38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",13:"Enter",8:"Backspace",46:"Delete",45:"Insert",35:"End",36:"Home",144:"NumLock",111:"/",106:"*",109:"-",107:"+",110:".",96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};function jr(e,t){if(e>=65&&e<=90){var n=String.fromCharCode(e);return t?n.toUpperCase():n}return e>=48&&e<=57?t?Lr[e]:String.fromCharCode(e):t?Lr[e]:Or[e]}function Br(e){return"boolean"==typeof e}function Vr(e){return"string"==typeof Lr[e.keyCode]&&e.shiftKey}function Hr(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},r=i.ctrlKey,o=i.shiftKey,a=i.altKey,s=i.metaKey,A=document.createEvent("KeyboardEvent");(A.initKeyboardEvent?A.initKeyboardEvent:A.initEvent).call(A,t,!0,!0,window,r,a,o,s,n,n,0),e.dispatchEvent(A)}var Ur=function(e){return e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.ContextMenu=93]="ContextMenu",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.F13=124]="F13",e[e.F14=125]="F14",e[e.F15=126]="F15",e[e.F16=127]="F16",e[e.F17=128]="F17",e[e.F18=129]="F18",e[e.F19=130]="F19",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.US_SEMICOLON=186]="US_SEMICOLON",e[e.US_EQUAL=187]="US_EQUAL",e[e.US_COMMA=188]="US_COMMA",e[e.US_MINUS=189]="US_MINUS",e[e.US_DOT=190]="US_DOT",e[e.US_SLASH=191]="US_SLASH",e[e.US_BACKTICK=192]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=219]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=220]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=221]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=222]="US_QUOTE",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=112]="KEY_IN_COMPOSITION",e[e.ABNT_C1=113]="ABNT_C1",e[e.ABNT_C2=114]="ABNT_C2",e}({}),zr=-1,Wr=function(){function e(){(0,c._)(this,e),(0,f._)(this,"activations",[])}return(0,u._)(e,[{key:"push",value:function(e){var t=this,n={context:e,order:++zr};this.activations.push(n);return function(){var e=t.activations.indexOf(n);e>-1&&t.activations.splice(e,1)}}},{key:"peak",value:function(){var e;return null===(e=this.activations[this.activations.length-1])||void 0===e?void 0:e.context}},{key:"clear",value:function(){this.activations.length=0}},{key:"size",value:function(){return this.activations.length}}]),e}();window.ActvationShortcutContextManager=Wr;var Yr=n(2778),Gr=n.n(Yr),$r=new(function(){function e(){(0,c._)(this,e),(0,f._)(this,"_keyCodeToStr",[]),(0,f._)(this,"_strToKeyCode",{})}return(0,u._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||Ur.Unknown}}]),e}());function Jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach(function(t){$r.define(e,t)})}Jr(Ur.Unknown,"unknown"),Jr(Ur.Backspace,"Backspace"),Jr(Ur.Tab,"Tab"),Jr(Ur.Enter,"Enter"),Jr(Ur.Shift,"Shift"),Jr(Ur.Ctrl,"Ctrl"),Jr(Ur.Alt,"Alt"),Jr(Ur.PauseBreak,"PauseBreak"),Jr(Ur.CapsLock,"CapsLock"),Jr(Ur.Escape,"Escape"),Jr(Ur.Space,"Space"),Jr(Ur.PageUp,"PageUp"),Jr(Ur.PageDown,"PageDown"),Jr(Ur.End,"End"),Jr(Ur.Home,"Home"),Jr(Ur.LeftArrow,"LeftArrow","Left"),Jr(Ur.UpArrow,"UpArrow","Up"),Jr(Ur.RightArrow,"RightArrow","Right"),Jr(Ur.DownArrow,"DownArrow","Down"),Jr(Ur.Insert,"Insert"),Jr(Ur.Delete,"Delete"),Jr(Ur.KEY_0,"0"),Jr(Ur.KEY_1,"1"),Jr(Ur.KEY_2,"2"),Jr(Ur.KEY_3,"3"),Jr(Ur.KEY_4,"4"),Jr(Ur.KEY_5,"5"),Jr(Ur.KEY_6,"6"),Jr(Ur.KEY_7,"7"),Jr(Ur.KEY_8,"8"),Jr(Ur.KEY_9,"9"),Jr(Ur.KEY_A,"A"),Jr(Ur.KEY_B,"B"),Jr(Ur.KEY_C,"C"),Jr(Ur.KEY_D,"D"),Jr(Ur.KEY_E,"E"),Jr(Ur.KEY_F,"F"),Jr(Ur.KEY_G,"G"),Jr(Ur.KEY_H,"H"),Jr(Ur.KEY_I,"I"),Jr(Ur.KEY_J,"J"),Jr(Ur.KEY_K,"K"),Jr(Ur.KEY_L,"L"),Jr(Ur.KEY_M,"M"),Jr(Ur.KEY_N,"N"),Jr(Ur.KEY_O,"O"),Jr(Ur.KEY_P,"P"),Jr(Ur.KEY_Q,"Q"),Jr(Ur.KEY_R,"R"),Jr(Ur.KEY_S,"S"),Jr(Ur.KEY_T,"T"),Jr(Ur.KEY_U,"U"),Jr(Ur.KEY_V,"V"),Jr(Ur.KEY_W,"W"),Jr(Ur.KEY_X,"X"),Jr(Ur.KEY_Y,"Y"),Jr(Ur.KEY_Z,"Z"),Jr(Ur.Meta,"Meta"),Jr(Ur.ContextMenu,"ContextMenu"),Jr(Ur.F1,"F1"),Jr(Ur.F2,"F2"),Jr(Ur.F3,"F3"),Jr(Ur.F4,"F4"),Jr(Ur.F5,"F5"),Jr(Ur.F6,"F6"),Jr(Ur.F7,"F7"),Jr(Ur.F8,"F8"),Jr(Ur.F9,"F9"),Jr(Ur.F10,"F10"),Jr(Ur.F11,"F11"),Jr(Ur.F12,"F12"),Jr(Ur.F13,"F13"),Jr(Ur.F14,"F14"),Jr(Ur.F15,"F15"),Jr(Ur.F16,"F16"),Jr(Ur.F17,"F17"),Jr(Ur.F18,"F18"),Jr(Ur.F19,"F19"),Jr(Ur.NumLock,"NumLock"),Jr(Ur.ScrollLock,"ScrollLock"),Jr(Ur.US_SEMICOLON,";",";","OEM_1"),Jr(Ur.US_EQUAL,"=","=","OEM_PLUS"),Jr(Ur.US_COMMA,",",",","OEM_COMMA"),Jr(Ur.US_MINUS,"-","-","OEM_MINUS"),Jr(Ur.US_DOT,".",".","OEM_PERIOD"),Jr(Ur.US_SLASH,"/","/","OEM_2"),Jr(Ur.US_BACKTICK,"`","`","OEM_3"),Jr(Ur.ABNT_C1,"ABNT_C1"),Jr(Ur.ABNT_C2,"ABNT_C2"),Jr(Ur.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),Jr(Ur.US_BACKSLASH,"\\","\\","OEM_5"),Jr(Ur.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),Jr(Ur.US_QUOTE,"'","'","OEM_7"),Jr(Ur.NUMPAD_0,"NumPad0"),Jr(Ur.NUMPAD_1,"NumPad1"),Jr(Ur.NUMPAD_2,"NumPad2"),Jr(Ur.NUMPAD_3,"NumPad3"),Jr(Ur.NUMPAD_4,"NumPad4"),Jr(Ur.NUMPAD_5,"NumPad5"),Jr(Ur.NUMPAD_6,"NumPad6"),Jr(Ur.NUMPAD_7,"NumPad7"),Jr(Ur.NUMPAD_8,"NumPad8"),Jr(Ur.NUMPAD_9,"NumPad9"),Jr(Ur.NUMPAD_MULTIPLY,"NumPad_Multiply"),Jr(Ur.NUMPAD_ADD,"NumPad_Add"),Jr(Ur.NUMPAD_SEPARATOR,"NumPad_Separator"),Jr(Ur.NUMPAD_SUBTRACT,"NumPad_Subtract"),Jr(Ur.NUMPAD_DECIMAL,"NumPad_Decimal"),Jr(Ur.NUMPAD_DIVIDE,"NumPad_Divide");var qr=function(){function e(t,n,i,r,o){(0,c._)(this,e),(0,f._)(this,"ctrlKey",void 0),(0,f._)(this,"shiftKey",void 0),(0,f._)(this,"altKey",void 0),(0,f._)(this,"metaKey",void 0),(0,f._)(this,"keyCode",void 0),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,u._)(e,[{key:"equals",value:function(t){return!!(0,l._)(t,e)&&(this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode)}},{key:"isError",value:function(){return this.keyCode===Ur.Unknown}},{key:"toString",value:function(){var e,t=[];return this.ctrlKey&&t.push("Ctrl"),this.shiftKey&&t.push("Shift"),this.altKey&&t.push("Alt"),this.metaKey&&t.push("Meta"),t.join("+")+(t.length>0?"+":"")+(e=this.keyCode,$r.keyCodeToStr(e))}},{key:"match",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}}],[{key:"from",value:function(t){var n,i=function(e){e=e.trim().toLowerCase();var t,n=!1,i=!1,r=!1,o=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(n=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(i=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(r=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(o=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^mod[\+\-]/.test(e)&&(Ei?o=!0:n=!0,e=e.substring(4),t=!0)}while(t);return{ctrl:n,shift:i,alt:r,meta:o,key:e}}(t),r=(n=i.key,$r.strToKeyCode(n));if(r===Ur.Unknown)throw new Error('Incorrect shortcut: "'.concat(t,'", "').concat(i.key,'" is not valid'));return new e(i.ctrl,i.shift,i.alt,i.meta,r)}}]),e}();var Kr=[qr.from("Mod+V"),qr.from("Mod+A"),qr.from("Mod+S"),qr.from("Mod+Shift+S"),qr.from("Mod+P"),qr.from("Mod+F")],Zr=[qr.from("Mod+A"),qr.from("Mod+Z"),qr.from("Mod+Y"),qr.from("Mod+Left"),qr.from("Mod+Right"),qr.from("Mod+Up"),qr.from("Mod+Down"),qr.from("Mod+Shift+Left"),qr.from("Mod+Shift+Right"),qr.from("Mod+Shift+Up"),qr.from("Mod+Shift+Down"),qr.from("Delete"),qr.from("Backspace"),qr.from("Mod+Delete"),qr.from("Mod+Backspace")];const Xr=qr;var Qr,eo=Symbol("is-handled"),to=Qr=eo,no=function(){function e(t,n,i,r,o){(0,c._)(this,e),(0,f._)(this,"native",void 0),(0,f._)(this,"shortcut",void 0),(0,f._)(this,"opportunity",void 0),(0,f._)(this,"command",void 0),(0,f._)(this,"context",void 0),(0,f._)(this,"stopped",void 0),(0,f._)(this,to,void 0),(0,f._)(this,"nativeEvent",void 0),this.native=t,this.shortcut=n,this.opportunity=i,this.command=r,this.context=o,this.stopped=!1,this[Qr]=!1,this.nativeEvent=this.native}return(0,u._)(e,[{key:"preventDefault",value:function(){this.native.preventDefault()}},{key:"stop",value:function(){this.stopped=!0}},{key:"stopPropagation",value:function(){this.native.stopPropagation()}}]),e}(),io=function(e){return e.keydown="keydown",e.keyup="keyup",e}({}),ro=Le.getLogger("ShortcutContext"),oo=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"name",void 0),(0,f._)(this,"uperLayer",void 0),(0,f._)(this,"parents",void 0),(0,f._)(this,"emitter",void 0),(0,f._)(this,"shortcuts",void 0),(0,f._)(this,"interceptors",void 0),this.name=t,this.uperLayer=[],this.parents=[],this.emitter=new(Gr()),this.shortcuts={},this.interceptors=[]}return(0,u._)(e,[{key:"getUperLayers",value:function(){return this.uperLayer.slice(0)}},{key:"getParents",value:function(){return this.parents.slice(0)}},{key:"attach",value:function(e){var t=e;this.uperLayer.indexOf(t)>-1||this.uperLayer.push(t)}},{key:"extend",value:function(e){var t=e;this.parents.indexOf(t)>-1||this.parents.push(t)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach(function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)})}}},{key:"registerShortcut",value:function(e,t){var n=this;return this.shortcuts[e]=Xr.from(t),function(){delete n.shortcuts[e]}}},{key:"on",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:!1};i.clear&&this.removeListener(e);var r=function(e){var n=!!i.keydown,r=!!i.keyup||void 0===i.keydown&&void 0===i.keyup;(n&&e.opportunity===io.keydown||r&&e.opportunity===io.keyup)&&(e.stopped||(i.interceptors||[]).reduceRight(function(e,t){return function(n){t(n,e)}},function(n){n[eo]=!0,i.preventDefault&&e.preventDefault(),t(n)})(e))},o=function(t){t!==e&&t||n.emitter.off(e,r)};return t.__remove__=o,this.emitter.on(e,r),o}},{key:"keyup",value:function(e,t,n){return this.on(e,t,(0,mn._)((0,vn._)({},n),{keyup:!0,keydown:!1}))}},{key:"keydown",value:function(e,t,n){return this.on(e,t,(0,mn._)((0,vn._)({},n),{keyup:!1,keydown:!0}))}},{key:"removeListener",value:function(e,t){var n=t;t&&"string"==typeof n.__remove__?n.__remove__(e):this.emitter.removeAllListeners(e)}},{key:"handleEvent",value:function(e,t){var n,i=function(i){var A=a[i],c=new no(e,A,o,i,n);if(ur(e,A)){var u=t.concat(n.getInterceptors(i)).reduceRight(function(e,t){return function(n){t(n,e)}},function(t){r.getAncestorLink(i).forEach(function(e){e.emitter.emit(i,t)});var n=t[eo]&&Kr.some(function(e){return e.equals(A)});n&&e.preventDefault()});u(c),s=!0}},r=this,o=io[e.type];if(!o)throw new Error("Unexpected keyboard event type: ".concat(e.type,', it should be "keydown" or "keyup"'));var a=this.getShortcuts(),s=!1;for(var A in a)n=this,i(A);return s||this.uperLayer.some(function(n){return n.handleEvent(e,t)})}},{key:"getInterceptors",value:function(e){return this.getAncestorLink(e).reduceRight(function(e,t){return e.concat(t.interceptors)},[])}},{key:"getAncestorLink",value:function(e){var t=this,n=[],i=function(r){var o=r.getParents().some(function(t){return t.getShortcut(e,!1)?(n.includes(t)||n.push(t),!0):i(t)});o?n.unshift(r):t.getShortcut(e,!1)&&!n.includes(t)&&n.push(t)};return i(this),n}},{key:"getShortcut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getShortcuts(t)[e]}},{key:"getShortcuts",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=this.parents.reduceRight(function(t,n){return Object.assign(t,n.getShortcuts(e))},{});return Object.assign({},t,this.shortcuts)}return Object.assign({},this.shortcuts)}},{key:"getComandName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="string"==typeof e?Xr.from(e):e,i=this.getShortcuts(t);for(var r in i){if(i[r].equals(n))return r}}},{key:"before",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ro.warn("Deprecated API: ShortcutContext.before"),this.on(e,t,{keydown:!0,keyup:!1,preventDefault:n})}},{key:"toString",value:function(){return this.name}}]),e}(),ao=Le.getLogger("Keyboard"),so=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchor:document.body};return(0,c._)(this,t),e=(0,k._)(this,t),(0,f._)(e,"anchor",void 0),(0,f._)(e,"disabled",!1),(0,f._)(e,"contexts",new pt),(0,f._)(e,"activationManager",new Wr),(0,f._)(e,"interceptors",[]),(0,f._)(e,"defaultShortcutContext",new oo("default-shortcut-context")),e.anchor=n.anchor,e.prepare(),e.contexts.filter(Boolean),e.addDestroyHook(e.contexts),e}return(0,x._)(t,e),(0,u._)(t,[{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setup",value:function(e){var t=this;e.forEach(function(e){t.createContext(e.context,e,function(t){for(var n in e.shortcuts)t.registerShortcut(n,e.shortcuts[n])})})}},{key:"createContext",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=n.extends||[],o=n.topLayers||[],a=function(e){var n=t.getContextByName(e);if(!n)throw new Error("ShortcutContext cannot be used before created: ".concat(e));return n},s=r.map(function(e){return a(e)}),A=o.map(function(e){return a(e)}),c=this.getContextByName(e)||new oo(e);return s.forEach(function(e){c.extend(e)}),A.forEach(function(e){c.attach(e)}),this.contexts.dispatch(e,c),i&&this.withContext(e,i),c}},{key:"withContext",value:function(e,t){var n=this;return this.contexts.takeWhile(e).then(function(e){return t.call(n,e),e})}},{key:"activeContext",value:function(e){var t=this.contexts.getCurrentValue(e);return t?this.activationManager.push(t):h}},{key:"getActivateContext",value:function(){return this.activationManager.peak()||this.defaultShortcutContext}},{key:"on",value:function(e,t,n){var i=this.findContextByCommand(e).map(function(i){return i.on(e,t,n)});return function(){i.forEach(function(e){return e()}),i.length=0}}},{key:"keydown",value:function(e,t,n){var i=this.findContextByCommand(e).map(function(i){return i.keydown(e,t,n)});return function(){i.forEach(function(e){return e()}),i.length=0}}},{key:"keyup",value:function(e,t,n){var i=this.findContextByCommand(e).map(function(i){return i.keyup(e,t,n)});return function(){i.forEach(function(e){return e()}),i.length=0}}},{key:"findContextByShortcut",value:function(e){var t=[];return this.contexts.forEach(function(n){n.getComandName(e,!1)&&t.push(n)}),t}},{key:"findContextByCommand",value:function(e){var t=[];return this.contexts.forEach(function(n){e in n.getShortcuts(!1)&&t.push(n)}),t}},{key:"getContextByName",value:function(e){return this.contexts.getCurrentValue(e)}},{key:"getBinder",value:function(e){return ao.warn("Deprecated API: Keyboard.getBinder"),this.getContextByName(e)}},{key:"activeBinder",value:function(e){return ao.warn("Deprecated API: Keyboard.activeBinder"),this.activeContext(e)}},{key:"markdown",value:function(){var e=[];return this.contexts.forEach(function(t){var n=t.getUperLayers(),i=t.getParents();n.forEach(function(n){e.push("    ".concat(n.name," --\x3e ").concat(t.name))}),i.forEach(function(n){e.push("    ".concat(n.name," -.Extends.-> ").concat(t.name))});var r=t.getShortcuts(!1);if(Object.keys(r).length>0){for(var o in e.push("    subgraph ".concat(t.name,"_sub [").concat(t.name,"]")),r)e.push("    ".concat(t.name," ==Shortcut==> ").concat(o," -.-> ").concat(r[o].toString()));e.push("    end")}}),"```mermaid\n".concat("flowchart LR","\n").concat(e.join("\n"),"\n```")}},{key:"onShortcut",value:function(e,t,n){var i=e.toString();return this.defaultShortcutContext.registerShortcut(i,i),this.defaultShortcutContext.on(i,t,n)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach(function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)})}}},{key:"getDefaultShortcutContext",value:function(){return this.defaultShortcutContext}},{key:"prepare",value:function(){var e=this,t=function(t){if(!e.disabled){e.defaultShortcutContext.handleEvent(t,e.interceptors);var n=e.activationManager.peak();n&&n.handleEvent(t,e.interceptors)}},n={};this.anchor.addEventListener("keyup",t,n),this.anchor.addEventListener("keydown",t,n),this.addDestroyHook(function(){e.anchor.removeEventListener("keyup",t,n),e.anchor.removeEventListener("keydown",t,n)})}},{key:"getActivationManager",value:function(){return this.activationManager}}]),t}(Ze);function Ao(e){return function(t,n){if(e.indexOf(t.command))return n(t)}}function co(e){return function(t,n){if(-1===e.indexOf(t.command))return n(t)}}function uo(e,t){if(!e||!(0,l._)(e,Element))return!1;var n=t||{},i=n.visible,r=void 0===i||i,o=n.enable,a=void 0===o||o,s=n.readonly,A=void 0===s||s;if(r){var c=e.getClientRects();if(0===c.length)return!1;var u=c[0];if(u.width*u.height===0)return!1}switch(e.tagName.toLowerCase()){case"input":case"select":case"textarea":var d=e;return(!a||!d.disabled)&&(!A||!d.disabled&&!d.readOnly)}switch(e.contentEditable){case"true":case"plaintext-only":return!0}return!1}function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){n.length>0&&n.indexOf(t.command)>-1?i(t):uo(t.native.target,e)||i(t)}}function ho(e){return function(t,n){e&&t.command!==e||t.preventDefault(),n(t)}}function fo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r;r=t?function(e){return e===document.activeElement||e.contains(document.activeElement)}:function(e){return e===document.activeElement},!!e.find(r)&&i(n)}}var po=new(function(){function e(){(0,c._)(this,e),this._ctrl=!1,this._shift=!1,this._win=!1,this._alt=!1,this._capsLock=!1,this._bindEvent()}return(0,u._)(e,[{key:"_bindEvent",value:function(){var e=this;window.addEventListener("keydown",function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")},!1),window.addEventListener("keyup",function(t){e._shift=16!==t.keyCode&&e._shift,e._alt=18!==t.keyCode&&e._alt,e._ctrl=17!==t.keyCode&&e._ctrl,e._win=91!==t.keyCode&&e._win,e._capsLock=20!==t.keyCode&&e._capsLock},!1),window.addEventListener("mousemove",function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")},{capture:!0}),window.addEventListener("wheel",function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")},{capture:!0})}},{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}},{key:"isCapsLock",get:function(){return this._capsLock}}]),e}());const go=po;var vo=navigator.userAgent.toLowerCase(),mo=/opera|opr/.test(vo),yo=/msie/.test(vo),_o=/trident/.test(vo),bo=/\sapplewebkit\//.test(vo),wo=/chrome/.test(vo),ko=/safari/.test(vo),xo=/firefox/.test(vo),Po=/edg\//.test(vo),Co=(_o||yo)&&!mo&&"msSaveBlob"in navigator,Do=Co&&function(){var e=vo.match(/msie ([\d\.]+)/);return!!e&&10===parseInt(e[1])}(),Eo=!yo&&_o&&!mo,So=vo.indexOf("edge")>-1,Io=mo,To=bo,Mo=!Io&&wo&&!!window.chrome&&Po,Ro=/crios/.test(vo)||!Io&&wo&&!!window.chrome&&!Po,Fo=!/huawei/.test(vo)&&!Io&&ko&&!wo,No="Gecko"==navigator.product&&!To&&!Io,Lo=!Ro&&!Io&&!Fo&&xo,Oo=/maxthon/.test(vo),jo="BackCompact"==document.CompactMode,Bo=/tencenttraveler/.test(vo)||/qqbrowser/.test(vo),Vo=/wechat/.test(vo),Ho=/metasr/.test(vo)||/sogou/.test(vo),Uo=/baidubrowser/.test(vo),zo=/ucbrowser/.test(vo),Wo=/liebao/.test(vo),Yo=/miuibrowser/.test(vo),Go=/huaweibrowser/.test(vo)||/huaweialp/.test(vo),$o=/crios/.test(vo),Jo=function(){if(Bo||zo||Ho||Yo||Wo||Oo)return!1;if(-1===vo.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var i in n)if(n[i][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}(),qo=!!document.documentMode&&document.documentMode<8,Ko=8==document.documentMode,Zo=9==document.documentMode,Xo=10==document.documentMode,Qo={ie:Co,ieAtLeast11:Eo,edge:So,"chromium-edge":Mo,opera:Io,webkit:To,chrome:Ro,safari:Fo,gecko:No,firefox:Lo,maxthon:Oo,quirksMode:jo,"quirks-mode":jo,qq:Bo,wechat:Vo,sougou:Ho,baidu:Uo,liebao:Wo,uc:zo,miui:Yo,huawei:Go,360:Jo};function ea(){if(Fo){var e=/version\/(\d+\.\d+\.\d+)/i.exec(vo);if(e){var t=e[1].split(".");return{major:parseInt(t[0]),minor:parseInt(t[1]),patch:parseInt(t[2]),number:1e4*parseInt(t[0])+100*parseInt(t[1])+parseInt(t[2])}}}}var ta,na,ia,ra=(navigator.appVersion.match(/iphone/gi),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1);var oa=72;function aa(){return ta||(ta=function(){if("undefined"!=typeof screen&&screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};if("undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(e);var t={x:parseInt(e.offsetWidth),y:parseInt(e.offsetHeight)};return e.parentNode.removeChild(e),t}return{x:96,y:96}}()),ta}function sa(){if(void 0===na){var e=aa();na=e.x/oa}return na}function Aa(){if(void 0===ia){var e=aa();ia=oa/e.x}return ia}var ca,ua=function(e){var t=[new ClipboardItem((0,f._)({},e.type,e))];return navigator.clipboard.write(t)};function la(e){return function(){if(Fo||Lo)return Promise.resolve(!1);if(!navigator.permissions||!navigator.permissions.query)return Promise.resolve(!1);try{return navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1}).then(function(e){return"granted"===e.state})}catch(e){return console.log(e),Promise.resolve(!1)}}().then(function(t){if(t){var n=new Blob([e],{type:"text/plain"});return ua(n).then(function(e){return!0})}var i=ca||((ca=document.createElement("textarea")).style.opacity="0",ca.style.top="-999px",ca.style["z-index"]=-1,ca.style.position="absolute",ca.id="foxit_eCopy",document.body.appendChild(ca),ca);i.value=e,i.select(),i.focus(),i.setSelectionRange(0,i.value.length);var r=document.execCommand("copy",!1,i.value);return i.blur(),r})}function da(e){var t=null;try{(t=e.composedPath&&e.composedPath())&&0!=t.length||(t=e.path)}catch(e){t=null}var n=e.target;return null!=t?t.indexOf(window)<0?t.concat(window):t:n===window?[window]:[n].concat(ha(n),window)}function ha(e,t){t=t||[];var n=e&&e.parentNode;return n?ha(n,t.concat(n)):t}function fa(){if("object"!==("undefined"==typeof window?"undefined":(0,P._)(window)))return 1;var e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d");return e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function pa(){return"undefined"!=typeof WorkerGlobalScope&&(0,l._)(self,WorkerGlobalScope)}function ga(){return"undefined"!=typeof window}function va(){var e=ea();return e&&e.major>=15&&e.number<=160100}var ma=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,c._)(this,t),n=(0,k._)(this,t),(0,f._)(n,"observer",void 0),(0,f._)(n,"observerCallbacks",new Map),(0,f._)(n,"lastIntersectionEntryMap",new WeakMap),n.observer=new IntersectionObserver(function(e){e.forEach(function(e){var t=n.observerCallbacks.get(e.target);n.lastIntersectionEntryMap.set(e.target,e),null==t||t.forEach(function(t){t.call(null,e.target,e.isIntersecting,e)})})},{root:e,threshold:i}),n.addDestroyHook(function(){n.observer.disconnect(),n.observerCallbacks.clear()}),n}return(0,x._)(t,e),(0,u._)(t,[{key:"observe",value:function(e,t){var n=this,i=t.bind(null);this.observerCallbacks.has(e)||this.observerCallbacks.set(e,[]);var r=this.observerCallbacks.get(e);return r.push(i),this.observer.observe(e),function(){n.observer.unobserve(e);var t=r.indexOf(i);t>-1&&r.splice(t,1)}}},{key:"forceUpdate",value:function(e){var t=this.lastIntersectionEntryMap.get(e);if(t){var n=(this.observerCallbacks.get(e)||[]).map(function(n){return n(e,t.isIntersecting,t)});return Promise.all(n)}}},{key:"isVisible",value:function(e){var t,n;return null!==(n=null===(t=this.lastIntersectionEntryMap.get(e))||void 0===t?void 0:t.isIntersecting)&&void 0!==n&&n}}]),t}(Ze);function ya(e,t){var n=t.match,i=t.handler,r=t.useShim,o=void 0!==r&&r,a=t.eventOptions;if(o||Vi&&(Fo||zi||zo)||Ti&&Fo||Wi){var s,A=void 0,c=0,u=!1,l=function(e){n(e)&&(u=!1,s=void 0,clearTimeout(A),A=void 0,e.touches&&1!==e.touches.length||(c=0,s={x:e.touches[0].pageX,y:e.touches[0].pageY},A=setTimeout(function(){u||h(e)},600),e.stopPropagation()))},d=function(e){if((!e.touches||1===e.touches.length)&&s){var t=e.touches[0],n=Math.pow(t.pageX-s.x,2)+Math.pow(t.pageY-s.y,2);(c=Math.max(c,n))>10&&(u=!0)}},h=function(t){if(s=null,t.changedTouches&&1===t.changedTouches.length){var n=t.changedTouches[0],r=new Event("contextmenu"),o=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce(function(e,t){return e[t]={value:n[t]},e},{});o.stopPropagation={value:function(){t.stopPropagation()}},o.preventDefault={value:function(){t.preventDefault()}};var a=Object.create(r,o);i.call(e,a),clearTimeout(A)}else clearTimeout(A)},f=function(){u=!1,clearTimeout(A)};e.addEventListener("touchstart",l,a),document.addEventListener("touchend",f,!0),document.addEventListener("touchmove",d,!0);var p=function(e){e.preventDefault()};return document.addEventListener("contextmenu",p,{capture:!0,passive:!1}),e.addEventListener("contextmenu",p),function(){e.removeEventListener("touchstart",l,a),document.removeEventListener("touchmove",d,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("contextmenu",p,{capture:!0,passive:!1}),e.removeEventListener("contextmenu",p)}}return e.addEventListener("contextmenu",i,a),function(){e.removeEventListener("contextmenu",i,a)}}function _a(e,t,n){return ya(e,{match:function(){return!0},handler:t,eventOptions:n,useShim:arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}function ba(e,t){var n=e.classList;n.contains(t)||n.add(t)}function wa(e,t){if(e){var n=e.classList;n.contains(t)&&n.remove(t)}}function ka(e,t,n,i){t?(ba(e,n),wa(e,i)):(wa(e,n),ba(e,i))}function xa(e,t){var n=[],i=getComputedStyle(e);if("string"==typeof t){var r={};t.split(/;[\r\n\s]*/).forEach(function(e){var t=(0,Zt._)(e.split(/\s*:\s*/),2),n=t[0],i=t[1];r[n]=i}),t=r}for(var o in t)i[o]!==t[o]&&n.push("".concat(o,":").concat(t[o]));n.length>0&&(e.style.cssText+=n.join(";"))}function Pa(e,t){for(var n in t){var i=e[n],r=t[n];i!=r&&(e[n]=r)}}function Ca(e){return uo(e,{visible:!1,readonly:!1,enable:!1})}function Da(e){return function(){var e=new Set;function t(n){try{h.call(n.location.href)}catch(e){return}(0,l._)(n,n.Window)&&e.add(n);for(var i=0;i<n.length;i++)t(n[i])}var n=window.top;n&&Object.getPrototypeOf(n)||(n=window);return t(n),Array.from(e)}().map(function(t){return t[e]})}function Ea(e){return Da("window").indexOf(e)>=0}function Sa(e){return Da("Element").some(function(t){return(0,l._)(e,t)})}function Ia(e,t){if(Ea(e)){var n=function(){t()};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}if(!Sa(e))throw new TypeError("Failed to execute 'observeResize': parameter 1 is not of type `Element`");if("function"!=typeof t)throw new TypeError("Failed to execute 'observeResize': parameter 2 is not of type `Function`");if(window.ResizeObserver){var i=e.offsetWidth,r=e.offsetHeight,o=new ResizeObserver(function(e){if(1===e.length){var n=e[0].borderBoxSize,o=Array.isArray(n)?n[0]:n,a=o.inlineSize,s=o.blockSize;a===i&&s===r||(t(),i=a,r=s)}});return o.observe(e),function(){o.disconnect()}}var a,s=!1,A=Ta(e);return a=setInterval(function(){if(!s){var n=Ta(e);A&&n&&(n.width!==A.width||n.height!==A.height)&&t(),A=n}},100),function(){s=!0,clearInterval(a)}}function Ta(e){if(!e)return null;if(Co)try{return e.getBoundingClientRect()}catch(e){return null}return e.getBoundingClientRect()}var Ma=n(636),Ra=n.n(Ma);function Fa(e,t){var n=Ra().fn.on;try{Ra().fn.on=function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.addDestroyHook(function(){Ra().fn.off.apply(t,r)}),n.apply(this,r)},t(Ra())}finally{Ra().fn.on=n}}function Na(e,t,n,i){var r=!1,o=function(e){!r&&ur(e,n)&&(r=!0)},a=function(e){r&&ur(e,n)&&(r=!1,t(e))},s=function(e){((0,l._)(e,FocusEvent)||ur(e,n))&&(r=!1)};return e.addEventListener("keydown",o,i),e.addEventListener("keyup",a,i),document.addEventListener("keyup",s),window.addEventListener("blur",s),function(){e.removeEventListener("keydown",o,i),e.removeEventListener("keyup",a,i),document.removeEventListener("keyup",s),window.removeEventListener("blur",s)}}function La(e){var t=document.createEvent("MouseEvent"),n=(0,l._)(e,MouseEvent)?e:{screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null},i=n.screenX,r=n.screenY,o=n.clientX,a=n.clientY,s=n.button,A=n.relatedTarget;return t.initMouseEvent("click",(null==e?void 0:e.bubbles)||!1,(null==e?void 0:e.cancelable)||!1,window,(null==e?void 0:e.detail)||-1,i,r,o,a,(null==e?void 0:e.ctrlKey)||go.isCtrl,(null==e?void 0:e.altKey)||go.isAlt,(null==e?void 0:e.shiftKey)||go.isShift,(null==e?void 0:e.metaKey)||go.isWin,s||0,A),t.isFake=!0,Object.defineProperties(t,{srcElement:{get:function(){return null==e?void 0:e.srcElement}},fromElement:{get:function(){return null==e?void 0:e.fromElement}},target:{get:function(){return null==e?void 0:e.target}},toElement:{get:function(){return null==e?void 0:e.toElement}}}),t}function Oa(e){var t=document.createEvent("FocusEvent");return t.initEvent("focus",!0,!1),Object.defineProperties(t,{target:{get:function(){return e}}}),t}function ja(e){var t=e.target,n=e.onDoubleTap,i=e.onSingleTap,r=e.interval,o=void 0===r?300:r,a=e.preventDefault,s=void 0!==a&&a,A=e.stopPropagation,c=void 0!==A&&A;(0,l._)(t,HTMLElement)&&(t.style.cssText+="\n                    touch-action: none;\n                ");var u=0,d=null;function h(e){u=Date.now(),d=[e.clientX,e.clientY]}function f(){d&&console.log("moved"),d=null}t.addEventListener("pointerdown",h),document.addEventListener("poinermove",f,!0);var p,g=0,v=0,m=0;function y(e){if(u=Date.now()-u,clearTimeout(p),"function"==typeof s?s(e)&&e.preventDefault():s&&e.preventDefault(),"function"==typeof c?c(e)&&e.stopPropagation():c&&e.stopPropagation(),0===m)if(1===g){g=0;var r=Date.now();r-v<=o&&(n.call(t,Ba(e,o)),v=0),v=r}else v=Date.now(),g=1,new Promise(function(e){p=setTimeout(e,o)}).then(function(){(g=0,v=0,i&&u<o&&d)&&(Math.sqrt(Math.pow(Math.abs(d[0]-e.clientX),2)+Math.pow(Math.abs(d[1]-e.clientY),2))<5&&i.call(t,Ba(e,o)))})}var _="pointerup";(Si&&Ro||void 0===window.PointerEvent)&&(_="mouseup");var b=function(e){m=(0,l._)(e,TouchEvent)?e.touches.length:0};return t.addEventListener("touchend",b),t.addEventListener(_,y),function(){t.removeEventListener(_,y),t.removeEventListener("touchend",b),t.removeEventListener("pointerdown",h),document.removeEventListener("poinermove",f,!0)}}function Ba(e,t){return{angle:0,deltaTime:t,deltaX:0,deltaY:0,direction:1,distance:0,eventType:4,isFinal:!0,isFirst:!1,maxPointers:1,offsetDirection:1,center:{x:e.clientX,y:e.clientY},changedPointers:[e],overallVelocity:0,overallVelocityX:0,overallVelocityY:0,pointerType:"mouse",pointers:[],preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()},rotation:0,scale:1,srcEvent:e,tapCount:2,target:e.target,timeStamp:e.timeStamp,type:"doubletap",velocity:0,velocityX:0,velocityY:0}}var Va=dr.or,Ha=dr.Enter,Ua=dr.Space;function za(e){var t=!1,n=function(e){ur(e,Va(Ha,Ua))&&(t&&e.preventDefault(),t=!0)},i=function(e){((0,l._)(e,FocusEvent)||ur(e,Va(Ha,Ua)))&&(t=!1)};return document.addEventListener("keyup",i,!0),window.addEventListener("blur",i),e.addEventListener("keydown",n,{capture:!0}),function(){document.removeEventListener("keyup",i,!0),window.removeEventListener("blur",i),e.removeEventListener("keydown",n,{capture:!0})}}function Wa(e,t,n,i){var r=function(e){ur(e,n)&&e.stopPropagation()};return e.addEventListener(t,r,i),function(){e.removeEventListener(t,r,i)}}function Ya(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}throw new Error("Unexpected event type: ".concat(e.type))}function Ga(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}throw new Error("Unexpected event type: ".concat(e.type))}var $a=function(e){return e.PLAIN="text/plain",e.HTML="text/html",e.FILES="Files",e}({}),Ja="module-license-info",qa=["html","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],Ka=document.createElement("div");function Za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Qa(e,n);return Ka.innerHTML=r.trim(),Ka.firstChild}function Xa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Qa(e,n);return Ka.innerHTML=r.trim(),Array.from(Ka.childNodes)}function Qa(e,t){return t.reduce(function(t,n,i){return t+n+e[i+1]},e[0])}function es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);for(var r in t){i.constructor.prototype.hasOwnProperty(r)?i[r]=t[r]+"":i.setAttribute(r,t[r]+"")}return n.forEach(function(e){i.appendChild(e)}),i}var ts="change",ns="update",is=function(e){function t(){var e;return(0,c._)(this,t),e=(0,k._)(this,t),(0,f._)(e,"store",new pt),e.addDestroyHook(e.store),e.store.filter(function(){return!e.isDestroyed}),e}return(0,x._)(t,e),(0,u._)(t,[{key:"onChange",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.store.subscribeOnce(ts,function(t){return e(t)}):this.store.subscribe(ts,function(t){return e(t)})}},{key:"onUpdate",value:function(e){return this.store.subscribe(ns,function(){return e()})}},{key:"handle",value:function(e){this.store.dispatch(ts,e)}},{key:"update",value:function(){return this.store.dispatch(ns,null)}}]),t}(Ke);function rs(){var e,t="rgb(31,41,59)",n=document.createElement("div");n.style.color=t,document.body.appendChild(n);try{return(e=n,document.defaultView?document.defaultView.getComputedStyle(e):e.currentStyle).color.replace(/ /g,"")!==t}finally{document.body.removeChild(n)}}function os(){var e=document,t=e.mozFullscreen||e.webkitIsFullScreen||e.fullscreen;return Vi?Fo?!!e.webkitCurrentFullScreenElement:t:t||window.innerHeight===window.screen.height&&window.innerWidth===window.screen.width}function as(e,t){var n=Array.from(e.childNodes.values());n.forEach(function(i,r){t.includes(i)||(e.removeChild(i),n.splice(r,1))}),t.forEach(function(i,r){if(i&&n[r]!==i){var o,a,s,A,c,u=n.indexOf(i),l=t[r-1];-1===u?(l?(c=l).getComponent&&"string"==typeof c.getComponent().attrs.slot?l.appendChild(i):l.after(i):e.prepend(i),n.splice(r,0,i)):r<n.length?(i.before(n[r]),s=u,A=(o=n)[a=r],o[a]=o[s],o[s]=A,l?l.after(i):e.prepend(i)):(n.push(i),e.appendChild(i))}})}var ss="#9E3ABF",As={"accent-color":{varKey:["--fv-accent-color","--Accent_color"],defaultValue:ss,referenceValue:"#923094"},"accent-fill":{varKey:"--fv-accent-fill-color",defaultValue:ss,referenceValue:"#923094"},"btn-color":{varKey:"--fv-btn-color",defaultValue:ss,referenceValue:ss},border:{varKey:"--fv-btn-border-color",defaultValue:ss,referenceValue:ss},"hover-color":{varKey:"--fv-btn-hover-color",defaultValue:ss,referenceValue:ss},"border-hover":{varKey:"--fv-btn-border-hover-color",defaultValue:ss,referenceValue:"#f9e3fa"},"pressed-bg":{varKey:"--fv-btn-pressed-bg",defaultValue:ss,referenceValue:"#9432AC"},"disabled-bg":{varKey:"--fv-btn-disabled-bg",defaultValue:ss,referenceValue:"#70289B"},"disabled-color":{varKey:"--fv-btn-disabled-color",defaultValue:ss,referenceValue:ss},"border-disabled-color":{varKey:"--fv-btn-border-disabled-color",defaultValue:ss,referenceValue:"#70289B"},"focus-bg":{varKey:"--fv-btn-focus-bg",defaultValue:ss,referenceValue:ss},"border-pressed":{varKey:"--fv-btn-border-pressed-color",defaultValue:ss,referenceValue:"#D4A1E5"},"outline-focus-color":{varKey:"--fv-btn-outline-focus-color",defaultValue:ss,referenceValue:ss},"outline-color":{varKey:"--fv-btn-outline-color",defaultValue:ss,referenceValue:ss},"accent-btn-bg":{varKey:"--fv-accent-btn-bg",defaultValue:ss,referenceValue:ss},"accent-btn-border-color":{varKey:"--fv-accent-btn-border-color",defaultValue:ss,referenceValue:ss},"accent-btn-hover-bg":{varKey:"--fv-accent-btn-hover-bg",defaultValue:ss,referenceValue:"#af40ca"},"accent-btn-border-hover-color":{varKey:"--fv-accent-btn-border-hover-color",defaultValue:ss,referenceValue:"#af40ca"},"accent-btn-pressed-bg":{varKey:"--fv-accent-btn-pressed-bg",defaultValue:ss,referenceValue:"#9432AC"},"accent-btn-border-pressed-color":{varKey:"--fv-accent-btn-border-pressed-color",defaultValue:ss,referenceValue:"#9432AC"},"accent-btn-disabled-bg":{varKey:"--fv-accent-btn-disabled-bg",defaultValue:ss,referenceValue:"#70289B"},"accent-btn-disabled-color":{varKey:"--fv-accent-btn-disabled-color",defaultValue:ss,referenceValue:"#AF57CC"},"accent-btn-border-disabled-color":{varKey:"--fv-accent-btn-border-disabled-color",defaultValue:ss,referenceValue:"#70289B"},"accent-btn-focus-bg":{varKey:"--fv-accent-btn-focus-bg",defaultValue:ss,referenceValue:ss},"accent-btn-border-focus-color":{varKey:"--fv-accent-btn-border-focus-color",defaultValue:ss,referenceValue:ss}},cs="#333333",us={background:{varKey:["--fv-primary-bg"],defaultValue:cs,referenceValue:cs},secondary:{varKey:"--fv-secondary-bg",defaultValue:cs,referenceValue:"#424242"},content:{varKey:"--fv-content-bg",defaultValue:cs,referenceValue:"#242424"},"hide-show":{varKey:"--fv-hide-show-bg",defaultValue:cs,referenceValue:"#131313"},hover:{varKey:"--fv-hover-bg",defaultValue:cs,referenceValue:"#515151"},active:{varKey:"--fv-active-bg",defaultValue:cs,referenceValue:"#424242"},input:{varKey:"--fv-input-bg",defaultValue:cs,referenceValue:"#242424"},footer:{varKey:"--fv-footer-bg",defaultValue:cs,referenceValue:"#131313"},btn:{varKey:"--fv-btn-bg",defaultValue:cs,referenceValue:"#fff"},"page-content":{varKey:"--fv-file-page-content-bg",defaultValue:cs,referenceValue:"#242424"}},ls="#666666",ds={border:{varKey:"--fv-border-color",defaultValue:ls,referenceValue:ls},base:{varKey:"--base-border-color",defaultValue:ls,referenceValue:"#C7CCD9"},frame:{varKey:"--fv-frame-border-color",defaultValue:ls,referenceValue:"#131313"},tab:{varKey:"--fv-doc-tab-border-color",defaultValue:ls,referenceValue:"#242424"},"tab-active":{varKey:"--fv-doc-tab-border-active-color",defaultValue:ls,referenceValue:"#131313"},"spacing-line-primary":{varKey:"--fv-spacing-line-primary-color",defaultValue:ls,referenceValue:"#131313"},"spacing-line-tertiary":{varKey:"--fv-spacing-line-tertiary-color",defaultValue:ls,referenceValue:"#424242"},input:{varKey:"--fv-input-border-color",defaultValue:ls,referenceValue:"#515151"},spacing:{varKey:"--Spacing_line_color",defaultValue:ls,referenceValue:"#E6E9F0"},checkbox:{varKey:"--fv-checkbox-border-color",defaultValue:ls,referenceValue:"#aaa"}},hs="#99EBFF",fs={link:{varKey:"--fv-link-color",defaultValue:hs,referenceValue:hs}},ps="#E3E3E3",gs={primary:{varKey:["--fv-primary-color","--fv-ribbon-name-text"],defaultValue:ps,referenceValue:ps},secondary:{varKey:"--fv-secondary-color",defaultValue:ps,referenceValue:"#F7F7F7"},placeholder:{varKey:"--fv-placeholder-color,--Placeholder_text",defaultValue:ps,referenceValue:"#ACACAC"},disable:{varKey:"--fv-disable-color",defaultValue:ps,referenceValue:"#8B8B8B"},introductory:{varKey:"--fv-introductory-color",defaultValue:ps,referenceValue:"#BDBDBD"}},vs={primary:"primary",background:"brackground",border:"border",link:"link",text:"text"},ms=new Map,ys={primary:As,background:us,border:ds,link:fs,text:gs};function _s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dom,colors}];ms.clear(),e.forEach(function(e){var t=e.dom,n=e.colors;if(n){var i=t||document.body;Object.keys(n).forEach(function(e){return function(e,t,n){if(!t)return void Object.keys(n).forEach(function(t){var i=n[t].varKey;Array.isArray(i)?i.forEach(function(t){e.style.removeProperty(t)}):e.style.removeProperty(i)});var i=on(t,"RGB");i.shift(),Object.keys(n).forEach(function(r){var o=n[r],a=o.varKey,s=o.defaultValue,A=o.referenceValue;Array.isArray(a)?a.forEach(function(n){e.style.setProperty(n,s!==A?ws.apply(void 0,(0,d._)(i).concat([bs(s,A)])):t)}):e.style.setProperty(a,s!==A?ws.apply(void 0,(0,d._)(i).concat([bs(s,A)])):t)})}(i,n[e],ys[e])})}})}function bs(e,t){var n="".concat(e,"-").concat(t);if(ms.get(n))return ms.get("".concat(e,"-").concat(t));var i=on(e,"RGB"),r=on(t,"RGB"),o={r:i[1]/r[1],g:i[2]/r[2],b:i[3]/r[3]};return ms.set(n,o),o}function ws(e,t,n,i){var r=i.r,o=i.g,a=i.b;return on(["RGB",ks(e/r),ks(t/o),ks(n/a)],"HTML")}function ks(e){return e>1?1:e}function xs(e){return Da("HTMLElement").some(function(t){return(0,l._)(e,t)})}function Ps(e){return Da("document").indexOf(e)>=0}function Cs(e,t){(0,l._)(e,HTMLInputElement)||(0,l._)(e,HTMLTextAreaElement)?Es(e,t):"inherit"!==e.contentEditable&&Is(e,t)}function Ds(e,t,n){(0,l._)(e,HTMLInputElement)||(0,l._)(e,HTMLTextAreaElement)?Ss(e,t,n):"inherit"!==e.contentEditable&&Is(e,n,t)}function Es(e,t){var n=(0,l._)(e,HTMLInputElement)?e.value.length:e.textLength;Ss(e,{startOffset:n,endOffset:n},t)}function Ss(e,t,n){e.focus(n),setTimeout(function(){e.focus(n),e.setSelectionRange(t.startOffset,t.endOffset)}),e.setSelectionRange(t.startOffset,t.endOffset)}function Is(e,t,n){e.focus(t),setTimeout(function(){return e.focus(t)});var i=document.createRange();if(i.selectNodeContents(e),n){var r,o=e.childNodes[n.startNodeIndex||0];if(o)i.setStart(o,Math.min(n.startOffset,(null===(r=o.textContent)||void 0===r?void 0:r.length)||0));var a,s=e.childNodes[n.endNodeIndex||0];if(s)i.setStart(s,Math.min(n.endOffset,(null===(a=o.textContent)||void 0===a?void 0:a.length)||0))}i.collapse(!0);var A=window.getSelection();A&&(A.removeAllRanges(),A.addRange(i))}function Ts(e){var t=window.getSelection();if(null==t?void 0:t.rangeCount){var n=t.getRangeAt(0);if(e.contains(n.startContainer)&&e.contains(n.endContainer))return{startNodeIndex:i(n.startContainer),endNodeIndex:i(n.endContainer),startOffset:n.startOffset,endOffset:n.endOffset}}return null;function i(t){for(var n=t;n&&n.parentElement!==e;)n=n.parentNode;return Array.from(e.childNodes).indexOf(n)}}function Ms(e,t){return{startCursorIndex:n(e.startNodeIndex||0,e.startOffset),endCursorIndex:n(e.endNodeIndex||0,e.endOffset)};function n(e,n){return Array.from(t.childNodes).slice(0,e).reduce(function(e,t){var n;return(0,l._)(t,HTMLBRElement)?e+1:e+((null===(n=t.textContent)||void 0===n?void 0:n.length)||0)},0)+n}}function Rs(e,t){for(var n=0,i=e,r=Array.from(t.childNodes),o=0,a=0;a<r.length;a++){var s,A=r[a],c=(0,l._)(A,HTMLBRElement)?1:(null===(s=A.textContent)||void 0===s?void 0:s.length)||0;if(0!==a){if(i<=o){n=a;break}i-=o}else o=c}return i>o&&(i=o),{nodeIndex:n,offset:i}}function Fs(e){var t=$a.PLAIN,n=$a.HTML,i=$a.FILES,r=[],o=e.clipboardData,a=g();if(o&&o.items){var s=o.items,A=o.types,c=A[0],u=0;if(A.length>1){var l=A.indexOf(n);l>-1&&(u=l,c=n)}switch(c){case t:s[u].getAsString(function(e){var t;try{if("number"==typeof(t=JSON.parse(e)))throw new Error("Pure number")}catch(n){t=[{type:"string",value:e}]}t.some(function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType})||(r=t,a.resolve(r))});break;case n:var d=o.getData(n);d&&(r=[{type:"html",value:d}]),a.resolve(r);break;case i:var h=s[u].getAsFile();h&&(r=[{type:"file",value:h}]),a.resolve(r)}}return a.promise}var Ns=n(840),Ls=n.n(Ns)().PointerEventInput;function Os(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ls.apply(this,t)}function js(e){var t=new Hammer.Manager(e,{inputClass:wi?Hammer.TouchMouseInput:Os});return t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.add(new Hammer.Tap({event:"singletap"})),t.add(new Hammer.Pan),t.add(new Hammer.Press),t.add(new Hammer.Pinch({pointers:2})),t.get("doubletap").recognizeWith("singletap"),t.get("singletap").requireFailure("doubletap"),t}function Bs(e){return e}Os.prototype=Object.create(Ls.prototype,{init:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.domHandler;return this.domHandler=function(e){if(e.isTrusted)return i.call(this,e)},Ls.prototype.init.apply(this,t)}}});var Vs=document.createElement("textarea");function Hs(){return(0,gn._)(function(){return(0,yn.Jh)(this,function(e){switch(e.label){case 0:return navigator.clipboard?[4,(0,gn._)(function(){return(0,yn.Jh)(this,function(e){switch(e.label){case 0:if(Lo||Fo)return[2,!1];if(!navigator.permissions)return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"clipboard-write"})];case 2:return[2,"granted"===e.sent().state];case 3:return e.sent(),[2,!1];case 4:return[2]}})})()]:[3,2];case 1:return e.sent()?[2,navigator.clipboard.readText()]:[2,Us()];case 2:return[2,Us()];case 3:return[2]}})})()}function Us(){var e=document.activeElement||Vs;"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&(e=Vs),e===Vs&&(document.body.appendChild(Vs),e.focus());var t=e.value;e.value="";try{return document.execCommand("paste")?e.value:Promise.reject("Unable to read from clipboard")}catch(e){return Promise.reject("Unable to read from clipboard")}finally{e.value=t,document.body.removeChild(Vs)}}Vs.style.cssText+="\n    position: fixed;\n    top: -9999px;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    border: none;\n    outline: none;\n    opacity: 0.1;\n";var zs=function(e){function t(e,n){var i;(0,c._)(this,t),i=(0,k._)(this,t),(0,f._)(i,"target",void 0),(0,f._)(i,"options",void 0),(0,f._)(i,"isVisible",void 0),(0,f._)(i,"listeners",void 0),i.target=e,i.options=n,i.isVisible=!1,i.listeners=[];var r=new IntersectionObserver(function(e){var t=e[0].isIntersecting,n=i.isVisible;i.isVisible=t,i.listeners.forEach(function(e){e(t,n)})},i.options);return r.observe(i.target),i.addDestroyHook(function(){r.disconnect()}),i}return(0,x._)(t,e),(0,u._)(t,[{key:"onVisibilityChange",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"waitForChange",value:function(){var e=g();return this.onVisibilityChange(function(t){e.resolve(t)}),e.promise}}]),t}(Ze);function Ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=new Date(t),i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=n.getHours(),s=n.getMinutes(),A=n.getSeconds(),c=n.getMilliseconds(),u=-n.getTimezoneOffset()/60,l=Math.floor(u),d=Math.abs(60*(u-l));return new e.DateTime(i,r,o,a,s,A,c,l,d)}function Ys(e,t){if(!t||"string"!=typeof t)return null;var n=t.match(/^D\:(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(([+-]\d\d)('\d\d')?)?$/);if(!n)return null;var i=(0,Zt._)(n,10),r=i[1],o=i[2],a=i[3],s=i[4],A=i[5],c=i[6],u=(i[7],i[8]),l=i[9],d=0;l&&l.length>2&&(d=Number(l.replace(/['"]/g,"")),isNaN(d)&&(d=0));var h=Number(u);return isNaN(h)&&(h=(new Date).getTimezoneOffset()/-60),new e.DateTime(Number(r),Number(o),Number(a),Number(s),Number(A),Number(c),0,h,d)}function Gs(e){if(e.IsValid()){var t=new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds),n=e.utc_hour_offset,i=e.utc_minute_offset/60;n<0&&(i=-i);var r=-t.getTimezoneOffset()/60;return Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())+60*(r-n-i)*60*1e3}}function $s(e,t){try{return t.toString()}catch(i){t.GetBuffer||(t=t.UTF8Encode());var n=t.GetBuffer();return function(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}(Array.from({length:t.GetLength()},function(t,i){var r=e.HEAP8[n+i]>>>0&255;return String.fromCharCode(r)}).join(""))}}var Js=function(){function e(t){var n=this,i=t.gsdk,r=t.mimeType,o=void 0===r?"application/octet-stream":r,a=t.wrapper,s=void 0===a?i.WriterCallback:a;(0,c._)(this,e),(0,f._)(this,"implement",void 0),(0,f._)(this,"raBlob",void 0),this.raBlob=new Ki(o);var A=0;this.implement=s.implement({Release:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("release",t)},Flush:function(){return!0},GetSize:function(){return A},WriteBlock:function(e,t,r){A+=r;var o,a=i.HEAPU8.buffer;return o=a.slice?a.slice(e,e+r):new Uint8Array(a,e,r).buffer,n.raBlob.set(t,o),!0}})}return(0,u._)(e,[{key:"size",get:function(){return this.raBlob.size}},{key:"getFile",value:function(){return this.raBlob.extract()}}]),e}();function qs(e){if(isNaN(e)||!isFinite(e))return e+"";var t=e+"",n=t.charAt(0);if(!/\d+\.?\d*e[\+\-]*\d+/i.test(t))return t;return"-"!==n&&"+"!==n||(t=t.substring(1)),function(e){var t=e.charAt(0),n=/\d+\.?\d*e[\+\-]*\d+/i.test(e);if(!n)return e;var i="-"===t;"-"!==t&&"+"!==t||(e=e.substring(1));var r=(0,Zt._)(e.toLowerCase().split("e"),2),o=r[0],a=r[1],s=(0,Zt._)(o.split("."),2),A=s[0],c=s[1];c=c||"";var u,l=A.length+c.length,d=A+c,h=A.length+Number(a),f=h===l?"":".";u=h<=0?"0".concat(f).concat("0".repeat(Math.abs(h))).concat(d):h>l?"".concat(d).concat("0".repeat(Math.abs(h-l))):"".concat(d.substring(0,h)).concat(f).concat(d.substring(h));return i?"-"+u:u}(e+"")}var Ks=new(function(){function e(){var t=this;(0,c._)(this,e),(0,f._)(this,"mouseUpDefer",new p),(0,f._)(this,"pointX",0),(0,f._)(this,"pointY",0),document.addEventListener("pointerdown",function(){t.mouseUpDefer.isSettled&&(t.mouseUpDefer=new p)},!0),document.addEventListener("pointermove",function(e){t.pointX=e.clientX,t.pointY=e.clientY},!0),document.addEventListener("pointerup",function(e){t.mouseUpDefer.resolve(),t.pointX=e.clientX,t.pointY=e.clientY},!0),document.addEventListener("mouseup",function(e){t.mouseUpDefer.resolve(),t.pointX=e.clientX,t.pointY=e.clientY},!0),window.addEventListener("blur",function(){t.mouseUpDefer.resolve()})}return(0,u._)(e,[{key:"afterMouseUp",value:function(){return this.mouseUpDefer.promise}},{key:"getPoint",value:function(){var e=this;return{get x(){return e.pointX},get y(){return e.pointY}}}}]),e}());function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,n){var i=e.accept,r=void 0===i?"":i,o=e.multiple,a=void 0!==o&&o,s=e.className,A=void 0===s?"hidden-file-input":s,c=e.timeoutMs,u=void 0===c?3e5:c,d=!1,h=null,f=null;if((h=document.createElement("input")).type="file",h.className=A,h.style.position="fixed",h.style.top="-100px",h.style.left="-100px",h.style.opacity="0",h.style.pointerEvents="none",r.length>0){var p=r;if(Yo||Bo||Vo){var g=r.split(/[;,]/).filter(function(e){return"*.*"!==e}).map(function(e){return e.replace(/^\*?\.(.+)/,function(e,t){return tt(t,"."+t)})});p=g.join(";")}else{var v=r.split(/[;,]/).filter(function(e){return"*.*"!==e});p=v.join(",")}h.accept=p}a&&(h.multiple=!0);var m=function(e){d||(d=!0,_(),t(e))},y=function(e){d||(d=!0,_(),n(e))},_=function(){f&&(window.clearTimeout(f),f=null),h&&(h.removeEventListener("change",b),h.removeEventListener("focus",k),h.removeEventListener("blur",x),h.removeEventListener("cancel",C),h.parentNode&&h.parentNode.removeChild(h),h=null),window.removeEventListener("focus",P)};f=window.setTimeout(function(){y(new Error("File selection timed out"))},u);var b=function(e){var t=e.target;if(t&&t.files&&t.files.length>0){var n=t.files[0];m(n)}else m(null)},w=!1,k=function(){w=!0},x=function(){setTimeout(function(){var e;w&&!d&&h&&!(null===(e=h.files)||void 0===e?void 0:e.length)&&m(null)},300)},P=function(){setTimeout(function(){var e;d||!h||(null===(e=h.files)||void 0===e?void 0:e.length)||w&&m(null)},300)},C=function(){m(null)};h.addEventListener("change",b),h.addEventListener("focus",k),h.addEventListener("blur",x),h.addEventListener("cancel",C),window.addEventListener("focus",P),document.body.appendChild(h),queueMicrotask(function(){if(h&&!d)try{h.click()}catch(e){y(new Error("Failed to open file picker: ".concat((0,l._)(e,Error)?e.message:String(e))))}})})}var Xs,Qs,eA=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1048576,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Headers;(0,c._)(this,e),(0,f._)(this,"cacheName",void 0),(0,f._)(this,"url",void 0),(0,f._)(this,"totalSize",void 0),(0,f._)(this,"chunkSize",void 0),(0,f._)(this,"headers",void 0),(0,f._)(this,"started",void 0),(0,f._)(this,"offset",void 0),this.cacheName=t,this.url=n,this.totalSize=i,this.chunkSize=r,this.headers=o,this.started=!1,this.offset=0}return(0,u._)(e,[{key:"start",value:function(){return(0,gn._)(function(){var e,t,n,i,r,o,a,s,A,c,u;return(0,yn.Jh)(this,function(d){switch(d.label){case 0:if(this.started)return[2];if(this.started=!0,0===this.totalSize)return[2];d.label=1;case 1:d.trys.push([1,11,12,13]),this.dispatchPrecacheEvent({action:"start"}),e=this.getChunkRanges(this.offset,this.totalSize-1),t=!0,n=!1,i=void 0,d.label=2;case 2:d.trys.push([2,8,9,10]),r=e[Symbol.iterator](),d.label=3;case 3:return(t=(o=r.next()).done)?[3,7]:(a=o.value,s=a[0],A=a[1],[4,this.fetchChunk(s,A)]);case 4:return d.sent(),this.dispatchPrecacheEvent({action:"progress",loadedSize:A+1,progress:(A+1)/this.totalSize}),this.offset=a[1],[4,new Promise(function(e){return setTimeout(e,10)})];case 5:d.sent(),d.label=6;case 6:return t=!0,[3,3];case 7:return[3,10];case 8:return c=d.sent(),n=!0,i=c,[3,10];case 9:try{t||null==r.return||r.return()}finally{if(n)throw i}return[7];case 10:return[3,13];case 11:throw u=d.sent(),this.dispatchPrecacheEvent({action:"error",error:(0,l._)(u,Error)?{name:u.name,message:u.message,stack:u.stack}:""}),u;case 12:return this.dispatchPrecacheEvent({action:"end"}),this.started=!1,[7];case 13:return[2]}})}).call(this)}},{key:"getChunkRanges",value:function(e,t){var n=this,i=Math.floor(e/this.chunkSize)*this.chunkSize,r=Math.ceil((t+1)/this.chunkSize)*this.chunkSize;return Array.from({length:(r-i)/this.chunkSize},function(e,t){var o=i+t*n.chunkSize;return[o,Math.min(r,o+n.chunkSize,n.totalSize)-1]})}},{key:"fetchChunk",value:function(e,t){return(0,gn._)(function(){var n,i,r,o,a,s,A;return(0,yn.Jh)(this,function(c){switch(c.label){case 0:return n=this.generateCacheKey(e,t),[4,this.openCache()];case 1:return[4,c.sent().match(n)];case 2:return(i=c.sent())?[2,i.clone()]:(r="bytes=".concat(e,"-").concat(t),(o=new Headers(this.headers)).set("range",r),[4,fetch(this.url,{headers:o})]);case 3:return[4,(a=c.sent()).blob()];case 4:return s=c.sent(),A=new Response(s,{headers:a.headers,status:200}),this.putCache(n,A),[2,new Response(s,{headers:a.headers,status:200})]}})}).call(this)}},{key:"openCache",value:function(){return caches.open(this.cacheName)}},{key:"putCache",value:function(e,t){return(0,gn._)(function(){var n;return(0,yn.Jh)(this,function(i){switch(i.label){case 0:return[4,this.openCache()];case 1:n=i.sent();try{n.put(e,t)}catch(e){}return[2]}})}).call(this)}},{key:"fetch",value:function(e,t,n){return(0,gn._)(function(){var i,r,o,a,s,A,c,u,l,d;return(0,yn.Jh)(this,function(h){switch(h.label){case 0:return i=this,0===this.totalSize?[2,fetch(this.url,{headers:e.headers,body:e.body})]:(r=this.getChunkRanges(t,n),o=r.map(function(e){var t=(0,Zt._)(e,2),n=t[0],r=t[1];return(0,gn._)(function(){var e;return(0,yn.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fetchChunk(n,r)];case 1:return e=t.sent(),[2,{start:n,end:r,response:e}]}})}).call(i)}),[4,Promise.all(o)]);case 1:return a=h.sent(),[4,Promise.all(a.map(function(e){return(0,gn._)(function(){var i;return(0,yn.Jh)(this,function(r){switch(r.label){case 0:return[4,e.response.blob()];case 1:return i=r.sent(),s=e.response.headers,[2,i.slice(Math.max(0,t-e.start),Math.min(i.size,n-e.start+1))]}})})()}))];case 2:return 0===(A=h.sent()).length?[2,fetch(this.url,{headers:e.headers,body:e.body})]:((c=new Headers(s)).get("Content-Type")&&c.set("Content-Type",null!==(u=c.get("Content-Type"))&&void 0!==u?u:"application/pdf"),l=c.get("Content-Range"),d=new Blob(A,{type:c.get("Content-Type")}),c.set("Content-Length",d.size+""),l&&c.set("Content-Range","bytes ".concat(t,"-").concat(n,"/").concat(this.totalSize)),[2,new Response(d,{headers:c,status:206})])}})}).call(this)}},{key:"stop",value:function(){return(0,gn._)(function(){return(0,yn.Jh)(this,function(e){return this.started=!1,[2]})}).call(this)}},{key:"drop",value:function(){return(0,gn._)(function(){var e,t,n;return(0,yn.Jh)(this,function(i){switch(i.label){case 0:return e=this,this.offset=0,[4,caches.open(this.cacheName)];case 1:return[4,(t=i.sent()).keys()];case 2:return n=i.sent(),[4,Promise.all(n.map(function(n){if(0===n.url.indexOf(e.url))return t.delete(n)}))];case 3:return i.sent(),[2]}})}).call(this)}},{key:"generateCacheKey",value:function(e,t){var n=new URL(this.url);return n.searchParams.set("__foxitwebsdk-precache-chunk__","".concat(e,":").concat(t)),n.toString()}},{key:"dispatchPrecacheEvent",value:function(e){return(0,gn._)(function(){var t;return(0,yn.Jh)(this,function(n){switch(n.label){case 0:return[4,globalThis.clients.matchAll()];case 1:return t=n.sent(),Object.assign(e,{totalSize:this.totalSize,originalURL:this.url}),t.forEach(function(t){t.postMessage({type:"precache-event",event:e})}),[2]}})}).call(this)}}]),e}(),tA=new(function(){function e(){(0,c._)(this,e),(0,f._)(this,"_pointerDown",!1),(0,f._)(this,"_pointerX",0),(0,f._)(this,"_pointerY",0),(0,f._)(this,"_moveEvent",void 0),this._bindEvent()}return(0,u._)(e,[{key:"pointerDown",get:function(){return this._pointerDown}},{key:"pointerX",get:function(){return this._pointerX}},{key:"pointerY",get:function(){return this._pointerY}},{key:"moveEvent",get:function(){return this._moveEvent}},{key:"_bindEvent",value:function(){var e=this;document.addEventListener("pointerdown",function(t){e._pointerDown=!0},{capture:!0}),document.addEventListener("pointermove",function(t){e._pointerX=t.clientX,e._pointerY=t.clientY,e._moveEvent=t},{capture:!0}),document.addEventListener("pointerup",function(t){e._pointerDown=!1},{capture:!0}),document.addEventListener("pointercancel",function(t){e._pointerDown=!1},{capture:!0})}}]),e}());function nA(e){for(var t=e,n=e;;){try{var i=n.location;if(i.hostname)return i.hostname;if(n===n.parent)return t.location.hostname}catch(e){return t.location.hostname}t=n,n=n.parent}}function iA(e){for(var t=e,n=e;;){try{var i=n.location;if(i.hostname)return i;if(n===n.parent)return t.location}catch(e){return t.location}t=n,n=n.parent}}var rA=null!==(Qs=null===(Xs=window.visualViewport)||void 0===Xs?void 0:Xs.height)&&void 0!==Qs?Qs:window.innerHeight;function oA(){var e,t,n=null!==(t=null===(e=window.visualViewport)||void 0===e?void 0:e.height)&&void 0!==t?t:window.innerHeight;return rA-n>100}window.addEventListener("orientationchange",function(){var e,t;rA=null!==(t=null===(e=window.visualViewport)||void 0===e?void 0:e.height)&&void 0!==t?t:window.innerHeight})},318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionTriggerEvents:()=>f.ActionTriggerEvents,ActionType:()=>f.ActionType,AppendablePDFBlob:()=>ce,DefAPFlags:()=>c,ESIGN_CN_API_CHANNEL_ID:()=>h,FILLER_CONTROLLER_CHANNEL_ID:()=>o,FORM_API_CHANNEL_ID:()=>u,FORM_FIELD_API_CHANNEL_ID:()=>i,FORM_FILLER_EDITOR_API_CHANNEL_ID:()=>s,FORM_SIGNATURE_API_CHANNEL_ID:()=>d,FORM_WIDGET_PROPERTY_API_CHANNEL_ID:()=>A,FieldActionTriggerEvents:()=>f.FieldActionTriggerEvents,FieldCalculateType:()=>V,FieldFlag:()=>k,FieldType:()=>p,FormDesignMode:()=>g,FormFieldPropertyName:()=>J,FormFillerPopupMenuItemId:()=>r,FormMouseEventButtonType:()=>Q,FormWidgetDirection:()=>N,FormWidgetRotation:()=>W,FormatCategory:()=>H,HighlightingMode:()=>O.HighlightingMode,ListboxSelectionChangeType:()=>X,MDPActionType:()=>q,MoveFocusDirectionEnum:()=>a,PagingSealPosition:()=>Z,SUBMIT_FORMAT_UNSUPPORTED_DESTINATION_ERROR:()=>l,SUBMIT_FORM_CALLBACK_API_CHANNEL_ID:()=>de,ScaleWayType:()=>L,SignatureType:()=>m,SpecialFormatEnum:()=>z,TextWidgetAlignment:()=>w,TimeFormatEnum:()=>U,ValidateTypeEnum:()=>$,WidgetActionTriggerEvents:()=>f.AnnotActionTriggerEvents,WidgetGestureState:()=>Y,WidgetIconCaptionRelation:()=>y,WidgetPropertyName:()=>b,extractDateFormatActionInfo:()=>ne,extractNumberFormatActionInfo:()=>ee,extractPercentageNumberFormatActionInfo:()=>te,extractSpecialFormatActionInfo:()=>re,extractTimeFormatActionInfo:()=>ie,fieldIsChoiceMultiSelect:()=>F,fieldIsComb:()=>I,fieldIsComboEdit:()=>R,fieldIsInUnison:()=>x,fieldIsMultiline:()=>E,fieldIsNoExport:()=>D,fieldIsNoScroll:()=>M,fieldIsNoSpellCheck:()=>T,fieldIsPassword:()=>S,fieldIsReadOnly:()=>P,fieldIsRequired:()=>C,getFieldValue:()=>oe,isFieldTypeMatchDesignMode:()=>v,isMatchKeyCombine:()=>le,isSameWidgetId:()=>j,isValidMDPActionType:()=>K,isValidWidgetGestureState:()=>G,isValidWidgetIconCaptionRelation:()=>_,transformToGSDKActionEvents:()=>f.transformToGSDKTriggerEvent,transformToGSDKActionType:()=>f.transformToGSDKActionType,widgetIdToString:()=>B});var i="form-field-api-channel-id",r=function(e){return e.NONE="none",e.CUT="cut",e.COPY="copy",e.PASTE="paste",e.DELETE="delete",e.SELECT_ALL="select-all",e}({}),o="filler-controller-channel-id",a=function(e){return e.NEXT="next",e.PREVIOUS="previous",e}({}),s="form-filler-editor-api-channel-id",A="form-filler-widget-property-api-channel-id",c=function(e){return e[e.FONT=1]="FONT",e[e.TEXT_COLOR=2]="TEXT_COLOR",e[e.TEXT_SIZE=4]="TEXT_SIZE",e}({}),u="pdf-form-api-channel-id",l="submit-format-unsupported-destination-error",d="form-signature-api-channel-id",h="esign-cn-api-channel-id",f=n(6929),p=function(e){return e[e.Unknown=0]="Unknown",e[e.PushButton=1]="PushButton",e[e.CheckBox=2]="CheckBox",e[e.RadioButton=3]="RadioButton",e[e.Text=6]="Text",e[e.ListBox=5]="ListBox",e[e.ComboBox=4]="ComboBox",e[e.Sign=7]="Sign",e[e.Barcode=8]="Barcode",e}({}),g=function(e){return e[e.NONE=0]="NONE",e[e.PUSH_BUTTON_AND_IMAGE=1]="PUSH_BUTTON_AND_IMAGE",e[e.CHECK_BOX=2]="CHECK_BOX",e[e.RADIO_BUTTON=3]="RADIO_BUTTON",e[e.COMBO_BOX=4]="COMBO_BOX",e[e.LIST_BOX=5]="LIST_BOX",e[e.TEXT_AND_DATE=6]="TEXT_AND_DATE",e[e.SIGNATURE=7]="SIGNATURE",e[e.ALL_WIDGET_TYPES=8]="ALL_WIDGET_TYPES",e}({});function v(e,t){if(void 0===e)return!1;switch(t){case 8:return!0;case 1:return e===p.PushButton;case 2:return e===p.CheckBox;case 3:return e===p.RadioButton;case 4:return e===p.ComboBox;case 5:return e===p.ListBox;case 6:return e===p.Text;case 7:return e===p.Sign;default:return!1}}var m=function(e){return e[e.Ordinary=0]="Ordinary",e[e.TimeStamp=3]="TimeStamp",e[e.PagingSeal=4]="PagingSeal",e}({}),y=function(e){return e[e.NO_ICON=0]="NO_ICON",e[e.NO_CAPTION=1]="NO_CAPTION",e[e.CAPTION_BELOW_ICON=2]="CAPTION_BELOW_ICON",e[e.CAPTION_ABOVE_ICON=3]="CAPTION_ABOVE_ICON",e[e.CAPTION_RIGHT=4]="CAPTION_RIGHT",e[e.CAPTION_LEFT=5]="CAPTION_LEFT",e[e.CAPTION_OVERLAY_ON_ICON=6]="CAPTION_OVERLAY_ON_ICON",e}({});function _(e){switch(e){case 0:case 1:case 3:case 2:case 5:case 6:case 4:return!0;default:return!1}}var b=function(e){return e.WIDGET_FLAG="widget_flag",e.WIDGET_RECT="widget_rect",e.FIELD_ALTERNATE_NAME="field_alternate_name",e.FIELD_NAME="field_name",e.FIELD_FLAG="field_flag",e.MK_ORIENTATION="mk_orientation",e.MK_BORDER_COLOR="mk_border_color",e.MK_FILL_COLOR="mk_fill_color",e.MK_DIRECTION_RTL="mk_direction_rtl",e.DA_FONT_COLOR="da_font_color",e.DA_FONT_NAME="da_font_name",e.DA_TEXT_SIZE="da_text_size",e}({}),w=function(e){return e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right",e}({}),k=function(e){return e[e.ReadOnly=1]="ReadOnly",e[e.Required=2]="Required",e[e.NoExport=4]="NoExport",e[e.Hidden=8]="Hidden",e[e.ButtonNoToggleToOff=16384]="ButtonNoToggleToOff",e[e.ButtonRadiosInUnison=33554432]="ButtonRadiosInUnison",e[e.TextMultiline=4096]="TextMultiline",e[e.TextPassword=8192]="TextPassword",e[e.TextDoNotSpellCheck=4194304]="TextDoNotSpellCheck",e[e.TextDoNotScroll=8388608]="TextDoNotScroll",e[e.TextComb=16777216]="TextComb",e[e.ComboEdit=262144]="ComboEdit",e[e.ChoiceMultiSelect=2097152]="ChoiceMultiSelect",e[e.CommitOnSelChange=67108864]="CommitOnSelChange",e}({}),x=function(e){return!!(33554432&e)},P=function(e){return!!(1&e)},C=function(e){return!!(2&e)},D=function(e){return!!(4&e)},E=function(e){return!!(4096&e)},S=function(e){return!!(8192&e)},I=function(e){return!!(16777216&e)},T=function(e){return!!(4194304&e)},M=function(e){return!!(8388608&e)},R=function(e){return!!(262144&e)},F=function(e){return!!(2097152&e)},N=function(e){return e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e}({}),L=function(e){return e[e.NONE=0]="NONE",e[e.ALWAYS=1]="ALWAYS",e[e.BIGGER=2]="BIGGER",e[e.SMALLER=3]="SMALLER",e[e.NEVER=4]="NEVER",e}({}),O=n(8278),j=O.isSameAnnotId,B=O.annotIdToString,V=function(e){return e[e.NOT_CALCULATED=0]="NOT_CALCULATED",e[e.CALCULATE_WITH_FIELDS=1]="CALCULATE_WITH_FIELDS",e[e.FIMPLIFIED_FIELD_NOTATION=2]="FIMPLIFIED_FIELD_NOTATION",e[e.CUSTOM_CALCULATE_SCRIPT=3]="CUSTOM_CALCULATE_SCRIPT",e}({}),H=function(e){return e.NONE="none",e.NUMBER="number",e.PERCENTAGE="percentage",e.DATE="date",e.TIME="time",e.SPECIAL="special",e.CUSTOM="custom",e}({}),U=function(e){return e[e.HH_MM=0]="HH_MM",e[e.h_MM_tt=1]="h_MM_tt",e[e.HH_MM_ss=2]="HH_MM_ss",e[e.h_MM_ss_tt=3]="h_MM_ss_tt",e}({}),z=function(e){return e[e.ZIP_CODE=0]="ZIP_CODE",e[e.ZIP_CODE_4=1]="ZIP_CODE_4",e[e.PHONE_NUMBER=2]="PHONE_NUMBER",e[e.SOCIAL_SECURITY_NUMBER=3]="SOCIAL_SECURITY_NUMBER",e}({}),W=function(e){return e[e.ROTATION_0=0]="ROTATION_0",e[e.ROTATION_90=1]="ROTATION_90",e[e.ROTATION_180=2]="ROTATION_180",e[e.ROTATION_270=3]="ROTATION_270",e[e.UNKNOWN=4]="UNKNOWN",e}({}),Y=function(e){return e.UP="up",e.DOWN="down",e.ROLLOVER="rollover",e}({});function G(e){switch(e){case"up":case"down":case"rollover":return!0;default:return!1}}var $=function(e){return e.NONE="none",e.RANGE="range",e.CUSTOM="custom",e}({}),J=function(e){return e.NAME="fieldName",e.VALUE="fieldValue",e.ALTERNATE_NAME="fieldAlternateName",e.FLAGS="fieldFlags",e.MAPPING_NAME="fieldMappingName",e.ALIGNMENT="fieldAlignment",e.MAX_LENGTH="maxLength",e.DEFAULT_VALUE="defaultValue",e.CHOICE_OPTION_ITEMS="choiceOptionItems",e.SELECT_OPTION_ITEM="selectOptionItem",e.CHECKED_BY_DEFAULT="checkedByDefault",e.ACTION="form-field-action",e.CALCULATE_ACTION="calculate_action",e.FORMAT_ACTION="format_action",e.VALIDATE_ACTION="validate_action",e.SIGNATURE_MDP_ACTION="signature_MDP_Action",e.SELECTION_CHANGE_ACTION="selection-change-action",e}({}),q=function(e){return e.NONE="none",e.ALL="all",e.INCLUDE="include",e.EXCLUDE="exclude",e.CUSTOM="custom",e}({});function K(e){switch(e){case"none":case"all":case"include":case"exclude":case"custom":return!0;default:return!1}}var Z=function(e){return e.left="left",e.right="right",e.top="top",e.bottom="bottom",e}({}),X=function(e){return e.NONE="none",e.CUSTOM="custom",e}({}),Q=function(e){return e[e.LEFT_BUTTON=0]="LEFT_BUTTON",e[e.MIDDLE_BUTTON=1]="MIDDLE_BUTTON",e[e.RIGHT_BUTTON=2]="RIGHT_BUTTON",e}({});function ee(e){var t=new Function("AFNumber_Format","AFNumber_Keystroke","return ".concat(e,";"));try{var n=function(e,t,n,i,r,o){return{category:H.NUMBER,decimalPlaces:e,separatorStyle:t,currencySymbol:r,isPrepend:o,useRedText:!!(1&n),showParentheses:!!(2&n)}};return t(n,n)}catch(e){return}}function te(e){var t=new Function("AFPercent_Format","AFPercent_Keystroke","return ".concat(e,";"));try{var n=function(e,t){return{category:H.PERCENTAGE,decimalPlaces:e,separatorStyle:t}};return t(n,n)}catch(e){return}}function ne(e){var t=new Function("AFDate_FormatEx","AFDate_Format","AFDate_KeystrokeEx","AFDate_Keystroke","return ".concat(e,";")),n=function(e){return["m/d","m/d/yy","m/d/yyyy","mm/dd/yy","mm/dd/yyyy","mm/yy","mm/yyyy","d-mmm","d-mmm-yy","d-mmm-yyyy","dd-mmm-yy","dd-mmm-yyyy","yy-mm-dd","yyyy-mm-dd","mmm-yy","mmm-yyyy","mmmm-yy","mmmm-yyyy","mmm d, yyyy","mmmm d, yyyy","m/d/yy h:MM tt","m/d/yyyy h:MM tt","m/d/yy HH:MM","m/d/yyyy HH:MM"][e]},i=function(e){return e};try{var r=t(i,n,i,n);return{category:H.DATE,format:r}}catch(e){return}}function ie(e){var t=new Function("AFTime_FormatEx","AFTime_Format","AFTime_Keystroke","return ".concat(e,";")),n=function(e){return"number"==typeof e?["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][e]:e};try{var i=t(n,n,n);return{category:H.TIME,format:i}}catch(e){return}}function re(e){var t=new Function("AFSpecial_KeystrokeEx","AFSpecial_Format","AFSpecial_Keystroke","return ".concat(e,";"));try{var n=function(e){return e},i=t(n,n,n);return{category:H.SPECIAL,content:i}}catch(e){return}}function oe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.GetType().value;if(t&&(n===p.RadioButton||n===p.CheckBox)){for(var i="Off",r=e.GetControlCount(),o=0;o<r;o++){var a=e.GetControl(o);if(a.IsChecked()){i=a.GetExportValue().toString();break}}return i}return e.GetValue().toString()}var ae=n(9227),se=n(7424),Ae=n(5991),ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/octet-stream";(0,ae._)(this,e),(0,Ae._)(this,"mimeType",void 0),(0,Ae._)(this,"blob",void 0),this.mimeType=t,this.blob=new Blob([],{type:this.mimeType})}return(0,se._)(e,[{key:"appendBlob",value:function(e){this.blob=new Blob([this.blob,e],{type:this.blob.type})}},{key:"appendArray",value:function(e){this.appendBlob(new Blob([Uint8Array.from(e)]))}},{key:"appendBuffer",value:function(e){this.appendBlob(new Blob([e]))}},{key:"appendString",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t!==e.length){for(i.push(254),i.push(255),t=0;t<e.length;t++){var r=e.charCodeAt(t)>>8;!n||40!=r&&41!=r||i.push(92),i.push(r),r=255&e.charCodeAt(t),!n||40!=r&&41!=r||i.push(92),i.push(255&e.charCodeAt(t))}this.appendArray(i)}else{for(t=0;t<e.length;t++){var o=e.charCodeAt(t);!n||40!=o&&41!=o||i.push(92),i.push(o)}this.appendArray(i)}}},{key:"extract",value:function(){return this.blob}}]),e}(),ue=["ctrl","shift","alt","meta","command","leftButtonDown","rightButtonDown","middeButtonDown"];function le(e,t,n){var i=t.charCodeAt(0);if(0===e.length)return i===n.keyCode;var r=ue.filter(function(t){return-1===e.indexOf(t)});return e.every(function(e){return n.flags[e]})&&r.every(function(e){return!n.flags[e]})&&i===n.keyCode}var de="submit-form-callback-api-channel"},3292:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var i=function(e){return e[e.AVAILABLE=2]="AVAILABLE",e[e.VISIBILITY=4]="VISIBILITY",e[e.ACTIVATION=8]="ACTIVATION",e}({})},9378:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var i=n(4691),r=n(9227),o=n(7424),a=n(5991),s=n(5467),A=n(5843),c=n(651),u=n(1727),l=function(e){function t(e){var n;return(0,r._)(this,t),n=(0,i._)(this,t),(0,a._)(n,"pipeExprs",void 0),(0,a._)(n,"pipeFunctions",void 0),n.pipeExprs=e,n.pipeFunctions=[],n.init(),n}return(0,s._)(t,e),(0,o._)(t,[{key:"init",value:function(){this.pipeFunctions=this.pipeExprs.map(function(e){var t=(0,c.getUniqueId)("pipe_function");-1===e.indexOf("(")&&(e+="()");var n,i=e.indexOf("("),r=e.lastIndexOf(")"),o=e.slice(0,i),s="",A=o.indexOf(":");A>-1?(n=o.slice(A+1),s=o.slice(0,A)):n=o;var l=e.slice(i+1,r).trim(),d=t+".call($controller".concat(l.length>0?","+l:"",")");return function(i,r){var o=u.a._nostrictModule(s);if(!o)return i;var A=o.getPipe(n),c=!0;if(A||""!=s){if(!A)return i}else try{if("function"!=typeof r.eval(n))return i;c=!1}catch(e){return i}var h=c?r.eval(d,(0,a._)({},t,A)):r.eval("".concat(n,"(").concat(l,")"));if("function"!=typeof h)throw new Error("".concat(e," must returning a pipe function, but actual: ").concat(h));return h.call(r,i)}})}},{key:"transform",value:function(e,t){return this.pipeFunctions.reduce(function(e,n){return(0,A._)(e,Promise)?e.then(function(e){return n(e,t)}):n(e,t)},e)}}]),t}(c.Disposable)},8902:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var i=function(e){return e.SINGLETON="SINGLETON",e.SHARED_SINGLETON="SHARED-SINGLETON",e.MULTI_CASE="MULTI-CASE",e.COMPONENT_TREE="COMPONENT-TREE",e.COMPONENT_CHILDREN="COMPONENT-CHILDREN",e}({})},240:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,w:()=>r});var i=function(e){return e.text="text",e.placeholder="placeholder",e}({});function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@{",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"}";if(!e||e.length<=t.length+n.length)return[{type:"text",content:e||""}];for(var i=[],r=0;;){var o=e.indexOf(t,r);if(-1===o){i.push({type:"text",content:e.slice(r)});break}var a=e.indexOf(t,o+t.length),s=void 0;if(-1===(s=a>-1?e.lastIndexOf(n,a):e.lastIndexOf(n))){i.push({type:"text",content:e.slice(r)});break}i.push({type:"text",content:e.slice(r,o)}),i.push({type:"placeholder",content:e.substring(o+t.length,s)}),r=s+n.length}return i}},7147:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var i=n(5578),r=n(9227),o=n(7424),a=n(449),s=n(7582),A=n(8278),c=n(651),u=n(9475),l=n(318),d=function(){function e(){(0,r._)(this,e)}return(0,o._)(e,[{key:"fxjseActionCallback",get:function(){return this.engine.fxjseActionCallback||{}}},{key:"init",value:function(e){this.engine=e}},{key:"getDocById",value:function(e){return this.engine.pdfDocCacheMap.get(e)}},{key:"annotAdded",value:function(e,t){return(0,i._)(function(){var n,i;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return(n=this.getDocById(e))&&(i=n.getLoadedPageByIndex(t.pageIndex))?[4,i.getUnloadedAnnots()]:[2];case 1:return r.sent(),[2]}})}).call(this)}},{key:"annotRemoved",value:function(e,t){return(0,i._)(function(){var n,i,r,o;return(0,s.Jh)(this,function(s){return(n=this.getDocById(e))&&(i=n.getLoadedPageByIndex(t.pageIndex))?(r=(0,a._)(i.getAnnotsSync([t.objNumber]),1),(o=r[0])&&o.getType()===A.AnnotType.highlight&&this.invalidateRect(t.pageIndex,o.getRect(),!0),i.cleanupRemovedAnnots([t.objNumber]),[2]):[2]})}).call(this)}},{key:"scroll",value:function(e){return(0,i._)(function(){return(0,s.Jh)(this,function(t){return this.fxjseActionCallback.scroll&&this.fxjseActionCallback.scroll(e),[2]})}).call(this)}},{key:"submitForm",value:function(e,t,n){return(0,i._)(function(){return(0,s.Jh)(this,function(i){return this.getDocById(e)?(this.fxjseActionCallback.submitForm&&this.fxjseActionCallback.submitForm(e,t,n),[2]):[2]})}).call(this)}},{key:"gotoPage",value:function(e,t){return(0,i._)(function(){return(0,s.Jh)(this,function(n){return this.getDocById(e)?(this.fxjseActionCallback.gotoPage&&this.fxjseActionCallback.gotoPage(e,t),[2]):[2]})}).call(this)}},{key:"setDocChangeMark",value:function(e,t){return(0,i._)(function(){var n;return(0,s.Jh)(this,function(i){return(n=this.getDocById(e))?(t?n.docChangeMark++:n.docChangeMark=n.docChangeMark>0?n.docChangeMark-1:0,this.engine.eventEmitter.emit(u.Z.docModified,n),[2]):[2]})}).call(this)}},{key:"getDocChangeMark",value:function(e){return(0,i._)(function(){var t;return(0,s.Jh)(this,function(n){return(t=this.getDocById(e))?[2,t.docChangeMark>0||t.docModified]:[2,!1]})}).call(this)}},{key:"clearDocChangeMark",value:function(e){return(0,i._)(function(){var t;return(0,s.Jh)(this,function(n){return(t=this.getDocById(e))?(t.docChangeMark=0,t.docModified=!1,[2]):[2]})}).call(this)}},{key:"pagesRemoved",value:function(e,t,n){return(0,i._)(function(){var i;return(0,s.Jh)(this,function(r){return(i=this.getDocById(e))?(i.cleanupRemovedPages(t,n),[2]):[2]})}).call(this)}},{key:"pageInserted",value:function(e,t,n){return(0,i._)(function(){var i;return(0,s.Jh)(this,function(r){return(i=this.getDocById(e))?(i.loadInsertPage(t,n),[2]):[2]})}).call(this)}},{key:"verifySignature",value:function(e,t,n){return(0,i._)(function(){var i,r,o;return(0,s.Jh)(this,function(a){switch(a.label){case 0:return(i=this.getDocById(e))?[4,i.query({type:"annot",annotId:t})]:[2,-1];case 1:return(r=a.sent())?(null==(o=r.getField())?void 0:o.getType())!==l.FieldType.Sign?[2,-1]:[4,o.verify({force:!1,verificationData:n})]:[2,-1];case 2:return[2,a.sent()]}})}).call(this)}},{key:"beep",value:function(e){return(0,i._)(function(){return(0,s.Jh)(this,function(e){return[2,!0]})})()}},{key:"popupMenu",value:function(e){return(0,i._)(function(){return(0,s.Jh)(this,function(t){return this.fxjseActionCallback.popupMenu?[2,this.fxjseActionCallback.popupMenu(e)]:[2,void 0]})}).call(this)}},{key:"browseFile",value:function(e){return(0,i._)(function(){return(0,s.Jh)(this,function(t){return this.fxjseActionCallback.browseFile?[2,this.fxjseActionCallback.browseFile(e)]:[2,new Blob]})}).call(this)}},{key:"saveAs",value:function(e,t,n){return(0,i._)(function(){return(0,s.Jh)(this,function(i){return this.fxjseActionCallback.saveAs?[2,this.fxjseActionCallback.saveAs(e,t,n)]:[2]})}).call(this)}},{key:"documentWillCloseByJS",value:function(e,t,n,r,o){return(0,i._)(function(){return(0,s.Jh)(this,function(i){return this.fxjseActionCallback.documentWillCloseByJS&&this.fxjseActionCallback.documentWillCloseByJS(e,t,n,r,o),[2]})}).call(this)}},{key:"invalidateRect",value:function(e,t,n){return(0,i._)(function(){return(0,s.Jh)(this,function(i){return this.fxjseActionCallback.invalidateRect&&this.fxjseActionCallback.invalidateRect(e,t,n),[2]})}).call(this)}}],[{key:"inject",value:function(){return{syncGeneratorInvoker:c.SyncGeneratorInvoker}}}]),e}()},4929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(4919),A=function(e){function t(e,n){var o;return(0,r._)(this,t),(o=(0,i._)(this,t,[e])).callbackfn=n,o}return(0,a._)(t,e),(0,o._)(t,[{key:"handle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=this.callbackfn).call.apply(i,[this].concat((0,s._)(t)))}}],[{key:"getName",value:function(){return"CallbackController"}}]),t}(n(3667).Q)},8448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(3667),A=n(1727),c=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"prelink",value:function(){}},{key:"postlink",value:function(){}},{key:"mounted",value:function(){}},{key:"destroy",value:function(){}}],[{key:"getName",value:function(){return"NoopController"}}]),t}(s.Q);A.Z.root().registerController(c)},2320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(4691),r=n(9227),o=n(7424),a=n(6905),s=n(9418),A=n(5467),c=n(651),u=n(6557),l=c.LoggerFactory.getLogger("MultipleDirective"),d=function(e){function t(e,n){var o;return(0,r._)(this,t),(o=(0,i._)(this,t,[e])).directives=n,o.addDestroyHook(function(){o.forEachAndRun(function(e){return e.destroy()})}),o}return(0,A._)(t,e),(0,o._)(t,[{key:"processComponentOptions",value:function(e){this.forEachAndRun(function(t){return t.processComponentOptions(e)})}},{key:"init",value:function(e){(0,a._)((0,s._)(t.prototype),"init",this).call(this,e),this.forEachAndRun(function(t){t.init(e),e.element.classList&&e.element.classList.add("fv__ui-directive-".concat(t.directiveName))})}},{key:"emit",value:function(e,t,n){this.forEachAndRun(function(i){i.emit(e,t,n)})}},{key:"receiveEmit",value:function(e,t,n){var i=!0;this.directives.forEach(function(r){var o=0!=r.receiveEmit(e,t,n);i=i&&o}),i&&this.parentComponent&&this.parentComponent.directive.emit(t,n,e)}},{key:"receiveBroadcast",value:function(e,t){this.directives.forEach(function(n){n.receiveBroadcast(e,t)}),this.component.isContainer()&&this.component.children().forEach(function(n){n.directive.receiveBroadcast(e,t)})}},{key:"beforeComponentRender",value:function(){this.forEachAndRun(function(e){return e.beforeComponentRender()})}},{key:"afterComponentRender",value:function(){this.forEachAndRun(function(e){return e.afterComponentRender()})}},{key:"componentPrelink",value:function(){this.forEachAndRun(function(e){return e.componentPrelink()})}},{key:"componentPostlink",value:function(){this.forEachAndRun(function(e){return e.componentPostlink()})}},{key:"componentMounted",value:function(){this.forEachAndRun(function(e){return e.componentMounted()})}},{key:"componentDestroyed",value:function(){this.forEachAndRun(function(e){return e.componentDestroyed()}),this.destroy()}},{key:"getDirective",value:function(e){return this.getDirectives(e)[0]}},{key:"getDirectives",value:function(e){return this.directives.filter(function(t){return t.directiveName===e})}},{key:"forEachAndRun",value:function(e){this.directives.forEach(function(t){try{e(t)}catch(e){throw l.error("An error occurred in the directive(".concat(t.attrName,") on the template: `").concat(t.node.template,"`"),e),e}})}}],[{key:"getName",value:function(){return"<native-multiple>"}}]),t}(u.X)},2473:(e,t,n)=>{"use strict";n.d(t,{wA:()=>C,Ah:()=>D,Gn:()=>E});var i=n(5578),r=n(4691),o=n(9227),a=n(7424),s=n(6905),A=n(9418),c=n(5467),u=n(5843),l=n(4919),d=n(9256),h=n(7582),f=n(2778),p=n.n(f),g=n(651),v=n(2958),m=(n(6315),n(510)),y=n(1406),_=function(e){function t(e){var n;return(0,o._)(this,t),(n=(0,r._)(this,t,[{}])).component=e,n}return(0,c._)(t,e),(0,a._)(t,null,[{key:"getName",value:function(){return"<native-noop>"}}]),t}(n(6557).X),b=n(7469),w=(n(6871),n(8902)),k=n(3292),x=Date.now();function P(e){return"".concat(e,"-").concat((x++).toString(36))}var C=function(e){function t(e,i,a){var s;(0,o._)(this,t),(s=(0,r._)(this,t)).$keepStateValue=0,s.$options=e,s.context=e.context,s.lockType=E.none,s.parser=e.parser,s.module=i,s.localizer=a,s.viewConfig=e.viewConfig,s.cls=e.cls,s.nodeName=s.viewConfig.nodeName;var A=s.viewConfig.attrs;if(s.name=A.name||e.name||P("component_name"),s.id=A.id||P("component"),s.attrs=A,s.tempAttrs=A,s._data=null,s.node=e.viewConfig.vnode,s.parent=e.parentComponent,s.texts=[],s.isMounted=!1,s.constructor.getMetadataResolver().resolve(s),s.element=s.createDOMElement(),s.directive=new _(s),s.subject$=new(p()),s.$services=[],s.lifecycleStates=Object.keys(D).reduce(function(e,t){return e[t]=!1,e},{}),e.events)for(var c in e.events){var u=e.events[c];"function"==typeof u&&s.on(c,u)}s._disableReason={},s._localizeWatchers=[];var l=n(1702).Z;return s.setController(l.newControllerInstance(e,s)),e.controllerAlias&&(s.controller.data[e.controllerAlias]=s.controller),s.element.getComponent=function(){return s},s.addDestroyHook(function(){delete s.element.getComponent}),s.addDestroyHook(s.context.pool.addComponent(s)),s.callInit(),s}return(0,c._)(t,e),(0,a._)(t,[{key:"isLocked",get:function(){return this.lockType!==E.none}},{key:"callInit",value:function(){this.init()}},{key:"init",value:function(){}},{key:"setDirective",value:function(e){this.directive=e}},{key:"getDirectiveByName",value:function(e){return this.directive&&this.directive.getDirective(e)}},{key:"setController",value:function(e){this.controller&&this.controller.uninstall(),this.controller=e}},{key:"resetDataScope",value:function(){var e=this.parent?this.parent.controller:void 0;this.controller.setParentScope(e)&&this.lifecycleStates[D.mounted]&&this.controller.digest(!1)}},{key:"getRoot",value:function(){if(this.__root__){if(this.__root__.parent)return this.__root__=this.__root__.parent.getRoot()||this;if(!this.parent||this.__root__===this.parent.__root__)return this.__root__}return this.__root__=this.parent?this.parent.getRoot():this}},{key:"nextSiblings",value:function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e+1);return t&&t.isIgnorable()?t.nextSiblings():t}}},{key:"previousSiblings",value:function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e-1);return t&&t.isIgnorable()?t.previousSiblings():t}}},{key:"findNextMatching",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.nextSiblings(),i=this.index();;){if(!n){if(!t)return;if(n=this.parent.first())continue;return}if(e(n))return n;if(n.index()===i)return;n=n.nextSiblings()}}},{key:"findPreviousMatching",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.previousSiblings(),i=this.index();;){if(!n){if(!t)return;if(n=this.parent.last())continue;return}if(e(n))return n;if(n.index()===i)return;n=n.previousSiblings()}}},{key:"brothers",value:function(){return this.parent?this.parent.children():[this]}},{key:"createDOMElement",value:function(){return document.createElement("span")}},{key:"appendSlot",value:function(e,t){var n=this.getSlotContainer(e);if(!n)throw new Error("slot not exists: ".concat(e));t.children().forEach(function(e){n.appendChild(e.element)})}},{key:"getSlotContainer",value:function(e){return this.element.querySelector("[slot=".concat(JSON.stringify(e),"]"))||this.element.querySelector('[slot=""]')}},{key:"on",value:function(e,t){var n=this;return this.subject$&&this.subject$.on(e,t),function(){n.subject$&&n.subject$.off(e,t)}}},{key:"once",value:function(e,t){var n=this;return this.subject$&&this.subject$.once(e,t),function(){n.subject$&&n.subject$.off(e,t)}}},{key:"off",value:function(e,t){this.subject$&&this.subject$.off(e,t)}},{key:"trigger",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;this.subject$&&(r=this.subject$).emit.apply(r,[e].concat((0,l._)(n)))}},{key:"broadcast",value:function(e,t,n){}},{key:"receiveBroadcast",value:function(e,t,n){e===m.u7&&this.doLocalize(),this.texts.forEach(function(i){i.receiveBroadcast(e,t,n)})}},{key:"prerender",value:function(){if(this.attrs){for(var e in this.attrs)-1===e.indexOf("@")&&"class"!==e&&this.setAttribute(e,this.attrs[e]);var t;if(this.attrs.class)(t=this.element.classList).add.apply(t,(0,l._)(this.attrs.class.split(/\s+/).filter(function(e){return e})))}if("string"==typeof this.cls)this.element.classList.add(this.cls.split(" "));else if(Array.isArray(this.cls)){var n;(n=this.element.classList).add.apply(n,(0,l._)(this.cls))}this.setAttribute("component-name",this.name),this.setAttribute("component-type",this.nodeName),this.renderElementId()}},{key:"render",value:function(){this.acceptText()&&(this.textElement=this.renderText()),this.dispatchLifecycleChange(D.render),this.lifecycleStates[D.render]=!0}},{key:"renderElementId",value:function(){this.setAttribute("id",this.id)}},{key:"mounted",value:function(){this.isMounted||(this.dispatchLifecycleChange(D.mounted),this.isMounted=!0,this.element.dataset&&(this.element.dataset.webpdf_component=this.id),this.texts.forEach(function(e){return e.mounted()}),this.trigger(m.qo.MOUNTED),this.directive.componentMounted(),this.controller.mounted(),this.controller.$$is_ext_ctrl||this.controller.digest(!1))}},{key:"triggerHandler",value:function(){(0,g.unsupported)()}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.available;if(!this.isDestroyed){switch(this.lockType!=E.none&&this.lockType!=e&&this.unlock(),e){case E.visibility:this.hide();break;case E.available:this.disable();break;default:return}this.lockType=e,this.context.triggerStatusChange(this,"lock")}}},{key:"unlock",value:function(){if(this.isLocked&&!this.isDestroyed){var e=this.lockType;switch(this.lockType=E.none,e){case E.visibility:this.show();break;case E.available:this.enable();break;default:return}this.context.triggerStatusChange(this,"unlock")}}},{key:"disable",value:function(){return!this.canBeDisabled||this.disabled?this.disabled:this.isStateKept(k.s.AVAILABLE)?void 0:(this.disabled=!0,this.doDisable(),this.context.triggerStatusChange(this,m.qo.DISABLE),this.trigger(m.qo.DISABLE),this.disabled)}},{key:"enable",value:function(){return this._pluginEnableHook&&this._pluginEnableHook(),!this.disabled||(this.isStateKept(k.s.AVAILABLE)?void 0:this.lockType===E.available?(g.LoggerFactory.getLogger("".concat(this.nodeName,"#enable()")).info("Cannot enable this locked component!",this),!1):(this.disabled=!1,this.doEnable(),this.context.triggerStatusChange(this,m.qo.ENABLE),this.trigger(m.qo.ENABLE),!0))}},{key:"active",value:function(){if(!this.isDestroyed&&!this.disabled&&!this.isActive){if(this.isStateKept(k.s.ACTIVATION))return;this.isActive=!0,this.doActive(),this.context.triggerStatusChange(this,m.qo.ACTIVE),this.trigger(m.qo.ACTIVE)}}},{key:"deactive",value:function(){this.isActive&&!this.isDestroyed&&(this.isStateKept(k.s.ACTIVATION)||(this.isActive=!1,this.doDeactive(),this.context.triggerStatusChange(this,m.qo.DEACTIVE),this.trigger(m.qo.DEACTIVE)))}},{key:"show",value:function(e){this.isVisible||this.isDestroyed||this.isStateKept(k.s.VISIBILITY)||(this.lockType!==E.visibility?(this.isVisible=!0,this.doShown(e),this.context.triggerStatusChange(this,m.qo.SHOWN),this.trigger(m.qo.SHOWN,e)):g.LoggerFactory.getLogger("".concat(this.nodeName,"#show()")).warn("Cannot show this locked component!",this))}},{key:"hide",value:function(){this.isVisible&&!this.isDestroyed&&(this.isStateKept(k.s.VISIBILITY)||(this.isVisible=!1,this.doHidden(),this.context.triggerStatusChange(this,m.qo.HIDDEN),this.trigger(m.qo.HIDDEN)))}},{key:"keepState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.s.VISIBILITY;(0,g.appOnly)(),S(e),this.$keepStateValue|=e}},{key:"revokeKeepState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.s.VISIBILITY;(0,g.appOnly)(),S(e),this.$keepStateValue&=~e}},{key:"isStateKept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.s.VISIBILITY;return S(e),e===(this.$keepStateValue&e)}},{key:"cancel",value:function(){this.isVisible&&!this.isDestroyed&&(this.isVisible=!1,this.doHidden(),this.context.triggerStatusChange(this,m.qo.HIDDEN),this.trigger(m.qo.CANCEL))}},{key:"addDestroyHook",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r;return(r=(0,s._)((0,A._)(t.prototype),"addDestroyHook",this)).call.apply(r,[this].concat((0,l._)(n)))}},{key:"destroy",value:function(){this.isDestroyed||(this.dispatchLifecycleChange(D.destroyed),this.texts.forEach(function(e){return e.destroy()}),this.texts=[],(0,s._)((0,A._)(t.prototype),"destroy",this).call(this),this.doDestroy(),this.controller.destroy(),this.directive.componentDestroyed(),this.trigger(m.qo.DESTROYED),this.subject$.removeAllListeners(),this.$services.filter(function(e){var t=e.constructor,n=t.scope?t.scope():w.U.SINGLETON;return n===w.U.COMPONENT_TREE||n===w.U.MULTI_CASE}).forEach(function(e){e.destroy&&e.destroy()}),this.$services=null,this.$options=null,this.parser=null,this.module=null,this.localizer=null,this.viewConfig=null,this.attrs=null,this.tempAttrs=null,this.node=null,this.parent=null,this.element=null,this.directive=null,this.subject$=null,this.__root__=null,this.pdfUI=null,this._localizeWatchers.length=0)}},{key:"removeElement",value:function(){this.getRenderingElements().forEach(function(e){e.parentElement&&e.remove()})}},{key:"remove",value:function(){var e=this.parent;(this.parent=null,e)?e.removeChild(this):this.getRenderingElements().forEach(function(e){e.remove()})}},{key:"isIgnorable",value:function(){return!1}},{key:"isContainer",value:function(){return!1}},{key:"isNative",value:function(){return!1}},{key:"before",value:function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.index();this.parent.insert(e,n,t)}}},{key:"after",value:function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.parent.indexOf(this);this.parent.insert(e,n+1,t)}}},{key:"index",value:function(){if(this.parent&&this.parent.isContainer())return this.parent.indexOf(this)}},{key:"getComponentByName",value:function(e){if(this.name===e)return this}},{key:"getComponentByNameAsync",value:function(e){return Promise.resolve(this.name===e?this:void 0)}},{key:"findChildren",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e(this)?[this]:[]}},{key:"getClosestComponentByName",value:function(e){return this.findClosestComponent(function(t){return t.name===e})}},{key:"getClosestComponentByType",value:function(e){return this.findClosestComponent(function(t){return t.nodeName===e})}},{key:"getClosestComponentByClass",value:function(e){return this.findClosestComponent(function(t){return(0,u._)(t,e)})}},{key:"findClosestComponent",value:function(e){if("function"!=typeof e)throw new TypeError("callback must be a function, but actual: ".concat(void 0===e?"undefined":(0,d._)(e)));for(var t=this;t;){if(e(t))return t;t=t.parent}}},{key:"getAllComponentsByName",value:function(e){return this.name===e?[this]:[]}},{key:"getAllComponentsByNameAsync",value:function(e){return this.name===e?Promise.resolve([this]):Promise.resolve([])}},{key:"getAllComponentsByType",value:function(e){return this.constructor.getName()===e?[this]:[]}},{key:"querySelectorAll",value:function(e){var t=this,n=function(){return b.Z.parseSelectors(e).selectFrom([t])},i=n();if(0===i.length&&this.node){var r=this.node.querySelectorAll(e);if(r.length>0)return this.context.triggerObtainsComponentOf(r),n()}return i}},{key:"querySelector",value:function(e){return this.querySelectorAll(e)[0]}},{key:"doActive",value:function(){(0,g.addClass)(this.element,"active")}},{key:"doDeactive",value:function(){(0,g.removeClass)(this.element,"active")}},{key:"doDisable",value:function(){(0,g.addClass)(this.element,"disabled")}},{key:"doEnable",value:function(){(0,g.removeClass)(this.element,"disabled")}},{key:"doDestroy",value:function(){this.remove()}},{key:"doHidden",value:function(){this.addCSSClass("fv__ui-hide")}},{key:"doShown",value:function(){this.removeCSSClass("fv__ui-hide")}},{key:"getConfig",value:function(e){return"string"==typeof filed?this.$options:this.$options[e]}},{key:"addCSSClass",value:function(e){e&&(0,g.addClass)(this.element,e)}},{key:"removeCSSClass",value:function(e){e&&(0,g.removeClass)(this.element,e)}},{key:"attachEventToElement",value:function(e,t,n,i){var r=t.split(/[\s,;]+/).map(function(t){return e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}}),o=g.noop,a=function(){r.forEach(function(e){e()}),o()};return o=this.addDestroyHook(a),a}},{key:"setAttribute",value:function(e,t){this.element.setAttribute?this.element.setAttribute(e,t):this.element[e]=t}},{key:"getAttribute",value:function(e){return this.element.getAttribute?this.element.getAttribute(e):this.element[e]}},{key:"removeAttribute",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"getDomElement",value:function(){return this.element}},{key:"localize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer;return this.doLocalize(e)}},{key:"doLocalize",value:function(){return(0,i._)(function(){var e,t,n,i,r=arguments;return(0,h.Jh)(this,function(o){switch(o.label){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:this.localizer,t=this._localizeWatchers.map(function(e){return e.update()}),n=this.texts.map(function(e){return e.localize()}),this.element?(this.trigger("localize",e),i=e.localizeRecursive(this.element,{})):i=Promise.resolve(),[4,Promise.all(t.concat(n).concat(i))];case 1:return o.sent(),[2]}})}).apply(this,arguments)}},{key:"watchI18n",value:function(e,t){"string"==typeof e&&(e={key:e,force:!0,immediate:!0});var n=e.key,i=e.data,r=e.force,o=void 0===r||r,a=e.immediate,s=void 0===a||a,A=this._localizeWatchers;if(o&&A.length>0){var c=A.find(function(e){return e.key===n&&e.force});c&&c.destroy()}var u=this.localizer.watcher(n,i);return u.key=n,u.force=o,u.onChange(t),A.push(u),u.addDestroyHook(function(){var e=A.indexOf(u);e>-1&&A.splice(e,1)}),s&&u.update(),function(){u.destroy()}}},{key:"prelink",value:function(){this.dispatchLifecycleChange(D.prelink),this.controller.prelink()}},{key:"postlink",value:function(){this.dispatchLifecycleChange(D.postlink),this.update(),this.controller.postlink()}},{key:"update",value:function(){this.updateDisableStatus(),this.updateVisiblityStatus()}},{key:"updateActiveStatus",value:function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e?this.doDeactive():this.doActive()}},{key:"updateVisiblityStatus",value:function(){var e=this.isVisible,t=this.$options.visible;"function"==typeof t&&(e=t.call(this)),!1===e?this.doHidden():this.doShown()}},{key:"updateDisableStatus",value:function(){var e=this.disabled,t=this.$options.disabled;"function"==typeof t&&(e=t.call(this)),!1===e?this.doEnable():this.doDisable()}},{key:"acceptText",value:function(){return!1}},{key:"appendText",value:function(e){e.parent=this,this.texts.push(e)}},{key:"renderText",value:function(){}},{key:"removeText",value:function(e){var t=this.texts.indexOf(e);return t>-1&&(this.texts.splice(t,1),e.removeElement(),e.trigger(m.qo.REMOVED,this,e),!0)}},{key:"specialEscape",value:function(e){return"string"!=typeof e?e:e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})}},{key:"setText",value:function(e){if(this.acceptText()){this.texts.slice(0).forEach(function(e){e.destroy()}),e=this.specialEscape(e);var t=this.context.parser.createPlainTextNode(e);t.parent=this.node;var n=this.context.parser.parseTextNode(t);this.text=void 0,this.texts=[n],this.renderText()}}},{key:"getText",value:function(){return!this.text&this.texts.length>0?this.texts[0].textContent:this.text}},{key:"sync",value:function(e,t){if(0===e.indexOf("attr.")){var n=e.substring(5);return this.setAttribute(n,t),"data-i18n"===n&&this.localize(),!0}if(0===e.indexOf("prop."))return this[e.substring(5)]=t,!0;switch(e){case"disabled":this.syncDisableStatus(t);break;case"visible":this.syncVisibleStatus(t);break;case"canBeDisabled":this.syncCanBeDisabledStatus(t);break;case"active":this.syncActiveStatus(t);break;case"text":if(this.acceptText())return this.setText(t),!0;default:return!1}return!0}},{key:"syncDisableStatus",value:function(e){e?this.disable():this.enable()}},{key:"syncVisibleStatus",value:function(e){e?this.show():this.hide()}},{key:"syncCanBeDisabledStatus",value:function(e){!e&&this.disabled&&this.enable(),this.canBeDisabled=e}},{key:"syncActiveStatus",value:function(e){e?this.active():this.deactive()}},{key:"getTooltipAnchor",value:function(){return this.getDomElement()}},{key:"isLifecycleReached",value:function(e){return!!this.lifecycleStates[e]}},{key:"waitForComponentLifecycle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getRoot();return i===this?Promise.resolve([]):i.waitForComponentLifecycle(e,t,n)}},{key:"dispatchLifecycleChange",value:function(e){this.context.store.dispatch(this._getLifecycleDispatchKey(e),this),this.lifecycleStates[e]=!0}},{key:"_getLifecycleDispatchKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.name;return"".concat("comp-lcu","-").concat(t,"-").concat(e)}},{key:"isDOMVisible",value:function(){switch(this.element.nodeType){case Node.CDATA_SECTION_NODE:case Node.TEXT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:return this.parent&&this.parent.isDOMVisible();case Node.COMMENT_NODE:case Node.NOTATION_NODE:case Node.ATTRIBUTE_NODE:return!1;case Node.ELEMENT_NODE:return this.element.getClientRects().length>0;case Node.DOCUMENT_NODE:return!0}return!1}},{key:"isAncestorOf",value:function(e){return(0,u._)(e,t)&&e.isDescendantOf(this)}},{key:"isDescendantOf",value:function(e){if(!(0,u._)(e,t))return!1;for(var n=this.parent;n;){if(n===e)return!0;n=n.parent}return!1}},{key:"getComponentsPool",value:function(){return this.context.pool}},{key:"getRenderingElements",value:function(){return[this.element]}},{key:"setPluginData",value:function(e){this._pluginData=e}},{key:"getPluginData",value:function(){return this._pluginData}},{key:"setPluginEnableHook",value:function(e){this._pluginEnableHook=e}},{key:"digest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isMounted;if(this.controller)return this.controller.digest(e)}},{key:"watch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return this.controller?this.controller.watch(e,t,n,i):function(){}}},{key:"applyAll",value:function(){if(this.controller)return this.controller.applyAll()}},{key:"getServiceOf",value:function(e){var t;return this.$services.some(function(n){return!!(0,u._)(n,e)&&(t=n,!0)}),!t&&this.parent?this.parent.getServiceOf(e):t}},{key:"getClosestParentByName",value:function(e){if(!e)return null;for(var t=this.component;t=t.parent;)if(t.name===e)return t;return null}},{key:"focus",value:function(){this.element.focus()}},{key:"hasFocus",value:function(){return this.element&&this.element.contains(document.activeElement)}},{key:"is",value:function(e){if("string"!=typeof e)return!1;var t,n=e.split(":"),i="";if(1===n.length)t=n[0];else{if(2!==n.length)return!1;i=n[0],t=n[1]}return this.module.name===i&&this.nodeName===t}},{key:"lazyLoad",value:function(){return this}},{key:"useJQuery",value:function(e){return(0,g.useJQuery)(this,e)}}],[{key:"getName",value:function(){(0,g.notImplemented)()}},{key:"extend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.getName=function(){return e},(0,g.createClass)(t,this,n)}},{key:"preprocess",value:function(e){}},{key:"getMetadata",value:function(){return{deprecated:!1,options:{disabled:{type:"boolean",defaultValue:!1},visible:{type:"boolean",field:"isVisible",defaultValue:!0},canBeDisabled:{type:"boolean",defaultValue:!0},active:{type:"boolean",field:"isActive",defaultValue:!1},"alias-name":{type:"array",field:"aliasNames",defaltValue:[]}}}}},{key:"getMetadataResolver",value:function(){return this.$metadata||(this.$metadata=new y.z(this)),this.$metadata}},{key:"isFake",value:function(){return!1}},{key:"handleParseError",value:function(){}},{key:"services",value:function(){}}]),t}(v.Z),D={prelink:"prelink",postlink:"postlink",mounted:"mounted",destroyed:"destroyed",render:"render"},E={visibility:"visibility",available:"available",none:"none"};function S(e){switch(e){case k.s.AVAILABLE:case k.s.VISIBILITY:case k.s.ACTIVATION:break;default:throw new TypeError("Incorrect KeepStateKind: ".concat(e,", "))}}},1406:(e,t,n)=>{"use strict";n.d(t,{z:()=>P});var i=n(9227),r=n(7424),o=n(5843),a=n(4919),s={},A={},c=/[A-Z]/g;function u(e,t){return 0===t?e.toLowerCase():"-"+e.toLowerCase()}function l(e,t){if(t in e)return e[t];var n=t.toLowerCase();if(n in e)return e[n];var i=A[t];return i||(i=t.replace(c,u),A[t]=i),i in e?e[i]:s}function d(e,t,n){var i=n.field||t,r=e.$options;return i in r?r[i]:t in r?r[t]:l(e.attrs,t)}function h(e,t,n){var i=d(e,t,n),r=n.separator||",";if(Array.isArray(i)||"string"==typeof i&&(i=i.split(r)),Array.isArray(i)||(i=n.defaultValue),!Array.isArray(i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is an array and also required for <").concat(e.name,">!"));return i||[]}function f(e,t,n){var i=d(e,t,n);if(i===s)return void 0!==n.defaultValue&&n.defaultValue;if("string"==typeof i&&(i=0==(i=i.trim().toLowerCase()).length||(!0===n.defaultValue?"false"!==i:"true"===i)),"boolean"!=typeof i&&(i=n.defaultValue),"boolean"!=typeof i&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));return i}function p(e,t,n){var i=d(e,t,n);if((i===s||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if("string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase()),n.match){var r=n.match;if("string"==typeof n.match&&(r=new RegExp(r)),(0,o._)(r,RegExp)&&!r.test(i))throw new Error("Illegal component parameter(".concat(t,"): ").concat(i," doesn't match regex: ").concat(r))}return i}function g(e,t,n){var i=d(e,t,n);if((i===s||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));"string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase());var r=n.enums||[];if(-1==r.indexOf(i))throw new Error("'".concat(i,"' is not in list of valid values: [").concat(r.join(","),"]"));return i}function v(e,t,n){var i,r=n.min,o=n.max;isFinite(r)||(r=-1/0),isFinite(o)||(o=1/0),r=(i=[Math.min(r,o),Math.max(r,o)])[0],o=i[1];var a=Number(d(e,t,n));if("number"!=typeof a&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(("number"!=typeof a||isNaN(a))&&(a=n.defaultValue),a<r||a>o)throw new Error("Illegal component parameter(".concat(t,"): ").concat(a," is out of range [").concat(r,", ").concat(o,"]"));return a}function m(e,t,n){var i=Number(d(e,t,n));if("number"!=typeof i&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(("number"!=typeof i||isNaN(i))&&(i=n.defaultValue),void 0===i&&!n.required)return i;if(isNaN(i)||!isFinite(i))throw new Error("Illegal component parameter(".concat(t,"): ").concat(i," is not a valid number for <").concat(e.name,">"));return i}function y(e,t,n){var i=n.field||t;if(i in e.$options){var r=e.$options[i];if(!r&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if("function"!=typeof r)throw new Error("Illegal component parameter(".concat(t,"): ").concat(r," is not a function"));return r}var o=l(e.attrs,t);if(o==s&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(o!==s){var A=[];if("string"==typeof n.args)A.push(n.args);else if(Array.isArray(n.args)){var c;(c=A).push.apply(c,(0,a._)(n.args))}return function(){var t=arguments;return e.controller.eval(o,A.reduce(function(e,n,i){return e[n]=t[i],e},{$args:Array.prototype.slice.call(arguments,0)}))}}return n.defaultValue}function _(e,t,n){var i=d(e,t,n);if(void 0===i&&(i=n.defaultValue),(i===s||void 0===i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(i!==s)return i}function b(e,t,n){var i=d(e,t,{});return n.call(e,e,t,i===s?void 0:i)}var w=function(){function e(t){(0,i._)(this,e),this.resolvers=[],this.init(t)}return(0,r._)(e,[{key:"init",value:function(e){for(var t in e){var n=e[t],i=this.getResolver(n);this.resolvers.push({field:n.field||t,name:t,config:n,resolve:i})}}},{key:"getResolver",value:function(e){if("function"==typeof e)return b;switch(e.type){case"boolean":return f;case"string":return p;case"range":return v;case"number":return m;case"function":return y;case"enum":return g;case"array":return h;default:return _}}},{key:"resolve",value:function(e){this.resolvers.forEach(function(t){e[t.field]=t.resolve(e,t.name,t.config)})}}]),e}(),k=n(2473);function x(e){if(e===k.wA)return k.wA.getMetadata();var t=x(Object.getPrototypeOf(e.prototype).constructor),n=e.getMetadata();return{options:Object.assign({},t.options,n.options)}}var P=function(){function e(t){(0,i._)(this,e);var n=this._resolveMetadata(t);this.optionsResolver=new w(n.options)}return(0,r._)(e,[{key:"_resolveMetadata",value:function(e){return x(e)}},{key:"resolve",value:function(e){this.optionsResolver.resolve(e)}}]),e}()},3667:(e,t,n)=>{"use strict";n.d(t,{Q:()=>R});var i=n(5578),r=n(4691),o=n(9227),a=n(7424),s=n(6905),A=n(9418),c=n(5467),u=n(7582),l=n(651),d=n(1182),h="$$is_overrided",f={};function p(e){if(!v(e))for(var t in m(e,"$set",y),m(e,h,!0),f)m(e,t,f[t])}function g(e){void 0===e.$$modCount&&(m(e,"$$modCount",0),m(e,"$$currentMod",void 0)),e.$$modCount++}function v(e){return!!e[h]}function m(e,t,n){var i=n;Object.defineProperty(e,t,{get:function(){return i},set:function(e){i=e},enumerable:!1,configurable:!1})}function y(e,t){this[e]!==t&&(this.$$prev=this.slice(0),this[e]=t,g(this))}["push","splice","unshift","shift","pop","reverse","sort"].forEach(function(e){var t=Array.prototype[e];"function"==typeof t&&(f[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.$$prev=this.slice(0),g(this),t.apply(this,n)})});var _=n(5843),b=n(6663),w=n(9378),k=n(7173),x=["window","document","top","setTimeout","setInterval","Function","eval","self","globalThis","global"],P=["location","screen"],C=window.Function,D=function(){var e=function(e){l.LoggerFactory.getLogger("inline-expression").warn('Accessing insecure field is not allowed: "'.concat(e,'"!'))};if(window.Proxy){var t=x.reduce(function(e,t){return e[t]=!0,e},{});return new window.Proxy(window,{has:function(e,n){return t[n]},get:function(t,n){var i=t[n];return(0,_._)(i,Window)||(0,_._)(i,Document)||i===setTimeout||i===setInterval||i===Function||i===eval?(e(n),null):i}})}var n={};return x.forEach(function(t){Object.defineProperty(n,t,{get:function(){e(t)}})}),n}(),E=new C("return ({__proto__: null}) instanceof Object;")();function S(e,t){for(var n=[t],i=e,r=t;i;){var o=i.__proto__;if(o===Object.prototype||o===i||null==o)break;r+=".__proto__",n.push(r),i=o}return n.reduce(function(e,t){return"with(".concat(t,"){\n            ").concat(e,"\n        };")},"{block-place}")}var I,T=(I=0,function(e){return e+"_"+(I++).toString(16)});var M=l.LoggerFactory.getLogger("Controller"),R=function(e){function t(e){var n;return(0,o._)(this,t),(n=(0,r._)(this,t)).component=e,n.data=Object.assign({},e.$options.$initData||{}),n.methods={},n.$$sources={},n.$$code={},n.subControllers=[],n.addDestroyHook(function(){var e=n.$$sources;for(var t in e){e[t].destroy()}n.$$sources={},n.$$code={}}),l.Lazy.property(n,"root",function(){return e.getRoot()}),n.freeze(!1),n.$$watches=[],e.parent&&n.setParentScope(e.parent.controller),n.$$debounceTaskExecutor=new l.DebounceAsyncTaskExecutor(10),n}return(0,c._)(t,e),(0,a._)(t,[{key:"getComponentByName",value:function(e){return this.component.getRoot().getComponentByName(e)}},{key:"eval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=e.trim(),this.compileCode(e).call(this,t).transformed}},{key:"watch",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if("function"!=typeof t)throw new TypeError("Illigal argument: callback must be a function");var o=new Error,a=this.compileCode(e),s=void 0,A=void 0,c=-1,u=function(){if(!n.isFreezed()){var u=function(){try{return r?a.call(null,r):a()}catch(t){l.LoggerFactory.getLogger(n.constructor.getName()).error("execute expression error",e,t,o)}}();if(u){var d=u.transformed,h=s,f=A;if(s=d,i){var g=JSON.stringify(d);A=g,g!==f&&t(d,h)}else Array.isArray(d)?(p(d),d==h&&d.$$modCount===c||(c=d.$$modCount,t(d,d.$$prev||h))):d!==h&&t(d,h)}}};u.$expression=e,this.$$watches.push(u);var d=function(){var e=n.$$watches.indexOf(u);e>-1&&n.$$watches.splice(e,1)};return d.invoke=u,this.addDestroyHook(d),d}},{key:"watchImm",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=this.watch(e,t,n,i);return r.invoke(),r}},{key:"set",value:function(e,t,n){p(e),e.$set(t,n),this.digest()}},{key:"digest",value:function(){var e=this,t=function(){return(0,i._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return this.isFreezed()?[2]:[4,Promise.all(this.$$watches.map(function(e){return e()}))];case 1:return e.sent(),[4,Promise.all(this.subControllers.map(function(e){var t=e.deref();if(t)return t.digest()}))];case 2:return e.sent(),[2]}})}).call(e)};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.component||this.component.isMounted)?t():this.$$debounceTaskExecutor.exec(t)}},{key:"applyAll",value:function(){var e=this;this.digest(),this.component.isContainer()&&this.component.$container.each(function(t){t.controller!==e.component.controller&&t.controller.applyAll()})}},{key:"compileCode",value:function(e){try{return function(e,t){if(t[e])return t[e];var n,i=(0,b._)((0,k.a)(e)),r=i[0],o=i.slice(1),a=T("_self"),s=T("_sandbox"),A=T("_tempValue"),c="return (function(".concat(A,") {\n            ").concat(A," = ").concat(A," || {};\n            with(").concat(A,") {\n                with(").concat(a,".methods) {\n                    return (function(){\n                        'use strict';\n                        return {code};\n                    }).call(this)\n                }\n            }\n        }).bind(").concat(s,");").replace(/[\r\n]/g,"").replace("{code}",function(){return r});if(E){var u=T("_createDynamicWithBlock"),l=T("_Fn"),d=c.replace(/(?!\\)'/g,"\\'");n=new C(u,l,a,"\n                var ".concat(s," = ").concat(a,"._sandbox();\n                var dynamicCode = ").concat(u,"(").concat(s,", '").concat(s,"')\n                                    .replace('{block-place}', '").concat(d,"');\n                dynamicCode = 'with(").concat(s,".$secure) {' + dynamicCode + '}';\n                return new ").concat(l,"('").concat(s,"','").concat(a,"', dynamicCode).call(null, ").concat(s,", ").concat(a,")\n            ")).bind(null,S,C)}else n=new C(a,"\n                var ".concat(s," = ").concat(a,"._sandbox();\n                with(").concat(s,".$secure) {\n                    with(").concat(s,") {\n                        ").concat(c,"\n                    }\n                }\n            "));if(o.length>0){var h=new w.B(o);return t[e]=function(e){var t=n.call(this,e);return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;switch(i.length){case 0:o=t.call(this);break;case 1:o=t.call(this,i[0]);break;case 2:o=t.call(this,i[0],i[1]);break;case 3:o=t.call(this,i[0],i[1],i[2]);break;default:o=t.apply(this,i)}return{value:o,transformed:h.transform(o,e)}}}}return t[e]=function(e){var t=n.call(this,e);return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r;switch(n.length){case 0:r=t.call(this);break;case 1:r=t.call(this,n[0]);break;case 2:r=t.call(this,n[0],n[1]);break;case 3:r=t.call(this,n[0],n[1],n[2]);break;default:r=t.apply(this,n)}return{value:r,transformed:r}}}}(e,this.$$code).call(this,this)}catch(t){throw M.warn("compile code error",e),t}}},{key:"_sandbox",value:function(){var e=this;function t(){}t.prototype=this.data;var n=new t,i={};return P.forEach(function(e){i[e]={get:function(){return window[e]}}}),r("$secure",D),r("$controller",this),r("$this",this),r("$rootComponent",this.root),r("$root",this.root.controller.data),r("$component",this.component),r("$data",this.data),r("$pdfui",this.pdfUI),r("$$",function(t){return e.getComponentByName(t)}),Object.defineProperties(n,i),n;function r(e,t){i[e]={get:function(){return t}}}}},{key:"setTimeout",value:function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var i=setTimeout(function(){try{e()}finally{n.digest()}},t);return function(){return clearTimeout(i)}}},{key:"setInterval",value:function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var i=setInterval(function(){try{e()}finally{n.digest()}},t);return function(){return clearInterval(i)}}},{key:"getDataSource",value:function(e){e=e.trim();var t=this.$$sources[e];if(t)return t;var n=e.split("."),i="",r=n.slice(0,n.length-1).reduce(function(e,t){if(null==e)throw new Error("cannot access ".concat(t," from '").concat(e,"': ").concat(i," "));return i=i?"".concat(i,".").concat(t):t,e[t]},this.data),o=n[n.length-1];return this.$$sources[e]=new d.Z(r,o)}},{key:"setParentScope",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.$parent===e&&!t)return!1;if(this.$parent=e,e){if(e.addSubController(this),this.data.isPrototypeOf(e.data)||this.data===e.data)return!1;this.data=n(this.data,e.data),this.methods=n(this.methods,e.methods),this.data.$parent=e.data}else this.data=n(this.data,Object.prototype),this.methods=n(this.methods,Object.prototype),this.data.$parent=null;return!0;function n(e,t){return null==t&&(t=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(e,t),e):Object.create(t,Object.getOwnPropertyDescriptors(e))}}},{key:"addSubController",value:function(e){if(!this.isPrototypeOf(e)){var t=this.subControllers.findIndex(function(t){return t.deref()===e});t>-1?this.subControllers.splice(t,1):this.subControllers.push(new WeakRef(e))}}},{key:"prelink",value:function(){(0,l.noop)()}},{key:"postlink",value:function(){(0,l.noop)()}},{key:"mounted",value:function(){this.digest()}},{key:"destroy",value:function(){(0,s._)((0,A._)(t.prototype),"destroy",this).call(this),this.$$debounceTaskExecutor.cancel(),l.Lazy.release(this,"root")}},{key:"handle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,l.noop)(t)}},{key:"uninstall",value:function(){this.destroy()}},{key:"freeze",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.data.$$freezed=e}},{key:"isFreezed",value:function(){return this.data.$$freezed}},{key:"useJQuery",value:function(e){return(0,l.useJQuery)(this,e)}}],[{key:"extend",value:function(e,t){return(0,l.createClass)(e,this,t)}},{key:"getName",value:function(){(0,l.notImplemented)()}},{key:"isFake",value:function(){return!1}},{key:"permission",get:function(){return 4294967295}},{key:"services",value:function(){}}]),t}(l.Disposable)},6557:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(9256),A=n(651);var c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.module,a=n.localizer,c=n.node,u=n.parentComponent,l=n.attrValue,d=n.subName,h=n.attrName;return(0,r._)(this,t),(e=(0,i._)(this,t)).node=c,e.module=o,e.localizer=a,e.parentComponent=u,e.subName=d,e.modifiers=e._parseModifiers(c,d),e.attrValue=l,e.attrName=h,e.isParser=!1,e.order=1,e.directiveName=e.constructor.getName(),e.dynamics=new Proxy({},{get:function(t,n){if("symbol"===(void 0===n?"undefined":(0,s._)(n)))return A.noop;var i=e.constructor.getName()+"@"+function(e){return e.replace(/([^-])([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()})}(n);return c&&c.hasAttribute(i)?function(t){var n=c.getAttribute(i);return(e.constructor.isParser()?e.parentComponent:e.component).controller.eval(n,t)}:A.noop}}),e}return(0,a._)(t,e),(0,o._)(t,[{key:"_parseModifiers",value:function(e,t){return e&&e.modifiers?e.modifiers:t?t.split(".").reduce(function(e,t){return e[t]=!0,e},{}):{}}},{key:"findClosestDirective",value:function(e,t){var n=this.parentComponent;if("string"==typeof t)for(;n;){if(!!n.directive.findDirective(t))return;var i=n.directive.findDirective(e);if(i)return i;n=n.parent}else for(;n;){var r=n.directive.findDirective(e);if(r)return r;n=n.parent}}},{key:"processComponentOptions",value:function(e){}},{key:"parseComponent",value:function(){}},{key:"init",value:function(e){(this.component=e,this.controller=e.controller,this.directiveOption=e.$options[this.directiveName]||{},this.constructor.services())&&e.context.ioc.initInstance(this)}},{key:"emit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=this.component.parent;i&&i.directive.receiveEmit(n,e,t)}},{key:"receiveEmit",value:function(e,t,n){}},{key:"broadcast",value:function(e,t){this.component.isContainer()&&this.component.children().forEach(function(n){n.directive.receiveBroadcast(e,t)})}},{key:"receiveBroadcast",value:function(e,t){}},{key:"beforeComponentRender",value:function(){(0,A.noop)()}},{key:"afterComponentRender",value:function(){(0,A.noop)()}},{key:"componentPrelink",value:function(){(0,A.noop)()}},{key:"componentPostlink",value:function(){(0,A.noop)()}},{key:"componentMounted",value:function(){(0,A.noop)()}},{key:"componentDestroyed",value:function(){this.destroy()}},{key:"toString",value:function(){return"".concat(this.attrName,'="').concat(this.attrValue,'"')}}],[{key:"getName",value:function(){return(0,A.notImplemented)(this.name+".getName"),""}},{key:"services",value:function(){return{}}},{key:"isParser",value:function(){return!1}},{key:"isFake",value:function(){return!1}}]),t}(A.Disposable)},909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(2958),A=n(651),c=A.LoggerFactory.getLogger("pdf-ui.Layout"),u=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"insert",value:function(e,t,n){var i=t.children;n=Math.max(0,Math.min(n,i.length-1));var r=i.item(n);t.insertBefore(e,r)}},{key:"render",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e=e.slice(0);var r=t.children,o=r[n+i];o||(o=e.pop())&&t.appendChild(o);for(var a=n,s=a+i;a<s;a++){var A=r.item(a);if(A!==o){var u=e.indexOf(A);A&&-1==u&&t.removeChild(A)}}e.reduceRight(function(e,n){try{t.insertBefore(n,e)}catch(i){throw c.error(t,n,e),i}return n},o)}}],[{key:"getName",value:function(){(0,A.notImplemented)()}}]),t}(s.Z)},2958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(651),A=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"render",value:function(){(0,s.notImplemented)()}}]),t}(s.Disposable)},510:(e,t,n)=>{"use strict";n.d(t,{Fc:()=>r,KJ:()=>s,M4:()=>A,W4:()=>c,gC:()=>i,oB:()=>o,qo:()=>u,u7:()=>a});var i="horizontal",r="",o=":",a="localize",s="activation",A={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},c={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},u={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",CANCEL:"cancel",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"}},1182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(6905),A=n(9418),c=n(651),u=function(e){function t(e,n){var o;return(0,r._)(this,t),(o=(0,i._)(this,t,[e,n])).preValue=e[n],o}return(0,a._)(t,e),(0,o._)(t,[{key:"prepare",value:function(){var e=this.subject,t=this.part,n=Object.getOwnPropertyDescriptor(e,t);!n||n.configurable?this.inteceptGetterSetter(e,n):this.prepareTimmerWatcher(e)}},{key:"inteceptGetterSetter",value:function(e,t){var n=this.part,i=e[n],r=this,o=this.hasOwnKey=!!t,a={get:function(){return o?i:Object.getPrototypeOf(e)[n]},set:function(e){o=!0;var t=i;i=e,e!==t&&r.notify(e,t)},configurable:!0};Object.defineProperty(e,n,a),t?this.addDestroyHook(function(){Object.defineProperty(e,n,t)}):this.addDestroyHook(function(){delete e[n]})}},{key:"prepareTimmerWatcher",value:function(e){var t=this,n=e[key],i=setInterval(function(){var i=e[key];i!==n&&t.notify(key,i,n)},5);this.addDestroyHook(function(e){return clearInterval(i)})}}]),t}(function(e){function t(e,n){var o;return(0,r._)(this,t),(o=(0,i._)(this,t)).subject=e,o.part=n,o.destinations=[],o.preValue=void 0,o.prepare(),o}return(0,a._)(t,e),(0,o._)(t,[{key:"prepare",value:function(){(0,c.notImplemented)()}},{key:"destroy",value:function(){(0,s._)((0,A._)(t.prototype),"destroy",this).call(this),this.disconnectAll()}},{key:"notify",value:function(e,t){var n=this;this.isFreezed||(this.preValue=e,this.destinations.forEach(function(i){return i.receive(e,t,n)}))}},{key:"connect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.destinations.push(e),n&&e.receive(this.preValue,this.preValue,this),function(){var n=t.destinations.indexOf(e);n>-1&&(t.destinations.splice(n,1),e.lost(t))}}},{key:"freeze",value:function(){var e=this;return this.isFreezed=!0,function(){e.isFreezed=!1}}},{key:"disconnectAll",value:function(){var e=this;this.destinations.forEach(function(t){return t.lost(e)}),this.destinations=[]}}]),t}(c.Disposable))},7469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(4919),A=function(){function e(t){(0,r._)(this,e),this.options=t}return(0,o._)(e,[{key:"selectFrom",value:function(e,t){return[]}}]),e}(),c=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[null,null])).selectors=(0,s._)(e),n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return this.selectors.reduce(function(t,n){return n.selectFrom(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t},[])}}]),t}(A),u="[\\x20\\t\\r\\n\\f]",l="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",d="".concat(u,"*(").concat(l,")"),h="".concat(u,"*([*^$|!~]?=)").concat(u,"*"),f="".concat("'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"","|(").concat(l,")"),p="\\[".concat(d,"(?:").concat(h,"(?:").concat(f,")|)").concat(u,"*\\]"),g="::(".concat(l,")(?:\\(([^\\(\\)]*?|`[^`]*?`)\\))"),v=new RegExp("^".concat(u,"+")),m=new RegExp("^".concat(u,"*(\\>)").concat(u,"*")),y=new RegExp("^@((".concat(l,"):)?(").concat(l,")")),_=new RegExp("^".concat(l,"(:").concat(l,")?")),b=new RegExp("^".concat(p)),w=new RegExp("^".concat(g)),k=new RegExp("^".concat(u,"+|((?:^|[^\\\\])|(?:\\\\.)*)").concat(u,"+$"),"g"),x=new RegExp("^!root"),P=new RegExp("^:::(css)(?:\\(`([^`]*?)`\\))","i");var C,D=[function(e){if("*"===e[0])return{type:"all",token:"*",options:{},step:1}},function(e){var t=m.exec(e);if(t)return{type:"dchildren",token:t[0],step:t[0].length}},function(e){var t=v.exec(e);if(t)return{type:"whitespace",token:t[0],step:t[0].length}},function(e){var t=_.exec(e);if(t)return{type:"name",token:t[0],options:{name:t[0]},step:t[0].length}},function(e){var t=y.exec(e);if(t)return{type:"type",token:t[0],options:{type:t[3],module:t[2]},step:t[0].length}},function(e){var t=b.exec(e);if(t)return{type:"attribute",token:t[0],options:{key:t[1],compare:t[2],value:t[3]||t[4]||t[5]},step:t[0].length}},function(e){var t=P.exec(e);if(t)return{type:"css",token:t[0],options:{name:"css",parameter:t[2]},step:t[0].length}},function(e){var t=w.exec(e);if(t)return{type:"method",token:t[0],options:{name:t[1],parameter:t[2]},step:t[0].length}},function(e){var t=x.exec(e);if(t)return{type:"root",token:t[0],options:{},step:t[0].length}}],E=function(){function e(){(0,r._)(this,e)}return(0,o._)(e,[{key:"tokenize",value:function(e){for(var t=e.replace(k,"$1"),n=[];t.length>0;){var i=!1,r=!0,o=!1,a=void 0;try{for(var s,A=D[Symbol.iterator]();!(r=(s=A.next()).done);r=!0){var c=(0,s.value)(t);c&&(i=!0,t=t.substring(c.token.length),n.push(c))}}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}if(!i)throw new Error("'".concat(e,"' is not a valid selector: at ").concat(e.length-t.length))}return n}}]),e}(),S=n(5843),I=n(5923),T=n(2473),M=function(e){return!0},R=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return e.reduce(function(e,t){if((0,S._)(t,T.wA)){if((t=t.lazyLoad()).isContainer())return e.concat(t.findChildren(M,!1,!0))}else if((0,S._)(t,I.Z))return e.concat(t.findChildren(M,!1));return e},[]).reduce(function(e,t){return-1==e.indexOf(t)&&e.push(t),e},[])}}]),t}(A),F=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[e])).name=e.name,n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e,t){var n=this;return t?e.reduce(function(e,t){if((0,S._)(t,I.Z))return e.concat(t.findChildren(function(e){return e.attrs.name===n.name},!0));var i=t.getAllComponentsByName(n.name);return i?e.concat(i):e},[]):e.filter(function(e){return(0,S._)(e,I.Z)?e.attrs.name===n.name:e.name===n.name})}}]),t}(A),N=n(510),L=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[e])).type=e.type,n.moduleName=e.module||N.Fc,n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e,t){var n=this,i=function(e){return(e.module.name===n.moduleName||e.fragmentModule&&e.fragmentModule.name===n.moduleName)&&(e.nodeName===n.type||e.nestName===n.type||e.fragmentType===n.type)},r=function(e){var t,i;e.isLazyComponent?t=(i=e.originNode).nodeName:(i=e.node,t=e.constructor.getName());var r=i.namespace,o=i.fragmentType,a=i.fragmentModule;return"{native}"===t?e.element.nodeName.toLowerCase()===n.type:a&&a.name===n.moduleName&&o===n.type||r===n.moduleName&&t===n.type};return t?e.reduce(function(e,t){return(0,S._)(t,I.Z)?e.concat(t.findChildren(i,!1)):e.concat(t.findChildren(r,!1,!0))},[]):e.filter(function(e){return(0,S._)(e,I.Z)?i(e):r(e)})}}]),t}(A),O=n(5991),j=n(9256);var B=(C={},(0,O._)(C,"^=",function(e,t){return"string"==typeof t&&0===t.indexOf(e)}),(0,O._)(C,"=",function(e,t){return function(e){switch(void 0===e?"undefined":(0,j._)(e)){case"string":case"boolean":case"number":case"bigint":case"undefined":return!0}return null===e}(t)&&e==t+""}),(0,O._)(C,"*=",function(e,t){return"string"==typeof t&&t.indexOf(e)>-1}),(0,O._)(C,"!=",function(e,t){return e!==t}),(0,O._)(C,"|=",function(e,t){return"string"==typeof t&&t.split("-").indexOf(e)>-1}),(0,O._)(C,"$=",function(e,t){return"string"==typeof t&&e.length<=t.length&&t.slice(t.length-e.length)===e}),C),V=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[e])).key=e.key,n.value=e.value,n.matcher=B[e.compare],n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e,t){var n=this;return t?this.selectDeeply(e):e.filter(function(e){if(e.isDestroyed)return!1;if(n.value){if((0,S._)(e,I.Z))return n.isNodeValueMatch(e);if((0,S._)(e,T.wA))return n.isComponentValueMatch(e)}else{if((0,S._)(e,I.Z))return n.isNodeContains(e);if((0,S._)(e,T.wA))return n.isComponentContains(e)}return!1})}},{key:"selectDeeply",value:function(e){var t=this;return e.reduce(function(e,n){if(t.value){if((0,S._)(n,I.Z))return e.concat(n.findChildren(function(e){return t.isNodeValueMatch(e)},!0));if((0,S._)(n,T.wA))return e.concat(n.findChildren(function(e){return t.isComponentValueMatch(e)},!0,!0))}else{if((0,S._)(n,I.Z))return e.concat(n.findChildren(function(e){return t.isNodeContains(e)},!0));if((0,S._)(n,T.wA))return e.concat(n.findChildren(function(e){return t.isComponentContains(e)},!0,!0))}return e},[])}},{key:"isMatch",value:function(e){return this.matcher.call(null,this.value,e)}},{key:"isNodeContains",value:function(e){return this.key in e.attrs}},{key:"isComponentContains",value:function(e){return!e.isDestroyed&&(e.isLazyComponent?this.isNodeContains(e.originNode):this.key in e||this.key in e.attrs)}},{key:"isNodeValueMatch",value:function(e){return this.key in e.attrs&&this.isMatch(e.attrs[this.key])}},{key:"isComponentValueMatch",value:function(e){return!e.isDestroyed&&(e.isLazyComponent?this.isNodeValueMatch(e.originNode):this.isMatch(e[this.key])||this.key in e.attrs&&this.isMatch(e.attrs[this.key]))}}]),t}(A),H=(n(651).LoggerFactory.getLogger("method-selector"),{eq:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: ".concat(t));return n>=e.length?[]:[e[n]]},childAt:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: ".concat(t));return e.map(function(e){return(0,S._)(e,I.Z)||(0,S._)(e,T.wA)&&e.isContainer()?e.childAt(n):void 0})},parent:function(e,t){return e.map(function(e){return e.parent})},first:function(e){return e.length>0?[e[0]]:[]},last:function(e){return e.length>0?[e[e.length-1]]:[]},allAfter:function(e){return U(e,function(e){var t=e.brothers(),n=t.indexOf(e);return t.slice(n+1)})},allBefore:function(e){return U(e,function(e){var t=e.brothers(),n=t.indexOf(e);return t.slice(0,n)})},activated:function(e){return U(e,function(e){return e.isActive?e:void 0})},deactivated:function(e){return U(e,function(e){return e.isActive?void 0:e})},visible:function(e){return U(e,function(e){return e.isDOMVisible()?e:void 0})},invisible:function(e){return U(e,function(e){return e.isDOMVisible()?void 0:e})},hidden:function(e){return U(e,function(e){return e.isDOMVisible()?void 0:e})},disabled:function(e){return U(e,function(e){return e.disabled?e:void 0})},enabled:function(e){return U(e,function(e){return e.disabled?void 0:e})},closest:function(e,t){var n=t.substring(1,t.length-1),i=ee.parseSelector(n);return U(e,function(e){for(var t=e.parent;t;){var n=i.selectFrom([t]);if(n&&n.length>0)return n;t=t.parent}})},nextSiblings:function(e){return U(e,function(e){return e.nextSiblings()})},previousSiblings:function(e){return U(e,function(e){return e.previousSiblings()})},root:function(e){var t=e[0];return t?[t.getRoot()]:[]},self:function(e){return e}});function U(e,t){return e.reduce(function(e,n){var i=t(n),r=Array.isArray(i);return r&&i.length>0||!r&&void 0!==i?e.concat(i):e},[]).reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])}var z=function(e){function t(e){var n;if((0,r._)(this,t),(n=(0,i._)(this,t,[e])).name=e.name,n.params=e.parameter,n.selector=H[n.name],!n.selector)throw new Error("Invalid selector: method not found: ".concat(e.name));return n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return this.selector(e,this.params).filter(function(e){return!!e})}}]),t}(A),W=n(6905),Y=n(9418),G=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e,n){return n?(0,W._)((0,Y._)(t.prototype),"selectFrom",this).call(this,e,n):e}}]),t}(R),$=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return e.map(function(e){return e.getRoot()}).reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])}}]),t}(A),J=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return e.reduce(function(e,t){return(0,S._)(t,I.Z)?e.concat(t.children):(0,S._)(t,T.wA)?(t=t.lazyLoad()).isContainer()&&e.concat(t.children()):e},[])}}]),t}(A),q=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[e])).cssSelector=e.parameter,n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){var t=this;return e.reduce(function(e,n){var i=n.element;if(!i.querySelector)return e;var r=i.querySelector(t.cssSelector);return r&&e.push(r),e},[]).filter(function(e,t,n){return n.indexOf(e)===t})}}]),t}(A),K=function(){function e(){(0,r._)(this,e)}return(0,o._)(e,null,[{key:"create",value:function(e,t){switch(e){case"whitespace":return new R(t);case"name":return new F(t);case"type":return new L(t);case"attribute":return new V(t);case"method":return new z(t);case"all":return new G(t);case"dchildren":return new J(t);case"root":return new $(t);case"css":return new q(t);default:throw new Error("Unsupported selector: ".concat(e))}}}]),e}(),Z=function(e){function t(e){var n;return(0,r._)(this,t),(n=(0,i._)(this,t,[{}])).selectors=e,n}return(0,a._)(t,e),(0,o._)(t,[{key:"selectFrom",value:function(e){return this.selectors.reduce(function(e,t,n){return e.length<1?e:t.selectFrom(e,0===n)},e)}}]),t}(A),X={};function Q(e){if("string"!=typeof e)throw new Error("".concat(e," is not a valid selector"));if(e=e.trim(),X[e])return X[e];var t=(new E).tokenize(e).map(function(e){return K.create(e.type,e.options)}),n=new Z(t);return X[e]=n,n}const ee={selectors:X,parseSelectors:function(e){if(X[e])return X[e];var t,n=e.split(/\s*,\s*/).map(function(e){return Q(e)});return t=1===n.length?n[0]:new c(n),X[e]=t,t},parseSelector:Q}},7173:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var i=/^([\w-]+:)?([\w-.]+)?(\(.*?\))?$/;function r(e){for(var t=1/0,n=[],r=e;;){var o=r.lastIndexOf("|",t);if(-1===o)break;if("|"!==r[o-1]){var a=r.slice(o+1);i.test(a)?(n.unshift(a),r=r.slice(0,o),t=1/0):t=o-1}else t=o-2}return n.unshift(r),n}},9185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9227),r=n(7424),o=n(9019),a=n(510),s=(n(651),function(){function e(t,n){(0,i._)(this,e),this.name=t,this.depends=n||[],this.registry=new o.Z(this)}return(0,r._)(e,[{key:"registerPreConfiguredComponent",value:function(e,t){return this.registry.registerPreConfiguredComponent(e,t),this}},{key:"getPreConfiguredComponent",value:function(e){return this.registry.getPreConfiguredComponent(e,component)}},{key:"registerFragment",value:function(e,t){this.registry.registerFragment(e,t)}},{key:"getFragment",value:function(e){return this.registry.getFragment(e)}},{key:"getComponentClass",value:function(e){return this.registry.getComponentClass(e)}},{key:"getComponentDefAsync",value:function(e){return this.registry.getComponentDefAsync(e)}},{key:"getDirectiveClass",value:function(e){return this.registry.getDirectiveClass(e)}},{key:"getControllerClass",value:function(e){return this.registry.getControllerClass(e)}},{key:"registerComponent",value:function(e){return this.registry.registerComponent(e),this}},{key:"registerVueComponent",value:function(e,t){var i=n(552).default;this.registry.registerComponent(i.extend(t,e))}},{key:"registerReactComponent",value:function(e,t,i){var r=n(1291).r;this.registry.registerComponent(r.extend(t,e,i))}},{key:"registerController",value:function(e){return this.registry.registerController(e),this}},{key:"controller",value:function(e,t){return this.registry.controller(e,t),this}},{key:"registerDirective",value:function(e){this.registry.registerDirective(e)}},{key:"getRegistry",value:function(){return this.registry}},{key:"getPipe",value:function(e){return this.registry.getPipe(e)}},{key:"pipe",value:function(e,t){this.registry.registerPipe(e,t)}},{key:"resolveName",value:function(e){return this.name===a.Fc||this.name.length<1?e:"".concat(this.name).concat(a.oB).concat(e)}},{key:"service",value:function(e,t){return this.registry.service(e,t)}},{key:"isSeniorComponent",value:function(e){var t=this.getComponentClass(e);return!!(null==t?void 0:t.isSeniorComponent)}}]),e}())},9019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(4691),r=n(9227),o=n(7424),a=n(5991),s=n(5467),A=n(5843),c=n(4919),u=n(9256),l=(n(2473),n(510)),d=(n(9185),n(909),n(3667)),h=n(1406),f=n(651),p=function(e){return e.directive="directive",e.controller="controller",e.component="component",e.pipe="pipe",e.fragment="fragment",e}({}),g=new f.Store,v=function(){function e(t){(0,r._)(this,e),this.module=t,this.controllers={},this.directives={},this.layouts={},this.fragments=new f.Store,this.components=new f.Store,this.pipes=new f.Store,this.services=new f.Store}return(0,o._)(e,[{key:"getPipe",value:function(e){return this.pipes.has(e)?this.pipes.getCurrentValue(e):(this.module.depends.some(function(n){return!!(t=n.registry.getPipe(e))}),t);var t}},{key:"registerPipe",value:function(e,t){if("function"!=typeof t)throw new Error("Pipe Must be a function, but actual: ".concat(void 0===t?"undefined":(0,u._)(t),", name: ").concat(e));this.pipes.dispatch(e,t),this.triggerRegisterAction(p.pipe,e)}},{key:"triggerRegisterAction",value:function(e,t){var n=g.getCurrentValue("register")||[];n.push({module:this.module.name,type:e,name:t}),g.dispatch("register",n)}},{key:"getComponentDefAsync",value:function(e){var t=[this];return this.module.depends.forEach(function e(n){-1===t.indexOf(n.registry)&&t.push(n.registry),n.depends.forEach(e)}),new Promise(function(n,i){var r=[];t.forEach(function(t){r.push(t.components.subscribeOnce(e,function(e){r.forEach(function(e){return e()}),n({componentClass:e,type:"component"})}),t.fragments.subscribeOnce(e,function(e){r.forEach(function(e){return e()}),n({fragmentsConfig:e,type:"fragment"})}))})})}},{key:"registerDirective",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),i=this.directives[n];if(i!==e){if(i&&!i.isFake()&&!t)throw new Error("Duplicated directive name ".concat(n));this.directives[n]=e,this.triggerRegisterAction(p.directive,n)}}},{key:"getDirectiveClass",value:function(e){e=e.toLowerCase();var t=this.directives[e];if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getDirectiveClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerController",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName(),i=this.controllers[n];if(i!==e){if(i&&!i.isFake()&&!t)throw new Error("Duplicated controller class name: ".concat(n));this.controllers[n]=e,this.triggerRegisterAction(p.controller,n)}}},{key:"controller",value:function(e,t){var n=f.Proxy.getProxyClass(d.Q,function(e,n,i,r){return t[r].apply(e,i)},d.Q,!1,function(e){return"function"==typeof t[e]&&t[e]!==Object.prototype[e]}),A=(0,a._)({},e,function(n){function a(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s;return(0,r._)(this,a),s=(0,i._)(this,a,(0,c._)(n)),"function"==typeof t.init&&t.init.apply(s,n),s}return(0,s._)(a,n),(0,o._)(a,null,[{key:"getName",value:function(){return e}}]),a}(n)),u=A[e].prototype;for(var l in t)void 0===u[l]&&(u[l]=t[l]);return this.registerController(A[e]),this}},{key:"getControllerClass",value:function(e){var t=this.controllers[e];if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getControllerClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),i=this.components.getCurrentValue(n);if(i!==e){if(i&&!i.isFake()&&!t)throw new Error("Duplicated component name '".concat(n,"', component names must be unique and case-insensitive"));if("{native}"!==n){var r,o=this.module.name;if(o.length>0){var a="".concat(o).concat(l.oB).concat(n);document.createElementNS("http://www.w3.org/1999/xhtml",a),r=document.createElement(a)}else r=document.createElement(n);(0,A._)(r,HTMLUnknownElement)||"template"===n||"slot"===n||"input"===n||"textarea"===n||-1===f.STANDARD_HTML_ELEMENTS.indexOf(n)||f.LoggerFactory.getLogger("UIXRegistry").warn("Incorrect component name <".concat(n,">, It shouldn't be a name of the W3C HTML standard element"),e)}e.$metadata=new h.z(e),this.components.dispatch(n,e),this.triggerRegisterAction(p.component,n)}}},{key:"getComponentClass",value:function(e){e=e.toLowerCase();var t=this.components.getCurrentValue(e);if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getComponentClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerPreConfiguredComponent",value:function(e,t){return this.registerFragment(e,t)}},{key:"getPreConfiguredComponent",value:function(e){return this.getFragment(e)}},{key:"registerFragment",value:function(e,t){e=e.toLowerCase();var n=this.components.getCurrentValue(e);if(n&&!n.isFake())throw new Error("conflict: a component that names '".concat(e,"' is already exists."));if(this.fragments.has(e))throw new Error("Duplicate fragment name: ".concat(e));this.fragments.dispatch(e,t),this.triggerRegisterAction(p.fragment,e)}},{key:"getFragment",value:function(e){e=e.toLowerCase();var t=this.fragments.getCurrentValue(e);if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getFragment(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"service",value:function(e,t){if(void 0===t)return getService(e);this.services.dispatch(e,t)}},{key:"getService",value:function(e){if(this.services.has(e))return this.services.getCurrentValue(e);var t=!0,n=!1,i=void 0;try{for(var r,o=this.module.depends[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value.registry.getService(e);if(a)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}]),e}()},1727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,a:()=>u});var i=n(9227),r=n(7424),o=n(5843),a=n(9185),s=n(510),A=n(651),c=A.LoggerFactory.getLogger("modular"),u=new(function(){function e(){(0,i._)(this,e),this.modules=new A.Store,this.modules.dispatch(s.Fc,new a.Z(s.Fc,[]))}return(0,r._)(e,[{key:"module",value:function(e,t){var n=this;if(Array.isArray(t)){if(this.modules.has(e))throw new Error('Duplicated Modular name: "'.concat(e,'", it must be unique.'));t=t.map(function(e,t){if("string"==typeof e)return n._module(e);if((0,o._)(e,a.Z))return e;throw new Error("Unexpected module type at position: ".concat(t))});var i=this.root();t.indexOf(-1===i)&&t.push(i);var r=new a.Z(e,t);return this.modules.dispatch(e,r),r}return this._module(e)}},{key:"moduleAsync",value:function(e){return this.modules.takeWhile(e)}},{key:"root",value:function(){return this.modules.getCurrentValue(s.Fc)}},{key:"_module",value:function(e){var t=this.modules.getCurrentValue(e);if(!t)throw new Error("No module found: '".concat(e,"'"));return t}},{key:"_nostrictModule",value:function(e){var t=this.modules.getCurrentValue(e);return t||c.warn("module not found: ".concat(e,", using root module instead.")),t||this.root()}}]),e}());const l=u},6871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9227),r=n(7424),o=(n(1727),n(2320)),a=(n(5923),n(9185),function(){function e(t,n){(0,i._)(this,e),this.parser=t,this.localizer=n.localizer,this.options={parser:t},this.context=n}return(0,r._)(e,[{key:"appendOptions",value:function(e){return Object.assign(this.options,e),this}},{key:"appendInitData",value:function(e){return this.options.$initData=Object.assign(this.options.$initData||{},e),this}},{key:"appendVNode",value:function(e){return this.vnode=e,this.options.viewConfig=e.toViewConfig(),this}},{key:"appendParentComponent",value:function(e){return this.parentComponent=e,this.options.parentComponent=e,this}},{key:"build",value:function(){var e=this.vnode.getComponentClass(),t=this.vnode.getDirectiveInstances(this.parentComponent,this.localizer),n=new o.Z({node:this.vnode,parentComponent:this.parentComponent},t);if(n.processComponentOptions(this.options),!this.options.callback&&this.parentComponent&&(this.options.callback=this.parentComponent.controller),"context"in this.options&&this.options.context!==this.context)throw new Error("Conflicting component option: context");this.options.context=this.context;var i=new e(this.options,this.vnode.module,this.localizer);i.setDirective(n),this.context.dispatchNewComponent(i),this.context.ioc.initInstance(i),this.context.postHandle(i),n.init(i),n.beforeComponentRender(),i.prerender();try{i.render()}finally{n.afterComponentRender()}return i}}]),e}())},1702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9227),r=n(7424),o=n(5843),a=n(3667),s=n(4929),A=n(8448),c=n(651),u=["mounted","prelink","postlink","destroy","uninstall"],l=function(){function e(){(0,i._)(this,e)}return(0,r._)(e,null,[{key:"newControllerInstance",value:function(e,t){var n,i=e.callback,r=e.proxyControllers;if("function"==typeof i)n=c.Reflect.isSubClassOf(i,a.Q)?new i(t):new s.Z(t,i);else if((0,o._)(i,a.Q)){n=Object.create(i),Object.defineProperty(n,"$$is_ext_ctrl",{value:!0,writable:!1,enumerable:!1,configurable:!1});for(var l=u.length;l>=0;l--){var d=u[l];n[d]=A.Z.prototype[d]}i.setParentScope===c.noop&&(n.setParentScope=a.Q.prototype.setParentScope),n.component=t,n.methods={},n.data=Object.assign({},e.$initData||{}),t.parent&&n.setParentScope(t.parent.controller)}else n=new A.Z(t);var h=r.reduce(function(e,t){var n=t.method||"handle";return(e[n]=e[n]||[]).push(t),e},{});for(var f in h){var p=h[f];"function"==typeof n[f]&&(n[f]=p.reduce(function(e,t){return e.proxy(t)},c.Aspect.on(n[f])).extract())}return t&&t.context?t.context.ioc.initInstance(n):console.warn("Cannot initialize controller",n,t),n}}]),e}()},6315:(e,t,n)=>{"use strict";n.d(t,{NI:()=>s,q4:()=>A});var i=n(9227),r=n(7424),o=n(4919),a=n(510);if(!window.WeakRef){new WeakMap;window.WeakRef=function(){function e(t){(0,i._)(this,e),this.value=t}return(0,r._)(e,[{key:"deref",value:function(){return this.value}}]),e}()}function s(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(a.oB);return n>-1?t.substring(0,n):a.Fc}function A(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(a.oB);return t.substring(n+1)}HTMLElement.prototype.remove||(HTMLElement.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;var t=this.parentNode;if(t){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-t.offsetTop<t.scrollTop,a=this.offsetTop-t.offsetTop+this.clientHeight-i>t.scrollTop+t.clientHeight,s=this.offsetLeft-t.offsetLeft<t.scrollLeft,A=this.offsetLeft-t.offsetLeft+this.clientWidth-r>t.scrollLeft+t.clientWidth,c=o&&!a;(o||a)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-i+this.clientHeight/2),(s||A)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-r+this.clientWidth/2),(o||a||s||A)&&!e&&this.scrollIntoView(c)}}),HTMLElement.prototype.getUIXNamespace=function(){return s(this)},HTMLElement.prototype.getUIXNodeName=function(){return A(this)},HTMLElement.prototype.getUIXAttribute=function(e){return function(e,t){var n=e.getUIXNamespace();return n===a.Fc||0===n.length?e.getAttribute(t):e.getAttribute("".concat(n).concat(a.oB).concat(t))}(this,e)},HTMLElement.prototype.addClass=function(e){var t;"string"==typeof e&&(t=this.classList).add.apply(t,(0,o._)(e.split(" ")))},HTMLElement.prototype.removeClass=function(e){var t;"string"==typeof e&&(t=this.classList).remove.apply(t,(0,o._)(e.split(" ")))},HTMLElement.prototype.clear=function(){for(var e=Array.prototype.slice.call(this.childNodes,0),t=e.length,n=0;n<t;n++){var i=e[n];this.removeChild(i)}}},5923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_,v:()=>_});var i=n(4691),r=n(9227),o=n(7424),a=n(6905),s=n(9418),A=n(5467),c=n(5843),u=n(449),l=n(4919),d=n(510),h=n(325),f=n(1727),p=n(7469),g=n(651),v=n(240),m=g.LoggerFactory.getLogger("UIXNode"),y=Date.now();var _=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.namespace,a=void 0===o?d.Fc:o,s=n.nodeName,A=n.attrs,c=void 0===A?{}:A,u=n.text,l=n.template,f=void 0===l?"":l;(0,r._)(this,t),e=(0,i._)(this,t,[{namespace:a,type:h.C.NODE_TYPE_CONTAINER,text:u}]);var p=c.name||"".concat("node_name","-").concat((y++).toString(36));return c=e.parseAttrs(c),e.$$options={namespace:a,nodeName:s,attrs:Object.assign({},c),text:u,template:f},e.nodeName=s,e.attrs=Object.assign({},c),e.name=p,e.children=[],e.template=f,e.directives=e.parseDirectiveAttrs(),e.isSenior=!1,e}return(0,A._)(t,e),(0,o._)(t,[{key:"_isAsync",get:function(){return this.directives.some(function(e){return"require-modules"===e.directiveName||"async"===e.directiveName})}},{key:"parseAttrs",value:function(e){var t={};for(var n in e){var i=this.parseAttr(n,e[n]),r=i.key,o=i.value;t[r]=o}return t}},{key:"parseAttr",value:function(e,t){if("@"!==e[0]&&t&&t.indexOf("@{")>-1){var n=(0,v.w)(t);if(n.some(function(e){return e.type===v.i.placeholder}))return{key:"@attr."+e,value:n}}return{key:e,value:t}}},{key:"setComponentOptions",value:function(e){(0,a._)((0,s._)(t.prototype),"setComponentOptions",this).call(this,e),e&&e.attrs&&Object.assign(this.attrs,e.attrs),this.directives=this.parseDirectiveAttrs()}},{key:"appendComponentOptions",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n?n.rmattrs:void 0;n&&delete n.rmattrs,(0,a._)((0,s._)(t.prototype),"appendComponentOptions",this).call(this,n),n&&n.attrs&&Object.assign(this.attrs,n.attrs),Array.isArray(i)&&i.forEach(function(t){delete e.attrs[t],e.$$options.attrs&&delete e.$$options.attrs[t],e.componentOptions.attrs&&delete e.componentOptions.attrs[t]}),this.directives=this.parseDirectiveAttrs()}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(n.has(this))return n.get(this);var i=new t(this.$$options);return this.originalParent&&(i.originalParent=this.originalParent),n.set(this,i),i.children=this.children.map(function(t){var r=e?t.clone(e,n):t;return r.parent=i,r}),i.parent=this.parent,i.setComponentOptions(this.componentOptions),i}},{key:"parseDirectiveAttrs",value:function(){var e=[];for(var t in this.attrs)if("@"===t[0]){var n=this._parseDirectiveName(t),i=n.ns,r=n.directiveName,o=n.subName;e.push({attrName:t,ns:i,directiveName:r,subName:o,attrValue:this.attrs[t]})}return e}},{key:"_parseDirectiveName",value:function(e){var t=/^@(([^:]+):)?([^:][^.]*)(\.(.+))?$/.exec(e);if(!t)throw new Error("@Incorrect directive attribute: "+e);var n=(0,u._)(t,6);return{ns:n[2]||"",directiveName:n[3],subName:n[5]||""}}},{key:"size",value:function(){return this.children.length}},{key:"findByName",value:function(e){return this.findChildren(function(t){return t.name===e})}},{key:"findChildren",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;i.add(this);var r=[];return n&&e(this)&&r.push(this),this.children.reduce(function(n,r){if(i.has(r))return n;if(!(0,c._)(r,t))return n;var o,a=r.findChildren(e,!0,i);a.length>0&&(o=n).push.apply(o,(0,l._)(a));return n},r),r}},{key:"first",value:function(){return this.children[0]}},{key:"last",value:function(){return this.children[this.children.length-1]}},{key:"brothers",value:function(){return this.parent?this.parent.children:[this]}},{key:"querySelectorAll",value:function(e){return p.Z.parseSelectors(e).selectFrom([this])}},{key:"childAt",value:function(e){return this.children[e]}},{key:"append",value:function(e){return this.insert(e,this.children.length)}},{key:"prepend",value:function(e){return this.insert(e,0)}},{key:"insert",value:function(e,t){if(t<0)throw new Error("index out of bounds: ".concat(t));return t=Math.min(this.children.length,t),e.parent=this,this.children.splice(t,0,e),this}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1)),this}},{key:"replaceChild",value:function(e,t){return e<0||e>=this.children.length||!t||(this.children[e].parent=null,this.children[e]=t,t.parent=this),this}},{key:"replaceWith",value:function(e){if(!this.parent)return!1;var t=this.index();return-1!==t&&(this.parent.replaceChild(t,e),!0)}},{key:"index",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"clear",value:function(){return this.children.slice(0).forEach(function(e){return e.remove()}),this}},{key:"setAttribute",value:function(e,t){var n=this.parseAttr(e,t),i=n.key,r=n.value;this.attrs[i]=r,"@"===i[0]&&(this.directives=this.parseDirectiveAttrs()),"name"===e&&(this.name=t)}},{key:"hasAttribute",value:function(e){return e in this.attrs}},{key:"getAttribute",value:function(e){return this.attrs[e]}},{key:"removeAttribute",value:function(e){delete this.attrs[e]&&"@"===e[0]&&(this.directives=this.parseDirectiveAttrs())}},{key:"getComponentClass",value:function(){return this.module.getComponentClass(this.nodeName)||f.Z.root().getComponentClass("{native}")}},{key:"toViewConfig",value:function(){return{nodeName:this.nodeName,attrs:this.attrs,textContent:this.text,vnode:this}}},{key:"getParserDirectiveInstance",value:function(e,t){var n=this.directives.filter(function(e){var t=f.Z._nostrictModule(e.ns);if(!t)return!1;var n=t.getDirectiveClass(e.directiveName);return n&&n.isParser()});if(n.length>1){var i=n.map(function(e){return e.directiveName});throw new Error("Conflict directive: ".concat(i.join(" and "),", both of them are parser directive"))}var r=n[0];if(r){var o=f.Z.module(r.ns),a=o.getDirectiveClass(r.directiveName),s=r.attrName;return new a({module:o,localizer:t,node:this,subName:r.subName,attrValue:r.attrValue,parentComponent:e,attrName:s})}}},{key:"getDirectiveInstances",value:function(e,t){var n=this;return this.directives.map(function(i){var r=f.Z._nostrictModule(i.ns);if(!r)return m.warn("directive module not found: ".concat(i.ns)),null;var o=r.getDirectiveClass(i.directiveName);if(!o)return m.warn("directive not found! module name: ".concat(i.ns,", directive name: ").concat(i.directiveName)),null;if(o.isParser())return null;var a=i.attrName,s=i.subName,A=i.attrValue;return new o({module:r,localizer:t,node:n,subName:s,attrValue:A,parentComponent:e,attrName:a})}).filter(function(e){return!!e}).sort(function(e,t){return e.order===t.order?0:e.order>t.order?-1:1})}},{key:"contains",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return this===e||!t.has(this)&&(t.add(this),this.children.some(function(n){return n.contains(e,t)}))}}]),t}(h.C)},325:(e,t,n)=>{"use strict";n.d(t,{C:()=>A});var i=n(9227),r=n(7424),o=n(510),a=n(1727),s=n(651),A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespace,r=void 0===n?o.Fc:n,s=t.type,A=t.text;(0,i._)(this,e),this.$$options={namespace:r,type:s,text:A},this.componentOptions={proxyControllers:[]},this._module=a.Z._nostrictModule(r),this.namespace=r,this.text=A,this.parent=null,this.type=s,this.asyncFragments=[]}return(0,r._)(e,[{key:"module",get:function(){return this._module.name!==this.namespace&&(this._module=a.Z._nostrictModule(this.namespace)),this._module}},{key:"_isAsync",get:function(){return!1}},{key:"isAsync",value:function(){return!!this.asyncAncestor()}},{key:"asyncAncestor",value:function(){if(this._isAsync)return this;for(var e=this.parent;e;){if(e._isAsync)return e;e=e.parent}}},{key:"appendFragment",value:function(e){this.asyncFragments.push(e)}},{key:"setComponentOptions",value:function(e){this.componentOptions=e,e.proxyControllers||(e.proxyControllers=[])}},{key:"appendComponentOptions",value:function(e){e&&(0,s.extendOptions)(this.componentOptions,e)}},{key:"clone",value:function(){return new e(this.$$options)}},{key:"getRoot",value:function(){return this.parent?this.parent.getRoot():this}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this}},{key:"index",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"after",value:function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node after a node that has not been appended");this.parent&&this.parent.insert(e,t+1)}},{key:"before",value:function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node before a node that has not been appended");this.parent&&this.parent.insert(e,t)}},{key:"nextSiblings",value:function(){if(this.parent){var e=this.parent.children,t=e.indexOf(this);return e[t+1]}}},{key:"previousSiblings",value:function(){if(this.parent){var e=this.parent.children,t=e.indexOf(this);return e[t-1]}}},{key:"prelink",value:function(){}},{key:"postlink",value:function(){}},{key:"contains",value:function(e){return this===e}}],[{key:"NODE_TYPE_CONTAINER",get:function(){return"container"}},{key:"NODE_TYPE_TEXT",get:function(){return"text"}},{key:"NODE_TYPE_FRAGMENT",get:function(){return"fragment"}}]),e}()},1291:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var i=n(4691),r=n(9227),o=n(7424),a=n(6905),s=n(9418),A=n(5467),c=n(2473),u=n(651),l=function(e){function t(){return(0,r._)(this,t),(0,i._)(this,t,arguments)}return(0,A._)(t,e),(0,o._)(t,[{key:"isReact",get:function(){return!0}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-react-component"),e}},{key:"acceptText",value:function(){return!1}},{key:"mounted",value:function(){(0,a._)((0,s._)(t.prototype),"mounted",this).call(this),this.rerender()}},{key:"rerender",value:function(){(0,u.notImplemented)()}},{key:"setAttribute",value:function(e,t){this.attrs[e]=t,this.rerender()}},{key:"getAttribute",value:function(e){return this.attrs[e]}},{key:"removeAttribute",value:function(e){delete this.attrs[e],this.rerender()}},{key:"addCSSClass",value:function(e){var t=(this.attrs.class||"").split(/\s+/);this.setAttribute("class",t.concat(e).join(" "))}},{key:"removeCSSClass",value:function(e){var t=(this.attrs.class||"").split(/\s+/),n=t.indexOf(e);n>-1&&t.splice(n,1),this.setAttribute("class",t.join(" "))}},{key:"doEnable",value:function(){this.rerender()}},{key:"doDisable",value:function(){this.rerender()}},{key:"doDeactive",value:function(){this.rerender()}},{key:"doActive",value:function(){this.rerender()}},{key:"localize",value:function(){var e=this.localizer;return this.trigger("localize",e),e.localizeRecursive(this.getDomElement(),{})}}],[{key:"extend",value:function(e,n,c){return function(t){function u(){return(0,r._)(this,u),(0,i._)(this,u,arguments)}return(0,A._)(u,t),(0,o._)(u,[{key:"mounted",value:function(){var e=this;(0,a._)((0,s._)(u.prototype),"mounted",this).call(this);var t=this.getPDFUI().ReactDOM;this.addDestroyHook(function(){t.unmountComponentAtNode(e.element)})}},{key:"initServices",value:function(e){for(var t in(0,a._)((0,s._)(u.prototype),"initServices",this).call(this,e),this.serviceInstances={},c){var n=e.getInstanceByClass(c[t],this);this.serviceInstances[t]=n}}},{key:"rerender",value:function(){var t=this.getPDFUI(),n=t.ReactDOM,i=t.React;n.render(i.createElement(e,Object.assign(this.attrs,{disabled:this.disabled,isActive:this.isActive,isVisible:this.isVisible,key:this.id,services:this.serviceInstances})),this.element),this.parent&&this.parent.rerenderChildren()}}],[{key:"getName",value:function(){return n}}]),u}(t)}}]),t}(c.wA)},552:(e,t,n)=>{"use strict";n(651),n(2473)},9756:(e,t,n)=>{"use strict";n.r(t),n.d(t,{active3DHandle:()=>l,agreeActive3D:()=>_,destroy3DInteraction:()=>g,initJR3DAnnot:()=>p,render3D:()=>d,setAnnot3DTool:()=>m,setDefaultView:()=>y});var i=n(5578),r=n(4919),o=n(7582),a=n(323),s=n(651),A=n(840),c=n.n(A),u={rotate:0,spin:1,pan:2,zoom:3};function l(e,t){return(0,i._)(function(){var t,n,a,A,u,l,h;return(0,o.Jh)(this,function(p){switch(p.label){case 0:return[4,e.agreeActive3D()];case 1:if(!p.sent())return[2];t=e.annot,e.isActived3DHandleLoaded=!0,e.isActive3D=!0,n=e.parent().$handler,a=function(e,t,n){var i,o=e.e3DTarget;if(o)return{eTarget:o,eCanvas:e._e3DCanvas};o=document.createElement("div"),o.id="fv__pdf-page-3d-annot-interaction-handler-".concat(n),o.className="fv__pdf-page-3d-annot-interaction-handler";var a=document.createElement("canvas"),s=a.transferControlToOffscreen(),A=e.annot.page.doc.engine;return(i=A.api).setCanvas.apply(i,[{path:"jr/doc/3d",clientTransfer:[s]}].concat((0,r._)(f(e)),[s])),a.className="fv__pdf-page-3d-annot-interaction-canvas",o.appendChild(a),t.appendChild(o),e._e3DCanvas=a,e.e3DTarget=o,{eTarget:o,eCanvas:a}}(e,n[0],t.getId()),A=a.eTarget,u=a.eCanvas,p.label=2;case 2:return p.trys.push([2,4,,5]),[4,d(e,e.scale,e.rotate)];case 3:return p.sent(),function(e,t,n){if(e.off3DInteraction)return;var a,A=new(c().Manager)(n);A.add(new(c().Pan)),A.add(new(c().Press));var u=-1,l=new s.ThrottleAsyncTaskExecutor(50,!0),d=function(e,t,n,r){l.exec(function(a){return(0,i._)(function(){return(0,o.Jh)(this,function(i){switch(i.label){case 0:return[4,v(e,t,n,r)];case 1:return i.sent(),[2]}})})()})};A.on("panstart",function(t){u=0,a=t.srcEvent.target.getBoundingClientRect(),d(e,t,1,a)}),A.on("panmove",function(t){-1!==u&&2!==u&&(u=1,d(e,t,0,a))}),A.on("panend",function(t){-1!==u&&(u=2,d(e,t,2,a))});var h=function(t){e.showContextMenu()},p=function(t){e.showToolbar()},g=function(t){e.hideToolbar()},m=function(t){t.stopPropagation(),t.preventDefault();var n=t.target.getBoundingClientRect();!function(e,t,n,i){var o,a=t,s={movementX:t.deltaX,movementY:t.deltaY,timeStamp:a.timeStamp,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,button:a.button,buttons:a.buttons,targetX:a.clientX-i.left,targetY:a.clientY-i.top,canvasX:a.clientX-i.left,canvasY:a.clientX-i.left,deltaX:-t.deltaX,deltaY:-t.deltaY,deltaZ:-t.deltaZ,deltaMode:t.deltaMode};(o=e.annot.page.doc.engine.api).process3DMouseWheelEvent.apply(o,[{path:"jr/doc/3d"}].concat((0,r._)(f(e)),[s,n]))}(e,t,0,n)};A.on("press",h),t.addEventListener("contextmenu",h),t.addEventListener("mouseover",p),t.addEventListener("mouseout",g),t.addEventListener("mousewheel",m),s.isTouchDevice&&t.addEventListener("touchstart",p);e.off3DInteraction=function(){A.off("panstart"),A.off("panmove"),A.off("panend"),A.off("press"),t.removeEventListener("contextmenu",h),t.removeEventListener("mouseover",p),t.removeEventListener("mouseout",g),t.removeEventListener("mousewheel",m),s.isTouchDevice&&t.addEventListener("touchstart",p),A.destroy(),e.off3DInteraction=null}}(e,A,u),[3,5];case 4:return l=p.sent(),e.isActive3D=!1,(null==l||null===(h=l.message)||void 0===h?void 0:h.includes("Method not permission."))&&e.pdfViewer.setEnable3DInteraction(!1),[3,5];case 5:return[2]}})})()}function d(e,t,n){return(0,i._)(function(){var i,r,s,A;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return e._e3DCanvas&&(i=e.e3DTarget)?(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.scale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.scale,i=e.annot,r=(0,a.oC)(t),o=i.getDeviceRect(r,0),s=i.getDeviceRect(t,n);return{smartRect:o,showRect:s}}(e,t,n),s=r.smartRect,function(e,t){t.style.cssText="z-index:999;position:absolute;top:".concat(e.top,"px;left:").concat(e.left,"px;width:").concat(e.right-e.left,"px;height:").concat(e.bottom-e.top,"px;")}(r.showRect,i),(A=e.parent().$handler.addClass("active")[0])&&(A.style.transform=null),[4,h(e,s)]):[2];case 1:return o.sent(),[2,!0]}})})()}function h(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rotate;return(n=e.annot.page.doc.engine.api).LoadAnnot3DBitmap.apply(n,[{path:"jr/doc/3d",transfer:["bitmap"]}].concat((0,r._)(f(e)),[t,i]))}function f(e){var t=e.annot,n=e.getPDFPage();return[n.getPDFDoc().getId(),n.getIndex(),t.getId()]}function p(e){if(e._ready3DPromise)return e._ready3DPromise;var t=e.annot.page.doc.engine;return e._ready3DPromise=t.api.getPDF3D({path:"jr/doc"},e.getPDFPage().getPDFDoc().getId())}function g(e){e.off3DInteraction&&(e.off3DInteraction(),e.off3DInteraction=null),e._interactionHammer&&(e._interactionHammer.destroy(),e._interactionHammer=null),e.isActive3D=!1}function v(e,t,n,i){var o,a=t.srcEvent,s={movementX:t.deltaX,movementY:t.deltaY,timeStamp:a.timeStamp,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,button:a.button,buttons:a.buttons,targetX:a.clientX-i.left,targetY:a.clientY-i.top,canvasX:a.clientX-i.left,canvasY:a.clientX-i.left};return(o=e.annot.page.doc.engine.api).process3DMouseEvent.apply(o,[{path:"jr/doc/3d"}].concat((0,r._)(f(e)),[s,n]))}function m(e,t){var n;return(n=e.annot.page.doc.engine.api).setAnnot3DTool.apply(n,[{path:"jr/doc/3d"}].concat((0,r._)(f(e)),[u[t]||0]))}function y(e){var t;return(t=e.annot.page.doc.engine.api).setDefaultView.apply(t,[{path:"jr/doc/3d"}].concat((0,r._)(f(e)))).then(function(){return d(e,e.scale,e.rotate)})}function _(e){return!0}},4227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivationGroup:()=>eF,AnnotComponent:()=>qd,AnnotationApRenderer:()=>jv,AnnotationAuthorityManager:()=>jE,BrowserInfo:()=>z.BrowserInfo,CalloutShape:()=>M_,CaretComponent:()=>Qy,CircleComponent:()=>ty,CombindForms:()=>vR,Consts:()=>r,CustomScrollWrap:()=>yM,Deps:()=>OR,DeviceInfo:()=>z.DeviceInfo,DivScrollWrap:()=>LR,DocCustomRender:()=>kh,EventEmitter:()=>_o(),Events:()=>ae,FakeAreaHighlightAnnotation:()=>IR,FakeCircleAnnotation:()=>bR,FakeLineAnnotation:()=>FR,FakePolygonAnnotation:()=>MR,FakePolylineAnnotation:()=>TR,FakeSquareAnnotation:()=>_R,FileAttachmentComponent:()=>Zy,FontUtil:()=>d,FreeTextBoxComponent:()=>$_,FreeTextCalloutComponent:()=>Y_,FreeTextComponent:()=>P_,FreeTextTypeWritterComponent:()=>E_,Hammer:()=>qr(),HighlightComponent:()=>zv,HtmlUtil:()=>f,IContextMenu:()=>dk,IStateHandler:()=>tf,IViewMode:()=>hh,InkComponent:()=>o_,KeyboardUtils:()=>z.KeyboardUtils,LineComponent:()=>pm,LinkAnnotComponent:()=>Zm,LocalCanvasApRenderer:()=>Bv,Log:()=>UR,MarkupAnnotComponent:()=>tv,Matrix:()=>nn,NoteComponent:()=>Jy,PDF:()=>qR,PDFDocRendering:()=>wh,PDFPageRendering:()=>Y,PDFPreviewer:()=>ER,PDFViewer:()=>pT,PDFViewerRendering:()=>V,PageCustomRender:()=>G,PolyLineComponent:()=>Pm,PolygonCloudAnnotComponent:()=>v_,PolygonComponent:()=>Fm,PropertiesControl:()=>Wg,RetryPasswordComponent:()=>XT,STATE_HANDLER_NAMES:()=>s,ScreenComponent:()=>ub,ScrollWrap:()=>Xh,ShapeControl:()=>Tv,SignatureUtil:()=>m,SignatureWidgetAnnotComponent:()=>Ib,SnappedPointAssistant:()=>lm,SnapshotServer:()=>Qw,SoundComponent:()=>yb,SquareComponent:()=>t_,SquigglyComponent:()=>qv,StampComponent:()=>i_,StrikeOutComponent:()=>Yv,StrikeOutTextEditComponent:()=>lb,TextMarkupAnnotComponent:()=>Ov,TextWidgetAnnotComponent:()=>Tb,TileJREngineApRenderer:()=>qy,UnderlineComponent:()=>$v,UserPermission:()=>xh,ViewerEvents:()=>NR,WidgetAnnotComponent:()=>eh,_internal:()=>tF,actions:()=>Ge,bookmark:()=>iF,collab:()=>XR,commons:()=>z,constants:()=>KR,creation:()=>HR,dayjs:()=>Ue(),dayjsPluginUTC:()=>oF(),dialogPolyfill:()=>Hg(),form:()=>br,i18next:()=>$p,i18nextChainedBackend:()=>ig,i18nextLocalStorageBackend:()=>Ag,i18nextXHRBackend:()=>pg,interfaces:()=>$R,jQuery:()=>O(),keyboard:()=>ZR,overlayComparison:()=>BR,printer:()=>QR,readAloud:()=>y,renderers:()=>nF,shared:()=>VR,stateHandler:()=>WR,storage:()=>b,ui:()=>GR,vendors:()=>jR,viewMode:()=>YR,viewerui:()=>JR});var i={};n.r(i),n.d(i,{Activatable:()=>J,ActivationGroup:()=>q,ActivationManager:()=>K});var r={};n.r(r),n.d(r,{ANNOT_APPEARANCE_TYPE:()=>Le,AnnotFlagsName:()=>me,BORDER_STYLE:()=>de,CREATING_DRAWING_CONTEXTMENU:()=>ke,CREATING_MEASUREMENT_CONTEXTMENU:()=>we,CUSTOM_STAMPS_LOCALKEY:()=>je,DB_PREFIX:()=>Se,DEFAULT_STAMPS_LOCALKEY:()=>Oe,DISTANCE_TOLERANCE:()=>Ce,EMPTY_STR:()=>Ee,FAVORITE_STAMPS_LOCALKEY:()=>Be,HIDE_FORM_FIELD_PROPERTY_BOX:()=>Te,HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX:()=>Me,HIGHLIGHTING_MODE:()=>xe,INTERNAL_THUMBNAIL_BITMAP_HEIGHT:()=>Ne,INTERNAL_THUMBNAIL_BITMAP_WIDTH:()=>Fe,Intents:()=>fe,LINE_CAPTION_POSITION:()=>ve,LineEndingName:()=>pe,LineEndingStyle:()=>ge,MARKUP_ANNOTATION_STATE:()=>ue,MEASUREMENT_INFO:()=>Re,MODULE_NAME_TYPE:()=>Ve,MeasureType:()=>_e,PDFDocPermission:()=>ye,POINT_TOLERANCE:()=>De,POINT_TYPE:()=>he,POS_TYPE:()=>le,RESOLVED_PROMISE_VOID:()=>Pe,SET_FORM_CREATION_CONTINUOUSLY:()=>Ie,STORE_NAMES:()=>be});var o={};n.r(o),n.d(o,{Action_Trigger:()=>wt,Action_Type:()=>nt,Additional_Permission:()=>Je,AdvEditor:()=>Ht,Alignment:()=>et,Border_Style:()=>Ke,Box_Type:()=>xt,Calc_Margin_Mode:()=>kt,CornerMarkStyle:()=>Lt,Ending_Style:()=>Qe,Error_Code:()=>$e,FileAttachment_Icon:()=>Ze,File_Type:()=>ot,FillSignType:()=>Ft,Flatten_Option:()=>at,Font_CIDCharset:()=>St,Font_Charset:()=>Et,Font_Descriptor_Flags:()=>yt,Font_StandardID:()=>Ct,Font_Style:()=>qe,Font_Styles:()=>Dt,Graphics_FillMode:()=>It,Graphics_ObjectType:()=>Tt,Highlight_Mode:()=>it,MK_Properties:()=>Mt,NameTreeType:()=>Nt,NewWindowFlag:()=>Ge.NewWindowFlag,Note_Icon:()=>Xe,PageLayout:()=>Vt,PageMode:()=>jt,Point_Type:()=>tt,PosType:()=>Rt,Position:()=>st,Range_Filter:()=>ft,Relationship:()=>rt,RemoveHiddenDataTypes:()=>Bt,Rendering_Content:()=>pt,Rendering_Usage:()=>gt,Rotation:()=>ut,Rotation_Degree:()=>lt,STAMP_TEXT_TYPE:()=>Ot,Saving_Flag:()=>ht,Search_Flag:()=>dt,Signature_Ap_Flags:()=>bt,Signature_State:()=>_t,Standard_Font:()=>ct,Text_Mode:()=>Pt,Watermark_Flag:()=>At,date_Format:()=>vt,page_Number_Format:()=>mt});var a={};n.r(a),n.d(a,{allIsSpace:()=>sn,debounce:()=>an,getQuadPointsFromRect:()=>on,normalizeQuadPoints:()=>rn,verifyRect:()=>An});var s={};n.r(s),n.d(s,{STATE_HANDLER_CHECK_THE_SEARCH:()=>_n,STATE_HANDLER_CREATE_AREA:()=>Fn,STATE_HANDLER_CREATE_AREA_HIGHLIGHT:()=>xn,STATE_HANDLER_CREATE_ARROW:()=>wn,STATE_HANDLER_CREATE_ARTICLE_BUTTON:()=>vi,STATE_HANDLER_CREATE_CARET:()=>bn,STATE_HANDLER_CREATE_CIRCLE:()=>Pn,STATE_HANDLER_CREATE_CIRCLE_AREA:()=>Nn,STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT:()=>kn,STATE_HANDLER_CREATE_CROP_PAGES:()=>oi,STATE_HANDLER_CREATE_DISTANCE:()=>Mn,STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT:()=>ai,STATE_HANDLER_CREATE_EDIT_IMAGE:()=>Sn,STATE_HANDLER_CREATE_FIELD_CHECK_BOX:()=>ui,STATE_HANDLER_CREATE_FIELD_COMBO_BOX:()=>di,STATE_HANDLER_CREATE_FIELD_DATE:()=>fi,STATE_HANDLER_CREATE_FIELD_IMAGE:()=>pi,STATE_HANDLER_CREATE_FIELD_LIST_BOX:()=>hi,STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON:()=>ci,STATE_HANDLER_CREATE_FIELD_RADIO_BUTTON:()=>li,STATE_HANDLER_CREATE_FIELD_SIGNATURE:()=>Ai,STATE_HANDLER_CREATE_FIELD_TEXT:()=>si,STATE_HANDLER_CREATE_FILE_ATTACHMENT:()=>Cn,STATE_HANDLER_CREATE_FREETEXT_BOX:()=>ii,STATE_HANDLER_CREATE_FREETEXT_CALLOUT:()=>ni,STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER:()=>ti,STATE_HANDLER_CREATE_HIGHLIGHT:()=>Dn,STATE_HANDLER_CREATE_IMAGE:()=>En,STATE_HANDLER_CREATE_LINE:()=>Tn,STATE_HANDLER_CREATE_LINK:()=>In,STATE_HANDLER_CREATE_PENCIL:()=>Ln,STATE_HANDLER_CREATE_PERIMETER:()=>Rn,STATE_HANDLER_CREATE_POLYGON:()=>jn,STATE_HANDLER_CREATE_POLYGON_CLOUD:()=>On,STATE_HANDLER_CREATE_POLYLINE:()=>Bn,STATE_HANDLER_CREATE_RADIO_BUTTON:()=>gi,STATE_HANDLER_CREATE_REPLACE:()=>Vn,STATE_HANDLER_CREATE_SQUARE:()=>Hn,STATE_HANDLER_CREATE_SQUARE_CROP:()=>Un,STATE_HANDLER_CREATE_SQUIGGLY:()=>zn,STATE_HANDLER_CREATE_STAMP:()=>Wn,STATE_HANDLER_CREATE_STRIKE_OUT:()=>Yn,STATE_HANDLER_CREATE_TEXT:()=>Gn,STATE_HANDLER_CREATE_UNDERLINE:()=>$n,STATE_HANDLER_ERASER:()=>qn,STATE_HANDLER_HAND:()=>yn,STATE_HANDLER_LOUPE:()=>Kn,STATE_HANDLER_MARQUEE:()=>Jn,STATE_HANDLER_SELECT_ANNOTATION:()=>ei,STATE_HANDLER_SELECT_TEXT:()=>Qn,STATE_HANDLER_SELECT_TEXT_ANNOTATION:()=>Zn,STATE_HANDLER_SELECT_TEXT_IMAGE:()=>Xn,STATE_HANDLER_SNAPSHOT_TOOL:()=>ri,StateNameAnnotTypeMap:()=>mi,StateNameFieldTypeMap:()=>yi});var A={};n.r(A),n.d(A,{CENTIMETER:()=>ji,CUSTOM:()=>Ti,FOOT:()=>Fi,INCH:()=>Ii,KILOMETER:()=>Li,METER:()=>Oi,MILE:()=>Mi,MILLIMETER:()=>Bi,PICA:()=>Vi,PIXEL_HORIZONTAL:()=>Hi,PIXEL_VERTICAL:()=>Ui,POINT:()=>Ri,YARD:()=>Ni,getScaleByUnit:()=>Yi,getUnitByName:()=>Wi});var c={};n.r(c),n.d(c,{AccordionCardComponent:()=>Za,AccordionComponent:()=>Xa,ButtonComponent:()=>wa,CheckboxComponent:()=>xa,CollapsePanelComponent:()=>ja,ColorPickerButtonComponent:()=>yc,ColorPickerComponent:()=>_A,ColorSpectrumComponent:()=>PA,ContentEditorComponent:()=>Rc,ContextMenuComponent:()=>jA,ContextMenuItemComponent:()=>BA,ContextMenuSeparatorComponent:()=>OA,DocumentEventListener:()=>Lc,DropdownButtonComponent:()=>Ka,DropdownComponent:()=>ba,DropdownItemComponent:()=>na,FileSelectorComponent:()=>Ga,FormGroupComponent:()=>uc,GTabItemComponent:()=>ic,GroupComponent:()=>Ea,GroupListComponent:()=>Sa,HTMLCommentComponent:()=>rc,InputComponent:()=>ls,IntersectionDetectorComponent:()=>mc,LayerComponent:()=>ss,LayerHeaderComponent:()=>os,LayerToolbarComponent:()=>As,LayerViewComponent:()=>cs,NativeComponent:()=>sc,NumberComponent:()=>ns,OptionComponent:()=>GA,OptionGroupComponent:()=>YA,PDFUnitNumberInputComponent:()=>_c,PaddleComponent:()=>WA,PlaceholderTextComponent:()=>qa,RadioComponent:()=>hs,RibbonButtonComponent:()=>pa,SVGComponent:()=>Ac,SelOptionComponent:()=>fc,SelectComponent:()=>ws,SelectListComponent:()=>pc,SidebarComponent:()=>Na,SidebarPanelComponent:()=>Fa,SliderComponent:()=>ys,SlotComponent:()=>TA,TabItemComponent:()=>Ta,TabsComponent:()=>Ia,TemplateComponent:()=>us,TextAreaComponent:()=>bc,TextComponent:()=>Ja,ToolbarComponent:()=>$a,TooltipLayerComponent:()=>VA,WindowEventListener:()=>Nc,XSelectComponent:()=>LA});var u={};n.r(u),n.d(u,{AlertComponent:()=>Hl,ConfirmComponent:()=>Zl,CustomConfirmComponent:()=>ed,DropdownSelectComponent:()=>dd,LoadingComponent:()=>Jl,PromptComponent:()=>Wl,PromptPasswordComponent:()=>$l,ScenarioOptionComponent:()=>bd,ScenarioOptionGroupComponent:()=>gd,SidebarContextmenuComponent:()=>cd,TreeComponent:()=>ad,TreeNodeComponent:()=>rd,TreeNodeListComponent:()=>od});var l={};n.r(l),n.d(l,{arrayBufferToBase64:()=>uC,base64ToArrayBuffer:()=>lC,formatFileLastModified:()=>AC,formatFileSize:()=>sC,isFDFFile:()=>oC,isJSONFile:()=>rC,isXFDFFile:()=>aC,removeWhiteBgFromBase64:()=>cC});var d={};n.r(d),n.d(d,{AdditionalFamilies:()=>LD,BaseFontFamilies:()=>FD,BaseFontFamiliesCN:()=>ND,Charset:()=>VD,FontFamilies:()=>ID,FoxitFontMap:()=>SD,extensionFontFamilies:()=>jD,getCharsets:()=>HD,getDefaultName:()=>BD,getStandardFont:()=>RD,isStandardFont:()=>MD,mapFontName:()=>TD,mapFontName2StdID:()=>DD,mapStdID2FontName:()=>ED,standardFontFamilies:()=>OD,stdFontMap:()=>CD});var h={};n.r(h),n.d(h,{isAudioFile:()=>LT,isBMP:()=>WT,isFDF:()=>$T,isGIF:()=>zT,isImageFile:()=>VT,isJPEG:()=>HT,isPDF:()=>xT,isPDFFile:()=>kT,isPNG:()=>UT,isPlainText:()=>ZT,isSVG:()=>YT,isTheoraCodec:()=>MT,isValidMP3:()=>OT,isValidMP4:()=>ST,isValidOGGAudio:()=>jT,isValidOGGVideo:()=>TT,isValidWebM:()=>IT,isVideoFile:()=>PT,isVorbisCodec:()=>BT,isWebp:()=>GT,isXDP:()=>JT,matchFileHead:()=>wT,supportsH264Video:()=>DT,supportsMP3:()=>FT,supportsOGGAudio:()=>NT,supportsOGGVideo:()=>ET});var f={};n.r(f),n.d(f,{html2Escape:()=>QT,htmlCharacter2Entity:()=>eM,jquerySelector2Escape:()=>tM});var p={};n.r(p),n.d(p,{BorderStyle:()=>nM,SelectionEventType:()=>iM,Selections:()=>oM,createAreaLimitationReducer:()=>rM});var g={};n.r(g),n.d(g,{changedPasswordAndPermission:()=>gM,convertPermissionToUIData:()=>sM,convertUIDataToPermission:()=>AM,getInputOwnerPwd:()=>hM,getPermissionDefaultUIData:()=>aM,getPwdPopupLatestUIData:()=>uM,requestOwnerPassword:()=>vM,setCertificateAndPermission:()=>pM,setInputOwnerPwd:()=>fM,setPwdPopupLatestUIData:()=>lM});var v={};n.r(v),n.d(v,{Eraser:()=>PM,Point:()=>wM,PointType:()=>_M});var m={};n.r(m),n.d(m,{addFATLAndEUTLListToCertificateList:()=>KM,addTrustedCert:()=>YM,getFATLAndEUTLList:()=>ZM,getSignatureFieldFromPDFDoc:()=>RM,getTrustedCertificateList:()=>qM,getTrustedCertificateListDb:()=>WM,getTrustedCertificateListDbInfo:()=>zM,hasCertifySignatureInPDF:()=>FM,hasSignedSignatureInPDF:()=>NM,removeTrustedCert:()=>GM,removeTrustedCerts:()=>$M,verifySignatureUtil:()=>QM});var y={};n.r(y),n.d(y,{AbstractPDFTextToSpeechSynthesis:()=>qE,PDFTextToSpeechSynthesisStatus:()=>JE,ReadAloudService:()=>nS,Store:()=>$E});var _={};n.r(_),n.d(_,{FileFormat:()=>h,SecurityUtils:()=>g,file:()=>l,pageRangeTwoDimensionToOne:()=>uh});var b={};n.r(b),n.d(b,{IndexedDBStorageDriver:()=>JS,LocalStorageDriver:()=>PR,StorageFeature:()=>Qi});n(3522),n(7166);var w=n(2956),k=n(9149),x=n(5578),P=n(4691),C=n(9227),D=n(7424),E=n(6905),S=n(9418),I=n(5467),T=n(5843),M=n(449),R=n(4919),F=n(9256),N=n(7582),L=(n(7759),n(5044),n(9755)),O=n.n(L),j=n(5680),B=n.n(j);const V=function(){function e(t,n){(0,C._)(this,e),this.$ui=O()(t),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0))}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.addClass("rendered")}}]),e}();const H='<div class="fv__pdf-view-mode-item"> <div class="fv__pdf-page-layout"> <div class="fv__pdf-page-rendering" style="position:absolute;width:100%;z-index:99"></div> <div class="fv__pdf-custom-page-container"></div> <div class="fv__pdf-page-container"> </div> <div class="fv__pdf-page-annots-container"></div> <div class="fv__pdf-page-customs-container"></div> <div class="fv__pdf-page-handler-container"></div> </div> </div>';var U=n(5991),z=n(651),W=n(323);const Y=function(){function e(t,n){(0,C._)(this,e),this.$ui=O()(t),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.$ui.removeClass("rendered"),this.closeRenderingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0),"page")}},{key:"rendered",value:function(){this.$ui.addClass("rendered"),this.closeRenderingFn&&this.closeRenderingFn()}},{key:"destroy",value:function(){this.closeRenderingFn&&this.closeRenderingFn(),this.$ui=null}}]),e}();var G=function(){function e(t,n){(0,C._)(this,e),this.eCustom=t,this.pdfPageRender=n}return(0,D._)(e,[{key:"render",value:function(e,t){}},{key:"destroy",value:function(){this.pdfPageRender=null,this.eCustom=null}}]),e}(),J=function(){function e(){(0,C._)(this,e),(0,U._)(this,"isActive",!1)}return(0,D._)(e,[{key:"active",value:function(){this.isActive||(this.isActive=!0,this.doActive())}},{key:"unActive",value:function(){this.isActive&&(this.isActive=!1,this.doDeactive())}}]),e}(),q=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"activations",[]),e}return(0,I._)(t,e),(0,D._)(t,[{key:"add",value:function(e){this.contains(e)||(this.activations.push(e),this.isActive&&!e.isActive&&e.active())}},{key:"remove",value:function(e){var n=this,i=this.activations.indexOf(e);return i<0?this.activations.some(function(i,r){if((0,T._)(i,t)){var o=i.remove(e);return o&&!i.hasActivations()&&n.activations.splice(r,1),o}return!1}):(this.activations.splice(i,1),this.isActive&&e.isActive&&((0,T._)(e,t)?(e.activations||[]).forEach(function(e){return e.unActive()}):e.unActive()),!0)}},{key:"exclude",value:function(e){return this.activations.filter(function(t){return!e.contains(t)})}},{key:"contains",value:function(e){return this.activations.indexOf(e)>-1||this.activations.some(function(n){return(0,T._)(n,t)&&n.contains(e)})}},{key:"clear",value:function(){this.activations.forEach(function(e){e.isActive&&e.unActive()}),this.activations.length=0}},{key:"getAllActivations",value:function(){return this.activations.reduce(function(e,n){return(0,T._)(n,t)?e.push.apply(e,n.getAllActivations()):e.push(n),e},[])}},{key:"hasActivations",value:function(){return this.activations.length>0}},{key:"doActive",value:function(){this.activations.forEach(function(e){e.isActive||e.active()})}},{key:"doDeactive",value:function(){this.activations.forEach(function(e){e.isActive&&e.unActive()}),this.activations.length=0}}]),t}(J),K=function(){function e(){(0,C._)(this,e),(0,U._)(this,"currentActivatable",void 0)}return(0,D._)(e,[{key:"active",value:function(e){if(this.getCurrentActivatable()!==e){if((0,T._)(this.currentActivatable,q)){if(this.currentActivatable.contains(e))return;if((0,T._)(e,q)){var t=this.currentActivatable.exclude(e);t.length>0?t.forEach(function(e){e.isActive&&e.unActive()}):this.currentActivatable.isActive&&this.currentActivatable.unActive()}else{var n,i;if(null===(n=this.currentActivatable)||void 0===n?void 0:n.isActive)null===(i=this.currentActivatable)||void 0===i||i.unActive()}}else{var r,o;if(null===(r=this.currentActivatable)||void 0===r?void 0:r.isActive)null===(o=this.currentActivatable)||void 0===o||o.unActive()}this.currentActivatable=e,e.isActive||e.active()}}},{key:"activeOnly",value:function(e){this.getCurrentActivatable()!==e&&(this.currentActivatable=e,e.isActive||e.active())}},{key:"unActive",value:function(e){var t=this.getCurrentActivatable();t&&e&&e.isActive&&((0,T._)(t,q)?t.remove(e):t===e&&(e.isActive&&e.unActive(),this.currentActivatable=void 0))}},{key:"unActiveCurrent",value:function(){var e,t;(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)&&(null===(t=this.currentActivatable)||void 0===t||t.unActive());this.currentActivatable=void 0}},{key:"getCurrentActivatable",value:function(){var e;if(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)return this.currentActivatable}},{key:"getAllCurrentActivatables",value:function(){var e=this.getCurrentActivatable();return e?(0,T._)(e,q)?e.getAllActivations():[e]:[]}},{key:"hasActivations",value:function(){return null!=this.currentActivatable&&(!(0,T._)(this.currentActivatable,q)||this.currentActivatable.hasActivations())}},{key:"currentActivableIs",value:function(e){var t=this.getCurrentActivatable();return t===e||(0,T._)(t,q)&&t.contains(e)}},{key:"clear",value:function(){this.currentActivatable=void 0}}]),e}(),Z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};return(0,C._)(this,t),(e=(0,P._)(this,t)).disposor=new z.Disposable,e._parent=n,e._parentName=n.name,e.pdfViewer=n.pdfViewer,e.isDestroyed=!1,e}return(0,I._)(t,e),(0,D._)(t,[{key:"addDestroyHook",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;(i=this.disposor).addDestroyHook.apply(i,(0,R._)(t))}},{key:"destroy",value:function(){this._parent=null,this.isDestroyed=!0,this.disposor.destroy()}},{key:"parent",value:function(e){var t=this._parent;return e?t?e===this._parentName?t:t.parent(e):null:t}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}}]),t}(J);const X=Z;var Q=function(){},ee=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[r])).name=t.getDefaultName(),o.$ui=e,o.$handler=n,o.$page=r.$ui,o.annot=i,o.component=new(o.pdfViewer.annotManager.get(i))(i,e[0],n[0],o),o.component.init(),o}return(0,I._)(t,e),(0,D._)(t,[{key:"destroy",value:function(){this.component.destroy()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.component.updateSize(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2?arguments[2]:void 0;if(this.isDestroyed||this.component.isDestroyed)return Promise.resolve();var i=this.scale,r=this.rotate;this.scale=e,this.rotate=t;var o=this.component;if(o.setVisibleRect(n),o.isHidden()){if(o.$ui.addClass("fv__markup-annot-invisible"),!o.isFormControl())return Promise.resolve()}else o.isUIVisible()&&o._showUI();return o.$ui.removeClass("fv__markup-annot-invisible"),o.isUIVisible()?Promise.resolve(o.render(e,t)).then(function(n){var a=i!==e||r!==t;return Promise.resolve(o.afterRender({transformed:a,prescale:i,scale:e,prerotate:r,rotate:t})).then(function(e){return n})}).catch(Q):Promise.resolve()}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=e,this.rotate=t,Promise.resolve(this.component.add(e,t))}},{key:"active",value:function(e){return Promise.resolve(this.component.active(e))}},{key:"unActive",value:function(){return Promise.resolve(this.component.unActive())}},{key:"focus",value:function(){return this.component.focus(this.$page)}},{key:"blur",value:function(){return this.component.blur(this.$page)}},{key:"remove",value:function(e){var t=this,n=this.parent();if(e)return n.unActiveAnnot(this.annot).then(function(){t.component.remove(),n.removeAnnotRender(t)});for(var i=this.getRelevanceRenders(),r=[],o=i.length;o--;)r[o]=i[o].remove(!0);return Promise.all(r)}},{key:"showContextMenu",value:function(e,t){return this.component.showContextMenu(e,t)}},{key:"doubleTapAnnot",value:function(){this.component.doubleTapAnnot()}},{key:"redraw",value:function(e,t){if(e)return Promise.resolve(this.component.redraw(t));for(var n=this.getGroupRenders(),i=[],r=n.length;r--;)i[r]=n[r].redraw(!0,t);return Promise.all(i)}},{key:"getAnnot",value:function(){return this.getPDFAnnot()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getGroupRenders",value:function(){var e=this.annot,t=[e];if(!e.IsGrouped||!e.IsGrouped())return[this];t=[].concat(e.getGroupElements());var n=this.parent().getAnnotRenders(),i=[];for(var r in n){var o=n[r],a=t.indexOf(o.getPDFAnnot());if(a>-1&&(i.push(o),t.splice(a,1)),!t.length)break}return i}},{key:"getRelevanceRenders",value:function(){var e,t=[],n=this.annot;(e=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&t.push(e),function(e,t){ne(e,"getReplies",t)}(n,t),ie(n,t),re(n,t);var i=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];t=t.concat(i);var r=this.parent().getAnnotRenders(),o=[];try{for(var a in r){var s=r[a],A=t.indexOf(s.getPDFAnnot());if(A>-1&&(o.push(s),t.splice(A,1)),!t.length)break}}catch(e){}return o}},{key:"moved",value:function(e){this.component.moved(),this.component.movedByOther(e)}},{key:"getComponent",value:function(){return this.component}},{key:"invisibleRender",value:function(){this.component.invisibleRender()}},{key:"clearCache",value:function(){this.component.clearCache()}}],[{key:"getDefaultName",value:function(){return"annotRender"}}]),t}(X);const te=ee;function ne(e,t,n){if(e[t]){var i=e[t](),r=i.length;if(r){n.push.apply(n,i);for(var o=r;o--;){var a=i[o];ie(a,n),re(a,n),ne(a,t,n)}}}}function ie(e,t){return ne(e,"getMarkedStates",t)}function re(e,t){return ne(e,"getReviewStates",t)}var oe=n(9475);const ae=Object.assign({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",beforeLoadPDFDoc:"before-load-pdf-document",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",documentClosed:"document-closed",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",beforeRenderPage:"before-render-page",renderPageSuccess:"render-page-success",updateZoomMode:"update-zoom-mode",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",toggleFullScreen:"toggle-full-screen",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",activeMultipleAnnotations:"active-multiple-annotations",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",beforeSwitchStateHandler:"before-switch-state-handler",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",afterSwitchStateHandler:"after-switch-state-handler",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",snapModeChanged:"snap-mode-changed",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",changeReadSpeed:"changeReadSpeed",changeReadVolume:"changeReadVolume",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",perimeterAnnotCreationStart:"perimeter-creation-start",updateDistanceAnnot:"update-distance-annot",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",drawingAnnotCreationStart:"drawing-creation-start",drawingAnnotCreationEnd:"drawing-creation-end",drawingAnnotCreationCancel:"drawing-creation-cancel",addEditImage:"add-edit-image",InkImageSelected:"ink-image-selected",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",sideBarChanged:"sidebar-changed",showWhatsNew:"show-whats-new",disableScroll:"disable-scroll",enableScroll:"enable-scroll",updateScrollableStatus:"update-scrollable-status",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved",annotationPermissionChanged:"annotation-premission-changed",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",designerAssistantStatusChanged:"form-designer-assistant-status-changed",mouseEnter:"mouse-enter",mouseLeave:"mouse-leave",setFromFieldHighlight:"set_form_field_highlight",AddFontMaps:"set_font_map",thumbnailClicked:"thumbnail-clicked",layerActionActived:"layer-action-actived",redeModeShowSidebar:"rede-mode-show-sidebar",gridToggle:"grid-toggle",snapGridToggle:"snap-grid-toggle",toggleCollaborationMode:"toggleCollaborationMode",findReplaceDialogVisibleChange:"find-replace-dialog-visible-change",showAllComments:"show-all-comments",hideAllComments:"hide-all-comments",focusOnControl:"focus-on-control",blurFromObject:"blur-from-object",documentWillPrint:"document-will-print",documentDidPrint:"document-did-print",documentWillSave:"document-will-save",documentDidSave:"document-did-save",verifyDocSignatureEvent:"verify-doc-signature",verifySignatureEvent:"verify-signature",clearSignatureEvent:"clear-signature",viewSignedVersionDocEvent:"view-signed-version",showFieldPropertiesEvent:"show-field-properties",showSignatureVerifyInfoEvent:"show-signature-tusted-info",compareSignedVersionEvent:"compare-signed-version",showCompareSignedVersionResultEvent:"show-compare-signed-version-result",eSignCnShowMultiPageStamp:"eSignCnShowMultiPageStamp",eSignCNAddDateStamp:"eSignCNAddDateStamp",eSignCNCloseStamp:"eSignCNCloseStamp",eSignCNChangePagingSeal:"eSignCNChangePagingSeal",eSignCNOpenProcessSeal:"eSignCNOpenProcessSeal",eSignCnApply:"eSignCnApply",eSignCNShowOfflineResult:"eSignCNShowOfflineResult",eSignCnExit:"eSignCnExit",tapField:"tap-field",tapGraphicsObject:"tap-graphics-object",spawnPageSuccess:" spawn-page-success",progressChanged:"progress-changed",togglePageContextMenu:"toggle-page-contextmenu",beforeRenderingVisiblePages:"before-rerendering-visible-pages",afterRenderingVisiblePages:"after-rerendering-visible-pages",localFontLoaded:"local-font-loaded",willToggleAutoScroll:"will-toggle-auto-scroll",showLoading:"show-loading",changeLanguageSuccess:"change-language-success"},oe.Z);n(7337);var se=function(){},Ae=function(){function e(){(0,C._)(this,e),this.queue=[],this.promise=Promise.resolve()}return(0,D._)(e,[{key:"push",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.queue.push([e,n]),new Promise(function(e,n){setTimeout(function(){return t.exec()},i)})}},{key:"exec",value:function(){var e=this;if(!this.execIng){var t=this.queue.pop();if(t){this.execIng=!0;for(var n=0,i=this.queue.length;n<i;n++)this.queue[n][1]();return this.queue=[],Promise.resolve(t[0]()).catch(function(){try{return Promise.resolve(t[1]()).catch(se)}catch(e){}}).finally(function(){e.execIng=!1,setTimeout(function(){e.exec()},30)})}}}},{key:"end",value:function(){this.queue=[]}}]),e}(),ce=function(){function e(){(0,C._)(this,e),this.executor=new z.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"serial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.executor.cancel(),this.executor.waitForCurrentRunningTasks().then(function(){return e.executor.resume(),e.executor.execTasks(t.map(function(e){return{task:e}}))})}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.execTasks(t.map(function(e){return{task:e}}))}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.insert(t.map(function(e){return{task:e}})),this.executor.waitForCurrentRunningTasks()}},{key:"concat",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){e.executor.exec(t)}),this.executor.waitForCurrentRunningTasks()}},{key:"exec",value:function(){return this.executor.waitForCurrentRunningTasks()}},{key:"end",value:function(){return this.executor.cancel(),this.executor.waitForCurrentRunningTasks()}}]),e}();const ue={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",DEFERRED:"deferred",FUTURE:"future",NONE:"none"};var le={FIRST:0,LAST:1,AFTER:2,BEFORE:3,NEXT:2,PREV:3},de={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5,NOBORDER:6},he={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},fe={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",FREETEXT_TEXTBOX:"FreeTextTextbox",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"},pe={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},ge=Object.keys(pe).reduce(function(e,t){return e[pe[t]]=Number(t),e},{}),ve={POS_INLINE:0,POS_TOP:1},me={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},ye={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},_e={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},be={SELECTION_INFO:"viewer--store-selection-info"},we="creating-measurement-contextmenu",ke="creating-drawing-contextmenu",xe={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},Pe=Promise.resolve(),Ce=2,De=.01,Ee="",Se="FoxitPDFSDKForWeb_",Ie="set_form_creation_continuously",Te="hideFormFieldPropertyBox",Me="hideFormFieldSimplePropertyBox",Re="measurementInfo",Fe=200,Ne=258,Le={ROLLOVER:"rollover",NORMAL:"normal",DOWN:"down"},Oe="DEFAULT-STAMPS",je="CUSTOM-STAMPS",Be="FAVORITE-STAMPS-LIST",Ve={ConnectedPDF:1,XFA:2,Redaction:3,RMS:4,OCR:5,Comparison:6,Compliance:7,Optimizer:8,Conversion:9,LayoutRecognition:10,AdvEdit:11,ThreeD:12},He=n(7484),Ue=n.n(He);var ze=function(e,t,n){if(!e)return"";var i="";if("object"===(void 0===e?"undefined":(0,F._)(e))&&e.IsValid){if(!e.IsValid())return i;e=function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds)}(e)}var r=Ue()(e);if((t=t||"YYYY-MM-DD HH:mm:ss").indexOf("Z")>=0){n=Object.assign({separator:":",prefix:"",suffix:"",showSpace:!0},n);var o=r.format("Z");":"!==n.separator&&(o=o.replace(":",String(n.separator))),""!==n.prefix&&(o=String(n.prefix)+o),""!==n.suffix&&(o+=String(n.suffix)),t=t.replace(/\s+Z+|Z+/g,"");var a=n.showSpace?" ":"";i=r.format(t)+a+o}else i=r.format(t);return i},We=function(e){return"D:"+ze(e,"YYYYMMDDHHmmssZ",{separator:"'",showSpace:!1})+"'"};const Ye=ze;var Ge=n(6929);const $e={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66,collaborationSession:1400};var Je={download:1},qe={normal:0,italic:1,bold:2},Ke={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5,noBorder:6},Ze={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},Xe={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},Qe={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},et={left:0,center:1,right:2},tt={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},nt=Ge.ActionType,it={none:0,invert:1,outline:2,push:3,toggle:4},rt={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},ot={fdf:0,xfdf:1,xml:2,csv:3,txt:4,json:5},at={all:0,field:1,annot:2},st={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},At={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},ct={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},ut={rotation0:0,rotation1:1,rotation2:2,rotation3:3},lt={rotation0:0,rotation90:90,rotation180:180,rotation270:270},dt={caseSensitive:1,wholeWord:2,consecutively:4},ht={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},ft={all:0,even:1,odd:2},pt={page:"page",annot:"annot"},gt={print:"print",view:"view"},vt={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},mt={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},yt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},_t={verifyUnknown:2147483648,verifyValid:4,verifyInvalid:8,verifyErrorByteRange:64,verifyChange:128,verifyIncredible:256,verifyNoChange:1024,verifyIssueUnknown:2048,verifyIssueValid:4096,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},bt={showTagImage:1,showLabel:2,showReason:4,showDate:8,showDistinguishName:16,showLocation:32,showSigner:64,showBitmap:128,showText:256,showDrawing:512},wt={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},kt={CalcContentsBox:0,CalcDetection:1},xt={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4},Pt={Fill:0,Stroke:1,FillStroke:2,Invisible:3,FillClip:4,StrokeClip:5,FillStrokeClip:6,Clip:7},Ct={Courier:0,CourierB:1,CourierBI:2,CourierI:3,Helvetica:4,HelveticaB:5,HelveticaBI:6,HelveticaI:7,Times:8,TimesB:9,TimesBI:10,TimesI:11,Symbol:12,ZapfDingbats:13},Dt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,NonSymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,Bold:262144},Et={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EastEurope:238,Russian:204,Greek:161,Turkish:162,Hebrew:177,Arabic:178,Baltic:186},St={Unknown:0,GB1:1,CNS1:2,JAPAN1:3,KOREA1:4,UNICODE:5},It={None:0,Alternate:1,Winding:2},Tt={All:0,Text:1,Path:2,Image:3,Shading:4,FormXObject:5},Mt={borderColor:"borderColor",fillColor:"fillColor",normalCaption:"normalCaption",downCaption:"downCaption",rolloverCaption:"rolloverCaption"},Rt={first:0,last:1,after:2,before:3,next:2,prev:3},Ft={crossMark:1,checkMark:2,roundRectangle:3,line:4,dot:5},Nt={Dests:1,JavaScript:2,EmbeddedFiles:3,Templates:4,Pages:5},Lt={none:1,superscript:2,subscript:3},Ot={CUSTOM_TEXT:"type here to insert text",NAME:"author name",NAME_DATE_TIME:"author name, date and time",DATE_TIME:"date and time",DATE:"date"},jt={UseNone:"UseNone",UseOutlines:"UseOutlines",UseThumbs:"UseThumbs",FullScreen:"FullScreen",UseOC:"UseOC",UseAttachments:"UseAttachments"},Bt={Metadata:"bRemoveMetadata",Fileattachment:"bRemoveFileattachment",Bookmarks:"bRemoveBookmark",EmbeddedSearchIndexes:"bRemoveSearchIndex",CommentsAndMarkups:"bRemoveComment",FormFields:"bRemoveForm",HiddenText:"bRemoveHideText",HiddenLayers:"bRemoveHideLayer",DeletedOrCroppedContent:"bRemoveContent",LinksActionsJavascripts:"bRemoveLink",OverlappingObjects:"bRemoveOverlaping"},Vt={Default:"Default",SinglePage:"SinglePage",OneColumn:"OneColumn",TwoColumnLeft:"TwoColumnLeft",TwoColumnRight:"TwoColumnRight",TwoPageLeft:"TwoPageLeft",TwoPageRight:"TwoPageRight"},Ht={Style_Type:{editTextBox:0,editTextCaret:1,addTextBBox:2,editObjectBox:3,editShapeBox:4},Line_Type:{straightLine:0,thinDashedLine:1,normalDashedLine:2,thickDashedLine:3,thinDashedDotLine:4,normalDashedDotLine:5,thickDashedDotLine:6}};var Ut="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function zt(e){var t,n=e.length,i=0;for(t=0;t<n;t++){var r=e.charCodeAt(t);r>=128||"W"==Ut[r]||"#"==e[t]||"D"==Ut[r]?i+=3:i++}if(i==n)return e;var o="";for(t=0;t<n;t++){var a=e.charCodeAt(t);if(a>=128||"W"==Ut[a]||"#"==e[t]||"D"==Ut[a]){if("W"==Ut[a]&&0==a)continue;o+="#",o+="0123456789ABCDEF"[parseInt(a/16)],o+="0123456789ABCDEF"[a%16]}else o+=e[t]}return o}function Wt(e){var t;for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t===e.length)return"("+e.replace(/([\(|\)])/g,"\\$1")+")";var n="<FEFF";for(t=0;t<e.length;t++){for(var i=e.charCodeAt(t).toString(16);i.length<4;)i="0"+i;n+=i}return n+">"}function Yt(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return new Uint8Array(t)}var Gt=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"JSONToFDF",value:function(t){for(var n={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},i=[],r=0,o=t.length;r<o;r++){var a=t[r];a.type&&(a.deleted?i.push({name:a.name,page:a.page}):e.singleAnnotJSONToFDF(n,a,!1))}return new Blob([Yt(n.file.replace(/\{annotsRefArray\}/,n.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})}},{key:"singleAnnotJSONToFDF",value:function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.next;if(r?i="Popup":r="popup"==(i={unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[(n&&n.type&&n.type.toLowerCase()||"").toString().toLowerCase()]).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return 0;var a=n.style||"S";a=a.toUpperCase()[0];var s=n.width,A=n.color||"",c="C"==a?"C":"S",u=n.intensity,l=0===n.opacity?0:n.opacity||1,d=Wt(n.contents||""),h=n.flags||"print",f=h.split(",");for(var p in h=0,me)-1!=f.indexOf(me[p])&&(h|=1<<parseInt(p));var g=n.creationdate,v=n.date,m=n.name||"",y=n.page,_=(n.rect||"").replace(/,/g," "),b=Wt(n.subject||"subject"),w=Wt(n.title||"title"),k=n["interior-color"]||n.interiorColor,x="".concat(o," 0 obj\n")+"<<"+"/Rect [".concat(_,"]")+"/Subtype /".concat(i)+"/NM (".concat(m,")");if(n.customEntries&&"object"==(0,F._)(n.customEntries)&&Object.keys(n.customEntries).length>0){var P=Wt(JSON.stringify(n.customEntries));x+="/customEntries ".concat(P,"/")}if(t.annotRef.push("".concat(o," 0 R ")),t.next++,!r){var C;if(v&&(x+="/M (".concat(v,")")),x+="/CA ".concat(l)+"/CreationDate (".concat(g,")")+"/F ".concat(h)+"/Page ".concat(y)+"/Subj ".concat(b)+"/T ".concat(w)+"/Type /Annot",d&&(x+="/Contents ".concat(d)),n.replyType)C="string"==typeof n.replyType&&n.replyType||"Group",x+="/RT /".concat(C[0].toUpperCase()+C.substr(1));n.inreplyto&&(x+="/IRT (".concat(n.inreplyto,")")),n.measureRatio&&(x+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>"))}if((a||s)&&"Stamp"!=i){a=a||"S",s=s||"0",u=u||"0",c=c||"S";var D=(n.dashes||"").replace(/,/g," ");x+="/BS <</S /".concat(a," /W ").concat(s," /D [").concat(D,"]>>")+"/BE <</S /".concat(c," /I ").concat(u,">>")}if("FreeText"!=i?(A&&(x+="/C "+qt(A)),k&&(x+="/IC "+qt(k))):(k&&(x+="/C "+qt(k)),A&&(x+="/IC "+qt(A)),n.fontColor&&(x+="/DS (color:".concat(n.fontColor,")"))),void 0!==n.rotation&&(x+="/Rotate ".concat(n.rotation)),void 0!==n.bm&&(x+="/BM /".concat(zt(n.bm))),void 0!==n.bm&&(x+="/ca ".concat(n.ca)),-1===["link","screen","Popup"].indexOf(i)){var E=n.intent||n.IT;E&&(x+="/IT /".concat(E.replaceAll(" ","#20")))}var S="";switch(i){case"Text":case"Note":var I;x=x.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),n.icon&&(x+="/Name/".concat(zt(n.icon))),(I=n.state)&&(x+="/State(".concat(I,")/StateModel(").concat(n.statemodel,")"));break;case"Link":return"";case"FreeText":x=x.replace(/\/C\s?\[[\s\S]*?\]/,""),k&&(x+="/C ".concat(qt(k)));var T=n.defaultappearance,R=n.justification,N="/DA (".concat(T,")")+"/Q ".concat(R);if(n.callout){var L=n.callout.replace(/,/g," ");N+="/CL  [".concat(L,"]"),N+="/LE/".concat(n.head)}if(n.fringe){var O=n.fringe.replace(/,/g," ");N+="/RD [".concat(O,"]")}S=N;break;case"Line":var j="yes"===n.caption,B=n.head,V=n.tail,H="[/".concat(B,"/").concat(V,"]"),U=n.leaderLength,z=n.start.replace(/,/g," ")+" "+n.end.replace(/,/g," "),W=n.leaderExtend,Y=n.leaderOffset,G=n.captionOffset?n.captionOffset.x+" "+n.captionOffset.y:"",$="/Cap ".concat(j)+"/LE ".concat(H)+"/LL ".concat(U)+"/L [".concat(z,"]")+"/LLE ".concat(W)+"/LLO ".concat(Y);G&&($+="/CO [".concat(G,"]")),void 0!==n.captionColor&&($+="/CC ".concat(qt(n.captionColor))),S=$;break;case"Square":case"Circle":var J=n.fringe.replace(/,/g," "),q="/RD [".concat(J,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor){void 0!==n.captionColor&&(q+="/CC ".concat(qt(n.captionColor)));var K="yes"===n.caption;q+="/Cap ".concat(K),q+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")}S=q;break;case"Polygon":case"PolyLine":var Z=n.vertices.replace(/[,|;]/g," "),X=(n.intent,"yes"===n.caption),Q="/Vertices [".concat(Z,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor&&(void 0!==n.captionColor&&(Q+="/CC ".concat(qt(n.captionColor))),Q+="/Cap ".concat(X),Q+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")),"PolyLine"==i){var ee=n.head,te=n.tail,ne="[/".concat(ee,"/").concat(te,"]");Q+="/LE ".concat(ne)}if(n.path&&n.path.length>0){var ie=n.path.split(";").map(function(e){return"[".concat(e.replace(/,/g," "),"]")}).join(" ");Q+="/Path [".concat(ie,"]")}S=Q;break;case"Redact":if(S+="/OC "+qt(A),S+="/Repeat "+("yes"==n.repeat?"true":"false"),"Redact"==i){S+="/OverlayText"+Wt(n["overlay-text"]||n.overlaText||"");var re=n.defaultappearance;S+="/DA (".concat(re,")"),S+="/Q ".concat(n.justification||0)}case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if("Highlight"===i&&n.AreaHi&&(S+="/AreaHi (".concat(n.AreaHi,")")),"coords"in n){var oe;if(n.coords||"Redact"===i)oe=n.coords.replace(/,/g," ");else{var ae=(0,M._)(n.rect.split(","),4),se=ae[0],Ae=ae[1],ce=ae[2],ue=ae[3];oe=[se,ue,ce,ue,se,Ae,ce,Ae].join(" ")}S+="/QuadPoints [".concat(oe,"]")}break;case"Caret":var le=n.fringe.replace(/,/g," ");S="/RD [".concat(le,"]");break;case"Stamp":if(n.icon&&(S="/Name/".concat(zt(n.icon))),n.raw&&n.raw.N){var de=$t(t,n.raw,n.raw.N);S+="/AP << /N ".concat(de," 0 R >>\n")}break;case"Ink":if("["===n.inklist[0]){var he=n.inklist.substr(1,n.inklist.length-2).split("],["),fe="";he.map(function(e){fe+="["+e.replace(/[,|;]/g," ")+"]"}),S="/InkList [".concat(fe,"]")}else S="/InkList [[".concat(n.inklist.replace(/[,|;]/g," "),"]]");break;case"Popup":S="/Open "+("yes"==n.open?"true":"false"),n.parentObjNum&&(S+="/Parent "+n.parentObjNum+" 0 R");break;case"Sound":S+="/Sound "+$t(t,n,{Filter:"/ASCIIHexDecode",R:n.rate,Type:"/Sound",stream:n.soundStream})+" 0 R";case"FileAttachment":if(n.icon&&(S+="/Name/".concat(zt(n.icon))),n.raw){var pe=$t(t,n.raw,n.raw.FS);S+="/FS ".concat(pe," 0 R ")}}n.popup&&(n.popup.parentObjNum=o,S+="/Popup "+e.singleAnnotJSONToFDF(t,n.popup,!0)+" 0 R");return t.file+=x+S+">>\nendobj\n",o}}]),e}(),$t=function(e,t,n){var i=e.next;e.next++;var r="";if(r+="".concat(i," 0 obj\n"),"string"==typeof n)r+=n;else if((0,T._)(n,Array))r+="["+n.map(function(n){return Jt(e,t,n)}).join(" ")+"]";else{r+="<<\n";for(var o in n)"stream"!=o&&(r+="/"+o+" "+Jt(e,t,n[o]));if(r+=">>",n&&n.stream){for(var a="",s=0;s<n.stream.length;s+=2){var A=parseInt(n.stream[s],16),c=parseInt(n.stream[s+1],16);a+=String.fromCharCode((A<<4)+c)}r+="stream\n"+a+"\nendstream"}}return r+="\nendobj\n",e.file+=r,i},Jt=function(e,t,n){if(null===n)return"null";var i,r=void 0===n?"undefined":(0,F._)(n);if("number"==r)return n;if("string"==r)return"true"===n||"false"===n?n:"/"==n[0]?"/"+zt(n.replace("/","")):"<"==n[0]?n:(i=n.match(/^(\d*)R$/))?$t(e,t,t[i[1]])+" 0 R":"("+n+")";if("boolean"==r)return n?"true":"false";if((0,T._)(n,Array))return"["+n.map(function(n){return Jt(e,t,n)}).join(" ")+"]";var o="<<";for(var a in n)o+="/".concat(a," ")+Jt(e,t,n[a]);return o+">>"},qt=function(e){var t=e.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(t[1],16)/255,i=parseInt(t[2],16)/255,r=parseInt(t[3],16)/255;return"["+n.toFixed(2)+" "+i.toFixed(2)+" "+r.toFixed(2)+"]"},Kt=function(e){for(var t in pe)if(pe[t]==e)return+t;return 0},Zt=function e(t,n,i,r){(0,C._)(this,e),this.left=t,this.bottom=n,this.right=i,this.top=r};const Xt={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};const Qt={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",captionColorUpdated:"captionColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",textColorUpdated:"textColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",PointsUpdated:"points-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",leaderCaptionOffsetUpdated:"leaderCaptionOffset-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",leaderLineExtendUpdated:"leaderLineExtend-updated",leaderLineOffsetUpdated:"leaderLineOffset-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",measureConversionFactorUpdated:"measureConversionFactor-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",moveAction:"move-action",actionOrderChanged:"action-order-changed",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",borderOpacityUpdated:"borderOpacity-updated",fillOpacityUpdated:"fillOpacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",overlayTextUpdated:"overlayText-updated",overlayTexAlignmentUpdated:"overlayTextAlignment-updated",repeatUpdated:"repeat-updated",autoFontSizeUpdated:"autoFontSize-updated",redactDefaultAppearanceUpdated:"redactDefaultAppearance-update",redactOpacityUpdated:"redactOpacity-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies",richTextUpdated:"rich-text-updated",richTextRemoved:"rich-text-removed",addDictionary:"add-dictionary",imageUpdated:"image-updated",formFieldValueUpdated:"form-field-value",formFieldsMaxLengthUpdated:"maxLength",formFieldItemsUpdated:"setItems",formFieldIconUpdated:"icon",formFieldInsertedItem:"insertItemAt",formFieldExportValueUpdated:"form-field-export-value",formFieldMKPropertyUpdated:"form-field-mk-property",formFieldAlternateName:"form-field-alternate-name",formFieldMappingName:"form-field-mapping-name",formFieldActionUpdated:"form-field-action",formWidgetNormalCaptionUpdated:"form-widget-normal-caption-updated",formWidgetMKFillColorUpdated:"form-widget-mk-fill-color-updated",formWidgetMKBorderColorUpdated:"form-widget-mk-border-color-updated",formWidgetAlignmentUpdated:"form-widget-alignment-updated",formWidgetDirectionRTLUpdated:"form-widget-directionRTL-updated",formWidgetRotationUpdated:"form-widget-rotation-updated",formWidgetIconCaptionRelationUpdated:"form-widget-icon-caption-relation-updated",formWidgetHighlightingModeUpdated:"form-widget-highlighting-mode-updated",formWidgetCaptionUpdated:"form-widget-caption-updated",formWidgetIconUpdated:"form-widget-icon-updated",formWidgetIconFitUpdated:"form-widget-icon-fit-updated",formWidgetExportValueUpdated:"form-widget-export-value-updated",pathUpdated:"annot-path-updated",cloudyApUpdated:"set-to-cemicircle-cloudy"};const en={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512};var tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if((0,C._)(this,e),"function"==typeof t.transformRect){var s=t;t=s.a,n=s.b,i=s.c,r=s.d,o=s.e,a=s.f}else if(Array.isArray(t)){var A=t;t=A[0],n=A[1],i=A[2],r=A[3],o=A[4],a=A[5]}this.a=t,this.b=n,this.c=i,this.d=r,this.e=o,this.f=a}return(0,D._)(e,[{key:"set",value:function(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.d=i,this.e=r,this.f=o}},{key:"reset",value:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}},{key:"reverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.a*t.d-t.b*t.c;if(0==n)return t;var i=-n;return new e(t.d/n,t.b/i,t.c/i,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.a*t.f-t.b*t.e)/i)}},{key:"setReverse",value:function(e){var t=this.reverse(e);this.set(t.a,t.b,t.c,t.d,t.e,t.f)}},{key:"rotate",value:function(t,n){var i,r=Math.cos(t),o=Math.sin(t),a=new e(r,o,-o,r,0,0);i=n?e.Concat2mt(a,this):e.Concat2mt(this,a),this.set(i.a,i.b,i.c,i.d,i.e,i.f)}},{key:"rotateAt",value:function(e,t,n,i){this.translate(e,t,i),this.rotate(n,i),this.translate(-e,-t,i)}},{key:"translate",value:function(e,t,n){n?(this.e+=e*this.a+t*this.c,this.f+=t*this.d+e*this.b):(this.e+=e,this.f+=t)}},{key:"concat",value:function(t,n,i,r,o,a,s){var A,c;(0,T._)(t,e)?(A=t,s=n):A=new e(t,n,i,r,o,a),c=s?e.Concat2mt(A,this):e.Concat2mt(this,A),this.set(c.a,c.b,c.c,c.d,c.e,c.f)}},{key:"is90Rotated",value:function(){var e=1e3*this.a;e<0&&(e*=-1);var t=1e3*this.d;t<0&&(t*=-1);var n=this.b;n<0&&(n*=-1);var i=this.c;return i<0&&(i*=-1),e<n&&t<i}},{key:"isScaled",value:function(){var e=1e3*this.b;e<0&&(e*=-1);var t=1e3*this.c;t<0&&(t*=-1);var n=this.a;n<0&&(n*=-1);var i=this.d;return i<0&&(i*=-1),e<n&&t<i}},{key:"getA",value:function(){return this.a}},{key:"getB",value:function(){return this.b}},{key:"getC",value:function(){return this.c}},{key:"getD",value:function(){return this.d}},{key:"getE",value:function(){return this.e}},{key:"getF",value:function(){return this.f}},{key:"scale",value:function(e,t,n){this.a*=e,this.d*=t,n?(this.b*=e,this.c*=t):(this.b*=t,this.c*=e,this.e*=e,this.f*=t)}},{key:"transformXDistance",value:function(e){var t=this.a*e,n=this.b*e;return Math.sqrt(t*t+n*n)}},{key:"transformYDistance",value:function(e){var t=this.c*e,n=this.d*e;return Math.sqrt(t*t+n*n)}},{key:"transformDistance",value:function(e,t){var n=this.a*e+this.c*t,i=this.b*e+this.d*t;return Math.sqrt(n*n+i*i)}},{key:"transformPoint",value:function(e,t){return[this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f]}},{key:"transformRect",value:function(e,t,n,i){for(var r,o=[e,e,n,n],a=[t,i,t,i],s=0;s<4;s++)r=this.transformPoint(o[s],a[s]),o[s]=r[0],a[s]=r[1];for(var A=[o[0],o[0],a[0],a[0]],c=1;c<4;c++)A[0]>o[c]&&(A[0]=o[c]),A[1]<o[c]&&(A[1]=o[c]),A[2]>a[c]&&(A[2]=a[c]),A[3]<a[c]&&(A[3]=a[c]);return[A[0],A[2],A[1],A[3]]}},{key:"getXUnit",value:function(){var e=this.a,t=this.b;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(e*e+t*t)}},{key:"getYUnit",value:function(){var e=this.c,t=this.d;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(e*e+t*t)}},{key:"getUnitRect",value:function(){return this.transformRect(0,0,1,1)}},{key:"matchRect",value:function(e,t){var n=t[0]-t[2];this.a=Math.abs(n)<.001?1:(e[0]-e[2])/n,n=t[3]-t[1],this.d=Math.abs(n)<.001?1:(e[3]-e[1])/n,this.e=e[0]-t[0]*this.a,this.f=e[3]-t[3]*this.d,this.b=0,this.c=0}},{key:"getAngle",value:function(){return Math.atan2(this.b,this.a)}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}}],[{key:"Concat2mt",value:function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.e*n.a+t.f*n.c+n.e,t.e*n.b+t.f*n.d+n.f)}}]),e}();const nn=tn;function rn(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=new nn;if(o.translate(t.x,t.y),o.rotate(Math.atan2(t.y-n.y,n.x-t.x)),o.transformPoint(i.x,i.y)[1]>0){var a=t;t=i,i=a,a=n,n=r,r=a}return[t,n,i,r]}function on(e,t){var n=e.left,i=e.right,r=e.top,o=e.bottom;switch(t%4){case 0:return[{x:n,y:r},{x:i,y:r},{x:n,y:o},{x:i,y:o}];case 1:return[{x:i,y:r},{x:i,y:o},{x:n,y:r},{x:n,y:o}];case 2:return[{x:i,y:o},{x:n,y:o},{x:i,y:r},{x:n,y:r}];case 3:return[{x:n,y:o},{x:n,y:r},{x:i,y:o},{x:i,y:r}]}var a=new nn,s=(n+i)/2,A=(r+o)/2;a.rotateAt(s,A,-radian);var c=a.transformRect(n,r,i,o),u=a.transformPoint(c[0],c[3]);u={x:u[0],y:u[1]};var l=a.transformPoint(c[2],c[3]);l={x:l[0],y:l[1]};var d=a.transformPoint(c[0],c[1]);d={x:d[0],y:d[1]};var h=a.transformPoint(c[2],c[1]);return[u,l,d,h={x:h[0],y:h[1]}]}function an(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e)}}function sn(e){return 0===e.replace(/\s+/gi,"").length}function An(e){var t,n;if(["left","right","top","bottom"].some(function(t){return"number"!=typeof e[t]}))throw new Error("Param error: The rect parameter includes top, bottom, left and right. And only number is available");if(e.left===e.right||e.top===e.bottom)throw new Error("Param error: The value of the rect parameter is invalid.");e.left>e.right&&(t=[e.right,e.left],e.left=t[0],e.right=t[1]);e.bottom>e.top&&(n=[e.bottom,e.top],e.top=n[0],e.bottom=n[1]);return e}var cn=n(8278),un=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t))._isEmpty=!e,i.info=e||{},i.page=n,i.api=n.api,i.engine=n.engine,i.eventEmitter=n.engine.eventEmitter,i.id=e.id,i.objectNumber=e.objectNumber,i.annotActionAPI=n.doc.annotActionAPI,i.additionalActionAPI=n.doc.additionalActionAPI,i.annotId={get pageIndex(){return n.getIndex()},objNumber:e.objectNumber},i}return(0,I._)(t,e),(0,D._)(t,[{key:"resQuery",get:function(){return{type:"annot",annotId:(0,w._)({},this.getAnnotId())}}},{key:"destroy",value:function(){this.isDestroyed=!0,this.info=null,this.page=null,this.api=null,this.eventEmitter=null}},{key:"checkModidyPerm",value:function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(Xt.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(Xt.fillForm|Xt.annotForm))throw new Error("Permission error")}},{key:"hasModifyPermission",value:function(){return"widget"==this.info.type?this.page.doc.checkPermission(Xt.fillForm|Xt.annotForm):this.page.doc.checkPermission(Xt.annotForm)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"getInfo",value:function(){return this.info}},{key:"getId",value:function(){return this.info.objectNumber}},{key:"getObjectNumber",value:function(){return this.info.objectNumber}},{key:"getUniqueID",value:function(){return this.info.name}},{key:"setUniqueID",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getUniqueID();return this.page.doc.api.setUniqueId(i.getId(),n.getId(),this.getId(),e).then(function(i){return i?(t.info.name=e,t.update(Qt.uniqueIDUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationIDUpdated,e,r,t,n),i})):i})}},{key:"getName",value:function(){return this.info.name}},{key:"getPDFPage",value:function(){return this.page}},{key:"getPage",value:function(){return this.getPDFPage()}},{key:"getType",value:function(){return this.info.type}},{key:"getTitle",value:function(){return this.info.title}},{key:"isMarkup",value:function(){return this.info.isMarkup}},{key:"isDeleted",value:function(){return this.info.isDeleted}},{key:"getRect",value:function(){var e=this.info.rect;return new Zt(e.left,e.bottom,e.right,e.top)}},{key:"_setRect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.oldRect=this.info.rect,this.info.rect=e;var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.setAnnotRect(o.getId(),r.getId(),this.getId(),e).then(function(e){return e&&i?t.update(Qt.rectUpdated,n).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e}):(t.info.rect=t.oldRect,e)})}},{key:"setRect",value:function(e){var t=this;this.oldRect=this.info.rect,e=An(e),this.info.rect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRect(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.rectUpdated).then(function(e){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),!0}):(t.info.rect=t.oldRect,e)})}},{key:"setRectAndInnerRect",value:function(e,t){var n=this;this.oldRect=this.info.rect,this.info.rect=e,this.info.innerRect=t;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRectAndInnerRect(r.getId(),i.getId(),this.getId(),e,t).then(function(e){return e?n.update(Qt.rectUpdated).then(function(e){return n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),!0}):e})}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.action,o=t.triggerAction,a=void 0===o||o,s=Object.assign({},this.info.rect),A=s.right,c=s.bottom,u=n-s.left,l=i-s.top;this.oldRect=s,this.info.rect={left:n,top:i,right:A+u,bottom:c+l};var d=this.getPDFPage(),h=d.getPDFDoc().getId(),f=d.getId(),p=this.getId();return this.page.doc.api.moveAnnotTo(h,f,p,{left:n,top:i}).then(function(e){return d.getAnnotsByObjectNumArray(e)}).then(function(t){return Promise.all(t.map(function(e){return e._update()})).then(function(n){a&&e.eventEmitter.emit(oe.Z.annotationUpdated,t,d,Qt.rectUpdated),"move"==r&&e.eventEmitter.emit(oe.Z.annotationMovedPosition,t,d,e)})})}},{key:"getDeviceRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),e,t);if(16&this.info.flag){var i=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],e,t);return{left:i[0],top:i[1],right:i[0]+n.right-n.left,bottom:i[1]+n.bottom-n.top}}return n}},{key:"getDeviceInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),e,t)}},{key:"getContent",value:function(){return this.info.content}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this._setContent(e).then(function(n){return t.info.content=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],t.getPDFPage(),Qt.contentUpdated),t})}},{key:"_setContent",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotContent(n.getId(),t.getId(),this.getId(),e)}},{key:"getBorderColor",value:function(){return this.info.borderColor}},{key:"setBorderColor",value:function(e){var t=this;this.checkModidyPerm(),isNaN(e)&&(e=(0,z.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(i.getId(),n.getId(),this.getId(),e).then(function(i){return i?(0===e&&(t.info.hasBorderColor=!1),t.update(Qt.borderColorUpdated).then(function(){t.isGrouped&&t.isGrouped()&&t.getGroupElements().map(function(e){e!=t&&t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],n)});return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),i})):i})}},{key:"getBorderStyle",value:function(){return this.info.borderInfo.style}},{key:"getBorderStyleWithParam",value:function(){var e,t=this.info.borderInfo,n=t.style,i=t.cloudIntensity,r=t.dashes;switch(n){case de.SOLID:e=[];break;case de.CLOUDY:e=i;break;case de.DASHED:e=r}return{style:n,param:e}}},{key:"getBorderInfo",value:function(){return Object.assign({},this.info.borderInfo)}},{key:"setBorderInfo",value:function(e){var t=this;this.checkModidyPerm();var n=this.getType();if(this.getQuadPoints||"caret"===n||"text"===n)return Promise.resolve();var i=JSON.parse(JSON.stringify(this.info.borderInfo||{}));e=this.info.borderInfo=Object.assign(i,e);var r=this.getPDFPage(),o=r.getPDFDoc();return 1===e.style&&0===e.dashes.length&&(e.dashes=[2,2]),5===e.style&&e.cloudIntensity>2&&(e.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(o.getId(),r.getId(),this.getId(),e).then(function(e){return t._update()}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,[t],r,Qt.borderInfoUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],r),!0})}},{key:"setBorderStyle",value:function(e,t){var n=this,i=this.info.borderInfo;switch(i.style=e,e){case 1:i.dashes=t;break;case 5:i.cloudIntensity=t}var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(o.getId(),r.getId(),this.getId(),e,t).then(function(e){return r.getAnnotsByObjectNumArray(e)}).then(function(e){for(var t=[],n=e.length;n--;)t.push(e[n]._update());return Promise.all(t)}).then(function(e){return n.eventEmitter.emit(oe.Z.annotationUpdated,e,r,Qt.borderStyleUpdated),n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,r),!0})}},{key:"getBorderDashes",value:function(){return Object.assign([],this.info.borderInfo.dashes)}},{key:"getBorderWidth",value:function(){var e=this.info.borderInfo.width;return void 0===e?1:+e}},{key:"setBorderWidth",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(i.getId(),n.getId(),this.getId(),e).then(function(e){return t._update().then(function(t){return e})}).then(function(e){return e&&(t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.borderWidthUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)),e})}},{key:"getCloudIntensity",value:function(){return this.info.borderInfo.cloudIntensity||0}},{key:"reviseSummary",value:function(e){return Promise.resolve(this)}},{key:"rectIsEmpty",value:function(){return this.info.rectIsEmpty}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then(function(){return n&&e&&t.eventEmitter.emit(oe.Z.annotationUpdated,[t],t.getPDFPage(),e),t})}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.getAnnot(i.getId(),n.getId(),this.getId()).then(function(n){return n.rotation&&n.rotation<0&&(n.rotation+=360),e.updateInfo(n,t),e})}},{key:"_updateMore",value:function(){}},{key:"getRectData",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.getRectData({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"updateRectData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getRectData().then(function(n){return e.oldRect=e.info.rect,e.info=Object.assign({},e.info,n),e.updateInfo(e.info,t),e})}},{key:"getFlags",value:function(){return this.info.flag}},{key:"isReplace",value:function(){return!1}},{key:"getIndex",value:function(){return this.info.index}},{key:"setFlags",value:function(e,t){var n=this;this.checkModidyPerm(),this.info.flag=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotFlag(r.getId(),i.getId(),this.getId(),e).then(function(e){return e?n.update(Qt.flagsUpdated,!t).then(function(t){return n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],i),e}):e})}},{key:"setFlagValue",value:function(e,t){return this.setFlags(e,t)}},{key:"getModifiedDateTime",value:function(){var e=this.info.modifiedTimestamp;return e<0?null:new Date(e)}},{key:"setModifiedDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setModifiedDateTime(i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.modifiedDateTimeUpdated)})}},{key:"_setModifiedDateTime",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setModifiedDateTime(r.getId(),i.getId(),this.getId(),e).then(function(e){return n.update(Qt.modifiedDateTimeUpdated,t)})}},{key:"exportToJSON",value:function(){var e=this.info.hasBorderColor?(0,z.colorConvertor)(16777215&this.info.borderColor,"#"):0,t=this.info.flag,n=[];for(var i in me)t&1<<parseInt(i)&&n.push(me[i]);n=n.join(",");var r=this.info.name,o=this.page.getIndex(),a=this.info.rect,s=a.left+","+a.bottom+","+a.right+","+a.top,A=this.info.content,c=this.info.borderInfo,u=this.info.type,l=this.info.customEntries,d={type:u,color:e,flags:n,name:r,page:o,rect:s,contents:A,width:c.width,customEntries:l,objectNumber:this.info.objectNumber};switch(-1!=this.info.modifiedTimestamp&&(d.date=We(new Date(this.info.modifiedTimestamp))),c.style){case de.SOLID:d.style="solid";break;case de.DASHED:d.style="dashed",d.dashPhase=c.dashPhase,d.dashes=c.dashes.join(",");break;case de.UNDERLINE:d.style="underline";break;case de.BEVELED:d.style="beveled";break;case de.INSET:d.style="inset";break;case de.CLOUDY:d.style="cloudy",d.intensity=c.cloudIntensity}return d}},{key:"updateInfo",value:function(e,t){this._isEmpty=!e;var n=this.oldRect||this.info.rect;this.oldRect=null;var i=e.rect;this.info=e,t||this.eventEmitter.emit(oe.Z.invalidRect,new Zt(n.left,n.bottom,n.right,n.top),new Zt(i.left,i.bottom,i.right,i.top),e.type,e,this.page),this._updateMore(),this.action&&e.action&&(this.action=this.page.doc.engine.actionFactory.createAction(e.action,this.page.doc,this.page.doc.api,this.eventEmitter,this))}},{key:"getIntent",value:function(){return""}},{key:"setCustomEntries",value:function(e,t){this.info.customEntries=this.info.customEntries||{},this.info.customEntries[e]=t}},{key:"setDictionaryEntry",value:function(e,t){var n=this;return this._setDictionaryEntry(e,t).then(function(e){return e&&n.eventEmitter.emit(oe.Z.annotationUpdated,[n],n.getPDFPage(),Qt.addDictionary),e})}},{key:"_setDictionaryEntry",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setDictionaryEntry(r.getId(),i.getId(),this.getId(),e,t).then(function(i){return i&&n.setCustomEntries(e,t),i})}},{key:"getDictionaryEntry",value:function(e){return this._getDictionaryEntry(e)}},{key:"_getDictionaryEntry",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictionaryEntry(n.getId(),t.getId(),this.getId(),e)}},{key:"resetAppearanceStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.resetAppearanceStream(t.getId(),e.getId(),this.getId())}},{key:"getDictValue",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictValue({path:"jr/doc/page/annot"},n.getId(),t.getId(),this.getId(),e)}},{key:"setDictValue",value:function(e,t){var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setDictValue({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e,t)}},{key:"hasDictKey",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.hasDictKey({path:"jr/doc/page/annot"},n.getId(),t.getId(),this.getId(),e)}},{key:"setCustomAPStream",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setCustomAPStream({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then(function(e){n.updateInfo(n.info,!1),n.eventEmitter.emit(oe.Z.annotationUpdated,[n],n.getPDFPage(),oe.Z.annotationAppearanceUpdated)})}},{key:"supportsAction",value:function(){switch(this.getType()){case cn.AnnotType.screen:case cn.AnnotType.link:case cn.AnnotType.sound:case cn.AnnotType.widget:return!0}return!1}},{key:"setAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.setAction(this.getAnnotId(),e).then(function(){t.update(Qt.actionDataUpdated,!0)})}},{key:"appendAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.appendAction(this.getAnnotId(),e).then(function(){t.update(Qt.actionDataUpdated,!0)})}},{key:"updateAction",value:function(e,t){var n=this;return this._assertsActionSupport(),this.annotActionAPI.updateAction(this.getAnnotId(),e,t).then(function(){n.update(Qt.actionDataUpdated,!0)})}},{key:"removeAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.removeAction(this.getAnnotId(),e).then(function(e){return t.update(Qt.actionDataUpdated,!0),e})}},{key:"getActionData",value:function(){return this._assertsActionSupport(),this.annotActionAPI.getActionData(this.getAnnotId())}},{key:"triggerAction",value:function(e){return this._assertsActionSupport(),this.annotActionAPI.triggerAction(this.getAnnotId(),e)}},{key:"_assertsActionSupport",value:function(){if(!this.supportsAction())throw new Error("The current annotation type does not support 'Action'. You may need to handle 'AdditionalAction'")}},{key:"appendAdditionalAction",value:function(e,t){var n=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.appendAction({type:"annot",annotId:this.getAnnotId()},e,t).then(function(){n.emitPropertyUpdateEvent(Qt.actionDataUpdated),n.emitPropertyUpdateEvent(Qt.additionalActionDataAdded)})}},{key:"setAdditionalAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.additionalActionAPI.overwriteAction(this.resQuery,e,t)];case 1:return n.sent(),this.emitPropertyUpdateEvent(Qt.actionDataUpdated),this.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated),[2]}})}).call(this)}},{key:"removeAdditionalAction",value:function(e,t){var n=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.removeAction({type:"annot",annotId:this.getAnnotId()},e,t).then(function(e){return n.emitPropertyUpdateEvent(Qt.additionalActionDataRemoved),e})}},{key:"updateAdditionalAction",value:function(e,t,n){return(0,x._)(function(){return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.additionalActionAPI.updateAction(this.resQuery,e,t,n)];case 1:return i.sent(),this.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated),[2]}})}).call(this)}},{key:"getAdditionalActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.ALL_ACTION_TRIGGER_EVENTS;return this.additionalActionAPI.getActions(this.resQuery,e)}},{key:"triggerAdditionalAction",value:function(e){this.additionalActionAPI.triggerAction(this.resQuery,e)}},{key:"moveAdditionalAction",value:function(e){var t=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.moveAction(this.resQuery,e).then(function(e){return e&&t.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated),e})}},{key:"getAllActionData",value:function(){return this.annotActionAPI.getFullActionData(this.getAnnotId())}},{key:"moveActionOrder",value:function(e){var t=this;return this._assertsAdditionalActionSupport(),this.annotActionAPI.moveActionAcross(this.getAnnotId(),e).then(function(e){return e&&t.emitPropertyUpdateEvent(Qt.actionOrderChanged),e})}},{key:"emitPropertyUpdateEvent",value:function(e){this.eventEmitter.emit(oe.Z.annotationUpdated,[this],this.getPage(),e)}},{key:"_assertsAdditionalActionSupport",value:function(){}},{key:"getAnnotId",value:function(){return this.annotId}}]),t}(z.Disposable);const ln=un;var dn,hn={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&hn.ButtonRadiosInUnison},isHidden:function(e){return e&hn.Hidden},isReadOnly:function(e){return e&hn.ReadOnly},isRequired:function(e){return e&hn.Required},isNoExport:function(e){return e&hn.NoExport},isMultiline:function(e){return e&hn.TextMultiline},isPassword:function(e){return e&hn.TextPassword},isComb:function(e){return e&hn.TextComb},isNoSpellCheck:function(e){return e&hn.TextDoNotSpellCheck},isNoScroll:function(e){return e&hn.TextDoNotScroll},isComboEdit:function(e){return e&hn.ComboEdit},isChoiceMultiSelect:function(e){return e&hn.ChoiceMultiSelect}},fn={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(e){return e&fn.FlagExclude},isIncludeNoValueFields:function(e){return e&fn.FlagIncludeNoValueFields},isHTML:function(e){return e&fn.FlagExportFormat},isGetMethod:function(e){return e&fn.FlagGetMethod},isXFDF:function(e){return e&fn.FlagAsXFDF},isPDF:function(e){return e&fn.FlagSubmitAsPDF},getType:function(e){var t=fn.isHTML(e);if(t)return"HTML";var n=fn.isXFDF(e);if(n)return"XFDF";var i=fn.isPDF(e);return i?"PDF":t||n||i?void 0:"FDF"}},pn={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},gn=hn,vn={ordinary:0,pagingSeal:4},mn=function(e){return e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_DISTANCE="createDistance",e.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",e.STATE_HANDLER_CREATE_AREA="createArea",e.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",e.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",e.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",e.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",e.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",e.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",e.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",e.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",e.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",e.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT="createDocumentAttachment",e}({}),yn=mn.STATE_HANDLER_HAND,_n=mn.STATE_HANDLER_CHECK_THE_SEARCH,bn=mn.STATE_HANDLER_CREATE_CARET,wn=mn.STATE_HANDLER_CREATE_ARROW,kn=mn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,xn=mn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,Pn=mn.STATE_HANDLER_CREATE_CIRCLE,Cn=mn.STATE_HANDLER_CREATE_FILE_ATTACHMENT,Dn=mn.STATE_HANDLER_CREATE_HIGHLIGHT,En=mn.STATE_HANDLER_CREATE_IMAGE,Sn="createEditImage",In=mn.STATE_HANDLER_CREATE_LINK,Tn=mn.STATE_HANDLER_CREATE_LINE,Mn=mn.STATE_HANDLER_CREATE_DISTANCE,Rn=mn.STATE_HANDLER_CREATE_PERIMETER,Fn=mn.STATE_HANDLER_CREATE_AREA,Nn=mn.STATE_HANDLER_CREATE_CIRCLE_AREA,Ln=mn.STATE_HANDLER_CREATE_PENCIL,On=mn.STATE_HANDLER_CREATE_POLYGON_CLOUD,jn=mn.STATE_HANDLER_CREATE_POLYGON,Bn=mn.STATE_HANDLER_CREATE_POLYLINE,Vn=mn.STATE_HANDLER_CREATE_REPLACE,Hn=mn.STATE_HANDLER_CREATE_SQUARE,Un="createSquareCrop",zn=mn.STATE_HANDLER_CREATE_SQUIGGLY,Wn=mn.STATE_HANDLER_CREATE_STAMP,Yn=mn.STATE_HANDLER_CREATE_STRIKE_OUT,Gn=mn.STATE_HANDLER_CREATE_TEXT,$n=mn.STATE_HANDLER_CREATE_UNDERLINE,Jn=mn.STATE_HANDLER_MARQUEE,qn=mn.STATE_HANDLER_ERASER,Kn=mn.STATE_HANDLER_LOUPE,Zn=mn.STATE_HANDLER_SELECT_TEXT_ANNOTATION,Xn=mn.STATE_HANDLER_SELECT_TEXT_IMAGE,Qn="select-text",ei=mn.STATE_HANDLER_SELECT_ANNOTATION,ti=mn.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,ni=mn.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,ii=mn.STATE_HANDLER_CREATE_FREETEXT_BOX,ri=mn.STATE_HANDLER_SNAPSHOT_TOOL,oi="create-crop-pages",ai=mn.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT,si=mn.STATE_HANDLER_CREATE_FIELD_TEXT,Ai=mn.STATE_HANDLER_CREATE_FIELD_SIGNATURE,ci=mn.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,ui=mn.STATE_HANDLER_CREATE_FIELD_CHECK_BOX,li=mn.STATE_HANDLER_CREATE_RADIO_BUTTON,di=mn.STATE_HANDLER_CREATE_FIELD_COMBO_BOX,hi=mn.STATE_HANDLER_CREATE_FIELD_LIST_BOX,fi=mn.STATE_HANDLER_CREATE_FIELD_DATE,pi=mn.STATE_HANDLER_CREATE_FIELD_IMAGE,gi=mn.STATE_HANDLER_CREATE_RADIO_BUTTON,vi="CreateArticleButtonStateHandler",mi=(dn={},(0,U._)(dn,Gn,"text"),(0,U._)(dn,Dn,"highlight"),(0,U._)(dn,Yn,"strikeout"),(0,U._)(dn,$n,"underline"),(0,U._)(dn,zn,"squiggly"),(0,U._)(dn,Vn,"strikeout"),(0,U._)(dn,bn,"caret"),(0,U._)(dn,ti,"freetext"),(0,U._)(dn,ni,"freetext"),(0,U._)(dn,ii,"freetext"),(0,U._)(dn,Hn,"square"),(0,U._)(dn,Pn,"circle"),(0,U._)(dn,Tn,"line"),(0,U._)(dn,wn,"line"),(0,U._)(dn,jn,"polygon"),(0,U._)(dn,Bn,"polyline"),(0,U._)(dn,On,"polygon"),(0,U._)(dn,kn,"highlight"),(0,U._)(dn,Ln,"ink"),(0,U._)(dn,Wn,"stamp"),(0,U._)(dn,Mn,"line"),(0,U._)(dn,Rn,"polyline"),(0,U._)(dn,Fn,"polygon"),(0,U._)(dn,Nn,"circle"),(0,U._)(dn,Cn,"fileattachment"),(0,U._)(dn,En,"screen"),(0,U._)(dn,In,"link"),(0,U._)(dn,"create-multi-media-state","screen"),(0,U._)(dn,"create-redaction-text-image-state","redact"),(0,U._)(dn,"create-redaction-state","redact"),dn),yi={CreatePushButtonStateHandler:pn.PushButton,CreateCheckBoxStateHandler:pn.CheckBox,CreateRadioButtonStateHandler:pn.RadioButton,CreateComboBoxStateHandler:pn.ComboBox,CreateListBoxStateHandler:pn.ListBox,CreateTextStateHandler:pn.Text,CreateSignStateHandler:pn.Sign,CreateDateStateHandler:pn.Text,CreateImageStateHandler:pn.PushButton};const _i={annotation:"annotation"};var bi=function(){function e(t){(0,C._)(this,e),this.annot=t.isGrouped&&t.isGrouped()?t.getGroupHeader():t,this.tooltip="",this.delay=500,this.moveThreshold=2,this.positionThreshold=10,this.oldClientX=0,this.oldClientY=0,this.tipElement=document.createElement("div"),document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]),this.createTooltipElement()}return(0,D._)(e,[{key:"createTooltipElement",value:function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){this.tipElement.classList.add("fv_viewer-tooltip-container"),this.tipElement.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+this.annot.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"></div>',this.tipElement.innerHTML=e,this.tipElement.querySelector(".fv_viewer-tooltip-content").innerText=" "+this.annot.getContent(),document.getElementsByTagName("body")[0].appendChild(this.tipElement),this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}},{key:"getPosition",value:function(e,t){var n=document.documentElement.clientHeight,i=this.tooltip.getBoundingClientRect().width,r=this.tooltip.getBoundingClientRect().height,o=e+this.positionThreshold,a=t+this.positionThreshold;return document.documentElement.clientWidth-e<i+this.positionThreshold&&(o-=i+this.positionThreshold),n-a<r&&(a=t-r),{x:o,y:a}}},{key:"setPosition",value:function(e,t){this.tooltip.style.left=e+"px",this.tooltip.style.top=t+"px"}},{key:"hide",value:function(){this.tooltip.classList.remove("tooltip-active"),this.tooltip.classList.add("tooltip-unactive")}},{key:"show",value:function(e,t){return(0,x._)(function(){var n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return"widget"!==this.annot.getType()?[3,2]:[4,this.annot.getField().getAlternateName()];case 1:return(n=a.sent())?(document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=n,[3,3]):[2];case 2:if(i=this.annot.getTitle(),r=this.annot.getContent(),!i)return[2];document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=i,document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=r,a.label=3;case 3:return o=this.getPosition(e,t),this.setPosition(o.x,o.y),this.tooltip.classList.remove("tooltip-unactive"),this.tooltip.classList.add("tooltip-active"),[2]}})}).call(this)}}]),e}();function wi(e,t){var n=e.x,i=e.y,r=t.left,o=t.right,a=t.top,s=t.bottom;return n>=r&&n<=o&&i>=s&&i<=a}function ki(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l;return(0,N.Jh)(this,function(d){switch(d.label){case 0:return t=e.getType(),[4,e.page.getViewportRect()];case 1:switch(n=d.sent(),t){case"line":return i=e.getStartPoint(),r=e.getEndPoint(),[2,wi(i,n)&&wi(r,n)];case"polyline":case"polygon":if(0===(o=e.getVertexes()).length)return[2,!1];a=!0,s=!1,A=void 0;try{for(c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)if(!wi(u.value,n))return[2,!1]}catch(e){s=!0,A=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw A}}return[2,!0];case"circle":return[2,wi({x:(l=e.getRect()).left,y:l.top},n)&&wi({x:l.right,y:l.top},n)&&wi({x:l.left,y:l.bottom},n)&&wi({x:l.right,y:l.bottom},n)];default:return[2,!1]}return[2]}})})()}var xi="vertical",Pi="horizontal",Ci=function(){function e(t,n){(0,C._)(this,e),this.fromInchRate=t,this.name=n,Object.defineProperties(this,{fromInchRate:{value:t,enumerable:!0,writable:!1,configurable:!0},name:{value:n,enumerable:!0,writable:!1,configurable:!0}})}return(0,D._)(e,[{key:"isPixel",get:function(){return!1}},{key:"convertTo",value:function(e,t){return e/this.fromInchRate*t.fromInchRate}},{key:"convertAreaTo",value:function(e,t){return e/Math.pow(this.fromInchRate,2)*Math.pow(t.fromInchRate,2)}}]),e}(),Di=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[0,"px"])).orientation=e,Object.defineProperty(n,"fromInchRate",{get:function(){var t=(0,z.getDPI)();switch(e){case Pi:return t.x;case xi:return t.y;default:return t.x}}}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"isPixel",get:function(){return!0}}]),t}(Ci);const Ei={inch:"inch",custom:"custom",mi:"mi",pt:"pt",ft:"ft",yd:"yd",km:"km",m:"m",cm:"cm",mm:"mm",pica:"pica"};var Si,Ii=new Ci(1,Ei.inch),Ti=new Ci(1,Ei.custom),Mi=new Ci(1/63360,Ei.mi),Ri=new Ci(72,Ei.pt),Fi=new Ci(1/12,Ei.ft),Ni=new Ci(1/36,Ei.yd),Li=new Ci(.0254/1e3,Ei.km),Oi=new Ci(.0254,Ei.m),ji=new Ci(2.54,Ei.cm),Bi=new Ci(25.4,Ei.mm),Vi=new Ci(6,Ei.pica),Hi=new Di(Pi),Ui=new Di(xi),zi=(Si={},(0,U._)(Si,Ii.name,Ii),(0,U._)(Si,Ti.name,Ti),(0,U._)(Si,Mi.name,Mi),(0,U._)(Si,Ri.name,Ri),(0,U._)(Si,Fi.name,Fi),(0,U._)(Si,Ni.name,Ni),(0,U._)(Si,Li.name,Li),(0,U._)(Si,Oi.name,Oi),(0,U._)(Si,ji.name,ji),(0,U._)(Si,Bi.name,Bi),(0,U._)(Si,Vi.name,Vi),(0,U._)(Si,Hi.name,Hi),Si);function Wi(e){switch(e=(e=e.toLowerCase()).replace(/[^a-z]/g,"")){case"in":e="inch";break;case"p":e="pica"}return zi[e]}function Yi(e){var t=1;switch(e){case"pt":t=72;break;case"in":case"inch":default:t=1;break;case"cm":t=2.54;break;case"p":case"pica":t=5.9;break;case"mm":t=25.4}return t}var Gi,$i="userSpaceUnit",Ji="userSpaceScaleValue",qi="realScaleValue",Ki=(Gi={},(0,U._)(Gi,mn.STATE_HANDLER_CREATE_PERIMETER,"perimeter"),(0,U._)(Gi,mn.STATE_HANDLER_CREATE_DISTANCE,"distance"),(0,U._)(Gi,mn.STATE_HANDLER_CREATE_AREA,"area"),(0,U._)(Gi,mn.STATE_HANDLER_CREATE_CIRCLE_AREA,"area"),function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"convertPoint2RealUnit",value:function(e,t){if(!t)return e;var n=t[Ji],i=t[$i],r=t[qi];return Ri.convertTo(e,i)*(r/n)}},{key:"caculateDistance",value:function(t,n,i){var r=n.x-t.x,o=n.y-t.y,a=Math.abs(r),s=Math.abs(o),A=Math.sqrt(a*a+s*s);return e.convertPoint2RealUnit(A,i)}},{key:"caculateAngle",value:function(t,n,i,r){var o=e.caculateDistance(t,n,r),a=e.caculateDistance(n,i,r),s=e.caculateDistance(t,i,r),A=(Math.pow(o,2)+Math.pow(a,2)-Math.pow(s,2))/(2*o*a);return Number.isNaN(A)||Number.isNaN(Math.acos(A))?0:Math.round(Math.abs(Math.acos(A))/Math.PI*180*100)/100}},{key:"caculateTriangleArea",value:function(e,t,n,i){var r=e.x*t.y+t.x*n.y+n.x*e.y-(e.x*n.y+t.x*e.y+n.x*t.y);if(r/=2,!i)return r;var o=i[Ji],a=i[$i],s=i[qi];return Ri.convertAreaTo(r,a)*Math.pow(s/o,2)}},{key:"caculatePolygonArea",value:function(t,n){for(var i={x:0,y:0},r=0,o=1;o<=t.length;++o)o<t.length?r+=e.caculateTriangleArea(i,t[o-1],t[o],n):r+=e.caculateTriangleArea(i,t[o-1],t[0],n);return Math.abs(r)}},{key:"caculateCircleArea",value:function(e,t){var n=(e.right-e.left)/2*((e.top-e.bottom)/2)*Math.PI;if(!t)return n;var i=t[Ji],r=t[$i],o=t[qi];return Ri.convertAreaTo(n,r)*Math.pow(o/i,2)}}]),e}());const Zi={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",polyline:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"};var Xi=function(e){return e[e.throttle=0]="throttle",e[e.debounce=1]="debounce",e}({}),Qi=function(e){return e.MEASUREMENT="measurement",e.COMPARISON="comparison",e.STAMP="stamp",e.SIGN_CERTIFY="sign-certify",e.SIGNATURE="signature",e}({});function er(){}var tr="measurement-info",nr={userSpaceUnit:Ii,userSpaceScaleValue:1,realUnit:Ii,realScaleValue:1,caption:"",markup:!0},ir="measurementInfo",rr=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"pdfViewer",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.store.dispatch(ir,nr),this.getStorage().get(Qi.MEASUREMENT,tr).then(function(t){e.isDestroyed||t&&(e.pdfViewer.getStore().dispatch(ir,(0,w._)({},e.convertFromRaw(t))),e.addDestroyHook(e.pdfViewer.store.subscribe(ir,function(t){if(!e.isDestroyed)return e.updateMeasurementInfo(t)})))}),this.addDestroyHook(this.getStorage().onChange(function(t){t.context.feature===Qi.MEASUREMENT&&e.pdfViewer.store.dispatch(ir,e.convertFromRaw(t.newValue))}),this.pdfViewer.addEventListener(ae.pageNumberChange,function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.isDestroyed?[2]:[4,(e=this.getStorage()).get(Qi.MEASUREMENT,tr)];case 1:return t=n.sent(),[4,e.set(Qi.MEASUREMENT,tr,t)];case 2:return n.sent(),[2]}})}).call(e)}))}},{key:"updateMeasurementInfo",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getMeasurementInfo()];case 1:return t=r.sent(),n=(0,w._)({},t,e),i=this.convertToRaw(n),[4,this.getStorage().set(Qi.MEASUREMENT,tr,i)];case 2:return r.sent(),[2]}})}).call(this)}},{key:"getMeasurementInfo",value:function(){return this.pdfViewer.store.getCurrentValue(ir)}},{key:"onMeasurementInfoChange",value:function(e){return this.pdfViewer.store.subscribe(ir,e)||er}},{key:"getStorage",value:function(){return this.pdfViewer.getStorage()}},{key:"convertFromRaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!==(void 0===e?"undefined":(0,F._)(e))?Object.assign({},nr):{userSpaceUnit:e.userSpaceUnit?new Ci(e.userSpaceUnit.fromInchRate,e.userSpaceUnit.name):Ii,userSpaceScaleValue:null==e.userSpaceScaleValue?1:e.userSpaceScaleValue,realUnit:e.realUnit?new Ci(e.realUnit.fromInchRate,e.realUnit.name):Ii,realScaleValue:null==e.realScaleValue?1:e.realScaleValue,caption:e.caption||"",markup:!1!==e.markup}}},{key:"convertToRaw",value:function(e){return{userSpaceUnit:e.userSpaceUnit?{fromInchRate:e.userSpaceUnit.fromInchRate,name:e.userSpaceUnit.name}:nr.userSpaceUnit,userSpaceScaleValue:e.userSpaceScaleValue||nr.userSpaceScaleValue,realUnit:e.realUnit?{fromInchRate:e.realUnit.fromInchRate,name:e.realUnit.name}:nr.realUnit,realScaleValue:e.realScaleValue||nr.realScaleValue,caption:e.caption||nr.caption,markup:void 0===e.markup?nr.markup:e.markup}}},{key:"isSame",value:function(e,t){return JSON.stringify(this.convertToRaw(e))===JSON.stringify(this.convertToRaw(t))}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),t}(z.Disposable),or=function(){function e(t){(0,C._)(this,e),this.match=t}return(0,D._)(e,[{key:"getEndCharIndex",value:function(){return this.match.endCharIndex}},{key:"getPageIndex",value:function(){return this.match.pageIndex}},{key:"getRects",value:function(){return this.match.rectArray}},{key:"getSentence",value:function(){return this.match.sentence}},{key:"getSentenceStartIndex",value:function(){return this.match.sentenceStartIndex}},{key:"getStartCharIndex",value:function(){return this.match.startCharIndex}}]),e}(),ar=function(){function e(t,n){(0,C._)(this,e),this.id=t,this.page=n,this.api=n.api}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then(function(e){return e?new or(e):null})}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then(function(e){return e?new or(e):null})}},{key:"destroy",value:function(){if(!this.page.isDestroyed&&!this.page.doc.isDestroyed&&this.page.doc.api)return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),sr=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).groupElements=[],i.replies=[],i.markedStates=[],i.reviewStates=[],i}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(t.prototype),"getFlags",this).call(this)}},{key:"reviseSummary",value:function(e){var t=this,n=this.info,i=[];this.groupHeader=""._;var r=n.groupElementsSummary.map(function(t){return Promise.resolve(e(t.objectNumber))}),o=Promise.all(r).then(function(e){t.groupElements=e});i.push(o);var a=n.groupHeaderSummary;a&&i.push(Promise.resolve(e(a.objectNumber)).then(function(e){t.groupHeader=e}));var s=n.repliesSummary.map(function(t){return Promise.resolve(e(t.objectNumber))}),A=Promise.all(s).then(function(e){t.replies=e});i.push(A);var c=n.markedStatesSummary.map(function(t){return Promise.resolve(e(t.objectNumber))}),u=Promise.all(c).then(function(e){t.markedStates=e});i.push(u);var l=n.reviewStatesSummary.map(function(t){return Promise.resolve(e(t.objectNumber))}),d=Promise.all(l).then(function(e){t.reviewStates=e});i.push(d);var h=n.popupSummary;return h&&i.push(Promise.resolve(e(h.objectNumber)).then(function(e){t.popup=e})),Promise.all(i).then(function(){return t.reviseSummaryIsOK=!0,t})}},{key:"getBitmap",value:function(e,t,n){var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.getAnnotBitmap(r.getId(),i.getId(),this.getId(),e,t,n,!0)}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(e){return Promise.all(e.map(function(e){return e._update()}))}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.opacityUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})}},{key:"getSubject",value:function(){return this.info.subject}},{key:"setSubject",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setSubject(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.subjectUpdated)})}},{key:"getTitle",value:function(){return this.info.title}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.titleUpdated)})}},{key:"isGrouped",value:function(){return this.info.isGrouped}},{key:"isGroupHeader",value:function(){return this.info.isGroupHeader}},{key:"getGroupElements",value:function(){return this.groupElements}},{key:"getGroupHeader",value:function(){return this.groupHeader}},{key:"getReplyCount",value:function(){return this.replies.length}},{key:"getReply",value:function(e){return this.replies[e]}},{key:"getReplies",value:function(){return this.replies}},{key:"addReply",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.annotAddReply(i.getId(),n.getId(),this.getId(),e).then(function(e){r.info.repliesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addReplyAnnot(i)}).then(function(e){return r.replies.push(e),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationReplyAdd,e,r),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.replyAdded),e})}},{key:"removeRepliesByIdLocaly",value:function(e){if(!Array.isArray(e)||e.length<1||this.replies.length<1)return e||[];var t=e.slice(0);this.replies=this.replies.filter(function(e){var n=t.indexOf(e.getId());return n>-1&&t.splice(n,1),-1==n});var n=e.slice(0);return this.info.repliesSummary=this.info.repliesSummary.filter(function(e){var t=n.indexOf(e.objectNumber);return t>-1&&n.splice(t,1),-1==t}),t}},{key:"getMarkedStateCount",value:function(){return this.markedStates.length}},{key:"getMarkedState",value:function(e){return this.markedStates[e]}},{key:"getMarkedStates",value:function(){return this.markedStates}},{key:"getReviewStateCount",value:function(){return this.reviewStates.length}},{key:"getReviewState",value:function(e){return this.reviewStates[e]}},{key:"getReviewStates",value:function(){return this.reviewStates}},{key:"addReviewState",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.addAnnotReviewState(i.getId(),n.getId(),this.getId(),e).then(function(e){t.info.reviewStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addAddonAnnot(i)}).then(function(e){return t.reviewStates.push(e),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationReviewStateAnnotAdd,e,t),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.reviewStateUpdated),e})}},{key:"removeReviewState",value:function(){var e=this,t=this.page,n=this.getReviewStates(),i=n[n.length-1];return t.removeAnnot(i).then(function(){if(e.reviewStates.pop(),e.info.reviewStatesSummary.pop(),e.reviewStates.length>0){var i=n[e.reviewStates.length-1];i&&(i.reviewStates.pop(),i.info.reviewStatesSummary.pop())}e.page.doc.engine.eventEmitter.emit(oe.Z.removeReviewState,e),e.page.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[e],t,Qt.reviewStateUpdated)})}},{key:"addMarkedState",value:function(e){var t=this,n=arguments[1],i=this.getPDFPage(),r=i.getPDFDoc(),o=this.getGroupHeader()||this;return this.page.doc.api.addAnnotMarkedState(r.getId(),i.getId(),this.getId(),e).then(function(e){if(o.info.markedStatesSummary.length){var t=i.annotIdMap[e.objectNumber];return t.info=e,t}o.info.markedStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var n=i.doc.engine.annotManager.get(e,i);return i.addAddonAnnot(n)}).then(function(e){return o.markedStates.push(e),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationMarkedStateAnnotAdd,e,o,n),t.page.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[t],i,Qt.markedStateUpdated),e})}},{key:"removeMarkedState",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this,r=i.markedStates.pop();return r?(i.info.markedStatesSummary.pop(),t.removeAnnot(r).then(function(){n.engine.eventEmitter.emit(oe.Z.removeMarkedState,e),n.engine.eventEmitter.emit(oe.Z.annotationUpdated,[e],t,Qt.markedStateUpdated)})):Promise.resolve()}},{key:"removeAllStateAnnots",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this;return this.page.doc.api.removeAllStateAnnots(n.getId(),t.getId(),this.getId()).then(function(n){return!!n&&(i.info.markedStatesSummary.forEach(function(e){var n=e.id;t.removeAddonAnnotById(n)}),i.info.reviewStatesSummary.forEach(function(e){var n=e.id;t.removeAddonAnnotById(n)}),i.info.markedStatesSummary=[],i.info.reviewStatesSummary=[],i.reviewStates=[],i.markedStates=[],e.page.doc.engine.eventEmitter.emit(oe.Z.annotationStatesCleared,i),e.page.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[e],t,Qt.statesCleared),n)})}},{key:"getPopup",value:function(){return this.popup}},{key:"getCreateDateTime",value:function(){var e=this.info.creationTimestamp;return e>0?new Date(e):new Date}},{key:"setCreateDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCreateDateTime(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.createDateTimeUpdated)})}},{key:"getIntent",value:function(){return this.info.intent}},{key:"setIntent",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIntent(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(t){for(var n=0;n<t.length;n++)t[n].info.intent=e;return t}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.intentUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,z.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.fillColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getGroupElements();0==i.length&&(i=[this]);for(var r=[],o=0,a=i.length;o<a;o++){var s=i[o];r[o]=s._update()}return Promise.all(r).then(function(i){return e&&n&&t.eventEmitter.emit(oe.Z.annotationUpdated,i,t.getPDFPage(),e),i})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.opacity,i=We(new Date(this.info.creationTimestamp)),r=this.info.intent,o=this.info.subject,a=this.info.title,s=this.info.IRT,A=this.info.RT;r=r&&r.length>0?{IT:r,intent:r}:{};var c=Object.assign({},e,{opacity:n,creationdate:i,subject:o,title:a,bm:this.info.bm,ca:this.info.ca},r);if(s&&A){var u=this.page.annotIdMap[s];u&&(s=u.getName(),c.inreplyto=s),c.replyType=A.toLowerCase()}return this.popup&&(c.popup=this.popup.exportToJSON()),this.info.rotation&&(c.rotation=this.info.rotation),this.info.measureRatio&&(c.measureConversionFactor=this.info.measureConversionFactor,c.measureRatio=this.info.measureRatio,c.measureUnit=this.info.measureUnit),c}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),(this.getGroupHeader()||this)._setContent(e).then(function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])}).then(function(n){var i=n[0];if(i&&(i.info.content=e,i.info.modifiedTimestamp=(new Date).getTime()),t.eventEmitter.emit(oe.Z.annotationUpdated,n,t.getPDFPage(),Qt.contentUpdated),i){var r=i.info.type,o=i.info.intent;("polyline"===r&&"PolyLineDimension"===o||"polygon"===r&&"PolygonDimension"===o||"circle"===r&&"CircleDimension"===o)&&(t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,n,t.getPDFPage()),t.updateInfo(i.info))}return n})}},{key:"getRichText",value:function(){if("freetext"!=this.info.type)return Promise.resolve();var e=this.getPDFPage(),t=e.getPDFDoc();return t.api.getRichText({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"setRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.richTextUpdated).then(function(e){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,t.getPDFPage())})})}},{key:"addRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.addRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.richTextUpdated).then(function(e){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,t.getPDFPage())})})}},{key:"insertRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.insertRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.richTextUpdated).then(function(e){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,t.getPDFPage())})})}},{key:"removeRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.removeRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.richTextRemoved).then(function(e){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,t.getPDFPage())})})}},{key:"setBorderOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setBorderOpacity({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.borderOpacityUpdated).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})})}},{key:"getBorderOpacity",value:function(){return this.info.borderOpacity}},{key:"setFillOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setFillOpacity({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.fillOpacityUpdated).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})})}},{key:"getFillOpacity",value:function(){return this.info.fillOpacity}}]),t}(ln);const Ar=sr;var cr=function(){function e(t,n,i){(0,C._)(this,e),this.doc=t,this.id=n,this.engine=i}return(0,D._)(e,[{key:"hasKey",value:function(e){return this.doc.api.hasKey(this.doc.getId(),this.id,e)}},{key:"setAt",value:function(e,t){var n=this;return this.doc.api.setAt(this.doc.getId(),this.id,e,t).then(function(e){return n.engine.eventEmitter.emit(oe.Z.docModified,n.doc),e})}},{key:"getAt",value:function(e){return this.doc.api.getAt(this.doc.getId(),this.id,e)}}]),e}();const ur=cr;var lr=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"id",void 0),this.id=t}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return Promise.resolve(null)}},{key:"findPrev",value:function(){return Promise.resolve(null)}},{key:"destroy",value:function(){}}]),e}(),dr=["Courier","Courier-Bold","Courier-BoldOblique, Bold italic","Courier-Oblique, Italic","Helvetica","Helvetica-Bold","Helvetica-BoldOblique, Bold italic","Helvetica-Oblique, Italic","Times-Roman","Times-Bold","Times-BoldItalic","Times-Italic","Symbol","ZapfDingbats"];function hr(e,t,n){var i,r=e.json,o=r.contentFormats,a=r.contents,s=[o.TopLeft||(a?[{type:"string",value:a.TopLeft}]:[]),o.TopCenter||(a?[{type:"string",value:a.TopCenter}]:[]),o.TopRight||(a?[{type:"string",value:a.TopRight}]:[]),o.BottomLeft||(a?[{type:"string",value:a.BottomLeft}]:[]),o.BottomCenter||(a?[{type:"string",value:a.BottomCenter}]:[]),o.BottomRight||(a?[{type:"string",value:a.BottomRight}]:[])];s=s.map(function(e){var t="";return e.forEach(function(e){switch(e.type){case"string":sn(e.value)?t="":t+=e.value;break;case"pageNumber":t+=function(e){switch(e){case mt.default:return"<<1>>";case mt.numberOfCount:return"<<1 of n>>";case mt.numberSlashCount:return"<<1/n>>";case mt.pageNumber:return"<<Page 1>>";case mt.pageNumberOfCount:return"<<Page 1 of n>>"}return"<<1>>"}(e.value);break;case"date":t+=function(e){switch(e){case vt.MSlashD:return"<<m/d>>";case vt.MSlashDSlashYY:return"<<m/d/yy>>";case vt.MSlashDSlashYYYY:return"<<m/d/yyyy>>";case vt.MMSlashDDSlashYY:return"<<mm/dd/yy>>";case vt.MMSlashDDSlashYYYY:return"<<mm/dd/yyyy>>";case vt.DSlashMSlashYY:return"<<d/m/yy>>";case vt.DSlashMSlashYYYY:return"<<d/m/yyyy>>";case vt.DDSlashMMSlashYY:return"<<dd/mm/yy>>";case vt.DDSlashMMSlashYYYY:return"<<dd/mm/yyyy>>";case vt.MMSlashYY:return"<<mm/yy>>";case vt.MMSlashYYYY:return"<<mm/yyyy>>";case vt.MDotDDotYY:return"<<m.d.yy>>";case vt.MDotDDotYYYY:return"<<m.d.yyyy>>";case vt.MMDotDDDotYY:return"<<mm.dd.yy>>";case vt.MMDotDDDotYYYY:return"<<mm.dd.yyyy>>";case vt.MMDotYY:return"<<mm.yy>>";case vt.DDotMDotYYYY:return"<<d.m.yyyy>>";case vt.DDDotMMDotYY:return"<<dd.mm.yy>>";case vt.DDDotMMDotYYYY:return"<<dd.mm.yyyy>>";case vt.YYHyphenMMHyphenDD:return"<<yy-mm-dd>>";case vt.YYYYHyphenMMHyphenDD:return"<<yyyy-mm-dd>>"}return"<<<<m/d>>"}(e.value)}}),t});var A=(i={submitLoading:!1,showPreview:!1,fontEmbed:!1,isShrink:!1,isKeep:!1,marginLeft:72,marginRight:72,marginTop:36,marginBottom:36,pageOdd:!0,pageEven:!0,pageCount:n},(0,U._)(i,"fontEmbed",!1),(0,U._)(i,"currentPage",t),i);A.leftHeaderText=s[0],A.centerHeaderText=s[1],A.rightHeaderText=s[2],A.leftFooterText=s[3],A.centerFooterText=s[4],A.rightFooterText=s[5],A.isShrink=r.hasTextShrinked||!1,A.isKeep=r.hasFixedSized||!1,r.startPageNumber=r.startPageNumber||1,A.startPage=r.startPageNumber-1,r.range?(r.range.start=r.range.start||1,r.range.end=r.range.end||n,r.range.start<1&&(r.range.start=1),r.range.start>n&&(r.range.start=n),r.range.end<1&&(r.range.end=1),r.range.end>n&&(r.range.end=n),A.pageStart=r.range.start-1,A.pageEnd=r.range.end-1,0===r.range.filter?(A.pageOdd=!0,A.pageEven=!0):1===r.range.filter?(A.pageOdd=!1,A.pageEven=!0):2===r.range.filter&&(A.pageOdd=!0,A.pageEven=!1)):(A.pageStart=0,A.pageEnd=n-1,A.pageOdd=!0,A.pageEven=!0),r.margin&&(A.marginLeft=r.margin.left,A.marginBottom=r.margin.bottom,A.marginTop=r.margin.top,A.marginRight=r.margin.right);var c=r.font?r.font:r.fontId;return A.font=c||0,A.fontSize=r.textSize||12,A.fontColor=r.textColor||0,A.underLine=r.underline||!1,"string"==typeof A.font?A.fontName=A.font:((A.font<0||A.font>=dr.length)&&(A.font=0),A.fontName=dr[A.font]),A}function fr(e,t){var n=0;!e.pageOdd&&e.pageEven?n=1:e.pageOdd&&!e.pageEven&&(n=2);var i=-1===e.pageStart?1:e.pageStart+1,r=-1===e.pageEnd?t:e.pageEnd+1,o=(0,z.colorConvertor)(e.fontColor,"int",0);return{font:e.fontName,textSize:e.fontSize,textColor:o,hasTextShrinked:e.isShrink,hasFixedSized:e.isKeep,range:{start:i,end:r,filter:n},margin:{left:e.marginLeft,right:e.marginRight,top:e.marginTop,bottom:e.marginBottom},startPageNumber:e.startPage+1,contents:{TopLeft:e.leftHeaderText,TopCenter:e.centerHeaderText,TopRight:e.rightHeaderText,BottomLeft:e.leftFooterText,BottomCenter:e.centerFooterText,BottomRight:e.rightFooterText},contentFormats:{},underline:e.underLine}}function pr(e,t,n,i,r){var o={showAdvanceSetting:!0,showApperanceOptModal:!1,submitLoading:!1,pageCount:r,currentPage:t+1,text:"",pageNumber:t,absScale:e.absScale,filePath:"",docId:null,doc:null,file:null,scaleCkd:!0,appear:2,pageStart:n,pageEnd:i,pageOdd:!0,pageEven:!0,isPrint:!0,isScreen:!0,isKeep:!1,unit:6,isMultiline:e.isMultiline,rowSpace:e.rowSpace,columnSpace:e.columnSpace};if(o.scaleCkd=!1!==e.useRelativeScale,void 0===o.absScale&&(o.absScale=100),o.absScale<0&&(o.scale=0),o.absScale>100&&(o.scale=100),o.isMultiline&&(null==o.rowSpace&&(o.rowSpace=0),null==o.columnSpace&&(o.columnSpace=0)),"text"===e.type){o.sourceType=1,o.text=e.text;var a=Object.assign({font:0,fontSize:20,color:0,fontStyle:"normal"},e.watermarkTextProperties);o.font=a.font,o.fontSize=a.fontSize,o.fontColor=a.color,"normal"===a.fontStyle?o.underLine=!1:"underline"===a.fontStyle&&(o.underLine=!0),"string"==typeof o.font?o.fontName=o.font:((o.font<0||o.font>=dr.length)&&(o.font=0),o.fontName=dr[o.font])}else"bitmap"===e.type&&(o.sourceType=2,o.bitmap=e.bitmap);var s=Object.assign({position:"Center",offsetX:0,offsetY:0,flags:7,scale:1,rotation:45,opacity:100},e.watermarkSettings);switch(o.hDistance=s.offsetX,o.vDistance=s.offsetY,o.opacity=s.opacity,o.rotate=s.rotation,s.scale<0&&(s.scale=.01),s.scale>1&&(s.scale=1),o.scale=100*s.scale,s.flags&At.asAnnot?o.isKeep=!0:o.isKeep=!1,s.flags&At.onTop?o.appear=2:o.appear=1,s.flags&At.unprintable?o.isPrint=!1:o.isPrint=!0,s.flags&At.display?o.isScreen=!1:o.isScreen=!0,s.position){case st.topLeft:o.vFrom=1,o.hFrom=1;break;case st.topCenter:o.vFrom=1,o.hFrom=2;break;case st.topRight:o.vFrom=1,o.hFrom=3;break;case st.centerLeft:o.vFrom=2,o.hFrom=1;break;case st.center:o.vFrom=2,o.hFrom=2;break;case st.centerRight:o.vFrom=2,o.hFrom=3;break;case st.bottomLeft:o.vFrom=3,o.hFrom=1;break;case st.bottomCenter:o.vFrom=3,o.hFrom=2;break;case st.bottomRight:o.vFrom=3,o.hFrom=3}return o}var gr=function(e){return e.EDIT_GRAPHICS_OBJECT="edit-graphics-object",e}({}),vr=z.LoggerFactory.getLogger("engine-pdf-page-batch-processor"),mr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr.EDIT_GRAPHICS_OBJECT;(0,C._)(this,e),(0,U._)(this,"page",void 0),(0,U._)(this,"kind",void 0),(0,U._)(this,"flushOperations",void 0),(0,U._)(this,"started",void 0),this.page=t,this.kind=n,this.flushOperations=new Map,this.started=!1}return(0,D._)(e,[{key:"start",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.started=!0,[2,this.callAPI("start")]})}).call(this)}},{key:"isStarted",value:function(){return!this.isDestroyed()&&this.started}},{key:"flush",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.isStarted()?(this.flushLocally(),[2,this.callAPI("flush")]):[2]})}).call(this)}},{key:"end",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.started=!1,this.flushLocally(),[2,this.callAPI("end")]})}).call(this)}},{key:"flushLocally",value:function(){var e=this.flushOperations.values();try{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}catch(e){vr.error(e)}finally{this.flushOperations.clear()}}},{key:"isDestroyed",value:function(){return this.page.isDestroyed}},{key:"callAPI",value:function(e){if(!this.isDestroyed()){var t=this.page.doc,n=this.page.getId(),i=t.getId();return t.api.emitPageBatchProcessor({path:"jr/doc/page"},i,n,{action:e,kind:this.kind})}}},{key:"recordFlushOperation",value:function(e,t){this.flushOperations.set(e,t)}}]),e}(),yr=["highlight","strikeout","underline","squiggly","caret","text","fileattachment","freetext","ink","line","link","circle","square","polygon","polyline","stamp","screen"];function _r(e,t){if(-1==yr.indexOf(e.type))throw new Error("Annot type error");if(t&&t.isTextAsContent){["highlight","strikeout","underline","squiggly"].includes(e.type)&&!e.contents&&e.coords[0]&&e.coords[0].text&&(e.contents=e.coords[0].texts||e.coords[0].text)}return e.iconCatagory&&(e.iconCategory=e.iconCatagory),e.iconInfo&&e.iconInfo.catagory&&(e.iconInfo.category=e.iconInfo.catagory),e}var br=n(318),wr=function(){function e(t,n){(0,C._)(this,e),this.id=t,this.annot=n,this.page=n.getPDFPage(),this.api=this.page.api}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then(function(e){return e?new or(e):null})}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then(function(e){return e?new or(e):null})}},{key:"destroy",value:function(){return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),kr=Symbol("field"),xr=kr,Pr=function(e){function t(e,n){var i;(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),(0,U._)(i,"info",void 0),(0,U._)(i,"page",void 0),(0,U._)(i,xr,void 0),(0,U._)(i,"form",void 0),(0,U._)(i,"formAPI",void 0),(0,U._)(i,"widgetId",void 0),(0,U._)(i,"widgetAPI",void 0),i.info=e,i.page=n;var r=i.page.doc,o=r.form;return i.form=o,i.formAPI=r.formAPI,i.widgetId=i.annotId,i.widgetAPI=r.getFormWidgetAPI(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"field",get:function(){var e=this.info.field;if(e)return this[kr]?this[kr]:this[kr]=this.form.getOrCreateField(e.fieldName,e)}},{key:"getWidgetId",value:function(){return this.widgetId}},{key:"getField",value:function(){return this.field}},{key:"getControl",value:function(){var e;return null===(e=this.field)||void 0===e?void 0:e.getControl(this.info.controlIndex)}},{key:"update",value:function(e,n){var i=this,r=this;return(0,x._)(function(){var o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return[4,(0,E._)((0,S._)(t.prototype),"update",i).call(r,e,n)];case 1:return a.sent(),null===(o=this.field)||void 0===o||o.updateInfo(this.info.field),[2]}})}).call(this)}},{key:"getPage",value:function(){return(0,E._)((0,S._)(t.prototype),"getPage",this).call(this)}},{key:"remove",value:function(){return this.getPage().removeAnnotByObjectNumber(this.getObjectNumber())}},{key:"setRotation",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(t=this,e){case br.FormWidgetRotation.ROTATION_0:case br.FormWidgetRotation.ROTATION_90:case br.FormWidgetRotation.ROTATION_180:case br.FormWidgetRotation.ROTATION_270:break;default:throw new Error("Invalid rotation value: ".concat(e,", it should be one of 0, 1, 2, 3"))}return[2,this.widgetAPI.setRotation(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetRotationUpdated)})]})}).call(this)}},{key:"getRotation",value:function(){return this.widgetAPI.getRotation(this.widgetId)}},{key:"setDirectionRTL",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(t=this,e){case br.FormWidgetDirection.LEFT_TO_RIGHT:case br.FormWidgetDirection.RIGHT_TO_LEFT:break;default:throw new Error("Invalid direction value: ".concat(e,", it should be one of ").concat(br.FormWidgetDirection.LEFT_TO_RIGHT,", ").concat(br.FormWidgetDirection.RIGHT_TO_LEFT))}return[2,this.widgetAPI.setDirectionRTL(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetDirectionRTLUpdated)})]})}).call(this)}},{key:"getDirectionRTL",value:function(){return this.widgetAPI.getDirectionRTL(this.widgetId)}},{key:"setAlignment",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(t=this,e){case br.TextWidgetAlignment.left:case br.TextWidgetAlignment.center:case br.TextWidgetAlignment.right:break;default:throw new Error("Invalid alignment value: ".concat(e,", it should be one of ").concat(br.TextWidgetAlignment.left,", ").concat(br.TextWidgetAlignment.center,", ").concat(br.TextWidgetAlignment.right))}return[2,this.widgetAPI.setAlignment(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetAlignmentUpdated)})]})}).call(this)}},{key:"getAlignment",value:function(){return this.widgetAPI.getAlignment(this.widgetId)}},{key:"getMKBorderColor",value:function(){return this.widgetAPI.getBorderColor(this.widgetId)}},{key:"setMKBorderColor",value:function(e){var t=this;return this.widgetAPI.setBorderColor(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetMKBorderColorUpdated)})}},{key:"getMKFillColor",value:function(){return this.widgetAPI.getFillColor(this.widgetId)}},{key:"setMKFillColor",value:function(e){var t=this;return this.widgetAPI.setFillColor(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetMKFillColorUpdated)})}},{key:"setNormalCaption",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.widgetAPI.setNormalCaption(this.widgetId,t).then(function(){e.emitPropertyUpdateEvent(Qt.formWidgetNormalCaptionUpdated)})}},{key:"getNormalCaption",value:function(){return this.widgetAPI.getNormalCaption(this.widgetId)}},{key:"setDefaultAppearance",value:function(e){var t=this;return this.widgetAPI.setDefaultAppearance(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.defaultAppearanceUpdated)})}},{key:"getDefaultAppearance",value:function(){return this.widgetAPI.getDefaultAppearance(this.widgetId)}},{key:"getTextColor",value:function(){return this.getDefaultAppearance().then(function(e){return e.textColor})}},{key:"setTextColor",value:function(e){return this.setDefaultAppearance({textColor:e})}},{key:"getTextSize",value:function(){return this.getDefaultAppearance().then(function(e){return e.textSize})}},{key:"setTextSize",value:function(e){return this.setDefaultAppearance({textSize:e})}},{key:"getFont",value:function(){return this.getDefaultAppearance().then(function(e){return e.font})}},{key:"getFontName",value:function(){return this.getDefaultAppearance().then(function(e){return e.font.baseName})}},{key:"setFontName",value:function(e){return this.setDefaultAppearance({fontName:e})}},{key:"setIconCaptionRelation",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){if(t=this,!(0,br.isValidWidgetIconCaptionRelation)(e))throw new Error("Invalid relation of the icon and caption of the form widget: ".concat(e));return[2,this.widgetAPI.setIconCaptionRelation(this.widgetId,e).then(function(){switch(t.emitPropertyUpdateEvent(Qt.formWidgetIconCaptionRelationUpdated),e){case br.WidgetIconCaptionRelation.NO_ICON:t.emitPropertyUpdateEvent(Qt.formWidgetIconUpdated);break;case br.WidgetIconCaptionRelation.NO_CAPTION:t.emitPropertyUpdateEvent(Qt.formWidgetCaptionUpdated)}})]})}).call(this)}},{key:"getIconCaptionRelation",value:function(){return this.widgetAPI.getIconCaptionRelation(this.widgetId)}},{key:"setHighlightingMode",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){if(t=this,!(0,cn.isValidHighlightingMode)(e))throw new Error("Invalid highlighting mode of the form widget: ".concat(e));return[2,this.widgetAPI.setHighlightingMode(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetHighlightingModeUpdated)})]})}).call(this)}},{key:"getHighlightingMode",value:function(){return this.widgetAPI.getHighlightingMode(this.widgetId)}},{key:"setMKCaption",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){if(n=this,!(0,br.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,this.widgetAPI.setMKCaption(this.widgetId,e,t).then(function(){n.emitPropertyUpdateEvent(Qt.formWidgetCaptionUpdated)})]})}).call(this)}},{key:"setMKIcon",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){if(n=this,!(0,br.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,this.widgetAPI.setMKIcon(this.widgetId,e,t).then(function(){n.emitPropertyUpdateEvent(Qt.formWidgetIconUpdated)})]})}).call(this)}},{key:"removeMKIcon",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){if(t=this,!(0,br.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,this.widgetAPI.removeMKIcon(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetIconUpdated)})]})}).call(this)}},{key:"getMKIconOptions",value:function(){return this.widgetAPI.getMKIconOptions(this.widgetId)}},{key:"getMKIcon",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){if(!(0,br.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,this.widgetAPI.getMKIcon(this.widgetId,e)]})}).call(this)}},{key:"getMKCaptionOptions",value:function(){return this.widgetAPI.getMKCaptionOptions(this.widgetId)}},{key:"getIconFitOptions",value:function(){return this.widgetAPI.getIconFitOptions(this.widgetId)}},{key:"setIconFitOptions",value:function(e){var t=this;return this.widgetAPI.setIconFitOptions(this.widgetId,e).then(function(){t.emitPropertyUpdateEvent(Qt.formWidgetIconFitUpdated)})}},{key:"setExportValue",value:function(e){var t=this;if(!e)throw new Error("The export value of the form widget cannot be an empty string!");return this.widgetAPI.setExportValue(this.widgetId,e).then(function(){return t.emitPropertyUpdateEvent(Qt.formWidgetExportValueUpdated)})}},{key:"getExportValue",value:function(){return this.widgetAPI.getExportValue(this.widgetId)}},{key:"getAdditionalAction",value:function(){var e=this;return new Ge.AdditionalAction(this.resQuery,this.additionalActionAPI,function(t){switch(t){case"set":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(Qt.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataAdded)}},function(){return(0,R._)(Ge.AnnotActionTriggerEventsArray).concat((0,R._)(Ge.FieldActionTriggerEventsArray))})}},{key:"setAdditionalAction",value:function(e,n){var i=this,r=this;return(0,x._)(function(){return(0,N.Jh)(this,function(o){return[2,(0,E._)((0,S._)(t.prototype),"setAdditionalAction",i).call(r,e,n)]})})()}},{key:"getAdditionalActions",value:function(e){var n=(0,R._)(Ge.AnnotActionTriggerEventsArray).concat((0,R._)(Ge.FieldActionTriggerEventsArray));return(0,E._)((0,S._)(t.prototype),"getAdditionalActions",this).call(this,e||n)}},{key:"removeAdditionalAction",value:function(e,n){var i=this,r=this;return(0,x._)(function(){return(0,N.Jh)(this,function(o){return[2,(0,E._)((0,S._)(t.prototype),"removeAdditionalAction",i).call(r,e,n)]})})()}},{key:"appendAdditionalAction",value:function(e,n){return(0,E._)((0,S._)(t.prototype),"appendAdditionalAction",this).call(this,e,n)}},{key:"updateAdditionalAction",value:function(e,n,i){return(0,E._)((0,S._)(t.prototype),"updateAdditionalAction",this).call(this,e,n,i)}},{key:"getTextSearch",value:function(e,t){var n=this,i=this.page,r=i.doc;return this.page.doc.api.getAnnotTextSearch(r.getId(),i.getId(),this.widgetId.objNumber,e,t).then(function(e){return new wr(e,n)})}}]),t}(ln),Cr=function(){function e(t,n){(0,C._)(this,e),this.info=t,this.isDestroyed=!1,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,W.F2)(this.getWidth()),this._pxHeight=(0,W.F2)(this.getHeight()),this.annots=[],this.annotIdMap={},this.graphicObjects=[],this.info.AA[0]&&(this.openAction=this.doc.engine.actionFactory.createAction(this.info.AA[0],n,this.doc.api,this.doc.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.doc.engine.actionFactory.createAction(this.info.AA[1],n,this.doc.api,this.doc.engine.eventEmitter,this)),n.pageIdMap[t.id]=this,this.batchProcessor=new mr(this),this.queuedTaskExecutor=new z.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"getAction",value:function(e){return"open"==e?this.openAction:this.closeAction}},{key:"getActions",value:function(e){var t=this;return this.doc.api.getPageAction(this.getPDFDoc().getId(),this.getId(),e).then(function(e){if(e)return t.doc.engine.actionFactory.createAction(e,t.doc,t.doc.api,t.engine.eventEmitter,t)})}},{key:"setAction",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){return n=this,[2,this.doc.api.setPageAction(this.getPDFDoc().getId(),this.getId(),e,t.info).then(function(e){return n.doc.engine.eventEmitter.emit(oe.Z.docModified,n.doc),e})]})}).call(this)}},{key:"setActionData",value:function(){this.doc.api.updatePageAction()}},{key:"execOpenAction",value:function(){}},{key:"execCloseAction",value:function(){return this.doc.api.executeCloseAction({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId())}},{key:"moveAction",value:function(e){var t=this;return this.doc.api.movePageAction(this.getPDFDoc().getId(),this.getId(),e).then(function(e){return t.doc.engine.eventEmitter.emit(oe.Z.docModified,t.doc),e})}},{key:"removeAction",value:function(e,t){var n=this;return this.doc.api.removePageAction(this.getPDFDoc().getId(),this.getId(),e,t?t.info:null).then(function(e){return n.doc.engine.eventEmitter.emit(oe.Z.docModified,n.doc),e})}},{key:"getId",value:function(){return this.info.id}},{key:"getInfo",value:function(){return this.info}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getIndex",value:function(){return this.info.index}},{key:"getWidth",value:function(){return this.info.width}},{key:"getHeight",value:function(){return this.info.height}},{key:"getUserUnit",value:function(){return this.info.userUnit}},{key:"updateInfo",value:function(){var e=this;return this.doc.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then(function(t){e._updateInfo(t)})}},{key:"_updateInfo",value:function(e){this.info=e,this.doc.updatePageSize(e.index,this.getWidth(),this.getHeight()),this._pxWdith=(0,W.F2)(this.getWidth()),this._pxHeight=(0,W.F2)(this.getHeight()),this.doc.engine.eventEmitter.emit(oe.Z.pageInfoChange,this)}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");var n=this.getRotation();return e===n?Promise.resolve():(this.doc.engine.eventEmitter.emit(oe.Z.beforePageRotationChanged,this,e,n),this.doc.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),e).then(function(e){return Promise.all([e,t.updateInfo()])}).then(function(e){var i=(0,M._)(e,1)[0];t.doc.engine.eventEmitter.emit(oe.Z.pageRotationChange,t,i,n)}))}},{key:"getRotationAngle",value:function(){var e=this.getRotation();if(4===e)throw new Error("Unknown rotation angle value: "+e);return 90*e}},{key:"getPxWidth",value:function(){return this._pxWdith}},{key:"getPxHeight",value:function(){return this._pxHeight}},{key:"getOriginX",value:function(){return this.info.cropBox.left}},{key:"getOriginY",value:function(){return this.info.cropBox.bottom}},{key:"getCropBox",value:function(){return this.info.cropBox}},{key:"getPDFMatrix",value:function(){return new nn(this.info.matrix)}},{key:"getDeviceMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getPDFMatrix(),n=this.getHeight(),i=this.getWidth();t.translate(0,-n);var r=(0,W.F2)(1);switch(t.scale(r,-r),e){case 90:t.rotate(e/180*Math.PI),t.translate(r*n,0);break;case 180:t.rotate(e/180*Math.PI),t.translate(r*i,r*n);break;case 270:t.rotate(e/180*Math.PI),t.translate(0,r*i)}return t}},{key:"getDeviceMatrix2",value:function(){var e=this.getPDFMatrix(),t=this.getRotation(),n=(0,W.F2)(1);switch(t%4){case 0:e.translate(0,-this.getHeight()),e.scale(n,-n);break;case 1:e.scale(-n,n),e.rotate(Math.PI/2);break;case 2:e.translate(-this.getWidth(),0),e.scale(-n,n);break;case 3:e.translate(this.getWidth(),this.getHeight()),e.rotate(Math.PI/2),e.scale(n,-n)}return e}},{key:"getDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.transformPoint(e[0],e[1])}},{key:"getDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t);var r=i.transformRect(e.left,e.top,e.right,e.bottom);return{left:r[0],top:r[1],right:r[2],bottom:r[3]}}},{key:"getAnnotDeviceMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=e;(0,T._)(e,ln)&&(r=e.info);var o=r.flag,a=8&o,s=16&o;"text"===r.type&&(a=s=!0);var A=this.getDeviceMatrix(n);if(A.scale(t,t),!a&&!s)return A;var c=new nn,u=r.rect;i&&(u=i);var l,d,h=new Zt(u.left,u.bottom,u.right,u.top);if(a)l=z.dpr,d=-z.dpr;else{var f,p,g,v,m,y;f=p=0;var _=A.transformPoint(f,p);f=_[0],p=_[1],g=1,v=0,g=(_=A.transformPoint(g,v))[0],v=_[1],g-=f,v-=p,m=0,y=1,m=(_=A.transformPoint(m,y))[0],y=_[1],m-=f,y-=p,l=Math.sqrt(g*g+v*v),d=-Math.sqrt(m*m+y*y)}c.a=l,c.b=0,c.c=0,c.d=d,!s&&n>0&&n<4&&c.Rotate(Math.PI*n/2);var b=h.left,w=h.top,k=A.transformPoint(b,w);return b=k[0],w=k[1],c.e=b-h.left*c.a-h.top*c.c,c.f=w-h.left*c.b-h.top*c.d,c}},{key:"getAnnotDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=this.getAnnotDeviceMatrix(e,t,n,i),o=e;(0,T._)(e,ln)&&(o=e.info);var a=new Zt(o.rect.left,o.rect.bottom,o.rect.right,o.rect.top);i&&(a=i);var s=r.transformRect(a.left,a.top,a.right,a.bottom);return{left:s[0],top:s[1],right:s[2],bottom:s[3]}}},{key:"reverseDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.e=i.f=0,i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t),i.setReverse();var r=(0,M._)(i.transformRect(e.left,e.top,e.right,e.bottom),4),o=r[0],a=r[1],s=r[2],A=r[3],c=Math.min(o,s),u=Math.max(o,s);return{left:c,top:Math.max(a,A),right:u,bottom:Math.min(a,A)}}},{key:"render",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";if(e*=4/3,-1==r.indexOf("page")&&r.push("page"),"view"!=o&&"print"!=o)throw new Error("Param error: usage should be one of 'view', 'print'. Got '"+o+"' instead.");return this.getPageBitmap(e,t,n,r,o).then(function(a){var s=function(a){return a.rate<100?i.doc.api.continueProgress(a.progressiveId).then(s):a.buffer||a.image?a:i.getPageBitmap(e,t,n,r,o)};return a.rate>=100?a:s(a)})}},{key:"getPageBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view",o=arguments[5]||"",a=arguments[6],s=arguments[7];return this.doc.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,o,!1,a,s)}},{key:"getAnnotsBitmap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["annot","form"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"view",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{hideAnnots:[],hotAnnot:0,dpr:1},s=arguments.length>7?arguments[7]:void 0;return this.doc.api.getAnnotsBitmap(this.doc.getId(),this.getId(),e,t,n,i,r,o,a,s)}},{key:"clearDesignerAssitCache",value:function(){return this.doc.api.clearDesignerAssitCache(this.getPDFDoc().getId(),this.getId())}},{key:"getPageAndHighlightBitmap",value:function(e,t,n,i){return this.doc.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a){var s=this,A=arguments[7];return!0===r?this.doc.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,o,a,A):this.getAnnots().then(function(r){if(e.trim().length<1)return null;var c=s.getAnnotObjectNum(e);return 0==c?null:s.doc.api.getAnnotBitmap(s.getPDFDoc().getId(),s.getId(),c,t,n,i,o,a,A)})}},{key:"getAnnotBitmapEx",value:function(e,t,n,i,r,o,a){var s=this,A=arguments[7];return!0===r?this.doc.api.getAnnotBitmapEx({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t,n,i,o,a,A):this.getAnnots().then(function(r){if(e.trim().length<1)return null;var c=s.getAnnotObjectNum(e);return 0==c?null:s.doc.api.getAnnotBitmapEx({path:"jr/doc/page"},s.getPDFDoc().getId(),s.getId(),c,t,n,i,o,a,A)})}},{key:"getPageObjNum",value:function(){return this.info.objectNumber}},{key:"getAnnotObjectNum",value:function(e){var t=this;if(e.trim().length<1)return 0;var n=Object.keys(this.annotIdMap);if(!n.length)return 0;var i=n.find(function(n){return t.annotIdMap[n].getName()==e});return parseInt(i)}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i){return this.doc.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotCount",value:function(){return this.annots.length||this.info.annotCount}},{key:"resetWidgetsControl",value:function(){this.annots.forEach(function(e){"widget"==e.getType()&&e.mapFormControl()})}},{key:"getAnnots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isDestroyed)return Promise.resolve([]);var i=(0,w._)({},this.annotIdMap);if(t&&(this.annots.length=0,this.annotIdMap={},this.annotsPromise=null),this.annotIdMap){var r=Object.keys(this.annotIdMap);if(this.annots.length&&r.length){var o=r.map(function(t){return e.annotIdMap[t]});return o.sort(Dr),Promise.resolve(o)}}var a=this.doc.engine;return a?this.annotsPromise=this.annotsPromise||this.doc.api.getAnnots(this.getPDFDoc().getId(),this.getId(),null,t).then(function(t){return e.isDestroyed?[]:t.map(function(t){var n=i[t.objectNumber];return n?(n.updateInfo(t,!0),n):a.annotManager.get(t,e)})}).then(function(t){if(e.isDestroyed)return[];var i=[];e.annotIdMap=t.reduce(function(e,t,n){if(e){var r=t.getId();return r in e||i.push(t),e[r]=t,e}},e.annotIdMap);var r=t.map(function(t){return t.reviseSummary(function(t){return e.annotIdMap[t]})});return Promise.all(r).then(function(){return e.annots?(e.annots.length=0,t.sort(Dr),t.forEach(function(t){return e.annots.push(t)}),e.info.annotCount=t.length,e.annotsPromise=null,n&&a.eventEmitter.emit(oe.Z.annotationLoaded,e,i,t),e.annots):[]})},function(t){return e.annotsPromise=null,Promise.reject(t)}):Promise.resolve()}},{key:"setAnnots",value:function(e){e.sort(Dr),this.annots=e}},{key:"getMarkupAnnots",value:function(){var e=!0===arguments[0];return this.getAnnots().then(function(t){return function(t){var n=function(e){return"popup"===e},i=function(e){return"widget"===e};t=t.filter(function(e){return e.isMarkup()&&!e.isDeleted()&&!n(e.getType())&&!i(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())});var r=[],o=[];t.forEach(function(e){var t,n,i,a=e.getReplies();(t=r).push.apply(t,(0,R._)(a)),r.forEach(function e(t){var n;if(!t&&t.getReplies){var i=t.getReplies();(n=r).push.apply(n,(0,R._)(i)),i.forEach(e)}}),(n=o).push.apply(n,(0,R._)(e.getReviewStates())),(i=o).push.apply(i,(0,R._)(e.getMarkedStates()))});var a=t.filter(function(e){return-1===r.indexOf(e)&&-1===o.indexOf(e)});return e?a.reduce(function(e,t){var n=t.getGroupHeader&&t.getGroupHeader()||t;return-1===e.indexOf(n)&&e.push(n),e},[]):(a.forEach(function(e){"Replace"===e.getIntent()&&e.groupElements.forEach(function(t){if(t!==e){var n=a.indexOf(t);n>-1&&a.splice(n,1)}})}),a)}(t)})}},{key:"filterAnnot",value:function(e,t){for(var n=!e,i=0;i<this.annots.length;i++){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"filterPrevAnnot",value:function(e,t){for(var n=!e,i=this.annots.length-1;i>=0;i--){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"getAnnotTree",value:function(){var e=this,t=!0===arguments[0];return this.getMarkupAnnots(t).then(function(t){return e.getAnnots().then(function(e){var n=e.filter(function(e){return!e.isMarkup()&&!e.isDeleted()&&"popup"!==e.info.type});return t.concat(n).sort(function(t,n){return e.indexOf(t)-e.indexOf(n)})})})}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getAnnotIdAtPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.doc.api.getAnnotIdAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t,n)}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotObjectNumAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getCharInfoAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!arguments[2]&&!this.doc.checkPermission(Xt.extract||Xt.extractAccess))throw new Error("Permission error");return this.doc.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t)}},{key:"removeAnnot",value:function(e){return this.removeAnnotByObjectNumber(e.getId())}},{key:"removeAnnotById",value:function(e){var t=this;return this.getAnnots().then(function(n){var i=n.find(function(t){return e&&e===t.getUniqueID()});return i&&i.getObjectNumber?t.removeAnnotByObjectNumber(i.getObjectNumber()):[]})}},{key:"removeAnnotByObjectNumber",value:function(e){var t=this;return this.queuedTaskExecutor.exec(function(){return t._removeAnnotByObjectNumber(e)})}},{key:"_removeAnnotByObjectNumber",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:if(t=this,!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");return[4,this.getAnnotsByObjectNumArray([e])];case 1:return n=M._.apply(void 0,[r.sent(),1]),(i=n[0])?i.getType()===Zi.widget?[2,this.removeWidget(e)]:[2,this.getAnnots().then(function(n){return n.filter(function(e){return e.getType()!==Zi.widget}).map(function(e){return e.getId()}).length?t.doc.api.removeAnnot(t.getPDFDoc().getId(),t.getId(),e):[]}).then(function(e){return t.cleanupRemovedAnnots(e)})]:[2,[]]}})}).call(this)}},{key:"removeWidget",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return t=this.doc,n=this.annots.find(function(t){return t.getId()===e}),n&&n.getType()===Zi.widget?[4,t.formAPI.removeWidget({pageIndex:this.getIndex(),objNumber:e})]:[2,[]];case 1:return r.sent().fieldRemoved&&(i=n.field,this.engine.eventEmitter.emit(oe.Z.formFieldRemoved,[i.getName()],t),i.destroy()),[2,this.cleanupRemovedAnnots([e])]}})}).call(this)}},{key:"cleanupRemovedAnnots",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.clearRelatives(e)];case 1:return r.sent(),n=this.clearAnnotIds(e),i=(t=Math).min.apply(t,(0,R._)(n.map(function(e){return e.getIndex()}))),this.annots.slice(i).forEach(function(e,t){e.info.index=t+i}),this.doc.engine.eventEmitter.emit(oe.Z.annotationRemoved,n,this),[2,n]}})}).call(this)}},{key:"removeAllAnnot",value:function(){var e,t=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");return this.getAnnots().then(function(n){var i=n.filter(function(e){return e.getType()!==Zi.widget});return(e=i.map(function(e){return e.getId()})).length?t.doc.api.removePageAllAnnot(t.getPDFDoc().getId(),t.getId()):[]}).then(function(){return t.clearRelatives(e),t.clearAnnotIds(e)}).then(function(e){return t.doc.engine.eventEmitter.emit(oe.Z.annotationRemoved,e,t),e})}},{key:"getThumb",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,z.assertThat)((0,z.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", it should be 0, 90, 180, or 270"));var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getThumb(n,i,e,t)}},{key:"getMediaBoxBitmap",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getMediaBoxBitmap(n,i,e,t)}},{key:"clearRelatives",value:function(e){if(Array.isArray(e)&&e){var t=e.slice(0);return this.getAnnots().then(function(e){e.some(function(e){return!(!(0,T._)(e,Ar)||0!=(t=e.removeRepliesByIdLocaly(t)).length)})})}}},{key:"clearAnnotIds",value:function(e){for(var t,n=function(n){var a=e[n];i[n]=r[a],i[n]&&(i[n].info.isDeleted=!0,delete r[a],o.annotCount--),t.annots.forEach(function(e){e.getId()==a&&(e.info.isDeleted=!0)})},i=[],r=this.annotIdMap,o=this.info,a=e.length;a--;)t=this,n(a);for(var s=i.length;s--;)i[s]||i.splice(s,1);return this.annots=this.annots.filter(function(t){return-1===e.map(function(e){return String(e)}).indexOf(String(t.getId()))}),i}},{key:"addReplyAnnot",value:function(e){if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");return this.addAddonAnnot(e)}},{key:"addAddonAnnot",value:function(e){var t=this,n=e.getId();return this.info.annotCount++,this.annots.push(e),this.annotIdMap[n]=e,e.reviseSummary(function(e){return t.annotIdMap[e]})}},{key:"removeAddonAnnotById",value:function(e){if(this.annotIdMap[e]){this.info.annotCount-=1;for(var t=this.annots,n=t.length;n--;){e===t[n].objectNumber&&t.splice(n,1)}return delete this.annotIdMap[e]}return!1}},{key:"addAnnot",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");"number"==typeof(e=_r(e,this.engine.getUserCommentConfig())).page&&(e=function(e){var t,n={type:e.type,opacity:e.opacity,name:e.name,contents:e.contents,subject:e.subject,title:e.title,icon:e.icon,intent:e.intent||e.IT,DA:e.defaultappearance,alignment:e.justification,enableCaption:"yes"==e.caption,rotation:e.rotation},i=e.fontColor;i&&(n.fontColor=parseInt(i.replace("#",""),16)),(t=e.color)&&(n.color=(0,z.colorConvertor)(t,"int")),0===e.color&&(n.color=0);var r=e["interior-color"]||e.interiorColor;r&&(n.styleFillColor=n.fillColor=parseInt(r.replace("#",""),16));var o=e.flags||"print",a=o.split(",");for(var s in o=0,me)-1!=a.indexOf(me[s])&&(o|=1<<parseInt(s));n.flag=o;var A=(e.rect||"").split(",");A.length&&(n.rect={left:+A[0],top:+A[3],right:+A[2],bottom:+A[1]});var c=(e.fringe||"").split(",");4===c.length&&(n.innerRect={left:n.rect.left+ +c[0],top:n.rect.top-+c[3],right:n.rect.right-+c[2],bottom:n.rect.bottom+ +c[1]});var u=e.coords;if(u){u=u.split(","),n.coords=[];for(var l=0,d=u.length;l<d;l+=8){var h=Math.min(+u[l],+u[l+2],+u[l+4],+u[l+6]),f=Math.max(+u[l],+u[l+2],+u[l+4],+u[l+6]),p=Math.max(+u[l+1],+u[l+3],+u[l+5],+u[l+7]),g=Math.min(+u[l+1],+u[l+3],+u[l+5],+u[l+7]);n.coords.push({left:h,right:f,top:p,bottom:g})}}var v=e.callout;if(v){v=v.split(","),n.calloutLinePoints=[];for(var m=0,y=v.length;m<y;m+=2)n.calloutLinePoints.push({x:+v[m],y:+v[m+1]})}var _=e.head;_&&(n.startStyle=Kt(_));var b=e.tail;b&&(n.endStyle=Kt(b)),null!=e.leaderLength&&(n.leaderLineLength=e.leaderLength),null!=e.leaderExtend&&(n.leaderLineExtend=e.leaderExtend),null!=e.leaderOffset&&(n.leaderLineOffset=e.leaderOffset);var w=e.vertices;if(w){n.vertexes=[],w=w.split(";");for(var k=0;k<w.length;k++){var x=w[k].split(",");n.vertexes.push({x:+x[0],y:+x[1]})}}var P=e.inklist;if(P){n.inkList=[],P=JSON.parse("["+P.replace(/;/g,",")+"]");for(var C=0;C<P.length;C++)for(var D=P[C],E=0;E<D.length;E+=2){var S=D[E],I=0==E?1:2;n.inkList.push({x:S,y:D[E+1],type:I})}}var T=Ke[e.style||"solid"];n.borderInfo={style:T,width:e.width||1};var M=e.dashes;M&&(n.borderInfo.dashes=JSON.parse("["+M+"]"));var R=e.intensity;R&&(n.borderInfo.cloudIntensity=R);var F=e.start;F&&(F=F.split(","),n.startPoint={x:+F[0],y:+F[1]});var N=e.end;return N&&(N=N.split(","),n.endPoint={x:+N[0],y:+N[1]}),n}(e));var n=arguments,i=this.getPDFDoc().getId(),r=this.getId(),o=this.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return e=(0,z.extendOptions)({},o,e),this.doc.api.addAnnot(i,r,e).then(function(e){return t._doAfterAddAnnots(e,"boolean"!=typeof(i=n[n.length-1])||i);var i},function(e){var t=(0,z.createDeferred)();return t.reject(e),t.promise})}},{key:"markRedactAnnot",value:function(e){var t,n=this;if(arguments&&arguments[1]&&(t=arguments[1]),!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.markRedactAnnot(i,r,e,t).then(function(e){return n._doAfterAddAnnots(e)})}},{key:"addAnnotGroup",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");e.forEach(function(e){if(!e.type)throw new Error("Annot type error")});var i=this.getPDFDoc().getId(),r=this.getId();return e=e.map(function(e){var t=n.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,z.extendOptions)({},t,e)}),this.doc.api.addAnnotGroup(i,r,e,t).then(function(e){return n._doAfterAddAnnots(e)})}},{key:"_doAfterAddAnnots",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.map(function(e){return e&&t.doc.engine.annotManager.get(e,t)});i.reduce(function(e,t){return e[t.getId()]=t,e},this.annotIdMap);var r=i.map(function(e){return e.reviseSummary(function(e){return t.annotIdMap[e]})});return this.annots=this.annots.concat(i),this.info.annotCount=this.annots.length,Promise.all(r).then(function(){return n&&t.doc.engine.eventEmitter.emit(oe.Z.annotationAdd,i,t),i})}},{key:"getUnloadedAnnots",value:function(){var e=this;return this.queuedTaskExecutor.exec(function(){return e._getUnloadedAnnots()})}},{key:"_getUnloadedAnnots",value:function(){var e=this;if(this.isDestroyed)return Promise.resolve([]);var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageAnnotIDList(t,n).then(function(i){var r=i.filter(function(t){return!e.annotIdMap[t]});return(r.length?e.doc.api.getAnnots(t,n,r):Promise.resolve([])).then(function(t){return t.map(function(t){return t?e.doc.engine.annotManager.get(t,e):null}).filter(function(e){return!!e})}).then(function(t){var n=t.reduce(function(e,t){return e[t.getId()]=t,e},{});return e.annotIdMap=i.reduce(function(t,i){var r=e.annotIdMap[i]||n[i];return r&&(t[i]=r),t},{}),Promise.all(Object.keys(e.annotIdMap).map(function(t){var n=e.annotIdMap[t];return n&&n._update(!0)})).then(function(e){return t})}).then(function(t){e.setAnnots(e.annots.concat(t)),e.info.annotCount=e.annots.length;var n=e.annots.map(function(t){return t.reviseSummary(function(t){return e.annotIdMap[t]})});return Promise.all(n).then(function(){e.doc.engine.eventEmitter.emit(oe.Z.annotationLoaded,e,t,e.annots)}),t}).catch(function(t){if(!e.doc||e.doc.isDestroyed)return[];throw t})})}},{key:"getTextRectsAtRect",value:function(e){return this.doc.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextRects",value:function(e){return this.doc.api.getTextRects({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtRect",value:function(e){return this.doc.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return this.doc.api.getTextContinuousRectsAtPoints(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,arguments[5])}},{key:"getTextLinkAtPoint",value:function(e){return this.doc.api.getTextLinkAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextByIndex",value:function(e,t){return this.doc.api.getTextByIndex({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextIndexAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return this.doc.api.getTextIndexAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getCheckBoxRectAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return this.doc.api.getCheckBoxRectAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextRectsByIndexes",value:function(e,t){return this.doc.api.getTextRectsByIndexes({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t){return this.doc.api.getDoubleClickTextRectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextContinuousCharsAtRect",value:function(e,t){return this.doc.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextSearch",value:function(e,t){var n=this;return this.isVirtual()?Promise.resolve(new lr):this.doc.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),e,t).then(function(e){return new ar(e,n)})}},{key:"destroy",value:function(){return this.isDestroyed=!0,this.annots.forEach(function(e){return e.destroy()}),this.graphicObjects.forEach(function(e){return e.destroy()}),this.graphicObjects=null,this.annots=null,this.annotIdMap=null,this.doc=null,this.api=null,Promise.resolve()}},{key:"normalize",value:function(){return this.doc.api.normalizePage(this.getPDFDoc().getId(),this.getId())}},{key:"getAnnotsByIdArray",value:function(e){return this.getAnnots().then(function(t){for(var n=[],i=0,r=e.length;i<r;i++)for(var o=0;o<t.length;o++)if(e[i]===t[o].getUniqueID()){n.push(t[o]);break}return n})}},{key:"getAnnotsByObjectNumArray",value:function(e){var t=this;return this.getAnnots().then(function(){for(var n=t.annotIdMap,i=[],r=0,o=e.length;r<o;r++){var a;(a=n[e[r]])&&i.push(a)}return i})}},{key:"getAnnotsSync",value:function(e){for(var t=this.annotIdMap,n=[],i=0,r=e.length;i<r;i++){var o;(o=t[e[i]])&&n.push(o)}return n}},{key:"flatten",value:function(e){var t=this;if((e|3-e)<0)throw new Error("Param option error.");var n=this.doc;if(0===n.info.fileType&&!(n.checkPermission(Xt.annotForm)&&n.checkPermission(Xt.modify)&&n.checkPermission(Xt.assemble|Xt.modify)))throw new Error("Permission error");return this.doc.api.flatten(this.getPDFDoc().getId(),this.getId(),e).then(function(i){if(!i)return!1;var r=[];switch(e){case 0:case 3:r=t.annots.slice(0),t.annotIdMap={},t.annots=[],t.info.annotCount=0;break;case 2:case 1:var o=function(e){return e.getType()===cn.AnnotType.widget},a=function(t){return 2===e?o(t):!o(t)};r=t.annots.filter(function(e){return!a(e)}),t.annots=t.annots.filter(a),t.info.annotCount=t.annots.length}return t.doc.engine.eventEmitter.emit(oe.Z.flattened,t.getIndex(),t,r),t.doc.engine.eventEmitter.emit(oe.Z.docModified,n),!0})}},{key:"flattenAnnot",value:function(e){var t=this,n=this.doc;if(0===n.info.fileType&&!(n.checkPermission(Xt.annotForm)&&n.checkPermission(Xt.modify)&&n.checkPermission(Xt.assemble|Xt.modify)))throw new Error("Permission error");return n.api.flattenAnnot({path:"jr/doc/page"},n.getId(),this.getId(),e.getId()).then(function(i){if(i){var r=[e.getId()];if(e.isMarkup()){var o=e.getPopup();o&&r.push(o.getId())}t.clearRelatives(r);var a=t.clearAnnotIds(r),s=0;a.forEach(function(e){e.getIndex()<s&&(s=e.getIndex())}),t.annots.forEach(function(e){e.getIndex()>s&&(e.info.index=e.getIndex()-1)}),t.doc.engine.eventEmitter.emit(oe.Z.flattenAnnotation,t.getIndex(),a),t.doc.engine.eventEmitter.emit(oe.Z.docModified,n)}return i})}},{key:"addImage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.doc.checkPermission(8)){var r=(4294967292&this.doc.info.oriPerm)>>>0;if(!!!(256&r||32&r||8&r))throw new Error("Permission error")}var o={x:t.left,y:t.bottom},a=t.right-t.left,s=t.top-t.bottom;return this.doc.api.addPageImage(this.getPDFDoc().getId(),this.getId(),e,o,a,s,i).then(function(e){if(e){var t=n.doc.engine.graphicsObjectManager.get(e,n);return t&&n.graphicObjects.push(t),n.doc.engine.eventEmitter.emit(oe.Z.imageAdded,n),n.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,n,t),t}return e})}},{key:"addWatermark",value:function(e){var t=this,n=e.type,i=e.text;if("text"===n&&sn(i))return Promise.resolve(null);if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var r=pr(e,this.getIndex(),this.getIndex(),this.getIndex(),this.doc.getPageCount());return this.doc.getPageFormat("watermark").then(function(e){return t.doc.addPageFormat("watermark",r).then(function(e){return e>0&&t.doc.engine.eventEmitter.emit(oe.Z.watermarkAdded,t,r.isKeep),e})})}},{key:"getGraphicsObjectsInRect",value:function(e,t,n){var i=this;if(n<0||n>3)throw new Error("Type error, only 0~3 are available. current is: "+n);return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),null,t,n,e).then(function(e){return e.map(function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t})})}},{key:"getTextLineUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,this.getLineTextObjectsUnderPoint(e,t)];case 1:return(n=o.sent())&&n.length?(i=n.reduce(function(e,t){var n=t.getRect(),i=n.top,r=n.bottom;return e.top=Math.max(e.top,i),e.bottom=Math.min(e.bottom,r),e},Object.assign({},n[0].getRect(),{left:0,right:this.getWidth()})),r=n.map(function(e){return e.getText()||""}).join(" "),[2,{text:r,rect:i,textGraphicsObjects:n}]):[2,{textGraphicsObjects:n}]}})}).call(this)}},{key:"getLineTextObjectsUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,this.getGraphicsObjectAtPoint(e,t,Tt.Text)];case 1:return(n=o.sent())?(i=n.getRect(),r={left:0,right:this.getWidth(),top:i.top,bottom:i.bottom},[4,this.getGraphicsObjectsByRect({rect:r,tolerance:0,type:Tt.Text,isInRect:!1})]):[2,Promise.resolve([])];case 2:return[2,o.sent()]}})}).call(this)}},{key:"getGraphicsObjectsByRect",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:if(t=this,!(n=e.rect))throw new Error("[PDFPage.getGraphicsObjectsByRect] Missing required parameter: options.rect");return i=isFinite(e.tolerance)?e.tolerance:0,r=void 0===e.type?Tt.ALL:e.type,o=!1!==e.isInRect,[4,this.doc.api.getGraphicsObjectsByRect(this.getPDFDoc().getId(),this.getId(),n,i,r,o)];case 1:return[2,a.sent().map(function(e){return t.doc.engine.graphicsObjectManager.get(e,t)})]}})}).call(this)}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n){var i=this;return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t,n).then(function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t})}},{key:"getGraphicsObjectByIndex",value:function(e){var t=this;return e<0?Promise.resolve(null):this.doc.api.getGraphicsObjectByIndex(this.getPDFDoc().getId(),this.getId(),e).then(function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),n})}},{key:"getGraphicsObjectsCount",value:function(){return this.doc.api.getGraphicsObjectsCount(this.getPDFDoc().getId(),this.getId())}},{key:"setGraphicsObjectMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");return this.doc.api.setGraphicsObjectRect(this.getPDFDoc().getId(),e).then(function(e){t.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,t)})}},{key:"addGraphicsObject",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");return this.doc.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),e).then(function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),t.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,t,n),n})}},{key:"removeGraphicsObject",value:function(e){return this.removeGraphicsObjectEx(e,!0)}},{key:"removeGraphicsObjectEx",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var i=null;return this.graphicObjects=this.graphicObjects.filter(function(e){return e.getId()!=e.getId()||(i=e,!1)}),this.doc.api.removeGraphicsObject(this.getPDFDoc().getId(),this.getId(),e.getId(),n).then(function(e){n&&t.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,t,i)})}},{key:"pasteAnnot",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");if([Zi.popup,Zi.widget,Zi.strikeOut,Zi.highlight,Zi.squiggly,Zi.underline,Zi.caret].includes(e.getType()))throw new Error("Not support strikeout, highlight, squiggly, underline, caret, popup and widget annotations.");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.paste(i,r,e.getPage().getId(),"annot",e.getId(),t).then(function(e){return n._doAfterAddAnnots(e)},function(e){return Promise.reject(e)})}},{key:"pasteGraphicObject",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var r=this.getPDFDoc().getId(),o=this.getId();return this.doc.api.paste(r,o,this.doc.pageCache[t].getId(),"graphicObject",e,n).then(function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return i.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,i,t),t},function(e){var t=(0,z.createDeferred)();return t.reject(e),t.promise})}},{key:"getMediaWidth",value:function(){return this.info.mediaWidth}},{key:"getMediaHeight",value:function(){return this.info.mediaHeight}},{key:"isCropped",value:function(){return this.info.isCropped}},{key:"isVirtual",value:function(){return!!this.info.isVirtual}},{key:"calcPageContentBBox",value:function(e){return this.doc.api.calcPageContentBBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getPageBox",value:function(e){return this.doc.api.getPageBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getAllBoxes",value:function(){return this.doc.api.getAllBoxes(this.getPDFDoc().getId(),this.getIndex())}},{key:"setPageBox",value:function(e,t){return this.doc.api.setPageBox(this.getPDFDoc().getId(),this.getIndex(),e,t)}},{key:"setPageSize",value:function(e,t){var n=this;return(0,z.assertThat)("number"==typeof e,"width must be a number, but got "+(void 0===e?"undefined":(0,F._)(e))),(0,z.assertThat)("number"==typeof t,"height must be a number, but got "+(void 0===t?"undefined":(0,F._)(t))),(0,z.assertThat)((0,z.isValidNumber)(e)&&e>0,"width must be a valid positive number, but got "+e),(0,z.assertThat)((0,z.isValidNumber)(t)&&t>0,"height must be a valid positive number, but got "+t),this.doc.api.setPageSize(this.getPDFDoc().getId(),this.getIndex(),e,t).then(function(){n.info.width=e,n.info.height=t,n._updateInfo(n.info),n.doc.engine.eventEmitter.emit(oe.Z.pagesBoxChange,[n])})}},{key:"getAnnotIdArrayByOrder",value:function(){return this.doc.api.getAnnotIdArrayByOrder(this.getPDFDoc().getId(),this.getId())}},{key:"getDict",value:function(){var e=this;return this.doc.api.getPageDictionary(this.getPDFDoc().getId(),this.getId()).then(function(t){return new ur(e.doc,t.id,e.doc.engine)})}},{key:"createWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createWebLinks(n,i,e).then(function(e){var n=t.doc;return n.engine.eventEmitter.emit(oe.Z.docModified,n),e})}},{key:"removeWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.removeWebLinks(n,i,e).then(function(e){var n=t.doc;return n.engine.eventEmitter.emit(oe.Z.docModified,n),e})}},{key:"deleteDestination",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.deleteDestination(t,n,e)}},{key:"renameDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.renameDestination(n,i,e,t)}},{key:"createDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createDestination(n,i,e,t)}},{key:"resetDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.resetDestination(n,i,e,t)}},{key:"addAnnotObjects",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),e).then(function(e){return e=e.map(function(e){return e?t.doc.engine.annotManager.get(e,t):null}).filter(function(e){return!!e}),e.forEach(function(e){t.annotIdMap[e.getId()]=e}),e}).then(function(e){t.annots=t.annots.concat(e);var i=t.annots.map(function(e){return e.reviseSummary(function(e){return t.annotIdMap[e]})});return Promise.all(i).then(function(){return n&&t.doc.engine.eventEmitter.emit(oe.Z.annotationAdded,e,t),e})})}},{key:"getSuggestedFormDesignerRect",value:function(e){return this.doc.api.getSuggestedFormDesignerRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getSnappedPoint",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getSnappedPoint(n,i,e,t)}},{key:"getTextRectCount",value:function(){var e=this.getPDFDoc().getId(),t=this.getId();return this.doc.api.getPageTextRectCount(e,t)}},{key:"getTextByRectIndex",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageTextByRectIndex(t,n,e)}},{key:"cloneGraphicObject",value:function(e,t){return this.doc.api.cloneGraphicObject(this.getPDFDoc().getId(),this.getId(),this.doc.pageCache[e].getId(),t)}},{key:"addReviewStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then(function(t){var i=t[0];e.info.reviewStatesSummary.push({objectNumber:i.objectNumber,id:i.objectNumber,index:i.index});var r=n.doc.engine.annotManager.get(i,n);return n.addAddonAnnot(r)}).then(function(t){return e.reviewStates.push(t),i&&n.doc.engine.eventEmitter.emit(oe.Z.annotationReviewStateAnnotAdd,t,e),i&&n.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[e],n,Qt.reviewStateUpdated),t})}},{key:"addMarkedStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],o=e.getGroupHeader()||e;return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then(function(e){var t=e[0];if(o.info.markedStatesSummary.length){var i=n.annotIdMap[t.objectNumber];return i.info=t,i}o.info.markedStatesSummary.push({objectNumber:t.objectNumber,id:t.objectNumber,index:t.index});var r=n.doc.engine.annotManager.get(t,n);return n.addAddonAnnot(r)}).then(function(t){return o.markedStates.push(t),i&&n.doc.engine.eventEmitter.emit(oe.Z.annotationMarkedStateAnnotAdd,t,o,r),i&&n.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,[e],n,Qt.reviewStateUpdated),t})}},{key:"getViewportRect",value:function(){return this.doc.api.getViewportRect(this.doc.getId(),this.getId())}},{key:"getMeasureScaleRatio",value:function(){return this.doc.api.getMeasureScaleRatio(this.doc.getId(),this.getId()).then(function(e){var t=e.scale,n=e.ratio,i=e.unit,r=n&&n.trim()?n.split(" = ").map(function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}}):[];return{scale:t,ratio:n,ratioMap:r,unitName:i}})}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){var r=this;if(!this.doc.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");if(n){var o=n.split(" = ").map(function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}});if(2!==o.length||!o.every(function(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/.test(e.value)})||!o.every(function(e){return Ei[e.unit]}))throw new Error("Ratio format error. Please refer to: 1 inch = 1 ft")}return this.doc.api.setMeasureScaleRatio(this.doc.getId(),this.getId(),e,{unit:t,ratio:n,scale:i}).then(function(e){return r.getAnnotsByObjectNumArray(e).then(function(e){var t=[];return e.forEach(function(e){return t.push(e._update())}),Promise.all(t).then(function(e){return r.doc.engine.eventEmitter.emit(oe.Z.pageMeasureScaleRatioChanged,r,e),e})})})}},{key:"getTransition",value:function(){return this.doc.api.getPageTransition(this.doc.getId(),this.getId())}},{key:"isScannedPage",value:function(){return this.doc.api.isScannedPage(this.doc.getId(),this.getId())}},{key:"getPureTexts",value:function(e){return this.doc.api.getPureTexts(this.doc.getId(),this.getId(),e)}},{key:"getTexts",value:function(e){var t=e.settings,n=e.minWidth,i=e.eol;return this.doc.api.getPageTexts(this.doc.getId(),this.getId(),t,n,i)}},{key:"handleGroupMarkup",value:function(e,t){var n=this,i=this.doc,r=this.getId();if(!i.checkPermission(Xt.modify)&&!i.checkPermission(Xt.annotForm))throw new Error("Permission error");return i.api.handleGroupMarkup(i.getId(),r,e,t).then(function(t){var r=e.map(function(e){var i=n.annotIdMap[e];return i.info=t[e],i.reviseSummary(function(e){return n.annotIdMap[e]})});Promise.all(r).then(function(e){n.doc.engine.eventEmitter.emit(oe.Z.docModified,i),n.doc.engine.eventEmitter.emit(oe.Z.annotationUpdated,e,n)})})}},{key:"getTextInRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.doc;if(!n.checkPermission(Xt.extract))throw new Error("Permission error");if(n.isStaticXFA())throw new Error("File type error, current is Static documents");return this.doc.api.getTextInRect(this.doc.getId(),this.getId(),e,t)}},{key:"scaleClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.transformClipRect(e,t,0,0)}},{key:"translateClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.transformClipRect(1,1,e,t)}},{key:"transformClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.doc.api.transformPage(this.doc.getId(),this.getId(),{scaleX:e,scaleY:t,translateX:n,translateY:i})}},{key:"getAnnotRects",value:function(){return this.annots.length?Promise.resolve(this.annots.map(function(e){return e.info})):this.doc.api.getAnnotRects(this.doc.getId(),this.getId())}},{key:"getBatchProcessor",value:function(){return this.batchProcessor}},{key:"clearRenderCache",value:function(){return this.doc.api.clearPageRenderCache(this.doc.getId(),this.getId())}},{key:"clearCacheObjects",value:function(){return this.doc.engine.eventEmitter.emit("before-clear-pageCache",this.getIndex()),this.doc.api.clearCacheObejcts({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"getWordCount",value:function(){return this.doc.api.getWordCount({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"changeAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");if([Zi.popup,Zi.watermark].includes(t.getType()))throw new Error("Not support Popup and Watemark.");return this.doc.api.changeAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),t.getId(),e).then(function(i){i.forEach(function(e,t){n.annotIdMap[e]&&(n.annotIdMap[e].info.index=t)}),n.annots.sort(Dr),n.doc.engine.eventEmitter.emit(oe.Z.annotationOrderChanged,[t],n,e)})}},{key:"moveAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.annotForm))throw new Error("Permission error");return this.doc.api.moveAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),e.getId(),t).then(function(t){t.forEach(function(e,t){n.annotIdMap[e]&&(n.annotIdMap[e].info.index=t)}),n.annots.sort(Dr),n.doc.engine.eventEmitter.emit(oe.Z.annotationOrderChanged,[e],n,0===e.getIndex()?Rt.first:Rt.last)})}},{key:"getAdditionalAction",value:function(){var e=this;return new Ge.AdditionalAction({type:"page",pageIndex:this.getIndex()},this.doc.additionalActionAPI,function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=e.doc.engine.eventEmitter;switch(t){case"set":case"update":var a;(a=o).emit.apply(a,[oe.Z.pageAdditionalActionUpdated,e].concat((0,R._)(i)));break;case"add":var s;(s=o).emit.apply(s,[oe.Z.pageAdditionalActionAdded,e].concat((0,R._)(i)));break;case"remove":var A;(A=o).emit.apply(A,[oe.Z.pageAdditionalActionRemoved,e].concat((0,R._)(i)))}},function(){return(0,R._)(Ge.PageActionTriggerEventsArray)})}},{key:"triggerAdditionalActions",value:function(e){return this.doc.api.triggerAdditionalActions({path:"jr/doc/page"},this.doc.getId(),this.getId(),e)}},{key:"splitTextInRect",value:function(e,t){var n=this;return Promise.all([this.doc.isXFA(),this.doc.readonly()]).then(function(i){var r=(0,M._)(i,2),o=r[0],a=r[1];if(!n.doc.checkPermission(Xt.extract|Xt.modify)|o|a|!n.doc.isOwner())throw new Error("Permission error");return n.doc.api.splitTextInRect({path:"jr/doc/page"},n.doc.getId(),n.getId(),e,t).then(function(e){return n.doc.engine.eventEmitter.emit(oe.Z.textSplited,e),e})})}}]),e}();function Dr(e,t){return e.getIndex()>t.getIndex()?1:-1}const Er=Cr;var Sr=function(){},Ir=0,Tr=(0,z.createDOM)("canvas",{class:"highlightAP fv__ui-annots"}),Mr=(0,z.createDOM)("canvas",{class:"annotRenderers fv__ui-annots"}),Rr=(0,z.createDOM)("div",{class:"linkHighlightMode",style:"display:none;cursor:pointer;position:absolute;z-index:27;"}),Fr=(0,z.createDOM)("div",{class:"curAnnot",style:"cursor:var(--fv-doc-cursor-type, pointer);position:absolute;z-index:28;"}),Nr=function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t,[i])).name="annotsRender",r.$ui=e,0==r.$ui.find(".curAnnot").length&&r.$ui.append(r.$ownUI=O()([Tr.cloneNode(),Mr.cloneNode(),Rr.cloneNode(),Fr.cloneNode()])),r.annotRenders={};var o=r.pdfViewer.customs||{};return r.activeAnnotBefore=o.activeAnnotBefore||Sr,r.activeAnnotAfter=o.activeAnnotAfter||Sr,r.unActiveAnnotBefore=o.unActiveAnnotBefore||Sr,r.unActiveAnnotAfter=o.unActiveAnnotAfter||Sr,r.pageRender=r._parent,r.initAnnotEvent(),r.renderParams=[i.scale,i.rotate,i.containerVisibleRect],r.hotAnnot=0,r.showAnnots=new Set,r.backAnnots=new Set,r.annotFiltered=i.docRender.hideMarkupFlag,r.rerenderAfterFilterTaskExecutor=new z.DebounceAsyncTaskExecutor,r.rerenderAnnotThrottleTaskExecutor=new z.ThrottleAsyncTaskExecutor(50,!0),r.rerenderAnnotDebounceTaskExecutor=new z.DebounceAsyncTaskExecutor(50,!1),r.mouseEventTaskExecutor=new z.ThrottleAsyncTaskExecutor(50,!0),r.rerenderMode=Xi.throttle,r.isRendered=!1,r}return(0,I._)(t,e),(0,D._)(t,[{key:"setRerenderMode",value:function(e){this.rerenderMode=e}},{key:"getRerenderMode",value:function(){return this.rerenderMode}},{key:"getRerenderAnnotTaskExecutor",value:function(){return this.rerenderMode===Xi.throttle?this.rerenderAnnotThrottleTaskExecutor:this.rerenderAnnotDebounceTaskExecutor}},{key:"removeUI",value:function(){}},{key:"getAnnotAtPoint",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName();if(-1!=["hand","select-annotation"].indexOf(n)){var i=this._parent;if(!i)return null;var r=i.getPDFPointFromClientPoint(e.clientX,e.clientY);return i.getActiveAnnotInfo(r,t)}}},{key:"processStateData",value:function(e){var t=e.reduce(function(e,t){var n=t.getTitle(),i=e[n];return i?i.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e},{});return Object.values(t).map(function(e){return e.getState()})}},{key:"initEmitter",value:function(){var e,t=this,n=this.pdfViewer.getEventEmitter(),i=this._parent,r=function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(o)||(o=[o]);var a=o.filter(function(e){return"popup"!=e.getType()}).map(function(e){Object.assign({},e.info.rect);var t=i.scale*z.dpr;return i.page.getAnnotDeviceRect(e,t,i.rotate)});return{left:(e=Math).min.apply(e,(0,R._)(a.map(function(e){return e.left}))),bottom:(t=Math).max.apply(t,(0,R._)(a.map(function(e){return e.bottom}))),right:(n=Math).max.apply(n,(0,R._)(a.map(function(e){return e.right}))),top:(r=Math).min.apply(r,(0,R._)(a.map(function(e){return e.top}))),hasHighlight:o.some(function(e){return"highlight"==e.getType()})}},o=function(e,n){return n=n||r(e),t.updateRender(n)};n.on("updatePageAnnot",this.updatePageAnnot=function(e,n,i,r){t.isDestroyed||t.pageRender.isDestroyed||(e==t.pageRender.page&&o(n),i==t.pageRender.page&&o(r))});var a,s=[ae.annotationRemoved,ae.annotationAdd,ae.annotationOrderChanged,ae.flattenAnnotation];s.forEach(function(e){n.on(e,t[e+"Handler"]=function(e){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&e[0]&&e[0].page&&e[0].page.getIndex()==t.pageRender.index){if(e[0].isDeleted()||e.map(function(e){return t.showAnnots.add(e.id)}),a){var n=r(e);a={left:Math.min(a.left,n.left),bottom:Math.max(a.bottom,n.bottom),right:Math.max(a.right,n.right),top:Math.min(a.top,n.top),hasHighlight:a.hasHighlight||e.some(function(e){return"highlight"==e.getType()})}}else a=r(e);t.getRerenderAnnotTaskExecutor().exec(function(e){if(e[0].page&&t.pageRender&&t.pageRender.page){var n=a&&o(e,a).then(function(e){e&&t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender)});return a=null,n}},[e])}})});var A=[ae.invalidRect];A.forEach(function(e){n.on(e,t[e+"Handler"]=function(e,n,i,r,s){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&s==t.pageRender.page){e=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*z.dpr,t.pageRender.rotate,e),n=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*z.dpr,t.pageRender.rotate,n);var A={left:Math.min(e.left,n.left),bottom:Math.max(e.bottom,n.bottom),right:Math.max(e.right,n.right),top:Math.min(e.top,n.top),hasHighlight:"highlight"==i};a=a?{left:Math.min(a.left,A.left),bottom:Math.max(a.bottom,A.bottom),right:Math.max(a.right,A.right),top:Math.min(a.top,A.top),hasHighlight:a.hasHighlight||"highlight"==i}:A,"screen"==i&&r.isAudioVideo?(t.genScreenIcon(t.pageRender,r),t.updateActiveRect(t.pageRender,r,".fv__pdf-player")):"freetext"==i?t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect",i):"line"==i&&(t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect"),t.updateLinePoint(t.pageRender,r)),t.getRerenderAnnotTaskExecutor().exec(function(e){if(t.pageRender&&t.pageRender.page){var n=a&&o(e,a);return a=null,n}},[])}})}),n.on("annot-filter",this.applyFilter=function(e,n){switch(e){case"start":t.startFilterAnnot();break;case"end":t.endFilterAnnot();break;default:t.addShowAnnot(n)}});var c,u=this.pdfViewer.getFormFillerService();n.on(ae.mouseEnter,this.mouseEnterListener=function(e,n){var i=n.annots[0];if(i){if(i.getType()===Zi.widget){if(!t.pdfViewer.config.showFormFieldTooltip)return;var r,o=t.pdfViewer.getFormFillerService().getDesignMode(),a=null===(r=i.getField())||void 0===r?void 0:r.getType();if((0,br.isFieldTypeMatchDesignMode)(a,o))return}else if(!1===t.pdfViewer.config.showAnnotTooltip)return;(c=t.pdfViewer.customs.AnnotTooltip?new t.pdfViewer.customs.AnnotTooltip(t.pdfViewer,i):new bi(i)).show(n.e.clientX,n.e.clientY)}}),n.on(ae.mouseLeave,this.mouseLeaveListener=function(e,t){c&&c.hide()}),n.on(ae.pageMeasureScaleRatioChanged,this.updatePageMeasureScaleRatio=function(e,n){t._updatePageMeasureScaleRatio(e,n)}),(e=s).push.apply(e,(0,R._)(A)),this.addDestroyHook.apply(this,[this.pdfViewer.addEventListener(ae.annotationImported,function(){t.pdfViewer.getAllActiveElements().forEach(function(e){e.isActive&&e.annot&&e.active()})}),u.onDesignModeChange(function(){c&&c.hide()}),function(){return n.off("updatePageAnnot",t.updatePageAnnot)},function(){return n.off("annot-filter",t.applyFilter)},function(){return n.off(ae.mouseEnter,t.mouseEnterListener)},function(){return n.off(ae.mouseLeave,t.mouseLeaveListener)},function(){return n.off(ae.pageMeasureScaleRatioChanged,t.updatePageMeasureScaleRatio)}].concat((0,R._)(s.map(function(e){return function(){return n.off(e,t[e+"Handler"])}}))))}},{key:"isAnnotHidden",value:function(e){var t=this.pdfViewer.getAnnotManager().getAnnotFlag(e).flag;return(t&en.invisible)===en.invisible||(t&en.hidden)===en.hidden||(t&en.noView)===en.noView}},{key:"initAnnotEvent",value:function(){var e=this,t=this,n=this.pdfViewer,i=n.getCurrentPDFDoc();if(i&&!i.isDestroyed&&!i.isDynamicXFA()){var r=n.getEventEmitter(),o=this._parent;this.initEmitter();var a,s=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((!t.hotAnnot||t.hotAnnot.type!==Zi.widget)&&(n&&t.$ui.find(".curAnnot").hide(),t.hotAnnot&&-1!==["redact","link"].indexOf(t.hotAnnot.type)&&!t.hotAnnot.isDeleted)){if("link"==t.hotAnnot.type)return void t.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide();if(t.hotAnnot.type==Zi.redact&&t.getAnnotRender(t.hotAnnot.id).component.isActive)return;var i=o.page.getDeviceRect(t.hotAnnot.rect,o.scale*z.dpr,o.rotate);t.mouseEventTaskExecutor.cancel(),t.mouseEventTaskExecutor.waitForLastTask().then(function(){var e=t.getHideAnnots();if(t.hotAnnot)return t.pageRender.page.getAnnotBitmapEx(t.hotAnnot.id,o.scale*z.dpr*4/3,o.rotate,{x:i.left-3,y:i.top-3,width:i.right-i.left+6,height:i.bottom-i.top+6},!0,"normal",void 0,{hideAnnots:e,hotAnnot:0,dpr:z.dpr}).then(function(e){return t.hotAnnot=0,a=null,t.updateCanvas(e,".annotRenderers")})})}},A=function(t){if(o.isDestroyed)return e.hotAnnot=null,Promise.resolve();var n=(0,z.getClientX)(t),i=(0,z.getClientY)(t),r=(0,M._)(o.getPDFPointFromClientPoint(n,i,!0),2),a=r[0],s=r[1];return(o.page.getAnnotCount()>1e3?new Promise(function(n){var i=e.getAnnotAtPoint(t);n(i?i.id:-1)}):o.getPDFPage().then(function(e){if(e.isVirtual())return-1;var t=o.scale,n=o.rotate,i=e.getDeviceMatrix(n);return i.scale(t,t),e.getAnnotObjectNumAtDevicePoint([a,s],5,[i.a,i.b,i.c,i.d,i.e,i.f])})).then(function(t){return(0,x._)(function(){var e,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return-1===t?[2,this.hotAnnot=null]:(this.hotAnnot=0,[4,o.getPDFPage()]);case 1:return(e=r.sent())?e.annotIdMap[t]?[3,3]:[4,e.getUnloadedAnnots()]:[2];case 2:r.sent(),r.label=3;case 3:return(n=this.getAnnotRender(t))?(i=n.component.annot,z.isTouchDevice||(this.hotAnnot=i.info),[2,i]):[2]}})}).call(e)}).then(function(t){if(t){var n=t.info;return-1!==["widget","link","screen"].indexOf(n.type)?n:e.annotFiltered&&!e.showAnnots.has(n.id)||e.isAnnotHidden(t)?e.hotAnnot=0:n}})};this.findAnnot=A;this.$ui.find(".curAnnot").on("mousemove",function(e){}).on("mouseleave",s);var c=n.getFormFillerService();this.addDestroyHook(c.onMouseLeaveWidget(function(t){t&&(e.hotAnnot=null)}));var u=function(){if(!n)return!1;var e=n.getStateHandlerManager().getStateHandlerConfig(yn);return!e||!!e.enableAnnotationSelectionTool},l=function(t,n){var i=o.page.getDeviceRect(t.getRect(),o.scale*z.dpr,o.rotate),r=e.getHideAnnots();return e.pageRender.page.getAnnotBitmapEx(t.id,o.scale*z.dpr*4/3,o.rotate,{x:i.left-3,y:i.top-3,width:i.right-i.left+6,height:i.bottom-i.top+6},!0,n,void 0,{hideAnnots:r,hotAnnot:0,dpr:z.dpr}).then(function(n){return e.updateCanvas(n,t.getType()===Zi.highlight?".highlightAP":".annotRenderers")})},d=void 0,h=function(t,i){return(0,x._)(function(){var s,A;return(0,N.Jh)(this,function(c){try{return s=[],A=(u=d)===(h=t)||void 0!==u&&void 0!==h&&null!==u&&null!==h&&u.objectNumber===h.objNumber,d&&!A&&s.push(function(t,i){r.emit(ae.mouseLeave,_i.annotation,{annots:[t],e:i});var s=n.getAllActiveElements();if(!s.length)return e.$ui.find(".curAnnot").hide();var A=s.find(function(e){return e.annot&&e.annot.getType()===Zi.redact});if(!A||!a||a.isDeleted())return e.$ui.find(".curAnnot").hide();if(!z.isTouchDevice){if(A.getPDFPage().getIndex()!==o.page.getIndex())return;return l(a,"normal")}}(d,i)),t&&!A&&s.push(function(t,i){return(0,x._)(function(){var e,s,A,c,u,d;return(0,N.Jh)(this,function(h){switch(h.label){case 0:if(Promise.resolve(),a&&!a.isDeleted()&&a.getType()===Zi.redact&&t.type===Zi.redact&&a.id!==t.id){if(e=a.getPDFPage().getIndex(),s=o.page.getIndex(),e!==s||!o.page.annotIdMap[a.id])return[2];l(a,"normal")}return a=o.page.annotIdMap[t.id],r.emit(ae.mouseEnter,_i.annotation,{annots:[a],e:i}),A=this.getEngineAnnot(t),c=this.getAnnotRect(A),[4,n.getCurrentPDFDoc().readonly()];case 1:return u=h.sent(),t.type===Zi.widget?o.docRender.hasPermission()&&o.docRender.canAnswerForm()?u?[2]:[4,A.getField().isReadonly()]:[2]:[3,3];case 2:if(h.sent())return[2];h.label=3;case 3:if(this.$ui.find(".curAnnot").data("annot",t.id).css(c).show(),!z.isTouchDevice&&t.type==Zi.redact&&!t.isDeleted)return[2,l(o.page.annotIdMap[t.id],"rollover")];if("3d"==t.type){if(!(d=this.getAnnotRender(t.id)))return[2];d.component.isActive3D&&this.$ui.find(".curAnnot").hide()}return[2]}})}).call(e)}(t,i)),[2,Promise.all(s)]}finally{d=t}var u,h;return[2]})})()};if(this.moveHandler=function(t){if(!Ir){0;var i=n.stateHandlerManager.currentStateHandler.getStateName();-1!=["hand","select-annotation"].indexOf(i)&&("hand"!==i||u())&&e.mouseEventTaskExecutor.exec(function(){return A(t).then(function(e){h(e,t)})})}},!z.isTouchDevice){o.$ui.on("mousemove",this.moveHandler);var f=!1;o.$ui.on("mousewheel",function(e){f=!0}),o.$ui.on("pointerleave",function(t){e.mouseEventTaskExecutor.exec(function(){return h(void 0,t.originalEvent)})}),this.addDestroyHook(this.pdfViewer.getScrollWrap().addScrollEventListener(function(){f&&(f=!0,z.pointerStatus.moveEvent&&e.moveHandler(z.pointerStatus.moveEvent))}))}this.tapPage=function(t){return(0,x._)(function(){var e,n,i;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return this.hotAnnot=0,z.isTouchDevice?(e="hand"==this.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName())&&!u()?[2,!1]:[4,A(t)]:[2,!1];case 1:if(!(n=o.sent()))return[2,!1];if(!(i=this.getAnnotRender(n.id)))return[2,!1];if(e&&-1!==["screen","link","image","sound"].indexOf(n.type))["screen","sound"].indexOf(n.type)>-1?i.component.play():["link","image"].indexOf(n.type)>-1&&i.component.doAction();else{if("3d"===n.type)return[2,!0];this.activeAnnot(n.id)}return i&&r.emit(ae.tapAnnotation,i),[2,!0]}})}).call(e)},this.doubleTapPage=function(t){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return z.isTouchDevice?[4,A(t)]:[2,!1];case 1:return(e=n.sent())?(this.doubleTapAnnot(e.id,t),[2,!0]):[2,!1]}})}).call(e)},this.pressPage=function(t){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return z.isTouchDevice?[4,A(t)]:[2,!1];case 1:return(e=n.sent())?(r.emit(ae.pressAnnotation,this.getAnnotRender(e.id),t),b(t,1),t.preventDefault(),t.stopPropagation(),[2,!0]):[2,!1]}})}).call(e)},this.panStart=function(t){e.moveHandler(t),e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)&&e.activeAnnot(e.hotAnnot.id,t)};var p=this.$ui.find(".curAnnot").get(0),g=new Hammer.Manager(p);g.add(new Hammer.Tap({event:"doubletap",taps:2})),g.add(new Hammer.Tap({event:"singletap"})),g.add(new Hammer.Pan),g.get("doubletap").recognizeWith("singletap"),g.get("singletap").requireFailure("doubletap"),g.add(new Hammer.Press);var v=Promise.resolve();if(g.on("panstart",function(t){v.then(function(n){if(e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)){e.getAnnotRender(e.hotAnnot.id);e.activeAnnot(e.hotAnnot.id,t.srcEvent,!0)}})}),g.on("hammer.input",function(t){if("pointerdown"==t.srcEvent.type)return Ir=1,void(0||(v=function(t){return z.isTouchDevice&&e.moveHandler(t),A(t).then(function(i){if(e.hotAnnot){var r=e.getAnnotRender(e.hotAnnot.id),a=n.stateHandlerManager.currentStateHandler.getStateName();if("hand"===a&&-1!==["screen","link","image","3d"].indexOf(e.hotAnnot.type)||setTimeout(function(){e.hotAnnot&&e.activeAnnot(e.hotAnnot.id)},200),"hand"===a)if("link"===e.hotAnnot.type){var s=r.annot.getBorderWidth(),A=e.$ui.find(".linkHighlightMode").show(),c=o.page.getDeviceRect(e.hotAnnot.rect,o.scale,o.rotate);switch(c.width=c.right-c.left,c.height=c.bottom-c.top,delete c.right,delete c.bottom,r.annot.info.highlightingMode){case xe.NONE:A.hide();break;case xe.OUTLINE:return c.width<2*s&&(c.left-=(2*s-c.width)/2),c.height<2*s&&(c.top-=(2*s-c.height)/2),void A.css(Object.assign({"border-width":s,borderColor:"black",borderStyle:"solid",backgroundColor:"none"},c)).show();case xe.INVERT:return void A.css(Object.assign({"background-color":"white","mix-blend-mode":"difference"},c)).show();case xe.PUSH:return c.width<2*s&&(c.left-=(2*s-c.width)/2),c.height<2*s&&(c.top-=(2*s-c.height)/2),void A.css(Object.assign({border:"".concat(s,"px solid"),"border-color":"black #aaa #aaa black"},c)).show();case xe.TOGGLE:return}}else if("3d"===e.hotAnnot.type){var u=e.getAnnotRender(e.hotAnnot.id);if(!u)return;if(n.getStore().getCurrentValue(z.MODULE_LICENSE_INFO).threed)e.$ui.find(".curAnnot").hide(),u.component.active3DHandle(t);else{var l,d=null===(l=n.viewerUI)||void 0===l?void 0:l.rootComponent.pdfUI;d?d.alert({id:"3d-noLicense-confirm-dialog",message:"3d.failReason.no3dLicense",level:"warning",again:!0}):n.viewerUI.alert("3d.failReason.no3dLicense")}}}})}(t.srcEvent)));if("pointerup"==t.srcEvent.type){Ir=0;var i="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();e.hotAnnot&&i&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&(-1===["screen","sound"].indexOf(e.hotAnnot.type)&&t.srcEvent.target===p&&e.getAnnotRender(e.hotAnnot.id).component.doAction(),e.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide())}}),g.on("singletap",function(t){var n="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();if(e.hotAnnot){var i=e.getAnnotRender(e.hotAnnot.id);n&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&["screen","sound"].indexOf(e.hotAnnot.type)>-1&&i.component.play(),r.emit(ae.tapAnnotation,i)}}),z.isTouchDevice&&(z.isSafari||z.isChrome)){var m="pointerdown";(z.isIOS&&z.isChrome||void 0===window.PointerEvent)&&(m="mousedown");var y=function(t){var n=e._findAnnotRender(t.target);n&&!e._isFormWidget(n)&&t.stopPropagation()};p.addEventListener(m,y);var _=(0,z.onTap)({target:p,stopPropagation:!1,onDoubleTap:function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)){var i=n.annot.getId();r.emit(ae.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t),t.stopPropagation()}}});this.addDestroyHook(_,function(){p.removeEventListener(m,y)})}else g.on("doubletap",function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)&&-1===["link","screen"].indexOf(n.annot.getType())){var i=n.annot.getId();r.emit(ae.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t)}});g.on("press",function(t){if(!(0,z.isEditable)(t.target)){var n=e.getAnnotRender(+O()(t.target).data("annot"));n&&!e._isFormWidget(n)&&r.emit(ae.pressAnnotation,n,t)}});var b=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t._findAnnotRender(e.target);if(n||i){if(n){var o=t.getAnnotAtPoint(e,!0);if(!o)return;i=t.getAnnotRender(o.id)}r.emit(ae.rightClickAnnotation,i,e);var a=i.annot.getType();if("select-annotation"==t.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName()||-1===["link","screen","widget"].indexOf(a)||i.component.isActive||z.isTouchDevice){var s=i.annot.getId();t.showContextMenu(s,e.clientX,e.clientY,e).then(function(t){!1!==t&&(e.stopPropagation(),e.preventDefault())})}else e.preventDefault()}};this.addDestroyHook(function(){g.destroy(),o.$ui&&o.$ui.off("mousemove",e.moveHandler),e.$ui.find(".curAnnot").off("mouseleave",s)},(0,z.attachContextMenuEvent)(this.$ui.get(0),b,{capture:!0}))}}},{key:"getEngineAnnot",value:function(e){return this.getAnnotRender(e.id).component.annot}},{key:"getAnnotRect",value:function(e){var t=this._parent,n=e.getDeviceRect(t.scale,t.rotate),i=n.right-n.left+4,r=n.bottom-n.top+4;return 8&e.getFlags()&&(i/=t.scale,r/=t.scale),{width:i,height:r,left:n.left-2,top:n.top-2}}},{key:"_isFormWidget",value:function(e){return"widget"===e.annot.getType()}},{key:"_isFormWatermark",value:function(e){return"watermark"===e.annot.getType()}},{key:"_findAnnotRender",value:function(e){var t=this;if(e==this.$ui.find(".curAnnot").get(0))return this.getAnnotRender(+O()(e).data("annot"));var n=function(){return Object.keys(t.annotRenders).map(function(e){return t.annotRenders[e]})},i=e.closest(".fv__pdf-page-annot-handler-container");return i?n().filter(function(e){return e.component.$handler.get(0)===i})[0]:e.closest(".fv__shape-control.callout")?n().filter(function(e){var t=e.component;return!(e.annot.getIntent()!==fe.FREETEXT_CALLOUT||!z.Lazy.isPropertyIntialized(t,"shapeControl"))&&t.shapeControl.annot.getId()===e.annot.getId()})[0]:void 0}},{key:"updateSize",value:function(e,t){if(Object.keys(this.annotRenders).length){for(var n in this.annotRenders){this.annotRenders[n].component.updateSize(e,t)}if(0!=this.$ui.find(".annotRenderers").width()){var i=(0,M._)(this.renderParams||[e],1)[0],r=this.renderParams[2],o=e/i,a="matrix(".concat(o,",0,0,").concat(o,",").concat(r.left*(o-1),",").concat(r.top*(o-1),")");this.$ui.find(".fv__ui-annots").css("transform",a);var s=this.$ui.find(".fv__pdf-form-control-handler-container, .fv__pdf-page-3d-annot-handler-container"),A=!0,c=!1,u=void 0;try{for(var l,d=s[Symbol.iterator]();!(A=(l=d.next()).done);A=!0){var h=l.value,f=parseFloat(O()(h).css("left")),p=parseFloat(O()(h).css("top"));O()(h).css({transform:"matrix(".concat(o,",0,0,").concat(o,",").concat(f*(o-1),",").concat(p*(o-1),")")})}}catch(e){c=!0,u=e}finally{try{A||null==d.return||d.return()}finally{if(c)throw u}}this.scaleChanged=!0}}}},{key:"constructAllWidgetRenders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.constructAllAnnotRenders(function(t){return"widget"===t.getType()&&e(t)}),[2]})}).call(this)}},{key:"constructAllAnnotRenders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t=this,this.isDestroyed?[2]:this.pageRender&&this.pageRender.page?[4,this.pageRender.page.getAnnots()]:[2];case 1:return n.sent().filter(function(n){return!t.annotRenders[n.objectNumber]&&e(n)}).map(function(e){return t.getAnnotRender(e.getId())}),[2]}})}).call(this)}},{key:"skipRender",value:function(e,t){return!!this.isDestroyed||(this._parent.pdfViewer.getScrollWrap().disabled||Math.abs(e-4*t/3)>1e-6)}},{key:"getHideAnnots",value:function(){var e=this,t=this.pdfViewer.getAnnotManager().getAnnotFlag_,n=this.pageRender.docRender.hideMarkupFlag;return this.pageRender.page.annots.map(function(i){var r=i.info.id;if(t&&i.getType()!==Zi.link&&e.isAnnotHidden(i))return r;if(e.annotFiltered){if(!e.showAnnots.has(r)&&i.isMarkup())return r}else if(n&&i.isMarkup())return r}).filter(function(e){return null!=e})}},{key:"getBitmap",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"noHighlight",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{left:r.left/z.dpr,right:r.right/z.dpr,top:r.top/z.dpr,bottom:r.bottom/z.dpr};if(this.skipRender(4/3,1))return Promise.resolve([1]);var A=this._parent,c="noHighlight"==o,u=0;c&&"redact"==(null===(t=this.hotAnnot)||void 0===t?void 0:t.type)&&A.page.annots.find(function(e){return e.getId()===n.hotAnnot.id})&&(u=this.hotAnnot.id);var l=["annot","form"];if(A.docRender.hideMarkupFlag&&l.push("hideMarkup"),c?l.push("noHighlight"):l.push("onlyHighlight"),!this.pageRender||!this.pageRender.page)return Promise.resolve([1]);var d=this.getHideAnnots(),h=A.page.reverseDeviceRect(r,A.scale*z.dpr,A.rotate);return h.left<0&&(h.left=0),h.bottom<0&&(h.bottom=0),A.page.getPageBitmap(4*e/3*z.dpr,i,{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},l,"view","",{hideAnnots:d,hotAnnot:u,dpr:z.dpr},h).then(function(t){var i=t.buffer,r=t.image,o=(t.progressiveId,t.x,t.y,t.width),A=t.height,u=t.scale;t.rate;if(n.skipRender(u,e*z.dpr))return[1];if(a)return t;n.$ui.find(c?".annotRenderers":".highlightAP");var l=O()("<canvas class='".concat(c?"annotRenderers":"highlightAP"," fv__ui-annots'></canvas>"))[0];O()(l).css({transform:"scale(1)",left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top});var d=l.getContext("2d",{willReadFrequently:!0});if(l.width=o,l.height=A,d.clearRect(0,0,l.width,l.height),r)return new Promise(function(t,n){try{var i=new Image;i.onload=function(){d.drawImage(i,0,0,o,A),URL.revokeObjectURL(i.src),t([0,e])},i.src=URL.createObjectURL(r)}catch(e){n(e)}});var h=d.createImageData(o,A);return h.data.set(new(Uint8ClampedArray||Uint8Array)(i)),d.putImageData(h,0,0),n.skipRender(u,e*z.dpr)?[1]:[0,e,l]})}},{key:"getImageData",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"noHighlight";if(this.skipRender(4/3,1))return Promise.resolve([1]);var a="noHighlight"==o,s=null,A=this._parent,c=0;a&&"redact"==(null===(t=this.hotAnnot)||void 0===t?void 0:t.type)&&A.page.annots.find(function(e){return e.getId()===n.hotAnnot.id})&&(c=this.hotAnnot.id);var u=["annot","form"];if(A.docRender.hideMarkupFlag&&u.push("hideMarkup"),a?u.push("noHighlight"):u.push("onlyHighlight"),!this.pageRender||!this.pageRender.page)return Promise.resolve([1]);var l=this.getHideAnnots(),d=A.page.reverseDeviceRect(r,A.scale*z.dpr,A.rotate);return A.page.getAnnotsBitmap(s?s.data.buffer:null,4*e/3*z.dpr,i,{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},u,"view",{hideAnnots:l,hotAnnot:c,dpr:z.dpr},d).then(function(e){return e})}},{key:"genScreenIcon",value:function(e,t){var n=e.scale,i=e.page.getDeviceRect(t.rect,n,e.rotate),r="fv__screen-decorator-".concat(t.id),o=this.$ui.find("."+r);o.length||(o=O()("<div class='fv__pdf-page-multi-media-annot-container screen-border ".concat(r,"' data-id='").concat(t.id,"'><div class='icon play'></div></div>")),this.$ui.append(o)),o.css({padding:(t.borderWidth||2)*z.dpr*n*4/3,left:i.left/e.getShowWidth()*100+"%",top:i.top/e.getShowHeight()*100+"%",width:(i.right-i.left)/e.getShowWidth()*100+"%",height:(i.bottom-i.top)/e.getShowHeight()*100+"%"});var a=this.pdfViewer.getPDFDocRender(),s=!1;this.pdfViewer.getAnnotManager().getAnnotFlag_&&this.isAnnotHidden(e.page.annotIdMap[t.id])&&(s=!0),a.noInteraction||s?o.hide():o.show()}},{key:"updateActiveRect",value:function(e,t,n,i){var r=e.annotsRender.getAnnotRender(t.name);if(r){var o=r.component;if(!(t.intent===fe.FREETEXT_CALLOUT)||!o.isActive||o.annot.isEditting){var a=r.$handler.find(n),s=e.scale,A=e.page.getDeviceRect("freetext"===i?t.innerRect:t.rect,s,e.rotate);if(!a)return A;var c="px";return a.css({left:A.left+c,top:A.top+c,width:A.right-A.left+c,height:A.bottom-A.top+c}),A}o.active()}}},{key:"updateLinePoint",value:function(e,t){var n=e.annotsRender.getAnnotRender(t.name);n&&"Line"===n.component.name&&n.component.updateHandlerPosition(!0)}},{key:"updateCanvas",value:function(e,t){var n=e.buffer,i=(e.image,e.progressiveId,e.x),r=e.y,o=e.width,a=e.height,s=(e.scale,e.rate,this.$ui.find(t)),A=s[0];if(!A.width){var c=this.renderParams[2];s.attr({width:c.right-c.left,height:c.bottom-c.top})}var u=s[0].getContext("2d");if(0!==o&&0!==a){var l=u.createImageData(o,a);if(l.data.set(new(Uint8ClampedArray||Uint8Array)(n)),this.renderParams[2]){var d=i-this.renderParams[2].left*z.dpr,h=r-this.renderParams[2].top*z.dpr;if(u.putImageData(l,d,h),(0,z.hasCanvasAutoUpdateBug)()){var f=document.createElement("canvas");Array.from(A.attributes).forEach(function(e){f.setAttribute(e.nodeName,e.nodeValue)}),f.getContext("2d").drawImage(A,0,0),s.replaceWith(f)}}}}},{key:"getBitmapData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"noHighlight",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,x._)(function(){return(0,N.Jh)(this,function(a){return e?[2,this.getImageData(t,n,i,r)]:[2,this.getBitmap(t,n,i,r,o)]})}).call(this)}},{key:"updateRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,x._)(function(){var n,i,r,o,a,s;return(0,N.Jh)(this,function(A){return n=this,i=this.pageRender.page.annots.some(function(e){return"highlight"==e.getType()}),[[".annotRenderers",".annotRenderers"],[".highlightAP",".highlightAP"]].map(function(t){var r=(0,M._)(t,2),o=r[0],a=r[1];if((".highlightAP"!=o||i||e.hasHighlight)&&0==n.$ui.find(o)[0].width){var s=n.renderParams[2];n.$ui.find(a).css({transform:"none",left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top}).attr({width:(s.right-s.left)*z.dpr,height:(s.bottom-s.top)*z.dpr})}}),r=this.pageRender,(o=e).left-=3,o.top-=3,o.right+=3,o.bottom+=3,o.left<0&&(o.left=0),o.top<0&&(o.top=0),t||(a=r.getCurrentVisibleRect(),o.left=Math.min(o.left,a.left*z.dpr),o.top=Math.min(o.top,a.top*z.dpr),o.right=Math.max(o.right,a.right*z.dpr),o.bottom=Math.max(o.bottom,a.bottom*z.dpr)),s=[this.getBitmapData(t,r.scale,r.rotate,o,"noHighlight",1)],e.hasHighlight&&s.push(this.getBitmapData(t,r.scale,r.rotate,o,"onlyHigh",1)),[2,Promise.all(s).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];return!(1==i[0]||r&&1==r[0])&&(n.updateCanvas(i,".annotRenderers"),r&&n.updateCanvas(r,".highlightAP"),!0)})]})}).call(this)}},{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.skipRender(4/3,1))return[1];if(this.pageRender.isDestroyed)return[1];this.isRendered=!0;var r=this.pageRender,o=r.page,a=r.docRender.hideMarkupFlag,s=r.docRender.forceLoadAnnot,A=this.pdfViewer.getAnnotManager().getAnnotFlag_;return(a||s||A?o.getAnnots().then(function(e){return e&&e.map(function(e){return e.info})}):o.getAnnotRects()).then(function(e){if(!o.isDestroyed)return o.doc.hasFixedPageFields(o.getIndex()).then(function(e){e&&!o.hasFixedPageFields&&(o.hasFixedPageFields=!0)}).then(function(t){return e})}).then(function(o){if(o){if(t.renderParams=[e,n,i],o.length){var a={left:i.left*z.dpr,right:i.right*z.dpr,top:i.top*z.dpr,bottom:i.bottom*z.dpr};return Promise.all([t.getBitmap(e,n,a,"noHighlight"),o.some(function(e){return"highlight"==e.type})?t.getBitmap(e,n,a,"onlyHigh"):Promise.resolve([0])]).then(function(e){var n=(0,M._)(e,2),i=n[0],r=n[1];if(i[0]||r[0])return[1];var o=t.$ui.find(".annotRenderers"),a=t.$ui.find(".highlightAP");return o.replaceWith(i[2]),r.length>1?a.replaceWith(r[2]):a.attr({width:0,height:0}),t.$ownUI=t.$ui.find(".fv__ui-annots,.linkHighlightMode,.curAnnot"),[0,i[1]]}).then(function(e){var i=(0,M._)(e,2),a=i[0],s=i[1];if(!a){if(t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender),t.scaleChanged)t.$ui.find(".fv__pdf-page-annot-handler-container").each(function(e,t){t.style.transform=null}),t.scaleChanged=!1;for(var A in o.forEach(function(e){"screen"==e.type&&e.isAudioVideo&&(t.genScreenIcon(r,e),t.updateActiveRect(r,e,".fv__pdf-player"))}),t.annotRenders){var c=t.annotRenders[A],u=c.component;if(u&&u.annot){var l=u.annot.getType();"widget"===l?c.render(s,n):"3d"===l&&u.isActive3D&&u.render3D(s,n);c.scale,c.rotate;u.scale=s,u.rotate=n,c.scale=s,c.rotate=n;c.component.isActive}}}})}t.$ui.find(".annotRenderers,.highlightAP").css({left:i.left,top:i.top,transform:"scale(1)",width:i.right-i.left,height:i.bottom-i.top}).attr({width:0,height:0})}})}},{key:"adjustHighlightsRender",value:function(){return Promise.resolve()}},{key:"adjustHighlightAnnots",value:function(){var e=[];for(var t in this.annotRenders){var n=this.annotRenders[t];"highlight"===n.annot.getType()&&e.push(n.redraw())}return Promise.all(e)}},{key:"destroy",value:function(){for(var e in this.annotRenders){var n=this.annotRenders[e];n&&n.destroy()}(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageRender=null,this.annotRenders=null,this.rerenderAnnotDebounceTaskExecutor.cancel(),this.rerenderAnnotThrottleTaskExecutor.cancel(),this.rerenderAfterFilterTaskExecutor.cancel()}},{key:"clickNoteAt",value:function(e){var t=this.annotRenders[e];t&&t.focus()}},{key:"unActiveAnnot",value:function(e){var t=this,n=this.pdfViewer.getAllActiveElements();if(!n.length)return Promise.resolve();this.pdfViewer.eventEmitter;return e||this.pdfViewer.clearMultiSelectActiveFlag(),Promise.resolve(this.unActiveAnnotBefore()).then(function(i){if(!1!==i&&null!=t.pageRender){var r=n.filter(function(e){return e.annot});(0,T._)(e,ln)?r=r.filter(function(t){return t.annot===e}):"number"==typeof e&&(r=r.filter(function(t){return t.annot.objectNumber===e})),r.forEach(function(e){t.pdfViewer.deactivateElement(e),t.unActiveAnnotAfter(e)})}})}},{key:"_unActiveAnnot",value:function(e){e.unActive()}},{key:"_forEachRenderer",value:function(e){for(var t in this.annotRenders)e.call(this,this.annotRenders[t],t,this.annotRenders)}},{key:"activeAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAnnotRender(e);if(!r)return Promise.resolve();var o=this.pdfViewer;if(o.activationManager.currentActivableIs(r.component)&&!z.keyboardStatus.isShiftDown&&!i)return Promise.resolve(r);var a=o.eventEmitter,s=this.pdfViewer.customs;return Promise.resolve((s.activeAnnotBefore||Sr)(r,e,this)).then(function(i){if(a.emit(ae.activeAnnotationBefore,r,e,n),!1===i)return r;if(r.annot.isGrouped&&r.annot.isGrouped()){var o=[];return r.getGroupRenders().map(function(e){"popup"!==e.annot.getType()&&o.push(e.active())}),Promise.all(o).then(function(){return a.emit(ae.activeAnnotation,r,e,n),Promise.resolve((s.activeAnnotationAfter||Sr)(r,e,n))}).then(function(){return a.emit(ae.activeAnnotationAfter,r,e,n),r})}return r.active(t).then(function(){return a.emit(ae.activeAnnotation,r,e,n),Promise.resolve((s.activeAnnotationAfter||Sr)(r,e,n))}).then(function(){return a.emit(ae.activeAnnotationAfter,r,e,n),t&&r.component.triggerPointerDownOnShapeControl(t),r})})}},{key:"_activeAnnot",value:function(e,t){var n=this.annotRenders[e];return n?n.active():Promise.resolve()}},{key:"splitAnnotIndexArr",value:function(e,t,n){for(var i=[],r=[],o=e+1,a=e-1,s=-1,A=0,c=t.length;A<c;A++){var u=t[A],l=u.length;if(1===l&&u[0]===e)return!1;for(var d=0,h=l;d<h;d++){var f=u[d];if((0,T._)(f,Array)){var p=f[0],g=f[1];if(e===p){s=A,i=u.slice(0,d),r=(r=g>o?[[o,g]]:[g]).concat(u.slice(d+1));break}if(e===g){s=A,i=u.slice(0,d),p<a?i.push([p,a]):i.push(p),r=u.slice(d+1);break}if(e>p&&e<g){s=A,i=u.slice(0,d),a===p?i.push(p):i.push([p,a]),r=(r=o===g?[g]:[[o,g]]).concat(u.slice(d+1));break}}else if(f===e){s=A,i=u.slice(0,d),r=u.slice(d+1);break}}if(-1!==s)break}if(-1===s)return!1;var v=JSON.stringify(t[s]),m=n[v],y=[s,1];return i.length&&y.push(i),y.push([e]),r.length&&y.push(r),t.splice.apply(t,y),{removeTileCanvas:m,beforeIndexArr:i,splitIndexArr:[e],afterIndexArr:r,tileCanvasMap:n,splitKey:v}}},{key:"splitTileCanvas",value:function(e,t,n,i,r,o,a,s,A,c){var u=e.beforeIndexArr,l=e.splitIndexArr,d=e.afterIndexArr,h=e.removeTileCanvas,f=e.tileCanvasMap,p=e.splitKey,g=O()(document.createDocumentFragment()),v=[];return u.length&&v.push(this.rangeAnnotTileCanvasRedraw(t,n,u,f,g,i,r,o,a,s,A,c)),v.push(this.renderSplitAnnots(l,t,n,g,i,A,c)),d.length&&v.push(this.rangeAnnotTileCanvasRedraw(t,n,d,f,g,i,r,o,a,s,A,c)),Promise.all(v).then(function(){h.$container.before(g),h.destroy(),delete f[p]})}},{key:"createAnnotRender",value:function(e){if(this.annotRenders[e.id||e.getId()])return this.annotRenders[e.id||e.getId()];var t=O()("<div/>"),n=O()("<div/>"),i="widget"===e.getType();i?this.$ui.append(t,n):this.$ui.append(n);var r=new te(t,n,e,this);return this.annotRenders[e.getId()]=r,i&&r.render(this.renderParams.targetScale,this.renderParams.rotate,this.renderParams.containerVisibleRect).then(function(e){return r.component.afterRender()}),r.component.rotate=this._parent.rotate,r.component.scale=this._parent.scale,r}},{key:"getAnnotRender",value:function(e){if(void 0!==e){var t=this._parent;if(!t)return null;var n=t.page;if("number"==typeof e){var i=this.annotRenders[e];if(i)return i;var r=n.getAnnotsSync([e])[0];return r?this.createAnnotRender(r):null}if(e.trim().length<1)return null;var o=n.annots.find(function(t){return t.getName()===e});return o?this.createAnnotRender(o):null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this.pageRender.page.annots.find(function(t){return t.id===e});return t?this.createAnnotRender(t):null}},{key:"removeAnnotRender",value:function(e){var t=e.annot.getId();delete this.annotRenders[t]}},{key:"showContextMenu",value:function(e,t,n,i){return this.activeAnnot(e).then(function(e){return e&&e.showContextMenu(t,n)})}},{key:"doubleTapAnnot",value:function(e,t){this.activeAnnot(e).then(function(e){e&&e.doubleTapAnnot();var t=e.annot.getId(),n=document.getElementById("comment-popup-".concat(t));null==n||n.dispatchEvent(new Event("mouseleave"))})}},{key:"getOrCreateAnnotRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$ui[0],n=e.getId();if(this.annotRenders[n])return this.annotRenders[n];var i=O()("<div></div>"),r=O()("<div></div>");return t.appendChild(i[0]),t.appendChild(r[0]),this.annotRenders[n]=new te(i,r,e,this)}},{key:"addAnnots",value:function(e){var t=this,n=O()(document.createDocumentFragment());this.annots.reduce(function(e,i){var r=i.getId();return e[r]||(e[r]=t.getOrCreateAnnotRender(i,n[0])),e},this.annotRenders),this.$ui.append(n);for(var i=!1,r=0,o=e.length;r<o;r++){if("highlight"===e[r].getType()){i=!0;break}}i&&this.parent("pdfPageRender").redrawContent(!0)}},{key:"getAnnotRenders",value:function(){return this.annotRenders}},{key:"removeAnnotRenders",value:function(e){var t=this,n=e.map(function(e){var n=e.getId(),i=t.getAnnotRender(n);return i&&i.remove(!0)});return Promise.all(n)}},{key:"redrawAnnotRenders",value:function(e){}},{key:"movedAnnotRenders",value:function(e,t){for(var n=e.length;n--;){var i=e[n].getId(),r=this.getAnnotRender(i);r&&r.moved(t)}}},{key:"addAnnotRenders",value:function(e){}},{key:"updateAnnotRendersId",value:function(e,t){e in this.annotRenders&&(this.annotRenders[t]=this.annotRenders[e],delete this.annotRenders[e])}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(Sr)}},{key:"invisibleRender",value:function(){this.endRender();var e=this.annotRenders;for(var t in e)e[t].invisibleRender()}},{key:"showDownIcon",value:function(e){}},{key:"startFilterAnnot",value:function(){this.annotFiltered=1,this.showAnnots=new Set}},{key:"addShowAnnot",value:function(e){var t=this;"caret"===e.getType()&&e.isGrouped()?e.groupElements&&e.groupElements.length>=2&&e.groupElements.forEach(function(e){t.showAnnots.add(e.getId())}):this.showAnnots.add(e.getId())}},{key:"endFilterAnnot",value:function(){var e=this;this.annotFiltered&&this.rerenderAfterFilterTaskExecutor.exec(function(){if(!e.isDestroyed)return e.render.apply(e,(0,R._)(e.renderParams))})}},{key:"_updatePageMeasureScaleRatio",value:function(e,t){var n=this;0!==t.length&&t.forEach(function(t){var i=t.getPDFPage().getIndex();e.getIndex()===i&&e.getMeasureScaleRatio().then(function(e){var i=e.ratioMap,r=e.unitName,o=e.scale;return(0,x._)(function(){var e,n,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b,w,k,x;return(0,N.Jh)(this,function(P){switch(P.label){case 0:return[4,ki(t)];case 1:if(e=P.sent(),n=this.pdfViewer.getIoC().getInstanceByClass(rr),s=n.getMeasurementInfo(),o&&e)i.length?(A=i[0].value,c=Wi(i[0].unit),u=i[1].value,l=Wi(i[1].unit),a={userSpaceScaleValue:A,userSpaceUnit:c,realScaleValue:u,realUnit:l}):s=null;else{if(!s)return[2];o=1,A=s.userSpaceScaleValue,c=s.userSpaceUnit,u=s.realScaleValue,l=s.realUnit}switch(d=t.getContent(),(h=d.indexOf("\n"))>=0&&(h+=1),f=d.substr(0,h),t.getType()){case"circle":return p=Ki.caculateCircleArea(t.getRect(),a?null:s),a&&(p*=Math.pow(o,2)),t.setContent("".concat(f).concat(parseFloat(p).toFixed(2)," sq ").concat(r)),[2];case"line":return g=t.getStartPoint(),v=t.getEndPoint(),m=Ki.caculateDistance(g,v,a?null:s),a&&(m*=o),t.setContent("".concat(f).concat(parseFloat(m).toFixed(2)," ").concat(r)),[2];case"polyline":for(y=0,_=t.getVertexes(),b=_[0],w=1;w<_.length;w++)y+=Ki.caculateDistance(b,_[w],a?null:s),b=_[w];return a&&(y*=o),t.setContent("".concat(f).concat(parseFloat(y).toFixed(2)," ").concat(r)),[2];case"polygon":return k=t.getVertexes(),x=Ki.caculatePolygonArea(k,a?null:s),a&&(x*=Math.pow(o,2)),t.setContent("".concat(f).concat(parseFloat(x).toFixed(2)," sq ").concat(r)),[2]}return[2]}})}).call(n)})})}},{key:"showCommentPopupOnMouseOver",value:function(e){var t=this;if(JSON.parse(localStorage.getItem("commentPreference")||'{"isAutoOpenPopup":false}').isAutoOpenPopup){var n=function(e){return document.getElementById("comment-popup-".concat(e))},i=function(){O()(".temp-rect").remove();var e=t._annotRender_;if(e){var i,r=document.querySelector(".fv__comment-popup__canvas");r&&(r.width=r.width);var o=e.annot.getId(),a=e.component;null===(i=n(o))||void 0===i||i.classList.add("hide"),a.$rect=void 0,t._annotRender_=void 0}};this.findAnnot(e).then(function(e){e?function(e){var r=e.id;if(t._annotRender_){if(t._annotRender_.annot.getId()===r)return;i()}var o=t._annotRender_=t.getAnnotRender(r),a=o.annot,s=o.component,A=a.getType(),c=t.pageRender,u=c.page.getDeviceRect(a.getRect(),c.scale*z.dpr,c.rotate);o&&!t._isFormWidget(o)&&-1===["link","screen","freetext"].indexOf(A)&&s.getAppPermission().then(function(e){if(e.isEditable()){var i=O()('<div class="temp-rect"></div>');i.css({position:"absolute",left:u.left+"px",top:u.top+"px",bottom:u.bottom+"px",right:u.right+"px"}),t.pageRender.$ui.append(i),s.$rect=i,s.showReplyDialog("comment"),document.activeElement.blur(),setTimeout(function(){n(r).clientWidth&&n(r).dispatchEvent(new Event("mouseenter"))},600)}})}(e):i()})}}}]),t}(X);const Lr=Nr;var Or=n(3397);function jr(){if("undefined"!=typeof window){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return(0,Or.vg)("random",Math)()}var Br=function(){},Vr=(0,z.createDOM)("canvas",{width:"0",class:"fv__tiles-canvas"}),Hr=((0,z.createDOM)("div",{class:"fv__tiles-col"},[Vr.cloneNode()]),(0,z.createDOM)("div",{class:"fv__tiles-row"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e||e.right-e.left<=t||e.bottom-e.top<=t}),Ur=function(e,t){return e.left>=t.left&&e.right<=t.right&&e.top>=t.top&&e.bottom<=t.bottom},zr=function(e,t,n){if(!n&&e.left==t.left&&e.right==t.right&&e.top==t.top&&e.bottom==t.bottom)return[];var i={left:Math.max(e.left,t.left),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top)};if(i.left<i.right&&i.top<i.bottom){if(n)return i;if(Ur(t,e))return[];var r,o;i.left==t.left?(r={left:i.right,right:t.right,top:t.top,bottom:t.bottom},o=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:e.top}):i.right==t.right&&(o={left:t.left,right:i.left,top:t.top,bottom:t.bottom},r=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:i.top});var a=[];return Hr(o,0)||a.push(o),Hr(r,0)||a.push(r),0!=a.length||Hr(t)?a:[t]}return n?null:Hr(t)?[]:[t]},Wr=function(e,t){var n=e.left>t.left?e.left:t.left,i=e.right<t.right?e.right:t.right,r=e.bottom<t.bottom?e.bottom:t.bottom,o=e.top>t.top?e.top:t.top;if(!(n>=i||r<=o))return{left:n,right:i,bottom:r,top:o}},Yr=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.bottom>=t.bottom&&e.top<=t.top},Gr=function(){function e(t,n,i){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,C._)(this,e),this.isDestroyed=!1,this.enableCache=o,this.cache={},this.getImageData=t,i&&(this.pageRender=i,this.api=i.page.api),this.progressDeferredMap={},this.tileTasks={},this.timer={};var a="fv__tiles-container";n=n?n.addClass(a):O()((0,z.createDOM)("div",{class:a})),this.setDom(n),this.updateCanvasMore=Br,this.updateCanvasContainer=Br,this.defer={},this.isRendered=!1,Object.defineProperties(this,{$canvases:{get:function(){return r.$container.find(".fv__tiles-canvas")}},rows:{get:function(){return r.$container.find(".fv__tiles-row").length}},$cols:{get:function(){return r.$container.find(".fv__tiles-col")}},cols:{get:function(){return r.$container.find(".fv__tiles-row").eq(0).find(".fv__tiles-col").length}}})}return(0,D._)(e,[{key:"setDom",value:function(e){this.$container=e}},{key:"redraw",value:function(e,t,n,i,r,o,a,s){var A,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=this.getCurrentCanvas();if(l&&!l.isInvalid&&(A=this.getRenderedRect(l))){var d=this.getVisibleRealRect();if(d&&A.left<=d.left&&A.right>=d.right&&A.top<=d.top&&A.bottom>=d.bottom&&this.scale==a&&this.rotate===s&&this.showWidth===n&&this.showHeight===i)return Promise.resolve()}this.showWidth=n,this.showHeight=i;var h=[e,t,n,i,r,o,a,s,c,u];this.lastRedrawParams=h;var f=this.$container,p={left:c*a+"px",top:u*a+"px"};if(f.css(p),f.css(p),this.getRectBitmap){var g=!!this.scale&&this.scale!=a;return this.scale=a,this.rotate=s,this.renderVisibleRect(o,a,g)}return this.scale=a,this.rotate=s,this.updateDom(e,t,n,i,r,o,a,s,c,u),this.updateRenderCanvasSerial(e,t,n,i,r,o,a,s,c,u)}},{key:"isRenderingDone",value:function(e,t){return e===this.scale&&t===this.$container.width()}},{key:"updateDom",value:function(e,t,n,i,r,o,a,s){var A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:this.$container;if(0!=n){var l={left:A*a+"px",top:c*a+"px"};this.updateCanvasContainer=function(){u.css(l)},u.css(l);var d=n/z.dpr,h=i/z.dpr,f=O()((0,z.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(d,"px;height:").concat(h,"px;")})),p=f[0];if(p.width=n,p.height=i,this.$container){var g=this.$container.find("#pdfcanvas");if(f.css("display",g.css("display")),this.$container.append(p),g&&g.length>0){var v=g[0];v.width=v.height=0,v.remove()}this.$container.show()}this.pageRender||this.lastRedrawParams||(this.lastRedrawParams=[e,t,n,i,r,o,a,s,A,c])}}},{key:"updateRenderCanvasSerial",value:function(e,t,n,i,r,o,a,s){var A=this,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=this.renderContentImageSerial;if(l&&l.end().catch(function(){}),0==n)return this.updateCanvasContainer(),Promise.resolve();l=this.renderContentImageSerial=new ce;var d=[],h=r*a/o,f=r,p=parseInt(n%r+.5);p=p||1;var g=parseInt(i%r+.5);g=g||1;for(var v=c*a,m=u*a,y=this.visibleRect,_=0,b=e;_<b;_++)for(var w=0,k=t;w<k;w++){if(y){var x=y.left-20,P=y.right+20,C=y.top-20,D=y.bottom+20,E=v+w*h,S=m+_*h;if(!(E+h>x&&E<P&&S+h>C&&S<D)){this.$canvases[t*_+w].width=0;continue}}var I=f,T=f;_===e-1&&(T=g),w===t-1&&(I=p),d.push(function(e,t,n,i,r,o){return function(){return A.isDestroyed?Promise.resolve():A.updateCanvas(e,t,n,i,r,o,a,s,c,u)}}(_,w,I,T,r,o))}return l.serial(d)}},{key:"updateCanvas",value:function(e,t,n,i,r,o,a,s,A,c){return this.renderImageData(e,t,n,i,r,o,a,s,A,c)}},{key:"renderImageData",value:function(e,t,n,i,r,o,a,s,A,c){var u=this;if(this.isDestroyed)return Promise.resolve();var l=[e,t,n,i,r,o,A,c,s].join("-"),d=this.cache,h=([l,"canvas"].join("-"),[l,"imageData"].join("-")),f=[l,"imageUrl"].join("-"),p=d[h];return(p?Promise.resolve(p):this.getImageData(e,t,n,i,r,o,A,c,s)).then(function(n){if(!n)return[];var i=n.width,s=n.height,l=n.buffer,p=n.image,g=n.type,v=n.url;d[h]={width:i,height:s,buffer:l,image:p,type:g,url:v};var m=u.getCurrentCanvas(),y=o/a,_=u.lastRedrawParams[2],b=u.lastRedrawParams[3],w=m.getContext("2d");if(0==i||0==s)return m.width=0,[w,e,t,i,s,r,o,A,c];if(Math.abs(m.width-_)>1&&(m.width=_,m.height=b,O()(m).css({width:u.showWidth/y,height:u.showHeight/y})),v)return new Promise(function(n,a){var l=d[f];if(l)return u.updateCanvasContainer(),w.drawImage(l,e*r,t*r),n([w,e,t,i,s,r,o,A,c]);var h=new Image;h.onload=function(){d[f]=h,u.updateCanvasContainer(),w.drawImage(h,e*r,t*r),n([w,e,t,i,s,r,o,A,c])},h.src=v});if(p)return new Promise(function(n,a){var l=d[f];if(l)return u.updateCanvasContainer(),w.drawImage(l,0,0),n([w,e,t,i,s,r,o,A,c]);try{var h=new Image;h.onload=function(){d[f]=h,u.updateCanvasContainer(),w.drawImage(h,0,0),n([w,e,t,i,s,r,o,A,c])},h.src=URL.createObjectURL(p)}catch(e){console.log(e)}});var k=new(Uint8ClampedArray||Uint8Array)(l),x=w.createImageData(i,s);return x.data.set(k),u.updateCanvasContainer(),u.$container.css({width:u.showWidth/y,height:u.showHeight/y}),w.putImageData(x,t*r,e*r),[m,w,e,t,i,s,r,o,A,c]}).then(function(e){var t=(0,M._)(e,7),n=(t[0],t[1]),i=t[2],r=t[3],o=t[4],a=t[5],s=t[6];u.updateCanvasMore(n,i,r,o,a,s,i,r)})}},{key:"hideContainer",value:function(){this.$container.hide(),this.invisibleRender()}},{key:"showContainer",value:function(){var e=this.$container;if(!e.is(":visible")){e.show();var t=this.lastRedrawParams;t&&this.redraw.apply(this,t)}}},{key:"setUpdateCanvasMore",value:function(e){this.updateCanvasMore=e}},{key:"setRenderViewWatermark",value:function(e){this.isRenderViewWatermark=e}},{key:"destroy",value:function(){this.offRender&&this.offRender(),this.isDestroyed=!0,delete this.getImageData,this.updateCanvasMore=Br,this.updateCanvasContainer=Br,this.$canvases.each(function(e,t){t.width=0});var e=this.getCurrentCanvas();e&&(e.width=0,e.parentNode.removeChild(e)),this.$container.remove(),delete this.$container,this.clearCache()}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"clearCache",value:function(){var e=this.cache;for(var t in e)delete e[t];this.cache={};var n=this.getCurrentCanvas();n&&(n.isInvalid=!0),this.clearProgressiveTask()}},{key:"clearProgressiveTask",value:function(){if(this.getRectBitmap){for(var e in this.timer)clearTimeout(this.timer[e]);this.timer={};var t=[];for(var n in this.tileTasks)t.push(this.api.cancleProgress(n));for(var i in this.progressDeferredMap)this.progressDeferredMap[i].resolve();return this.progressDeferredMap={},this.tileTasks={},this.offRender=null,Promise.all(t)}}},{key:"cancelInvisibleProgressiveTask",value:function(e){var t=[];for(var n in this.tileTasks){var i=this.tileTasks[n];Wr(i,e)||(this.timer[n]&&(clearTimeout(this.timer[n]),delete this.timer[n]),t.push(this.api.cancleProgress(n)),delete this.tileTasks[n],this.progressDeferredMap[n].resolve(),delete this.progressDeferredMap[n])}return Promise.all(t)}},{key:"invisibleRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.enableCache||!this.getRectBitmap||e){this.$canvases.each(function(e,t){t.width=0});var t=this.getCurrentCanvas();t&&(t.width=0,t.parentNode.removeChild(t)),this.clearCache(),this.zoomingScale=void 0}}},{key:"invisibleCanvas",value:function(){}},{key:"getRenderedRect",value:function(e){if(e)return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"recurToReduceRect",value:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=zr(r,t);if(o.length){for(var a=0;a<o.length;a++)if(i==e.length-1)n.push(o[a]);else{var s,A=e.slice(i+1),c=this.recurToReduceRect(A,o[a]);(s=n).push.apply(s,(0,R._)(c))}break}if(Yr(r,t))return[]}return n}},{key:"pushToRenderRectsQueue",value:function(e){var t=[];for(var n in this.tileTasks){var i=this.tileTasks[n];t.push(i)}if(0==t.length)return e;var r=[],o=!0,a=!1,s=void 0;try{for(var A,c=e[Symbol.iterator]();!(o=(A=c.next()).done);o=!0){var u=A.value;r=r.concat(this.recurToReduceRect(t,u))}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return r}},{key:"getCurrentCanvas",value:function(){if(!this.$container)return null;var e=this.$container.find("#pdfcanvas");return e&&e.length?e[0]:null}},{key:"render",value:function(e,t,n){return(0,x._)(function(){var i,r,o,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b,k,x,P,C,D,E;return(0,N.Jh)(this,function(S){return i=this,this.isRendered&&this.zoomingScale&&this.zoomingScale!=t&&(e=this.pageRender.pdfViewer.getSmartScale(this.zoomingScale)),this.isRendered=!0,r=this.getVisibleRealRect(),o=(0,w._)({},this.visibleRect),a=o.right-o.left,s=o.bottom-o.top,c=this.getCurrentCanvas(),!(0,z.hasCanvasAutoUpdateBug)()&&c&&c.left==r.left&&c.top==r.top&&c.right==r.right&&c.bottom==r.bottom?A=c:(u=O()((0,z.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(a,"px;height:").concat(s,"px;left:").concat(o.left,"px;top:").concat(o.top,"px; position:absolute;")})),(A=u[0]).left=r.left,A.top=r.top,A.right=r.right,A.bottom=r.bottom,A.width=r.right-r.left,A.height=r.bottom-r.top),this.pageRender.pdfViewer.getScrollWrap().disabled?[2]:(l=A.getContext("2d"),d=[r],n||!c||c.isInvalid||(h=this.getRenderedRect(c))&&((f=Wr(h,r))&&A!=c&&(p=h,g=f.right-f.left,v=f.bottom-f.top,m=f.left-p.left,y=f.top-p.top,_=f.left-r.left,b=f.top-r.top,k={left:m,top:y,width:g,height:v},x={left:_,top:b,width:g,height:v},l.drawImage(c,k.left,k.top,g,v,x.left,x.top,g,v)),P=zr(h,r),d=P),C=function(e){var t=i.getCurrentCanvas();t!=A&&(i.$container&&(i.$container.append(A),i.$container.show()),t&&(t.width=t.height=0,t.remove(),t=null))},d.length?(D=[],E=[],d.forEach(function(t){var n={x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top};if(0!=n.width&&0!=n.height){var r=(0,z.createDeferred)();E.push(r.promise);var o=""+Date.now()+jr();i.tileTasks[o]=t,i.progressDeferredMap[o]=r;var a=i.getRectBitmap(n,e,o,i.rotate).then(function(e){if(e){var t=A,a=i.displayImage(e,n,t),s=function(e){if(i.api){var t=i.api.continueProgress(o).then(function(e){var t=A;i.displayImage(e,n,t),100==e.rate&&r.resolve()});t.then(function(e){i.tileTasks[o]&&(i.timer[o]&&(clearTimeout(i.timer[o]),delete i.timer[o]),i.timer[o]=setTimeout(s.bind(i),10))}).catch(function(e){r.resolve()})}};return 100!=e.rate?s():r.resolve(),a}}).catch(function(e){r.resolve()});D.push(a)}}),[2,Promise.all(D).then(function(e){return e.every(function(e){return 1==e})&&C(),Promise.all(E)})]):[2])})}).call(this)}},{key:"renderVisibleRect",value:function(e,t,n){return(0,x._)(function(){var i,r,o;return(0,N.Jh)(this,function(a){return i=this,0===t?[2,Promise.resolve()]:(r=this.getVisibleRealRect(),n?this.clearProgressiveTask():this.cancelInvisibleProgressiveTask(r),this.renderID=this.renderID?this.renderID+1:1,o=this.renderID,this.renderingPromise?this.renderingPromise=this.renderingPromise.then(function(r){return i.renderID!=o?Promise.resolve():i.render(e,t,n)}):this.renderingPromise=this.render(e,t,n),[2,this.renderingPromise])})}).call(this)}},{key:"displayImage",value:function(e,t,n){var i=this,r=e.buffer,o=e.isFirst,a=e.image,s=e.progressiveId,A=e.x,c=e.y,u=e.width,l=e.height,d=e.isVirtual,h=(0,M._)(this.lastRedrawParams,10),f=(h[0],h[1],h[2],h[3],h[4],h[5]),p=(h[6],h[7],h[8],h[9],4*f/3),g=e.scale||p,v=function(){i.tileTasks[s]&&(i.api.cancleProgress(s),delete i.tileTasks[s]),i.timer[s]&&(clearTimeout(i.timer[s]),delete i.timer[s]),i.progressDeferredMap[s]&&(i.progressDeferredMap[s].resolve(),delete i.progressDeferredMap[s])},m=this.pageRender.pdfViewer.getScrollWrap();if(e.isEmpty||this.isDestroyed||!d&&!this.tileTasks[s])return v(),Promise.resolve(0);if(Math.abs(g-p)>1e-6||m.disabled)return v(),Promise.resolve(0);var y,_=this.$container;_.css({transform:"scale(1)"});var b=(0,z.createDeferred)();if(a){var w=new Image;w.onload=function(){y=function(e,t,n){e.drawImage(w,t,n)},b.resolve()},w.onerror=function(){b.reject()},w.src=URL.createObjectURL(a)}else{if(!r)return b.resolve();var k=new(Uint8ClampedArray||Uint8Array)(r);if(!n)return;var x=n.getContext("2d").createImageData(u,l);if(x.data.set(k),z.isChrome&&this.isRenderViewWatermark){var P=document.createElement("canvas"),C=P.getContext("2d");P.width=u,P.height=l,C.putImageData(x,0,0);var D=new Image;D.src=P.toDataURL(),y=function(e,t,n){e.drawImage(D,t,n)}}else y=function(e,t,n){e.putImageData(x,t,n)};b.resolve()}return b.promise.then(function(){var r=n.getContext("2d"),a=n.left,d=n.top;return y(r,A-a,c-d),i.updateCanvasMore(r,A,c,a,d,u,l,1e6,0,0,t),i.renderedScale=g,o&&i.setDom(_),100==e.rate&&(i.timer[s]&&(clearTimeout(i.timer[s]),delete i.timer[s]),i.tileTasks[s]&&(i.api.cancleProgress(s),delete i.tileTasks[s]),0==Object.keys(i.tileTasks).length&&(i.offRender=null)),1})}},{key:"getVisibleRealRect",value:function(){var e=this.visibleRect;if(!e)return null;var t=parseInt((e.right-e.left)*z.dpr+.5),n=parseInt((e.bottom-e.top)*z.dpr+.5),i=parseInt(e.left*z.dpr+.5),r=i+t,o=parseInt(e.top*z.dpr+.5);return{left:i,right:r,top:o,bottom:o+n}}},{key:"clearCanvasContent",value:function(){Array.from(this.$canvases).forEach(function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)})}}]),e}();const $r=Gr;var Jr=n(840),qr=n.n(Jr);const Kr=function(){function e(t,n){(0,C._)(this,e),this.$handler=t,this.render=n,this.states=[]}return(0,D._)(e,[{key:"active",value:function(){}},{key:"destroy",value:function(){}},{key:"intoState",value:function(){}},{key:"outState",value:function(){}},{key:"resetState",value:function(){}},{key:"setStates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=e}},{key:"getStates",value:function(){return this.states}},{key:"clearStates",value:function(){}}]),e}();function Zr(){var e,t=this,n=t.$handler,i=n[0],r=this.render,o=r.pdfViewer.eventEmitter,a=new(qr().Manager)(i,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL}]]});return a.add(new(qr().Tap)({event:"doubletap",taps:2})),a.add(new(qr().Tap)({event:"singletap"})),a.get("doubletap").recognizeWith("singletap"),a.get("singletap").requireFailure("doubletap"),a.on("singletap",function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(ae.tapPage,e)):o.emit(ae.tapPage,e)}),a.on("doubletap",function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(ae.doubleTapPage,e)):o.emit(ae.doubleTapPage,e)}),a.on("press",function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(ae.pressPage,e)):o.emit(ae.pressPage,e)}),i.oncontextmenu=function(e){e.preventDefault()},n.on("mouseup",e=function(e){if(3===e.which){var t=r.annotsRender;t?(t.unActiveAnnot(),o.emit(ae.rightClickPage,e)):o.emit(ae.rightClickPage,e)}}),function(){var r;a.destroy(),n.off("mouseup",e),t=r,n=r,i=r,o=r,e=r}}var Xr=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).handlers={hand:Zr},i.destroyStateHandlers={},i}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()}},{key:"destroy",value:function(){this.$handler.removeClass("fv__active")}},{key:"intoState",value:function(e){var t=this.states;if(-1===t.indexOf(e)){t.push(e);var n=this.handlers[e];n&&(this.destroyStateHandlers[e]=n.bind(this)())}}},{key:"outState",value:function(e){var t,n;(t=this.destroyStateHandlers[e])&&(t.bind(this)(),delete this.destroyStateHandlers[e]),-1!==(n=this.states.indexOf(e))&&this.states.splice(n,1)}},{key:"resetState",value:function(){this.setStates(["hand"])}},{key:"setStates",value:function(e){for(var t=this.states,n=0,i=t.length;n<i;n++)this.outState(t[n]);for(var r=0,o=e.length;r<o;r++)this.intoState(e[r])}},{key:"getStates",value:function(){return this.states}}]),t}(Kr);const Qr=Xr;var eo=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,C._)(this,e),this.pageRender=t,this.secondaryScale=r,this.fixedPosition=o;var a=document.createElement("div");a.classList.add("fv__page-area-renderer");var s=document.createElement("canvas");a.appendChild(s),this.canvas=s,this.element=a,this.setDimension(n,i),this.offsetPageX=0,this.offsetPageY=0}return(0,D._)(e,[{key:"setDimension",value:function(e,t){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.element.style.cssText+="width: ".concat(e,"px;height:").concat(t,"px")}},{key:"setPosition",value:function(e,t){this.offsetPageX=e,this.offsetPageY=t}},{key:"setSecondaryScale",value:function(e){e=Number(e),(!isFinite(e)||e<=0)&&(e=1),this.secondaryScale=e}},{key:"update",value:function(){var e=this,t=this.pageRender;return t.getPDFPage().then(function(n){var i=n.doc.api;e.tasks&&(i.cancleProgress(e.tasks.id),e.tasks=null);var r=t.scale,o=e.canvas,a=4*r/3*e.secondaryScale,s=t.getShowWidth()*e.secondaryScale,A=t.getShowHeight()*e.secondaryScale,c=o.width,u=o.height,l=c/2,d=u/2,h=e.offsetPageX*e.secondaryScale,f=e.offsetPageY*e.secondaryScale,p=h-l,g=h+l,v=f-d,m=f+d,y=0,_=0;e.fixedPosition?(p<0&&(g=(p=0)+c),g>s&&(p=(g=s)-c),v<0&&(m=(v=0)+u),m>A&&(v=(m=A)-u)):(p<0?y=Math.min(-p,l):g>s&&(y=Math.max(s-g,-l)),v<0?_=Math.min(-v,d):m>A&&(_=Math.max(A-m,-d)),o.style.cssText+="left: ".concat(y,"px; top: ").concat(_,"px"));var b=Math.max(0,p),w=Math.min(g,s),k=Math.max(0,v),x=Math.min(m,A),P=Math.round(w-b),C=Math.round(x-k),D=Math.abs(Math.min(0,y)),E=Math.abs(Math.min(0,_)),S=""+Date.now()+jr();return e.tasks={id:S,canvasDrawingLeft:D,canvasDrawingTop:E},e.getPageBitmap(n.getPDFDoc().getId(),n.getId(),a,e.pageRender.rotate,{x:b,y:k,width:P,height:C},S,z.dpr,D,E).then(e.displayImage.bind(e))})}},{key:"displayImage",value:function(e){var t=e.imageData,n=e.id,i=e.canvasDrawingLeft,r=e.canvasDrawingTop,o=t.buffer,a=t.image,s=t.progressiveId,A=(t.x,t.y,t.width),c=t.height,u=t.rate;if(!t.isEmpty&&this.tasks){if(n==s){var l=this.canvas,d=l.getContext("2d");if(d.clearRect(0,0,this.canvas.width,this.canvas.height),a)return new Promise(function(e,t){try{var n=new Image;n.onload=function(){d.drawImage(n,0,0,A,c),URL.revokeObjectURL(n.src),e(l)},n.src=URL.createObjectURL(a)}catch(e){console.log(e)}});var h=d.createImageData(A,c);return h.data.set(new(Uint8ClampedArray||Uint8Array)(o)),d.putImageData(h,i,r),100==u&&(this.tasks=null),l}}else this.tasks=null}},{key:"getPageBitmap",value:function(e,t,n,i,r,o,a,s,A){var c=this.pageRender,u=c.annotsRender.getHideAnnots()||[],l=["page","annot","form"];return u.length>0&&l.push("hideMarkup"),c.getPDFPage().then(function(c){return c.doc.api.getPageBitmap(e,t,n,i,r,l,"view",o,!1,{hotAnnot:0,hideAnnots:u,dpr:a}).then(function(d){var h=function(d){return d.rate<100?c.doc.api.continueProgress(d.progressiveId).then(h):d.buffer||d.image?{imageData:d,id:o,canvasDrawingLeft:s,canvasDrawingTop:A}:c.doc.api.getPageBitmap(e,t,n,i,r,l,"view",o,!1,{hotAnnot:0,hideAnnots:u,dpr:a}).then(function(e){return{imageData:e,id:o,canvasDrawingLeft:s,canvasDrawingTop:A}})};return d.rate>=100?{imageData:d,id:o,canvasDrawingLeft:s,canvasDrawingTop:A}:h(d)})})}}]),e}(),to=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;(0,C._)(this,e),this.position=t,this.offsetX=n,this.offsetY=i,this.scaleX=r,this.scaleY=o,this.rotation=a,this.opacity=s}return(0,D._)(e,[{key:"setPosition",value:function(e){this.position=e}},{key:"getPosition",value:function(){return this.position}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"getOffsetX",value:function(){return this.offsetX}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"getOffsetY",value:function(){return this.offsetY}},{key:"setScaleX",value:function(e){this.scaleX=e}},{key:"getScaleX",value:function(){return this.scaleX}},{key:"setScaleY",value:function(e){this.scaleY=e}},{key:"getScaleY",value:function(){return this.scaleY}},{key:"setRotation",value:function(e){this.rotation=e}},{key:"getRotation",value:function(){return this.rotation}},{key:"setOpacity",value:function(e){this.opacity=e}},{key:"getOpacity",value:function(){return this.opacity}}]),e}(),no=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";(0,C._)(this,e),this.font=t,this.fontSize=n,this.color=i,this.fontStyle=r,this.lineSpace=o,this.alignment=a}return(0,D._)(e,[{key:"setFont",value:function(e){this.font=e}},{key:"getFont",value:function(){return this.font}},{key:"setFontSize",value:function(e){this.fontSize=e}},{key:"getFontSize",value:function(){return this.fontSize}},{key:"setColor",value:function(e){this.color=e}},{key:"getColor",value:function(){return this.color}},{key:"setFontStyle",value:function(e){this.fontStyle=e}},{key:"getFontStyle",value:function(){return this.fontStyle}},{key:"setLineSpace",value:function(e){this.lineSpace=e}},{key:"getLineSpace",value:function(){return this.lineSpace}},{key:"setAlignment",value:function(e){this.alignment=e}},{key:"getAlignment",value:function(){return this.alignment}}]),e}(),io=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"watermark",void 0),(0,U._)(this,"imageURL",void 0),(0,U._)(this,"imagePromise",void 0),(0,U._)(this,"image",void 0),(0,U._)(this,"originImageWidth",void 0),(0,U._)(this,"originImageHeight",void 0),this.watermark=t,this.imageURL=n,this.originImageWidth=0,this.originImageHeight=0,this.imagePromise=this.loadImage()}return(0,D._)(e,[{key:"ready",value:function(){var e=this;return this.imagePromise.then(function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e})}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark.watermarkSettings,a=o.getOffsetX(),s=o.getOffsetY(),A=o.getScaleX(),c=o.getScaleY(),u=r.getContext("2d"),l=this.watermark.smartScale;u.globalAlpha=o.opacity/100;var d=this.image;return d.width=this.originImageWidth*A*l,d.height=this.originImageHeight*c*l,u.translate(-e,-t),this.performTransformation(u,d),u.drawImage(d,-d.width/2+a,-d.height/2+s,d.width,d.height),r}},{key:"performTransformation",value:function(e,t){var n=this.watermark.watermarkSettings,i=n.getRotation(),r=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var A=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:A-t/2}}(t.width,t.height,i),o=r.x,a=r.y,s=this.watermark.showWidth,A=this.watermark.showHeight;switch(n.getPosition()){case"TopLeft":c(o+t.width/2,a+t.height/2);break;case"TopCenter":c(s/2,a+t.height/2);break;case"TopRight":c(s-o-t.width/2,a+t.height/2);break;case"CenterLeft":c(o+t.width/2,A/2);break;case"Center":c(s/2,A/2);break;case"CenterRight":c(s-o-t.width/2,A/2);break;case"BottomLeft":c(o+t.width/2,A-a-t.height/2);break;case"BottomCenter":c(s/2,A-a-t.height/2);break;case"BottomRight":c(s-o-t.width/2,A-a-t.height/2)}function c(t,n){e.translate(t,n)}i%360!=0&&e.rotate(i*Math.PI/180)}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise(function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},t.src=e.imageURL})}}]),e}();var ro=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"watermark",void 0),(0,U._)(this,"text",void 0),(0,U._)(this,"allLines",void 0),this.watermark=t,this.text=n,this.allLines=n.split(/[\r\n]/)}return(0,D._)(e,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark,a=o.smartScale,s=o.watermarkTextProperties,A=o.watermarkSettings,c=s.getFontSize()*a,u=s.getLineSpace()*a,l=s.getColor(),d=s.getFont(),h=r.getContext("2d");h.font="".concat(c,"px ").concat(d),h.fillStyle=l,h.lineWidth=1,h.strokeStyle=l,h.textBaseline="top",h.globalAlpha=A.getOpacity()/100;var f=this.allLines,p=f.length*c+(f.length-1)*u,g=this.resolveMaxWidth(h);return h.translate(-e,-t),this.performTransformation(h,g,p),this.renderText(h,g,p),r}},{key:"renderText",value:function(e,t,n){var i=this.allLines,r=this.watermark,o=r.smartScale,a=r.watermarkTextProperties,s=r.watermarkSettings,A=a.getFontSize()*o,c=a.getLineSpace()*o,u=a.getFontStyle(),l=a.getAlignment(),d=s.getOffsetX(),h=s.getOffsetY();A<12&&e.scale(A/12,A/12),i.forEach(function(i,r){var o,a,s=i.replace(/(^\s*)|(\s*$)/g,""),f=s.length*A,p=0,g=0;switch(l){case"left":e.textAlign="left",o=-f/2-(t-f)/2,a=f/2-(t-f)/2,p=-t/2,g=-n/2;break;case"right":e.textAlign="right",o=-f/2+(t-f)/2,a=f/2+(t-f)/2,p=t/2,g=-n/2;break;default:e.textAlign="center",o=-f/2,a=f/2,g=-n/2}e.fillText(s,p+d,g+r*(c+A)+h),"underline"===u&&(e.moveTo(o+d,-n/2+A+r*(A+c)+h),e.lineTo(a+d,-n/2+A+r*(A+c)+h),e.stroke())})}},{key:"performTransformation",value:function(e,t,n){var i=this.watermark,r=i.showWidth,o=i.showHeight,a=i.watermarkSettings,s=a.getRotation(),A=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var A=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:A-t/2}}(t,n,s),c=A.x,u=A.y;switch(a.getPosition()){case"TopLeft":l(c+t/2,u+n/2);break;case"TopCenter":l(r/2,u+n/2);break;case"TopRight":l(r-c-t/2,u+n/2);break;case"CenterLeft":l(c+t/2,o/2);break;case"Center":l(r/2,o/2);break;case"CenterRight":l(r-c-t/2,o/2);break;case"BottomLeft":l(c+t/2,o-u-n/2);break;case"BottomCenter":l(r/2,o-u-n/2);break;case"BottomRight":l(r-c-t/2,o-u-n/2)}function l(t,n){e.translate(t,n)}s%360!=0&&e.rotate(s*Math.PI/180)}},{key:"resolveMaxWidth",value:function(e){var t=this.text.split(/[\r\n]+/);return Math.max.apply(Math,t.map(function(t){return e.measureText(t).width}))}}]),e}();var oo=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"watermark",void 0),this.watermark=t}return(0,D._)(e,[{key:"getColumnSpace",value:function(){var e=this.watermark,t=e.columnSpace,n=e.smartScale;return(0,W.F2)(t)*n}},{key:"getRowSpace",value:function(){var e=this.watermark,t=e.rowSpace,n=e.smartScale;return(0,W.F2)(t)*n}},{key:"getColor",value:function(){return this.watermark.watermarkTextProperties.getColor()}},{key:"resolveDimensions",value:function(e,t,n){return Math.ceil(e/(t+n))}}]),e}(),ao=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e]),(0,U._)(i,"watermark",void 0),(0,U._)(i,"text",void 0),(0,U._)(i,"allLines",void 0),i.watermark=e,i.text=n,i.allLines=n.split(/[\r\n]/),i}return(0,I._)(t,e),(0,D._)(t,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"setupFontInfo",value:function(e){var t=this.watermark.watermarkTextProperties,n=this.getFontSize(),i=t.getColor(),r=this.getFont();e.font="".concat(Math.max(12,n),"px ").concat(r),e.fillStyle=i,e.lineWidth=1,e.strokeStyle=i,e.textBaseline="top"}},{key:"getFontSize",value:function(){var e=this.watermark,t=e.smartScale,n=e.watermarkTextProperties;return(0,W.F2)(n.getFontSize())*t}},{key:"getFont",value:function(){return this.watermark.watermarkTextProperties.getFont()}},{key:"getLineSpacePx",value:function(){var e=this.watermark.watermarkTextProperties;return(0,W.F2)(e.getLineSpace())}},{key:"resolveTextBlockRect",value:function(e){var t=this;return this.invoke(e,function(e){var n,i=t.getLineSpacePx();t.setupFontInfo(e);var r=t.getFontSize(),o=r<12?r/12:1,a=t.allLines.map(function(t){var n=e.measureText(t);return{width:n.width*o,height:(n.actualBoundingBoxDescent-n.actualBoundingBoxAscent)*o}}),s=a.reduce(function(e,t){return e+t.height},0)+i*(a.length-1),A=(n=Math).max.apply(n,(0,R._)(a.map(function(e){return e.width})));return{width:A,height:s,sizes:a,fontScale:o}})}},{key:"invoke",value:function(e,t){var n=!1;try{e.save();var i=t(e);return"function"==typeof i.then&&"function"==typeof i.finally&&(n=!0,i.finally(function(){e.restore()})),i}finally{n||e.restore()}}}]),t}(oo);function so(e,t,n){var i,r,o,a,s=e/2,A=t/2,c=[{x:-s,y:-A},{x:s,y:-A},{x:-s,y:A},{x:s,y:A}].map(function(e){return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.x*Math.sin(n)+e.y*Math.cos(n)}}),u=e/((i=Math).max.apply(i,(0,R._)(c.map(function(e){return e.x})))-(r=Math).min.apply(r,(0,R._)(c.map(function(e){return e.x})))),l=t/((o=Math).max.apply(o,(0,R._)(c.map(function(e){return e.y})))-(a=Math).min.apply(a,(0,R._)(c.map(function(e){return e.y}))));return Math.min(u,l)}var Ao=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.resolveTextBlockRect(o),s=this.watermark,A=(s.smartScale,s.showWidth),c=s.showHeight,u=s.watermarkSettings,l=u.opacity,d=u.rotation,h=u.scaleX,f=u.scaleY;this.setupFontInfo(o);var p=(d+360)%360/180*Math.PI,g=so(A,c,p),v=.5*A-e,m=.5*c-t;o.globalAlpha=l/100,o.translate(v,m),o.scale(g,g),o.rotate(-p),o.translate(-v,-m);for(var y=this.getColumnSpace(),_=this.getRowSpace(),b=a.width*h*a.fontScale,w=a.height*f*a.fontScale,k=this.resolveDimensions(A,b,y),x=this.resolveDimensions(c,w,_),P={left:e,top:t,right:e+n,bottom:t+i},C=0;C<=k;C++)for(var D=C*b+y*C,E=0;E<=x;E++){var S=E*w+_*E;this.renderText(D,S,a,P,o,C,E)}return r}},{key:"renderText",value:function(e,t,n,i,r,o,a){var s=t,A=this.watermark,c=A.watermarkTextProperties,u=c.fontStyle,l=c.color,d=c.alignment,h=A.smartScale,f=A.watermarkSettings,p=f.scaleX,g=f.scaleY,v=n.sizes,m=n.fontScale,y=this.getLineSpacePx()*g*h,_="underline"===u,b=this.allLines.map(function(e,t){return v[t].width*p*m}),w=n.width*p*m;this.allLines.some(function(t,n){var i=v[n],o=i.width,a=i.height,A=o*p*m,c=a*g*m,u=function(e){switch(d){case"right":return w-b[e];case"center":return.5*(w-b[e])}return 0}(n);if(r.save(),r.scale(m,m),r.fillText(t,(e+u)/m,s/m),r.restore(),_){r.save(),r.imageSmoothingEnabled=!0,r.lineWidth=Math.floor(1*h),r.strokeStyle=l;var f=s+c;r.moveTo(e+u,f),r.lineTo(e+u+A,f),r.stroke(),r.restore()}return s+=c+y,!1})}}]),t}(ao),co=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e]),(0,U._)(i,"watermark",void 0),(0,U._)(i,"imageURL",void 0),(0,U._)(i,"imagePromise",void 0),(0,U._)(i,"image",void 0),(0,U._)(i,"originImageWidth",void 0),(0,U._)(i,"originImageHeight",void 0),i.watermark=e,i.imageURL=n,i.originImageWidth=0,i.originImageHeight=0,i.imagePromise=i.loadImage(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"ready",value:function(){var e=this;return this.imagePromise.then(function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e})}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.watermark,s=a.smartScale,A=a.showWidth,c=a.showHeight,u=a.watermarkSettings,l=u.opacity,d=u.rotation,h=u.scaleX,f=u.scaleY,p=(d+360)%360/180*Math.PI,g=so(A,c,p),v=.5*A-e,m=.5*c-t;o.globalAlpha=l/100,o.translate(v,m),o.scale(g,g),o.rotate(-p),o.translate(-v-e,-m-t);var y=this.getColumnSpace(),_=this.getRowSpace(),b=this.originImageWidth*h*s,w=this.originImageHeight*f*s;this.image.width=b,this.image.height=w;for(var k=this.resolveDimensions(A,b,y),x=this.resolveDimensions(c,w,_),P=0;P<=k;P++)for(var C=P*b+y*P,D=0;D<=x;D++){var E=D*w+_*D;o.drawImage(this.image,C,E,b,w)}return r}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise(function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},0===e.imageURL.indexOf("blob")||0===e.imageURL.indexOf("data")?t.src=e.imageURL:function(e){if(uo.has(e))return uo.get(e);var t=fetch(e).then(function(e){return e.blob()}).then(function(e){return URL.createObjectURL(e)});return uo.set(e,t),t}(e.imageURL).then(function(e){t.src=e})})}}]),t}(oo),uo=new Map;var lo=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.isMultiline,s=void 0!==a&&a,A=o.rowSpace,c=void 0===A?0:A,u=o.columnSpace,l=void 0===u?0:u,d=o.watermarkSettings,h=void 0===d?{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100}:d,f=o.watermarkTextProperties,p=void 0===f?{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}:f;(0,C._)(this,e),this.isMultiline=s,this.rowSpace=c,this.columnSpace=l,this.showWidth=t,this.showHeight=n,this.tileSize=i,this.smartScale=r;var g=h.position,v=h.offsetX,m=h.offsetY,y=h.scaleX,_=h.scaleY,b=h.rotation,w=h.opacity,k=p.font,x=p.fontSize,P=p.color,D=p.fontStyle,E=p.lineSpace,S=p.alignment;this.watermarkSettings=new to(g,v,m,y,_,b,w),this.watermarkTextProperties=new no(k,x,P,D,E,S)}return(0,D._)(e,[{key:"exportDataURL",value:function(e){var t=e.content,n=e.type,i=function(e){return e.toDataURL()};return"text"===n?this.createTextWatermark(t).then(i):"image"===n?this.createImageWatermark(t).then(i):void 0}},{key:"getWatermarkRenderer",value:function(e){var t=e.content;switch(e.type){case"text":return this.isMultiline?new Ao(this,t).ready():new ro(this,t).ready();case"image":return this.isMultiline?new co(this,t).ready():new io(this,t).ready()}}},{key:"createImageWatermark",value:function(e){var t=this,n=(0,z.createDeferred)(),i=document.createElement("canvas");i.width=this.showWidth,i.height=this.showHeight;var r=i.getContext("2d"),o=i.getContext("2d"),a=new Image;a.src=e;var s=this.watermarkSettings,A=s.getOffsetX(),c=s.getOffsetY(),u=s.getScaleX(),l=s.getScaleY(),d=s.getRotation(),h=this.showWidth,f=this.showHeight;return a.onload=function(){a.width=a.width*u*t.smartScale,a.height=a.height*l*t.smartScale,ho(r,s.getOpacity()),r.save();var e=fo(a.width,a.height,d),p=e.x,g=e.y;switch(s.getPosition()){case"TopLeft":o.translate(p+a.width/2,g+a.height/2);break;case"TopCenter":o.translate(h/2,g+a.height/2);break;case"TopRight":o.translate(h-p-a.width/2,g+a.height/2);break;case"CenterLeft":o.translate(p+a.width/2,f/2);break;case"Center":o.translate(h/2,f/2);break;case"CenterRight":o.translate(h-p-a.width/2,f/2);break;case"BottomLeft":o.translate(p+a.width/2,f-g-a.height/2);break;case"BottomCenter":o.translate(h/2,f-g-a.height/2);break;case"BottomRight":o.translate(h-p-a.width/2,f-g-a.height/2)}d%360!=0&&o.rotate(d*Math.PI/180),o.drawImage(a,-a.width/2+A,-a.height/2+c,a.width,a.height),r.restore(),n.resolve(i)},a.onerror=function(e){var t=new Error("Failed to load image");t.originEvent=e,n.reject(t)},a.oncancel=function(e){var t=new Error("Load image has been cancelled");t.originEvent=e,n.reject(t)},n.promise}},{key:"createTextWatermark",value:function(e){var t=(0,z.createDeferred)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var i=e.split("\n"),r=n.getContext("2d"),o=n.getContext("2d"),a=this.showWidth,s=this.showHeight,A=this.watermarkTextProperties,c=A.getFontSize()*this.smartScale,u=A.getLineSpace()*this.smartScale,l=A.getFontStyle(),d=A.getColor(),h=A.getAlignment(),f=A.getFont();o.font=c+"px "+f,o.fillStyle=d;var p=this.watermarkSettings,g=p.getOffsetX(),v=p.getOffsetY(),m=(p.getScaleX(),p.getScaleY(),p.getRotation()),y=0,_=i.length,b=_*c+(_-1)*u;i.map(function(e){var t=e.replace(/\s+/g,"");y=Math.max(t.length*c,y)}),o.lineWidth=1,o.strokeStyle=d,r.textBaseline="top",ho(r,p.getOpacity());var w=fo(y,b,m),k=w.x,x=w.y;switch(p.getPosition()){case"TopLeft":o.translate(k+y/2,x+b/2);break;case"TopCenter":o.translate(a/2,x+b/2);break;case"TopRight":o.translate(a-k-y/2,x+b/2);break;case"CenterLeft":o.translate(k+y/2,s/2);break;case"Center":o.translate(a/2,s/2);break;case"CenterRight":o.translate(a-k-y/2,s/2);break;case"BottomLeft":o.translate(k+y/2,s-x-b/2);break;case"BottomCenter":o.translate(a/2,s-x-b/2);break;case"BottomRight":o.translate(a-k-y/2,s-x-b/2)}return o.rotate(m*Math.PI/180),c<12&&o.scale(c/12,c/12),i.map(function(e,t){var n,i,a=e.replace(/(^\s*)|(\s*$)/g,""),s=a.length*c,A=0,d=0;switch(h){case"left":r.textAlign="left",n=-s/2-(y-s)/2,i=s/2-(y-s)/2,A=-y/2,d=-b/2;break;case"right":r.textAlign="right",n=-s/2+(y-s)/2,i=s/2+(y-s)/2,A=y/2,d=-b/2;break;default:r.textAlign="center",n=-s/2,i=s/2,d=-b/2}o.fillText(a,A+g,d+t*(u+c)+v),"underline"===l&&(o.moveTo(n,-b/2+c+t*(c+u)),o.lineTo(i,-b/2+c+t*(c+u)),o.stroke())}),t.resolve(n),t.promise}},{key:"getWatermarkSettings",value:function(){return this.watermarkSettings}},{key:"getWatermarkTextProperties",value:function(){return this.watermarkTextProperties}},{key:"getHeight",value:function(){return this.showHeight}},{key:"getWidth",value:function(){return this.showWidth}}]),e}();function ho(e,t){e.globalAlpha=t/100}function fo(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var A=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:A-t/2}}var po=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[i])).name="customsRender",r.$ui=e,r.customs=n,r.customRenders={},r}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=e,this.rotate=t;var n=this.customs;this.adjustCustomsRenderInit(n);var i=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map(function(n){return r[i.getCustomDataId(n)].render(e,t)}))}},{key:"activeCustom",value:function(e){var t=this.customRenders[this.customManager.getCustomDataId(e)];return t?(this.currentActiveCustomRender=t,t.render(this.scale,this.rotate)):Promise.reject(new Error("Custom render not found!"))}},{key:"unActiveCustoms",value:function(){var e=this.currentActiveCustomRender;if(e)return e.unActive()}},{key:"adjustCustomsRenderInit",value:function(e){var t=this,n=this.pdfViewer.customRenderManager,i=this.customRenders,r=document.createDocumentFragment();e.filter(function(e){return!i[n.getCustomDataId(e)]}).map(function(e){var o=document.createElement("div"),a=document.createElement("div");r.appendChild(o),r.appendChild(a),i[n.getCustomDataId(e)]=new(n.get(e))(o,a,e,t)}).length&&this.$ui.append(r)}},{key:"addCustomRenders",value:function(e){this.adjustCustomsRenderInit(e);var t=this.pdfViewer.customRenderManager,n=this.customRenders,i=this.scale,r=this.rotate;return Promise.all(e.map(function(e){return n[t.getCustomDataId(e)].render(i,r)}))}},{key:"removeCustomRenders",value:function(e){var t={},n=this.pdfViewer.customRenderManager,i=this.customRenders;e.map(function(e){var r=n.getCustomDataId(e);t[r]=1,delete i[r]});for(var r=this.customs,o=r.length;o--;)t[n.getCustomDataId(r[o])]&&r.splice(o,1)}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this);var e=this.customRenders;for(var n in e){var i=e[n];i&&i.destroy()}this.customRenders=null}},{key:"updateCustomRenders",value:function(e){for(var t=this,n={},i=this.pdfViewer.customRenderManager,r=this.customRenders,o=e.map(function(e){var t=i.getCustomDataId(e);return n[t]=e,r[t]}),a=this.customs,s=a.length;s--;){var A=i.getCustomDataId(a[s]);n[A]&&(a[s]=n[A])}return Promise.all(o.map(function(e){return e&&e.render(t.scale,t.rotate)}))}}]),t}(X),go=function(){function e(t,n,i){(0,C._)(this,e),this.pageRender=t,this.pdfDoc=t.getPDFDoc(),this.pdfArticle=this.pdfDoc.pdfArticle,this.pdfPage=t.page,this.pdfViewer=t.pdfViewer,this.$container=t.$customsContainer,this.articleInfo=n,this.articleBeadInfo=i,this.$dom=null,this.render()}return(0,D._)(e,[{key:"render",value:function(){this.createDom()}},{key:"updateRender",value:function(e,t){e&&(this.articleInfo=e),t&&(this.articleBeadInfo=t);var n=this.getDeviceRect(),i=n.left,r=n.top,o=n.right-i,a=n.bottom-r;this.$dom.css({width:o+"px",height:a+"px",top:r+"px",left:i+"px"})}},{key:"read",value:function(){var e=this,t="fv__article-read";this.$dom.addClass(t),setTimeout(function(){e.$dom.removeClass(t)},500);var n=this.articleBeadInfo,i=n.rect,r=n.pageIndex,o=this.pdfViewer;return o.zoomTo(2).then(function(){return o.goToPage(r,i.top,i.left)})}},{key:"getDeviceRect",value:function(){var e=this.articleBeadInfo.rect,t=this.pageRender,n=t.getScale(),i=t.getRotation();return this.pdfPage.getDeviceRect(e,n,i)}},{key:"createDom",value:function(){var e=this.getDeviceRect(),t=e.left,n=e.top,i=e.right,r=e.bottom;this.$dom=O()('<div style="position:absolute;width:'+(i-t)+"px;height:"+(r-n)+"px;left:"+t+"px;top:"+n+'px;z-index:26;"></div>'),this.$container.append(this.$dom)}},{key:"destroy",value:function(){this.articleBeadInfo=null,this.$dom.remove(),this.$dom=null,this.pdfDoc=null,this.pdfArticle=null}}]),e}();const vo=go;const mo={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20};var yo=n(6729),_o=n.n(yo),bo=n(6557),wo=(n(2868),function(){function e(t){if((0,C._)(this,e),(0,T._)(t,Node))this.node=t;else switch(t){case e.TEXT_NODE:this.node=document.createTextNode();break;case e.FRAGMENT_NODE:this.node=document.createDocumentFragment();break;case e.COMMENT_NODE:this.node=document.createComment();break;default:this.node=document.createElement(t)}}return(0,D._)(e,[{key:"append",value:function(e){if(!(0,T._)(this.node,HTMLElement))throw new TypeError("Unsupported operation: "+this.node);this.node.appendChild(e.node)}},{key:"prepend",value:function(e){this.insertAt(0,e)}},{key:"insertAt",value:function(e,t){if(!(0,T._)(this.node,HTMLElement))throw new TypeError("Unsupported operation: "+this.node);var n=this.node.children,i=n.length;switch(e=Math.max(0,Math.min(i,e))){case 0:0===i?this.node.appendChild(t.node):this.node.insertBefore(t.node,this.node.firstElementChild);break;case i:this.node.appendChild(t.node);break;default:this.node.insertBefore(t.node,n.item(e))}}},{key:"insertBefore",value:function(e){if(!e.node.parentElement)throw new Error('The "next" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t,this)}},{key:"insertAfter",value:function(e){if(!e.node.parentElement)throw new Error('The "previous" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t+1,this)}},{key:"index",value:function(){var e=-1;if(this.node.parentElement)for(var t=this.node.parentElement.firstElementChild;t;){if(e++,t===this.node)return e;t=t.nextSibling}return e}},{key:"parent",value:function(){var t=this.node.parentElement;if(t)return new e(t)}},{key:"remove",value:function(){this.node.parentElement&&this.node.parentElement.removeChild(this.node)}}],[{key:"TEXT_NODE",get:function(){return"$text"}},{key:"FRAGMENT_NODE",get:function(){return"$fragment"}},{key:"COMMENT_NODE",get:function(){return"$fragment"}}]),e}()),ko=function(){function e(t,n){(0,C._)(this,e),this.parentElement=new wo(t),this.elements=n.map(function(e){return new wo(e)}),this.mounted=this.elements.map(function(e){return!1})}return(0,D._)(e,[{key:"replaceElement",value:function(e,t){var n=this.indexOf(e),i=this.mounted[n];i&&this.unmount(n),this.elements[n]=new wo(t),i&&this.mount(n)}},{key:"indexOf",value:function(e){for(var t=0,n=this.elements.length;t<n;t++)if(this.elements[t].node===e)return t;return-1}},{key:"mount",value:function(e){if("number"!=typeof e&&-1===(e=this.indexOf(e)))throw new TypeError("Cannot mount this element: "+e);if(!(e<0||e>=this.elements.length||this.mounted[e])){for(var t=this.elements[e],n=e-1;n>=0;n--){if(this.mounted[n])return t.insertAfter(this.elements[n]),void(this.mounted[e]=!0)}for(var i=this.elements.length,r=e+1;r<i;r++){if(this.mounted[r])return t.insertBefore(this.elements[r]),void(this.mounted[e]=!0)}this.parentElement.append(t),this.mounted[e]=!0}}},{key:"unmount",value:function(e){if("number"==typeof e){if(e<0||e>=this.elements.length)return}else e=this.elements.findIndex(function(t){return t.node===e});var t=this.elements[e];this.mounted[e]=!1,t&&t.remove()}}]),e}(),xo=n(8902),Po=function(){function e(){(0,C._)(this,e),(0,U._)(this,"listeners",[])}return(0,D._)(e,[{key:"serviceInjected",value:function(){var e=this;document.addEventListener("mousemove",function(t){var n=t.clientX,i=t.clientY,r=document.elementFromPoint(n,i);r&&e.listeners.slice(0).forEach(function(e){(function(e,t){var n=t;for(;n;){if(n===e)return!0;n=n.parentElement}return!1})(e.anchor,r)||(e.callback(),e.remove())})})}},{key:"onMouseleave",value:function(e,t){var n=this.listeners,i={anchor:e,callback:t,remove:r};return n.push(i),r.bind(i);function r(){var e=n.indexOf(this);e>-1&&n.splice(e,1)}}}],[{key:"scope",value:function(){return xo.U.SHARED_SINGLETON}}]),e}();var Co,Do=n(510),Eo=((Co=document.createElement("div")).className="fv__ui-tooltip-arrow",Co.innerHTML='<span class="fv__ui-tooltip-arrow-content"></span>',Co),So=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=this.node,i=this.directiveOption;this.delay=i.delay||parseInt(n.getAttribute("tooltip-delay"))||500,this.duration=i.duration||parseInt(n.getAttribute("tooltip-duration"))||1/0,this.anchorSelector=i.enchor||n.getAttribute("tooltip-anchor"),this.placement=i.placement||n.getAttribute("tooltip-placement")||"bottom",this.containerClass=i.containerClass||n.getAttribute("tooltip-class")||""}},{key:"getTitle",value:function(){return this.directiveOption.title||this.component.getAttribute("tooltip-title")}},{key:"getDescription",value:function(){return this.directiveOption.desc||this.component.getAttribute("tooltip-description")}},{key:"getCustomHtml",value:function(){return this.directiveOption.customHtml||this.component.getAttribute("tooltip-customHtml")}},{key:"getParkState",value:function(){return this.directiveOption.parkState}},{key:"renderTitle",value:function(){var e=this.getTitle(),t=this.titleElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(0)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(0))}},{key:"renderDescription",value:function(){var e=this.getDescription(),t=this.descElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(1)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(1))}},{key:"renderCustomHtml",value:function(){var e=this.getCustomHtml(),t=this.customHtmlElement;e?(t.innerHTML=e,this.directiveOption.customHtmlClick&&t.addEventListener("click",this.directiveOption.customHtmlClick),this.orderedElement.mount(2)):(t.innerHTML="",this.directiveOption.customHtmlClick&&t.removeEventListener("click",this.directiveOption.customHtmlClick),this.orderedElement.unmount(2))}},{key:"afterComponentRender",value:function(){var e=this.component,t=document.createElement("dl");this.tipElement=t;var n=Eo.cloneNode(!0),i=this.titleElement=document.createElement("dt");i.className="fv__ui-directive-tooltip-title";var r=this.descElement=document.createElement("dd");r.className="fv__ui-directive-tooltip-desc";var o,a=this.customHtmlElement=document.createElement("dd");(a.className="fv__ui-directive-tooltip-custom-html",this.orderedElement=new ko(t,[i,r,a,n]),this.orderedElement.mount(3),t.classList.add("fv__ui-directive-tooltip-tip","fv__ui-tooltip-placement-"+this.placement),this.containerClass)&&(o=t.classList).add.apply(o,(0,R._)(this.containerClass.split(" ")));if(this.renderTitle(),this.renderDescription(),this.renderCustomHtml(),this.anchorSelector)try{var s=this.controller.compileCode(this.anchorSelector)({component:e});s&&(Array.isArray(s)?this.anchors=s:(0,T._)(s,Element)&&(this.anchors=[s]))}catch(t){this.anchors=e.element.querySelectorAll(this.anchorSelector)}this.anchors&&0!==this.anchors.length||(this.anchors=[e.getTooltipAnchor()]),this.localizer.localizeRecursive(t)}},{key:"showTip",value:function(e){var t=this,n=this.tipElement;this.renderTitle(),this.renderDescription(),this.renderCustomHtml(),this.localizer.localizeRecursive(n).then(function(){t.hideTipIfAnchorIsHidden(e),document.body.appendChild(n),t.tipElement.style.cssText="";var i=e.getBoundingClientRect(),r=n.getBoundingClientRect();switch(t.placement){case"top":n.style="\n                        top: ".concat(i.top-r.height-8,"px;\n                        left: ").concat(Math.min(i.left,Math.max(0,i.left-r.width/2+i.width/2)),"px;\n                    ");break;case"bottom":n.style.cssText="\n                        top: ".concat(i.bottom+8,"px;\n                        left: ").concat(Math.min(i.left,Math.max(0,i.left-r.width/2+i.width/2)),"px;\n                    ");break;case"right":n.style.cssText="\n                        left: ".concat(i.right+8,"px;\n                        top: ").concat(i.top+i.height/2-r.height/2,"px;\n                    ");break;case"left":n.style.cssText="\n                        left: ".concat(i.left-r.width-8,"px;\n                        top: ").concat(i.top+i.height/2-r.height/2,"px;\n                    ")}})}},{key:"hideTip",value:function(){this.tipElement.remove(),this.stopCheckAnchor()}},{key:"hideTipIfAnchorIsHidden",value:function(e){var t=this;this.stopCheckAnchor(),this.anchorVisibilityCheckingTimmerId=setInterval(function(){0===e.getClientRects().length&&t.hideTip()},100)}},{key:"stopCheckAnchor",value:function(){void 0!==this.anchorVisibilityCheckingTimmerId&&(clearInterval(this.anchorVisibilityCheckingTimmerId),this.anchorVisibilityCheckingTimmerId=void 0)}},{key:"componentMounted",value:function(){var e=this;if(!z.isMobile&&!z.isTablet){var t,n,i=null,r=0,o=function(){clearTimeout(i),i=setTimeout(function(){0===r&&e.hideTip()},312)},a=function(){t&&clearTimeout(t),t=void 0,n&&clearTimeout(n),n=void 0,e.getParkState()&&(e.tipElement.addEventListener("mouseover",function(){r=1}),e.tipElement.addEventListener("mouseout",function(){r=0,o()})),o()};if(this.anchors.forEach(function(i){var r=function(r){if(window.onlineGlobals&&window.onlineGlobals.showAllTooltip||!e.component.disabled){var o=r.clientX,s=r.clientY,A=i.getBoundingClientRect();if(!(o<A.left||o>A.right||s<A.top||s>A.bottom)){clearTimeout(t),t=setTimeout(function(){0!==i.getClientRects().length&&(e.showTip(i),isFinite(e.duration)&&(n=setTimeout(function(){e.hideTip()},e.duration)))},e.delay);var c=e.addDestroyHook(e.service.onMouseleave(i,function(){a(),c()}))}}};i.addEventListener("mouseover",r),i.addEventListener("mouseout",a),e.addDestroyHook(function(){i.removeEventListener("mouseover",r),i.removeEventListener("mouseout",a)})}),this.addDestroyHook(function(){a(),e.stopCheckAnchor()},this.component.on(Do.qo.HIDDEN,function(){a()}),this.component.on(Do.qo.DISABLE,function(){a()})),"ribbon-button"===this.component.nodeName&&"function"==typeof this.component.getDropdown){var s=this.component.getDropdown();s&&this.addDestroyHook(s.on(Do.qo.ACTIVE,function(){a(),e.hideTip()}))}}}}],[{key:"getName",value:function(){return"tooltip"}},{key:"services",value:function(){return{service:Po}}}]),t}(bo.X),Io=n(1727),To=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"receive",value:function(e,t,n){(0,z.notImplemented)()}},{key:"lost",value:function(e){}}]),e}(),Mo=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).component=e,i.attrName=n,i}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){this.component.setAttribute(this.attrName,e)}}]),t}(To),Ro=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).component=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){this.component.setText(e)}}]),t}(To),Fo=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).component=e,n.supported="function"==typeof e.setValue,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){this.supported&&this.component.setValue(e)}}]),t}(To),No=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).target=e,i.propName=n,i.setterMethodName="set"+n.replace(/(^\-?.)|(\-.)/g,function(e){return(e=2===e.length?e[1]:e).toUpperCase()}),i}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){var t=this.target[this.setterMethodName];"function"==typeof t?t.call(this.target,e):this.target[this.propName]=e}}]),t}(To),Lo=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).component=e,i.type=n,i}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){switch(this.type){case"disable":e?this.component.disable():this.component.enable();break;case"visible":e?this.component.show():this.component.hide();break;case"active":e?this.component.active():this.component.deactive()}}}]),t}(To),Oo=z.LoggerFactory.getLogger("directive/bind"),jo=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"componentPrelink",value:function(){var e;if(this.subName.match(/^attr\..+/)){var t=this.subName.replace("attr.","");e=new Mo(this.component,t)}else switch(this.subName){case"text":e=new Ro(this.component);break;case"value":e=new Fo(this.component);break;case"html":Oo.error("unsurpported bind type: ".concat(this.subName));break;case"disable":case"visible":case"active":e=new Lo(this.component,this.subName);break;default:e=new No(this.component,this.subName)}this.controller.getDataSource(this.attrValue).connect(e)}}],[{key:"getName",value:function(){return"bind"}}]),t}(bo.X),Bo=function e(t,n,i,r){(0,C._)(this,e),(0,U._)(this,"type",void 0),(0,U._)(this,"target",void 0),(0,U._)(this,"listener",void 0),(0,U._)(this,"options",void 0),this.type=t,this.target=n,this.listener=i,this.options=r},Vo=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"entries",{}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){var e=this;this.addDestroyHook(function(){e.entries={}})}},{key:"delegate",value:function(e,t,n,i){var r=this,o=new Bo(t,e,n,i),a=this.entries[t];return a||(a=this.attachEvent(t),this.entries[t]=a),a.push(o),function(){r.remove(o)}}},{key:"attachEvent",value:function(e){var t=[],n=this,i=function(e){var i=this;(0,T._)(e.target,Node)&&t.filter(function(t){return t.target.contains(e.target)}).forEach(function(t){var r;(null===(r=t.options)||void 0===r?void 0:r.once)&&n.remove(t),t.listener.call(i,e)})};return document.body.addEventListener(e,i,!0),this.addDestroyHook(function(){document.body.removeEventListener(e,i,!0)}),t}},{key:"remove",value:function(e){var t=this.entries[e.type];if(t){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}}]),t}(z.Disposable),Ho=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n,i=e.controller,r=this.modifiers.native,o=this.modifiers.delegate,a=this.modifiers.indigestion,s=this.modifiers.once,A=Object.keys(this.modifiers).filter(function(e){return"native"!==e&&"once"!==e&&"delegate"!==e})[0];if(!A)throw new Error("Missing event type of directive: ".concat(this.toString()));if(this.eventName=A,/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var c=function(e,t){for(var n=t.split("."),i=0;i<n.length;i++)if(null==(e=e[n[i]]))return e;return e},u=c(i,this.attrValue)||c(i.data,this.attrValue)||c(i.methods,this.attrValue);if(!u)throw new Error("event handler not found: ".concat(this.attrValue," ,component: <").concat(e.nodeName,">"));n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(i,t)}}else{var l=i.compileCode(this.attrValue);n=r?function(e){l.call(null,{$event:e})}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.call(null,{$args:t})}}if(a||(n=z.Aspect.on(n).after(function(){i.digest()}).extract()),r)if("contextmenu"===A)this.addDestroyHook((0,z.attachContextMenuEvent)(e.element,n));else o?this.addDestroyHook(this.delegateEventService.delegate(e.element,A,n,{once:s})):(e.element.addEventListener(A,n),this.addDestroyHook(function(){return e.element.removeEventListener(A,n)}));else this.addDestroyHook(e.on(A,n))}}],[{key:"getName",value:function(){return"on"}},{key:"inject",value:function(){return{delegateEventService:Vo}}}]),t}(bo.X),Uo=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).order=1/0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.order=1/0;var n=e.controller;Object.hasOwnProperty.call(n,"$$watches")||(n.$$watches=[]),this.modifiers.strict&&(zo(n.data,Object.prototype),zo(n.methods,Object.prototype),n.data.$parent=null)}}],[{key:"getName",value:function(){return"isolate"}}]),t}(bo.X);function zo(e,t){return null==t&&(t=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(e,t),e):Object.create(t,Object.getOwnPropertyDescriptors(e))}n(8600);var Wo=n(325),Yo=n(5923),Go=function(e){function t(e){var n,i=e.text;return(0,C._)(this,t),(n=(0,P._)(this,t,[{namespace:Do.Fc,type:Wo.C.NODE_TYPE_TEXT,text:i}])).$$options.text=i,n}return(0,I._)(t,e),(0,D._)(t,[{key:"clone",value:function(){var e=new t(this.$$options);return e.setComponentOptions(this.componentOptions),e}}]),t}(Wo.C),$o=z.LoggerFactory.getLogger("senior-node");function Jo(e){var t={};return Array.isArray(e.config)?t.config=[]:e.config&&(t.config={}),(0,z.extendOptions)(!0,t,e)}var qo=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.namespace,r=void 0===i?Do.Fc:i,o=n.nodeName,a=n.attrs,s=n.text,A=n.template,c=n.fragment;return(0,C._)(this,t),(e=(0,P._)(this,t,[{namespace:r,type:Wo.C.NODE_TYPE_FRAGMENT,nodeName:o,attrs:Object.assign(a,(0,U._)({},t.NEST_NAME_ATTR,c.nestName)),template:A,text:s}])).$$options.fragment=c,e.fragmentModule=c.module,e.nestName=c.nestName,e.fragmentType=c.nestType,e.isSenior=!0,e.fragment=Jo(c),e}return(0,I._)(t,e),(0,D._)(t,[{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new t(Object.assign({},this.$$options,{fragment:Jo(this.fragment)}));return n.children=this.children.map(function(t){var i=e?t.clone(e):t;return i.parent=n,i}),n.setComponentOptions(this.componentOptions),n.parent=this.parent,n}},{key:"getFragment",value:function(){return Jo(this.fragment)}},{key:"prelink",value:function(){var e=this,t=this.fragment.fragments||this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){t.target==e.nestName&&(e.componentOptions||$o.info("duplicate config found",e.componentOptions,"will be covered by ",t),e.setComponentOptions(t))}))}},{key:"postlink",value:function(){var e=this,t=this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){var n=e.querySelectorAll(t.target);n&&n.forEach(function(e){e.setComponentOptions(t)})}))}}],[{key:"NEST_NAME_ATTR",get:function(){return"fv__nest-name_576218"}}]),t}(Yo.Z),Ko=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).fragmentContent=e.fragmentContent,n}return(0,I._)(t,e),t}(Yo.Z),Zo=n(2473);n(6613);var Xo=function(){function e(){(0,C._)(this,e),this.$children=[]}return(0,D._)(e,[{key:"size",value:function(){return this.$children.length}},{key:"append",value:function(e){return this.insert(e,this.size())}},{key:"prepend",value:function(e){return this.insert(e,0)}},{key:"insert",value:function(e,t){this.$children.splice(t,0,e)}},{key:"insertAll",value:function(e,t){var n;(n=this.$children).splice.apply(n,[t,0].concat((0,R._)(e)));for(var i=t,r=t+e.length,o=i-1;o>=0;o--){e.indexOf(this.$children[o])>-1&&(this.$children.splice(o,1),i--,r--)}for(var a=r;a<this.$children.length;a++){e.indexOf(this.$children[a])>-1&&this.$children.splice(a,1)}}},{key:"indexOf",value:function(e){return this.$children.indexOf(e)}},{key:"children",value:function(){return this.$children.slice(0)}},{key:"removeChild",value:function(e){var t=this.$children.indexOf(e);return t>-1&&(this.$children.splice(t,1),!0)}},{key:"find",value:function(e){return this.$children.filter(e)}},{key:"findFirst",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.$children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(e(a))return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"childAt",value:function(e){return this.$children[e]}},{key:"each",value:function(e){for(var t=this.$children.slice(0),n=0,i=t.length;n<i;)e(t[n],n,t),n++}},{key:"map",value:function(e){return this.$children.map(e)}},{key:"eachUntil",value:function(e){for(var t=0;t<this.$children.length;t++){var n=e(this.$children[t],t);if(n)return n}}},{key:"empty",value:function(){this.$children=[]}}]),e}(),Qo=n(909);const ea=z.diffRender;var ta=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).$container=new Xo,r.$temporaries=new Xo,r.init(),r}return(0,I._)(t,e),(0,D._)(t,[{key:"callInit",value:function(){}},{key:"isContainer",value:function(){return!0}},{key:"mounted",value:function(){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.$container.each(function(e){return!e.isMounted&&e.mounted()})}},{key:"broadcast",value:function(e,t,n){this.$container.each(function(i){i.receiveBroadcast(e,t,n)})}},{key:"receiveBroadcast",value:function(e,n,i){(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n),this.broadcast(e,n,i)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"append",value:function(e,t){return this.insert(e,this.size(),t)}},{key:"appendTemporaryComponent",value:function(e){var t=this;return this.$temporaries.append(e),this.rerenderChildren(),function(){return t.$temporaries.removeChild(e)}}},{key:"prepend",value:function(e,t){return this.insert(e,0,t)}},{key:"insert",value:function(e,t,n){return"string"==typeof e?this.insertTemplate(e,t,n):(0,T._)(e,Node)?this.insertTemplate("<native-dom></native-dom>",t,[{target:"!root",config:{nativeDOM:e}}].concat(n||[])):this.insertComponent(e,t)}},{key:"insertComponent",value:function(e,t){if(e.parent&&e.parent!==this)throw new Error("Component must be removed from its parent to be inserted into other component!");if(-1===this.$container.indexOf(e))return this.$container.insert(e,t),e.parent=this,e.controller.freeze(!1),e.resetDataScope(),this.doInsert(e,t),this.context.triggerModifyTree(this,e,"insert"),this.trigger(Do.qo.CHILD_INSERTED,e,t),e.trigger(Do.qo.INSERTED),e}},{key:"insertTemplate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.getPDFUI().parseTemplate(e,n);return this.insertComponent(i,t),this.isMounted&&i.mounted(),i.localize(),i}},{key:"insertAll",value:function(e,t){var n=this;e.forEach(function(e){if(e.parent!==n&&e.parent)throw new Error("Component must be removed from its parent to be inserted into other component!")}),this.$container.insertAll(e,t),e.forEach(function(e){e.parent=n,e.controller.freeze(!1),e.resetDataScope()}),this.doInsertAll(e,t),e.forEach(function(e,i){n.context.triggerModifyTree(n,e,"insert"),n.trigger(Do.qo.CHILD_INSERTED,e,t+i),e.trigger(Do.qo.INSERTED)})}},{key:"empty",value:function(){this.$container.each(function(e){return e.destroy()}),this.$container.empty(),this.rerenderChildren()}},{key:"indexOf",value:function(e){return this.$container.indexOf(e)}},{key:"children",value:function(){return this.$container.children().filter(function(e){return!e.isIgnorable()})}},{key:"size",value:function(){return this.$container.size()}},{key:"childrenCount",value:function(){return this.children().length}},{key:"first",value:function(){return this.childAt(0)}},{key:"last",value:function(){return this.childAt(this.size()-1)}},{key:"removeChild",value:function(e){this.$container.removeChild(e)&&(this._removeChild(e),this.rerenderChildren())}},{key:"_removeChild",value:function(e){e.parent=null,e.isDestroyed||e.controller.data!==this.controller.data&&e.controller.setParentScope(void 0),e.removeElement(),this.context.triggerModifyTree(this,e,"remove"),e.trigger(Do.qo.REMOVED,this,e),e.controller.freeze()}},{key:"removeChildren",value:function(e){var t=this,n=[];return e.filter(function(e){var i=t.$container.removeChild(e);return i||n.push(e),i}).forEach(function(e){t._removeChild(e)}),this.rerenderChildren(),n}},{key:"replaceChild",value:function(e,t){var n=this.childAt(e);if(!n)throw new Error("Failed to execute 'replaceChild' on ".concat(this.nodeName,": The child index to be replaced is out of bounds. childIndex: ").concat(e,", children size: ").concat(this.size()));n.destroy(),this.insertComponent(t,e)}},{key:"setLayout",value:function(e){}},{key:"doInsert",value:function(e,t){this.rerenderChildren()}},{key:"doInsertAll",value:function(e,t){this.rerenderChildren()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.getContainerElement(),t=this.getAllRenderableElements();this.diffRenderer(e,t)}}},{key:"getAllRenderableElements",value:function(){var e=this.getRenderableChildren().reduce(function(e,t){return e.concat(t.getRenderingElements())},[]),t=this.$temporaries.children().reduce(function(e,t){return e.concat(t.getRenderingElements())},[]);return this.getBeforeExtensionElements().concat(e).concat(t).concat(this.getAfterExtensionElements())}},{key:"getBeforeExtensionElements",value:function(){return[]}},{key:"getAfterExtensionElements",value:function(){return[]}},{key:"getRenderableChildren",value:function(){return this.$container.children()}},{key:"diffRenderer",value:function(e,t){this.isDestroyed||ea(e,t)}},{key:"localize",value:function(){var e=this;return(0,E._)((0,S._)(t.prototype),"localize",this).call(this).then(function(){e.broadcast(Do.u7,null,e)})}},{key:"getContainerElement",value:function(){return this.element}},{key:"getComponentByName",value:function(e){if(!e)return null;var t=this._getComponentByName(e);if(!t&&this.node){var n=this.node.findByName(e);if(n.length>0)return this.context.triggerObtainsComponentOf(n),this._getComponentByName(e)}return t?t.lazyLoad():t}},{key:"_getComponentByName",value:function(e){if(this.name===e)return this;var t=this.getComponentsPool().getComponentByName(e,this);return t?t?t.lazyLoad():t:this.findChildren(function(t){return t.name===e})[0]}},{key:"findChildren",value:function(e){var t=[];(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e(this)&&t.push(this);for(var n=this.$container.children(),i=0,r=n.length;i<r;){var o=n[i];if(!o.isIgnorable()){var a,s=o.findChildren(e,!0);if(s.length>0)(a=t).push.apply(a,(0,R._)(s))}i++}return t.map(function(e){return e.lazyLoad()})}},{key:"getAllComponentsByName",value:function(e){var t=this.getComponentsPool().getComponentsByName(e,this);return this.name===e&&t.unshift(this),t}},{key:"getAllComponentsByType",value:function(e){return this.findChildren(function(t){return t.constructor.getName()===e})}},{key:"childAt",value:function(e){var t=this.$container.childAt(e);return t?t.lazyLoad():t}},{key:"update",value:function(){(0,E._)((0,S._)(t.prototype),"update",this).call(this),this.$container.each(function(e){return e.update()})}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.$container.each(function(e){return e.destroy()}),this.$temporaries=[]}},{key:"doActive",value:function(){this.broadcast(Do.KJ,!0,this)}},{key:"doDeactive",value:function(){this.broadcast(Do.KJ,!1,this)}},{key:"doDisable",value:function(){this.$container.each(function(e){return e.disable()})}},{key:"doEnable",value:function(){this.$container.each(function(e){return e.enable()})}},{key:"updateDisableStatus",value:function(){}},{key:"appendText",value:function(e){this.append(e)}},{key:"hasFocus",value:function(){return(0,E._)((0,S._)(t.prototype),"hasFocus",this).call(this)||this.$container.$children.some(function(e){return e.hasFocus()})}},{key:"waitForComponentLifecycle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo.Ah.mounted,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(n in Zo.Ah))throw new Error("Invalid lifecycle: ".concat(n,", it should be one of ").concat(Object.keys(Zo.Ah)));var r=this._getLifecycleDispatchKey(n,e),o=[];return new Promise(function(a){var s=function(){a(o),A()},A=t.context.store.subscribe(r,function(r){if(r.isDestroyed){if(n!=Zo.Ah.destroyed)return}else if(r.ignoreable||r.node.name!==e)return;(o.push(r),i)?s():t.node.findByName(e).length===o.length&&s()})})}},{key:"onArriveComponentLifecycle",value:function(e,t,n){var i=this,r=this.node.querySelectorAll(e),o=Array.from(new Set(r.map(function(e){return e.name}))),a=o.map(function(e){var r=i._getLifecycleDispatchKey(t,e);return i.context.store.subscribe(r,function(e){e.ignoreable||i.isAncestorOf(e)&&n(e,t)})});return function(){a.forEach(function(e){return e()})}}},{key:"getComponentByNameAsync",value:function(e){return this.waitForComponentLifecycle(e,"postlink",!0).then(function(e){return(0,M._)(e,1)[0]})}},{key:"getAllComponentsByNameAsync",value:function(e){return this.waitForComponentLifecycle(e,"postlink",!1)}},{key:"getMountedComponentByName",value:function(e){return this.waitForComponentLifecycle(e,"mounted",!0).then(function(e){return(0,M._)(e,1)[0]})}},{key:"getAllMountedComponentsByName",value:function(e){return this.waitForComponentLifecycle(e,"mounted",!1)}}]),t}(Zo.wA),na=(n(8015),function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).selectable=!0===e.selectable,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doDisable",value:function(){this.element.classList.add("disabled")}},{key:"doEnable",value:function(){this.element.classList.remove("disabled")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-dropdown-item")}},{key:"acceptText",value:function(){return!0}},{key:"sync",value:function(e,n){if("text"===e)this.element.setAttribute("data-i18n","[text]"+n),this.localize();else(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n)}}],[{key:"getName",value:function(){return"dropdown-item"}}]),t}(ta)),ia=n(2778),ra=n.n(ia),oa=function(e,t){return e=parseFloat(e),isFinite(e)?e:t},aa=function(){function e(t,n,i){(0,C._)(this,e),this.min=oa(t,-1/0),this.max=oa(n,1/0),this.step=oa(i,1),this.normalize()}return(0,D._)(e,[{key:"setMin",value:function(e){this.min=oa(e,-1/0),this.normalize()}},{key:"setMax",value:function(e){this.max=oa(e,1/0),this.normalize()}},{key:"setStep",value:function(e){this.step=oa(e,1),this.normalize()}},{key:"normalize",value:function(){var e=Math.min(this.min,this.max),t=Math.max(this.min,this.max);this.step<0?(this.max=e,this.min=t):(this.max=t,this.min=e),(this.min>this.max&&this.step>0||this.min<this.max&&this.step<0)&&(this.step=-this.step)}},{key:"increment",value:function(e){return Math.min(this.max,e+this.step)}},{key:"decrement",value:function(e){return Math.max(this.min,e-this.step)}},{key:"normalizeValue",value:function(e){return"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?this.min:(e=Math.min(this.max,Math.max(e,this.min)),0===this.step?e:isFinite(this.min)?t(this.min+Math.round((e-this.min)/this.step)*this.step,this.step):isFinite(this.max)?t(this.max-Math.round((this.max-e)/this.step)*this.step,this.step):t(Math.round(e/this.step)*this.step,this.step));function t(e,t){var n=t.toString(),i=n.indexOf(".");if(-1!==i){var r=Math.pow(10,n.length-i-1);return Math.floor(e*r)/r}return e}}}]),e}(),sa=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),(s=(0,P._)(this,t)).input=e,s.template=o,s.range=new aa(n,i,r),s.value=s.range.min,s.prepare(),s.eventEmitter=new(ra()),s.localizer=a,s}return(0,I._)(t,e),(0,D._)(t,[{key:"disable",value:function(){this.input.setAttribute("editable","editable")}},{key:"enable",value:function(){this.input.removeAttribute("editable")}},{key:"setValue",value:function(e){var t=this.range;this.value=t.normalizeValue(e);var n={value:this.value,min:t.min,max:t.max,step:t.step};if("function"==typeof this.template)this.input.setAttribute("data-i18n","[value]".concat(this.template.call(this,e)));else{var i=(this.template+"").replace(/\$\{(.*?)\}/g,function(e,t){return n[t]||""});this.input.setAttribute("data-i18n","[value]".concat(i))}this.localizer.localizeElement(this.input)}},{key:"setTemplate",value:function(e){this.template=e,this.setValue(this.value)}},{key:"getValue",value:function(){return this.value}},{key:"prepare",value:function(){var e=this,t=this.input,n=function(){var n=e.range.normalizeValue(t.value.trim()||e.value),i=e.value;e.setValue(n),i!==e.value&&e.eventEmitter.emit("change",e.value,i)};t.addEventListener("change",n);var i,r=function(e){e.target.value=e.target.value.replace(/[^\d.%]/g,"")};t.addEventListener("keyup",r),z.isIE&&(i=function(e){if(13===e.keyCode)return e.preventDefault(),n()},t.addEventListener("keydown",i)),this.addDestroyHook(function(){t.removeEventListener("change",n),t.removeEventListener("keydown",i),t.removeEventListener("keyup",r),e.eventEmitter.removeAllListeners()})}}]),t}(z.Disposable),Aa=n(636),ca=n.n(Aa);function ua(e){if((0,T._)(e,HTMLElement)){if(e.tabIndex<0)return!1;var t=e.getBoundingClientRect(),n=t.width,i=t.height;if(!n||!i)return!1;switch(e.nodeName){case"A":case"BUTTON":case"INPUT":case"TEXTAREA":case"SELECT":case"DETAULS":return!e.tabIndex||e.tabIndex>=0}return e.tabIndex>=0}}function la(){var e,t,n=(e=['\n<div class="fx-ribbon-item">\n    <div class="fx-ribbon-item-icon">\n        <span class="fx-icon"></span>\n    </div>\n    <div class="fx-ribbon-item-text">\n        <div class="fx-ribbon-item-text-1"></div>\n        <div class="fx-ribbon-item-text-2"></div>\n    </div>\n    <div class="fx-ribbon-dropdown"></div>\n</div>\n'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return la=function(){return n},n}var da,ha,fa=(0,z.dom)(la()),pa=function(e){function t(e,n,i){var r;return(0,C._)(this,t),r=(0,P._)(this,t,[e,n,i]),e.iconCls&&(r.iconCls=e.iconCls),r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=fa.cloneNode(!0);return this.eRibbonIcon=e.firstElementChild,this.eIcon=this.eRibbonIcon.firstElementChild,this.eRibbonText=this.eRibbonIcon.nextElementSibling,this.eRibbonText1=this.eRibbonText.firstElementChild,this.eRibbonText2=this.eRibbonText1.nextElementSibling,this.eDropdownContainer=this.eRibbonText.nextElementSibling,e}},{key:"getContainerElement",value:function(){return this.eDropdownContainer}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fx-ribbon-item"),this.localize()}},{key:"postlink",value:function(){if((0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.iconCls)this.eIcon.classList.add(this.iconCls.split(/\s/));else{var e=this.childAt(0);e&&"svg"===e.nodeName&&this.eIcon.appendChild(e.element)}this.size()&&!this.notDropdown&&this.eRibbonText2.classList.add("fx-ribbon-item-more"),this.small&&(this.eIcon.classList.add("fx-icon-sm"),this.element.classList.add("fx-ribbon-item-sm"),this.element.removeChild(this.eRibbonText)),this.more&&this.eRibbonIcon.classList.add("fx-ribbon-item-more"),this.localize()}},{key:"receiveBroadcast",value:function(e,n){return"localize"!==e?(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n):this.small?void 0:(this.translate(),(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n))}},{key:"localize",value:function(){for(var e,n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=(0,E._)((0,S._)(t.prototype),"localize",this)).call.apply(e,[this].concat((0,R._)(r))).then(function(){return n.translate()})}},{key:"translate",value:function(){var e=this.text||this.tooltipTitle;e&&(e=this.localizer.i18next.t(e),this._setText(e))}},{key:"setText",value:function(e){e=this.specialEscape(e),this.text=e,this._setText(e)}},{key:"_setText",value:function(e){var t=" ",n=1,i=!1;switch(this.getPDFUI().currentLanguage){case"zh-CN":case"zh-TW":case"ja-JP":t="",n=2,i=!0}var r=e.split(t);if(i)for(var o=r.length;o--&&o;){var a=r[o];if(/^\w+$/.test(a)){var s=r[o-1];/\w/.test(s)&&(r.splice(o,1),r[o-1]+=a)}}var A="",c="";if(e.length>n&&r.length>1){A=r[0]+t;for(var u=1,l=r.length-1,d=e.length/2;u<l;u++){var h=r[u]+t;if(A.length+h.length>d)break;A+=h}c=r.slice(u).join(t)}else A=e;this.eRibbonText1.innerText=A,this.eRibbonText2.innerText=c,this.eRibbonText2.classList.contains("fx-ribbon-item-more"),this.translatedText=e}},{key:"getDropdown",value:function(){return this.children().find(function(e){return(0,T._)(e,ba)})}},{key:"selectFirstDropdown",value:function(){var e;try{e=this.getDropdown().childAt(0)}catch(e){return}this.select(e)}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this.eIcon;this.iconCls&&(e=i.classList).remove.apply(e,(0,R._)(this.iconCls.split(/\s/))),n&&(t=i.classList).add.apply(t,(0,R._)(n.split(/\s/))),this.iconCls=n}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){this.selectedItem=e;var n=this.getDropdown();if(n&&(n.selectedItem=e,n.selected=n.children().indexOf(e)),t||!this.iconCls){var i,r,o=e.attrs,a=this.eIcon,s=o["ribbon-icon"]||o["icon-class"];if(s)if(s.startsWith("<svg"))a.removeAttribute("ribbon-icon"),a.innerHTML=s;else this.iconCls&&(i=a.classList).remove.apply(i,(0,R._)(this.iconCls.split(/\s/))),this.iconCls=s,(r=a.classList).add.apply(r,(0,R._)(s.split(/\s/)));this.text=o["ribbon-text"]||o.text||o["tooltip-title"]||this.attrs.text;var A=e.attrs["tooltip-title"];A&&this.setAttribute("tooltip-title",A),this.localize()}}}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=function(t){e.disabled||(e.selectedItem?(e.selectedItem.triggerHandler(t),t.stopPropagation()):(e.trigger("click"),e.controller.handle(t)))},i=function(t){e.disabled||(e.getDropdown().toggle(),t.stopPropagation())};this.notImmediately&&(n=i,this.attachEventToElement(this.eRibbonIcon,"mouseup",function(e){e.stopPropagation()})),this.notDropdown&&(i=n);var r=this.getDropdown();if(!this.notDropdown&&r){var o=r.separate?this.eRibbonText:this.element;this.attachEventToElement(o,"keydown",function(e){(0,z.isMatch)(e,z.matchers.or(z.matchers.Enter,z.matchers.Space))&&e.preventDefault()}),r.separate&&this.addDestroyHook((0,z.attachKeypressEvent)(this.eRibbonIcon,function(e){n((0,z.createClickEvent)(e)),e.stopPropagation(),e.preventDefault()},z.matchers.or(z.matchers.Enter,z.matchers.Space))),this.addDestroyHook((0,z.attachKeypressEvent)(o,function(e){i((0,z.createClickEvent)(e)),e.stopPropagation()},z.matchers.Enter),(0,z.attachKeypressEvent)(o,function(e){r.isActive&&(o.focus(),r.deactive(),e.stopPropagation())},z.matchers.Escape))}else this.addDestroyHook((0,z.attachKeypressEvent)(this.element,function(e){n((0,z.createClickEvent)(e)),e.stopPropagation(),e.preventDefault()},z.matchers.or(z.matchers.Enter,z.matchers.Space)));var a=this.size();a>0&&("svg"===this.$container.$children[0].nodeName&&(a-=1));!this.small&&a&&(this.attachEventToElement(this.eRibbonText,"click",i),this.attachEventToElement(this.eRibbonText,"mouseup",function(e){e.stopPropagation()})),this.attachEventToElement(this.element,"click",n),this.attachEventToElement(this.eDropdownContainer,"click",function(e){e.stopPropagation()})}},{key:"focus",value:function(){var e=this.getDropdown();e&&e.separate?this.eRibbonText.focus():this.element.focus()}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.element.classList.add("fx-ribbon-item-disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.element.classList.remove("fx-ribbon-item-disabled")}},{key:"doActive",value:function(){this.element.classList.add("fx-ribbon-item-active")}},{key:"doDeactive",value:function(){this.element.classList.remove("fx-ribbon-item-active")}},{key:"updateDisableStatus",value:function(){Zo.wA.prototype.updateDisableStatus.call(this)}}],[{key:"getName",value:function(){return"ribbon-button"}},{key:"getMetadata",value:function(){return{options:{"not-immediately":{type:"boolean",field:"notImmediately"},"not-dropdown":{type:"boolean",field:"notDropdown"},text:{type:"string"},"tooltip-title":{type:"string",field:"tooltipTitle"},small:{type:"boolean"},more:{type:"boolean"},"icon-class":{type:"string",field:"iconCls"},action:{type:"string"}}}}}]),t}(ta),ga=function(e){return e.CLOSE_LAYER="builtin-command-close-closable-layer",e}({}),va=function(e){return e.CLOSABLE_LAYER="builtin-shortcut-context-closable-layer",e.LOADING_LAYER="builtin-shortcut-context-loading-layer",e}({}),ma=function(){function e(){(0,C._)(this,e),(0,U._)(this,"layerStack",[]),(0,U._)(this,"keyboard",void 0)}return(0,D._)(e,[{key:"serviceInjected",value:function(){var e=this;this.keyboard.withContext(va.CLOSABLE_LAYER,function(t){t.on(ga.CLOSE_LAYER,function(){var t=e.layerStack.pop();if(t){if(t.isDestroyed)return;t.trigger("beforeClose"),t.hide()}})})}},{key:"showLayer",value:function(e){this.hideLayer(e),this.layerStack.push(e)}},{key:"hideLayer",value:function(e){var t=this.layerStack.indexOf(e);t>-1&&this.layerStack.splice(t,1)}},{key:"getVisibleLayers",value:function(){return this.layerStack}},{key:"getKeyboard",value:function(){return this.keyboard}}],[{key:"isLazy",value:function(){return!1}},{key:"inject",value:function(){return{keyboard:z.KeyboardImpl}}}]),e}(),ya=function(){function e(){(0,C._)(this,e),(0,U._)(this,"colorSpectrumStack",[])}return(0,D._)(e,[{key:"serviceInjected",value:function(){}},{key:"showSpectrum",value:function(e){this.hideSpectrum(e),this.colorSpectrumStack.push(e)}},{key:"hideSpectrum",value:function(e){var t=this.colorSpectrumStack.indexOf(e);t>-1&&this.colorSpectrumStack.splice(t,1)}},{key:"canDeactive",value:function(){return!this.colorSpectrumStack.some(function(e){return e.hasFocus()})}}],[{key:"isLazy",value:function(){return!1}}]),e}(),_a=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"layerService",void 0),(0,U._)(e,"colorSpectrumService",void 0),(0,U._)(e,"activates",[]),e}return(0,I._)(t,e),(0,D._)(t,[{key:"serviceInjected",value:function(){var e=this,t=document.activeElement,n=function(){if(!e.isDestroyed&&(!document.activeElement||document.activeElement.closest(".fv__ui-webpdf"))){if(t!==document.activeElement)e.activates.slice(0).forEach(function(t){var n=t.parent;if((0,T._)(n,pa)){if(n.hasFocus())return}else if(t.hasFocus())return;e.canDeactive(t)&&t.deactive()});t=document.activeElement}};window.addEventListener("focus",n,!0),this.addDestroyHook(function(){window.removeEventListener("focus",n,!0)})}},{key:"canDeactive",value:function(e){var t=this.layerService.getVisibleLayers(),n=t[t.length-1];return!(!n||!n.isAncestorOf(e))||!t.filter(function(t){return!t.isAncestorOf(e)}).some(function(e){return e.hasFocus()})&&this.colorSpectrumService.canDeactive()}},{key:"active",value:function(e){var t=this.activates;t.forEach(function(t){e.isDescendantOf(t)||t.deactive()}),-1===t.indexOf(e)&&t.push(e)}},{key:"deactive",value:function(e){var t=this.activates.indexOf(e);-1!==t&&this.activates.splice(t,1)}}],[{key:"services",value:function(){return{layerService:ma,colorSpectrumService:ya}}}]),t}(z.Disposable),ba=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).iconCls=r.iconCls||r.attrs["icon-class"],r.isFreezed=!1,r.editOptions=r.editOptions||{},r.editType=r.editOptions.type||"text",r.editTemplate=r.editOptions.template||"${value}",r.editMin=r.editOptions.min,r.editMax=r.editOptions.max,r.editStep=r.editOptions.step,r.initEditValue=r.editOptions.value||("number"===r.editType?r.editMin:""),r.enterKeyPressedOnList=!1,z.Lazy.property(r,"$service",function(){return r.pdfUI&&r.pdfUI.getServiceInstance(_a,r)}),r}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){(0,E._)((0,S._)(t.prototype),"init",this).call(this);var e=this.element,n=document.createElement(z.isMobile||this.separate?"a":"button");n.setAttribute("type","button"),n.classList.add("fv__ui-dropdown-toggler");var i=document.createElement(this.separate?"button":"i"),r=document.createElement("span"),o=document.createElement("input"),a=document.createElement(this.separate?"button":"i");i.classList.add("fv__ui-dropdown-icon"),a.classList.add("fv__ui-dropdown-caret","fv__icon-toolbar-caret"),o.classList.add("fv__ui-dropdown-editor"),r.classList.add("fv__ui-dropdown-toggler-text"),this.orderedElements=new ko(n,[i,o,r,a]),this.iconElement=i,this.textElement=r,this.editElement=o,this.caretElement=a,e.appendChild(n),this.togglerElement=n}},{key:"freeze",value:function(){this.isFreezed=!0}},{key:"unfreeze",value:function(){this.isFreezed=!1}},{key:"active",value:function(){if(!this.isFreezed)return(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"deactive",value:function(){if(!this.isFreezed)return(0,E._)((0,S._)(t.prototype),"deactive",this).call(this)}},{key:"toggle",value:function(){this.isActive?this.deactive():this.active()}},{key:"setText",value:function(e){this.editable||(this.text=e,this.textElement.setAttribute("data-i18n","[text]"+e),this.localizer.localizeElement(this.textElement),this.orderedElements.mount(this.textElement))}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,R._)(this.iconCls.split(/\s/))),n)?((t=this.iconElement.classList).add.apply(t,(0,R._)(n.split(/\s/))),this.orderedElements.mount(this.iconElement)):this.orderedElements.unmount(this.iconElement);this.iconCls=n}},{key:"setEditable",value:function(e){var t=this;this.editable=e,e?("number"===this.editType?(this.numberInput=new sa(this.editElement,this.editMin,this.editMax,this.editStep,this.editTemplate,this.localizer),this.numberInput.eventEmitter.on("change",function(e,n){t.trigger("change",e,n)})):this.numberInput&&this.numberInput.destroy(),this.orderedElements.unmount(this.textElement),this.orderedElements.mount(this.editElement)):(this.setText(this.text),this.numberInput&&this.numberInput.destroy())}},{key:"setEditValue",value:function(e){this.numberInput?this.numberInput.setValue(e):this.editElement.value=e}},{key:"getEditValue",value:function(){return this.numberInput?this.numberInput.getValue():this.editElement.value}},{key:"setMaxValue",value:function(e){this.numberInput&&(this.numberInput.range.max=e,this.setEditValue(this.numberInput.value))}},{key:"setMinValue",value:function(e){this.numberInput&&(this.numberInput.range.min=e,this.setEditValue(this.numberInput.value))}},{key:"setEditTemplate",value:function(e){this.numberInput&&this.numberInput.setTemplate(e)}},{key:"insertDropdownItem",value:function(e,t){var n=new na({selectable:!0,viewConfig:{nodeName:"dropdown-item",attrs:{}}},this.module,this.localizer);if(n.prerender(),n.render(),n.prelink(),"function"==typeof e&&(e=e()),"string"==typeof e)n.element.innerHTML=e;else{if(!(0,T._)(e,Zo.wA))throw new TypeError("Unexpected type of child, it should be a String or Component instance");n.append(e)}n.postlink(),this.insert(n,t),n.mounted()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=function(){if(e.isActive){var t=function(e){e.wrappedElement?e.wrappedElement.focus():e.separate?e.caretElement.focus():e.togglerElement.focus(),e.deactive()},n=e.element.querySelectorAll("[component-type=dropdown]");1!==(0,R._)(n).filter(function(n){var i=n.getAttribute("name"),r=e.getComponentByName(i);return!!r.isActive&&(t(r),!0)}).length&&t(e)}};if(this.addDestroyHook((0,z.attachKeypressEvent)(this.element,function(t){e.isActive&&(n(),t.stopPropagation())},z.matchers.Escape,!0),(0,z.attachKeypressEvent)(this.listElement,function(t){t.target.querySelectorAll("ul > li").length>0?t.target.querySelector(".fv__ui-dropdown-toggler").click():e.$service.canDeactive(e)&&n()},z.matchers.Enter),this.attachEventToElement(this.listElement,"keyup",function(e){e.stopPropagation()})),this.attachEventToElement(this.listElement,"keydown",function(t){var n=function(t){var n=e.children().map(function(e){if(ua(e.element))return e;if(e.isContainer()){var t=e.childAt(0);if(t&&ua(t.element))return t}}).filter(Boolean),i=n.findIndex(function(e){return e.hasFocus()});if(-1!==i){var r=n[(i+t+n.length)%n.length];r&&r.focus()}},i=z.matchers.ArrowUp,r=z.matchers.ArrowDown,o=z.matchers.Home,a=z.matchers.End,s=z.matchers.Enter,A=z.matchers.or,c=z.matchers.ArrowRight,u=z.matchers.ArrowLeft,l=z.matchers.Escape;(0,z.match)(t).switchers(!1).when(A(i,u),function(){n(-1),t.stopPropagation(),t.preventDefault()}).when(A(r,c),function(){n(1),t.stopPropagation(),t.preventDefault()}).when(o,function(){var n=e.children().filter(function(e){return ua(e.element)}),i=n[0];i&&i.focus(),t.stopPropagation(),t.preventDefault()}).when(a,function(){var n=e.children().filter(function(e){return ua(e.element)}),i=e.childAt(n.length-1);i&&i.focus(),t.stopPropagation(),t.preventDefault()}).when(s,function(){t.stopPropagation()}).when(l,function(e){e.stopPropagation()})}),this.attachEventToElement(document,"mouseup",function(t){e.$service.canDeactive(e)&&e.isActive&&!e.isLocked&&t.target!==e.togglerElement&&ca()(t.target).closest(".fv__ui-dropdown-toggler").get(0)!==e.togglerElement&&t.target!==e.listElement&&n()}),void 0!==this.selected){(function(){if(isNaN(e.selected)){var t=function(n){var i=n.findFirst(function(t){return t.name===e.selected});if(!i&&n.$children){var r=null;return n.$children.every(function(e){return!(r=t(e.$container))}),r}return i},n=t(e.$container);n&&e.select(n)}else{var i=parseInt(e.selected),r=e.childAt(i);r&&e.select(r)}})()}var i=function(e){return e.stopPropagation()},r=function(t){e.disabled||(e.toggle(),e.selectedItem&&e.selectedItem.element&&(e.selectedItem.element.focus(),e.selectedItem.element.scrollIntoView()),t.stopPropagation())},o=function(t){if(!e.disabled){if(e.separate){if(z.isIE){var n=document.elementFromPoint(t.clientX,t.clientY);if(n===e.caretElement)return void n.click()}e.selectedItem?e.selectedItem.triggerHandler():(e.trigger("click"),e.controller.handle())}else e.toggle(),e.selectedItem&&e.selectedItem.element&&e.selectedItem.element.focus();t.stopPropagation(),t.preventDefault()}},a=function(e){return e.classList.contains("fv__ui-dropdown-toggler")},s=function(t){if(e.isInsideOtherDropdown()){var n=t.target;(a(n)||a(n.parentNode))&&t.stopPropagation()}},A=function(t){e.isActive&&t.stopPropagation()};if(this.caretElement.addEventListener("click",r),this.caretElement.addEventListener("mouseup",A),this.togglerElement.addEventListener("click",o),this.element.addEventListener("mouseup",s),this.editElement.addEventListener("click",i),this.attachEventToElement(this.togglerElement,"keydown",function(t){e.isInsideOtherDropdown()&&(0,z.match)(t).when(z.matchers.Enter,function(){t.stopPropagation()})}),this.editable){var c=this.editElement.value;this.placeholder&&this.editElement.setAttribute("data-i18n","[placeholder]"+this.placeholder);var u=function(t){if(!e.numberInput){var n=e.editElement.value;e.trigger("change",n,c),c=n}};this.editElement.addEventListener("change",u),this.addDestroyHook(function(){e.editElement.removeEventListener("change",u)})}this.addDestroyHook(function(){e.caretElement.removeEventListener("click",r),e.caretElement.removeEventListener("mouseup",A),e.element.removeEventListener("click",o),e.element.removeEventListener("mouseup",s),e.editElement.removeEventListener("click",i)})}},{key:"isInsideOtherDropdown",value:function(){var e=this;return!!this.findClosestComponent(function(n){return n!==e&&(0,T._)(n,t)})}},{key:"doActive",value:function(){this.$service.active(this),this.element.classList.add("active"),this.updateListPosition(),this.startUpdateListPosition(),(0,E._)((0,S._)(t.prototype),"doActive",this).call(this)}},{key:"startUpdateListPosition",value:function(){var e=this,t=!1,n=function(){!t&&e.isActive&&e.updateListPosition()};window.addEventListener("resize",n),window.addEventListener("orientationchange",n),this.stopUpdateListPosition=function(){window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),t=!0}}},{key:"stopUpdateListPosition",value:function(){}},{key:"calculateOffset",value:function(e){(0,z.cssText)(this.listElement,{left:e.left+"px",top:e.top+"px"});var t=this.listElement.getBoundingClientRect(),n=t.left,i=t.top;return{offsetX:e.left-n,offsetY:e.top-i}}},{key:"updateListPosition",value:function(){var e,t,n=this.element.getBoundingClientRect(),i=this.listElement.getBoundingClientRect(),r=this.calculateOffset(n),o=r.offsetX,a=r.offsetY;switch(this.valign){case"top":e=n.top;break;case"bottom":e=n.bottom;break;case"center":e=n.top+.5*n.height;break;case"client-center":e=.5*(window.innerHeight-i.height);break;case"up":e=n.top-i.height}var s=window.innerHeight;switch(e<0?e=0:e+i.height>s&&(e=s-i.height),this.align){case"out-right":t=n.left+n.width;break;case"out-left":t=n.left-i.width;break;case"left":t=n.left;break;case"right":t=n.right-i.width;break;case"center":t=n.left+.5*(n.width-i.width);break;case"client-center":t=.5*(window.innerWidth-i.width)}var A=document.body.offsetWidth;if(t<0?t=0:t+i.width>A&&(t=A-i.width),z.isMobile&&e<0)return(0,z.cssText)(this.listElement,{left:t+"px",top:"0px",height:"100%","overflow-y":"scroll"});(0,z.cssText)(this.listElement,{left:t+o+"px",top:e+a+"px","min-width":n.width+"px"}),"true"===this.attrs.syncwidth&&(0,z.cssText)(this.listElement,{width:n.width+"px"})}},{key:"doDeactive",value:function(){this.isActive&&(this.isActive=!1),this.enterKeyPressedOnList=!1,this.$service.deactive(this),this.element.classList.remove("active"),this.stopUpdateListPosition(),(0,E._)((0,S._)(t.prototype),"doDeactive",this).call(this)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-dropdown"),this.editable&&this.element.classList.add("fv__ui-editable-dropdown"),this.orderedElements.mount(this.caretElement);var e=document.createElement("ul");e.classList.add("fv__ui-dropdown-list"),this.popupClass&&e.classList.add(this.popupClass),this.element.appendChild(e),this.listElement=e,this.iconCls&&this.setIconCls(this.iconCls),this.editable?(this.editable=!1,this.setEditable(!0),this.setEditValue(this.initEditValue)):this.text&&(this.originText=this.text,this.setText(this.text)),this._resetTabIndex(),e.setAttribute("tabindex","-1")}},{key:"select",value:function(e){if(!e||!e.isIgnorable()){var t;if(this.selectedItem&&this.selectedItem.iconCls)(t=this.iconElement.classList).remove.apply(t,(0,R._)(this.selectedItem.iconCls.split(/\s/)));if(this.selectedItem&&this.selectedItem.removeCSSClass(this.selectedCls),e&&this.isAncestorOf(e)){var n=this.selectedItem;if(this.selectedItem=e,e.addCSSClass(this.selectedCls),this.changeIconCls){this.setIconCls(e.iconCls);var i=e.attrs,r=i["ribbon-icon"]||i["icon-class"];r&&r.startsWith("<svg")&&(this.iconElement.innerHTML=r,this.iconElement.style.backgroundImage="none")}this.changeText&&e.text&&this.setText(e.text);var o=e.getAttribute("tooltip-title");o&&(this.originalTooltipTitle=this.getAttribute("tooltip-title"),this.setAttribute("tooltip-title",o)),this.trigger("selected",e),this.trigger("select",e,n)}else this.unselect()}}},{key:"unselect",value:function(){var e=this.selectedItem;e&&e.removeCSSClass(this.selectedCls),this.setIconCls(this.iconCls),this.setText(this.originText||""),this.setAttribute("tooltip-title",this.originalTooltipTitle||this.attrs["tooltip-title"]||""),this.selectedItem=void 0,this.trigger("selected",void 0),this.trigger("unselect",e)}},{key:"getContainerElement",value:function(){return this.listElement}},{key:"update",value:function(){(0,E._)((0,S._)(t.prototype),"update",this).call(this)}},{key:"createDOMElement",value:function(){return document.createElement("a")}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.isActive||(this.isActive=!0),this.deactive(),this.element.classList.add("disabled"),this.togglerElement.setAttribute("disabled",""),this.togglerElement.classList.add("disabled"),this.element.classList.add("disabled"),this.editElement.setAttribute("disabled",""),this.numberInput&&this.numberInput.disable(),this._resetTabIndex()}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.element.classList.remove("disabled"),this.togglerElement.classList.remove("disabled"),this.editElement.removeAttribute("disabled"),this.togglerElement.removeAttribute("disabled"),this.numberInput&&this.numberInput.enable(),this._resetTabIndex()}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this),this.numberInput&&this.numberInput.destroy(),z.Lazy.isPropertyIntialized(this,"$service")&&this.$service.deactive(this),this.stopUpdateListPosition()}},{key:"_resetTabIndex",value:function(){var e=this.disabled?"-1":"0";this.separate?(this.iconElement.setAttribute("tabindex",e),this.caretElement.setAttribute("tabindex",e)):(this.iconElement.removeAttribute("tabindex"),this.caretElement.removeAttribute("tabindex"))}},{key:"focus",value:function(){this.wrappedElement?this.wrappedElement.focus():this.separate?this.caretElement.focus():this.togglerElement.focus()}}],[{key:"getName",value:function(){return"dropdown"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},iconCls:{type:"string"},"selected-class":{type:"string",field:"selectedCls"},editable:{type:"boolean",defaultValue:!1},placeholder:{type:"string",defaultValue:""},editOptions:{type:"any"},align:{type:"string",enums:["out-right","out-left","left","right","center","client-center"],defaultValue:"left"},valign:{type:"string",enums:["top","bottom","center","client-center","up"],defaultValue:"bottom"},separate:{type:"boolean",defaultValue:!0},selected:{type:"string",required:!1},"popup-class":{type:"string",field:"popupClass"},selectable:{type:"boolean",defaultValue:!0},changeIconCls:{type:"boolean",defaultValue:!0},changeText:{type:"boolean",defaultValue:!0}}}}}]),t}(ta),wa=function(e){function t(e,n,i){var r;return(0,C._)(this,t),r=(0,P._)(this,t,[e,n,i]),e.iconCls&&(r.iconCls=e.iconCls),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setText",value:function(e){this.text=e||this.text,this.texts.slice(0).forEach(function(e){return e.destroy()}),this.renderText(),this.localize()}},{key:"setIconCls",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,R._)(this.iconCls.split(/\s/))),this.iconCls=t||this.iconCls,this.renderIcon()}},{key:"createDOMElement",value:function(){var e;return this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon"),(0,T._)(this.parent,ba)?(e=document.createElement("li")).classList.add("fv__ui-dropdown-button"):e=document.createElement("button"),this.orderedElementsManager=new ko(e,[this.iconElement,this.textElement]),e}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-button");var e,n,i=this.$options.viewConfig.vnode.childAt(0);if(i&&"svg"===i.nodeName)return this.iconElement.innerHTML=i.template,i.remove(),this.iconCls&&(e=this.iconElement.classList).add.apply(e,(0,R._)(this.iconCls.split(/\s/))),void this.orderedElementsManager.mount(this.iconElement);this.iconCls&&((n=this.iconElement.classList).add.apply(n,(0,R._)(this.iconCls.split(/\s/))),this.orderedElementsManager.mount(this.iconElement))}},{key:"renderText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n","[text]"+this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&ea(e,this.texts.map(function(e){return e.element}))),(0,T._)(this.parent,ba)?e.classList.add("fv__ui-dropdown-item-text"):e.classList.remove("fv__ui-dropdown-item-text"),this.orderedElementsManager.mount(this.textElement),e}},{key:"renderIcon",value:function(){var e;this.iconCls?(this.iconElement.className="",(e=this.iconElement.classList).add.apply(e,["fv__ui-button-icon"].concat((0,R._)(this.iconCls.split(/\s/)))),this.orderedElementsManager.mount(this.iconElement)):this.orderedElementsManager.unmount(this.iconElement)}},{key:"acceptText",value:function(){return!0}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);if(this.addDestroyHook((0,z.preventFastClickByKeydown)(this.element)),this.attachEventToElement(this.element,"click",function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.preventDefault(),t.stopPropagation())}),"BUTTON"!==this.element.nodeName){this.attachEventToElement(this.element,"keydown",function(e){(0,z.isMatch)(e,n(i,r))&&(e.preventDefault(),e.stopPropagation())});var n=z.matchers.or,i=z.matchers.Enter,r=z.matchers.Space;this.addDestroyHook((0,z.attachKeypressEvent)(this.element,function(t){var n=(0,z.createClickEvent)(t);e.element.dispatchEvent(n),t.stopPropagation()},n(i,r)))}}},{key:"triggerHandler",value:function(){this.element.click()}},{key:"update",value:function(){(0,E._)((0,S._)(t.prototype),"update",this).call(this),this.renderText()}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(t.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"sync",value:function(e,n){var i=(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n);if(i)return i;switch(e){case"icon-class":case"iconCls":return this.setIconCls(n),!0}return!1}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"xbutton"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},action:{type:"string"},"icon-class":{type:"string",field:"iconCls"}}}}}]),t}(Zo.wA),ka=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).value=null,r.fieldName=r.fieldName||e.fieldName||r.name,r}return(0,I._)(t,e),(0,D._)(t,[{key:"isValueValid",value:function(e){if("number"!=this.element.type)return!0;if(""==e)return!0;if(isNaN(this.getFormFieldElement().valueAsNumber)||"-"==e)return!1;var t=this.viewConfig.attrs,n=t.min,i=t.max;return!(!isNaN(n)&&e<+n)&&!(!isNaN(i)&&e>+i)}},{key:"getFieldName",value:function(){return this.fieldName}},{key:"setFieldName",value:function(e){this.fieldName=e,this.getFormFieldElement().setAttribute("name",this.fieldName||this.name)}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"focus",value:function(){this.getFormFieldElement().focus()}},{key:"hasFocus",value:function(){return this.getFormFieldElement()===document.activeElement}},{key:"addInputElementListener",value:function(e,t){var n=this.getFormFieldElement();n.addEventListener(e,t),this.addDestroyHook(function(){n.removeEventListener(e,t)})}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.getFormFieldElement().setAttribute("name",this.fieldName||this.name)}},{key:"getForwardedEvents",value:function(){return["blur","change","focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.getForwardedEvents().forEach(function(t){return e.addInputElementListener(t,e.createEventListener(t))})}},{key:"createEventListener",value:function(e){var t=this;return function(n){t.trigger(e,t.getDOMValue(),t.value,n)}}},{key:"triggerChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDOMValue(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value;this.isValueValid(e)?"number"==this.element.type&&""==e||(this.setValue(e),this.controller.handle(e,t),this.trigger("change",e,t)):this.element.value=t}},{key:"getDOMValue",value:function(){return this.getFormFieldElement().value}},{key:"setDOMValue",value:function(e){this.getFormFieldElement().value=e}},{key:"resolveCompositionEvent",value:function(){var e=this,t=!1,n=this.getDOMValue();this.addInputElementListener("compositionstart",function(e){return t=!0}),this.addInputElementListener("compositionend",function(i){t=!1;var r=e.getDOMValue();e.isValueValid(r)&&("number"==e.element.type&&""==r||(e.trigger("input",r,n,event.data,event),n=r,e.value=r))}),this.addInputElementListener("input",function(i){if(!t){var r=e.getDOMValue();e.isValueValid(r)&&("number"==e.element.type&&""==r||(e.trigger("input",r,n,i.data,i),n=r,e.value=r))}}),this.on("resetValue",function(e){n=e})}},{key:"sync",value:function(e,n){return"value"!==e?(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n):(this.setValue(n),!0)}},{key:"getFormFieldElement",value:function(){return this.element}}],[{key:"getMetadata",value:function(){return{options:{"field-name":{type:"string",field:"fieldName"}}}}}]),t}(Zo.wA),xa=(n(62),function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).checkedValue=!0,r.uncheckedValue=!1,r.indeterminateValue=void 0,r}return(0,I._)(t,e),(0,D._)(t,[{key:"setCheckedvalue",value:function(e){this.checkedValue=e}},{key:"setUncheckedvalue",value:function(e){this.uncheckedValue=e}},{key:"setIndeterminatevalue",value:function(e){this.indeterminateValue=e}},{key:"acceptText",value:function(){return!0}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled",!0)}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"createDOMElement",value:function(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span"),i=document.createElement("span"),r=document.createElement("span");return r.appendChild(t),r.appendChild(i),e.appendChild(r),e.appendChild(n),t.type="checkbox",r.classList.add("fv__ui-checkbox-wrapper"),i.classList.add("fv__ui-checkbox-inner"),n.classList.add("fv__ui-checkbox-text"),t.classList.add("fv__ui-checkbox-input"),e.classList.add("fv__ui-checkbox"),this.inputElement=t,this.textElement=n,this.previewerElement=i,e}},{key:"init",value:function(){(0,E._)((0,S._)(t.prototype),"init",this).call(this),this.inputElement.checked=this.checked,this.inputElement.indeterminate=this.indeterminate}},{key:"setFieldName",value:function(e){(0,E._)((0,S._)(t.prototype),"setFieldName",this).call(this,e),this.inputElement.setAttribute("name",this.fieldName)}},{key:"getValue",value:function(){var e=this.inputElement,t=e.indeterminate,n=e.checked;return t?this.indeterminateValue:n?this.checkedValue:this.uncheckedValue}},{key:"mounted",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r;(r=(0,E._)((0,S._)(t.prototype),"mounted",this)).call.apply(r,[this].concat((0,R._)(n))),this.attachEventToElement(this.element,"mousedown",function(e){e.preventDefault()})}},{key:"renderText",value:function(){var e=this.textElement;return e.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(e),e.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach(function(t){e.appendChild(t.element)}),e}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(t.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"setValue",value:function(e){switch(e){case this.checkedValue:this.setStatus({checked:!0});break;case this.uncheckedValue:this.setStatus({checked:!1});break;case this.indeterminateValue:this.setStatus({indeterminate:!0});break;default:throw new Error("Value should be one of the checkedValue, uncheckedValue or indeterminateValue")}}},{key:"isIndeterminate",value:function(){return this.inputElement.indeterminate}},{key:"getStatus",value:function(){var e=this.inputElement;return{checked:e.checked,indeterminate:e.indeterminate}}},{key:"setStatus",value:function(e){if(e){var t=this.inputElement,n="boolean"==typeof e.checked?e.checked:t.checked,i="boolean"==typeof e.indeterminate?e.indeterminate:t.indeterminate;t.checked=n,t.indeterminate=i}}},{key:"getDOMValue",value:function(){return this.inputElement.checked}},{key:"setDOMValue",value:function(e){this.inputElement.checked=e}},{key:"hasFocus",value:function(){return this.inputElement===document.activeElement}}],[{key:"getName",value:function(){return"checkbox"}},{key:"getMetadata",value:function(){return{options:{checked:{type:"boolean",defaultValue:!1},indeterminate:{type:"boolean",defaultValue:!1},text:{type:"string"}}}}}]),t}(ka)),Pa=function(){var e=document.createElement("a");e.classList.add("fv__ui-grp-more"),e.setAttribute("tabindex","0");var t=document.createElement("i");return t.classList.add("fv__icon-toolbar-more"),e.appendChild(t),e}(),Ca=((da=document.createElement("span")).classList.add("fv__ui-grp-btn-list-title"),da),Da=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e.$options,n,i])).parent=e,r.title=e.shrinkTitle,r.layout=new Qo.Z,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-grp-btn-list"),this.moreElement=Pa.cloneNode(!0),this.titleElement=Ca.cloneNode(!1),this.titleElement.setAttribute("data-i18n",this.title),this.element.tabIndex=-1}},{key:"setShrinkTitle",value:function(e){"string"==typeof e&&(this.title=e,this.titleElement.innerText=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement,{}),this.titleElement.parentElement||this.element.prepend(this.titleElement))}},{key:"insert",value:function(e,n){this.$container.insert(e,n),e.parent=this.parent,(0,E._)((0,S._)(t.prototype),"resetDataScope",this).call(this),this.doInsert(e,n)}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.$container.children().reduce(function(e,t){return e.concat(t.getRenderingElements())},this.title?[this.titleElement]:[]),t=this.$temporaries.children().reduce(function(e,t){return e.concat(t.getRenderingElements())},[]);this.diffRenderer(this.element,e.concat(t))}}},{key:"updateShrinkComponents",value:function(e){this.$container.$children=e,this.rerenderChildren()}},{key:"mounted",value:function(){var e=this;this.attachEventToElement(this.moreElement,"click",function(n){if(e.toggle(),e.isActive){var i=t(e.children())[0];i&&i.focus(),n.stopPropagation()}}),this.attachEventToElement(this.element,"click",function(t){e.isActive&&e.toggle(),e.moreElement.focus(),t.stopPropagation()}),this.attachEventToElement(document,"mouseup,focus",function(){e.isActive&&(e.hasFocus()||e.deactive())},{capture:!0});var t=function(e){var t=[],n=function(e){e.forEach(function(e){"div"==e.nodeName||"dropdown-item"===e.nodeName?n(e.children()):(0,T._)(e,xa)?ua(e.inputElement)&&t.push(e):ua(e.element)&&t.push(e)})};return n(e),t};this.addDestroyHook((0,z.attachKeypressEvent)(this.moreElement,function(t){t.currentTarget===e.moreElement&&e.moreElement.click()},z.matchers.Enter),(0,z.attachKeypressEvent)(this.moreElement,function(t){t.currentTarget===e.moreElement&&(e.deactive(),e.moreElement.focus())},z.matchers.Escape));var n=z.matchers.or,i=z.matchers.Enter,r=z.matchers.Space;this.attachEventToElement(this.element,"keyup",function(t){(0,z.match)(t).when(z.matchers.Escape,function(){e.deactive(),e.moreElement.focus(),t.stopPropagation()}).when(n(r,i),function(){t.target.querySelector("[component-type=dropdown]")||t.target.getAttribute("aria-haspopup")||(e.deactive(),t.stopPropagation())})});var o=function(n){var i=t(e.children());if(0!==i.length){var r=0,o=i.findIndex(function(e){return e.hasFocus()});o>-1&&(r=(o+n+i.length)%i.length);var a=i[r];a&&a.focus()}};this.attachEventToElement(this.element,"mouseup",function(t){e.parent.isShrinked&&(t.target.classList.contains("fv__icon-toolbar-caret")||(0,T._)(t.target,HTMLInputElement)||(0,T._)(t.target,HTMLTextAreaElement))&&t.stopPropagation()}),this.attachEventToElement(this.element,"keydown",function(n){if(e.isActive&&e.parent&&e.parent.isShrinked){var i=z.matchers.ArrowUp,r=z.matchers.ArrowDown,a=z.matchers.Home,s=z.matchers.End;z.matchers.Escape;(0,z.match)(n).when(i,function(){o(-1)}).when(r,function(){o(1)}).when(a,function(){var n=t(e.children())[0];n&&n.focus()}).when(s,function(){var n=t(e.children()),i=n[n.length-1];i&&i.focus()})}})}},{key:"doActive",value:function(){this.element.classList.add("active"),this.moreElement.classList.add("active");var e=this.moreElement.getBoundingClientRect(),t=this.element.getBoundingClientRect(),n=Math.max(0,e.right-(t.right-t.left));this.element.style.cssText+="\n            left: ".concat(n,"px;\n            top: ").concat(e.bottom,"px;\n        ")}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.moreElement.classList.remove("active")}},{key:"toggle",value:function(){this.isActive?this.deactive():this.active()}},{key:"focus",value:function(){this.moreElement.focus()}},{key:"hasFocus",value:function(){return this.moreElement===document.activeElement||(0,E._)((0,S._)(t.prototype),"hasFocus",this).call(this)}}]),t}(ta),Ea=function(e){function t(e,n,i){var r;(0,C._)(this,t),r=(0,P._)(this,t,[e,n,i]);var o=e.shrinkSize||parseInt(r.viewConfig.attrs["shrink-size"]);return r.shrinkSize=o||(r.parent?r.parent.shrinkSize:1024),r.shrinkTitle=e.shrinkTitle||r.viewConfig.attrs["shrink-title"]||"",r.according=e.according||r.viewConfig.attrs.according||"root",r.isShrinked=!1,r.retainCount=e.retainCount||parseInt(r.viewConfig.attrs["retain-count"])||1,r.btnList=new Da(r,n,i),r.setRetainCount(r.retainCount),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setPDFUIInstance",value:function(e){(0,E._)((0,S._)(t.prototype),"setPDFUIInstance",this).call(this,e),this.btnList.setPDFUIInstance(e)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.btnList.render()}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-grouplist-item"),e}},{key:"setRetainCount",value:function(e){if(e<0)throw new Error("Illegal argument: retainCount must large then -1 but actual ".concat(e));this.retainCount=e,this.rerenderChildren()}},{key:"setShrinkTitle",value:function(e){this.btnList.setShrinkTitle(e),this.shrinkTitle=this.btnList.title}},{key:"rerenderChildren",value:function(){var e=this;if(!this.isDestroyed){var t=this.children();0===t.length?(this.element.clear(),this.element.classList.add("fv__ui-is-empty")):this.element.classList.remove("fv__ui-is-empty");var n=t.slice(0,this.retainCount).reduce(function(e,t){return e.concat(t.getRenderingElements())},[]);t.slice(this.retainCount).forEach(function(t){e.btnList.append(t)}),t.length>this.retainCount&&n.push(this.btnList.moreElement),n.push(this.btnList.element);var i=this.$temporaries.children().reduce(function(e,t){return e.concat(t.getRenderingElements())},[]);this.diffRenderer(this.element,n.concat(i)),this.btnList.updateShrinkComponents(t.slice(this.retainCount))}}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.btnList.mounted();var n=function(){e.isDestroyed||e.updateShrinkStatus()};"screen"===this.according?(window.addEventListener("resize",n),this.addDestroyHook(function(){window.removeEventListener("resize",n)})):this.addDestroyHook((0,z.observeResize)(this.getRoot().element,n)),this.updateShrinkStatus()}},{key:"updateShrinkStatus",value:function(){if(!(this.shrinkSize<=0)){var e;if("screen"===this.according)e=window.innerWidth;else{var t=this.getRoot();if(t.isDestroyed)return;e=t.element.offsetWidth}if(e<=this.shrinkSize){var n=!this.isShrinked;this.element.classList.add("shrink"),this.isShrinked=!0,n&&(this.parent.trigger("shrink",this,!0),this.trigger("shrink",!0))}else{var i=this.isShrinked;this.element.classList.remove("shrink"),this.isShrinked=!1,i&&(this.parent.trigger("shrink",this,!1),this.trigger("shrink",!1))}}}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this),this.btnList.destroy()}}],[{key:"getName",value:function(){return"group"}}]),t}(ta),Sa=(n(6845),function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"getContainerElement",value:function(){return this.element}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-grouplist",Do.gC)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"insert",value:function(e,n,i){if((0,T._)(e,Ea)||(0,T._)(e,Zo.wA)&&e.isIgnorable())return(0,E._)((0,S._)(t.prototype),"insert",this).call(this,e,n);if("string"!=typeof e){if((0,T._)(e,Ea)||e.isIgnorable())return(0,E._)((0,S._)(t.prototype),"insert",this).call(this,e,n);throw new Error("child of <group-list> component must be <group> but actual <".concat(e.viewConfig.nodeName,">"))}var r=this.context.parser.parse(e,i);try{return this.insert(r,n)}finally{this.isMounted&&r.mounted()}}}],[{key:"getName",value:function(){return"group-list"}},{key:"getMetadata",value:function(){return{options:{"shrink-size":{type:"number",field:"shrinkSize",defaultValue:1024}}}}}]),t}(ta)),Ia=(n(3731),function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).lastActiveTab=null,r}return(0,I._)(t,e),(0,D._)(t,[{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.children(),t=e.map(function(e){return e.tabElement}),n=e.map(function(e){return e.getContainerElement()});this.diffRenderer(this.tabContainer,t),this.diffRenderer(this.tabBodyContainer,n)}}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-tab"),this.tabContainer=document.createElement("ul"),this.tabBodyContainer=document.createElement("div"),this.tabContainer.classList.add("fv__ui-tab-nav"),this.tabBodyContainer.classList.add("fv__ui-tab-body"),this.element.appendChild(this.tabContainer),this.element.appendChild(this.tabBodyContainer)}},{key:"postlink",value:function(){var e=this.$container.findFirst(function(e){return e.getConfig("active")});e||(e=this.$container.findFirst(function(e){return e.isVisible})),e&&e.active()}},{key:"getVisibleTabs",value:function(){return this.children().filter(function(e){return!!e.tabElement&&e.isDOMVisible()})}},{key:"getFirstTab",value:function(){return this.getVisibleTabs()[0]}},{key:"getLastTab",value:function(){var e=this.getVisibleTabs();return e[e.length-1]}},{key:"getPreviousOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return 0===n?this.getLastTab():n>-1?t[n-1]:e}},{key:"getNextOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return n===t.length-1?this.getFirstTab():n>-1?t[n+1]:e}}],[{key:"getName",value:function(){return"tabs"}}]),t}(ta)),Ta=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).title=e.title||r.attrs.title,r.iconCls=e.iconCls||r.attrs["icon-cls"]||r.attrs["icon-class"],delete r.attrs.title,r}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this);var e=this.tabElement||document.createElement("li");e.innerHTML="\n            ".concat(this.iconCls?'<i class="fv__ui-tab-icon '.concat(this.iconCls||"",'"></i>'):"",'\n            <span data-i18n="').concat(this.title||"",'"></span>\n        '),this.tabElement=e}},{key:"doActive",value:function(){this.tabElement.classList.add("active"),this.element.classList.add("active");var e=this.parent;e&&(e.lastActiveTab&&e.lastActiveTab!==this&&e.lastActiveTab.deactive(),e.lastActiveTab=this),this.broadcast("active",this)}},{key:"doDeactive",value:function(){this.tabElement.classList.remove("active"),this.element.classList.remove("active")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.tabElement.addEventListener("click",function(t){e.disabled||e.active(),t.stopPropagation(),t.preventDefault()})}},{key:"remove",value:function(){this.parent&&(this.isActive&&this._activeSibling(),(0,E._)((0,S._)(t.prototype),"remove",this).call(this))}},{key:"_activeSibling",value:function(){for(var e=this.nextSiblings();e&&!e.isVisible;)if((e=e.nextSiblings())||(e=this.parent.first()),e===this)return void(this.parent.first()&&this.parent.first().active());e&&e.active()}},{key:"removeElement",value:function(){(0,E._)((0,S._)(t.prototype),"removeElement",this).call(this),this.tabElement.remove()}},{key:"doHidden",value:function(){(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.tabElement.classList.add("fv__ui-hide"),this.isActive&&this._activeSibling()}},{key:"doShown",value:function(){(0,E._)((0,S._)(t.prototype),"doShown",this).call(this),this.tabElement.classList.remove("fv__ui-hide")}},{key:"updateActiveStatus",value:function(){var e=this.active,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()}},{key:"addCSSClass",value:function(e){e&&((0,E._)((0,S._)(t.prototype),"addCSSClass",this).call(this,e),this.tabElement.classList.add(e))}},{key:"removeCSSClass",value:function(e){e&&((0,E._)((0,S._)(t.prototype),"removeCSSClass",this).call(this,e),this.tabElement.classList.remove(e))}},{key:"isDOMVisible",value:function(){return this.tabElement.getClientRects().length>0}},{key:"focus",value:function(){this.tabElement.focus()}}],[{key:"getName",value:function(){return"tab"}}]),t}(ta),Ma=n(1660),Ra=n.n(Ma),Fa=(n(3985),function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).ctrlElement=document.createElement("a"),r.headerElement=document.createElement("div"),r.titleElement=document.createElement("span"),r.bodyElement=document.createElement("div");var o=r.viewConfig.attrs;return r.iconCls=e.iconCls||o["icon-cls"]||o["icon-class"],r.title=e.title||o.title,delete o.title,r}return(0,I._)(t,e),(0,D._)(t,[{key:"doInsert",value:function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"getContainerElement",value:function(){return this.bodyElement}},{key:"getSlotContainer",value:function(e){return"header"===e?this.headerElement:(0,E._)((0,S._)(t.prototype),"getSlotContainer",this).call(this,e)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.ctrlElement.classList.add("fv__ui-sidebar-nav-ctrl"),this.ctrlElement.innerHTML='<i class="fv__ui-sidebar-nav-icon '.concat(this.iconCls,'"></i>'),this.headerElement.classList.add("fv__ui-sidebar-panel-header"),this.titleElement.classList.add("fv__ui-sidebar-panel-title"),this.bodyElement.classList.add("fv__ui-sidebar-panel-body"),this.headerElement.appendChild(this.titleElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement),this.titleElement.setAttribute("data-i18n",this.title)}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"doActive",value:function(){if(this.element.classList.add("active"),this.ctrlElement.classList.add("active"),this.parent){var e=this.parent.lastActivePanel;e&&e!==this&&e.deactive(),this.parent.lastActivePanel=this,this.fullwidth&&this.parent.enableFullWidth(),this.parent.expand()}this.broadcast("active",this)}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.ctrlElement.classList.remove("active"),this.fullwidth&&this.parent.disableFullWidth(),this.broadcast("deactive",this)}},{key:"doDisable",value:function(){this.ctrlElement.classList.add("disabled"),(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this)}},{key:"doEnable",value:function(){this.ctrlElement.classList.remove("disabled"),(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.ctrlElement.addEventListener("click",function(t){e.disabled||(e.isActive?e.parent.collapse():e.active())})}},{key:"doHidden",value:function(){this.parent&&this.isActive&&this._activeSibling(),(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),(0,z.addClass)(this.ctrlElement,"fv__ui-hide")}},{key:"doShown",value:function(){(0,E._)((0,S._)(t.prototype),"doShown",this).call(this),(0,z.removeClass)(this.ctrlElement,"fv__ui-hide")}},{key:"removeElement",value:function(){this.ctrlElement.remove(),this.element.remove()}},{key:"remove",value:function(){if(this.parent)return this.parent.isDestroyed||this.isActive&&this._activeSibling(),(0,E._)((0,S._)(t.prototype),"remove",this).call(this)}},{key:"_activeSibling",value:function(){var e=this.nextSiblings();e||(e=this.parent.first()),e&&e.active()}},{key:"updateDisableStatus",value:function(){this.disabled?this.ctrlElement.classList.add("disabled"):this.ctrlElement.classList.remove("disabled")}},{key:"updateActiveStatus",value:function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()}},{key:"addCSSClass",value:function(e){e&&((0,E._)((0,S._)(t.prototype),"addCSSClass",this).call(this,e),this.ctrlElement.classList.add(e))}},{key:"removeCSSClass",value:function(e){e&&((0,E._)((0,S._)(t.prototype),"removeCSSClass",this).call(this,e),this.ctrlElement.classList.remove(e))}},{key:"getTooltipAnchor",value:function(){return this.ctrlElement}},{key:"focus",value:function(){this.ctrlElement.focus()}},{key:"hasFocus",value:function(){return this.ctrlElement===document.activeElement}}],[{key:"getName",value:function(){return"sidebar-panel"}},{key:"getMetadata",value:function(){return{options:{fullwidth:{type:"boolean",default:!1}}}}}]),t}(ta));var Na=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).width<1&&(r.width*=window.innerWidth),r.maxWidth=r.normalizeMaxWidthIntoPx(),r.expandWidth=r.width,r.adjustingWidth=r.element.width,r.status=t.STATUS_COLLAPSED,r.lastActivePanel=null,r.autoVisible=!r.attrs.autovisible||"false"!=r.attrs.autovisible,r.isCollaborationMode=!1,r.addDestroyHook(function(){clearTimeout(r.redrawViewerTimer)}),r}return(0,I._)(t,e),(0,D._)(t,[{key:"collapsedWidth",get:function(){return function(e){if(0!==ha)return ha;var t=e.navElement.offsetWidth,n=e.draggerElement.offsetWidth;if(z.isSafari&&window.innerWidth-t<40){var i=function(e){var t=function(e){return parseFloat(e)||0},n=getComputedStyle(e),i=n.boxSizing,r=t(n.borderLeftWidth)+t(n.borderRightWidth);return Math.max(Math.min(t(n.width),t(n.maxWidth)),t(n.minWidth))+r+("border-box"===i?0:t(n.paddingLeft)+t(n.paddingRight))};t=i(e.navElement),n=i(e.draggerElement)}return ha=t+n}()||0}},{key:"collapseThresholdWidth",get:function(){return 2.3*(this.collapsedWidth||47)}},{key:"totallyCollapsedWidth",get:function(){return this.draggerElement.offsetWidth||12}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-sidebar"),this.element.innerHTML=Ra()({}),this.togglerElement=this.element.querySelector(".fv__ui-sidebar-toggler"),this.draggerElement=this.element.querySelector(".fv__ui-sidebar-dragger"),this.draggerTogglerElement=this.draggerElement.querySelector(".toggler"),this.navElement=this.element.querySelector(".fv__ui-sidebar-nav"),this.bodyElement=this.element.querySelector(".fv__ui-sidebar-body")}},{key:"doInsert",value:function(e){if(!e.isIgnorable()&&!(0,T._)(e,Fa))throw new Error("the type of the sidebar children must be <sidebar-panel>");this.rerenderChildren()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.children(),t=e.map(function(e){return e.ctrlElement}),n=e.reduce(function(e,t){return e.concat(t.getRenderingElements())},[]);this.diffRenderer(this.navElement,t),this.diffRenderer(this.bodyElement,n)}}},{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this)}},{key:"isCollapsed",value:function(){return this.status!==t.STATUS_EXPANDED}},{key:"_initStatus",value:function(){var e=this.$container.findFirst(function(e){return e.isVisible&&e.isActive});e&&e.isActive?(e.isActive=!1,e.active()):this.collapse(!1)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.width=this.element.offsetWidth,this._initStatus();var n,i=new Hammer.Manager(this.draggerElement);i.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL})),i.on("panstart",function(t){e.startresize(),n=t.deltaX,e.resize(n,t.direction),e.trigger(Do.qo.RESIZESTART),e.trigger(Do.qo.RESIZE)}),i.on("panmove",function(t){var i=t.deltaX-n,r=t.center,o=e.draggerElement.getBoundingClientRect().left;(r.x<o&&t.direction&Hammer.DIRECTION_RIGHT||r.x>o&&t.direction&Hammer.DIRECTION_LEFT)&&(i=0),e.resize(i,t.direction)&&e.trigger(Do.qo.RESIZE),n=t.deltaX}),i.on("panend",function(t){e.endresize()}),i.on("pancancel",function(t){e.cancelresize()}),this.addDestroyHook(function(){i.destroy()}),this.togglerElement.addEventListener("click",function(n){e.status!==t.STATUS_EXPANDED?e.expand():e.collapse()}),this.draggerTogglerElement.addEventListener("click",function(t){e.toggle()}),this.attachEventToElement(this.draggerElement,"mousedown touchstart",function(t){e.draggerElement.classList.add("active")}),this.attachEventToElement(this.draggerElement,"mouseup touchend",function(t){e.draggerElement.classList.remove("active")}),this.autoVisible||this.hide()}},{key:"startresize",value:function(){this.adjustingWidth=this.width}},{key:"normalizeMaxWidthIntoPx",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxWidth,n=function(){if(isFinite(t))return t;if((0,z.isString)(t)){var n=(0,M._)(/^(\d+(\.\d+)?)(\w*|%)$/.exec(t)||[],4),i=n[1];if(!n[3])return parseFloat(i);var r=e.element.style.maxWidth;e.element.style.maxWidth=t;try{return parseFloat(getComputedStyle(e.element).maxWidth)}finally{e.element.style.maxWidth=r}}return 480}();return n<1||!isFinite(n)?480:n}},{key:"setMaxWidth",value:function(e){this.maxWidth=this.normalizeMaxWidthIntoPx(e)}},{key:"resize",value:function(e,t){var n=this.adjustingWidth+e,i=t&Hammer.DIRECTION_LEFT,r=t&Hammer.DIRECTION_RIGHT,o=this.maxWidth;if(n<=this.collapseThresholdWidth&&i)return!this.isCollapsed()&&(this.collapse(),this.adjustingWidth=this.element.offsetWidth,!0);if(n>=o&&r)return!1;if(r&&this.isCollapsed()){if(this.expand(),!this.lastActivePanel){var a=this.findChildren(function(e){return e.isVisible&&e.isActive},!1)[0];if(a)a.active();else{var s=this.findChildren(function(e){return e.isVisible},!1)[0];s&&s.active()}}this.setWidth(this.collapseThresholdWidth),this.redrawViewer(),this.adjustingWidth=this.collapseThresholdWidth}else this.adjustingWidth=n,this.element.style.width=n+"px";return!0}},{key:"endresize",value:function(){this.width=this.adjustingWidth,this.isCollapsed()||(this.expandWidth=this.adjustingWidth),this.setWidth(this.width),this.redrawViewer()}},{key:"cancelresize",value:function(){this.adjustingWidth=this.width,this.setWidth(this.width),this.redrawViewer()}},{key:"enableFullWidth",value:function(){this.isFullWidth=!0,this.element.classList.add("fv__ui-sidebar-full-width")}},{key:"disableFullWidth",value:function(){this.isFullWidth=!1,this.element.classList.remove("fv__ui-sidebar-full-width")}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.expandWidth;if(this.trigger(Do.qo.BEFORE_EXPAND),this.setWidth(e),this.redrawViewer(),this.isFullWidth&&(this.element.style.width=""),this.element.classList.remove("collapse","collapse-totally"),this.element.classList.add("expand"),this.lastActivePanel)this.lastActivePanel.active();else for(var n=this.$container.size(),i=0;i<n;i++){var r=this.childAt(i);if((0,T._)(r,Fa)){r.active();break}}this.$lastStatus=this.status,this.status=t.STATUS_EXPANDED,this.trigger(Do.qo.EXPAND)}},{key:"collapse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._collapse(this.collapsedWidth),e&&this.redrawViewer(),this.element.classList.add("collapse"),this.$lastStatus=this.status,this.status=t.STATUS_COLLAPSED}},{key:"collapseTotally",value:function(){this._collapse(this.totallyCollapsedWidth),this.redrawViewer(),this.element.classList.add("collapse-totally"),this.$lastStatus=this.status,this.status=t.STATUS_COLLAPSED_TOTALLY}},{key:"toggle",value:function(){this.status!==t.STATUS_COLLAPSED_TOTALLY?(this.$lastStatus=this.status,this.collapseTotally()):this.$lastStatus===t.STATUS_COLLAPSED?this.collapse():this.expand()}},{key:"_collapse",value:function(e){this.status===t.STATUS_EXPANDED&&(this.expandWidth=this.width),this.element.classList.remove("collapse","expand","collapse-totally"),this.setWidth(e),this.lastActivePanel&&this.lastActivePanel.deactive(),this.trigger(Do.qo.COLLAPSE)}},{key:"setWidth",value:function(e){if(!e)return this.element.style.width="auto",void(this.width=this.element.offsetWidth);this.element.style.width=e+"px",this.width=e}},{key:"redrawViewer",value:function(){}},{key:"isPortfolioDoc",value:function(){var e=this.getPDFUI().pdfViewer.currentPDFDoc;return e&&!!e.pdfPortfolio}},{key:"activePanel",value:function(e){var t=this.children().find(function(t){return t.name===e});t&&(t.isVisible||t.show(),t.active(),this.trigger("activePanel",e))}},{key:"switchToSidebarPanelByComponentName",value:function(e){"collapsed"===this.status||"collapsed-totally"===this.status?(this.show(),this.expand(),this.activePanel(e)):this.lastActivePanel.name===e?this.collapse():this.activePanel(e)}}],[{key:"STATUS_COLLAPSED",get:function(){return"collapsed"}},{key:"STATUS_COLLAPSED_TOTALLY",get:function(){return"collapsed-totally"}},{key:"STATUS_EXPANDED",get:function(){return"expanded"}},{key:"getName",value:function(){return"sidebar"}},{key:"getMetadata",value:function(){return{options:{width:{type:"number",defaultValue:310},open:{type:"boolean",field:"isOpenAtStart",defaultValue:!1},"max-width":{type:"string",defaultValue:"480",field:"maxWidth"}}}}}]),t}(ta),La=n(7085),Oa=n.n(La),ja=(n(7978),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getContainerElement",value:function(){return this.$body.get(0)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.innerHTML=Oa()(),this.$element=ca()(this.element),this.$header=ca()("[name=header]",this.$element),this.$icon=ca()("[name=icon]",this.$element),this.$text=ca()("[name=text]",this.$element),this.$body=ca()("[name=body]",this.$element),this.$text.attr("data-i18n",this.headerText),this.defaultOpen?this.open():this.close()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.$header.on("click",function(t){e.$body.is(":visible")?e.close():e.open()})}},{key:"open",value:function(){this.$body.show(),this.$icon.removeClass("right right-bottom").addClass("right-bottom")}},{key:"close",value:function(){this.$body.hide(),this.$icon.removeClass("right right-bottom").addClass("right")}}],[{key:"getName",value:function(){return"collapse-panel"}},{key:"getMetadata",value:function(){return{options:{headerText:{type:"string",required:!0},defaultOpen:{type:"boolean",defaultValue:!0}}}}}]),t}(ta)),Ba=n(9185),Va="data-i18n",Ha="data-i18n-title",Ua=z.LoggerFactory.getLogger("Localizer"),za=Promise.resolve(),Wa=new DOMParser,Ya=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,C._)(this,e),this.i18next=t,this.options=i,this.languageChangeCallbacks=[],this.flatdatas={},this.i18next.on("languageChanged",function(e){z.dayjs.locale(e),n.languageChangeCallbacks=n.languageChangeCallbacks.filter(function(e){return!e.cancelled}),n.languageChangeCallbacks.forEach(function(e){return e()})}),this.i18next.store.on("added",function(e,t){n.flatLanguageData(e,t)}),t.options.ns.indexOf("viewer_")>-1)this.i18nPromise=za;else{var r=(0,z.createDeferred)();if(t.isInitialized)t.loadNamespaces("viewer_",function(){r.resolve()});else{var o=function(){t.loadNamespaces("viewer_",function(){r.resolve()}),n.i18next.off("loaded",o)},a=function(e,t,i){r.reject(i),n.i18next.off("failLoading",a)};this.i18next.on("loaded",o),this.i18next.on("failLoading",a)}this.i18nPromise=r.promise}this.isI18nPrepared=!1,this.i18nPromise.then(function(){n.isI18nPrepared=!0})}return(0,D._)(e,[{key:"flatLanguageData",value:function(e,t){var n=this.i18next,i=e||this.getLanguage(),r=n.getDataByLanguage(i)[t],o={},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e)o[t]=e;else for(var n in e)a(e[n],(""===t?t:t+".")+n)};a(r);var s=i+":"+t;this.flatdatas[s]=o}},{key:"waitForInitialized",value:function(){return this.i18nPromise}},{key:"getLanguage",value:function(){return this.i18next.language}},{key:"watch",value:function(e,t,n,i){var r=this,o=!1,a=function(){if(!o){var a="function"==typeof e?e():e;n||(n=a),r.translate(a,t,n).then(function(e){o||i(e)})}};return this.languageChangeCallbacks.push(a),a(),function(){o=!0,a.cancelled=!0}}},{key:"watcher",value:function(e,t){var n=this,i=new z.Watcher,r=function(e){return"function"==typeof e?e():e};i.onUpdate((0,z.debounce)(function(){var o=r(e),a=r(t);if(n.isI18nPrepared){var s=n.translateSync(o,a,o);i.handle(s)}else n.translate(o,a,o).then(function(e){i.isDestroyed||i.handle(e)})},30));var o=this.i18next;return this.waitForInitialized().then(function(){if(!i.isDestroyed){var e=function(){return i.update()};i.addDestroyHook(function(){o.off("languageChanged",e)}),o.on("languageChanged",e)}}),i}},{key:"translate",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return this.isI18nPrepared?Promise.resolve(this.translateSync(e,t,i)):this.i18nPromise.then(function(){return n.translateSync(e,t,i)})}},{key:"translateSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if("string"!=typeof e)return n;var i=e.trim(),r=this.i18next.options.defaultNS||"ui_",o=e,a=i.indexOf(":");a>-1&&(r=i.substring(0,a),o=i.substring(a+1));var s=this.getLanguage()+":"+r,A=this.flatdatas[s],c=A?A[o]:void 0;if(c&&-1===c.indexOf("{{"))return c;t=Object.assign({},t,{defaultValue:n});var u=this.i18next.t(e,t);return void 0===u?n:u}},{key:"localizeRecursive",value:function(e,t){var n=this;t=Object.assign({},this.options,t||{});var i=function(){n.localizeElementSync(e,t);var i=e.querySelectorAll("[data-i18n]"),r=e.querySelectorAll("[".concat(Ha,"]"));i.forEach(function(e){return n.localizeElementSync(e,t)}),n.localizeElementTitleSync(e,t),r.forEach(function(e){return n.localizeElementTitleSync(e,t)})};return this.isI18nPrepared?(i(),za):this.i18nPromise.then(i)}},{key:"localizeElementTitle",value:function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementTitleSync(e,t),za):this.i18nPromise.then(function(){n.localizeElementTitleSync(e,t)})}},{key:"localizeElementTitleSync",value:function(e,t){var n=e.getAttribute(Ha);if("string"==typeof n&&0!==(n=n.trim()).length){var i=this.translateSync(n,t,n);e.title!==i&&(e.title=i)}}},{key:"localizeElement",value:function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementSync(e,t),za):this.i18nPromise.then(function(){n.localizeElementSync(e,t)})}},{key:"localizeElementSync",value:function(e,t){if(e&&e.hasAttribute(Va)){var n=(e.getAttribute(Va)||"").trim(),i=e.getAttribute("i18n-target");if(!i||e.querySelector(i)){var r=e.getAttribute("i18n-options");if(r){var o=JSON.parse(r);t=t?Object.assign({},o,t):o}this._parseElement(e,n,t)}else Ua.warn("No target found of selector: ".concat(i))}}},{key:"_parseElement",value:function(e,t,n){var i=this,r="text",o=t.replace("[origin]",""),a=t.indexOf("[origin]")>-1;if("["===o[0]){var s=o.indexOf("]");-1!==s&&(r=o.substring(1,s),o=o.substring(s+1))}var A=function(t){var r=t,o=""===t||a?t:i.translateSync(t,n,r),s=e.childNodes;if(1===s.length&&(0,T._)(s.item(0),Text)){var A=s.item(0);if(A.textContent!==o)return void(A.textContent=o)}e.textContent!=o&&(e.textContent=o)};switch(r){case"html":!function(t){var r=e.innerHTML.trim().length>0?e.innerHTML:t,o=a?t:i.translateSync(t,n,r),s=Wa.parseFromString("\n                <div>\n                ".concat(o,"\n                </div>\n            "),"text/html");e.innerHTML="";var A=s.body.firstElementChild;A.querySelectorAll("script,style, link").forEach(function(e){var t=document.createTextNode(e.textContent);e.replaceWith(t)}),A.childNodes.length,A.childNodes.forEach(function(t,n){e.appendChild(t.cloneNode(!0))})}(o);break;case"value":var c=o,u=a?c:this.translateSync(o,n,c);e.value!==u&&(e.value=u);break;case"text":A(o);break;default:if(0===r.indexOf("data-")){var l=r.substring(5),d=a?o:this.translateSync(o,n,e.dataset[l]);e.dataset[l]=d}else{if(this.i18next.t(o)!==o){var h=a?o:this.translateSync(o,n,o);e.getAttribute(r)!==h&&e.setAttribute(r,h)}else A(t)}}}}]),e}(),Ga=function(e){function t(e,n,i){var r;return(0,C._)(this,t),r=(0,P._)(this,t,[e,n,i]),e.iconCls&&(r.iconCls=e.iconCls),r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("label");e.classList.add("fv__ui-fileselector-label"),this.labelElement=e;var t,n=this.createInputElement();return this.inputElement=n,this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon"),(0,T._)(this.parent,ba)?((t=document.createElement("li")).classList.add("fv__ui-dropdown-button"),e.classList.add("fv__ui-dropdown-item-label")):t=document.createElement("a"),this.orderedElementsManager=new ko(e,[this.iconElement,this.inputElement,this.textElement]),this.orderedElementsManager.mount(this.inputElement),t}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-fileselector"),this.renderInputElement(this.inputElement),this.element.appendChild(this.labelElement),this.element.setAttribute("tabindex","0")}},{key:"setAccept",value:function(e){this.accept=e,this.renderInputElement(this.inputElement)}},{key:"createInputElement",value:function(){var e=document.createElement("input");return e.classList.add("fv__ui-fileselector-input"),e.setAttribute("type","file"),this.renderInputElement(e),e}},{key:"renderInputElement",value:function(e){if(e.setAttribute("accept","*.*"),this.accept){var t=this.accept;if(z.isMiuiBrowser||z.isQQ||z.isWeChat){var n=t.split(/[;,]/).filter(function(e){return"*.*"!==e}).map(function(e){return e.replace(/^\*?\.(.+)/,function(e,t){return(0,z.extToMimeType)(t,"."+t)})});t=n.join(";")}t&&e.setAttribute("accept",t)}this.multiple?e.setAttribute("multiple",""):e.removeAttribute("multiple")}},{key:"mounted",value:function(){var e=this;Zo.wA.prototype.mounted.call(this);var t=function(n){if(!e.disabled)try{var i=function(e){var t=e.target.files?e.target.files:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files);if(t)return Array.prototype.slice.call(t,0);return[]}(n)||[];e.multiple?(e.controller.handle(i,n),e.trigger("change",i)):(e.controller.handle(i[0],n),e.trigger("change",i[0]))}finally{var r=e.createInputElement();r.addEventListener("change",t),e.orderedElementsManager.replaceElement(e.inputElement,r),e.inputElement=r}},n=function(t){var n=z.matchers.Enter,i=z.matchers.Space,r=z.matchers.or;if((0,z.isMatch)(t,r(n,i))){var o=(0,z.createClickEvent)(t);o.stopPropagation(),e.inputElement.dispatchEvent(o),t.stopPropagation(),t.preventDefault()}};this.inputElement.addEventListener("change",t),this.element.addEventListener("keydown",n),this.addDestroyHook(function(){e.inputElement.removeEventListener("change",t),e.element.removeEventListener("keydown",n)})}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled","disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"triggerHandler",value:function(){this.inputElement.click()}}],[{key:"getName",value:function(){return"file-selector"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},action:{type:"string"},multiple:{type:"boolean",defaultValue:!1},accept:{resolve:function(e){var t=e.$options,n=e.attrs,i=t.accept||n.accept;return"string"==typeof i?i.split(/[\s;]/):Array.isArray(i)?i.join(";"):"*.*"}},"icon-class":{type:"string",field:"iconCls"}}}}}]),t}(wa);n(7348);var $a=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-toolbar")}}],[{key:"getName",value:function(){return"toolbar"}}]),t}(ta),Ja=(z.LoggerFactory.getLogger("TextComponent"),function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).textContent=r.viewConfig.textContent,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){this.localize()}},{key:"renderElementId",value:function(){}},{key:"remove",value:function(){var e=this.parent;e?e.removeText(this)||e.isContainer()&&e.removeChild(this):this.removeElement()}},{key:"setText",value:function(e){this.textContent=e+"",this.localize()}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doHidden",value:function(){}},{key:"doShown",value:function(){}},{key:"doDisable",value:function(){}},{key:"doEnable",value:function(){}},{key:"doLocalize",value:function(){var e=this;return this.localizer.translate(this.textContent,{},this.textContent).then(function(t){e.isDestroyed||e.element.parentNode&&e.element.textContent!==t&&(e.element.textContent=t)})}},{key:"sync",value:function(e,n){return"text"===e?(this.setText(n),!0):(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n)}},{key:"doDestroy",value:function(){if(this.parent){var e=this.parent.texts.indexOf(this);e>-1&&this.parent.texts.splice(e,1)}(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"text"}}]),t}(Zo.wA)),qa=(n(9378),function(e){function t(e,n,i){var r;(0,C._)(this,t);var o=(r=(0,P._)(this,t,[e,n,i])).controller._sandbox;return r.controller._sandbox=function(){var e=Object.create(o.call(r.controller));return Object.defineProperty(e,"$component",{get:function(){return r.parent}}),e},r.setText(r.text),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setText",value:function(e){var t=this;this.unwatch&&this.unwatch(),this.unwatch=this.controller.watchImm(e,function(e){t.textContent=void 0===e?"":e+"",t.localize()}),this.text=e}},{key:"renderElementId",value:function(){}},{key:"sync",value:function(e,t){return Component.prototype.sync.call(this,e,t)}},{key:"doDestroy",value:function(){this.unwatch(),(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"placeholder-text"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string",required:!0}}}}}]),t}(Ja)),Ka=function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).text=e.text||r.viewConfig.textContent||"",r.iconCls=e.iconCls||r.viewConfig.attrs["icon-class"],r.isFileSelector=e.isFileSelector||"file-selector"in r.attrs&&"false"!==r.attrs["file-selector"],r.action=e.action||r.attrs.action;var o=e.accept||r.viewConfig.attrs.accept;return"string"==typeof o?r.accept=o:Array.isArray(o)?r.accept=o.join(";"):r.accept="*.*",r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doDisable",value:function(){(0,z.addClass)(this.element,"disabled"),this.isFileSelector&&this.inputElement.setAttribute("disabled","disabled")}},{key:"doEnable",value:function(){(0,z.removeClass)(this.element,"disabled"),this.isFileSelector&&this.inputElement.removeAttribute("disabled")}},{key:"doActive",value:function(){(0,z.addClass)(this.element,"active")}},{key:"doDeactive",value:function(){(0,z.removeClass)(this.element,"active")}},{key:"render",value:function(){this.textElement=document.createElement("span");var e=this.iconElement=document.createElement("i");if(this.element.classList.add("fv__ui-dropdown-button"),this.isFileSelector){var n=document.createElement("label"),i=document.createElement("input");if(this.inputElement=i,this.labelElement=n,this.element.classList.add("fv__ui-dropdown-button-file"),n.classList.add("fv__ui-dropdown-item-label"),i.classList.add("fv__ui-dropdown-item-input"),i.setAttribute("type","file"),this.accept){var r=this.accept;z.isMiuiBrowser&&(r=r.split(/[;]/).filter(function(e){return"*.*"!==e}).map(function(e){return e.replace(/^\*?\./,"application/")}).join(";")),r&&i.setAttribute("accept",r)}this.elementManager=new ko(n,[i,e,this.textElement]),this.elementManager.mount(i),this.element.appendChild(n)}else this.elementManager=new ko(this.element,[e,this.textElement]);this.setIconCls(this.iconCls),(0,E._)((0,S._)(t.prototype),"render",this).call(this)}},{key:"setIconCls",value:function(e){if(e){var t=this.iconElement;this.iconCls=e,t.addClass("fv__ui-dropdown-button-icon"),t.addClass(this.iconCls),this.elementManager.mount(this.iconElement)}}},{key:"renderText",value:function(){var e=this,t=this.textElement;return t.classList.add("fv__ui-dropdown-item-text"),this.textElement.innerText="",this.text&&this.text.length>0?(this.textElement.setAttribute("data-i18n","[text]"+this.text),this.elementManager.mount(t)):this.texts.length>0&&(this.texts.forEach(function(t){e.textElement.appendChild(t.element)}),this.elementManager.mount(t)),t}},{key:"mounted",value:function(){var e=this;if((0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.isFileSelector){var n=function(t){if(!e.disabled)try{var i=function(e){var t=e.target.files?e.target.files[0]:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files[0]);return t}(t);e.controller.handle(i,t),e.trigger("change",i)}finally{var r=document.createElement("input");r.classList.add("fv__ui-dropdown-item-input"),r.setAttribute("type","file"),r.setAttribute("accept",e.accept),r.addEventListener("change",n),e.inputElement.after(r),e.inputElement.remove(),e.inputElement=r}},i=function(t){e.trigger("click"),t.stopPropagation()};this.inputElement.addEventListener("click",i),this.inputElement.addEventListener("change",n),this.addDestroyHook(function(){e.inputElement.removeEventListener("click",i),e.inputElement.removeEventListener("change",n)})}else{this.addEventListener("click",function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.stopPropagation())})}var r=z.matchers.or,o=z.matchers.Enter,a=z.matchers.Space;this.attachEventToElement(this.element,"keydown",function(e){(0,z.isMatch)(e,r(o,a))&&(e.preventDefault(),e.stopPropagation())}),this.addDestroyHook((0,z.attachKeypressEvent)(this.element,function(t){var n=(0,z.createClickEvent)(t);e.element.dispatchEvent(n),t.stopPropagation()},r(o,a)))}},{key:"addEventListener",value:function(e,t){var n=this;this.element.addEventListener(e,t),this.addDestroyHook(function(){n.element.removeEventListener(e,t)})}},{key:"triggerHandler",value:function(){this.isFileSelector?this.inputElement.click():this.element.click()}},{key:"localize",value:function(){return this.localizer.localizeElement(this.textElement)}},{key:"acceptText",value:function(){return!0}},{key:"sync",value:function(e,n){return!!(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n)||"text"===e&&(n&&(this.textElement.parentElement?this.textElement.setAttribute("data-i18n",n):this.setText(n),this.localizer.localizeElement(this.textElement)),!0)}}],[{key:"getName",value:function(){return"dropdown-button"}}]),t}(Zo.wA);var Za=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).title=e.title||r.attrs.title,r}return(0,I._)(t,e),(0,D._)(t,[{key:"doInsert",value:function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.titleElement=document.createElement("span"),this.caretElement=document.createElement("i"),this.headerElement=document.createElement("div"),this.headerButtonElement=document.createElement("button"),this.bodyElement=document.createElement("div"),this.element.classList.add("fv__ui-accordion-card"),this.headerElement.classList.add("fv__ui-accordion-card-header"),this.headerButtonElement.classList.add("fv__ui-accordion-card-header-button"),this.bodyElement.classList.add("fv__ui-accordion-card-body"),this.caretElement.classList.add("fv__icon-toolbar-caret"),this.titleElement.setAttribute("data-i18n",this.title),this.headerElement.appendChild(this.headerButtonElement),this.headerButtonElement.appendChild(this.titleElement),this.headerButtonElement.appendChild(this.caretElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=function(){e.isActive?e.deactive():e.active()};this.headerButtonElement.addEventListener("click",n),this.addDestroyHook(function(t){return e.headerButtonElement.removeEventListener("click",n)})}},{key:"setTitle",value:function(e){this.title=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement)}},{key:"getContainerElement",value:function(){return this.bodyElement}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"doActive",value:function(){if((0,E._)((0,S._)(t.prototype),"rerenderChildren",this).call(this),this.element.classList.add("active"),this.parent&&this.parent.singleton){var e=this.parent.lastActiveCard;e&&e!==this&&e.deactive(),this.parent.lastActiveCard=this}}},{key:"doDeactive",value:function(){this.$container.children().forEach(function(e){return e.removeElement()}),this.element.classList.remove("active")}},{key:"rerenderChildren",value:function(){this.isActive&&(0,E._)((0,S._)(t.prototype),"rerenderChildren",this).call(this)}},{key:"acceptText",value:function(){return!0}},{key:"appendText",value:function(e){(0,E._)((0,S._)(t.prototype),"appendText",this).call(this,e)}}],[{key:"getName",value:function(){return"accordion-card"}}]),t}(ta),Xa=(n(2547),function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).singleton=!!e.singleton||"true"===r.attrs.singleton,r}return(0,I._)(t,e),(0,D._)(t,[{key:"doInsert",value:function(e,t){if(!(0,T._)(e,Za)&&!e.isIgnorable())throw new Error("the typeof the accordion children must be <accordion-card>");var n=this.element.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"activeAll",value:function(){this.$container.each(function(e){return e.active()})}},{key:"deactiveAll",value:function(){this.$container.each(function(e){return e.deactive()})}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this)}}],[{key:"getName",value:function(){return"accordion"}}]),t}(ta)),Qa=n(1182),es=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t=parseFloat(t),"number"==typeof e&&isFinite(e)?e:isFinite(t)?t:n},ts=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).component=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){var t=this.component,n=t.prefix,i=t.suffix;this.component.element.value="".concat(n).concat(e).concat(i)}}]),t}(To),ns=function(e){function t(e,n,i){var r;(0,C._)(this,t),r=(0,P._)(this,t,[e,n,i]);var o=es(e.min,r.attrs.min,-1/0),a=es(e.max,r.attrs.max,1/0),s=es(e.step,r.attrs.step,1);return r.range=new aa(o,a,s),r.min=r.range.min,r.max=r.range.max,r.step=r.range.step,r.setValue(r.min),r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("input")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-number"),this.element.setAttribute("autocomplete","nope"),this.element.setAttribute("type","text"),this.fieldName&&this.setFieldName(this.fieldName)}},{key:"getForwardedEvents",value:function(){var e=(0,E._)((0,S._)(t.prototype),"getForwardedEvents",this).call(this),n=e.indexOf("change");return e.splice(n,1),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=new Qa.Z(this,"value");this.addDestroyHook(n.connect(new ts(this)));var i=function(){e.triggerChangeEvent()};this.element.addEventListener("change",i),this.addDestroyHook(function(){e.element.removeEventListener("change",i)}),this.setValue(this.value)}},{key:"createEventListener",value:function(e){var n=this;return"change"===e?function(){n.triggerChangeEvent()}:(0,E._)((0,S._)(t.prototype),"createEventListener",this).call(this,e)}},{key:"triggerChangeEvent",value:function(){var e=this.element.value;e.indexOf(this.suffix)>-1&&(e=e.substring(0,e.length-this.suffix.length)),e.indexOf(this.prefix)>-1&&(e=e.substring(this.prefix.length));var t=this.value;this.setValue(e),this.trigger("change",this.value,t)}},{key:"setAttribute",value:function(e,n){switch(e){case"min":case"max":case"step":this.range[e]=parseFloat(n),this[e]=this.range[e];break;case"prefix":case"suffix":this[e]=n;break;default:(0,E._)((0,S._)(t.prototype),"setAttribute",this).call(this,e,n)}}},{key:"setValue",value:function(e){this.allowEmpty&&""===e?(this.value="",this.element.value="".concat(this.prefix).concat(this.suffix)):(this.value=this.range.normalizeValue(e),this.element.value="".concat(this.prefix).concat((0,z.number2String)(this.value)).concat(this.suffix))}},{key:"getValue",value:function(){return this.value}},{key:"increment",value:function(){this.value=this.range.increment(this.value)}},{key:"decrement",value:function(){this.value=this.range.decrement(this.value)}},{key:"setMax",value:function(e){this.max=e,this.setValue(this.value)}},{key:"setMin",value:function(e){this.min=e,this.setValue(this.value)}},{key:"sync",value:function(e,n){switch(e){case"min":this.setMin(n);break;case"max":this.setMax(n);break;default:return(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n)}return!0}},{key:"select",value:function(){this.element.focus(),this.element.setSelectionRange?this.element.setSelectionRange(0,99999):this.element.select()}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"number"}},{key:"getMetadata",value:function(){return{options:{prefix:{type:"string",defaultValue:""},suffix:{type:"string",defaultValue:""},"allow-empty":{type:"boolean",defaultValue:!1,field:"allowEmpty"}}}}}]),t}(ka),is=(n(8859),n(7482)),rs=n.n(is),os=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).iconCls=e.iconCls||r.iconCls,delete r.attrs.title,r}return(0,I._)(t,e),(0,D._)(t,[{key:"setTitle",value:function(e){this.title=e,this.titleElement.setAttribute("data-i18n",e),this.localizer.localizeElement(this.titleElement)}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,R._)(this.iconCls.split(/\s/))),(t=this.iconElement.classList).add.apply(t,(0,R._)(n.split(/\s/))),this.iconCls=n,this.iconElement.classList.remove("fv__ui-hide"),this.localizer.localizeElement(this.iconElement)}},{key:"setClosable",value:function(e){this.buttonsElement.classList.toggle("fv__ui-layer-header-unclosable",!e)}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-layer-header"),e.innerHTML=rs()(),this.iconElement=e.querySelector(".fv__ui-layer-header-icon"),this.titleElement=e.querySelector(".fv__ui-layer-header-title"),this.buttonsElement=e.querySelector(".fv__ui-layer-header-buttons"),this.buttonElementList=this.buttonsElement.querySelectorAll(".fv__ui-layer-header-button"),e}},{key:"render",value:function(){var e;((0,E._)((0,S._)(t.prototype),"render",this).call(this),this.titleElement.setAttribute("data-i18n",this.title),this.iconCls)?(e=this.iconElement.classList).add.apply(e,(0,R._)(this.iconCls.split(/\s/))):this.iconElement.classList.add("fv__ui-hide");this.setClosable(!!this.closable)}},{key:"rerenderChildren",value:function(){}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n={close:function(){var t=e.findClosestComponent(function(e){return(0,T._)(e,ss)});(t||e.parent).hide(),e.trigger("close")}};this.buttonElementList.forEach(function(t){var i=t.getAttribute("action"),r=n[i];if(!r)throw new Error("handler of layer header button not found: ".concat(i));t.addEventListener("click",r),e.addDestroyHook(function(){return t.removeEventListener("click",r)})})}},{key:"getSlotContainer",value:function(e){if("buttons"===e)return this.buttonsElement}},{key:"sync",value:function(e,n){switch(e){case"title":return this.setTitle(n),!0;case"icon":return this.setIconCls(n),!0;case"closable":return this.setClosable(n),!0}return(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n)}}],[{key:"getName",value:function(){return"layer-header"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string"},"icon-class":{type:"string",field:"iconCls"},closable:{type:"boolean",defaultValue:!0}}}}}]),t}(ta),as=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"component",void 0),(0,U._)(n,"sharedLayerComponentService",void 0),n.component=e,n.component.on(Do.qo.SHOWN,function(){n.sharedLayerComponentService.showLayer(n.component)}),n.component.on(Do.qo.HIDDEN,function(){n.sharedLayerComponentService.hideLayer(n.component)}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"serviceInjected",value:function(){}}],[{key:"scope",value:function(){return xo.U.MULTI_CASE}},{key:"isLazy",value:function(){return!1}},{key:"services",value:function(){return{sharedLayerComponentService:ma}}}]),t}(z.Disposable),ss=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).modal=r.backdrop||r.modal,r.appendTo&&(r.appendTo=document.querySelector(r.appendTo)),r.$hasBeenLocalized=r.isVisible,r.removeTemporary=z.noop,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this);var e=this.element.classList;e.add("fv__ui-layer"),e.contains("center")||(e.contains("right")||e.contains("centerh")||e.add("left"),e.contains("bottom")||e.contains("centerv")||e.add("top")),this.containerElement=document.createElement("div"),this.containerElement.classList.add("fv__ui-layer-inner"),this.element.appendChild(this.containerElement),this.modal&&(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("fv__ui-layer-modal")),this.backdrop&&this.backdropElement.classList.add("fv__ui-layer-backdrop")}},{key:"getRenderingElements",value:function(){return this.backdropElement&&this.backdrop&&this.isVisible?[this.backdropElement,this.element]:[this.element]}},{key:"mounted",value:function(){if((0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.backdrop){var e=this.element.parentElement;if(e){var n=getComputedStyle(e).position;""!==n&&"static"!==n||(e.style.cssText+="position: relative")}}this.isVisible&&(this.isVisible=!1,this.show())}},{key:"hideOnEscape",value:function(){this.hide()}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||e,!this.isVisible&&!this.isDestroyed){if(this.$hasBeenLocalized||(this.localize(),this.$hasBeenLocalized=!0),e||(e=this.getRoot()),(0,T._)(e,ta))"function"==typeof this.removeTemporary&&this.removeTemporary(),this.removeTemporary=e.appendTemporaryComponent(this);else{if(!(0,T._)(e,Element))throw new TypeError("Invalid type: 'appendTo' parameter should be a HTMLElement or ContainerComponent, but actual: ".concat(e));this.element.parentElement!=e&&e.appendChild(this.element)}(0,E._)((0,S._)(t.prototype),"show",this).call(this,n)}}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.show(e,t)}},{key:"close",value:function(){this.isDestroyed||(this.trigger("beforeClose"),this.hide(),this.trigger(Do.qo.CLOSED),(0,E._)((0,S._)(t.prototype),"destroy",this).call(this))}},{key:"doShown",value:function(){this.showBackdrop(),(0,E._)((0,S._)(t.prototype),"doShown",this).call(this),this.adjustOffset()}},{key:"adjustOffset",value:function(){var e=this.element.classList,t=e.contains("center")||e.contains("centerh"),n=e.contains("center")||e.contains("centerv"),i=0,r=0;if(t){var o=this.element.offsetWidth/2;i=o-Math.floor(o)}if(n){var a=this.element.offsetHeight/2;r=a-Math.floor(a)}this.element.style.setProperty("--fv-adjust-layer-offset-x",i+"px"),this.element.style.setProperty("--fv-adjust-layer-offset-y",r+"px")}},{key:"showBackdrop",value:function(){this.backdropElement&&this.element.parentElement&&this.element.parentElement.insertBefore(this.backdropElement,this.element)}},{key:"doDestroy",value:function(){var e=this.element.querySelectorAll("[id]");(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove(),e.forEach(function(e){window[e.id]===e&&delete window[e.id]})}},{key:"doHidden",value:function(){(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.removeTemporary(),this.removeTemporary=z.noop,this.element.remove(),this.backdropElement&&this.backdropElement.remove()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.$container.children(),t=e.filter(function(e){return(0,T._)(e,os)}),n=e.filter(function(e){return!(0,T._)(e,os)}),i=function(e,t){return e.concat(t.getRenderingElements())},r=this.$temporaries.children().reduce(i,[]),o=t.reduce(i,[]),a=n.reduce(i,[]);this.diffRenderer(this.getContainerElement(),a.concat(r)),this.diffRenderer(this.element,o.concat(this.getContainerElement()))}}},{key:"_getFocusableElements",value:function(e){return(0,R._)(e).filter(function(e){if("-1"===e.getAttribute("tabindex"))return!1;var t=e.offsetHeight,n=e.offsetLeft,i=e.offsetTop,r=e.offsetWidth;return 0!==t||0!==n||0!==i||0!==r})}}],[{key:"getName",value:function(){return"layer"}},{key:"getMetadata",value:function(){return{options:{visible:{type:"boolean",field:"isVisible",defaultValue:!1},backdrop:{type:"boolean",defaultValue:!1},modal:{type:"boolean",defaultValue:!1},"append-to":{type:"string",field:"appendTo"},focus:{type:"boolean",defaultValue:!0,field:"focusOnShown"}}}}},{key:"preprocess",value:function(e){var t=e.vnode.getAttribute("disable-shortcuts"),n=""===t||void 0!==t&&"false"!==t,i=!!e.vnode.directives.find(function(e){return"shortcut-context"===e.directiveName});i||n||e.vnode.setAttribute("@shortcut-context",va.CLOSABLE_LAYER),n&&e.vnode.removeAttribute("@shortcut-context")}},{key:"services",value:function(){return{layerComponentService:as}}}]),t}(ta),As=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-layer-toolbar")}}],[{key:"getName",value:function(){return"layer-toolbar"}}]),t}(ta),cs=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-layer-panel")}}],[{key:"getName",value:function(){return"layer-view"}}]),t}(ta),us=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e}},{key:"render",value:function(){}},{key:"renderElementId",value:function(){}},{key:"rerenderChildren",value:function(){}},{key:"localize",value:function(){return Promise.all(this.$container.map(function(e){return e.localize()}))}},{key:"receiveBroadcast",value:function(e,n){(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n),e===Do.u7&&this.$container.each(function(e){return e.localize()})}},{key:"mounted",value:function(){this.localize(),(0,E._)((0,S._)(t.prototype),"mounted",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"template"}}]),t}(ta),ls=(n(9173),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("input");return e.classList.add("fv__ui-input"),e}},{key:"setValue",value:function(e){var t=this.element;"checkbox"==t.type?t.checked=e:"radio"===t.type&&t.value===e&&(t.checked=!0),t.value=e,this.trigger("resetValue",e)}},{key:"getValue",value:function(){return this.getDOMValue()}},{key:"prerender",value:function(){this.element.spellcheck=this.spellcheck,this.element.autocapitalize=this.autocapitalize,this.element.autocomplete=this.autocomplete,this.element.autocorrect=this.autocorrect,(0,E._)((0,S._)(t.prototype),"prerender",this).call(this)}},{key:"getDOMValue",value:function(){var e=this.element;return"checkbox"===e.type?e.checked:(0,E._)((0,S._)(t.prototype),"getDOMValue",this).call(this)}},{key:"setDOMValue",value:function(e){var t=this.element;"checkbox"===t.type?t.checked=e:t.value=e}},{key:"mounted",value:function(){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),(0,E._)((0,S._)(t.prototype),"resolveCompositionEvent",this).call(this)}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"input"}},{key:"getMetadata",value:function(){return{options:{spellcheck:{defaultValue:!1},autocapitalize:{defaultValue:"off",type:"string"},autocomplete:{defaultValue:"off",type:"string"},autocorrect:{defaultValue:"off",type:"string"}}}}}]),t}(ka)),ds=function(){function e(){(0,C._)(this,e),(0,U._)(this,"groups",{})}return(0,D._)(e,[{key:"serviceInjected",value:function(){}},{key:"addRadioComponent",value:function(e){var t=e.name,n=this.groups[t]||[];return this.groups[t]=n,n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}},{key:"getValueOfComponent",value:function(e){var t=e.group||e.name,n=this.groups[t];if(n&&!(n.length<1)){var i=n.find(function(e){return e.isChecked()});return i?i.getDataValue():void 0}}}],[{key:"scope",value:function(){return xo.U.COMPONENT_TREE}}]),e}(),hs=(n(6828),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"acceptText",value:function(){return!0}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled",!0)}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"createDOMElement",value:function(){var e=document.createElement("input"),t=document.createElement("label"),n=document.createElement("radio");t.classList.add("fv__ui-radio-label"),n.classList.add("fv__ui-radio"),e.type="radio";var i=(0,z.getUniqueId)("radio-input-");return e.id=i,t.setAttribute("for",i),n.appendChild(e),n.appendChild(t),this.inputElement=e,this.textElement=t,n}},{key:"getFormFieldElement",value:function(){return this.inputElement}},{key:"getValue",value:function(){return this.radioGroupService.getValueOfComponent(this)}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.$options.inputClass&&this.inputElement.classList.add(this.$options.inputClass),this.$options.lableClass&&this.textElement.classList.add(this.$options.lableClass),this.setDataValue(this.dataValue),this.check(this.checked),this.inputElement.name=this.fieldName}},{key:"prelink",value:function(){(0,E._)((0,S._)(t.prototype),"prelink",this).call(this),this.addDestroyHook(this.radioGroupService.addRadioComponent(this))}},{key:"renderText",value:function(){var e=this.textElement;return e.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(e),e.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach(function(t){e.appendChild(t.element)}),e}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(t.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"setValue",value:function(e){this.check(e===this.dataValue)}},{key:"check",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.inputElement.checked=e}},{key:"isChecked",value:function(){return this.inputElement.checked}},{key:"createEventListener",value:function(e){var t=this;return function(n){t.trigger(e,t.getDOMValue(),t.getValue(),n)}}},{key:"getDOMValue",value:function(){return this.getDataValue()}},{key:"getDataValue",value:function(){return this.dataValue}},{key:"setDOMValue",value:function(e){this.setDataValue(e)}},{key:"setDataValue",value:function(e){this.dataValue=e,this.inputElement.value=e;var t=this.getValue();this.check(t===e)}}],[{key:"getName",value:function(){return"radio"}},{key:"services",value:function(){return{radioGroupService:ds}}},{key:"getMetadata",value:function(){return{options:{checked:{type:"boolean",defaultValue:!1},text:{type:"string"},value:{type:"string",field:"dataValue"}}}}}]),t}(ka)),fs=function(e){function t(e,n,i){var r;(0,C._)(this,t);var o=(r=(0,P._)(this,t,[e,n,i]))._getNumberOption("min"),a=r._getNumberOption("max"),s=r._getNumberOption("step"),A=r._getNumberOption("value");return r.range=new aa(o,a,s),r.value=r.range.normalizeValue(A),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setValue",value:function(e){e=this.normalizeValue(e),isNaN(e)||(this.value=e)}},{key:"getValue",value:function(){return this.value}},{key:"setMin",value:function(e){this.range.setMin(e),this.setValue(this.normalizeValue(this.value))}},{key:"setMax",value:function(e){this.range.setMax(e),this.setValue(this.normalizeValue(this.value))}},{key:"setStep",value:function(e){this.range.setStep(e),this.setValue(this.normalizeValue(this.value))}},{key:"getRatio",value:function(){var e=this.range.max-this.range.min;return 0===e?0:(this.value-this.range.min)/e}},{key:"_getNumberOption",value:function(e){return e in this.$options?this.$options[e]:parseFloat(this.attrs[e])}},{key:"normalizeValue",value:function(e){return this.range.normalizeValue(e)}},{key:"incrementValue",value:function(){return this.setValue(this.range.increment(this.value)),this.getValue()}},{key:"decrementValue",value:function(){return this.setValue(this.range.decrement(this.value)),this.getValue()}}]),t}(ka),ps=n(247),gs=n.n(ps),vs=(n(1637),[]),ms={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ys=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).notifyTimeout=null,r.iconCls=e.iconCls||r.attrs["icon-class"]||r.attrs.iconclass,r.iconText=e.iconText||r.attrs["icon-text"]||r.attrs.icontext,r.unit=e.unit||r.attrs.unit,r.hideInput=e.hideInput||r.attrs.hideinput,r.step=+(e.step||r.attrs.step||1),r.direction=e.direction||r.attrs.direction||ms.HORIZONTAL,r.cancelUpdateTask=z.noop,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-slider-container"),this.element.innerHTML=gs()(this),this.contrast&&this.element.querySelector(".fv__ui-slider").addClass("contrast");var n=(0,M._)([".fv__ui-slider-input",".fv__ui-slider-cursor",".fv__ui-slider-line",".fv__ui-slider-bar",".fv__ui-slider-center-point",".fv__ui-slider-unit"].map(function(t){return e.element.querySelector(t)}),6),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],A=n[5];this.inputElement=i,this.cursorElement=r,this.lineElement=o,this.unitElement=A,this.barElement=a,this.centerPointElement=s,this.setValue(this.value),this.centerPoint||this.centerPointElement.classList.add("fv__ui-hide")}},{key:"getForwardedEvents",value:function(){return["focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]}},{key:"setValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.inputElement){e=this.normalizeValue(e);var i=this.value;return this.value=e,n?this.oldValue=this.value:this.valueChanged=!0,this.inputElement.setAttribute("value",this.value),this.inputElement.value=this.value,this.barElement.style.width=100*this.getRatio()+"%",0==this.lineElement.offsetWidth?(this.cancelUpdateTask(),vs.push(this),this.cancelUpdateTask=(0,z.observeResize)(this.lineElement,function(){t._updateHandlePosition()})):this._updateHandlePosition(),i!=this.value}this.initValue=e}},{key:"receiveBroadcast",value:function(e,n,i){e!==Do.KJ?(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n,i):this._updateHandlePosition()}},{key:"_updateHandlePosition",value:function(){var e=this.getRatio(),t=this.lineElement.offsetWidth;0!=t&&this.cancelUpdateTask();(0,z.cssText)(this.cursorElement,{left:"calc(".concat(100*e,"% - ").concat(5,"px)")})}},{key:"_elementStopEventPropagation",value:function(e,t){var n=function(e){return e.stopPropagation()};e.addEventListener(t,n),this.addDestroyHook(function(i){return e.removeEventListener(t,n)})}},{key:"mounted",value:function(){var e=this;if(void 0!==this.value){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this._elementStopEventPropagation(this.cursorElement,"pointerdown"),this._elementStopEventPropagation(this.cursorElement,"mousedown"),this._elementStopEventPropagation(this.cursorElement,"touchstart");var n,i,r=new Hammer.Manager(this.cursorElement);r.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),r.on("panstart",function(t){if(e.disabled)return!1;e.oldValue=e.value;var r=e.getRatio(),o=e.lineElement.offsetWidth;return n=parseFloat(o*r)||-5,i=o,e.cursorElement.classList.add("fv__ui-select-dragging"),e.trigger("compositionstart",t),e.active(),t.srcEvent.stopPropagation(),!1}).on("panmove",function(t){if(e.disabled)return!1;var r=n+(e.isHorizontal()?t.deltaX:-1*t.deltaY);r<-5?r=-5:r>i-5&&(r=i-5);var o=e.range,a=o.max,s=o.min,A=(r+5)/i*(a-s)+s;A=e.normalizeValue(A);var c=e.value;return e.setValue(A,!1),e._triggerChange(!1,t,c,A),e.isMoving=!0,t.srcEvent.stopPropagation(),!1}).on("panend",function(t){return e.disabled||(e.isMoving=!1,e.cursorElement.classList.remove("fv__ui-select-dragging"),e._triggerChange(!0,t,e.value,e.value),e.commit(),t.srcEvent.stopPropagation()),!1}),this.addDestroyHook(function(){r.destroy()});var o=function(t,n,i){t.addEventListener(n,i),e.addDestroyHook(function(){t.removeEventListener(n,i)})};o(this.inputElement,"blur",function(t){!function(t){if(!e.disabled&&e.inputElement.value!=e.value){var n=e.value;e.setValue(e.inputElement.value,!1);var i=e.value;e._triggerChange(!0,t,n,i)}}(),a(t),e.trigger("blur",t)}),o(this.inputElement,"focus",function(t){e.trigger("focus",t),e.active()}),o(this.centerPointElement,"click",function(t){var n=.5*(e.range.max-e.range.min),i=e.getValue(),r=e.normalizeValue(n);return e.setValue(r,!0),e._triggerChange(!0,t,i,e.getValue()),t.stopPropagation(),!1});var a=function(t){if(e.valueChanged){var n=t.target.parentNode;t.target!==e.inputElement&&(t.target.classList&&"fv__ui-slider"==t.target.classList[0]||n.classList&&"fv__ui-slider"==n.classList[0]||n.parentNode.classList&&"fv__ui-slider"==n.parentNode.classList[0])||e.valueChanged&&(e.trigger("willCommit",{oldValue:e.oldValue,commitValue:e.value}),e.valueChanged=!1)}};o(document,"click",a),this.addDestroyHook(function(){for(e.cancelUpdateTask();;){var t=vs.indexOf(e);if(!(t>-1))break;vs.splice(t,1)}});var s,A={PageUp:33,PageDown:34,Home:35,End:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};o(this.cursorElement,"keydown",function(e){var t=A[e.key];t>=33&&t<=40&&(e.stopPropagation(),e.preventDefault())}),o(this.cursorElement,"keyup",(s=null,function(t){if(!e.disabled&&A[t.key]){var n=A[t.key];s||(s=setTimeout(function(){s=null;var i=e.getValue();37===n||40===n?e.setValue(e.value-e.step):39===n||38===n?e.setValue(e.value+e.step):33===n?e.setValue(e.value+5*e.step):34===n?e.setValue(e.value-5*e.step):35===n?e.setValue(e.range.min):36===n&&e.setValue(e.range.max),e._triggerChange(!0,t,i,e.getValue())},50)),t.preventDefault(),t.stopPropagation()}}));o(this.lineElement,"mousedown",function(t){e.disabled||(0,z.eventPath)(t).every(function(n){if(n.classList.contains("fv__ui-slider-line")){var i=n.getClientRects();if(i){var r=i.item("DOMRect");if(r){var o=r.left,a=r.width,s=t.x;if(o<s&&o>0){var A=e.getValue(),c=(s-o)/a,u=e.range,l=u.min,d=u.max,h=String(c*d),f=h.indexOf("."),p=String(e.step).split(".");p=2===p.length?p[1].length+1:0,-1!==f&&(h=h.substr(0,f+p)),e.setValue(l+ +h,!1),e._triggerChange(!0,t,A,e.getValue()),e.commit(),e.cursorElement.focus()}}}return!1}return!0})})}else this.element.style.display="none"}},{key:"commit",value:function(){this.valueChanged&&(this.trigger("willCommit",{oldValue:this.oldValue,commitValue:this.value}),this.valueChanged=!1)}},{key:"disable",value:function(){(0,E._)((0,S._)(t.prototype),"disable",this).call(this),this.inputElement.setAttribute("disabled",1)}},{key:"enable",value:function(){(0,E._)((0,S._)(t.prototype),"enable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"_triggerChange",value:function(e,t,n,i){var r=this;this.notifyTimeout&&clearTimeout(this.notifyTimeout);var o=function(){r.trigger("change",t,n,i,r)};e?o():this.notifyTimeout=setTimeout(o,200)}},{key:"focus",value:function(){this.cursorElement.focus()}},{key:"hasFocus",value:function(){return this.cursorElement===document.activeElement}},{key:"isHorizontal",value:function(){return!Object.values(ms).includes(this.direction)||this.direction===ms.HORIZONTAL}}],[{key:"getName",value:function(){return"slider"}},{key:"getMetadata",value:function(){return{options:{"center-point":{type:"boolean",field:"centerPoint",defaultValue:!1,required:!1},contrast:{type:"boolean",defaultValue:!1}}}}}]),t}(fs),_s=n(5883),bs=n.n(_s),ws=(n(6754),function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this);var e=(0,w._)({},this.viewConfig.attrs,this.$options);this.options=e.options,this.element.innerHTML=bs()(e),this.initDoms(),this.lableClass=""}},{key:"initDoms",value:function(){var e=this,t=(0,M._)([".fv__ui-select-icon",".fv__ui-select-lable",".fv__ui-select-selector",".fv__ui-select-dropdown"].map(function(t){return e.element.querySelector(t)}),4),n=t[0],i=t[1],r=t[2],o=t[3];this.$icon=n,this.$lable=i,this.$selector=r,this.$dropdown=o}},{key:"sync",value:function(e,n){var i=(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n);return i||"options"===e&&(this.setData(n),!0)}},{key:"setData",value:function(e){var t=this;if(!this.$options.options&&!this.options){this.options=e;var n=(0,k._)((0,w._)({},this.viewConfig.attrs,this.$options),{options:e});this.element.innerHTML=bs()(n),this.initDoms(),this.liEles.length||Promise.resolve().then(function(e){(t.liEles=t.$selector.querySelectorAll("li")).forEach(function(e){t._addEvent(e,"click",t.selectChange.bind(t))})}),this.setValue(this.value)}}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(Array.isArray(this.options)){-1==e&&(t=0,e=this.options[0].value);var n=this.value;this.value=e,-1==t&&this.options.map(function(n,i){if(n.value===e)return t=i,!1});var i=this.options[t]||{};if(1!=this.$options.layout){this.lableClass&&this.$lable.classList.remove(this.lableClass),this.$lable.classList.add(i.class),this.lableClass=i.class,this.$lable.textContent="",!i.lable||this.$options.noOptionLable&&i.class||(this.$lable.setAttribute("data-i18n",i.lable),this.localize());var r=this.$selector.querySelector(".selected");r&&r.classList.remove("selected"),(r=this.$selector.querySelector('[data-value="'.concat(this.value,'"]')))&&r.classList.add("selected")}else this.lableClass&&this.$icon.classList.remove(this.lableClass),this.lableClass=i.class,this.$icon.classList.add(this.lableClass);return n!=this.value}this.value=e}},{key:"selectChange",value:function(e){if(!this.disabled){this.$selector.style.display="none";var t=e.target.dataset?e.target.dataset.value:e.target.getAttribute("data-value");return t="number"!=typeof+t||isNaN(+t)?t:+t,this.setValue(t)&&this.trigger("change",this.value),e.stopPropagation(),!1}}},{key:"_addEvent",value:function(e,t,n){e.addEventListener(t,n),this.addDestroyHook(function(){e.removeEventListener(t,n)})}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=this._addEvent.bind(this);(this.liEles=this.$selector.querySelectorAll("li")).forEach(function(t){n(t,"click",e.selectChange.bind(e))});var i=function(t,n){if(!e.disabled)return t&&(ca()(e.$selector).is(":visible")?e.$selector.style.display="none":(e.$selector.style.display="block",function(e){e.style.display="block",e.style["margin-top"]="";var t=e.getBoundingClientRect();t.top+t.height+e.ownerDocument.defaultView.pageYOffset>e.ownerDocument.defaultView.innerHeight?(e.style["margin-top"]="-88%",ca()(e).addClass("popup-top").removeClass("popup-bottom")):ca()(e).addClass("popup-bottom").removeClass("popup-top")}(e.$selector),e.active())),!1};n(this.element,"click",function(e){return i(!0)});n(document,"click",function(t){e.element.contains(t.target)||(e.$selector.style.display="none")})}},{key:"disable",value:function(){(0,E._)((0,S._)(t.prototype),"disable",this).call(this),this.$selector.parentElement.classList.add("disabled"),this.$selector.style.display="none"}},{key:"enable",value:function(){(0,E._)((0,S._)(t.prototype),"enable",this).call(this),this.$selector.parentElement.classList.remove("disabled")}},{key:"deactive",value:function(){return this.$selector.style.display="none",(0,E._)((0,S._)(t.prototype),"deactive",this).call(this)}}],[{key:"getName",value:function(){return"choice"}}]),t}(ka));var ks=n(5027),xs=n.n(ks);n(3858);const Ps=e=>"string"==typeof e,Cs=()=>{let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},Ds=e=>null==e?"":""+e,Es=/###/g,Ss=e=>e&&e.indexOf("###")>-1?e.replace(Es,"."):e,Is=e=>!e||Ps(e),Ts=(e,t,n)=>{const i=Ps(t)?t.split("."):t;let r=0;for(;r<i.length-1;){if(Is(e))return{};const t=Ss(i[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return Is(e)?{}:{obj:e,k:Ss(i[r])}},Ms=(e,t,n)=>{const{obj:i,k:r}=Ts(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=Ts(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Ts(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},Rs=(e,t)=>{const{obj:n,k:i}=Ts(e,t);if(n)return n[i]},Fs=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?Ps(e[i])||e[i]instanceof String||Ps(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):Fs(e[i],t[i],n):e[i]=t[i]);return e},Ns=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ls={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Os=e=>Ps(e)?e.replace(/[&<>"'\/]/g,e=>Ls[e]):e;const js=[" ",",","?","!",";"],Bs=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Vs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;){if(!r||"object"!=typeof r)return;let t,o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=n),o+=i[a],t=r[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}r=t}return r},Hs=e=>e&&e.replace("_","-"),Us={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class zs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Us,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(Ps(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new zs(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new zs(this.logger,e)}}var Ws=new zs;class Ys{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[i,r]=t;for(let t=0;t<r;t++)i.apply(i,[e,...n])})}}}class Gs extends Ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Ps(n)&&r?a.push(...n.split(r)):a.push(n)));const s=Rs(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&o&&Ps(n)?Vs(this.data&&this.data[e]&&this.data[e][t],n,r):s}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),Ms(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(Ps(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let s=Rs(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Fs(s,n,r):s={...s,...n},Ms(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var $s={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))}),t}};const Js={};class qs extends Ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ws.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const i=js.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===i.length)return!0;const r=Bs.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let o=!r.test(e);if(!o){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(o=!0)}return o})(e,n,i));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Ps(r)?[r]:r};const o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return{key:e,namespaces:Ps(r)?[r]:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],A=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(A&&"cimode"===A.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let l=u&&u.res;const d=u&&u.usedKey||o,h=u&&u.exactUsedKey||o,f=Object.prototype.toString.apply(l),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!Ps(l)&&"boolean"!=typeof l&&"number"!=typeof l;if(!(g&&l&&v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||Ps(p)&&Array.isArray(l))if(g&&Ps(p)&&Array.isArray(l))l=l.join(p),l&&(l=this.extendTranslation(l,e,t,n));else{let i=!1,a=!1;const c=void 0!==t.count&&!Ps(t.count),d=qs.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(A,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(A,t.count,{ordinal:!1}):"",p=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(l)&&d&&(i=!0,l=g),this.isValidLookup(l)||(a=!0,l=o);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:l,m=d&&g!==l&&this.options.updateMissing;if(a||i||m){if(this.logger.log(m?"updateKey":"missingKey",A,s,o,m?g:l),r){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=d&&i!==l?i:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,r,m,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,r,m,t),this.emit("missingKey",e,s,n,l)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{i([e],o+n,t[`defaultValue${n}`]||g)})}):i(e,o,g))}l=this.extendTranslation(l,e,t,u,n),a&&l===o&&this.options.appendNamespaceToMissingKey&&(l=`${s}:${o}`),(a||i)&&this.options.parseMissingKeyHandler&&(l="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,i?l:void 0):this.options.parseMissingKeyHandler(l))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,l,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){const e=Array.isArray(l),n=e?[]:{},i=e?h:d;for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e)){const o=`${i}${r}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=l[e])}l=n}}return i?(u.res=l,u.usedParams=this.getUsedParamsDetails(t),u):l}extendTranslation(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Ps(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let A=n.replace&&!Ps(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),e=this.interpolator.interpolate(e,A,n.lng||this.language||i.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):o.translate(...i,t)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Ps(a)?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=$s.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ps(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),A=s.key;n=A;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!Ps(a.count),l=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&(Ps(a.context)||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(o=e,!Js[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Js[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(n=>{if(this.isValidLookup(t))return;r=n;const o=[A];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,A,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(A+e),a.ordinal&&0===e.indexOf(i)&&o.push(A+e.replace(i,this.options.pluralSeparator)),l&&o.push(A+t)),d){const n=`${A}${this.options.contextSeparator}${a.context}`;o.push(n),u&&(o.push(n+e),a.ordinal&&0===e.indexOf(i)&&o.push(n+e.replace(i,this.options.pluralSeparator)),l&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(i=s,t=this.getResource(n,e,s,a))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Ps(e.replace);let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const Ks=e=>e.charAt(0).toUpperCase()+e.slice(1);class Zs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ws.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Hs(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Hs(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ps(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ks(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ks(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ks(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Ps(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Ps(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):Ps(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}let Xs=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qs={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const eA=["v1","v2","v3"],tA=["v4"],nA={zero:0,one:1,two:2,few:3,many:4,other:5};class iA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ws.create("pluralResolver"),this.options.compatibilityJSON&&!tA.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Xs.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Qs[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Hs("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(n,{type:i})}catch(n){if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(i,t)}return this.pluralRulesCache[r]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>nA[e]-nA[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!eA.includes(this.options.compatibilityJSON)}}const rA=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const i=Rs(e,n);return void 0!==i?i:Rs(t,n)})(e,t,n);return!o&&r&&Ps(n)&&(o=Vs(e,n,i),void 0===o&&(o=Vs(t,n,i))),o},oA=e=>e.replace(/\$/g,"$$$$");class aA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ws.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:A,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:l,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Os,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?Ns(r):o||"{{",this.suffix=a?Ns(a):s||"}}",this.formatSeparator=A||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=l?Ns(l):d||Ns("$t("),this.nestingSuffix=h?Ns(h):f||Ns(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},A=e=>{if(e.indexOf(this.formatSeparator)<0){const r=rA(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),o=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(rA(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:o})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,u=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>oA(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?oA(this.escape(e)):oA(e)}].forEach(t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=A(n),void 0===o)if("function"==typeof c){const t=c(e,r,i);o=Ps(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(u){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else Ps(o)||this.useRawValueToEscape||(o=Ds(o));const s=t.safeValue(o);if(e=e.replace(r[0],s),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;e=i[0],o=this.interpolate(o,r);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];r={...o},r=r.replace&&!Ps(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let A=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),s=e,A=!0}if(i=t(a.call(this,n[1].trim(),r),r),i&&n[0]===e&&!Ps(i))return i;Ps(i)||(i=Ds(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),A&&(i=s.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const sA=e=>{const t={};return(n,i,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const a=i+JSON.stringify(o);let s=t[a];return s||(s=e(Hs(i),r),t[a]=s),s(n)}};class AA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ws.create("formatter"),this.options=e,this.formats={number:sA((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:sA((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:sA((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:sA((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:sA((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=sA(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}const o=r.reduce((e,t)=>{const{formatName:r,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=r),"false"===r&&(n[o]=!1),"true"===r&&(n[o]=!0),isNaN(r)||(n[o]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[r](e,s,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e},e);return o}}class cA extends Ys{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ws.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},o={},a={},s={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===s[t]&&(s[t]=!0)))}),i||(a[e]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),!t&&n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:i,k:r}=Ts(e,t,Object);i[r]=i[r]||[],i[r].push(n)})(n.loaded,[r],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,o)},r):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ps(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ps(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,o)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,n,o)})}saveMissing(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:r},A=this.backend.create.bind(this.backend);if(A.length<6)try{let r;r=5===A.length?A(e,t,n,i,s):A(e,t,n,i),r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}else A(e,t,n,i,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}const uA=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Ps(e[1])&&(t.defaultValue=e[1]),Ps(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),lA=e=>(Ps(e.ns)&&(e.ns=[e.ns]),Ps(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ps(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),dA=()=>{};class hA extends Ys{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=lA(e),this.services={},this.logger=Ws,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Ps(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=uA();this.options={...i,...this.options,...lA(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Ws.init(r(this.modules.logger),this.options):Ws.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=AA);const n=new Zs(this.options);this.store=new Gs(this.options.resources,this.options);const o=this.services;o.logger=Ws,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new iA(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new aA(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new cA(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new qs(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=dA),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const o=Cs(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dA;const n=Ps(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}this.options.preload&&this.options.preload.forEach(e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const i=Cs();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=dA),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&$s.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=Cs();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Ps(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{o(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),A=2;A<a;A++)s[A-2]=arguments[A];o=i.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||r.keyPrefix);const c=i.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${c}${e}`):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,i.t(u,o)};return Ps(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||i&&!o(r,e)))}loadNamespaces(e,t){const n=Cs();return this.options.ns?(Ps(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Cs();Ps(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Zs(uA());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new hA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dA;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new hA(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Gs(this.store.data,i),r.services.resourceStore=r.store),r.translator=new qs(r.services,i),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fA=hA.createInstance();fA.createInstance=hA.createInstance;fA.createInstance,fA.dir,fA.init,fA.loadResources,fA.reloadResources,fA.use,fA.changeLanguage,fA.getFixedT,fA.t,fA.exists,fA.setDefaultNamespace,fA.hasLoadedNamespace,fA.loadNamespaces,fA.loadLanguages;var pA,gA,vA,mA,yA="fv__ui-selected",_A=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).colors=[].concat(r.$options.colors),pA=r.$options.selectedclass+r.$options.lightpostname,gA=r.$options.selectedclass+r.$options.darkpostname,vA=r.$options.deleteclass+r.$options.lightpostname,mA=r.$options.deleteclass+r.$options.darkpostname,r.transparent=!1,r}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"setValue",value:function(e){0!=e&&-1==this.colors.indexOf(e)&&this.colors.push(e),this.disabled&&this.value||(this.value=e),this.isEditing=!1,this.render()}},{key:"getValue",value:function(){return this.value}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.setAttribute("tabindex","-1"),this.element.innerHTML=xs()(Object.assign({},this.$options,{colors:this.colors})),this._activeDom(),this._bindSpectrum(),this.showTransparentColor(this.transparent),this.trigger("postrender")}},{key:"mounted",value:function(){var e=this;this.element.addEventListener("click",function(t){if(!e.disabled)if(t.preventDefault(),t.stopPropagation(),t.target.classList.contains("fv__ui-picker-color")){if(e.isEditing){var n,i=t.target.dataset;return n=i?i.index:t.target.getAttribute("data-index"),e.colors[n]="delected",t.target.classList.add("fv__ui-hide"),e.element.focus(),void setTimeout(function(){e.element.querySelector(".fv__ui-picker-removecolor").focus()},100)}var r=e.value||"transparent";e.value=(0,z.colorConvertor)(t.target.style.backgroundColor,"#"),e._activeDom(t.target),e.trigger("change",t,e.value,r)}else if((0,z.eventPath)(t).some(function(e){return e.classList&&e.classList.contains("fv__ui-property-icon-nocolor")})){if(e.isEditing)return;var o=e.value||"transparent";e.value=0,e._activeDom((0,z.eventPath)(t).filter(function(e){return e.classList&&e.classList.contains("fv__ui-property-icon-nocolor")})[0]),e.trigger("change",t,o,"transparent")}else t.target.classList.contains("fv__ui-picker-addcolor")||t.target.classList.contains("fv__ui-picker-removecolor")&&e._toggleEditingMode(t)}),this.element.addEventListener("keydown",function(t){var n=z.matchers.ArrowUp,i=z.matchers.ArrowDown,r=z.matchers.ArrowLeft,o=z.matchers.ArrowRight,a=z.matchers.Home,s=z.matchers.End,A=z.matchers.Enter;(0,z.match)(t).when(n,function(){e._moveTo("up"),t.stopPropagation(),t.preventDefault()}).when(i,function(){e._moveTo("down"),t.stopPropagation(),t.preventDefault()}).when(r,function(){e._moveTo("left"),t.stopPropagation(),t.preventDefault()}).when(o,function(){e._moveTo("right"),t.stopPropagation(),t.preventDefault()}).when(a,function(){e._moveTo("first"),t.stopPropagation(),t.preventDefault()}).when(s,function(){e._moveTo("last"),t.stopPropagation(),t.preventDefault()}).when(A,function(){(0,z.eventPath)(t).some(function(e){return e.classList&&e.classList.contains("fv__ui-dropdown-list")})&&t.stopPropagation();var e=document.activeElement;"LI"===e.tagName&&(e.click(),t.stopPropagation(),t.preventDefault())})})}},{key:"_moveTo",value:function(e){var t=document.activeElement;if("LI"===t.tagName||"BUTTON"===t.tagName){var n=this.element.querySelectorAll("ul.fv__ui-colors-picker > li:not(.fv__ui-hide),button:not(:disabled)");if(!(n.length<=0)){var i,r=(0,R._)(n).indexOf(t);if(-1!==r)"up"===e||"left"===e?i=n[--r]?n[r]:(0,R._)(n).slice(-1)[0]:"down"===e||"right"===e?i=n[++r]?n[r]:n[0]:"first"===e?i=n[0]:"last"===e&&(i=(0,R._)(n).slice(-1)[0]),i.focus()}}}},{key:"_activeDom",value:function(e){var t=this;if(!e){var n=this.element.children[0].children;n&&(0,R._)(n).every(function(n){return(n.style.backgroundColor?(0,z.colorConvertor)(n.style.backgroundColor,"#"):"")!==t.value||(e=n,!1)})}var i=this.element.querySelector("."+yA);i&&(i.setAttribute("tabindex","-1"),i.classList.remove(yA,pA,gA));var r=this.element.querySelector(".fv__ui-property-icon-nocolor");r&&0===this.value&&r.classList.add(pA,yA),e&&(e.classList.add(yA),bA(e.style.backgroundColor)?e.classList.add(pA):e.classList.add(gA),e.setAttribute("tabindex",0),e.focus())}},{key:"_toggleEditingMode",value:function(e){if(this.isEditing){this.pdfUI.colorSpectrum.enable(),e.target.classList.remove(pA),this.isEditing=!1;var t=!0,n=!1,i=void 0;try{for(var r,o=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.classList.contains("fv__ui-picker-color")&&a.classList.remove(mA,vA)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this._activeDom()}else{this.pdfUI.colorSpectrum.disable(),e.target.classList.add(pA),this.isEditing=!0;var s=!0,A=!1,c=void 0;try{for(var u,l=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var d=u.value;d.classList.contains("fv__ui-picker-color")&&(d.classList.remove(pA,gA),bA(d.style.backgroundColor)?d.classList.add(vA):d.classList.add(mA))}}catch(e){A=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(A)throw c}}var h=this.element.querySelector(".fv__ui-picker-nocolor");h&&h.classList.remove(pA)}}},{key:"_bindSpectrum",value:function(){var e=this,t=this.$colorInput=ca()(this.element).find(".fv__ui-picker-addcolor");this.colorSpectrumIsVisible=!1;var n=function(){n=function(){},e.addDestroyHook(function(){e.pdfUI.colorSpectrum.on("hidden",function(){e.colorSpectrumIsVisible=!1})})};t.on("click",function(t){e.pdfUI.colorSpectrum.show(t.target,function(t){var n=e.value||"transparent";e.setValue(t),e.disabled||e.trigger("change",t,e.getValue(),n)}),e.colorSpectrumIsVisible=!0,e.pdfUI.colorSpectrum.setDefaultColor(e.value),n(),t.stopPropagation()})}},{key:"showTransparentColor",value:function(e){e?ca()(this.element).find("."+this.$options.transparentclass)[0].classList.remove("fv__ui-hide"):ca()(this.element).find("."+this.$options.transparentclass)[0].classList.add("fv__ui-hide"),this.transparent=e}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this)}},{key:"doHidden",value:function(){(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.pdfUI.colorSpectrum.hide()}},{key:"focus",value:function(){var e=this.element.querySelector(".fv__ui-selected");e?e.focus():(this.element.querySelector(".fv__ui-picker-color"),this.element.focus())}},{key:"hasFocus",value:function(){return(0,E._)((0,S._)(t.prototype),"hasFocus",this).call(this)||this.colorSpectrumIsVisible&&this.pdfUI.colorSpectrum.hasFocus()}}],[{key:"getName",value:function(){return"color"}}]),t}(ka);function bA(e){if(!e||0==e.length)return!0;var t=e.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/);return t&&.299*t[1]+.578*t[2]+.114*t[3]>=192}var wA=n(6936),kA=n.n(wA),xA=(n(2877),function(){}),PA=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).currentHue=0,r.currentSaturation=0,r.currentValue=0,r.disabled=!1,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("div");e.innerHTML=kA()();var t=ca()(e.firstElementChild);return this.$dragger=t.find(".foxit-spectrum-color"),this.$draggerHelper=t.find("#foxit-spectrum-color-dragger"),this.$slider=t.find(".foxit-spectrum-hue"),this.$sliderHelper=t.find("#foxit-spectrum-hue-slider"),this.$current=t.find("#foxit-spectrum-current"),this.$active=t.find("#foxit-spectrum-active"),this.$choose=t.find("#foxit-spectrum-choose"),this.$cancel=t.find("#foxit-spectrum-cancel"),this.$trans=t.find(".foxit-spectrum-transparent"),e}},{key:"mounted",value:function(){return this.bindEvent(),(0,E._)((0,S._)(t.prototype),"mounted",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.$cancel.on("click touchend",function(t){e.hide(),e.$options.cancelCallback&&e.$options.cancelCallback(),t.preventDefault()}),this.$choose.on("click touchstart",function(t){e.hide(),(e.$options.chooseCallback||xA)(e.getValue()),t.preventDefault()}),this.sliderOffDrag=CA(this.$slider[0],function(t,n){e.currentHue=parseFloat(n/e.$slider.height()),e.updateHueLocation(),e.active()}),this.draggerOffDrag=CA(this.$dragger[0],function(t,n){var i=e.$dragger.height(),r=e.$dragger.width();e.currentSaturation=parseFloat(t/r),e.currentValue=parseFloat((i-n)/i),e.updateColorLocation(),e.active()}),this.$trans.on("click touchstart",function(t){e.currentSaturation=-1,e.currentValue=-1,e.updateColorLocation(),e.active(),e.$draggerHelper.css({top:0,left:0}),t.preventDefault()}),this.attachEventToElement(window,"click",function(t){var n;n=e.element.getElementsByTagName("layer")[0],(t.clientX<parseInt(n.style.left)||t.clientX>parseInt(n.style.left)+n.clientWidth||t.clientY<parseInt(n.style.top)||t.clientY>parseInt(n.style.top)+n.clientHeight)&&e.$options.hideOnFocus&&e.isVisible&&e.hide()},!0)}},{key:"getValue",value:function(){return DA(this.currentHue,this.currentSaturation,this.currentValue)}},{key:"showTransparent",value:function(e){return this.$trans.toggleClass("show").toggle(e),this}},{key:"setDefaultColor",value:function(e){var t=function(e){e=0===e||"transparent"===e?"ffffff":e.replace(/^[\s,#]+/,"").replace(/\s+$/,"").toLowerCase();var t,n,i=/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(e),r=SA(l(i[1]),255),o=SA(l(i[2]),255),a=SA(l(i[3]),255),s=Math.max(r,o,a),A=Math.min(r,o,a),c=s,u=s-A;if(n=0===s?0:u/s,s==A)t=0;else{switch(s){case r:t=(o-a)/u+(o<a?6:0);break;case o:t=(a-r)/u+2;break;case a:t=(r-o)/u+4}t/=6}return{h:t,s:n,v:c};function l(e){return parseInt(e,16)}}(e);this.currentHue=t.h,this.currentSaturation=t.s,this.currentValue=t.v,this.$current.css({backgroundColor:0===e?"#ffffff":e}),this.$active.css({backgroundColor:0===e?"#ffffff":e}),this.updateHueLocation(),this.updateColorLocation()}},{key:"show",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xA,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xA,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.disabled||(this.showAtElement=e,this.$options.chooseCallback=n,this.$options.cancelCallback=i,this.$options.hideOnFocus=r,(0,E._)((0,S._)(t.prototype),"show",this).call(this))}},{key:"doShown",value:function(){this.spectrumService.showSpectrum(this),(0,E._)((0,S._)(t.prototype),"doShown",this).call(this);var e=ca()(this.showAtElement),n=ca()(this.element).children(".foxit-spectrum-wrapper");n.css({display:"block"});window.devicePixelRatio;var i=function(){var t=e.offset(),i=e.outerWidth(),r=e.outerHeight(),o=(n.offset(),n.outerWidth()),a=n.outerHeight(),s=t.top+r,A=0;A=t.left+o>window.innerWidth?t.left-(t.left+o-window.innerWidth):t.left,s+a>window.innerHeight&&(s=s-a-r)<0&&(A=i+t.left,s=0),n.css({left:A,top:s+2})};n.outerHeight()?i():setTimeout(function(){i()},3)}},{key:"doHidden",value:function(){this.spectrumService.hideSpectrum(this),(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.$trans.toggle(!1),ca()(this.element.firstElementChild).css({display:"none"}),this.$slider.css("height","156px")}},{key:"active",value:function(){var e=DA(this.currentHue,this.currentSaturation,this.currentValue);this.$active.css({backgroundColor:0===e?"transparent":e})}},{key:"updateHueLocation",value:function(){var e=this.$slider.height(),t=this.$sliderHelper.height();this.$sliderHelper.css({top:e*this.currentHue-t});var n=EA(this.currentHue,1,1);this.$dragger.css({backgroundColor:n})}},{key:"updateColorLocation",value:function(){var e=this.$draggerHelper.outerHeight(),t=this.$draggerHelper.outerWidth(),n=this.$dragger.height(),i=this.$dragger.width();this.$draggerHelper.css({top:n-this.currentValue*n-e/2,left:this.currentSaturation*i-t/2})}},{key:"destroy",value:function(){return this.sliderOffDrag(),this.draggerOffDrag(),this.$cancel.off("click touchstart"),this.$choose.off("click touchstart"),(0,E._)((0,S._)(t.prototype),"destroy",this).call(this)}}],[{key:"getName",value:function(){return"color-spectrum"}},{key:"getMetadata",value:function(){return{options:{visible:{type:"boolean",defaultValue:!1,field:"isVisible"}}}}},{key:"services",value:function(){return{spectrumService:ya}}}]),t}(Zo.wA);function CA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xA,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xA,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xA,r=e.ownerDocument||document,o=!1,a={},s=0,A="ontouchstart"in window;function c(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function u(t){o||!1!==n.apply(e,arguments)&&(o=!0,s=ca()(e).width(),a=ca()(e).offset(),ca()(r).on("touchmove mousemove",l),ca()(r).on("touchend mouseup",d),A||l(t),c(t))}function l(n){if(o){var i=n.originalEvent&&n.originalEvent.touches,r=i?i[0].pageX:n.pageX,u=i?i[0].pageY:n.pageY,l=Math.max(0,Math.min(r-a.left,s)),d=Math.max(0,Math.min(u-a.top,ca()(e).height()));A&&c(n),t.apply(e,[l,d,n])}}function d(){o&&(ca()(r).off("touchmove mousemove",l),ca()(r).off("touchend mouseup",d),i.apply(e,arguments)),o=!1}return ca()(e).on("touchstart mousedown",u),function(){ca()(e).off("touchstart mousedown",u)}}function DA(e,t,n){return-1===t&&-1===n?0:EA(e,t,n)}function EA(e,t,n){e=6*SA(IA(e),360),t=SA(IA(t),100),n=SA(IA(n),100);var i=Math.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),A=i%6;return"#"+function(e,t,n){var i=Math.round,r=[o(i(e).toString(16)),o(i(t).toString(16)),o(i(n).toString(16))];return r.join("");function o(e){return 1==e.length?"0"+e:""+e}}(255*[n,a,o,o,s,n][A],255*[s,n,n,a,o,o][A],255*[o,o,s,n,n,a][A])}function SA(e,t){var n=Math.min,i=Math.max;(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=n(t,i(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function IA(e){return e<=1&&(e=100*e+"%"),e}var TA=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).targetName=r.attrs.component,r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e}},{key:"rerenderChildren",value:function(){}},{key:"mounted",value:function(){var e;if(!(e=this.targetName?this.getRoot().getComponentByName(this.targetName):this.parent))throw new Error("slot target not found: ".concat(this.targetName));e.appendSlot(this.slotName,this),(0,E._)((0,S._)(t.prototype),"mounted",this).call(this)}},{key:"acceptText",value:function(){return!1}},{key:"appendText",value:function(e){this.$container.append(e)}},{key:"localize",value:function(){return Promise.all(this.$container.map(function(e){return e.localize()}))}},{key:"receiveBroadcast",value:function(e,n){(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n),e===Do.u7&&this.$container.each(function(e){return e.localize()})}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"slot"}},{key:"getMetadata",value:function(){return{options:{for:{type:"string",field:"slotName"},component:{type:"string",field:"targetName"}}}}}]),t}(ta),MA=(n(4881),n(2939)),RA=n.n(MA),FA=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doActive",value:function(){this.parent.setValue(this.value)}}],[{key:"getName",value:function(){return"xoption"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},value:{}}}}}]),t}(Zo.wA),NA=RA()(),LA=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-xselect"),this.element.innerHTML=NA,this.optionsListElement=this.element.querySelector(".fv__ui-xselect-options-list"),this.textElement=this.element.querySelector("fv__ui-xselect-button-text"),this.btnElement=this.element.querySelector("fv__ui-xselect-button"),this.editElement=this.element.querySelector("fv__ui-xselect-edit")}},{key:"edit",value:function(){this.btnElement.classList.add("editable"),this.isInEditState=!0}},{key:"view",value:function(){this.btnElement.classList.remove("editable"),this.isInEditState=!1}},{key:"append",value:function(e){if(!(0,T._)(e,FA))throw new TypeError("Illegal argument: unexpected child component type: <".concat(e.nodeName,"> for <xselect>"));return(0,E._)((0,S._)(t.prototype),"append",this).call(this,e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.addDestroyHook(this.controller.watch(this.options,function(e,t){this.data=e,this.updateData(e,t)},!0));var n=null,i=function(t){var i=t.target.closest("li"),r=i.getAttribute("index"),o=e.data[r],a=e.getValue();e.setValue(o),e.trigger("changed",o,a),i.classList.add("selected"),n&&n.classList.remove("selected"),n=i,t.stopPropagation()};this.optionsListElement.addEventListener("click",i),this.addDestroyHook(function(){return e.optionsListElement.removeEventListener("click",i)})}},{key:"setValue",value:function(e){this.value=e,this.textElement.innerText=this.textRender(e,this)}},{key:"updateData",value:function(e){var t=this;if(this.optionsListElement.clear(),0!==e.length){var n=document.createDocumentFragment();e.forEach(function(e,i){var r=document.createElement("li");r.classList.add("fv__ui-xselect-option"),r.setAttribute("index",i);var o=t.optionRender(e,t);r.setAttribute("data-i18n",o),n.appendChild(r)}),this.optionsListElement.appendChild(n),-1==e.indexOf(this.value)&&this.setValue(e[0])}else this.setValue(null)}}],[{key:"getName",value:function(){return"xselect"}},{key:"getMetadata",value:function(){return{options:{editable:{type:"boolean",field:"isInEditState",defaultValue:!1},onInput:{type:"function",defaultValue:function(e){return e},args:["$inputValue"]},options:{type:"string"},textField:{type:"string",defaultValue:"value"},optionRender:{type:"function",defaultValue:function(e,t){return e[t.textField]}},textRender:{type:"function",defaultValue:function(e,t){return t.optionRender(e,t)}}}}}}]),t}(ka),OA=(n(4162),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-cotextmenu-separator")}}],[{key:"getName",value:function(){return"contextmenu-separator"}}]),t}(Zo.wA)),jA=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).backdrop=!1,r.modal=!1,r.focusOnShown=!1,r.appendTo=document.body,r.currentTarget=void 0,r.isFullscreen=!1,r.isCustomExists=!1,r.timer=null,r}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-contextmenu"),this.element.setAttribute("tabindex","-1")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=function(t){for(var n=t.target;n;){if(n===e.element)return;n=n.parentElement}e.hide()},i=z.isWindows?"mouseup":"mousedown",r={capture:!0};document.addEventListener(i,n,r),z.isTouchDevice&&document.addEventListener("touchstart",n,r);var o=function(t){27===t.keyCode&&e.isVisible&&"hide"===e.escape&&(e.hide(),t.preventDefault()),t.stopPropagation()};this.element.addEventListener("keyup",o),this.addDestroyHook(function(){document.removeEventListener(i,n,r),document.removeEventListener("touchstart",n,r),e.element.removeEventListener("keyup",o)})}},{key:"attachToAnchor",value:function(e){this.anchor=e}},{key:"showAt",value:function(e,t){var n=this;if(!this.isActive)return!1;var i=function(){var i,r;n.isDestroyed||(null!==(r=null===(i=n.pdfUI)||void 0===i?void 0:i.getRootComponent())&&void 0!==r?r:Promise.resolve(n.getRoot())).then(function(i){n.rootComponent=i,n.show(),n.updatePosition(e,t,i)})};return z.isIPAD||z.isIOS?setTimeout(i,100):i(),!0}},{key:"updatePosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootComponent;if(this.isVisible&&n){var i=this._limitPosition(e,t,n),r=i.left,o=i.top;this.element.style.left="".concat(r,"px"),this.element.clientHeight>window.innerHeight?(this.element.style.top="0",this.element.style.height=z.isIOS?"100dvh":"100vh",this.element.style.overflowY="auto"):(this.element.style.top="".concat(o,"px"),this.element.style.height="",this.element.style.overflowY="")}}},{key:"doShown",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"doShown",this).call(this),this.element.focus(),"function"==typeof navigator.vibrate&&navigator.vibrate(20),this.timer=setTimeout(function(){if(!e.isDestroyed){var t=0;e.children().forEach(function(e){(0,T._)(e,OA)?(0===t?e.hide():"fv--contextmenu-separator-reset"!==e.name||e.isVisible?e.show():e.hide(),t=0):"option-group"===e.nodeName?e.children().forEach(function(e){e.isDOMVisible()&&t++}):e.isDOMVisible()&&t++})}})}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.timer&&clearTimeout(this.timer)}},{key:"_limitPosition",value:function(e,t,n){var i=n.element.offsetParent,r=(i.offsetLeft,i.offsetTop,window.innerHeight),o=window.innerWidth,a=document.documentElement,s=a.scrollLeft,A=a.scrollTop,c=this.element.getBoundingClientRect();e+=s;var u=(t+=A)+c.height,l=e+c.width;return u>r&&(u=r,t=r-c.height),l>o&&(l=o,e=o-c.width),{left:e,top:t}}},{key:"setCurrentTarget",value:function(e){this.currentTarget=e}},{key:"getCurrentTarget",value:function(){return this.currentTarget}},{key:"show",value:function(){var e=this,n=this;return(0,x._)(function(){var i,r;return(0,N.Jh)(this,function(o){return this.isDestroyed||(i=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement,r=i||document.body,(0,E._)((0,S._)(t.prototype),"show",e).call(n,r)),[2]})}).call(this)}}],[{key:"getName",value:function(){return"contextmenu"}},{key:"getMetadata",value:function(){return{options:{escape:{type:"string",defaultValue:"hide"},active:{type:"boolean",field:"isActive",defaultValue:!0}}}}}]),t}(ss),BA=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon");var e=document.createElement("span");e.classList.add("fv__ui-contextmenu-item-shortcut"),this.shortcutElement=e;var t=document.createElement("a");return this.orderedElementsManager=new ko(t,[this.iconElement,this.textElement,this.shortcutElement]),t}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.shortcutElement.innerText=this.shortcut||"",this.orderedElementsManager.mount(this.shortcutElement),this.addCSSClass("fv__ui-contextmenu-item")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.addDestroyHook(this.on("click",function(){for(var t=e.parent;t;){if((0,T._)(t,jA)){t.hide();break}t=t.parent}}))}}],[{key:"getName",value:function(){return"contextmenu-item"}},{key:"getMetadata",value:function(){return{options:{shortcut:{type:"string"}}}}}]),t}(wa),VA=function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"setCurrentSelectionTool",value:function(e){this.selectionTool=e}},{key:"getCurrentSelectionTool",value:function(){return this.selectionTool}},{key:"setAlignment",value:function(e){if("bottom"===e)this.element.classList.add("align-bottom");else this.element.classList.remove("align-bottom")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.tabIndex="-1"}},{key:"showAt",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appendTo,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.noop,o=!this.isVisible;this.element.style.cssText+="\n            left: ".concat(e,"px;\n            top: ").concat(n,"px;\n        "),(0,E._)((0,S._)(t.prototype),"show",this).call(this,i);var a=r(this.element);if(a){var s="";"number"==typeof a.left&&(s+="left: ".concat(a.left,"px;")),"number"==typeof a.top&&(s+="top: ".concat(a.top,"px;")),s.length&&(this.element.style.cssText+=s)}o||this.trigger(Do.qo.SHOWN),this.element.focus({preventDefault:!0})}}],[{key:"getName",value:function(){return"tooltip-layer"}}]),t}(ss),HA=(n(7814),n(1558)),UA=n.n(HA),zA={};z.Lazy.property(zA,"dom",function(){var e=document.createElement("div");e.innerHTML=UA()();var t=e.firstElementChild;return e.removeChild(t),t});var WA=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).taskExecutor=new z.DebounceAsyncTaskExecutor(10),"string"==typeof r.excludeDevicesString?r.excludeDevices=r.excludeDevicesString.split(/[,;\s]+/):r.excludeDevices=[],"string"==typeof r.includeDevicesString?r.includeDevices=r.includeDevicesString.split(/[,;\s]+/):r.includeDevices=[],r.addDestroyHook(function(){r.taskExecutor.destroy()}),r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return zA.dom.cloneNode(!0)}},{key:"prerender",value:function(){(0,E._)((0,S._)(t.prototype),"prerender",this).call(this),this.element.classList.add("fv__ui-paddle-"+this.orientation),this.leftButton=this.element.querySelector(".fv__ui-paddle-button-prev"),this.rightButton=this.element.querySelector(".fv__ui-paddle-button-next"),this.contentElement=this.element.querySelector(".fv__ui-paddle-content"),this.containerElement=this.contentElement.parentElement}},{key:"getContainerElement",value:function(){return this.contentElement}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.shouldWorking()?(this.attachEventToElement(this.leftButton,"click",function(t){e.backward()}),this.attachEventToElement(this.rightButton,"click",function(t){e.forward()}),this.attachEventToElement(window,"resize",function(){e.taskExecutor.exec(function(){return e.updatePaddleState(),Promise.resolve()})}),this.updatePaddleState(),this.addDestroyHook((0,z.observeResize)(this.element,function(){e.isVisible&&e.updatePaddleState()}))):this.element.classList.add("fv__ui-paddle-unavailable")}},{key:"paddle",value:function(e){e>0?this.forward(e):e<0&&this.backward(-e)}},{key:"backward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.disabled||(this.containerElement.scrollLeft=e>0?Math.max(0,this.containerElement.scrollLeft-e):0,this.updatePaddleState())}},{key:"forward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;if(!this.disabled){var t=this.containerElement,n=this.contentElement,i=n.offsetWidth-t.offsetWidth,r=0;r=e>0?Math.min(i,t.scrollLeft+e):i,t.scrollLeft=r,this.updatePaddleState(),t.scrollLeft!==r&&(t.scrollLeft=r,(r===i||r+t.offsetWidth>=n.offsetWidth)&&this.element.classList.remove("fv__ui-paddle-overflow-forward"))}}},{key:"receiveBroadcast",value:function(e,n){(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n),"active"===e&&this.updatePaddleState()}},{key:"updatePaddleState",value:function(){var e=this;if(!this.isDestroyed){var t=this.containerElement,n=this.contentElement.offsetWidth,i=t.offsetWidth;this.element.classList.remove("fv__ui-paddle-overflow-backward","fv__ui-paddle-overflow-forward","fv__ui-paddle-overflow-none");var r=function(t){e.element.classList.add("fv__ui-paddle-overflow-"+t)};n>i?(t.scrollLeft+i<n&&r("forward"),t.scrollLeft>0&&r("backward")):r("none")}}},{key:"doShown",value:function(){(0,E._)((0,S._)(t.prototype),"doShown",this).call(this),this.updatePaddleState()}},{key:"shouldWorking",value:function(){var e=this.devices||[],t=this.excludeDevices||[],n=!1;if((e.length>0&&(n=e.some(function(e){return!!z.DEVICE_DETACTION[e]})),!n)&&t.some(function(e){return!!z.DEVICE_DETACTION[e]}))return!1;return!0}}],[{key:"getName",value:function(){return"paddle"}},{key:"getMetadata",value:function(){return{options:{orientation:{type:"enum",enums:["horizontal","vertical"],defaultValue:"horizontal"},"exclude-devices":{type:"string",field:"excludeDevicesString",required:!1},devices:{type:"string",field:"includeDevicesString",required:!1},canBeDisabled:{type:"boolean",defaultValue:!1},step:{type:"number"}}}}}]),t}(ta),YA=(n(2387),function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-option-group"),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=z.matchers.ArrowUp,i=z.matchers.ArrowDown,r=z.matchers.Home,o=z.matchers.End,a=function(t){var a=function(t){var n=(0,R._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter(function(e){return ua(e)}),i=(0,R._)(n).indexOf(document.activeElement);if(-1!==i){var r=n[(i+t+n.length)%n.length];r&&r.focus()}};(0,z.match)(t).switchers(!1).when(n,function(){a(-1)}).when(i,function(){a(1)}).when(r,function(){var t=(0,R._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter(function(e){return ua(e)}),n=t[0];n&&n.focus()}).when(o,function(){var t=(0,R._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter(function(e){return ua(e)}),n=t[t.length-1];n&&n.focus()})};this.element.addEventListener("keydown",a),this.addDestroyHook(function(){return e.element.removeEventListener("keydown",a)})}},{key:"__getElement",value:function(e){this.element.querySelectorAll("fv__ui-option-group-item")}}],[{key:"getName",value:function(){return"option-group"}}]),t}(ta)),GA=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[e,n,i])).activeClass="selected",r.iconCls="fv__icon-tick",r}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){(0,E._)((0,S._)(t.prototype),"createDOMElement",this).call(this);var e=document.createElement("li");return e.classList.add("fv__ui-option-group-item"),this.orderedElementsManager=new ko(e,[this.iconElement,this.textElement]),e}},{key:"trigger",value:function(e){for(var n,i=this,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];"click"!==e?(n=(0,E._)((0,S._)(t.prototype),"trigger",this)).call.apply(n,[this,e].concat((0,R._)(o))):this.isMultiple?(this.element.classList.toggle(this.activeClass),this.isSelected=$A(this.element,this.activeClass),(0,E._)((0,S._)(t.prototype),"trigger",this).call(this,e,{selected:this.isSelected})):$A(this.element,this.activeClass)||(Array.from(this.element.parentNode.children).forEach(function(e){e.classList.remove(i.activeClass)}),this.element.classList.add(this.activeClass),(0,E._)((0,S._)(t.prototype),"trigger",this).call(this,e,{selected:!0}))}},{key:"unSelected",value:function(e){var n=this;this.isMultiple?(this.element.classList.remove(this.activeClass),e&&(0,E._)((0,S._)(t.prototype),"trigger",this).call(this,e,{selected:!1})):this.element.parentNode.querySelectorAll("."+this.activeClass).forEach(function(e){e.classList.remove(n.activeClass)})}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=this.parent.element,i=this.element.getAttribute("selected");this.isMultiple=null!==n.getAttribute("multiple"),this.pdfUI.eventEmitter.once("open-file-success",function(){null!==i&&e.trigger("click","mounted")})}}],[{key:"getName",value:function(){return"option-group-item"}}]),t}(wa);function $A(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}n(706);var JA,qA=z.matchers.Space,KA=z.matchers.Enter,ZA=z.matchers.ArrowLeft,XA=z.matchers.ArrowRight,QA=z.matchers.Tab,ec=z.matchers.Home,tc=z.matchers.End,nc=z.matchers.or,ic=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){this.tabGroups=this.context.tabGroups,this.isClosed=!1,this.bodyComponentDefer=(0,z.createDeferred)(),this.bodyComponentPromise=this.bodyComponentDefer.promise,this.bodyComponentIsLoaded=!1}},{key:"createDOMElement",value:function(){var e=document.createElement("div"),t=document.createElement("span"),n=document.createElement("i"),i=document.createElement("i");return this.orderedElementManager=new ko(e,[i,t,n]),this.closeElement=n,this.iconElement=i,this.textElement=t,e}},{key:"render",value:function(){var e;((0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-gtab-item"),this.textElement.classList.add("fv__ui-gtab-item-text"),this.iconElement.classList.add("fv__ui-gtab-item-icon"),this.closeElement.classList.add("fv__ui-gtab-item-close"),this.iconCls)&&((e=this.iconElement.classList).add.apply(e,(0,R._)(this.iconCls.split(/\s/))),this.orderedElementManager.mount(this.iconElement));this.orderedElementManager.mount(this.textElement),this.closable&&this.orderedElementManager.mount(this.closeElement)}},{key:"setClosable",value:function(e){this.closable="boolean"==typeof e?e:this.closable,this.closable?this.orderedElementManager.mount(this.closeElement):this.orderedElementManager.unmount(this.closeElement)}},{key:"setText",value:function(e){this.text=e||this.text,this.texts.slice(0).forEach(function(e){return e.destroy()}),this.renderText(),this.localize()}},{key:"acceptText",value:function(){return!0}},{key:"renderText",value:function(){var e=this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n",this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&ea(e,this.texts.map(function(e){return e.element}))),this.orderedElementManager.mount(e),e}},{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.renderText()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.tabGroups.addTab(this),this.addDestroyHook(function(){e.tabGroups.removeTab(e)}),this.getRoot().waitForComponentLifecycle(this.body,Zo.Ah.mounted).then(function(t){var n=(0,M._)(t,1)[0];e.bodyComponentDefer.resolve(n),e.bodyComponentIsLoaded=!0}),this.attachEventToElement(this.element,"click",function(){e.disabled||e.active()}),this.attachEventToElement(this.closeElement,"click",function(t){t.stopPropagation(),e.disabled||e.close()}),this.isActive?(this.isActive=!1,this.active()):(this.isActive=!0,this.deactive()),this.attachEventToElement(this.element,"keydown",function(t){e.disabled||(0,z.match)(t).when(nc(qA,KA),function(){e.active()}).when(ec,function(){e.activeFirstTab(),t.stopPropagation(),t.preventDefault()}).when(tc,function(){e.activeLastTab(),t.stopPropagation(),t.preventDefault()}).when(ZA,function(){e.activePreviousTab(),t.stopPropagation(),t.preventDefault()}).when(XA,function(){e.activeNextTab(),t.stopPropagation(),t.preventDefault()}).shift(!1).when(QA,function(){if(e.isActive){var n=e.element.getAttribute("body"),i=e.getRoot().getComponentByName(n),r=i.element.querySelectorAll(".fx-ribbon-item-active");if(r.length>0)r=r[0];else if(!(r=i.element.querySelector(".fv__ui-grouplist-item>div:nth-child(1)")))return;var o=function(e){e.stopPropagation(),e.preventDefault(),e.target.removeEventListener("keyup",o)};r.addEventListener("keyup",o),r.focus(),t.preventDefault(),t.stopPropagation()}})}),this.bodyComponentPromise.then(function(t){t.attachEventToElement(t.element,"keydown",function(t){(0,z.isEditableElement)(t.target)||(0,z.match)(t).when(ZA,function(){e.activePreviousTab(),t.stopPropagation()}).when(XA,function(){e.activeNextTab(),t.stopPropagation()})})})}},{key:"doActive",value:function(){var e=this;this.element.classList.add("active"),this.tabGroups.getGroupTabs(this.groupName).forEach(function(t){t!==e&&t.isActive&&t.deactive()}),this.bodyComponentIsLoaded||this.getRoot().querySelector(this.body),this.bodyComponentPromise.then(function(e){e.show()})}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.bodyComponentPromise.then(function(e){e.hide()})}},{key:"doHidden",value:function(){if((0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.isActive){var e=this.getGroup().getVisibleTabs().find(function(e){return e.isDefaultActive});e&&e.active()}}},{key:"doShown",value:function(){(0,E._)((0,S._)(t.prototype),"doShown",this).call(this);var e=this.getGroup();if(e&&this===e.getLast()){var n=e.tabItems.find(function(e){return e.isActive});if(!n){var i=e.getVisibleTabs().find(function(e){return e.isDefaultActive});i&&i.active()}}}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(t.prototype),"doDestroy",this).call(this),this.destroyWithBody&&this.bodyComponentPromise.then(function(e){e.destroy()})}},{key:"getTabBodyComponent",value:function(){return this.bodyComponentPromise}},{key:"close",value:function(){this.isClosed||this.isDestroyed||(this.isClosed=!0,this.activeNext(),this.hide(),this.trigger("close"),this.destroyOnClose&&(this.destroy(),this.destroyWithBody||this.bodyComponentPromise.then(function(e){return e.destroy()})))}},{key:"activeNext",value:function(){var e,t=this.tabGroups.getGroupTabs(this.groupName).filter(function(e){return e.isVisible&&e.isDOMVisible()}),n=t.indexOf(this);(e=n===t.length-1?t[n-1]:t[n+1])&&e.active()}},{key:"open",value:function(){this.isClosed&&!this.isDestroyed&&(this.show(),1===this.tabGroups.getGroupTabs(this.groupName).length&&this.active(),this.isClosed=!1,this.trigger("open"))}},{key:"activeNextTab",value:function(){var e=this.getGroup().getNextOf(this);this._switchTabTo(e)}},{key:"activePreviousTab",value:function(){var e=this.getGroup().getPreviousOf(this);this._switchTabTo(e)}},{key:"activeFirstTab",value:function(){var e=this.getGroup().getFirst();this._switchTabTo(e)}},{key:"activeLastTab",value:function(){var e=this.getGroup().getLast();this._switchTabTo(e)}},{key:"_switchTabTo",value:function(e){e&&e!==this&&(e.active(),e.element.focus())}},{key:"getGroup",value:function(){return this.tabGroups.getGroup(this.groupName)}}],[{key:"getName",value:function(){return"gtab"}},{key:"getMetadata",value:function(){return{options:{"icon-class":{type:"string",field:"iconCls"},group:{type:"string",required:!0,field:"groupName"},body:{type:"string",required:!0},closable:{type:"boolean",defaultValue:!1},"destroy-on-close":{type:"boolean",defaultValue:!1,field:"destroyOnClose"},"destrory-with-body":{type:"boolean",defaultValue:!0,field:"destroyWithBody"},text:{type:"string"},"default-active":{type:"boolean",defaultValue:!1,field:"isDefaultActive"}}}}}]),t}(Zo.wA),rc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"doEnable",value:function(){}},{key:"doDisable",value:function(){}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doShown",value:function(){}},{key:"doHidden",value:function(){}},{key:"addCSSClass",value:function(){}},{key:"removeCSSClass",value:function(){}},{key:"prerender",value:function(){}},{key:"isIgnorable",value:function(){return this.ignoreable}},{key:"createDOMElement",value:function(){return document.createComment(this.text||"")}},{key:"acceptText",value:function(){return!0}},{key:"renderText",value:function(){this.localize()}},{key:"doLocalize",value:function(){return this.element.textContent=this.text,Promise.resolve()}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"html-comment"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},ignoreable:{type:"boolean",defaultValue:!1}}}}}]),t}(Zo.wA),oc=n(8448),ac={input:"change",select:"change",button:"click",a:"click"},sc=function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"is",value:function(e){return"{native}"===e||(0,E._)((0,S._)(t.prototype),"is",this).call(this,e)}},{key:"init",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this),Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.element),"value")&&this.attachEventToElement(this.element,"change",function(t){e.trigger("change",t)})}},{key:"setValue",value:function(e){this.element.value=e}},{key:"getValue",value:function(){return this.element.value}},{key:"isNative",value:function(){return!0}},{key:"createDOMElement",value:function(){return document.createElement(this.viewConfig.nodeName)}},{key:"acceptText",value:function(){return!0}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=this.handleon||ac[this.element.nodeName]||"click",i=function(t){e.disabled||((0,T._)(e.controller,oc.Z)||e.controller.handle(t),e.trigger(n,t))};this.element.addEventListener(n,i),this.addDestroyHook(function(){e.element.removeEventListener(n,i)})}},{key:"doDisable",value:function(){this.isNativeFormElement()?this.element.setAttribute("disabled","disabled"):(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this)}},{key:"doEnable",value:function(){this.isNativeFormElement()?this.element.removeAttribute("disabled"):(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this)}},{key:"isNativeFormElement",value:function(){switch(this.element.nodeName){case"SELECT":case"BUTTON":case"TEXTAREA":return!0}return!1}}],[{key:"getName",value:function(){return"{native}"}},{key:"getMetadata",value:function(){return{options:{handleon:{type:"string",required:!1}}}}}]),t}(ta),Ac=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("div");e.innerHTML=this.node.template;var t=e.firstElementChild;return e.removeChild(t),t}},{key:"mounted",value:function(){return ta.prototype.mounted.call(this)}}],[{key:"getName",value:function(){return"svg"}},{key:"preprocess",value:function(e){e.vnode.children=[]}}]),t}(sc),cc=(n(9674),["ltr","rtl","ttb"]),uc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){(0,E._)((0,S._)(t.prototype),"init",this).call(this),this.direction=this.direction||"ltr",this.delimiter=void 0===this.delimiter?":":this.delimiter,this.label=this.label||"",this.tag=this.tag||"label",this.description=this.description||""}},{key:"setDirection",value:function(e){if("string"!=typeof e||-1===cc.indexOf(e.toLowerCase()))throw new Error("Invalid direction value: ".concat(e,", it must be one of these: ").concat(cc.join(",")));e=e.toLowerCase(),this.direction=e,this.rerenderDomStructure()}},{key:"setDelimiter",value:function(e){this.delimiter="string"!=typeof e?"":e,this.delimeterElement.innerText=e}},{key:"getDelimiter",value:function(){return this.delimiter}},{key:"setLabel",value:function(e){this.label=e||"",this.labelContentElement.setAttribute("data-i18n",this.label),this.localizer.localizeElement(this.labelContentElement)}},{key:"setDescription",value:function(e){this.description=e||"",this.descriptionElement.setAttribute("data-i18n",this.description),this.localizer.localizeElement(this.descriptionElement),this.rerenderChildren()}},{key:"getDescription",value:function(){return this.description}},{key:"getLabel",value:function(){return this.label}},{key:"getDirection",value:function(){return this.direction}},{key:"rerenderLabel",value:function(){var e=[this.labelContentElement];switch(this.direction){case"ltr":case"ttb":e.push(this.delimeterElement)}this.diffRenderer(this.labelElement,e)}},{key:"createDOMElement",value:function(){return this.labelElement=document.createElement("span"),this.labelContentElement=(0,z.createDOM)("span",{class:"fv__ui-form-group-label-content"}),this.delimeterElement=(0,z.createDOM)("span",{class:"fv__ui-form-group-delimiter"}),this.descriptionElement=(0,z.createDOM)("div",{class:"fv__ui-form-group-description"}),this.containerElement=document.createElement("div"),document.createElement(this.attrs.tag||"label")}},{key:"prerender",value:function(){(0,E._)((0,S._)(t.prototype),"prerender",this).call(this),this.element.classList.add("fv__ui-form-group"),this.labelElement.classList.add("fv__ui-form-group-label"),this.containerElement.classList.add("fv__ui-form-group-container"),this.setLabel(this.label),this.setDelimiter(this.delimiter),this.setDirection(this.direction),this.setDescription(this.description)}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"rerenderDomStructure",value:function(){var e,t=[];"ltr"===this.direction||"ttb"===this.direction?t.push(this.labelElement,this.containerElement):t.push(this.containerElement,this.labelElement),this.rerenderLabel(),(e=this.element.classList).remove.apply(e,(0,R._)(["ltr","rtl","ttb"].map(function(e){return"fv__ui-form-group-"+e}))),this.element.classList.add("fv__ui-form-group-"+this.direction),this.diffRenderer(this.element,t)}},{key:"getAfterExtensionElements",value:function(){return this.description?[this.descriptionElement]:[]}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.addCSSClass("disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.removeCSSClass("disabled")}}],[{key:"getName",value:function(){return"form-group"}},{key:"getMetadata",value:function(){return{options:{direction:{type:"enum",enums:cc,defaultValue:"ltr"},delimiter:{type:"string",defaultValue:":"},label:{type:"string",defaultValue:""},description:{type:"string",required:!1,defaultValue:""},tag:{type:"string",defaultValue:"label"}}}}}]),t}(ta),lc=(n(2765),"SELECTED-VALUES"),dc="USER-SELECT-VALUES",hc=function(){function e(){(0,C._)(this,e),(0,U._)(this,"selectedValues",new Set),(0,U._)(this,"emitter",new(ra())),(0,U._)(this,"multipleLimit",-1)}return(0,D._)(e,[{key:"setMultipleLimit",value:function(e){if(this.multipleLimit=e,this.selectedValues.size>this.multipleLimit){var t=this.getSelectedValues();this.overrideValues(t.slice(0,this.multipleLimit))}}},{key:"selectValue",value:function(e){var t=Array.from(this.selectedValues);if(this.selectedValues.size===this.multipleLimit){var n=this.getSelectedValues();this.selectedValues=new Set(n.slice(1))}var i=this.selectedValues.size;this.selectedValues.add(e),this.selectedValues.size>i&&this.emitChange(Array.from(this.selectedValues),t)}},{key:"unselectValue",value:function(e){var t=this;this.handleChange(function(){t.selectedValues.delete(e)})}},{key:"replaceValue",value:function(e,t){var n=this;this.handleChange(function(){n.selectedValues.delete(e),n.selectedValues.add(t)})}},{key:"getSelectedValues",value:function(){return Array.from(this.selectedValues)}},{key:"isValueSelected",value:function(e){return this.selectedValues.has(e)}},{key:"overrideValues",value:function(e){var t=this;this.handleChange(function(){t.selectedValues=new Set(e)})}},{key:"onValuesChanged",value:function(e){return this.registerEvent(lc,e)}},{key:"onUserChanged",value:function(e){return this.registerEvent(dc,e)}},{key:"registerEvent",value:function(e,t){var n=this;return this.emitter.on(e,t),function(){n.emitter.off(e,t)}}},{key:"emitChange",value:function(e,t){this.emitter.emit(lc,e,t)}},{key:"emitUserChange",value:function(e,t){this.emitter.emit(dc,e,t)}},{key:"handleChange",value:function(e){var t=Array.from(this.selectedValues);e(),this.emitChange(Array.from(this.selectedValues),t)}}],[{key:"scope",value:function(){return xo.U.COMPONENT_TREE}}]),e}(),fc=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"service",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("li");return e.className="fv__ui-widget-sel-option",e}},{key:"setValue",value:function(e){this.isSelected()&&this.service.replaceValue(this.value,e),this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"setSelected",value:function(e){e?this.service.selectValue(this.value):this.service.unselectValue(this.value),this.applyNewState()}},{key:"isSelected",value:function(){return this.service.isValueSelected(this.value)}},{key:"acceptText",value:function(){return!0}},{key:"prelink",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"prelink",this).call(this),this.attachEventToElement(this.element,"click",function(){e.trigger("click"),e.handleUserChange(function(){e.service.selectValue(e.getValue())})},{}),this.addDestroyHook(this.service.onValuesChanged(function(){e.applyNewState()}))}},{key:"select",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.handleUserChange(function(){e.service.selectValue(e.getValue())}):this.service.selectValue(this.getValue())}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.handleUserChange(function(){e.setValue(e.value)})}},{key:"handleUserChange",value:function(e){var t=this.service.getSelectedValues();e();var n=this.service.getSelectedValues(),i=n.some(function(e){return-1==t.indexOf(e)});i&&this.service.emitUserChange(n,t)}},{key:"applyNewState",value:function(){if(this.element){var e=this.isSelected();this.element.classList.toggle("fv__ui-widget-sel-option-selected",e),e&&this.element.scrollIntoViewIfNeeded()}}}],[{key:"getName",value:function(){return"sel-option"}},{key:"inject",value:function(){return{service:hc}}},{key:"getMetadata",value:function(){var e=ta.getMetadata();return e.options.selected={type:"boolean",defaultValue:!1,required:!1},e}}]),t}((0,z.mix)(ta)),pc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){var e=this;this.setMultipleLimit(this.multipleLimit),this.addDestroyHook(this.service.onUserChanged(function(t,n){e.trigger("change",t,n)}))}},{key:"setMultipleLimit",value:function(e){this.service.setMultipleLimit(e)}},{key:"createDOMElement",value:function(){var e=document.createElement("ul");return e.className="fv__ui-widget-select-list",e.tabIndex=0,e}},{key:"getValue",value:function(){return this.service.getSelectedValues()}},{key:"setValue",value:function(e){e||(e=[]),this.service.overrideValues(e)}},{key:"getOptionChildren",value:function(){return this.children().filter(function(e){return(0,T._)(e,fc)})}},{key:"getSelectedOptionChildren",value:function(){return this.getOptionChildren().filter(function(e){return e.isSelected()})}}],[{key:"getName",value:function(){return"select-list"}},{key:"inject",value:function(){return{service:hc}}},{key:"getMetadata",value:function(){var e=ta.getMetadata();return e.options.singleton={required:!1,defaultValue:!0},e.options.limit={field:"multipleLimit",required:!1,defaultValue:1/0,min:-1,max:1/0,type:"range"},e}}]),t}((0,z.mix)(ta)),gc=function(){function e(){(0,C._)(this,e),(0,U._)(this,"observersMap",new WeakMap)}return(0,D._)(e,[{key:"observe",value:function(e,t){return this.observeWithinRoot(document.body,e,t)}},{key:"observeWithinRoot",value:function(e,t,n){return this.getObserver(e).observe(t,function(e,t){return n(t)})}},{key:"getObserver",value:function(e){return this.observersMap.has(e)||this.observersMap.set(e,new z.BuiltinIntersectionObserver(e)),this.observersMap.get(e)}}]),e}(),vc=function(){function e(){(0,C._)(this,e),(0,U._)(this,"store",new z.Store)}return(0,D._)(e,[{key:"onDetect",value:function(e,t){return this.store.subscribe(e,t)}},{key:"dispatch",value:function(e,t){return this.store.dispatch(e,t)}},{key:"remove",value:function(e){this.store.remove(e)}}]),e}(),mc=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"intersectionService",void 0),(0,U._)(e,"detectorService",void 0),(0,U._)(e,"intersectionObserverRoot",document),(0,U._)(e,"unobserve",z.noop),e}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.style.cssText+="height: ".concat(this.height,"px; width: 10px;")}},{key:"mounted",value:function(){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.observe()}},{key:"observe",value:function(){var e=this;this.unobserve();var t=this.intersectionService.observeWithinRoot(this.intersectionObserverRoot,this.element,function(t){e.isDestroyed||e.detectorService.dispatch(e.ownerId,{isVisible:t,range:e.range.split("-").map(function(e){return parseInt(e)})})}),n=this.addDestroyHook(t);this.unobserve=function(){n(),t()}}},{key:"setRoot",value:function(e){this.intersectionObserverRoot=e,this.isMounted&&this.observe()}},{key:"isIgnorable",value:function(){return!0}}],[{key:"getName",value:function(){return"intersection-detector"}},{key:"getMetadata",value:function(){return{options:{height:{type:"number",min:1,required:!0},"owner-id":{type:"string",required:!0,field:"ownerId"},range:{type:"string",match:/^\d+\-\d+$/}}}}},{key:"inject",value:function(){return{intersectionService:gc,detectorService:vc}}}]),t}(Zo.wA),yc=(n(6607),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("button");return e.classList.add("fv__ui-color-picker-button"),e.type="button",e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.setValue(this.value),this.addDestroyHook(this.delegateEventService.delegate(this.element,"click",function(){e.onClick()}))}},{key:"onClick",value:function(){var e=this;this.spectrum||(this.spectrum=this.getRoot().append("<color-spectrum @aria:circular-focus></color-spectrum>"),this.addDestroyHook(function(){var t;null===(t=e.spectrum)||void 0===t||t.destroy()})),void 0!==this.value&&null!==this.value&&this.spectrum.setDefaultColor(this.value),this.spectrum.showTransparent(this.showTransparent).show(this.element,function(){var t,n=e.getValue(),i=null===(t=e.spectrum)||void 0===t?void 0:t.getValue();e.setValue(i),e.triggerChangeEvent(i,n)})}},{key:"setValue",value:function(e){(0,E._)((0,S._)(t.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"setDOMValue",value:function(e){var t="0"!==e&&!!e;this.element.classList.toggle("fv__ui-color-picker-button-empty",!t),t?this.element.style.setProperty("--value",e):(this.element.style.setProperty("--value","transparent"),this.element.removeAttribute("value"))}},{key:"getDOMValue",value:function(){return this.element.style.getPropertyValue("--value")}}],[{key:"getName",value:function(){return"color-picker-button"}},{key:"getMetadata",value:function(){return{options:{"show-transparent":{required:!1,defaultValue:!0,field:"showTransparent",type:"boolean"}}}}},{key:"inject",value:function(){return{delegateEventService:Vo}}}]),t}(ka)),_c=(n(9302),function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"value",z.PDFUnitNumber.NaN()),e}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return(0,z.createDOM)("div",{class:"fv__ui-pdf-unit-number-input"},[this.editorElement=(0,z.createDOM)("input",{class:"fv__ui-pdf-unit-input-number-editor"}),(0,z.createDOM)("div",{class:"fv__ui-pdf-unit-number-input-buttons"},[this.incrementElement=(0,z.createDOM)("button",{class:"fv__ui-pdf-unit-number-input-increment"},[]),this.decrementElement=(0,z.createDOM)("button",{class:"fv__ui-pdf-unit-number-input-decrement"},[])])])}},{key:"getFormFieldElement",value:function(){return this.editorElement}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.addDestroyHook(this.delegateEventService.delegate(this.incrementElement,"click",function(){var t=e.value,n=t.add(z.PDFUnitNumber.one(t.unit));e.setValue(n),e.triggerChangeEvent(n,t)}),this.delegateEventService.delegate(this.decrementElement,"click",function(){var t=e.value,n=t.minus(z.PDFUnitNumber.one(t.unit));e.setValue(n),e.triggerChangeEvent(n,t)}),this.delegateEventService.delegate(this.editorElement,"beforeinput",function(t){switch(t.inputType){case"insertText":var n;if("p"===t.data&&e.value.unit===z.PDFUnit.Picas&&-1===e.getDOMValue().indexOf("p"))break;(null===(n=t.data)||void 0===n?void 0:n.match(/\d+/))||t.preventDefault()}}),this.delegateEventService.delegate(this.editorElement,"change",function(t){var n=e.getDOMValue();try{var i=e.value,r=z.PDFUnitNumber.parse(n,i.unit);e.triggerChangeEvent(r,i)}catch(t){e.setDOMValue(e.value.format())}}))}},{key:"getForwardedEvents",value:function(){return[]}},{key:"setValue",value:function(e){"number"==typeof e?e=new z.PDFUnitNumber(e,this.value.unit):e||(e=z.PDFUnitNumber.NaN(this.value.unit)),(0,E._)((0,S._)(t.prototype),"setValue",this).call(this,e),this.setDOMValue((null==e?void 0:e.format())||"")}},{key:"setUnit",value:function(e){var t=this.value.convert(e);this.setValue(t)}},{key:"getPointValue",value:function(){return this.value.convert(z.PDFUnit.Point).value}},{key:"doDisable",value:function(e){return this.editorElement.setAttribute("disabled",""),(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this,e)}},{key:"doEnable",value:function(e){return this.editorElement.removeAttribute("disabled"),(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this,e)}}],[{key:"getName",value:function(){return"pdf-unit-number-input"}},{key:"inject",value:function(){return{delegateEventService:Vo}}}]),t}(ka)),bc=(n(4827),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement("textarea");return e.classList.add("fv__ui-textarea"),e}},{key:"mounted",value:function(){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),(0,E._)((0,S._)(t.prototype),"resolveCompositionEvent",this).call(this)}},{key:"setValue",value:function(e){(0,E._)((0,S._)(t.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"getDOMValue",value:function(){return this.element.value}},{key:"setDOMValue",value:function(e){this.element.value=e}},{key:"doDisable",value:function(e){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this,e),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(e){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this,e),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"textarea"}}]),t}(ka)),wc=(n(5111),n(3667)),kc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"parseComponent",value:function(e,t){var n=this,i=this.getPlaceholder(e,t);return Promise.resolve(this.getNewNode(e,t)).then(function(r){r&&(e.context.isDestroyed||n.parseNewNode(i,r,e,t))}),i}},{key:"parseNewNode",value:function(e,t,n,i){var r=this,o=e.index(),a=t.asyncFragments;a&&a.length>0&&(a.forEach(function(e){e.ignoreAsync=!0}),n.parseFragments(a,t));var s=t.parent;t.removeAttribute(this.attrName),t.directives=t.directives.filter(function(e){return e.attrName!==r.attrName});var A=s.children.indexOf(this.node);t.parent=s;var c=this.parentComponent,u=n.parseNode(t,c,i);return c.insert(u,o),e.destroy(),s.children[A]=t,u.localize(),c.isMounted&&(u.isMounted||u.mounted()),u}},{key:"getPlaceholder",value:function(e,t){var n="@".concat(this.attrName,'="').concat(this.attrValue,'"'),i=new Yo.Z({namespace:"",nodeName:"html-comment",attrs:{name:this.node.name,ignoreable:"true"},text:n,template:'<html-comment name="'.concat(this.node.name,'" ignoreable>').concat(n,"</html-comment>")});return e.parseNode(i)}},{key:"getNewNode",value:function(){(0,z.notImplemented)()}}],[{key:"isParser",value:function(){return!0}}]),t}(bo.X),xc=(n(3292),JA={},(0,U._)(JA,"active","deactive"),(0,U._)(JA,"deactive","active"),(0,U._)(JA,"shown","hidden"),(0,U._)(JA,"hidden","shown"),(0,U._)(JA,"enable","disable"),(0,U._)(JA,"disable","enable"),function(){function e(){(0,C._)(this,e),(0,U._)(this,"level",1)}return(0,D._)(e,[{key:"getComponentInstance",value:function(e,t){var n;if((0,T._)(t,wc.Q))n=t.component;else if((0,T._)(t,bo.X))n=t.component;else{if(!(0,T._)(t,Zo.wA))throw new Error("A MULTI-CASE service cannot be injected into ".concat(t,", only Controller, Directive and Component can!"));n=t}if(t.isDestroyed)throw new Error("Unable to get service instances from the destroyed components!");var i=n.$services,r=i.find(function(t){return(0,T._)(t,e)});if(r)return r;var o=new e(n);return i.push(o),o}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,z.invokeAddDestroyHook)(i,function(){(0,z.invokePullout)(n,r)})}},{key:"destroyComponents",value:function(){}},{key:"define",value:function(){}}]),e}()),Pc=function(){function e(){(0,C._)(this,e),(0,U._)(this,"level",0)}return(0,D._)(e,[{key:"destroyComponents",value:function(){}},{key:"getComponentInstance",value:function(e,t){var n=void 0;if((0,T._)(t,wc.Q)||(0,T._)(t,bo.X)?n=t.component:(0,T._)(t,Zo.wA)&&(n=t),!(0,T._)(n,Zo.wA))throw new TypeError("'component-tree' scoped service must be depends by Controller, Directive and Component");n.$child_services||(n.$child_services=[]);var i=n.$child_services.find(function(t){return(0,T._)(t,e)});return i||(i=new e(n),n.$child_services.push(i)),i}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,z.invokeAddDestroyHook)(i,function(){(0,z.invokePullout)(n,r)})}},{key:"define",value:function(){}}]),e}(),Cc=function(){function e(){(0,C._)(this,e),(0,U._)(this,"level",0)}return(0,D._)(e,[{key:"destroyComponents",value:function(){}},{key:"getComponentInstance",value:function(e,t){var n=void 0;if((0,T._)(t,wc.Q)||(0,T._)(t,bo.X)?n=t.component:(0,T._)(t,Zo.wA)&&(n=t),!(0,T._)(n,Zo.wA))throw new TypeError("'component-tree' scoped service must be depends by Controller, Directive and Component");var i=function(e,t){if(!e)return;var n,i=[],r=e;for(;r;)i.push(r),r=r.parent;return i.some(function(e){return n=e.$services.find(function(e){return(0,T._)(e,t)}),!!n}),n}(n,e);return i||(i=new e(n),n.$services.push(i)),i}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,z.invokeAddDestroyHook)(i,function(){(0,z.invokePullout)(n,r)})}},{key:"define",value:function(){}}]),e}();n(1406);var Dc=function(){function e(t){(0,C._)(this,e),this.name=t,this.tabItems=[]}return(0,D._)(e,[{key:"addTab",value:function(e){this.tabItems.push(e)}},{key:"removeTab",value:function(e){var t=this.tabItems.indexOf(e);if(-1!=t){if(e.isActive)this.tabItems[t].active();return this.tabItems.splice(t,1),this.tabItems.length>0}}},{key:"getFirst",value:function(){return this.getVisibleTabs()[0]}},{key:"getLast",value:function(){var e=this.getVisibleTabs();return e[e.length-1]}},{key:"getPreviousOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return 0===n?this.getLast():n>0?t[n-1]:e}},{key:"getNextOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return n===t.length-1?this.getFirst():n>-1?t[n+1]:e}},{key:"getVisibleTabs",value:function(){return this.tabItems.filter(function(e){return e.isVisible})}}]),e}(),Ec=function(){function e(){(0,C._)(this,e),this.groups={}}return(0,D._)(e,[{key:"addTab",value:function(e){var t=e.groupName,n=this.groups[t]||new Dc(t);this.groups[t]=n,n.addTab(e)}},{key:"removeTab",value:function(e){var t=e.groupName,n=this.groups[t];n&&(n.removeTab(e)||(this.groups[t]=void 0,delete this.groups[t]))}},{key:"getGroupTabs",value:function(e){var t=this.groups[e];return t?t.tabItems:[]}},{key:"getGroup",value:function(e){return this.groups[e]}}]),e}(),Sc=function(){function e(){(0,C._)(this,e),this.components={}}return(0,D._)(e,[{key:"_addComponent",value:function(e,t){var n=this.components[t]||[];return this.components[t]=n,n.push(e),function(){for(var t=-1;-1!==(t=n.indexOf(e,t+1));)n.splice(t,1)}}},{key:"addComponent",value:function(e){var t=this,n=[arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name].concat(e.aliasNames).filter(Boolean).map(function(n){return t._addComponent(e,n)});return function(){n.forEach(function(e){return e()})}}},{key:"getComponentByName",value:function(e,t){var n=this.components[e];if(!n)return null;var i=n.find(function(e){return e.isDescendantOf(t)});return i?i.lazyLoad():null}},{key:"getComponentsByName",value:function(e,t){var n=this.components[e];return n?n.filter(function(e){return e.isDescendantOf(t)}).map(function(e){return e.lazyLoad()}):[]}}]),e}(),Ic="fv-ui-component-tree-modified",Tc="new-component-instance",Mc=function(){function e(t){(0,C._)(this,e),this.parser=t.parser,this.templateParser=t.templateParser,this.localizer=t.localizer,this.ioc=t.ioc,this.store=new z.Store,this.tabGroups=new Ec,this.pool=new Sc,this.eventEmitter=new ia.EventEmitter,this.postHandle=t.postHandle||function(){},this.isDestroyed=!1}return(0,D._)(e,[{key:"destroy",value:function(){this.isDestroyed=!0,this.store.destroy()}},{key:"triggerModifyTree",value:function(e,t,n){this.store.dispatch(Ic,{container:e,child:t,type:n})}},{key:"onModifyTree",value:function(e){return this.store.subscribe(Ic,function(t){e(t.container,t.child,t.type)})}},{key:"triggerStatusChange",value:function(e,t){this.eventEmitter.emit("status-change",{component:e,type:t})}},{key:"onStatusChange",value:function(e){return this.addEventListener("status-change",e)}},{key:"triggerObtainsComponentOf",value:function(e){this.eventEmitter.emit("obtains-components",e)}},{key:"onObtainsComponentOf",value:function(e){return this.addEventListener("obtains-components",e)}},{key:"dispatchNewComponent",value:function(e){this.eventEmitter.emit(Tc,e)}},{key:"onNewComponentInstance",value:function(e){return this.addEventListener(Tc,e)}},{key:"addEventListener",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}}]),e}(),Rc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=document.createElement(this.domName);return e.classList.add("fv__ui-content-editor"),e.setAttribute("contenteditable",z.isFirefox?"":"plaintext-only"),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),(0,E._)((0,S._)(t.prototype),"resolveCompositionEvent",this).call(this);var n=!1;this.addDestroyHook(this.delegateEventService.delegate(this.element,"input",function(){n=!0}),this.attachEventToElement(this.element,"blur",function(){n&&e.triggerChangeEvent(),n=!1},{}),this.delegateEventService.delegate(this.element,"paste",function(t){var i,r=(null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text/plain"))||"",o=window.getSelection(),a=e.getDOMValue();if(o&&o.rangeCount>0){var s=o.getRangeAt(0);s.deleteContents(),s.insertNode(document.createTextNode(r)),s.collapse(),n=!0;var A=e.getDOMValue();e.trigger("input",A,a,null,t)}t.preventDefault()}))}},{key:"getForwardedEvents",value:function(){return["blur","focus","keyup","keydown","keypress"]}},{key:"setValue",value:function(e){(0,E._)((0,S._)(t.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"getDOMValue",value:function(){return this.element.innerText}},{key:"setDOMValue",value:function(e){this.element.innerText=e}},{key:"doDisable",value:function(e){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this,e),this.element.classList.add("fv__ui-content-editor-disabled")}},{key:"doEnable",value:function(e){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this,e),this.element.classList.remove("fv__ui-content-editor-disabled")}}],[{key:"getName",value:function(){return"content-editor"}},{key:"getMetadata",value:function(){return{options:{is:{type:"string",defaultValue:"div",field:"domName"}}}}},{key:"inject",value:function(){return{delegateEventService:Vo}}}]),t}(ka),Fc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getEventTarget",value:function(){throw new Error("getEventTarget() not implemented")}},{key:"createDOMElement",value:function(){return document.createComment(this.type)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=this.getEventTarget();this.directive.directives.filter(function(e){return(0,T._)(e,Ho)}).forEach(function(t){var i=t.eventName,r=function(t){e.trigger(i,t)},o=t.modifiers,a={};o.delegate&&(a.capture=!0),o.once&&(a.once=!0),o.passive&&(a.passive=!0),n.addEventListener(i,r,a),e.addDestroyHook(function(){n.removeEventListener(i,r,a)})})}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}},{key:"render",value:function(){}},{key:"renderElementId",value:function(){}},{key:"rerenderChildren",value:function(){}},{key:"localize",value:function(){}},{key:"doLocalize",value:function(){}},{key:"update",value:function(){}},{key:"updateVisiblityStatus",value:function(){}},{key:"updateDisableStatus",value:function(){}},{key:"updateActiveStatus",value:function(){}},{key:"doShown",value:function(){}},{key:"doHidden",value:function(){}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doEnable",value:function(){}},{key:"doDisable",value:function(){}}]),t}(Zo.wA),Nc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getEventTarget",value:function(){return window}}],[{key:"getName",value:function(){return"window-event-listener"}}]),t}(Fc),Lc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getEventTarget",value:function(){return document}}],[{key:"getName",value:function(){return"document-event-listener"}}]),t}(Fc),Oc=/^(?:(\w+)\s+in\s+?)(?:(.+?)(\s+track\s+by\s+(\S+?))?)\s*$/,jc=z.LoggerFactory.getLogger("@foreach"),Bc=0,Vc=Symbol("@foreach-intersection-lazy-value"),Hc="@foreach-intersection-data-"+Date.now().toString(16)+"-",Uc=function(){function e(t,n,i){(0,C._)(this,e),this.id=Hc+t+n,this.ownerId=t,this.range=n,this.totalHeight=i}return(0,D._)(e,[{key:"toNode",value:function(){return new Yo.v({nodeName:mc.getName(),attrs:{"owner-id":this.ownerId,height:this.totalHeight+"",range:this.range.join("-")}})}}]),e}(),zc=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t)).directive=e,o.parser=n,o.initData=i,o.placeholderComponent=r,o.componentMap=new Map,o.componentCache=new Map,o.components=[],o.mappedValue=[],o.newValue=[],o.parentController=e.parentComponent.controller,o.itemHeight=-1,o}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e){if(Array.isArray(e)){this.newValue=e;var t=e.length,n=this.directive.getLazyMode();this.directive.trackby?"none"!==n&&t>this.directive.getlazyThreshold()?this.insertWithDelayAndTracking(e):this.insertWithTracking(e):"none"!==n&&t>this.directive.getlazyThreshold()?this.insertWithDelayAndReplaceAll(e):this.replaceAll(e)}else jc.warn("data is not an array: ",e)}},{key:"insertWithDelayAndTracking",value:function(e){var t=this,n=this.directive.getlazyThreshold(),i=this.directive.parentComponent;if(this.itemHeight=this.directive.getItemHeight(),this.itemHeight<0){var r=this.insertWithTracking(e.slice(0,2)),o=r[0],a=r[1],s=o.element.getBoundingClientRect(),A=a.element.getBoundingClientRect();this.itemHeight=A.bottom-s.bottom}var c=this.itemHeight,u=this.directive.getLazyMode(),l="intersection"===u?Array(e.length).fill(Vc):e.map(function(e,t){return t<n?e:Vc});this.mappedValue=l;var d=function(i,r){for(var o=i;o<e.length;){var a=Math.min(n,e.length-o);l[o]=new Uc(t.directive.id,[o,Math.min(e.length,o+n)],a*r),o+=n}};d("intersection"===u?0:n,c),this.insertWithTracking(l),this.unobserve&&this.unobserve();var h=i.context.ioc.getInstanceByClass(vc),f=new Map;this.directive.intersectionExecutor.cancel(),this.unobserve=h.onDetect(this.directive.id,function(n){var i=n.isVisible,r=n.range;f.set(r.join(","),i),t.directive.isDestroyed||t.directive.intersectionExecutor.exec(function(){if(!t.directive.isDestroyed){var n="intersection"===u;n&&(l.forEach(function(e,t){return l[t]=Vc}),d(0,c)),f.forEach(function(t,n){if(t){var i=n.split(",").map(function(e){return parseInt(e)});if(!(i[0]>=e.length))for(var r=i[0],o=Math.min(e.length,i[1]),a=r;a<o;a++)a<e.length&&(l[a]=e[a])}}),n||f.clear(),t.insertWithTracking(l)}})})}},{key:"insertWithDelayAndReplaceAll",value:function(e){this.replaceAll(e)}},{key:"replaceAll",value:function(e){var t=this,n=e.map(function(e,n){var i,r=Object.assign((i={},(0,U._)(i,t.directive.itemName,e),(0,U._)(i,"$index",n),i),t.initData||{});return t.parser.parseNode(t.directive.cloneNode(),t.directive.parentComponent,r,!0)}),i=this.directive.parentComponent;this.components.forEach(function(e){e.destroy()}),this.components=n;var r=i.indexOf(this.placeholderComponent);i.insertAll(this.components,r),n.length>0&&i.localize(),n.forEach(function(e){e.isMounted||e.mounted()})}},{key:"insertWithTracking",value:function(e){var t=this,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Map;return t.forEach(function(e){e.forEach(function(e,t){i.set(t,e)})}),i}(this.componentMap,this.componentCache),i=this.directive.useCache,r=new Map,o=[],a=[],s=e.map(function(e,i){if(e!==Vc){if((0,T._)(e,Yo.v)){var s=t.parser.parseNode(e,t.directive.parentComponent,void 0,!0);return o.push(s),r.set(s.id,s),s}var A,c,u=(0,T._)(e,Uc);if(u)A=e.id;else if("$self"!==t.directive.trackby||Object.prototype.hasOwnProperty.call(e,"$self"))try{A=t.parentController.eval(t.directive.trackby,e)}catch(n){var l=e&&"object"===(void 0===e?"undefined":(0,F._)(e))?Object.keys(e):[];jc.error("Incorrect trackby expression: ".concat(t.directive.trackby).concat(l.length>0?", it should be one of "+l.join(" or "):""))}else A=e;if(r.has(A))return!1;var d=Object.assign((c={},(0,U._)(c,t.directive.itemName,e),(0,U._)(c,"$index",i),c),t.initData||{}),h=n.get(A);if(h)Object.assign(h.controller.data,d),a.push(h),n.delete(A);else{var f=u?e.toNode():t.directive.cloneNode();if(h=t.parser.parseNode(f,t.directive.parentComponent,d,!0),u){if(h.setRoot){var p=t.directive.getIntersectionRoot();h.setRoot(p)}var g;h.lazyLoad=function(){h.lazyLoad=function(){throw new Error("[@foreach] Cyclic load detected!")};var e=h.index();t.mappedValue[e]=t.newValue[e];var n=t.insertWithTracking(t.mappedValue);return g=n[0],h.lazyLoad=function(){return g},g}}o.push(h)}return r.set(A,h),h}}).filter(Boolean),A=a.map(function(e){return e.controller}).filter(function(e,t,n){return-1===n.findIndex(function(t){return t.$$watches===e.$$watches})});A.forEach(function(e){return e.digest()}),n.forEach(function(e,n){r.has(n)||(i?(e.remove(),t.componentCache.set(n,e)):e.destroy())}),this.componentMap=r;var c=this.directive.parentComponent,u=c.indexOf(this.placeholderComponent);return c.insertAll(s,u),this.components=s,o.length>0&&c.localize(),o.forEach(function(e){e.isMounted||e.mounted()}),s}}]),t}(To),Wc=function(e){function t(e){var n;if((0,C._)(this,t),!(n=(0,P._)(this,t,[e])).node.parent)throw new Error("Unsupported operation: @foreach directive is not supported for root node.");var i=(0,M._)(n.parseForeachExpression(n.attrValue),3),r=i[0],o=i[1],a=i[2];if(n.itemName=r||"$item",n.dataName=o,n.trackby=a,n.id="directive-".concat(Bc++),n.parentComponent.once(Do.qo.DESTROYED,function(){n.destroy()}),n.useCache=n.modifiers.cached,n.immediatly=n.modifiers.immediate,"none"!==n.getLazyMode()){var s=n.parentComponent.context.ioc.getInstanceByClass(vc);n.intersectionExecutor=new z.DebounceAsyncTaskExecutor(50),n.addDestroyHook(function(){s&&s.remove(n.id),n.intersectionExecutor.cancel()})}return n}return(0,I._)(t,e),(0,D._)(t,[{key:"getlazyThreshold",value:function(){return this.dynamics.threshold()||150}},{key:"getLazyMode",value:function(){return this.dynamics.lazyMode()||"none"}},{key:"getItemHeight",value:function(){return this.dynamics.itemHeight()||-1}},{key:"getIntersectionRoot",value:function(){return this.dynamics.intersectionRoot()||document}},{key:"parseForeachExpression",value:function(e){var t=e.match(Oc);if(!t)throw new Error("incorrect foreach expression: ".concat(e));var n=(0,M._)(t,5);return[n[1],n[2],n[4]]}},{key:"parseComponent",value:function(e,t){this.placeholderComponent=e.parse('<html-comment ignoreable>@foreach="'.concat(this.attrValue,'"</html-comment>'));var n=new zc(this,e,t,this.placeholderComponent),i=this.parentComponent.controller.watch(this.dataName,function(e,t){n.receive(e,t)});return this.immediatly&&i.invoke(),this.addDestroyHook(i),this.placeholderComponent}},{key:"componentMounted",value:function(){this.parentComponent.controller.digest()}},{key:"cloneNode",value:function(){return this.node.clone()}}],[{key:"getName",value:function(){return"foreach"}},{key:"isParser",value:function(){return!0}}]),t}(bo.X);var Yc=/^((?:.+?:)?\w+)(?:\s+as\s+(\w+))?$/,Gc="controller",$c="set.property",Jc=function(e){function t(e){var n;if((0,C._)(this,t),(n=(0,P._)(this,t,[e])).type=Gc,"alias"===n.subName)n.aliasName=n.attrValue,n.type="alias";else if(n.subName&&0===n.subName.indexOf("set."))n.type=$c,n.setPropertyName=n.subName.substring(4);else{var i=n.attrValue.trim().match(Yc);if(!i)throw new Error("Incorrect @controller format: ".concat(n.attrValue));n.controllerName=i[1],n.aliasName=i[2]}return n}return(0,I._)(t,e),(0,D._)(t,[{key:"processComponentOptions",value:function(e){if(this.type===Gc){if("function"==typeof e.callback)return;var t=this.controllerName,n=t.split(Do.oB),i=this.node.module;n.length>1&&(i=Io.Z.module(n[0]));var r=i.getControllerClass(n.pop())||e.callback;if(!r)throw new Error("controller not found: ".concat(t));e.callback=r}}},{key:"init",value:function(e){if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),e.controller.data[this.aliasName]=e.controller,this.type===$c){var n=e.controller;n[this.setPropertyName]=n.eval(this.attrValue)}}}],[{key:"getName",value:function(){return"controller"}}]),t}(bo.X),qc=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"parseComponent",value:function(e,t){var n,i=this,r=e.parse('<html-comment ignoreable>@if="'.concat(this.attrValue,'"</html-comment>')),o=this.parentComponent,a=o.controller.watch(this.attrValue,function(a){if(a){if(n)return;var s=i.cloneNode(),A=e.parseNode(s,o,t,!0),c=o.indexOf(r);o.insert(A,c),n=A,o.isMounted&&(A.localize(),A.mounted())}else{var u=n;n=null,u&&u.destroy()}});return this.addDestroyHook(a),o.isMounted?a.invoke():o.once(Do.qo.MOUNTED,function(){a.invoke()}),r}},{key:"cloneNode",value:function(){var e=this.node.clone();return e}}],[{key:"getName",value:function(){return"if"}},{key:"isParser",value:function(){return!0}}]),t}(bo.X),Kc=(n(3883),z.LoggerFactory.getLogger("@draggable")),Zc=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.dragOptions=this.attrValue?e.controller.eval(this.attrValue):{}}},{key:"componentMounted",value:function(){var e=this,t=this.component.element,n=this._resolveMoveTarget();if(n){if(n.classList.add("fv__ui-draggable-target"),t.classList.add("fv__ui-draggable-action"),n.parentElement){var i=n.parentElement,r=getComputedStyle(i);r.position&&"static"!==r.position||(i.style.cssText+="position: relative")}var o,a,s,A=new Hammer.Manager(t);A.add(new Hammer.Pan);var c,u=!0,l=this.dragOptions.overflow||"stop",d=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.offsetHeight;s&&"ignore"!==l&&(e=Math.max(0,Math.min(e,s.right-i)),t=Math.max(0,Math.min(t,s.height-r))),n.style.cssText+="left: ".concat(e,"px; top: ").concat(t,"px; right: auto; bottom: auto;")},h=function(e){if(!t.$isResizing){var n=o+e.deltaX,i=a+e.deltaY;d(n,i)}},f=(c=!1,function(){if(!c){c=!0;var t=!1,i=function(){s=n.parentElement.getBoundingClientRect();var e=n.getBoundingClientRect(),i=e.left-s.left,r=e.top-s.top;d(i,r),t=!1},r=(0,z.observeResize)(n.parentElement,function(){n.parentElement?i():t=!0}),o=new MutationObserver(function(e){if(t){var r=e.find(function(e){return Array.from(e.addedNodes).includes(n)});r&&i()}});o.observe(n.parentElement,{childList:!0}),e.addDestroyHook(function(){return o.disconnect()}),e.addDestroyHook(r)}});A.on("panstart",function(e){if(u=function(e){if((0,z.isEditableElement)(e))return!1;for(;e;){if(e.$$DRAG_STOPPED$$)return!1;e=e.parentElement}return!0}(e.target)){f(),s=n.parentElement.getBoundingClientRect();var t=n.getBoundingClientRect();o=t.left-s.left,a=t.top-s.top,n.style.cssText+="\n                left: ".concat(o,"px;\n                top: ").concat(a,"px;\n                right: auto;\n                bottom: auto;\n                transform: none;\n            "),n.classList.add("fv__ui-draggable-moved"),h(e)}}),A.on("panmove",function(e){u&&h(e)}),A.on("panend",function(e){u&&(t.$isResizing||(h(e),o+=e.deltaX,a+=e.deltaY))}),this.addDestroyHook(function(){return A.destroy()})}else Kc.warn("cannot found the move target of @draggable directive! options: ",this.dragOptions)}},{key:"_resolveMoveTarget",value:function(){var e=this.dragOptions,t=e.type,n=e.target,i=this.component.element;switch(t){case"selector":var r=this.component.getRoot().querySelector(n);return r?r.element:void 0;case"css-selector":return i.querySelector(n);case"closest":var o=this.component.getClosestComponentByName(n);return o?o.element:void 0;case"parent":var a=n?this.component.getClosestComponentByType(n):this.component.parent;return a?a.element:void 0;case"child":var s=this.component.getComponentByName(n);return s?s.element:void 0;default:return i}}}],[{key:"getName",value:function(){return"draggable"}}]),t}(bo.X),Xc=(n(5609),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.attrValue.length>0&&(this.resizeOptions=e.controller.eval(this.attrValue),"body"===this.resizeOptions.maxSize&&(this.resizeOptions.maxWidth=document.body.offsetWidth-60,this.resizeOptions.maxHeight=document.body.offsetHeight-60)),this.resizeOptions||(this.resizeOptions={})}},{key:"componentMounted",value:function(){var e=this.resizeOptions,t=e.minWidth,n=e.maxWidth,i=e.minHeight,r=e.maxHeight;isFinite(t)||(t=10),isFinite(i)||(i=10),n||(n=1/0),r||(r=1/0),n<t&&(n=t),r<i&&(r=i);var o=this.component,a=this.component.element,s=getComputedStyle(a);a.classList.add("fv__ui-resizable");var A=document.createElement("div");A.classList.add("fv__ui-resizable-action");var c=new Hammer.Manager(A);c.add(new Hammer.Pan);var u=parseFloat(s.width),l=parseFloat(s.height),d=function(e){a.$isResizing=!0;var s=Math.min(n,Math.max(t,u+e.deltaX)),A=Math.min(r,Math.max(i,l+e.deltaY));a.style.cssText+="width: ".concat(s,"px; height: ").concat(A,"px"),o.trigger("resize",s,A)},h=function(e){d(e),u=Math.min(n,Math.max(t,u+e.deltaX)),l=Math.min(r,Math.max(i,l+e.deltaY)),setTimeout(function(){a.$isResizing=!1},0)};c.on("panstart",function(e){var t=getComputedStyle(a);u=parseFloat(t.width),l=parseFloat(t.height),d(e)}),c.on("panmove",d),c.on("panend",h),c.on("cancel",h),a.appendChild(A);var f=function(){c.stop()};document.addEventListener("mouseup",f,{capture:!0}),this.addDestroyHook(function(){return c.destroy()}),this.addDestroyHook(function(){document.removeEventListener("mouseup",f,{capture:!0})}),this.addDestroyHook(function(){return a.removeChild(A)})}}],[{key:"getName",value:function(){return"resizable"}}]),t}(bo.X)),Qc=n(6663),eu=function(){function e(){(0,C._)(this,e),(0,U._)(this,"options",{updateOn:"change"}),(0,U._)(this,"callback",function(){})}return(0,D._)(e,[{key:"onOptionsChange",value:function(e){this.callback=e}},{key:"setOptions",value:function(e){this.options=e,this.callback(e)}}],[{key:"scope",value:function(){return z.IoCScope.PROTOTYPE}}]),e}(),tu=n(7173),nu=z.LoggerFactory.getLogger("@model"),iu=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).modelOptions={updateOn:"change"},n.offComponentUpdateEvents=function(){},n}return(0,I._)(t,e),(0,D._)(t,[{key:"updateModelValue",value:function(){}},{key:"init",value:function(e){var n=this;if("function"==typeof e.getValue&&"function"==typeof e.setValue){(0,T._)(e,ls)&&(this.modelOptions={updateOn:"input"}),(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.updateModelValue=function(){var e=(0,Qc._)((0,tu.a)(n.attrValue)),t=e[0],i=e.slice(1),r=i.length>0?"|"+i.join("|"):"";return function(){try{var e="$component.getValue()"+r,i=n.controller.eval(e),o="".concat(t," = _temp_value");n.controller.eval(o,{_temp_value:i}),n.controller.digest()}catch(e){nu.warn("An error occurred on update model value, event: ".concat(event),e)}}}();var i=e.setValue;i&&(e.setValue=function(t){i.call(e,t),n.updateModelValue()});var r=function(t){i&&i.call(e,t),e.trigger("model-change",t)};r(this.controller.eval(this.attrValue)),this.addDestroyHook(this.controller.watch(this.attrValue,r)),this.watchComponentChange(),this.modelService.onOptionsChange(function(e){n.updateOptions(e)})}else nu.warn(e,"is not a form field type component!")}},{key:"watchComponentChange",value:function(){var e=this,t=this.modelOptions.updateOn;if("string"==typeof t||Array.isArray(t)){var n=(Array.isArray(t)?t:t.split(/[\s\t,]+/)).map(function(t){t=t.trim();var n=function(){e.updateModelValue()},i="native.";if(0===t.indexOf(i)){var r=e.component.getDomElement(),o=t.substring(7);return r.addEventListener(o,n),function(){r.removeEventListener(o,n)}}return e.component.on(t,n)});this.offComponentUpdateEvents=function(){n.forEach(function(e){return e()})}}else nu.warn('Invalid model options: "'.concat(JSON.stringify(this.modelOptions),'"'))}},{key:"updateOptions",value:function(e){var t=this.modelOptions.updateOn;e&&Object.assign(this.modelOptions,e),t!==this.modelOptions.updateOn&&(this.offComponentUpdateEvents(),this.watchComponentChange())}}],[{key:"getName",value:function(){return"model"}},{key:"inject",value:function(){return{modelService:eu}}}]),t}(bo.X),ru=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var i=e.controller.watchImm(this.attrValue,function(e){n.modelService.setOptions(e)});this.addDestroyHook(i)}}],[{key:"getName",value:function(){return"model-options"}},{key:"inject",value:function(){return{modelService:eu}}}]),t}(bo.X),ou=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),e.enable(),e.isContainer()){e.disable=function(){this.children().forEach(function(e){return e.disable()})};var n=e.enable;e.enable=function(){if(e.disabled)return n.call(this);this.children().forEach(function(e){return e.enable()})}}else e.disable=z.noop}}],[{key:"isParser",value:function(){return!1}},{key:"getName",value:function(){return"cannotBeDisabled"}}]),t}(bo.X),au={},su=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"componentMounted",value:function(){var e=this;this.addDestroyHook(this.component.on(Do.qo.ACTIVE,function(t){var n=au[e.attrValue];n&&n!==e.component&&n.deactive(),au[e.attrValue]=e.component}))}},{key:"componentDestroyed",value:function(){var e=au[this.attrValue];this.component===e&&delete au[this.attrValue]}}],[{key:"getName",value:function(){return"single-active"}}]),t}(bo.X),Au=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),e.controller.eval(this.attrValue,{})}}],[{key:"getName",value:function(){return"init"}}]),t}(bo.X),cu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.hammer=e.$hammer||(e.$hammer=new Hammer(e.element));var i=this.transformEventNameToHammerRecogonizeName(this.subName);this.hammer.get(i).set({enable:!0}),this.addDestroyHook(function(){n.hammer.destroy()})}},{key:"componentMounted",value:function(){var e,t=this.component,n=this.controller;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var i=function(e,t){for(var n=t.split("."),i=0;i<n.length;i++)if(null==(e=e[n[i]]))return e;return e},r=i(n,this.attrValue)||i(n.data,this.attrValue)||i(n.methods,this.attrValue);if(!r)throw new Error("event handler not found: ".concat(this.attrValue," ,component: <").concat(t.nodeName,">"));e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.apply(n,t)}}else{var o=this;e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.eval(o.attrValue,{originArguments:t,$event:t[0]})}}this.hammer.on(this.subName,e)}},{key:"componentDestroyed",value:function(){(0,E._)((0,S._)(t.prototype),"componentDestroyed",this).call(this),this.hammer.destroy()}},{key:"transformEventNameToHammerRecogonizeName",value:function(e){switch(e){case"panstart":case"pan":case"panmove":case"panend":case"pancancel":case"panleft":case"panright":case"panup":case"pandown":return"pan";case"pinch":case"pinchstart":case"pinchmove":case"pinchend":case"pinchcancel":case"pinchin":case"pinchout":return"pinch";case"press":case"pressup":return"press";case"rotate":case"rotatestart":case"rotatemove":case"rotateend":case"rotatecancel":return"rotate";case"swipe":case"swipeleft":case"swiperight":case"swipeup":case"swipedown":return"swipe";case"tap":return"tap";default:throw new Error("incorrect event name: ".concat(this.subName))}}}],[{key:"getName",value:function(){return"hammer"}}]),t}(bo.X),uu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"componentMounted",value:function(){var e=this,t=function(t,n){var i=function(e){return e.stopPropagation()};t.addEventListener(n,i),e.addDestroyHook(function(){return t.removeEventListener(n,i)})};this.component.element.$$DRAG_STOPPED$$=!0,this.component.element.closest(".fv__ui-draggable-target")&&(t(this.component.element,"pointerdown"),t(this.component.element,"mousedown"),t(this.component.element,"touchstart")),this.addDestroyHook(function(){delete e.component.element.$$DRAG_STOPPED$$})}}],[{key:"getName",value:function(){return"stop-drag"}}]),t}(bo.X),lu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"componentMounted",value:function(){var e=this,t=function(e){return e.stopPropagation()};this.component.element.addEventListener(this.subName,t),this.addDestroyHook(function(){return e.component.element.removeEventListener(e.subName,t)})}}],[{key:"getName",value:function(){return"stop"}}]),t}(bo.X),du=z.LoggerFactory.getLogger("@sync"),hu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"componentPrelink",value:function(){var e=this,t=this.controller.watchImm(this.attrValue,function(t){var n=e.subName;e.component.sync(n,t)||du.warn("this property(".concat(n,") is not supported by this component <").concat(e.component.nodeName,"> and data synchronization was failed. the component instance: "),e.component)});this.addDestroyHook(t)}}],[{key:"getName",value:function(){return"sync"}}]),t}(bo.X),fu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,null,[{key:"getName",value:function(){return"set"}}]),t}(hu),pu=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).order=-1/0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"processComponentOptions",value:function(e){e.callback||(e.callback=oc.Z)}}],[{key:"getName",value:function(){return"process-scope"}}]),t}(bo.X),gu=function(e){function t(e){var n;if((0,C._)(this,t),!(n=(0,P._)(this,t,[e])).node.parent)throw new Error("Unsupported operation: @device directive is not supported for root node");return n.supportedDevices=n.attrValue.split(/\W+/).map(function(e){return e.toLowerCase()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"parseComponent",value:function(e,t){var n="invert"===this.subName,i=this.supportedDevices;if(n||!(i.length<1||i.indexOf("all")>-1)){var r=i.some(function(e){return z.DEVICE_DETACTION[e]});if(!(!r&&!n||n&&r)){var o=e.parseNode(this.cloneNode(),this.parentComponent,t);this.parentComponent.append(o)}}}},{key:"cloneNode",value:function(){var e=this.node.clone(!1);return e.directives=this.node.directives.filter(function(e){return"device"!==e.directiveName}),e}}],[{key:"getName",value:function(){return"device"}},{key:"isParser",value:function(){return!0}}]),t}(bo.X),vu=(n(5533),function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).supportedDevices=n.attrValue.split(/\W+/).map(function(e){return e.toLowerCase()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"afterComponentRender",value:function(){var e=this.component,t=this.supportedDevices,n=t.some(function(e){return z.DEVICE_DETACTION[e]});if(t.length<1||t.indexOf("all")>-1||n){var i="fv__ui-directive-hide-on-device";e.addCSSClass(i),e.addCSSClass("devices-match"),this.addDestroyHook(function(){e.removeCSSClass(i),e.removeCSSClass("devices-match")})}}}],[{key:"getName",value:function(){return"hide-on-device"}}]),t}(bo.X)),mu=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).supportedDevices=n.attrValue.split(/\W+/).map(function(e){return e.toLowerCase()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"afterComponentRender",value:function(){var e=this.component,t=this.supportedDevices;if(!(t.length<1||t.indexOf("all")>-1)){var n=t.some(function(e){return z.DEVICE_DETACTION[e]});if(!n){var i="fv__ui-directive-display-on-device";e.addCSSClass(i),e.addCSSClass("none-devices-match"),this.addDestroyHook(function(){e.removeCSSClass(i),e.removeCSSClass("none-devices-match")})}}}}],[{key:"getName",value:function(){return"display-on-device"}}]),t}(bo.X),yu=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"getOptions",value:function(){var e=this.controller.eval(this.attrValue),t={};return t.uixSelector=e["uix-selector"]||e.uixSelector,t.cssSelector=e["css-selector"]||e.cssSelector,t.before=e.before||function(e){return!0},t}}],[{key:"getName",value:function(){return"contextmenu-options"}}]),t}(bo.X),_u=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).id=n.subName,n}return(0,I._)(t,e),(0,D._)(t,[{key:"getMenuOptions",value:function(){var e,t=this,n=this.dynamics.options()||{},i=this.component.directive.getDirectives(yu.getName());this.id&&(e=i.find(function(e){return e.subName===t.id})),e||(e=i.find(function(e){return!e.subName}));var r=e?e.getOptions():{};return(0,w._)({},r,n)}},{key:"componentPostlink",value:function(){var e=this,t=this.component.element;this.component.isContainer()&&(t=this.component.getContainerElement());var n=(0,z.attachContextMenuEvent)(t,function(t){var n=e.dynamics.before,i=n&&n!==z.noop?n:function(e){return Promise.resolve(!0)},r=e.component,o=e.getMenuOptions();if(("function"==typeof o.before&&(i=o.before),!o.uixSelector&&!o.cssSelector||(r=e.findTarget(o,t.target)))&&i({$event:t,$target:r,$contextmenu:e.targetContextmenu})){var a=function(){e.targetContextmenu.setCurrentTarget(r),e.targetContextmenu.trigger("beforeshow",r),e.targetContextmenu.showAt(t.clientX,t.clientY),e.targetContextmenu.trigger("aftershow",r)};e.targetContextmenu?a():e.component.pdfUI.openDialog(e.attrValue).then(function(t){e.targetContextmenu=t,a()}),t.stopPropagation(),t.preventDefault()}});this.addDestroyHook(n)}},{key:"componentMounted",value:function(){var e=this;if("delay"!=this.component.attrs.contextcontent){if(this.targetContextmenu=this.component.getRoot().querySelector(this.attrValue),!(0,T._)(this.targetContextmenu,jA))throw new Error("Unexpected target contextmenu! It must be <contextmenu> component, but actual: <".concat(this.targetContextmenu?this.targetContextmenu.nodeName:"not found",">"));this.dynamics.onShown!==z.noop&&this.addDestroyHook(this.targetContextmenu.on("shown",function(){e.dynamics.onShown({$target:e.targetContextmenu.getCurrentTarget(),$contextmenu:e.targetContextmenu})}))}}},{key:"findTarget",value:function(e,t){var n=e.uixSelector,i=e.cssSelector;if("string"==typeof n){for(var r=this.component.querySelectorAll(n),o=function(){var e,n=t;for(;!e&&n;)e=n.getComponent?n.getComponent():void 0,n=n.parentElement;return e}(),a=o;a&&-1===r.indexOf(a);)a=a.parent;return a}if("string"!=typeof i)return this.component.element;for(var s=t;s;){if(s.matches(i))return s;s=s.parentElement}}}],[{key:"getName",value:function(){return"contextmenu"}}]),t}(bo.X),bu=function(e){function t(e){var n;if((0,C._)(this,t),!(n=(0,P._)(this,t,[e])).node.parent)throw new Error("Unsupported operation: @require-modules directive is not supported for root node");return n.requiredModules=n.attrValue.split(/[\s,;]+/).map(function(e){return e.toLowerCase()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"getNewNode",value:function(e){var t=this,n=this.requiredModules;if(!(n.length<1)){if(this.subName&&"oneof"===this.subName.toLowerCase()){var i=!1;return new Promise(function(e){var r=n.map(function(n){return Io.Z.modules.subscribeOnce(n,function(){r.forEach(function(e){return e()}),i||(e(t.node),i=!0)})});t.addDestroyHook(function(){r.forEach(function(e){return e()})})})}return Promise.all(n.map(function(e){return new Promise(function(t){Io.Z.modules.subscribeOnce(e,function(e){t(e)})})})).then(function(){return t.node})}}}],[{key:"getName",value:function(){return"require-modules"}}]),t}(kc),wu=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"componentPrelink",value:function(){var e=this;this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t,n){var i=e.component.element.classList;if(n)switch(void 0===n?"undefined":(0,F._)(n)){case"string":n.trim().split(/\s+/).forEach(function(e){return i.remove(e)});break;case"object":for(var r in n)n[r]&&r&&i.remove(r)}if(t)switch(void 0===t?"undefined":(0,F._)(t)){case"string":t.trim().split(/\s+/).forEach(function(e){return i.add(e)});break;case"object":for(var o in t)t[o]&&o&&i.add(o)}}))}}],[{key:"getName",value:function(){return"class"}}]),t}(bo.X),ku=(n(8778),function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).orientation="vertical"===n.attrValue?"vertical":"horizontal",n}return(0,I._)(t,e),(0,D._)(t,[{key:"componentPrelink",value:function(){var e="fv__ui-directive-scrollable-"+this.orientation,t=this.component.element.classList;t.add(e),this.addDestroyHook(function(){t.remove(e)})}},{key:"componentMounted",value:function(){var e=this,t=this.component.element,n=new(qr())(t);n.add(new(qr().Pan)({direction:"vertical"===this.orientation?qr().DIRECTION_VERTICAL:qr().DIRECTION_HORIZONTAL}));var i=0,r=0,o=!1,a=function(e){var t=e.target;switch(t.nodeName){case"INPUT":case"TEXTAREA":o=!0;break;default:o="true"===t.contentEditable}};t.addEventListener("mousedown",a,{capture:!0}),n.on("panstart",function(){i=t.scrollLeft,r=t.scrollTop,t.classList.add("fv__ui-scrollable-scrolling")}),n.on("panend",function(){t.classList.remove("fv__ui-scrollable-scrolling"),o=!1}),n.on("panmove",function(n){if(!o)if("vertical"===e.orientation)t.scrollTop=r-n.deltaY;else t.scrollLeft=i-n.deltaX}),this.addDestroyHook(function(){n.destroy(),t.removeEventListener("mousedown",a)})}}],[{key:"getName",value:function(){return"scrollable"}}]),t}(bo.X)),xu=(z.LoggerFactory.getLogger("@async"),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getNewNode",value:function(e,t){var n=this,i=this.node.namespace,r=function(){return n.module.getComponentDefAsync(n.node.nodeName).then(function(){if(!n.isDestroyed){var t=e.cloneNode(n.node);return n.node.replaceWith(t),t}})};if(this.module.name!==i)return new Promise(function(e){Io.Z.modules.subscribeOnce(i,function(t){n.module=t,e(r())})});if(this.node.isSenior){var o=this.node.clone(!1);return this.node.replaceWith(o),o}return r()}}],[{key:"getName",value:function(){return"async"}}]),t}(kc)),Pu=n(240),Cu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var i=this.subName,r=this.attrValue;if(Array.isArray(r)){var o=new z.Store,a=r.map(function(e){return e.type===Pu.i.placeholder?n.controller.eval(e.content):e.content});o.dispatch("update",a),r.forEach(function(e,t){"placeholder"===e.type&&n.addDestroyHook(n.controller.watchImm(e.content,function(e){a[t]=e,o.dispatch("update",a)}))}),o.subscribe("update",function(t){e.setAttribute(i,t.join(""))})}else this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){e.setAttribute(i,t)}))}}],[{key:"getName",value:function(){return"attr"}}]),t}(bo.X),Du=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=e.ioc.getInstanceByClass(this.attrValue,e);this.subName&&(e[this.subName]=n,e.controller[this.subName]=n),e.trigger("service",this.subName,n)}}],[{key:"getName",value:function(){return"service"}}]),t}(bo.X),Eu=z.LoggerFactory.getLogger("@var"),Su=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).order=1/0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var i=this.subName;if(i)try{this.controller.data[i]=this.controller.eval(this.attrValue)}finally{this.addDestroyHook(this.controller.watchImm(this.attrValue,function(e){n.controller.data[n.subName]=e}))}else Eu.warn("Variable is missing for @var directive",e.node.template)}}],[{key:"getName",value:function(){return"var"}}]),t}(bo.X),Iu=(n(2730),"fv__ui-directive-show-hidden"),Tu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){!1===t?e.addCSSClass(Iu):e.removeCSSClass(Iu)}))}}],[{key:"getName",value:function(){return"show"}}]),t}(bo.X),Mu="fv__ui-directive-hide-hidden",Ru=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){!0===t?e.addCSSClass(Mu):e.removeCSSClass(Mu)}))}}],[{key:"getName",value:function(){return"hide"}}]),t}(bo.X),Fu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),window.gtag){var n=this.subName||"click",i=(0,M._)(this.attrValue.split(","),2),r=i[0],o=i[1];e.element.on(n,function(){window.gtag("event",n,{event_category:r,event_label:o})})}}}],[{key:"getName",value:function(){return"ga"}}]),t}(bo.X),Nu=function(e){e.stopPropagation()},Lu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=(this.attrValue||this.subName).split(/[.,\s]+/);this.addDestroyHook.apply(this,(0,R._)(n.map(function(t){return e.element.addEventListener(t,Nu),function(){e.element.removeEventListener(t,Nu)}})))}}],[{key:"getName",value:function(){return"stop-propagation"}}]),t}(bo.X);function Ou(e){return e.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substring(1)}).join("")}var ju=z.LoggerFactory.getLogger("@setter"),Bu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=this.subName;if(n){var i="set"+Ou(n),r=e[i];if(!(0,z.isFunction)(r)){var o=Array.from(z.Reflect.getAllMethodNames(e.constructor)),a=o.map(function(e){return e.toLocaleLowerCase()}),s=a.indexOf(i.toLocaleLowerCase());s>-1&&(i=o[s],r=e[i])}(0,z.isFunction)(r)||(r=void 0);var A=function(t){r?r.call(e,t):e.sync(n,t)};A.$setterComponent=e,this.addDestroyHook(e.controller.watchImm(this.attrValue,A))}else ju.warn("Incorrect directive: ".concat(this))}}],[{key:"getName",value:function(){return"setter"}}]),t}(bo.X),Vu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var i=(this.subName||"value").trim();if(!i.match(/^[\w\.]+$/))throw new Error("Incorrect directive expression: ".concat(this.toString()));var r="get"+Ou(i),o="is"+i[0].toUpperCase()+i.substring(1),a=e[r]||e[o]?"$component.".concat(r,"()"):"$component.".concat(i," || ").concat(i),s=function(t){e.controller.eval(n.attrValue,{$value:t})};this.addDestroyHook(e.watchImm(a,function(e){s(e)})),(0,z.isFunction)(e.getFieldName)&&this.addDestroyHook(e.on("change",function(){s(e.controller.eval(a))}),e.on("input",function(){s(e.controller.eval(a))}))}}],[{key:"getName",value:function(){return"getter"}}]),t}(bo.X),Hu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.modifiers.late||this._doWatch()}},{key:"componentMounted",value:function(){this.modifiers.late&&this._doWatch()}},{key:"_doWatch",value:function(){var e=this.component;this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){t?"function"==typeof e.disable&&e.disable():"function"==typeof e.enable&&e.enable()}))}}],[{key:"getName",value:function(){return"disable"}}]),t}(bo.X),Uu=(z.LoggerFactory.getLogger("@lazy"),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"parseComponent",value:function(e,t){var n=this;if(!this.node.parent)return this.node;var i=this.getPlaceholder(e,t);i.originNode=this.node;var r="idle"===this.subName,o=i.context.onObtainsComponentOf(function(e){var t=e.some(function(e){return n.node.contains(e)});t&&(o(),i.lazyLoad())});if(this.addDestroyHook(o),r&&window.requestIdleCallback){var a=(0,z.createDeferred)(),s=window.requestIdleCallback(function(){o(),i.isDestroyed||e.context.isDestroyed||a.resolve()});a.promise.then(function(){i.lazyLoad()}),this.addDestroyHook(function(){window.cancelIdleCallback(s)})}return i.lazyLoad=function(){var r=e.context;i.lazyLoad=function(){throw new Error("[@lazy] cyclic load detected")};var o=r.onNewComponentInstance(function(e){o(),n.$lazyLoadComponent=e,i.lazyLoad=function(){return n.$lazyLoadComponent}});return n.parseNewNode(i,n.node,e,t)},i.isLazyComponent=!0,i}}],[{key:"getName",value:function(){return"lazy"}}]),t}(kc)),zu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.radioGroupService}}],[{key:"getName",value:function(){return"radio-group"}},{key:"services",value:function(){return{radioGroupService:ds}}}]),t}(bo.X),Wu=(0,z.getUniqueId)("senior_slot_name"),Yu=function(e){function t(e,n,i){var r;(0,C._)(this,t);var o=n.attrs,a=e.attrs,s=(o.class||"")+" "+(a.class||""),A=Object.assign({},a,o);A.class=s,(r=(0,P._)(this,t,[{namespace:n.namespace,nodeName:n.nodeName,attrs:A,text:n.text,template:n.template}])).originalNode=e,r.extNode=n,e.children.forEach(function(t){t.originalParent=e,r.append(t)}),n.children.length>0&&n.children.forEach(function(e){r.append(e)}),n.parent&&n.replaceWith(r);var c=e.querySelectorAll(i||"[body]")[0];return r.bodyNode=c,r}return(0,I._)(t,e),(0,D._)(t,[{key:"extChildren",get:function(){return this.extNode.children}},{key:"appendExtChild",value:function(e){this.extNode.append(e),this.append(e)}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,i=new Yo.Z({nodeName:this.nodeName,text:this.text,attrs:this.attrs});n.set(this,i);var r=new t(this.originalNode,this.extNode.clone(e,n));return r.children=this.children.map(function(t){var i=e?t.clone(e,n):t;return i.parent=r,i}),i.replaceWith(r),r.parent=null,r}}],[{key:"getSeniorSlotName",value:function(){return Wu}}]),t}(Yo.Z),Gu=function(){function e(){(0,C._)(this,e),(0,U._)(this,"isLoaded",!1)}return(0,D._)(e,null,[{key:"scope",value:function(){return xo.U.MULTI_CASE}}]),e}(),$u=z.LoggerFactory.getLogger("@lazy-content"),Ju=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"observerService",void 0),(0,U._)(e,"lazyContentService",void 0),(0,U._)(e,"undelegate",void 0),(0,U._)(e,"lazyLoadChildrenNodes",[]),e}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),e.isContainer()){var n=this.node,i=n.children.slice(0);if((0,T._)(n,Yu)){var r=i.filter(function(e){return!!e.originalParent});this.lazyLoadChildrenNodes=n.extChildren,n.children=r}else this.lazyLoadChildrenNodes=i,n.children=[]}else $u.warn("@lazy-content directive is only valid for container components: ".concat(e.node.template))}},{key:"buildChildren",value:function(){}},{key:"componentPostlink",value:function(){var e=this,t=this.node.children.concat(this.lazyLoadChildrenNodes);this.node.children=Array.from(new Set(t));var n=this.component;if(n.isContainer()){var i=function(){e.lazyContentService.isLoaded||(e.lazyContentService.isLoaded=!0,e.lazyLoadChildren())},r=n.node,o=n.context.onObtainsComponentOf(function(e){var t=e.some(function(e){return r.contains(e)});t&&(o(),i())});if(this.addDestroyHook(o),this.undelegate=function(e,t){var n=e.insert,i=e.insertAll;return e.insert=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t(),n.apply(e,r)},e.insertAll=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(),i.apply(e,r)},function(){e.insert=n,e.insertAll=i}}(n,function(){i()}),"intersection"===this.subName){var a=this.observerService.observe(n.element,function(t){t&&(e.component.context.isDestroyed||e.isDestroyed||(a(),i()))});this.addDestroyHook(a)}else if("idle"===this.subName)window.requestIdleCallback?window.requestIdleCallback(function(){e.lazyContentService.isLoaded||e.component.context.isDestroyed||e.isDestroyed||(e.lazyContentService.isLoaded=!0,e.lazyLoadChildren())}):setTimeout(function(){i()},100);else var s=this.attrValue.split(/[,;\s]/).map(function(e){return n.once(e,function(){i(),s.forEach(function(e){return e()})})})}}},{key:"lazyLoadChildren",value:function(){var e=this;this.undelegate();var t=this.component;this.buildChildren();var n=t.context.parser,i=this.lazyLoadChildrenNodes.map(function(i){var r=n.parseNode(i,e.component);return(0,T._)(i,Go)?t.appendText(r):t.append(r),r});t.localize(),t.isMounted&&i.forEach(function(e){return e.mounted()}),t.digest(!1),t.getRoot().trigger("lazy-content",t,i)}}],[{key:"getName",value:function(){return"lazy-content"}},{key:"inject",value:function(){return{observerService:gc,lazyContentService:Gu}}}]),t}(bo.X);var qu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(e.context.pool.addComponent(e,this.attrValue))}}],[{key:"getName",value:function(){return"alias-name"}}]),t}(bo.X),Ku=function(e){function t(e){var n;(0,C._)(this,t),n=(0,P._)(this,t,[e]),(0,U._)(n,"metadata",void 0);var i=n.constructor;return n.metadata=i.metadata(),n}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.start("init")}},{key:"start",value:function(e){var t=this;if(this.metadata.lifecycle===e){var n=this.controller.watch(this.attrValue,function(e){t.evaluate(e)});this.metadata.immediately&&n.invoke(),this.addDestroyHook(n)}}},{key:"componentPrelink",value:function(){this.start("prelink")}},{key:"componentPostlink",value:function(){this.start("postlink")}},{key:"componentMounted",value:function(){this.start("mounted")}}],[{key:"metadata",value:function(){return{immediately:!0,lifecycle:"init"}}}]),t}(bo.X),Zu=new DOMParser,Xu=["strong","em","b","i","p","code","pre","samp","kbd","var","sub","sup","dfn","cite","small","address","hr","br","id","div","span","h1","h2","h3","h4","h5","h6","ul","ol","li","dl","dt","dd","abbr","a","img","blockquote","del","ins","table","thead","tbody","tfoot","tr","th","td","colgroup","body","head"],Qu=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"evaluate",value:function(e){var t,n=this.component;t=n.isContainer()?n.getContainerElement():n.getDomElement();var i=Zu.parseFromString(e,"text/html");if(i.body){var r=this.getSafeTags(),o=":not(".concat(r.join(","),")");(function(){try{return Array.from(i.querySelectorAll(o))}catch(e){return Array.from(ca()(o))}})().forEach(function(e){i.body.contains(e)&&e.remove()}),i.body.querySelectorAll("*").forEach(function(e){e.getAttributeNames().forEach(function(t){"on"===t.slice(0,2)&&e.removeAttribute(t)})});var a=i.body.childNodes,s=document.createDocumentFragment();a.forEach(function(e){i.body.removeChild(e),s.appendChild(e)}),t.innerHTML="",t.appendChild(s)}else t.innerHTML=""}},{key:"getSafeTags",value:function(){return Xu}}],[{key:"getName",value:function(){return"safe-html"}}]),t}(Ku),el=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"checkboxes",[]),(0,U._)(e,"unobserveChangeEvents",function(){}),(0,U._)(e,"component",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"mode",get:function(){return this.component.getAttribute("mode")||"checked"}},{key:"init",value:function(e){var n=this;if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),"function"==typeof e.setValue||"function"==typeof e.getValue)throw new Error("The @checkbox-group cannot be used in a form field component: ".concat(e.nodeName));if(!e.isContainer())throw new Error("The @checkbox-group directive can only be used in container components");e.setValue=function(e){n.setValue(e)},e.getValue=function(){return n.getValue()}}},{key:"componentMounted",value:function(){var e=this;this.addDestroyHook(this.component.context.onModifyTree(function(t){t===e&&e.reloadCheckboxes()})),this.reloadCheckboxes()}},{key:"reloadCheckboxes",value:function(){var e=this;this.unobserveChangeEvents(),this.checkboxes=this.findCheckboxes(),this.triggerChangeEvent();var t=this.checkboxes.map(function(t){return t.on("change",function(){e.triggerChangeEvent()})});this.unobserveChangeEvents=function(){t.forEach(function(e){return e()})}}},{key:"triggerChangeEvent",value:function(){this.component.trigger("change",this.getValue())}},{key:"findCheckboxes",value:function(){var e=this.component.querySelectorAll("@checkbox-group");return this.component.querySelectorAll("@checkbox,@input[type=checkbox]").filter(function(t){return 0===e.length||!e.some(function(e){return e.contains(t)})})}},{key:"getCheckboxes",value:function(){return this.checkboxes}},{key:"getValue",value:function(){switch(this.mode){case"map":return this.getCheckboxes().reduce(function(e,t){return e[t.getFieldName()]=t.getValue(),e},{});case"checked":return this.getCheckboxes().filter(function(e){return e.getDOMValue()}).map(function(e){return e.getValue()});case"all":return this.getCheckboxes().map(function(e){return e.getValue()})}}},{key:"setValue",value:function(e){switch(this.mode){case"map":return this.getCheckboxes().filter(function(t){return t.getFieldName()in e}).forEach(function(t){t.setValue(e[t.getFieldName()])});case"checked":if(!Array.isArray(e))return;var t=0;return this.getCheckboxes().forEach(function(n){var i=n.getValue();e.slice(t).some(function(e){if(e===i)return n.setDOMValue(!0),t++,!0})||n.setDOMValue(!1)});case"all":return this.getCheckboxes().map(function(t,n){t.setValue(e[n])})}}},{key:"getDOMValue",value:function(){return this.getCheckboxes().reduce(function(e,t){return e[t.getFieldName()]=t.getDOMValue(),e},{})}}],[{key:"getName",value:function(){return"checkbox-group"}}]),t}(bo.X),tl=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"componentMounted",value:function(){var e=this.modifiers,t=e.before,n=e.after,i=e.thrown,r=e.around,o=this.controller,a=o.handle,s=function(e){if("function"==typeof e){var s=z.Aspect.on(a);t&&s.before(e),n&&s.after(e),i&&s.thrown(e),r&&s.around(e),o.handle=s.extract()}};if("function"==typeof this.attrValue)s(this.attrValue);else{var A=this.controller.watchImm(this.attrValue,s);this.addDestroyHook(A)}this.addDestroyHook(function(){o.handle=a})}}],[{key:"getName",value:function(){return"decorate-controller"}}]),t}(bo.X),nl=function(e){e.preventDefault()},il=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.subName.split(/[,;\s]+/,function(t){e.element.addEventListener(t,nl),n.addDestroyHook(function(){e.element.removeEventListener(t,nl)})})}}],[{key:"getName",value:function(){return"prevent-default"}}]),t}(bo.X),rl=(n(987),document.createElement("div"));rl.classList.add("fv__ui-visible-only-element");var ol=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){var n=this;if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),e.isContainer()){var i=[];this.addDestroyHook(function(){i.forEach(function(e){return e()}),i.length=0}),e.rerenderChildren=function(){var t;if(i.forEach(function(e){return e()}),i.length=0,!e.isDestroyed){var r=e.getAllRenderableElements(),o=e.getContainerElement();o.classList.add("fv__ui-visible-only-container");var a=r.findIndex(function(e){return(0,z.isHTMLElement)(e)});if(-1===a)return e.diffRenderer(o,r);var s=r[a];e.diffRenderer(o,r.slice(0,a+1));var A=s.getBoundingClientRect(),c=rl.cloneNode();c.style.cssText="\n                height: ".concat(A.height,"px;\n            ");var u=r.slice(a+1).map(function(e){var t=c.cloneNode(),r=n.intersectionContentObserverService.observe(t,function(n){n&&(o.replaceChild(e,t),r())});return i.push(r),t});(t=o).append.apply(t,(0,R._)(u))}}}}}],[{key:"getName",value:function(){return"render-visibles-only"}},{key:"inject",value:function(){return{intersectionContentObserverService:gc}}}]),t}(bo.X),al=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(e.controller.watchImm(this.attrValue,function(t){t?e.active():e.deactive()}))}}],[{key:"getName",value:function(){return"active"}}]),t}(bo.X),sl=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(e.controller.watchImm(this.attrValue,function(t){t?e.enable():e.disable()}))}}],[{key:"getName",value:function(){return"enable"}}]),t}(bo.X),Al=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=this.modifiers.visibility,i=(this.modifiers.available,n?Zo.Gn.visibility:Zo.Gn.available);this.addDestroyHook(e.controller.watchImm(this.attrValue,function(t){t?e.lock(i):e.unlock(i)}))}}],[{key:"getName",value:function(){return"lock"}}]),t}(bo.X),cl=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=this.subName;this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){e.element[n]=t}))}}],[{key:"getName",value:function(){return"prop"}}]),t}(bo.X),ul=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){e.element.src=t||""}))}}],[{key:"getName",value:function(){return"imagesrc"}}]),t}(bo.X),ll=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){(0,E._)((0,S._)(t.prototype),"init",this).call(this,e);var n=this.modifiers.overwrite;this.addDestroyHook(this.controller.watchImm(this.attrValue,function(t){"string"==typeof t?n?e.element.style.cssText=t:e.element.style.cssText+=t:ca().isPlainObject(t)&&ca()(e.element).css(t)}))}}],[{key:"getName",value:function(){return"style"}}]),t}(bo.X),dl=function(){function e(){(0,C._)(this,e),(0,U._)(this,"prefixMap",new Map)}return(0,D._)(e,null,[{key:"scope",value:function(){return xo.U.COMPONENT_TREE}}]),e}(),hl=Symbol("bem-scope"),fl=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){if((0,E._)((0,S._)(t.prototype),"init",this).call(this,e),this.modifiers.root){var n=e[hl]=(0,z.getUniqueId)("bem-scope");this.service.prefixMap.set(n,this.attrValue),e.addCSSClass(this.attrValue)}else{var i=this.getScope(),r=this.service.prefixMap.get(i);if(r){var o=r+"-"+this.attrValue;e.addCSSClass(o)}}}},{key:"getScope",value:function(){for(var e=this.component;e;){if(e[hl])return e[hl];e=e.parent}}}],[{key:"getName",value:function(){return"bem-class"}},{key:"inject",value:function(){return{service:dl}}}]),t}(bo.X),pl=(n(2320),Io.Z.root().getRegistry());pl.registerDirective(So),pl.registerDirective(jo),pl.registerDirective(hu),pl.registerDirective(Ho),pl.registerDirective(cu),pl.registerDirective(lu),pl.registerDirective(Uo),pl.registerDirective(Wc),pl.registerDirective(pu),pl.registerDirective(Jc),pl.registerDirective(qc),pl.registerDirective(Zc),pl.registerDirective(Xc),pl.registerDirective(iu),pl.registerDirective(ru),pl.registerDirective(ou),pl.registerDirective(su),pl.registerDirective(Au),pl.registerDirective(uu),pl.registerDirective(gu),pl.registerDirective(vu),pl.registerDirective(mu),pl.registerDirective(_u),pl.registerDirective(yu),pl.registerDirective(fu),pl.registerDirective(bu),pl.registerDirective(wu),pl.registerDirective(ku),pl.registerDirective(xu),pl.registerDirective(Cu),pl.registerDirective(Du),pl.registerDirective(Su),pl.registerDirective(Tu),pl.registerDirective(Ru),pl.registerDirective(Fu),pl.registerDirective(Lu),pl.registerDirective(Bu),pl.registerDirective(Vu),pl.registerDirective(Hu),pl.registerDirective(Uu),pl.registerDirective(zu),pl.registerDirective(Ju),pl.registerDirective(qu),pl.registerDirective(Qu),pl.registerDirective(el),pl.registerDirective(tl),pl.registerDirective(il),pl.registerDirective(ol),pl.registerDirective(al),pl.registerDirective(sl),pl.registerDirective(Al),pl.registerDirective(cl),pl.registerDirective(ul),pl.registerDirective(ll),pl.registerDirective(fl);n(552),n(1291);var gl=Io.Z.root().getRegistry();for(var vl in c)gl.registerComponent(c[vl]);gl.registerComponent(sc);var ml=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).isConfirmed=!1,n}return(0,I._)(t,e),(0,D._)(t,[{key:"ok",value:function(){this.isConfirmed=!0,this.dialog.trigger("confirm",this.dialog.inputComponent.getValue()),this.dialog.hide()}},{key:"cancel",value:function(){this.dialog.hide()}},{key:"switchPassword",value:function(){this.dialog.switchPassword&&this.dialog.switchPassword()}},{key:"mounted",value:function(){var e=this;this.dialog=this.component.parent,this.dialog.on(Do.qo.HIDDEN,function(){e.isConfirmed?e.isConfirmed=!1:e.dialog.trigger("cancel")});var t=function(n){(0,z.match)(n).when(z.matchers.Enter,function(){n.stopPropagation(),e.ok(),e.dialog.element.removeEventListener("keyup",t)})},n=function(n){(0,z.match)(n).when(z.matchers.Enter,function(){e.dialog.element.addEventListener("keyup",t)})};this.dialog.element.addEventListener("keydown",n),this.component.addDestroyHook(function(){e.dialog.isDestroyed||e.dialog.element.removeEventListener("keydown",n)})}}],[{key:"getName",value:function(){return"PromptDialogController"}}]),t}(wc.Q);n(8305);Io.Z.module("dialogs",[]).registerController(ml);var yl=function(){function e(){(0,C._)(this,e),this.flags=1}return(0,D._)(e,[{key:"parseRoot",value:function(e){(0,z.notImplemented)()}},{key:"forceParseChildren",value:function(e){0}},{key:"parse",value:function(e){(0,z.notImplemented)()}}]),e}(),_l=n(6315),bl=new Map;function wl(e){if(e=e.trim(),bl.has(e))return bl.get(e);var t=document.createElement("div");t.innerHTML=e;var n=t.children;return bl.set(e,n),n}var kl=z.LoggerFactory.getLogger("FRAGMENT-ONSELECT");function xl(e,t,n){var i=e.onselect;if(i||(i=Do.W4.THROW_ERROR_IF_NOT_FOUND),"function"!=typeof i)switch(i){case Do.W4.THROW_ERROR_IF_NOT_FOUND:if(t.length<1)throw new Error('target component not found: "'.concat(n,'"'));break;case Do.W4.LOG_MESSAGE_IF_NOT_FOUND:t.length<1&&kl.warn("target component not found: ".concat(n));case Do.W4.IGNORE_IF_NOT_FOUND:}else i(t,n,e)}var Pl,Cl=z.LoggerFactory.getLogger("parser.actions.insert");function Dl(e,t,n,i){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var r=t.config;r||(Cl.debug("config is required for fragment components",t),r=[]),Array.isArray(r)||(r=[r]);var o={};r.forEach(function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(o[e.target])throw new Error("Duplicated target name: ".concat(e.target));o[e.target]=e}),t.target.forEach(function(r){var a=e.querySelectorAll(r);xl(t,a,r),a.forEach(function(e){var r=function(e){var t=a.querySelectorAll(e),n=o[e];t.forEach(function(e){return e.appendComponentOptions(n)})},a=t.template?i.parse(t.template):null;if(!a)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var s in o)r(s);var A=e.children.filter(function(e){return(0,T._)(e,Yo.Z)}),c=A[n];!c||n>=A.length?e.append(a):c.before(a)})})}const El=(Pl={},(0,U._)(Pl,Do.M4.PREPEND,function(e,t,n){Dl(e,t,0,n)}),(0,U._)(Pl,Do.M4.APPEND,function(e,t,n){Dl(e,t,1/0,n)}),(0,U._)(Pl,Do.M4.BEFORE,function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach(function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e}),t.target.forEach(function(i){var o=e.querySelectorAll(i);xl(t,o,i),o.forEach(function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach(function(e){return e.appendComponentOptions(n)})},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);e.before(o)})})}),(0,U._)(Pl,Do.M4.AFTER,function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach(function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e}),t.target.forEach(function(i){var o=e.querySelectorAll(i);xl(t,o,i),o.forEach(function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach(function(e){return e.appendComponentOptions(n)})},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);e.after(o)})})}),(0,U._)(Pl,Do.M4.REPLACE,function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach(function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e}),t.target.forEach(function(i){var o=e.querySelectorAll(i);xl(t,o,i),o.forEach(function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach(function(e){return e.appendComponentOptions(n)})},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);o&&(e.after(o),e.remove())})})}),(0,U._)(Pl,Do.M4.FILL,function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config,r={};Array.isArray(i)?i.forEach(function(e){r[e.target]=e}):i&&(r[i.target]=i),t.target.forEach(function(i){var o=e.querySelectorAll(i);xl(t,o,i),o.forEach(function(e){if(!t.ignoreAsync){var i=e.asyncAncestor();if(i)return void i.appendFragment(Object.assign({},t,{target:i===e?"::self()":e.name}))}var o=n.parse(t.template,!1);e.clear(),o.forEach(function(t){t.appendComponentOptions(r[t.name]),e.append(t)})})})}),(0,U._)(Pl,Do.M4.EXT,function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]),t.target.forEach(function(n){var i=e.querySelectorAll(n);xl(t,i,n),i.forEach(function(e,n){if(!t.ignoreAsync){var i=e.asyncAncestor();if(i)return void i.appendFragment(Object.assign({},t,{target:i===e?"::self()":e.name}))}!function(e,t){var n=t.config;if(!n)return;Array.isArray(n)||(n=[n]);n.forEach(function(t){t=Object.assign({},t);var n=e.componentOptions||{},i=t.callback,r=n.callback;switch(void 0===i?"undefined":(0,F._)(i)){case"object":t.callback=r,t.proxyControllers=n.proxyControllers.concat(i);break;case"function":n.proxyControllers=[]}e.appendComponentOptions(t)})}(e,t)})})}),(0,U._)(Pl,Do.M4.REMOVE,function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]),t.target.forEach(function(n){var i=e.querySelectorAll(n);xl(t,i,n),i.forEach(function(e){e.remove()})})}),(0,U._)(Pl,Do.M4.INSERT,function(e,t,n){Dl(e,t,t.insertIndex||0,n)}),Pl);function Sl(e,t,n){t&&t.forEach(function(t){var i=El[t.action||Do.M4.EXT];if(!i)throw new Error("Invalid action type: ".concat(t.action));i(n,t,e)})}var Il=z.LoggerFactory.getLogger("FragmentNode"),Tl=function(e){function t(e,n,i){var r;(0,C._)(this,t);var o,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){for(var n in t)"class"===n?e.class+=" "+t[n]:e[n]=t[n];return e},{})}(e.$$options.attrs,n.$$options.attrs);return r=(0,P._)(this,t,[{namespace:e.namespace,nodeName:e.nodeName,text:e.text||n.text,attrs:a,template:e.template}]),(0,U._)(r,"implementNode",void 0),(0,U._)(r,"usageNode",void 0),(0,U._)(r,"fragment",void 0),(0,U._)(r,"extChildren",void 0),(0,U._)(r,"fragmentConfigs",void 0),(0,U._)(r,"fragmentModule",void 0),(0,U._)(r,"fragmentType",void 0),r.implementNode=e,r.usageNode=n,r.fragment=i,r.extChildren=[],r.fragmentConfigs=[],r.fragmentModule=n.module,r.fragmentType=n.nodeName,r.usageNode.children.forEach(function(e){r.append(e)}),r.implementNode.children.forEach(function(e){r.append(e)}),r.extChildren=r.implementNode.children,r.fragmentConfigs=(o=r.fragment.fragments||r.fragment.config)?(Array.isArray(o)||(o=[o]),o):[],r}return(0,I._)(t,e),(0,D._)(t,[{key:"prelink",value:function(){var e=this;this.fragmentConfigs.forEach(function(t){t.target==e.implementNode.name&&(e.componentOptions||Il.info("duplicate config found",e.componentOptions,"will be covered by ",t),e.setComponentOptions(t))})}},{key:"postlink",value:function(){var e=this;this.fragmentConfigs.forEach(function(t){var n=e.querySelectorAll(t.target);n&&n.forEach(function(e){e.setComponentOptions(t)})})}},{key:"clone",value:function(e,n){var i=new t(this.implementNode.clone(e,n),this.usageNode.clone(e,n),this.fragment);return i.children=this.children.map(function(t){var n=e?t.clone(e):t;return n.parent=i,n}),i.setComponentOptions(this.componentOptions),i.parent=this.parent,i}}]),t}(Yo.Z);var Ml=z.LoggerFactory.getLogger("XMLTemplateParser"),Rl=function(e){function t(){var e;return(0,C._)(this,t),(e=(0,P._)(this,t)).domParser=new DOMParser,e}return(0,I._)(t,e),(0,D._)(t,[{key:"parseRoot",value:function(e){if((0,T._)(e,Yo.Z))return{namespace:e.namespace,nodeName:e.nodeName,attributes:e.attrs};var t=this._parseTemplateChildrenElements(e);if(t.length>1)throw new Error("Multiple root element found in template: ".concat(t.length));this.resolvePlaceholders(t);for(var n=t.item(0),i=n.getUIXNamespace(),r=n.getUIXNodeName(),o={},a=n.attributes.length,s=0;s<a;s++){var A=n.attributes.item(s);o[A.name]=A.value}return{namespace:i,nodeName:r,attributes:o}}},{key:"parse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,T._)(e,Yo.Z))return this.$processSeniorNodeIfNeeded(e);if(Array.isArray(e)){if(t&&1!=e.length)throw new Error("Invalid template: quantity of root element out of bounds: ".concat(e.length));return t?e[0]:e}var n=this._parseTemplateChildrenElements(e);if(t){var i=n.length;if(1!==i)throw new Error("Invalid template: quantity of root element out of bounds: ".concat(i))}var r=[],o=!0,a=!1,s=void 0;try{for(var A,c=n[Symbol.iterator]();!(o=(A=c.next()).done);o=!0){var u=A.value,l=this.$parseToUIXNode(u);l&&r.push(l)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return t?r[0]:r}},{key:"_parseTemplateChildrenElements",value:function(e){var t;if("string"==typeof e)t=wl(e);else if("undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement))t=e.content.children;else if((0,T._)(e,DocumentFragment))if(e.children)t=e.children;else{var n=e.childNodes[0];for(t=[];n;)n.nodeType==Node.ELEMENT_NODE&&t.push(n),n=n.nextSibling}else{if(!(0,T._)(e,Element))throw new TypeError("Illegal argument, template must be a html text or instance of window.Element");t=[e]}return this.resolvePlaceholders(t),t}},{key:"resolvePlaceholders",value:function(e){for(var t,n=function(n){var i=e[n];if(i.nodeType==Node.TEXT_NODE){var r=i.textContent,o=(0,Pu.w)(r),a=i.ownerDocument;a["placeholder-text"]||(a["placeholder-text"]=document.createElement("placeholder-text")),o.forEach(function(e){switch(e.type){case Pu.i.text:i.parentNode.insertBefore(a.createTextNode(e.content),i);break;case Pu.i.placeholder:var t=a["placeholder-text"].cloneNode(!1);t.setAttribute("text",e.content),i.parentNode.insertBefore(t,i)}}),i.parentNode.removeChild(i)}else t.resolvePlaceholders(i.childNodes)},i=e.length,r=0;r<i;r++)t=this,n(r)}},{key:"$parseToUIXNode",value:function(e,t,n){var i=this.$convertToUIXNode(e,t,n);if(i){i.prelink();var r="undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement)?e.content.firstChild:e.firstChild;if(!i.directives||this.flags||!i.directives.some(function(e){return"@lazy-content"==e.attrName}))for(;r;){var o=this.$parseToUIXNode(r);o&&i.append(o),r=r.nextSibling}return i.postlink(),this.$processSeniorNodeIfNeeded(i)}}},{key:"$convertToUIXNode",value:function(e,t,n){if((0,T._)(e,Text)){var i=e.textContent.trim();if(i.length>0)return new Go({text:i})}else{if((0,T._)(e,HTMLElement)||(0,T._)(e,SVGElement)){var r=(0,_l.NI)(e),o=(0,_l.q4)(e),a={},s=!0,A=!1,c=void 0;try{for(var u,l=e.attributes[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var d=u.value,h=d.name;if("@"===h[0])a[h]=d.value;else a[h.toLowerCase()]=d.value}}catch(e){A=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(A)throw c}}a=Object.assign(a,n);var f=Io.Z._nostrictModule(r);if(!f)return;if("undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement))return new Ko({namespace:r,nodeName:o,attrs:a,template:e.outerHTML,fragmentContent:e.content});var p=e.textContent,g=f.getFragment(o),v=new Yo.Z({namespace:r,nodeName:o,text:p,attrs:a,template:e.outerHTML});if(g){var m=this.parse(g.template,!0);return new Tl(m,v,g)}return v}Ml.debug("useless node: ",e)}}},{key:"$processSeniorNodeIfNeeded",value:function(e){if(!e.nodeName)return e;var t=Io.Z._nostrictModule(e.namespace);if(!t)return e;var n=t.getComponentClass(e.nodeName);return n&&n.isSeniorComponent&&n.$seniorComponentOptions&&!(0,T._)(e,Tl)?this.$processSeniorNode(e,n):e}},{key:"$processSeniorNode",value:function(e,t){if((0,T._)(e,Yu))return e;if("true"===e.attrs.shadow)return e;if(t[Fl])return t[Nl]=t[Nl]||[],t[Nl].push(e),e;var n=t.$seniorComponentOptions,i=n.template,r=n.body,o=n.fragments;t[Fl]=!0;var a=this.parse(i,!0);delete t[Fl];var s=Io.Z.module(a.namespace).getComponentClass(a.nodeName);s&&s!==t&&s.isSeniorComponent&&(a=this.$processSeniorNode(a,s)),Sl(this,o,a);var A=new Yu(a,e,r);return t[Nl]&&(t[Nl].forEach(function(e){var t=new Yu(A.originalNode,e);e.replaceWith(t)}),delete t[Nl]),A}}]),t}(yl),Fl=Symbol("senior-component-is-processing"),Nl=Symbol("senior-component-delayed-node");function Ll(e){return jl.createSuperClass(e)}function Ol(e){if((0,T._)(e,Yu))return!0;for(var t=e;;){var n=void 0;if((0,T._)(t,Tl)&&(n=t.implementNode),(0,T._)(n,Yu))return!0;if(void 0===n)return!1;t=n}}Ba.Z.prototype.component=function(e,t){var n=function(n){function i(){return(0,C._)(this,i),(0,P._)(this,i,arguments)}return(0,I._)(i,n),(0,D._)(i,[{key:"mounted",value:function(){(0,E._)((0,S._)(i.prototype),"mounted",this).call(this),"function"==typeof t.mounted&&t.mounted.call(this)}}],[{key:"getName",value:function(){return e}}]),i}(jl.createSuperClass({template:t.template})),i=Object.assign({},t);delete i.template,delete i.mounted,Object.assign(n.prototype,i),this.registerComponent(n)};var jl=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"createSuperClass",value:function(e){var t,n=e.templateParser,i=void 0===n?new Rl:n,r=e.template,o=e.fragments,a=void 0===o?[]:o,s=e.body,A=void 0===s?void 0:s,c=e.ComponentClass,u=void 0===c?void 0:c,l=e.preprocess,d=void 0===l?z.noop:l;if(!u){var h=wl(r);if(!h[0])throw new Error("Incorrect senior component template: ".concat(r));var f=h[0].nodeName.toLowerCase(),p=f.indexOf(":"),g=p>-1?f.substring(0,p):"",v=p>-1?f.substring(p+1):f,m=Io.Z.module(g||"");u=m.getComponentClass(v)||sc}return t=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"bodyComponent",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return(0,E._)((0,S._)(t.prototype),"createDOMElement",this)===sc.prototype.createDOMElement?document.createElement(this.node.originalNode.nodeName):(0,E._)((0,S._)(t.prototype),"createDOMElement",this).call(this)}},{key:"rerenderChildren",value:function(){(0,E._)((0,S._)(t.prototype),"rerenderChildren",this).call(this),this.bodyComponent&&this.bodyComponent!==this&&"rerenderChildren"in this.bodyComponent&&this.bodyComponent.rerenderChildren()}},{key:"getRenderableChildren",value:function(){var e=this;return this.hasBody()&&this.bodyComponent!==this?this.$container.children().filter(function(t){return e.isOriginalChild(t)}):this.$container.children()}},{key:"append",value:function(e){var n=(0,E._)((0,S._)(t.prototype),"append",this).call(this,e);return this.hasBody()?(this.isOriginalChild(e)?e.node===this.node.bodyNode?this.bodyComponent=e:A&&!this.bodyComponent&&(this.bodyComponent=this.querySelector(A)):this.bodyComponent&&"appendTemporaryComponent"in this.bodyComponent&&(this.bodyComponent.appendTemporaryComponent(e),this.rerenderChildren()),n):n}},{key:"isOriginalChild",value:function(e){var t=this.node.originalNode;return e.node.originalParent===t}},{key:"hasBody",value:function(){return!!this.node.bodyNode}}],[{key:"preprocessNode",value:function(e,t,n){if(!Ol(e)){var o=i.parse(r,!0),s=Io.Z.module(o.namespace).getComponentClass(o.nodeName);return s&&s!==this&&s.isSeniorComponent&&(o=s.preprocessNode(o,t,n)),n.parseFragments(a,o),new Yu(o,e,A)}}},{key:"preprocess",value:function(e,t){var n=e.vnode;if(Ol(n))d(e),"preprocess"in u&&"function"==typeof u.preprocess&&u.preprocess(e);else{var i=this.preprocessNode(n,e,t);e.appendVNode(i)}}}]),t}(u),(0,U._)(t,"$seniorComponentOptions",{templateParser:i,template:r,body:A,fragments:a}),(0,U._)(t,"isSeniorComponent",!0),t}}]),e}(),Bl=n(5335),Vl=n.n(Bl),Hl=(n(1286),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.alertController=this.querySelector(">@div").controller,this.wrapper=this.querySelector(">@div"),this.header=this.querySelector(">@div>@layer-header"),this.body=this.querySelector(">@div>@layer-view"),this.bodyIcon=this.querySelector(">@div>@layer-view>@i"),this.again=this.getComponentByName("notAgain"),this.again.on("change",function(t){e.notShowAgain=t}),Object.assign(this.alertController,{title:this.title,message:this.message,notAgain:this.notAgain,ok:function(){e.isOKBtn=!0,e.hide()},cancel:function(){e.cancel()}}),this.alertController.digest()}},{key:"append",value:function(e){this.body?(this.$container.append(e),this.body.append(e)):(0,E._)((0,S._)(t.prototype),"append",this).call(this,e)}},{key:"removeChild",value:function(e){this.body?(this.$container.removeChild(e),this.body.removeChild(e)):(0,E._)((0,S._)(t.prototype),"removeChild",this).call(this,e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=function(t){(0,z.eventPath)(t).some(function(t){return t===e.element})&&((0,z.match)(t).when(z.matchers.Escape,function(){e.alertController.cancel()}).when(z.matchers.Enter,function(){e.alertController.ok()}),document.removeEventListener("keyup",n))},i=function(t){(0,z.eventPath)(t).some(function(t){return t===e.element})&&(0,z.match)(t).when(z.matchers.Escape,function(){t.stopPropagation(),document.addEventListener("keyup",n)}).when(z.matchers.Enter,function(){t.stopPropagation(),document.addEventListener("keyup",n)})};document.addEventListener("keydown",i),this.addDestroyHook(function(){document.removeEventListener("keydown",i)})}},{key:"setTitle",value:function(e){"string"==typeof e&&(this.alertController.title=e,this.alertController.digest(!0))}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.alertController.iconType),this.alertController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.alertController.iconType),this.alertController.digest(!0)):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setMessage",value:function(e,t){if("string"==typeof e){this.alertController.message=e,this.alertController.digest(!0);var n=this.querySelector(">@div>@layer-view>@span").element;t?(n.innerHTML=e,n.parentElement.style.alignItems="flex-start"):n.parentElement.style.alignItems=""}}},{key:"setId",value:function(e){this.alertId=void 0,this.wrapper.removeAttribute("id"),e&&(this.alertId=e,this.wrapper.setAttribute("id",e))}},{key:"showAgain",value:function(e){this.again.hide(),e&&(this.notShowAgain=!1,this.again.setValue(!1),this.again.show(),this.alertController.notAgain="string"==typeof e?e:this.notAgain,this.alertController.digest(!0))}},{key:"show",value:function(e){this.isOKBtn=!1,this.alertId&&this.notShowAgainList&&this.notShowAgainList.indexOf(this.alertId)>-1?this.isDestroyed||this.trigger(Do.qo.HIDDEN):(0,E._)((0,S._)(t.prototype),"show",this).call(this,e)}},{key:"doHidden",value:function(){if((0,E._)((0,S._)(t.prototype),"doHidden",this).call(this),this.notShowAgainList||(this.notShowAgainList=[]),this.alertId&&this.notShowAgain&&-1===this.notShowAgainList.indexOf(this.alertId))this.notShowAgainList.push(this.alertId);else if(this.alertId&&!this.notShowAgain){var e=this.notShowAgainList.indexOf(this.alertId);e>-1&&this.notShowAgainList.splice(e,1)}}},{key:"setOkBtnText",value:function(e){var t=e||this.pdfUI.i18n.t("common-dialogs.ok");this.alertController.okBtnText=t,this.alertController.digest()}}],[{key:"getName",value:function(){return"alert"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.alert-title"},message:{type:"string",defaultValue:"common-dialogs.alert-message"},level:{type:"enum",enums:["info","warn","error"],defaultValue:"info"},notAgain:{type:"string",defaultValue:"common-dialogs.notAgain"}}}}}]),t}(jl.createSuperClass({template:Vl()()}))),Ul=n(166),zl=n.n(Ul),Wl=(n(6578),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-value-editor"),this.okButtonComponent=this.querySelector("fv__ui-prompt-ok-button"),this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.on(Do.qo.SHOWN,function(){setTimeout(function(){e.inputComponent.focus(),e.inputComponent.element.select()})})}},{key:"setTitle",value:function(e){this.promptController.title=e,this.promptController.digest(!0)}},{key:"setIconType",value:function(e){("string"==typeof e||e)&&(this.promptController.iconType="fv__icon-dialog-level-"+e,this.promptController.digest(!0))}},{key:"setMessage",value:function(e){this.promptController.message=e,this.promptController.digest(!0)}},{key:"getValue",value:function(){return this.inputComponent.getValue()}},{key:"setValue",value:function(e){void 0!==e&&this.inputComponent.setValue(e)}},{key:"disableOk",value:function(e){var t=this;if(e){this.okButtonComponent.lock();var n=function(){t.inputComponent.getValue()?t.okButtonComponent.unlock():t.okButtonComponent.lock()};this.inputComponent.element.addEventListener("input",n);var i=function(){z.isTouchDevice&&z.isSafari&&window.scrollTo(0,0)};this.inputComponent.element.addEventListener("blur",i),this.once(Do.qo.HIDDEN,function(){t.inputComponent.element.removeEventListener("input",n),t.inputComponent.element.removeEventListener("blur",i)})}}}],[{key:"getName",value:function(){return"prompt"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}}}]),t}(jl.createSuperClass({template:zl()()}))),Yl=n(3146),Gl=n.n(Yl),$l=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-pwd-value-editor"),this.notifyComponent=this.querySelector("fv__ui-prompt-pwd-notify"),this.passwordSwicherIcon=this.querySelector("fv__ui-prompt-pwd-value-editor-toggler"),this.promptNotifyController=this.notifyComponent.controller,this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.on(Do.qo.SHOWN,function(){var t=function(n){if((0,z.eventPath)(n).some(function(t){return t===e.inputComponent.element})&&n&&13===n.keyCode)return n.stopPropagation(),e.promptController.ok(),document.removeEventListener("keyup",t),!1};document.addEventListener("keydown",function(n){(0,z.eventPath)(n).some(function(t){return t===e.inputComponent.element})&&n&&13===n.keyCode&&document.addEventListener("keyup",t)}),setTimeout(function(){e.inputComponent.focus(),e.inputComponent.element.select()})})}},{key:"switchPassword",value:function(){var e=this.inputComponent.element;"password"===e.type?(e.type="text",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-hide-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-show-password")):(e.type="password",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-show-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-hide-password"))}},{key:"setNotifyType",value:function(e){e?this.notifyComponent.addCSSClass(e):this.notifyComponent.element.className="notify"}},{key:"setNotifyContent",value:function(e){this.promptController.notifyMessage=e,this.promptController.digest()}},{key:"setTitle",value:function(e){this.promptController.title=e,this.promptController.digest(!0)}},{key:"setMessage",value:function(e){this.promptController.message=e,this.promptController.digest(!0)}},{key:"getValue",value:function(){return this.inputComponent.getValue()}},{key:"setValue",value:function(e){void 0!==e&&this.inputComponent.setValue(e)}},{key:"show",value:function(e){(0,E._)((0,S._)(t.prototype),"show",this).call(this,e);var n=ca()(this.element).prev();n.length&&n.hasClass("fv__ui-layer-modal")&&n.css("zIndex",ca()(this.element).css("zIndex"))}}],[{key:"getName",value:function(){return"prompt-password"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}}}]),t}(jl.createSuperClass({template:Gl()()})),Jl=(n(666),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"hideOnEscape",value:function(){}},{key:"show",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.pdfUI.customs.isShowingGlobalLoadAnimation||!this.pdfUI.customs.isShowingGlobalLoadAnimation()){var i=getComputedStyle(e).position;n&&"static"===i&&(e.style.position="relative",this.addDestroyHook(function(){e.style.position=i})),(0,E._)((0,S._)(t.prototype),"show",this).call(this,e)}}},{key:"postlink",value:function(){this.textElement=this.element.querySelector(".fv__ui-loading-text"),this.animElement=this.element.querySelector(".fv__loading-animation"),this.setAnimation(this.animation),this.setText(this.text),(0,E._)((0,S._)(t.prototype),"postlink",this).call(this)}},{key:"setText",value:function(e){this.text=e||"",this.textElement.setAttribute("data-i18n",e),this.localize()}},{key:"setAnimation",value:function(e){"string"==typeof e?(this.animElement.classList.remove(this.animation),this.animElement.classList.add(e)):e?this.animElement.classList.remove("fv__ui-loading-hidden"):this.animElement.classList.add("fv__ui-loading-hidden"),this.animation=e}},{key:"localize",value:function(){return this.localizer.localizeElement(this.textElement)}},{key:"sync",value:function(e,n){var i=(0,E._)((0,S._)(t.prototype),"sync",this).call(this,e,n);if(i)return i;switch(e){case"text":return this.setText(n),!0;case"animation":return this.setAnimation(n),!0}return!1}}],[{key:"getName",value:function(){return"loading"}},{key:"getMetadata",value:function(){return{options:{text:"string",animation:function(e,t){var n,i=e.$options,r=e.attrs;return t in i?n=i[t]:""===(n=(n=r[t])&&n.trim().toLowerCase())||"true"===n?n=!0:"false"===n&&(n=!1),void 0===n?"fv__ui-loading-svg":n}}}}}]),t}(jl.createSuperClass({template:'\n        <layer class="fv__ui-loading-layer" backdrop @shortcut-context="'.concat(va.LOADING_LAYER,'">\n            <ul class="fv__loading-animation">\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n            <span class="fv__ui-loading-text"></span>\n        </layer>\n    ')}))),ql=n(4756),Kl=n.n(ql),Zl=(n(2891),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.wrapper=this.querySelector(">@div"),this.confirmController=this.querySelector(">@div").controller,this.bodyIcon=this.querySelector(">@div>@layer-view>@div>@i"),this.again=this.getComponentByName("notAgain"),this.again.on("change",function(t){e.notShowAgain=t});var n=!1;Object.assign(this.confirmController,{notAgain:this.notAgain,ok:function(){n=!0,e.trigger("confirm",e),e.hideOnConfirm&&e.hide()},cancel:function(){e.hide()}}),this.on(Do.qo.HIDDEN,function(){n?n=!1:e.trigger("cancel")}),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.okText="common-dialogs.ok",this.confirmController.cancelText="common-dialogs.cancel",this.confirmController.digest()}},{key:"setTitle",value:function(e){this.confirmController.title=e,this.confirmController.digest(!0)}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.confirmController.iconType),this.confirmController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.confirmController.iconType),this.confirmController.digest()):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setMessage",value:function(e,t){var n=this.querySelector(">@div>@layer-view>@div>@span>@span").element;t?(this.confirmController.message="",n.innerHTML=e,n.style.display="",n.parentElement.parentElement.style.alignItems="flex-start"):(this.confirmController.message=e,n.style.display="none",n.parentElement.parentElement.style.alignItems=""),this.confirmController.digest()}},{key:"setOkButton",value:function(e){this.confirmController.okText=e||"common-dialogs.ok",this.confirmController.digest(!0)}},{key:"setCancelButton",value:function(e){this.confirmController.cancelText=e||"common-dialogs.cancel",this.confirmController.digest(!0)}},{key:"setId",value:function(e){this.confirmId=void 0,this.wrapper.removeAttribute("id"),e&&(this.confirmId=e,this.wrapper.setAttribute("id",e))}},{key:"showAgain",value:function(e){this.again.hide(),e&&(this.notShowAgain=!1,this.again.setValue(!1),this.again.show(),this.confirmController.notAgain="string"==typeof e?e:this.notAgain,this.confirmController.digest(!0))}},{key:"show",value:function(e){var n=this,i=this.getNotShowAgainList();this.confirmId&&i&&i.indexOf(this.confirmId)>-1?this.isDestroyed||setTimeout(function(){n.trigger("confirm",n),n.trigger(Do.qo.HIDDEN)},100):(0,E._)((0,S._)(t.prototype),"show",this).call(this,e)}},{key:"doHidden",value:function(){(0,E._)((0,S._)(t.prototype),"doHidden",this).call(this);var e=this.getNotShowAgainList();if(this.confirmId&&this.notShowAgain&&-1===e.indexOf(this.confirmId))e.push(this.confirmId);else if(this.confirmId&&!this.notShowAgain){var n=e.indexOf(this.confirmId);n>-1&&e.splice(n,1)}this.setNotShowAgainList(e)}},{key:"getNotShowAgainList",value:function(){var e=localStorage.getItem("CONFIRM-NOT-SHOA-AGAIN");return e&&(e=JSON.parse(e)),e||[]}},{key:"setNotShowAgainList",value:function(e){void 0!==e&&localStorage.setItem("CONFIRM-NOT-SHOA-AGAIN",JSON.stringify(e))}}],[{key:"getName",value:function(){return"confirm"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"},"hide-on-confirm":{type:"boolean",field:"hideOnConfirm",defaultValue:!1},notAgain:{type:"string",defaultValue:"common-dialogs.notAgain"}}}}}]),t}(jl.createSuperClass({template:Kl()()}))),Xl=n(1449),Ql=n.n(Xl),ed=(n(7319),function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"postlink",this).call(this);var n=this.querySelector(">@div>@layer-header"),i=ca()(n.element).find(".fv__icon-layer-close"),r=this.confirmController=this.querySelector(">@div").controller;this.bodyIcon=this.querySelector(">@div>@layer-view>@div>@i"),Object.assign(this.confirmController,{ok:function(t){e.trigger("confirm",t),(void 0===e.autoHide||!0===e.autoHide)&&e.hide(),e.storageAgainData("confirm",t)},cancel:function(){e.hide(),e.storageAgainData("cancel")}}),i.on("click",function(){e.storageAgainData("cancel")}),this.againComp=this.getComponentByName("notAgain"),this.againComp.on("change",function(e){var t=r.againCallback;t&&t(e)}),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.digest()}},{key:"setTitle",value:function(e){this.confirmController.title=e,this.confirmController.digest()}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.confirmController.iconType),this.confirmController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.confirmController.iconType),this.confirmController.digest()):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setId",value:function(e){this.id=e}},{key:"setAutoHide",value:function(e){this.autoHide=e}},{key:"setMessage",value:function(e,t){this.confirmController.message=e,this.confirmController.digest(),t&&(this.querySelector(">@div>@layer-view>").element.innerHTML=e)}},{key:"setAgain",value:function(e){var t=e.visible,n=void 0!==t&&t,i=e.text,r=void 0===i?"common-dialogs.notAgain":i,o=e.checkout,a=void 0!==o&&o,s=e.againCallback;this.againComp||(this.againComp=this.getComponentByName("notAgain")),this.againComp[n?"show":"hide"](),this.againComp.setValue(a),this.againComp.setText(this.pdfUI.i18n.t(r)),this.againComp.textElement.innerText=this.pdfUI.i18n.t(r),Object.assign(this.confirmController,{againCallback:function(e){s&&s(e)}}),this.confirmController.digest()}},{key:"setCustomButtons",value:function(e){var t=this;void 0===e&&(e=[{id:"yes",text:"common-dialogs.ok"},{id:"no",text:"common-dialogs.cancel"}]),this.$footerButtons||(this.$footerButtons=ca()(this.element.querySelector(".fv__ui-dialog-footer-buttons")));var n=this.$footerButtons;n.empty(),e.forEach(function(e){var i=e.id,r=e.text,o="no"===i?"fv__ui-dialog-cancel-button":"fv__ui-dialog-ok-button",a=document.createElement("button");a.setAttribute("class","".concat(o," fv__ui-button")),a.setAttribute("component-type","xbutton"),a.innerHTML='<span class="fv__ui-button-text">'.concat(t.pdfUI.i18n.t(r),"</span>"),a.addEventListener("click",function(e){"no"===i?t.confirmController.cancel():t.confirmController.ok(i)}),n.append(a)}),this.confirmController.digest()}},{key:"storageAgainData",value:function(e,t){var n=this.id;if(void 0!==n){var i=this.getAgainData(),r=this.againComp.getValue();r?i[n]={action:e,data:t,again:r}:delete i[n],localStorage.setItem("CONFIRM-AGAIN-DATA",JSON.stringify(i))}}},{key:"getAgainData",value:function(){var e=localStorage.getItem("CONFIRM-AGAIN-DATA");return e=e?JSON.parse(e):{}}},{key:"show",value:function(e){var n=this.getAgainData();if((0,E._)((0,S._)(t.prototype),"show",this).call(this,e),n.hasOwnProperty(this.id)){var i=n[this.id],r=i.action,o=void 0===r?"cancel":r,a=i.data;this.trigger(o,a),this.hide()}}}],[{key:"getName",value:function(){return"custom-confirm"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"}}}}}]),t}(jl.createSuperClass({template:Ql()()}))),td=function(e){return e.parent="parent",e.bro="bro",e}({}),nd=function(e){function t(){var e;(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"tree",void 0),(0,U._)(e,"currentDragNode",void 0),(0,U._)(e,"currentDragOverNode",void 0),(0,U._)(e,"currentDragOverType",void 0),(0,U._)(e,"dragIndocatorElement",void 0),(0,U._)(e,"draggable",!1),(0,U._)(e,"editable",!0),(0,U._)(e,"selectable",!1),(0,U._)(e,"checkable",!1),(0,U._)(e,"dragInterceptor",function(){return!0}),(0,U._)(e,"startedDragging",!1),(0,U._)(e,"lazyMode","none"),(0,U._)(e,"moveOverStore",new z.ValueStore),(0,U._)(e,"treeNodeMountedListeners",new Set),e.dragIndocatorElement=document.createElement("div"),e.dragIndocatorElement.className="fv__ui-tree-node-drag-indicator";var n=function(t){var n;if(e.draggable&&e.startedDragging){var i=(0,z.getClientX)(t),r=(0,z.getClientY)(t),o=document.elementFromPoint(i,r);if(o){var a=o.closest(".fv__ui-tree-node");if(a){var s=a.getAttribute("id");if(s){var A=null===(n=e.tree)||void 0===n?void 0:n.getNodeById(s);A&&e.moveOverStore.dispatch({event:t,node:A})}}}}},i=z.isTouchDevice?"touchmove":"pointermove";return document.addEventListener(i,n,!0),e.addDestroyHook(function(){document.removeEventListener(i,n,!0)}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"setDraggable",value:function(e){this.draggable=e}},{key:"setEditable",value:function(e){this.editable=e}},{key:"setSelectable",value:function(e){this.selectable=e}},{key:"setCheckable",value:function(e){this.checkable=e}},{key:"setLazyMode",value:function(e){this.lazyMode=e}},{key:"setTree",value:function(e){this.tree=e}},{key:"getTree",value:function(){return this.tree}},{key:"setDragInterceptor",value:function(e){this.dragInterceptor=e}},{key:"setStartedDragging",value:function(e){this.startedDragging=e}},{key:"startDragNode",value:function(e){this.draggable&&(this.setStartedDragging(!0),this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),e.addCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode=e,this.tree.addCSSClass("fv__ui-tree-dragging"),this.triggerEvent("dragstart",e.getNodeId()))}},{key:"dragAboveNode",value:function(e,t){return!!this.draggable&&(this.currentDragOverNode=void 0,this.currentDragOverType=void 0,!!this.currentDragNode&&(e===this.currentDragNode||e.isDescendantOf(this.currentDragNode)?(this.hideDragIndicator(),!1):this.dragInterceptor(this.currentDragNode,e,t)?(this.currentDragOverNode=e,this.currentDragOverType=t,this.showDragIndicator(e,t),this.triggerEvent("dragover",this.currentDragNode.getData(),e.getNodeId(),t),!0):(this.hideDragIndicator(),!1)))}},{key:"abortDragNode",value:function(){this.resetDraggingStatus(),this.triggerEvent("dragabort")}},{key:"resetDraggingStatus",value:function(){this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode=void 0,this.currentDragOverNode=void 0,this.currentDragOverType=void 0,this.hideDragIndicator(),this.tree.removeCSSClass("fv__ui-tree-dragging")}},{key:"dragEnd",value:function(){if(this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode&&this.currentDragOverNode&&this.currentDragOverType){var e=this.currentDragOverNode.nodeData.id,t=this.currentDragNode.getData();this.triggerEvent("dragend",{draggedNodeData:t,targetNodeId:e,dragOverType:this.currentDragOverType}),this.resetDraggingStatus()}}},{key:"showDragIndicator",value:function(e,t){switch(t){case"parent":var n=e.titleElement.getBoundingClientRect();this.dragIndocatorElement.style.cssText="\n                    left: ".concat(n.left,"px;\n                    top: ").concat(n.bottom+1,"px;\n                    width: ").concat(n.width,"px;\n                ");break;case"bro":var i=e.contentWrapperElement.getBoundingClientRect();this.dragIndocatorElement.style.cssText="\n                    left: ".concat(i.left,"px;\n                    top: ").concat(i.bottom+1,"px;\n                    width: ").concat(i.width,"px;\n                ");break;default:return}document.body.appendChild(this.dragIndocatorElement)}},{key:"hideDragIndicator",value:function(){var e=this.dragIndocatorElement.parentElement;e&&e.removeChild(this.dragIndocatorElement)}},{key:"onDragOverNode",value:function(e){return this.moveOverStore.subscribe(e)}},{key:"getTreeData",value:function(){return this.tree.data}},{key:"removeNodeById",value:function(e){var t=this.getTreeData(),n=t.some(function t(n,i,r){return n.id===e?(r.splice(i,1),!0):n.children?n.children.some(t):void 0});if(n){var i,r=this.getNodeDataStructureById(e);if(r.parent)this.tree.getNodeById(r.parent).setData(r.parent);else this.tree.setData(t);this.triggerEvent("remove",e,null===(i=r.parent)||void 0===i?void 0:i.id)}return n}},{key:"insertNodeChildAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getTreeData();n<0&&(n=0);var r=this.getNodeDataStructureById(e.id);if(r){var o=r.parent?r.parent.children||[]:i,a=o.findIndex(function(t){return t.id===e.id});if(o.splice(a,1),r.parent)this.tree.getNodeById(r.parent.id).setData(r.parent);else this.tree.setData(i)}if(t){var s,A=this.getNodeDataStructureById(t);if(!A)return!1;var c=A.node.children||[];n=Math.min(n,c.length),c.splice(n,0,e),A.node.children=c,this.tree.getNodeById(t).setData(A.node),this.triggerEvent("insert",e.id,t,null==r||null===(s=r.parent)||void 0===s?void 0:s.id)}else n=Math.min(n,i.length),i.splice(n,0,e),this.tree.setData(i),this.triggerEvent("insert",e.id);return!0}},{key:"appendNode",value:function(e,t){return this.insertNodeChildAt(e,t,1/0)}},{key:"prependNode",value:function(e,t){return this.insertNodeChildAt(e,t,0)}},{key:"insertAfter",value:function(e,t){return this.insertWithOffset(e,t,1)}},{key:"insertBefore",value:function(e,t){return this.insertWithOffset(e,t,0)}},{key:"insertWithOffset",value:function(e,t,n){var i=this.getNodeDataStructureById(t);if(!i)return!1;var r=this.getTreeData();if(i.parent){var o=(i.parent.children||[]).findIndex(function(e){return e.id===t});return this.insertNodeChildAt(e,i.parent.id,o+n)}var a=r.findIndex(function(e){return e.id===t});return this.insertNodeChildAt(e,void 0,a+n)}},{key:"getNodeDataStructureById",value:function(e){var t=this.getTreeData(),n=function(t,i){var r=t.findIndex(function(t){return t.id===e});if(-1!==r)return{node:t[r],parent:i};for(var o=0;o<t.length;o++){var a=t[o].children;if(a){var s=n(a,t[o]);if(s)return s}}};return n(t)}},{key:"triggerEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.tree).trigger.apply(r,[e].concat((0,R._)(n)))}},{key:"treeNodeMounted",value:function(e){this.treeNodeMountedListeners.forEach(function(t){t(e)})}},{key:"onTreeNodeMounted",value:function(e){var t=this,n=function(t){e(t)};return this.treeNodeMountedListeners.add(n),function(){t.treeNodeMountedListeners.delete(n)}}}],[{key:"scope",value:function(){return xo.U.COMPONENT_TREE}}]),t}(z.Disposable),id={treeNode:null};z.Lazy.property(id,"treeNode",function(){var e=document.createElement("li");return e.innerHTML='\n        <div class="fv__ui-tree-node-wrapper">\n            <span class="fv__ui-tree-node-intent"></span>\n            <i class="fv__ui-tree-node-switcher">\n                <i class="fv__ui-tree-node-switcher-icon"></i>\n            </i>\n            <span class="fv__ui-tree-node-checkbox">\n                <input class="fv__ui-tree-node-checkbox-native" type="checkbox">\n                <span class="fv__ui-tree-node-checkbox-inner"></span>\n            </span>\n            <span class="fv__ui-tree-node-content-wrapper">\n                <span class="fv__ui-tree-node-title"></span>\n            </span>\n        </div>\n        <div class="fv__ui-tree-node-children-wrapper"></div>\n    ',e});var rd=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){var e=id.treeNode.cloneNode(!0);return this.containerElement=e.querySelector(".fv__ui-tree-node-children-wrapper"),this.nodeWrapperElement=e.querySelector(".fv__ui-tree-node-wrapper"),this.checkboxElement=e.querySelector(".fv__ui-tree-node-checkbox"),this.checkboxNativeElement=this.checkboxElement.querySelector("input"),this.titleElement=e.querySelector(".fv__ui-tree-node-title"),this.indentElement=e.querySelector(".fv__ui-tree-node-intent"),this.switcherElement=e.querySelector(".fv__ui-tree-node-switcher"),this.contentWrapperElement=e.querySelector(".fv__ui-tree-node-content-wrapper"),e}},{key:"toggleLoading",value:function(e){this.element.classList.toggle("fv__ui-tree-node-loading",e)}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"allInjected",value:function(){var e=this,t=this,n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;Object.defineProperty(t,e,{get:function(){return t.nodeData[n]},set:function(e){t.nodeData[n]=e}})},i=function(t){Object.defineProperty(e,t,{get:function(){return t in e.nodeData?e.nodeData[t]:e.service[t]},set:function(n){e.nodeData[t]=n}})};n("iconCls","icon"),n("title"),n("checked"),n("selected"),n("editting"),n("color"),n("style"),i("draggable"),i("selectable"),i("editable"),i("checkable");var r=this.getTree();r&&r.trigger("create-tree-node",this),this.setData({isLeaf:!0,disabled:!1,activated:!1})}},{key:"render",value:function(){(0,E._)((0,S._)(t.prototype),"render",this).call(this),this.element.classList.add("fv__ui-tree-node")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this);var n=this.previousSiblings();n&&n.isMounted&&n.updateIntentsRecursion();var i=this.getTree();this.attachEventToElement(this.switcherElement,"mousedown",function(e){e.stopPropagation()}),this.attachEventToElement(this.checkboxElement,"mousedown",function(e){e.stopPropagation()}),this.attachEventToElement(this.switcherElement,"click",function(){e.isActive?e.deactive():e.active()}),this.attachEventToElement(this.checkboxElement,"click",function(){if(!e.disabled){var t=!e.checked;e.toggleCheck(t),i.trigger("check",e.getNodeId(),t),e.broadcast("check",{checked:t,node:e})}}),this.attachEventToElement(this.contentWrapperElement,"click",function(){e.onUserClickContent()}),this.addDestroyHook((0,z.onTap)({target:this.contentWrapperElement,onDoubleTap:function(){e.disabled||e.editable&&(e.toggleEdit(!0),i.trigger("edit",e.getNodeId()))}}),function(){i&&i.trigger("destroy-tree-node",e)}),this.contentWrapperElement.style.touchAction=null,this.attachEventToElement(this.titleElement,"blur,keydown",function(t){if(!e.disabled&&e.editting){if((0,T._)(t,KeyboardEvent)){if(!z.KeyboardUtils.isEnter(t))return;t.preventDefault()}var n=e.titleElement.innerText;if(e.toggleEdit(!1),e.nodeData.title!==n){var r=e.nodeData.title;if(n){var o=e.getNodeId();i.trigger("confirm-edit",{nodeId:o,newTitle:n,oldTitle:r})}else e.setTitle(e.nodeData.title)}}}),this.attachEventToElement(this.nodeWrapperElement,"dragstart",function(t){e.disabled||e.service.draggable}),this.attachEventToElement(this.nodeWrapperElement,"pointerdown",function(t){return(0,x._)(function(){var e,n,i,r;return(0,N.Jh)(this,function(o){return e=this,this.disabled||"mouse"===t.pointerType&&0!==t.button||this.editting?[2]:this.draggable?("touch"===t.pointerType?(n=setTimeout(function(){e.service.startDragNode(e)},300),i=this.attachEventToElement(document,"pointerup,pointermove,touchmove,touchend",function(e){clearTimeout(n),i()})):(r=this.attachEventToElement(document,"pointermove",function(t){r(),e.disabled||e.draggable&&!e.editting&&(e.service.setStartedDragging(!0),e.service.startDragNode(e))},!0),this.attachEventToElement(document,"pointerup,mouseup",function(){r()},!0)),[2]):[2]})}).call(e)}),this.addDestroyHook(this.service.onDragOverNode(function(t){var n=t.node,i=t.event;if(n===e){var r=e.titleElement.getBoundingClientRect();(0,z.getClientX)(i)>=r.left?e.service.dragAboveNode(e,td.parent):e.service.dragAboveNode(e,td.bro)}}),this.watch("$component.nodeData.isLeaf",function(t){e.setLeafNode(t)})),this.service.treeNodeMounted(this)}},{key:"onUserClickContent",value:function(){if(!this.disabled&&this.selectable&&!this.selected){var e=this.getTree();e.select(this),e.trigger("click-node",this.getNodeId())}}},{key:"select",value:function(){if(this.selectable){this.selected=!0,this.addCSSClass("fv__ui-tree-node-selected");var e=this.getNodeId(),t=this.getTree();t&&t.trigger("select",e)}}},{key:"unselect",value:function(){this.selected=!1,this.removeCSSClass("fv__ui-tree-node-selected");var e=this.getNodeId(),t=this.getTree();t&&t.trigger("unselect",e)}},{key:"toggleEdit",value:function(e){var t=this;if(e=!0===e,this.editting=e,z.isFirefox&&this.__removePasteEventListener&&this.__removePasteEventListener(),this.__removeKeydownEventListener&&this.__removeKeydownEventListener(),e){this.addCSSClass("fv__ui-tree-node-editting"),this.titleElement.setAttribute("contenteditable",z.isFirefox?"true":"plaintext-only"),this.titleElement.focus();var n=document.createRange();n.selectNodeContents(this.titleElement);var i=window.getSelection();if(null==i||i.removeAllRanges(),null==i||i.addRange(n),z.isFirefox){var r=function(e){Promise.resolve().then(function(){t.titleElement.innerText=t.titleElement.innerText.replace(/\n/g," ")})};this.titleElement.addEventListener("paste",r),this.__removePasteEventListener=function(){t.titleElement.removeEventListener("paste",r)}}var o=function(e){(0,z.isMatch)(e,z.matchers.or(z.matchers.ArrowLeft,z.matchers.ArrowRight,z.matchers.ArrowDown,z.matchers.ArrowUp))&&e.stopPropagation()};this.titleElement.addEventListener("keydown",o),this.__removeKeydownEventListener=function(){t.titleElement.removeEventListener("keydown",o)}}else this.removeCSSClass("fv__ui-tree-node-editting"),this.titleElement.removeAttribute("contenteditable")}},{key:"updateCheckStatus",value:function(){if(this.checkable){var e=this.querySelectorAll("@tree-node").filter(function(e){return e.checkable}),t=e.some(function(e){return e.isChecked}),n=e.some(function(e){return!e.isChecked});t&&n?(this.uncheck(),this.checkboxNativeElement.indeterminate=!0):t?this.check():this.uncheck(),this.trigger("check",this.checked,this.getNodeId())}}},{key:"receiveBroadcast",value:function(e,n){return"check"===e&&(this.toggleCheck(n.checked),this.trigger("check",this.checked,this.getNodeId())),(0,E._)((0,S._)(t.prototype),"receiveBroadcast",this).call(this,e,n)}},{key:"check",value:function(){var e=this.checkboxNativeElement;e.indeterminate=!1,e.checked=!0,this.checked=!0}},{key:"uncheck",value:function(){var e=this.checkboxNativeElement;e.indeterminate=!1,e.checked=!1,this.checked=!1}},{key:"toggleCheck",value:function(e){e?this.check():this.uncheck()}},{key:"active",value:function(){if(!this.isActive&&!this.isDestroyed){(0,E._)((0,S._)(t.prototype),"active",this).call(this);var e=this.getTree();e&&e.trigger("expand",{isExpand:!0,targetNodeId:this.getNodeId()})}}},{key:"doActive",value:function(){this.addCSSClass("fv__ui-tree-node-open"),this.removeCSSClass("fv__ui-tree-node-close"),this.nodeData.activated=!0}},{key:"deactive",value:function(){if(this.isActive&&!this.isDestroyed){(0,E._)((0,S._)(t.prototype),"deactive",this).call(this);var e=this.getTree();e&&e.trigger("expand",{isExpand:!1,targetNodeId:this.getNodeId()})}}},{key:"doDeactive",value:function(){this.removeCSSClass("fv__ui-tree-node-open"),this.addCSSClass("fv__ui-tree-node-close"),this.nodeData.activated=!1}},{key:"doDisable",value:function(){Zo.wA.prototype.doDisable.call(this),this.nodeData.disabled=!0,this.service.startedDragging&&(this.service.setStartedDragging(!1),this.service.dragEnd())}},{key:"doEnable",value:function(){Zo.wA.prototype.doEnable.call(this),this.nodeData.disabled=!1}},{key:"setLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(isFinite(e)&&!(e<0)){for(var n=Array.from(this.indentElement.children);n.length<e;)n.push(this._createIntent());n.length>e&&(n.length=e),n.forEach(function(e,n){e.classList.toggle("fv__ui-tree-node-intent-unit-has-line",!0===t[n])}),n.length>0&&n[n.length-1].classList.add("fv__ui-tree-node-intent-unit-end"),ea(this.indentElement,n)}}},{key:"_createIntent",value:function(){var e=document.createElement("span");return e.className="fv__ui-tree-node-intent-unit",e}},{key:"setCheckable",value:function(e){e=!0===e,this.checkable!==e&&(this.checkable=e,this.element.classList.toggle("fv__ui-tree-node-checkable",e),e&&this.toggleCheck(this.nodeData.checked))}},{key:"setIconCls",value:function(e){if(!this.iconElement||this.iconCls!==e){var t=this.iconElement=this.iconElement||document.createElement("i");if(t.className="fv__ui-tree-node-icon",e){var n=this.contentWrapperElement;t.classList.add(e),n.prepend(t)}else t.remove();this.iconCls=e}}},{key:"setLeafNode",value:function(e){var t=this.nodeData.children;!!Array.isArray(t)&&t.length>0&&(e=!1),e=!1!==e,this.element.classList.toggle("fv__ui-tree-node-leaf",e),this.element.classList.toggle("fv__ui-tree-node-subtree",!e),this.isLeaf=e}},{key:"setTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.titleElement;n.setAttribute("data-i18n",e),n.setAttribute("i18n-options",JSON.stringify(t)),this.title=e,this.nodeData.title=e,this.localizer.localizeElement(n,t)}},{key:"setTitleColor",value:function(e){this.titleElement.style.color=void 0===e?null:e}},{key:"setTitleFontStyle",value:function(e){this.titleElement.classList.toggle("fv__ui-tree-node-title-bold",(null==e?void 0:e.bold)||!1),this.titleElement.classList.toggle("fv__ui-tree-node-title-italic",(null==e?void 0:e.italic)||!1)}},{key:"setData",value:function(e){if("object"===(void 0===e?"undefined":(0,F._)(e))){if(this.nodeData?this.nodeData=Object.assign(e,Object.assign(this.nodeData||{},e)):this.nodeData=e,this.id=e.id,"disabled"in e&&(e.disabled?this.disable():this.enable()),"activated"in e&&(e.activated?this.active():this.isActive?this.deactive():this.doDeactive()),("iconCls"in e||"icon"in e)&&this.setIconCls(e.icon||e.iconCls),"title"in e&&this.setTitle(e.title,e.i18nOptions),this.setTitleColor(e.color),("isBold"in e||"isItalic"in e)&&this.setTitleFontStyle({bold:e.isBold,italic:e.isItalic}),"selectable"in e&&(this.selectable=!0===e.selectable),this.selectable?"selected"in e&&(e.selected?this.select():this.unselect()):this.unselect(),"draggable"in e&&(this.draggable=!1!==e.draggable),"editable"in e&&(this.editable=!0===e.editable),this.editable&&this.toggleEdit(e.editting),"children"in e&&this.setChildren(e.children),"editting"in e&&this.toggleEdit(!!e.editting),"checkable"in e&&(this.setCheckable(e.checkable),!this.checkable&&this.checked&&this.uncheck()),this.checkable)if("checked"in e)!!e.checked?this.check():this.uncheck();this.digest(!1)}}},{key:"setChildren",value:function(e){e=e||[],this.nodeData.children=e;var t=this.childAt(0);t&&t.setNodes(e),this.setLeafNode(this.nodeData.isLeaf)}},{key:"getData",value:function(){return this.nodeData}},{key:"getNodeId",value:function(){return this.nodeData.id}},{key:"getParentNodeData",value:function(){var e=this.getParentNode();return e?e.getData():null}},{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.updateIntents()}},{key:"updateIntentsRecursion",value:function(){var e=this.findChildren(function(e){return(0,T._)(e,t)},!1);e.length>0&&e.forEach(function(e){return e.updateIntents()})}},{key:"updateIntents",value:function(){for(var e=this.getTree(),t=0,n=this.parent,i=[],r=[],o=[],a=[];n!==e;){if("tree-node"===n.nodeName){var s=n.parent.children().length;s>1&&n.parent.indexOf(n)!==s-1?a.push(!0):a.push(!1),i.push(n.parent.indexOf(n)),r.push(n.children().length),o.push(n.parent.children().length),t++}n=n.parent}this.setLevel(t,a.reverse())}},{key:"getTree",value:function(){return this.service.getTree()}},{key:"getParentNode",value:function(){var e=this.parent;if(e){var n=e.parent;if((0,T._)(n,t))return n}}},{key:"getNodePath",value:function(){for(var e=[],t=this.parent;"tree"!==t.nodeName;)"tree-node"===t.nodeName&&e.push(t),t=t.parent;return e}},{key:"getNodeIndex",value:function(){var e,t=this.parent.parent;"tree"===t.nodeName?e=t.data:e=t.nodeData.children;var n=this.getNodeId();return e.findIndex(function(e){return e.id===n})}},{key:"getBrotherNodeData",value:function(e){var t,n=this.parent.parent;"tree"===n.nodeName?t=n.data:t=n.nodeData.children;var i=null,r=null,o=this.getNodeId(),a=!0,s=!1,A=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;if(l.id==o){if(r=l,e)break}else if(r){if(i=l,!e)break}else i=l}}catch(e){s=!0,A=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw A}}return i}},{key:"getRootNode",value:function(){for(var e=this.getParentNode();e;){var t=e.getParentNode();if(!t)break;e=t}return e}},{key:"remove",value:function(){var e=this.getRootNode(),n=this.previousSiblings();(0,E._)((0,S._)(t.prototype),"remove",this).call(this),e?e.updateIntentsRecursion():n&&n.updateIntentsRecursion()}},{key:"getChildrenNodes",value:function(){return this.childAt(0).children()}},{key:"getDescendantsNodes",value:function(){return this.querySelectorAll("@tree-node")}}],[{key:"getName",value:function(){return"tree-node"}},{key:"services",value:function(){return{service:nd}}}]),t}(ta);Io.Z.root().registerComponent(rd);var od=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"createDOMElement",value:function(){return document.createElement("ul")}},{key:"init",value:function(){this.nodeDatas=[],this.itemHeight=15,(0,E._)((0,S._)(t.prototype),"init",this).call(this)}},{key:"setNodes",value:function(e){Array.isArray(e)&&(this.nodeDatas=e,this.digest(!1))}},{key:"updateCheckStatus",value:function(e){this.parent&&this.parent.updateCheckStatus&&this.parent.updateCheckStatus(e)}},{key:"mounted",value:function(){(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.tree=this.getTree()}},{key:"getTree",value:function(){return this.service.getTree()}}],[{key:"getName",value:function(){return"tree-node-list"}},{key:"services",value:function(){return{service:nd}}}]),t}(Ll({template:'\n        <ul class="fv__ui-tree-node-list" @var.nlist="$component" @aria:role="group">\n            <tree-node \n                @foreach="nodeItemData in nlist.nodeDatas track by id"\n                foreach@lazy-mode="nlist.service.lazyMode"\n                foreach@threshold="150"\n                @setter.data="nodeItemData"\n                @on.check="nlist.updateCheckStatus($args[1])"\n                @aria:role="treeitem"\n            >\n                <tree-node-list @setter.nodes="nodeItemData.children" @aria:role="group"></tree-node-list>\n            </tree-node>\n        </ul>\n    '}));Io.Z.root().registerComponent(od);n(54);var ad=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){(0,E._)((0,S._)(t.prototype),"init",this).call(this),this.data=[]}},{key:"serviceInjected",value:function(){var e,t=function(t){var r=i[t];Object.defineProperty(e,t,{get:function(){return n.service[t]},set:function(e){n[r].call(n,e)}})},n=this;this.service.setTree(this),this.setDraggable(this.draggable),this.setEditable(this.editable),this.setLazyMode(this.lazyMode),this.setSelectable(this.selectable),this.setCheckable(this.checkable);var i={draggable:"setDraggable",editable:"setEditable",selectable:"setSelectable",checkable:"setCheckable",lazyMode:"setLazyMode"};for(var r in i)e=this,t(r)}},{key:"setData",value:function(e){Array.isArray(e)&&(this.data=e),this.digest()}},{key:"setDraggable",value:function(e){this.service.setDraggable(e)}},{key:"setEditable",value:function(e){this.service.setEditable(e)}},{key:"setSelectable",value:function(e){this.service.setSelectable(e)}},{key:"setCheckable",value:function(e){this.service.setCheckable(e)}},{key:"setLazyMode",value:function(e){this.service.setLazyMode(e)}},{key:"setDragInterceptor",value:function(e){this.service.setDragInterceptor(e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.attachEventToElement(document,"pointerup,touchend",function(t){"mouse"===t.pointerType&&0!==t.button||e.service.startedDragging&&(e.service.setStartedDragging(!1),e.service.draggable&&e.service.dragEnd())},{capture:!0}),this.attachEventToElement(this.element,"dragstart",function(t){e.disabled||e.service.draggable&&(t.preventDefault(),t.stopPropagation())})}},{key:"select",value:function(e){this.selectedNode!==e&&(this.selectedNode&&!this.selectedNode.isDestroyed&&this.selectedNode.unselect(),e?(e.select(),e.selected&&(this.selectedNode=e)):this.selectedNode=void 0)}},{key:"unselect",value:function(e){this.selectedNode===e&&e&&!e.isDestroyed&&(e.unselect(),this.selectedNode=void 0)}},{key:"getSelectedNode",value:function(){return this.selectedNode}},{key:"getRootNodeList",value:function(){return this.querySelector("@tree-node-list")}},{key:"getNodeById",value:function(e){return this.querySelector("@tree-node[id=".concat(e,"]"))}},{key:"getNodeByIdAsync",value:function(e){var t=(0,z.createDeferred)(),n=this.getNodeById(e);if(n)return t.resolve(n),t.promise;var i=this.service.onTreeNodeMounted(function(n){n.getNodeId()+""==e+""&&(t.resolve(n),i())});return t.promise}},{key:"removeNodeById",value:function(e){return this.service.removeNodeById(e)}},{key:"insertNodeChildAt",value:function(e,t,n){return this.service.insertNodeChildAt(e,t,n)}},{key:"appendNode",value:function(e,t){return this.service.appendNode(e,t)}},{key:"prependNode",value:function(e,t){return this.service.prependNode(e,t)}},{key:"insertNodeAfter",value:function(e,t){return this.service.insertAfter(e,t)}},{key:"insertNodeBefore",value:function(e,t){return this.service.insertBefore(e,t)}},{key:"isDragging",value:function(){return this.service.startedDragging}}],[{key:"getName",value:function(){return"tree"}},{key:"services",value:function(){return{service:nd}}},{key:"getMetadata",value:function(){return{options:{draggable:{type:"boolean",defaultValue:!1},editable:{type:"boolean",defaultValue:!1},selectable:{type:"boolean",defaultValue:!1},checkable:{type:"boolean",defaultValue:!1},"lazy-mode":{type:"enum",enums:["none","intersection","passive"],case:"lower",defaultValue:"none",field:"lazyMode"}}}}}]),t}(Ll({template:'\n        <div class="fv__ui-tree" @var.tree="$component" @controller="NoopController" @aria:role="tree">\n            <tree-node-list @setter.nodes="tree.data"></tree-node-list>\n        </div>\n    '})),sd=n(5322),Ad=n.n(sd),cd=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"showContextmenu",value:function(e){this.getComponentByName("fv--sidebar-contextmenu").showAt(e.clientX,e.clientY)}}],[{key:"getName",value:function(){return"sidebar-contextmenu"}}]),t}(jl.createSuperClass({template:Ad()()})),ud=(n(3402),n(9262)),ld=n.n(ud),dd=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"options",[]),(0,U._)(e,"value",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"userSelect",value:function(e,n){(0,E._)((0,S._)(t.prototype),"select",this).call(this,e);var i=this.value;this.value=n.id,this.trigger("change",this.value,i)}},{key:"setValue",value:function(e){var t=null!==e&&"object"===(void 0===e?"undefined":(0,F._)(e))&&"id"in e&&"text"in e,n=e;t&&(n=e.id);var i=this.options.findIndex(function(e){return e.id===n});-1===i?(this.value=void 0,this.unselect()):(this.value=this.options[i].id,this.select(this.childAt(i)))}},{key:"getValue",value:function(){return this.value}},{key:"setOptions",value:function(e){var t=this;return e.reduce(function(e,t){if(e.has(t.id))throw new Error("Invalid options data, duplicate id found: ".concat(t.id));return e.add(t.id),e},new Set),this.options=e||[],Promise.resolve(this.digest()).finally(function(){var e,n,i=null!==(n=null===(e=t.options.find(function(e){return e.id===t.value}))||void 0===e?void 0:e.id)&&void 0!==n?n:t.value;i===t.value&&t.selectedItem||t.setValue(i)})}}],[{key:"getName",value:function(){return"dropdown-select"}},{key:"getMetadata",value:function(){return{options:{"lazy-mode":{type:"enum",enums:["none","intersection","passive"],case:"lower",defaultValue:"none",field:"lazyMode"},"item-height":{type:"number",field:"itemHeight",defaultValue:28,min:1},"lazy-load-threshold":{type:"number",field:"lazyLoadThreshold",defaultValue:20,min:1}}}}}]),t}(jl.createSuperClass({template:ld()()})),hd=n(7644),fd=n.n(hd),pd=(n(133),function(){function e(){(0,C._)(this,e),(0,U._)(this,"groupName",""),(0,U._)(this,"currentValue",new z.ValueStore)}return(0,D._)(e,[{key:"setValue",value:function(e){this.currentValue.dispatch(e)}},{key:"onChange",value:function(e){return this.currentValue.subscribe(e)}},{key:"getValue",value:function(){return this.currentValue.getCurrentValue()}}],[{key:"scope",value:function(){return xo.U.COMPONENT_TREE}}]),e}()),gd=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){this.service.groupName=this.groupName}},{key:"getValue",value:function(){return this.service.getValue()}},{key:"setValue",value:function(e){this.service.setValue(e)}}],[{key:"getName",value:function(){return"scenario-option-group"}},{key:"inject",value:function(){return{service:pd}}},{key:"getMetadata",value:function(){return{options:{group:{type:"string",required:!0,field:"groupName"}}}}}]),t}(jl.createSuperClass({template:fd()()})),vd=n(757),md=n.n(vd),yd=(n(5174),jl.createSuperClass({template:md()()})),_d=Symbol("no-value"),bd=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"radioInput",void 0),(0,U._)(e,"isChecked",!1),e}return(0,I._)(t,e),(0,D._)(t,[{key:"groupName",get:function(){var e;return(null===(e=this.service)||void 0===e?void 0:e.groupName)||""}},{key:"postlink",value:function(){(0,E._)((0,S._)(t.prototype),"postlink",this).call(this),this.radioInput&&this.radioInput.setAttribute("name",this.groupName)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"mounted",this).call(this),this.addDestroyHook(this.service.onChange(function(t){var n=e.children().slice(1),i=t===e.getValue();e.isChecked=i,e.digest(),n.forEach(function(e){i?e.enable():e.disable()})}))}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value===_d?this.index():this.value}},{key:"setText",value:function(e){this.text=e+"",this.digest()}},{key:"acceptText",value:function(){return!0}},{key:"onUserCheckThis",value:function(){var e=this.service.getValue(),t=this.getValue();this.service.setValue(t),this.parent.trigger("change",t,e),this.trigger("select",t,e)}},{key:"doDisable",value:function(){(0,E._)((0,S._)(t.prototype),"doDisable",this).call(this),this.addCSSClass("fv__ui-scenario-option-disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(t.prototype),"doEnable",this).call(this),this.removeCSSClass("fv__ui-scenario-option-disabled")}}],[{key:"getName",value:function(){return"scenario-option"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string",required:!0},value:{type:"string",defaultValue:_d}}}}},{key:"inject",value:function(){return{service:pd}}}]),t}(yd),wd=Io.Z.root().getRegistry();for(var kd in u)wd.registerComponent(u[kd]);Io.Z.root().pipe("max",function(){return function(){return Array.isArray(value)&&value.length>=2?Math.max.apply(Math,value):value}}),Io.Z.root().pipe("json",function(e){return function(t){return JSON.stringify(t,null,e)}}),Io.Z.root().pipe("min",function(){return function(e){return Array.isArray(e)&&e.length>=2?Math.min.apply(Math,e):e}}),Io.Z.root().pipe("async",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){var i=this;return(0,T._)(n,Promise)?(n.then(function(t){e=t,i.digest()}),e||t):n}});var xd={};Io.Z.root().pipe("debounce",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=xd,n=new z.DebounceTaskExecutor(e);return function(e){var i=this;return t===xd?t=e:(e!==t&&n.exec(function(){t=e,i.digest()}),t)}}),Io.Z.root().pipe("default",function(e){return function(t){return null==t||""===t?e:"number"!=typeof t||!isNaN(t)&&isFinite(t)?t:e}}),Io.Z.root().pipe("lower",function(){return function(e){return"string"==typeof e?e.toLowerCase():e}}),Io.Z.root().pipe("percent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;return function(i){return"number"==typeof i?isFinite(i)?function(t,i){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+i}(i,"%"):t:i}}),Io.Z.root().pipe("upper",function(){return function(e){return"string"==typeof e?e.toUpperCase():e}}),Io.Z.root().pipe("timeformat",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=e.replace("yyyy","YYYY"),function(n){return"number"==typeof n&&(n=new Date(n)),(0,T._)(n,Date)?(0,z.dayjs)(n).format(e):t}});var Pd=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];Io.Z.root().pipe("bytes",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;return function(i){if("number"==typeof i){if(isFinite(i)){for(var r=0,o=i;o>=1024&&r<Pd.length;)o/=1024,r++;return function(t,i){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+i}(o,Pd[r])}return t}return t}}),Io.Z.root().pipe("i18n",function(e){var t=this,n=this.component.localizer;return this.component.on("localize",function(){t.digest()}),function(t){return n.translateSync(t,e)}});var Cd={distinct:function(){return function(e){return Array.isArray(e)?Array.from(new Set(e)):e}},pluck:function(e){var t="string"==typeof e?[]:e.split("."),n=function(e,t){if(e&&"object"===(void 0===e?"undefined":(0,F._)(e)))return e[t]},i=function(e){return t.reduce(n,e)};return function(e){return Array.isArray(e)&&0!==t.length?e.map(i):[]}}};for(var Dd in Cd)Io.Z.root().pipe(Dd,Cd[Dd]);function Ed(e,t){return e.filter(function(e){if("function"==typeof t)return t(e);for(var n in t){var i=t[n];return"function"==typeof i?i(e):e===i}})}Io.Z.root().pipe("filter",function(e){return function(t){return(0,T._)(t,Set)?new Set(Ed(Array.from(t),e)):Array.isArray(t)?Ed(t,e):t}}),Io.Z.root().pipe("number",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return"number"==typeof t?isNaN(t)?e:t:"string"==typeof t&&t.length>0&&Number(t)||e}}),Io.Z.root().pipe("fixed",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return"number"==typeof n?isFinite(n)?n.toFixed(e):t.toFixed(e):n}});n(4929);var Sd=n(6871),Id=(z.LoggerFactory.getLogger("UIXNodeParser"),function(){function e(t){(0,C._)(this,e);var n=t.localizer,i=t.templateParser,r=t.ioc,o=t.postHandle;this.localizer=n,this.templateParser=i,this.context=new Mc({parser:this,templateParser:i,localizer:n,postHandle:o,ioc:r})}return(0,D._)(e,[{key:"cloneNode",value:function(e){if((0,T._)(e,Go)||(0,T._)(e,qo))return e.clone(!0);e.asyncFragments.forEach(function(e){e.ignoreAsync=!0});var t=e.clone(!0);return this.parseFragments(e.asyncFragments,t),t}},{key:"forceParseChildren",value:function(e){this.templateParser.forceParseChildren(e)}},{key:"createPlainTextNode",value:function(e){return new Go({text:e})}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.parseTemplateToNode(e,t);return this.parseNode(n)}},{key:"parseTemplateToNode",value:function(e,t){var n=this.templateParser.parse(e);return this.parseFragments(t,n),n}},{key:"parseFragments",value:function(e,t){Sl(this.templateParser,e,t)}},{key:"isUnresolvedFragmentNode",value:function(e){return!!e.module.getFragment(e.nodeName)}},{key:"resolveFragmentNode",value:function(e){var t=this.templateParser.parse(e.template);return e.replaceWith(t),t}},{key:"parseNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if((0,T._)(e,Go))return this.parseTextNode(e,n);this.isUnresolvedFragmentNode(e)&&(e=this.resolveFragmentNode(e));var o=new Sd.Z(this,this.context);o.appendOptions(e.componentOptions).appendInitData(i).appendVNode(e).appendParentComponent(n);var a=e.getComponentClass();if(a.isFake())a.handleParseError(e);else{a.preprocess(o,this),e=o.vnode;var s,A=r?void 0:e.getParserDirectiveInstance(n,this.localizer);if(A)return A.parseComponent(this,i);if(s=o.build()){var c=s.directive;c.componentPrelink(),s.prelink();var u=e.children.filter(function(e){return(0,T._)(e,Yo.Z)}),l=(0,T._)(s,ta);if(!s.isIgnorable()&&u.length>0&&!l){var d=u.some(function(e){return"text"!==e.nodeName&&"placeholder-text"!==e.nodeName});if(d)throw new Error("<".concat(e.name,"> cannot contains any subcomponents, because it is not a container, but actual: ").concat(e.template))}if(l&&!s.isIgnorable())(s.acceptText()?e.children:u).forEach(function(e){var n=t.parseNode(e,s);n&&((0,T._)(e,Go)?s.appendText(n):s.append(n))});else s.acceptText()&&e.children.forEach(function(e){var n=t.parseNode(e,s);s.appendText(n)});return c.componentPostlink(),s.postlink(),s}}}},{key:"parseTextNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Ja({viewConfig:{textContent:e.text,attrs:{},vnode:e},context:this.context,callback:t?t.controller:null,proxyControllers:e.componentOptions.proxyControllers},Io.Z.root(),this.localizer);return n.render(),n.prelink(),n.postlink(),n}}]),e}()),Td=(n(9019),"fv-high-contrast-mode");z.Disposable;var Md=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"localizer",void 0),(0,U._)(n,"ioc",void 0),(0,U._)(n,"keyboard",void 0),n.localizer=new Ya(e.i18n,e.i18nOptions),n.ioc=e.ioc,n.keyboard=e.keyboard,n}return(0,I._)(t,e),(0,D._)(t,[{key:"renderTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=new Id({templateParser:new Rl,localizer:this.localizer,ioc:this.ioc}),r=this.ioc,o=this.keyboard||new z.KeyboardImpl({anchor:t});r.getStrategy(xo.U.SINGLETON).registerComponentInstance(o);var a=i.parse(e,n);return a.localize(),t.appendChild(a.element),a.mounted(),a}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.childElementCount>1)throw new Error("Multiple root element found in the container: ".concat(e.innerHTML));if(0===e.childElementCount)throw new Error("No children found in the container element");var n=e.firstElementChild;return n.remove(),this.renderTemplate(n,e,t)}}]),t}(z.Disposable);(0,U._)(Md,"Builder",function(){function e(){(0,C._)(this,e),(0,U._)(this,"i18n",void 0),(0,U._)(this,"i18nOptions",{}),(0,U._)(this,"ioc",void 0),(0,U._)(this,"keyboard",void 0)}return(0,D._)(e,[{key:"appendI18Next",value:function(e){return this.i18n=e,this}},{key:"appendI18NOptions",value:function(e){return(0,z.extendOptions)(this.i18nOptions,e),this}},{key:"appendIoC",value:function(e){return this.ioc=e,this}},{key:"appendKeyboard",value:function(e){return this.keyboard=e,this}},{key:"build",value:function(){var e=this.ioc||new z.ApplicationContextImpl,t=e;t.hasStrategy(xo.U.COMPONENT_TREE)||t.setStrategy(xo.U.COMPONENT_TREE,new Cc),t.hasStrategy(xo.U.COMPONENT_CHILDREN)||t.setStrategy(xo.U.COMPONENT_CHILDREN,new Pc),t.hasStrategy(xo.U.MULTI_CASE)||t.setStrategy(xo.U.MULTI_CASE,new xc);var n,i,r=this.i18n||(n=this.i18nOptions,(i=fA.createInstance()).init(n),i);return new Md({ioc:e,i18n:r,i18nOptions:this.i18nOptions})}}]),e}());var Rd="zIndexContextMenu";const Fd=function(){function e(t){(0,C._)(this,e),this.flag=t}return(0,D._)(e,[{key:"getValue",value:function(){return this.flag}},{key:"checkInvisible",value:function(){return(this.flag&en.invisible)===en.invisible}},{key:"checkHidden",value:function(){return(this.flag&en.hidden)===en.hidden}},{key:"checkPrint",value:function(){return(this.flag&en.print)===en.print}},{key:"checkNoZoom",value:function(){return(this.flag&en.noZoom)===en.noZoom}},{key:"checkNoRotate",value:function(){return(this.flag&en.noRotate)===en.noRotate}},{key:"checkNoView",value:function(){return(this.flag&en.noView)===en.noView}},{key:"checkReadOnly",value:function(){return(this.flag&en.readOnly)===en.readOnly}},{key:"checkLocked",value:function(){return(this.flag&en.locked)===en.locked}},{key:"checkToggleNoView",value:function(){return(this.flag&en.toggleNoView)===en.toggleNoView}},{key:"checkLockedContents",value:function(){return(this.flag&en.lockedContents)===en.lockedContents}},{key:"check",value:function(e){return(this.flag&e)===e}},{key:"or",value:function(e){return this.flag=this.flag|e,this}}]),e}();var Nd,Ld,Od,jd,Bd=function(e){return e.CREATE_ANNOT="create-annots",e.REMOVE_ANNOT="remove-annots",e.UPDATE_ANNOT="update-annots",e.ADD_REPLY="add-reply",e.REMOVE_REPLY="remove-reply",e.ADD_REVIEW_STATE="add-review-state",e.ADD_MARKED_STATE="add-marked-state",e.UPDATE_ANNOT_CONTENT="update-comment-content",e.PPO_REMOVE_PAGE="ppo-remove-page",e.PPO_REMOVE_PAGES="ppo-remove-pages",e.PPO_INSERT_PAGE="ppo-insert-page",e.PPO_ROTATE_PAGE="ppo-rotate-page",e.PPO_MOVE_PAGE="ppo-move-page",e.MOVE_ANNOTS_BETWEEN_PAGES="move-annotations-between-pages",e.IMPORT_ANNOTATIONS_FILE="import-annotations-file",e}({}),Vd=function(e){return e.SELECT_ALL="builtin-command-select-all-annotations",e.CREATION_UNDO_LAST="builtin-command-creation-undo-last",e.DELETE_SELECTED_OBJECT="builtin-command-delete-selected-object",e.DELETE_SELECTED_ANNOT_MAC="builtin-command-delete-selected-annot-mac",e.UNSELECT_OBJECT="builtin-command-unselect-object",e.UNDO_OPERATION="builtin-command-undo",e.REDO_OPERATION="builtin-command-redo",e.CANCEL_CREATING_ANNOTATION_OPERATION="builtin-command-cancel-creating-annotation",e.CLOSE_LAYER="builtin-command-close-closable-layer",e.ARROW_UP="builtin-command-arrow-up",e.ARROW_DOWN="builtin-command-arrow-down",e.ARROW_LEFT="builtin-command-arrow-left",e.ARROW_RIGHT="builtin-command-arrow-right",e.SWITCH_TO_HAND_STATE="builtin-command-switch-hand-state",e.COPY_ACTIVATE_ELEMENT="builtin-command-copy-activate-element",e.CUT_ACTIVATE_ELEMENT="builtin-command-cut-activate-element",e.ADD_BOOKMARK="builtin-command-add-bookmark",e.COPY_TEXT_IMAGE="builtin-command-copy-text-image",e.BLUR_EDITTING_TEXT_OBJECT="builtin-command-blur-editting-text-object",e.ALIGNMENT_REDUCE_WIDTH="builtin-command-alignment-reduce-width",e.ALIGNMENT_RAISE_WIDTH="builtin-command-alignment-raise-width",e.ALIGNMENT_REDUCE_HEIGHT="builtin-command-alignment-reduce-height",e.ALIGNMENT_RAISE_HEIGHT="builtin-command-alignment-raise-height",e.ALIGNMENT_REDUCE_STEP_WIDTH="builtin-command-alignment-reduce-step-width",e.ALIGNMENT_RAISE_STEP_WIDTH="builtin-command-alignment-raise-step-width",e.ALIGNMENT_REDUCE_STEP_HEIGHT="builtin-command-alignment-reduce-step-height",e.ALIGNMENT_RAISE_STEP_HEIGHT="builtin-command-alignment-raise-step-height",e.TAB_NEXT_OPERATION="builtin-command-tab-next",e.TAB_PREVIOUS_OPERATION="builtin-command-tab-previous",e.DELETE_ATTACHMENT="builtin-command-delete-attachment",e.JUMP_TO_NEXT_PAGE="builtin-command-jump-to-next-page",e.JUMP_TO_PREVIOUS_PAGE="builtin-command-jump-to-previsous-page",e.JUMP_TO_FIRST_PAGE="builtin-command-jump-to-first-page",e.JUMP_TO_LAST_PAGE="builtin-command-jump-to-last-page",e.SCROLL_TO_NEXT_VISIBLE_AREA="builtin-command-scroll-to-next-visible-area",e.SCROLL_TO_PREVIOUS_VISIBLE_AREA="builtin-command-scroll-to-previous-visible-area",e.SCROLL_VIEWER_SCROLLBAR_LEFT="builtin-command-scroll-viewer-scrollbar-left",e.SCROLL_VIEWER_SCROLLBAR_RIGHT="builtin-command-scroll-viewer-scrollbar-right",e.SCROLL_VIEWER_SCROLLBAR_UP="builtin-command-scroll-viewer-scrollbar-up",e.SCROLL_VIEWER_SCROLLBAR_DOWN="builtin-command-scroll-viewer-scrollbar-down",e}({}),Hd=function(e){return e.GLOBAL="builtin-shortcut-context-global",e.SELECTION="builtin-shortcut-context-selection",e.BASIC_STATE_HANDLER="builtin-shortcut-context-state-hander",e.ANNOTATION_PROPERTIES="builtin-shortcut-context-annot-properties",e.ACTIVATION_ANY="builtin-shortcut-context-activation-any",e.ACTIVATION_ANNOTATION="builtin-shortcut-context-activation-annot",e.ACTIVATION_WIDGET="builtin-shortcut-context-activation-widget",e.ACTIVATION_GRAPH_OBJ="builtin-shortcut-context-activation-graph_obj",e.VIEWER="builtin-shortcut-context-viewer",e.CREATING_ANNOTATION="builtin-shortcut-context-creating-annotation",e.CLOSABLE_LAYER="builtin-shortcut-context-closable-layer",e.EDIT_TEXT_OBJECT="builtin-shortcut-context-edit-text-object",e}({});const Ud=[{context:"builtin-shortcut-context-global",topLayers:[],extends:[],shortcuts:{}},{context:"builtin-shortcut-context-closable-layer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,U._)({},"builtin-command-close-closable-layer","Escape")},{context:"builtin-shortcut-context-viewer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(Nd={},(0,U._)(Nd,"builtin-command-undo","Mod+Z"),(0,U._)(Nd,"builtin-command-redo","Mod+Y"),(0,U._)(Nd,"builtin-command-add-bookmark","Mod+B"),(0,U._)(Nd,"builtin-command-delete-attachment","Delete"),(0,U._)(Nd,"builtin-command-jump-to-previsous-page","LeftArrow"),(0,U._)(Nd,"builtin-command-jump-to-next-page","RightArrow"),(0,U._)(Nd,"builtin-command-arrow-up","UpArrow"),(0,U._)(Nd,"builtin-command-arrow-down","DownArrow"),(0,U._)(Nd,"builtin-command-jump-to-first-page","Home"),(0,U._)(Nd,"builtin-command-jump-to-last-page","End"),(0,U._)(Nd,"builtin-command-scroll-to-next-visible-area","PageDown"),(0,U._)(Nd,"builtin-command-scroll-to-previous-visible-area","PageUp"),(0,U._)(Nd,"builtin-command-scroll-viewer-scrollbar-left","Shift+LeftArrow"),(0,U._)(Nd,"builtin-command-scroll-viewer-scrollbar-right","Shift+RightArrow"),(0,U._)(Nd,"builtin-command-scroll-viewer-scrollbar-up","Shift+UpArrow"),(0,U._)(Nd,"builtin-command-scroll-viewer-scrollbar-down","Shift+DownArrow"),Nd)},{context:"builtin-shortcut-context-edit-text-object",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,U._)({},"builtin-command-blur-editting-text-object","Escape")},{context:"builtin-shortcut-context-creating-annotation",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,U._)({},"builtin-command-cancel-creating-annotation","Escape")},{context:"builtin-shortcut-context-selection",topLayers:[],extends:[],shortcuts:(0,U._)({},"builtin-command-select-all-annotations","Mod+A")},{context:"builtin-shortcut-context-activation-any",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-selection"],shortcuts:(Ld={},(0,U._)(Ld,"builtin-command-delete-selected-object","Delete"),(0,U._)(Ld,"builtin-command-delete-selected-annot-mac","Mod+Backspace"),(0,U._)(Ld,"builtin-command-unselect-object","Escape"),(0,U._)(Ld,"builtin-command-copy-activate-element","Mod+C"),(0,U._)(Ld,"builtin-command-cut-activate-element","Mod+X"),Ld)},{context:"builtin-shortcut-context-activation-annot",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-activation-widget",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:(Od={},(0,U._)(Od,"builtin-command-alignment-reduce-width","Mod+LeftArrow"),(0,U._)(Od,"builtin-command-alignment-raise-width","Mod+RightArrow"),(0,U._)(Od,"builtin-command-alignment-reduce-height","Mod+UpArrow"),(0,U._)(Od,"builtin-command-alignment-raise-height","Mod+DownArrow"),(0,U._)(Od,"builtin-command-alignment-reduce-step-width","Mod+Shift+LeftArrow"),(0,U._)(Od,"builtin-command-alignment-raise-step-width","Mod+Shift+RightArrow"),(0,U._)(Od,"builtin-command-alignment-reduce-step-height","Mod+Shift+UpArrow"),(0,U._)(Od,"builtin-command-alignment-raise-step-height","Mod+Shift+DownArrow"),Od)},{context:"builtin-shortcut-context-activation-graph_obj",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-state-hander",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,U._)({},"builtin-command-switch-hand-state","Escape")},{context:Gn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:yn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Dn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Yn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:$n,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Vn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ti,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ni,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ii,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Hn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Pn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Tn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:jn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:On,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:kn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Ln,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Mn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Rn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Fn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Nn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Cn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:En,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:In,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-multi-media-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-text-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreatePushButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateCheckBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateRadioButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateComboBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateListBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateTextStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateSignStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateDateStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateImageStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:_n,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Sn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Jn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:qn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Kn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Xn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:(jd={},(0,U._)(jd,"builtin-command-copy-text-image","Mod+C"),(0,U._)(jd,"builtin-command-add-bookmark","Mod+B"),(0,U._)(jd,"builtin-command-select-all-annotations","Mod+A"),jd)},{context:ei,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ri,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:si,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Ai,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:ci,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:gi,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}}];var zd="undefined"!=typeof PointerEvent,Wd=z.isIE10?"MSPointerDown":zd?"pointerdown":"mousedown",Yd=z.isIE10?"MSPointerDown":"pointerdown",Gd="add",$d="minus",Jd=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[r])).hasFocus=!1,o.docRender=o.parent("pdfDocRender"),o.name="annot",o.eUi=n,o.element=n;var a=o.$ui=O()(n);if(a.addClass("fv__pdf-page-annot-container").data(Rd,o),a.attr("objectNumber",e.objectNumber),o.eHandler=i,(o.$handler=O()(i)).addClass("fv__pdf-page-annot-handler-container"),o.$page=r.$page,o.annot=e,o.$$isUIVisible=!0,a.data("component",o),o.deleteStatus=0,o.annotsRender=r.parent("annotsRender"),o.statusService=o.pdfViewer.getIoC().getInstanceByClass(th),o.eventHandlers=[],o.mouseEnterAnnots=[],!o.pdfViewer.getCurrentPDFDoc().isDynamicXFA()&&(o.bindDoubleTab(),z.isIOS)){var s=function(e){return e.preventDefault()};n.addEventListener("touchstart",s),o.addDestroyHook(function(){n.removeEventListener("touchstart",s)})}var A=function(){o.isDestroyed||o.annot.isDestroyed||o.getAppPermission().then(function(e){o.updateOnPermissionChange(e)})},c=function(){o.isDestroyed||o.annot.isDestroyed||o.removed||o.isActive&&o.mouseLeave()},u=function(){o.removed=!0},l=o.pdfViewer.eventEmitter;return l.on(ae.permissionChanged,A),l.on(ae.globalAnnotFlagChanged,A),l.on(ae.activeElementChanged,c),l.on(ae.annotationRemoved,u),l.on(ae.flattenAnnotation,u),o.addDestroyHook(function(){l.off(ae.permissionChanged,A),l.off(ae.globalAnnotFlagChanged,A),l.off(ae.activeElementChanged,c),l.off(ae.annotationRemoved,u)}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"id",get:function(){return this.annot?this.annot.getId():void 0}},{key:"initializeShapeControl",value:function(e){var t=this;e.ui.addEventListener("click",function(e){t.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&t.pdfViewer.unActiveElement(t)}),e.ownsTo&&e.ownsTo(this.disposor)}},{key:"init",value:function(){}},{key:"getAppPermission",value:function(){return this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot)}},{key:"initMouseEvent",value:function(){var e=this,t=this.pdfViewer.eventEmitter,n=this.getContainerElement();n.addEventListener("mouseenter",a),n.addEventListener("mousemove",function(e){if(!o)return;var t=A(e);if(t.length===r.length)return;var n=[],a=Gd;t.length>r.length?n=t.filter(function(e){return!r.some(function(t){return t.getId()===e.getId()})}):(n=r.filter(function(e){return!t.some(function(t){return t.getId()===e.getId()})}),a=$d);n.length&&(i.mouseMove&&i.mouseMove(n,a),r=t)}),n.addEventListener("mouseleave",s),this.addDestroyHook(function(){n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",s)});var i=this,r=[],o=!1;function a(e){r=i.mouseEnterAnnots=A(e),t.emit(ae.mouseEnter,_i.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseEnter&&i.mouseEnter(_i.annotation,{annots:i.mouseEnterAnnots,e}),o=i.needToggleView()}function s(e){r=[],t.emit(ae.mouseLeave,_i.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseLeave&&i.mouseLeave(_i.annotation,{annots:i.mouseEnterAnnots,e})}var A=function(t){var n=e.annotsRender.getAnnotRenders(),i=Object.keys(n).map(function(e){return n[e]}),r=t.clientX,o=t.clientY,a=[];return i.forEach(function(t){if(!e.annotsRender._isFormWidget(t)&&!e.annotsRender._isFormWatermark(t)){var n=t.component.$ui.get(0).getBoundingClientRect();r>=n.left&&r<=n.right&&o>=n.top&&o<=n.bottom&&a.push(t.annot)}}),a}}},{key:"initPointerDownEvent",value:function(){var e=this,t=this.pdfViewer.getEventEmitter(),n=function(n){var i=function(e){var i=e.component,r=i.shapeControl,o=!!r&&r.isActive;return t.emit(ae.tapAnnotation,e,n),Promise.resolve(i.tapAnnot(n)).then(function(){o||i.triggerPointerDownOnShapeControl(n)})};if(1===n.which&&!n.isManual&&!["fv__shape-control-text-area","fv__shape-control-move-area","fv__shape-controller","fv-shape-rotate-handle"].some(function(e){return O()(n.target).hasClass(e)})){var r=e.parent("pdfPageRender"),o=(0,M._)(r.getPDFPointFromClientPoint(n.clientX,n.clientY,!0),2),a=o[0],s=o[1],A=e.parent();return r.getPDFPage().then(function(e){var t=r.scale,n=r.rotate,i=e.getDeviceMatrix();return i.scale(t,t),i.rotate(n),e.getAnnotObjectNumAtDevicePoint([a,s],1,[i.a,i.b,i.c,i.d,i.e,i.f])}).then(function(t){var n=e.annotsRender.getAnnotRender(t);if(n&&n!==A)if("watermark"===n.annot.getType())i(A);else i(n);else i(A)}),!1}};this.eUi.addEventListener(Wd,n),this.eHandler.addEventListener(Wd,n),this.addDestroyHook(function(){e.eHandler.removeEventListener(Wd,n),e.eUi.removeEventListener(Wd,n)})}},{key:"triggerPointerDownOnShapeControl",value:function(e){var t,n=this.eHandler.querySelector(".fv__shape-control-move-area");n&&("function"!=typeof PointerEvent||(0,T._)(e,MouseEvent)?((t=document.createEvent("MouseEvent")).initMouseEvent(Yd,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.pointerId=e.pointerId):t=new PointerEvent("pointerdown",e),t.isManual=!0,n.dispatchEvent(t),n.dispatchEvent(t))}},{key:"getContainerElement",value:function(){return this.$ui.get(0)}},{key:"getHandlerElement",value:function(){return this.$handler.get(0)}},{key:"getModel",value:function(){return this.annot}},{key:"tapAnnot",value:function(){var e=this,t=this.getModel().getId();return this.pdfViewer.isMultiSelectActive()&&this.pdfViewer.getAllActivatedElements().find(function(t){return t===e})&&!z.keyboardStatus.isShiftDown?this.annotsRender.unActiveAnnot(t):this.annotsRender.activeAnnot(t)}},{key:"getId",value:function(){return this.id}},{key:"getIndex",value:function(){return this.annot.getIndex()}},{key:"setId",value:function(e){var t=this;return this.annot.setUniqueID(e).then(function(){t.id=e})}},{key:"isHidden",value:function(){var e=this.getAnnotFlag();return!!(e.checkHidden()||e.checkNoView()&&!e.checkToggleNoView())}},{key:"_hideUI",value:function(){this.$ui[0].classList.add("fv__ui-hide"),this.$handler[0].classList.add("fv__ui-hide")}},{key:"_showUI",value:function(){this.$ui[0].classList.remove("fv__ui-hide"),this.$handler[0].classList.remove("fv__ui-hide")}},{key:"hideUI",value:function(){return this.isUIVisible()?(this.isActive&&this.annotsRender.unActiveAnnot(this.annot),this.$$isUIVisible=!1,this._hideUI(),Promise.resolve()):Promise.resolve()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t}},{key:"showUI",value:function(){var e=this;return this.isUIVisible()?Promise.resolve():(this.$$isUIVisible=!0,this._showUI(),Promise.resolve(this.redraw()).then(function(){e.pdfViewer.getAnnotAuthorityManager().update(e.annot)}))}},{key:"isUIVisible",value:function(){return this.$$isUIVisible}},{key:"render",value:function(e,t){return this.scale=e,this.rotate=t,Promise.resolve()}},{key:"afterRender",value:function(){if(!this.isDestroyed){var e=this.annot.getType();z.isDesktop&&this.pdfViewer.config.showFormFieldTooltip&&"widget"===e&&this.bindAnnotMouseEvents()}}},{key:"add",value:function(e,t){return this.render(e,t)}},{key:"redraw",value:function(){}},{key:"willRedraw",value:function(){}},{key:"afterRedraw",value:function(){}},{key:"doActive",value:function(){var e=this;if(this.bindEvent(),!this.pdfViewer.activationManager.currentActivableIs(this)){var t=this.annot;if(t.isGrouped&&t.isGrouped()){var n=new q;t.groupElements.forEach(function(t){var i=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n.add(i)}),this.pdfViewer.activeElement(n)}else this.pdfViewer.activeElement(this)}}},{key:"doDeactive",value:function(){this.unBindEvent()}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this)}},{key:"destroy",value:function(){this.isActive=!1,this.$ui&&this.$ui.remove(),this.$handler&&this.$handler.remove(),this.unBindEvent(),this.eventHandlers=[],(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.annot=null,this.component=null,this.docRender=null,this.$ui=null,this.eHandler=null,this.$handler=null,this.$page=null,this.annotsRender=null}},{key:"remove",value:function(){this.destroy()}},{key:"showContextMenu",value:function(e,t){return!1}},{key:"enableContextMenu",value:function(e){this._disabledContextMenu=!e}},{key:"contextMenuIsEnable",value:function(){return!this._disabledContextMenu}},{key:"zIndexDown",value:function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0}},{key:"checkZIndexDown",value:function(){return!this.zIndexDownFlag}},{key:"zIndexRecover",value:function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1}},{key:"moveTo",value:function(e,t,n){var i,r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(!(arguments.length>3&&void 0!==arguments[3])||arguments[3]))return this.$ui.css({left:e,top:t}),Promise.resolve(!0);if(o)i={left:e,top:t,action:n,triggerAction:a};else{var s=this.scale,A=this.rotate,c=this.getPDFPage(),u=this.annot.getDeviceRect(s,A),l=e-u.left,d=t-u.top;if("freetext"!==this.annot.getType()&&Math.abs(l)<1&&Math.abs(d)<1)return Promise.resolve();var h=(0,M._)(c.reverseDeviceOffset([l,d],s,A),2),f=h[0],p=h[1],g=this.annot.getRect();i={left:g.left+f,top:g.top+p,action:n,triggerAction:a}}return this.annot.moveTo(i).then(function(e){return r.updateRender&&r.updateRender().then(function(){r.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,r)})})}},{key:"move",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.annot.getDeviceRect(this.scale,this.rotate);return this.moveTo(i.left+e,i.top+t,n)}},{key:"moved",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);this.$ui.css({left:e.left+"px",top:e.top+"px"}),this.activeRect()}},{key:"movedByOther",value:function(e){}},{key:"setRectInPDF",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.annot._setRect(e,t,i).then(function(e){return e&&i?n.updateRender().then(function(){return t&&n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n),e}):e})}},{key:"_setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height,a=arguments.length>1?arguments[1]:void 0,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r=Math.max(.001,r),o=Math.max(.001,o);var A=this.scale,c=this.rotate,u=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},A,c);return this.annot._setRect(u,a,s).then(function(t){return t&&s?e.updateRender().then(function(){return e.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,e),t}):t})}},{key:"setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height;r=Math.max(.001,r),o=Math.max(.001,o);var a=this.scale,s=this.rotate,A=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},a,s);return this.annot.setRect(A).then(function(t){return t&&e.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,e),t})}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect();return n.getDeviceRect(i,e,t)}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"getPosition",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=(0,M._)(e.getDevicePoint([t.left,t.top],this.scale,this.rotate),2);return{left:n[0],top:n[1]}}},{key:"getDimension",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then(function(t){if(t.ignorable()&&e.getAnnotFlag().checkLocked())throw new Error("The remove operation was rejected because it is locked!");if(t.isDeletable())return e.doRemoveAnnot()})}},{key:"doRemoveAnnot",value:function(){}},{key:"deleteDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"replyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||(!this.annot.getContent()||"sound"===this.annot.getType())}},{key:"propertyDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"moveDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"readOnlyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()}},{key:"isLocked",value:function(){return this.getAnnotFlag().checkLocked()}},{key:"bindEvent",value:function(){var e=this;this.pdfViewer&&this.pdfViewer.getKeyboard().withContext(Hd.ACTIVATION_ANY,function(t){if(!e.isDestroyed){e.__off__delete__event__&&e.__off__delete__event__();var n=Vd.DELETE_SELECTED_OBJECT;0,e.__off__delete__event__=t.keyup(n,function(t){!1!==e.isActive&&(e.removeAnnot(),t.stopPropagation())},{interceptors:[(0,z.excludeEditableElementInterceptor)(),function(t,n){var i=e.pdfViewer.getStore().getCurrentValue(z.MODULE_LICENSE_INFO);if(e.annot){var r=e.annot.getType(),o=!0;"redact"==r&&(o=Object.keys(i).find(function(e){return e.startsWith(r)?i[e]:""._})),o?n(t):e.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense")}}]})}})}},{key:"unBindEvent",value:function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=er}},{key:"updateDeleteStatus",value:function(e){e?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getPDFPage",value:function(){return this.getPDFAnnot().getPDFPage()}},{key:"getAnnotFlag",value:function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)}},{key:"groupMoveDisabled",value:function(){var e=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map(function(t){var n=t.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(e=!0)}),e}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"invisibleRender",value:function(){}},{key:"clearCache",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot)return null;var n=this.annot.getDeviceRect(e,this.rotate),i=this.getRect(),r=this.annot.page,o=this.pdfViewer.getSmartScale(e);return{annotInfo:this.annot.info,annotFlag:this.getAnnotFlag(),smartScale:o,rect:i,outerDeviceRect:n,innerDeviceRect:this.annot.getInnerRect?this.annot.getDeviceInnerRect(e,t):n,engineRenderingRect:r.getDeviceRect(i,o,t),scale:e,rotate:t,page:this.annot.page}}},{key:"toImageURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t=this.annot.page,n=this.pdfViewer.getSmartScale(this.scale),i=this.annot.getDeviceRect(1,this.rotate);return t.getAnnotBitmap(this.annot.objectNumber,(0,W.F2)(n),this.rotate,e(i,this,this.scale,this.rotate),!0).then(function(e){var t=e.width,n=e.height,i=e.buffer,r=(e.image,e.type,e.url),o=document.createElement("canvas");o.width=t,o.height=n;var a=o.getContext("2d");if(r)return new Promise(function(e){var t=new Image;t.onload=function(){a.drawImage(t,0,0),e(o.toDataURL())},t.src=r});var s=new(Uint8ClampedArray||Uint8Array)(i),A=a.createImageData(t,n);return A.data.set(s),a.putImageData(A,0,0),o.toDataURL()})}},{key:"activeTooltip",value:function(e){var t=this;if(-1===["link","screen"].indexOf(this.annot.getType())){var n=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,i="widget"===this.annot.getType()?this.eHandler:this.eUi,r="",o=0,a=0,s=document.createElement("div");document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(r=document.getElementsByClassName("fv_viewer-tooltip-container")[0]);var A=function(e){var t=document.documentElement.clientHeight,n=r.getBoundingClientRect().width,i=r.getBoundingClientRect().height,o=e.clientX+10,a=e.clientY+10;return document.documentElement.clientWidth-e.clientX<n+10&&(o-=n+10),t-a<i&&(a=e.clientY-e.layerY-i),{x:o,y:a}},c=function(e){clearTimeout(t.tooltipTimer),r.classList.remove("tooltip-active"),r.classList.add("tooltip-unactive")},u=function(e){if("widget"===t.annot.getType()){var i=n.getField();if(!i.getAlternateName())return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=i.getAlternateName()}else{var o=t.annot.getTitle(),a=t.annot.getContent();if(!o)return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=o,document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=a}var s,c;s=A(e).x,c=A(e).y,r.style.left=s+"px",r.style.top=c+"px",r.classList.remove("tooltip-unactive"),r.classList.add("tooltip-active")};this.lastPos=this.lastPos||{x:0,y:0};var l=function(e){var n=e.clientX,i=e.clientY;if(o=t.lastPos.x,a=t.lastPos.y,o&&Math.abs(n-o)>2&&Math.abs(i-a)>2)return t.lastPos.x=n,t.lastPos.y=i,void c();clearTimeout(t.tooltipTimer),t.tooltipTimer=setTimeout(function(){t.lastPos.x=n,t.lastPos.y=i,u(e)},500)};if(function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){s.classList.add("fv_viewer-tooltip-container"),s.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+n.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"></div>',s.innerHTML=e,s.querySelector(".fv_viewer-tooltip-content").innerText=" "+n.getContent(),document.getElementsByTagName("body")[0].appendChild(s),r=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}(),"widget"==this.annot.getType())return i.addEventListener("mousemove",l),i.addEventListener("mouseout",c),void this.addDestroyHook(function(){i.removeEventListener("mousemove",l),i.removeEventListener("mouseout",c)});if(e)return l(e),c;c()}}},{key:"bindAnnotMouseEvents",value:function(){var e=this;if("widget"==this.annot.getType()){var t,n=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,i=this.eHandler;i.addEventListener("mousemove",this.mouseEnterListener=function(i){e.pdfViewer.config.showFormFieldTooltip&&"widget"===n.getType()&&(t=e.pdfViewer.customs.AnnotTooltip?new e.pdfViewer.customs.AnnotTooltip(e.pdfViewer,n):new bi(n)).show(i.clientX,i.clientY)}),i.addEventListener("mouseout",this.mouseLeaveListener=function(e){t&&t.hide()}),this.addDestroyHook(function(){i.removeEventListener("mousemove",e.mouseEnterListener),i.removeEventListener("mouseout",e.mouseLeaveListener)})}}},{key:"collaborate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bd.UPDATE_ANNOT;if(this.pdfViewer.customs.isCollaborationMode&&this.pdfViewer.customs.isCollaborationMode())return e===Bd.UPDATE_ANNOT?this.pdfViewer.collaborate(e,{annots:[this.annot.exportToJSON()]}):void 0}},{key:"getPropertyOptions",value:function(){return{}}},{key:"isFormControl",value:function(){return!1}},{key:"updateOnPermissionChange",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return t=this,this.isDestroyed?[2]:z.Lazy.isPropertyIntialized(this,"shapeControl")?(n=!1,[4,this.groupMoveDisabled()]):[2];case 1:return r.sent()?(n=!0,[3,8]):[3,2];case 2:return e.ignorable()?[4,this.moveDisabled()]:[3,4];case 3:return n=r.sent(),[3,8];case 4:return[4,this.moveDisabled()];case 5:return(i=r.sent())?[3,7]:[4,e.isAdjustable()];case 6:i=!r.sent(),r.label=7;case 7:n=i,r.label=8;case 8:return this.pdfViewer.currentPDFDoc.readonly().then(function(e){e&&(n=!0);var i=t.shapeControl;n?i.disable():i.enable()}),[2]}})}).call(this)}},{key:"bindDoubleTab",value:function(){var e=this,t=function(t){e.pdfViewer.eventEmitter.emit(ae.doubleTapAnnotation,e.parent(),t),e.annotsRender.doubleTapAnnot(e.annot.id)};if(z.isTouchDevice&&(z.isSafari||z.isChrome)){var n=(0,z.onTap)({target:this.$handler[0],onDoubleTap:function(e){t(e)}});this.addDestroyHook(n)}else{var i=new Hammer.Manager(this.$handler[0]);i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),i.on("doubletap",function(e){t(e)}),this.addDestroyHook(function(e){return i.destroy()})}}},{key:"needToggleView",value:function(){if(this.isDestroyed||!this.annot)return!1;var e=this.getAnnotFlag();return!(!e.checkToggleNoView()||e.checkHidden())}},{key:"shouldRenderByMouseEvent",value:function(){var e=this.getAnnotFlag();return this.renderAppearanceType===Le.ROLLOVER?e.checkNoView():!e.checkNoView()}},{key:"mouseEnter",value:function(){this.needToggleView()&&(this.renderAppearanceType=Le.ROLLOVER,this.redraw(!0))}},{key:"mouseLeave",value:function(){this.needToggleView()&&this.pdfViewer.currentPDFDoc&&(this.renderAppearanceType=Le.NORMAL,this.redraw(!0))}},{key:"mouseMove",value:function(e,t){var n=this;e.forEach(function(e){var i=n.annotsRender._finAnnotRenderById(e.getId());if(i){var r=i.component;r.renderAppearanceType=t===Gd?Le.ROLLOVER:Le.NORMAL,r.redraw(!0)}})}},{key:"hasFocus",value:function(){return this.$handler[0]===document.activeElement}},{key:"requestFocus",value:function(){this.$handler.focus(),this.statusService.focusOn(this)}},{key:"isVisible",value:function(){return this.$handler.is(":visible")}},{key:"onBlur",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(){n&&this.$handler.off("blur",i),e()}return this.$handler.on("blur",i),function(){t.$handler.off("blur",i)}}}]),t}(X);const qd=Jd;var Kd="annotComponent",Zd={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(Kd).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Kd).removeAnnot()},disabled:function(){return this.data(Kd).deleteDisabled()}}};var Xd=function(e){return e.viewport="viewport",e.page="offset-page",e.scroll="scroll",e.pdf="pdf",e}({}),Qd=(n(6608),function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Zd,events:{show:function(){return this.data(Kd).updateDeleteStatus(!0),!0},hide:function(){return this.data(Kd).updateDeleteStatus(!1),!0}}}}()),eh=function(e){function t(e,n,i,r){var o,a;return(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),a=o,(0,U._)(a,"formFillerService",void 0),(0,U._)(a,"isDesignMode",!1),(0,U._)(a,"initDefer",new z.Defer),a.annotRender=r,a.formFillerService=a.pdfViewer.getFormFillerService(),a.addDestroyHook(a.formFillerService.onClickWidget(function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return(0,cn.isSameAnnotId)(a.annot.getWidgetId(),e)&&(t=a.annot.getField())&&(t.getType()===br.FieldType.Sign||a.canAnswer())?(a.handleOnClick(),[2]):[2]})})()}),a.formFillerService.onRightClickWidget(function(e,t){return(0,x._)(function(){var n,i,r,o,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return(0,cn.isSameAnnotId)(a.annot.getWidgetId(),e)&&(n=a.annot.getField())?(i=!1,n.getType()!==br.FieldType.Sign?[3,5]:[4,n.isSigned()]):[2];case 1:return u.sent()?(r=!1,[3,4]):[3,2];case 2:return[4,n.isReadonly()];case 3:r=u.sent(),u.label=4;case 4:return i=r,[3,7];case 5:return a.canAnswer()?[4,n.isReadonly()]:[2];case 6:i=u.sent(),u.label=7;case 7:return i?[2]:[4,(o=a.annotRender.parent("pdfPageRender")).transformPDFPointToDestType({point:{x:t.left,y:t.top},type:Xd.viewport,scale:o.scale,rotate:o.rotate})];case 8:return s=u.sent(),A=s.x,c=s.y,a.showContextMenu(A,c),[2]}})})()}),a.pdfViewer.addEventListener(ae.permissionChanged,function(){})),a.pdfViewer.getFormFillerService().needToResolveFocusIssue()&&a.resolveFocusIssue(e),o}return(0,I._)(t,e),(0,D._)(t,[{key:"resolveFocusIssue",value:function(e){var t=this,n=e.getField();switch(null==n?void 0:n.getType()){case br.FieldType.ComboBox:case br.FieldType.Text:break;default:return}if(!(null==n?void 0:n.getExtType().isDateOrTime)){var i=this.pdfViewer.getIoC().getInstanceByClass(Vo);this.addDestroyHook(i.delegate(document.body,"pointerdown",function(i){if(i.target.closest(".fv__pdf-page-layout")&&(!(0,z.isInputMethodOpening)()&&!!!(n.getFlags()&br.FieldFlag.ReadOnly))){if(n.getType()===br.FieldType.ComboBox)if(!!!(n.getFlags()&br.FieldFlag.ComboEdit))return;var r=(0,z.getClientX)(i),o=(0,z.getClientY)(i),a=t.annotsRender.pageRender.transformPointIntoPDFPointSync(e.page,{point:{x:r,y:o},type:Xd.viewport}),s=a.x,A=a.y,c=e.getRect();if(s>=c.left&&s<=c.right&&A<=c.top&&A>=c.bottom){var u=document.createElement("input");u.style.cssText="\n                        position: 'fixed';\n                        left: 0;\n                        top: 0;\n                        width: 1px;\n                        height: 1px;\n                        opacity: 0.01;\n                    ",document.body.appendChild(u),u.focus(),u.addEventListener("blur",function(){document.body.removeChild(u)})}}}))}}},{key:"canAnswer",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();return!!e&&!!(e.checkPermission(Xt.annotForm)&&e.checkPermission(Xt.fillForm)&&e.checkPermission(Xt.modify))}},{key:"init",value:function(){return(0,x._)(function(){var e,t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return e=this,n=this,[4,this.createFillerModeContextMenu()];case 1:return n.normalContextmenu=r.sent(),i=this,[4,this.createDesignModeContextMenu()];case 2:return i.designerContextmenu=r.sent(),null===(t=this.designerContextmenu)||void 0===t||t.retire(),this.addDestroyHook(function(){var t,n;null===(t=e.normalContextmenu)||void 0===t||t.destroy(),null===(n=e.designerContextmenu)||void 0===n||n.destroy()}),this.initDefer.resolve(),[2]}})}).call(this)}},{key:"toggleDesignMode",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return this.isDesignMode=e,this.initDefer.isSettled?[3,2]:[4,this.initDefer.promise];case 1:o.sent(),o.label=2;case 2:return e?(null===(t=this.normalContextmenu)||void 0===t||t.retire(),null===(n=this.designerContextmenu)||void 0===n||n.restore()):(null===(i=this.normalContextmenu)||void 0===i||i.restore(),null===(r=this.designerContextmenu)||void 0===r||r.retire()),[2]}})}).call(this)}},{key:"createFillerModeContextMenu",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.pdfViewer.viewerUI.createContextMenu(this,this.eHandler,this.getContextMenuConfig())]})}).call(this)}},{key:"createDesignModeContextMenu",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.createFillerModeContextMenu()]})}).call(this)}},{key:"showContextMenu",value:function(e,t){var n=this.isDesignMode?this.designerContextmenu:this.normalContextmenu;return!!n&&(n.setCurrentTarget(this),n.showAt(e,t))}},{key:"getContextMenuConfig",value:function(){var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"isFormControl",value:function(){return!0}},{key:"hasFocus",value:function(){var e=this.formFillerService.focusOnControl;if(!e)return!1;var t=this.annot;return e.objNumber==t.getObjectNumber()&&e.pageIndex==t.getPage().getIndex()}},{key:"requestFocus",value:function(){var e=this.annot.getAnnotId();return this.formFillerService.setFocus(e)}},{key:"onBlur",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.formFillerService.onFocusChange(function(r,o){t.isDestroyed?i():o&&o.objNumber===t.annot.getObjectNumber()&&o.pageIndex===t.annot.getPage().getIndex()&&(e(),n&&i())});return i}},{key:"isVisible",value:function(){return!0}},{key:"handleOnMouseUp",value:function(e){}},{key:"handleOnMouseDown",value:function(e){}},{key:"handleOnKeyDown",value:function(e){return Promise.resolve()}},{key:"handleOnKeyUp",value:function(e){return Promise.resolve()}},{key:"handleOnClick",value:function(){}},{key:"handleOnMouseOver",value:function(){}},{key:"handleOnMouseLeave",value:function(){}},{key:"handleOnGotFocus",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"handleOnLostFocus",value:function(){}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this);var e=this.annotRender,n=this.annotsRender;this.pdfViewer.eventEmitter.emit(ae.unActiveAnnotation,e,this.annot.getObjectNumber(),n)}},{key:"isXFADoc",value:function(){var e=this.annot.getPage().doc;return!(e.isStaticXFA()&&!e.isXFARemoved())}},{key:"active",value:function(){this.isDesignMode&&this.isXFADoc()&&(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"doRemoveAnnot",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.isActive&&(e=this.pdfViewer.getCurrentActivatable(),(0,T._)(e,q)&&e.remove(this)),[4,this.annot.remove()];case 1:return t.sent(),this.destroy(),[2]}})}).call(this)}},{key:"moveDisabled",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return 32&this.docRender.getUserPermission().getValue()?this.getAnnotFlag().checkLocked()?[2,!0]:this.isDesignMode&&this.annot.getField()?[2,!1]:[2,!0]:[2,!0]})}).call(this)}},{key:"canRemoveFocus",value:function(e){return!!this.isDesignMode||(!this.normalContextmenu||!(this.normalContextmenu.currentTarget===this&&this.normalContextmenu.isVisible))}},{key:"doubleTapAnnot",value:function(){}}],[{key:"getDefaultContextMenuConfig",value:function(){return Qd}}]),t}(qd),th=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"eventEmitter",new yo.EventEmitter),(0,U._)(e,"focusAnnot",void 0),(0,U._)(e,"cleanupLastFocusAnnot",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"formFillerService",get:function(){return this.pdfViewer.getFormFillerService()}},{key:"allInjected",value:function(){var e=this;this.addDestroyHook(this.pdfViewer.addEventListener(ae.willCloseDocument,function(){e.focusOn(void 0)}),this.formFillerService.onFocusChange(function(t){if(t){var n=e.pdfViewer.getPDFDocRender().getPDFPageRender(t.pageIndex).getAnnotRender(t.objNumber).component;e.focusOn(n)}}))}},{key:"focusOn",value:function(e){var t,n=this;null===(t=this.cleanupLastFocusAnnot)||void 0===t||t.call(this),this.eventEmitter.emit("changed",e,this.focusAnnot),this.focusAnnot=e,(0,T._)(e,eh)&&e.isDesignMode||(this.cleanupLastFocusAnnot=null==e?void 0:e.onBlur(function(){n.focusAnnot===e&&n.focusOn(void 0)},!0))}},{key:"onFocusChange",value:function(e){var t=this;return this.eventEmitter.on("changed",e),function(){t.eventEmitter.off("changed",e)}}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),t}(z.Disposable),nh={"aria-hidden":"true",style:"position: fixed;top: 50%;left:50%;width:0;height:0;opacity: 0;pointer-events:none",tabindex:0},ih=(z.LoggerFactory.getLogger("AnnotTabManager"),function(e){function t(e){var n,i;(0,C._)(this,t),n=(0,P._)(this,t),i=n,(0,U._)(i,"pageRender",void 0),(0,U._)(i,"currentOrderedAnnotComponents",void 0),(0,U._)(i,"jumpPrevElement",void 0),(0,U._)(i,"jumpNextElement",void 0),(0,U._)(i,"taskExecutor",void 0),(0,U._)(i,"annotStatusServie",void 0),i.pageRender=e,i.jumpPrevElement=document.createElement("div"),i.jumpNextElement=document.createElement("div"),i.taskExecutor=new z.QueuedAsyncTaskExecutor;var r=i.pageRender.pdfViewer;for(var o in i.annotStatusServie=i.pageRender.pdfViewer.getIoC().getInstanceByClass(th),z.Lazy.property(i,"currentOrderedAnnotComponents",function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,i.updateAnnots()];case 1:return[2,e.sent()]}})})()}),nh)i.jumpNextElement.setAttribute(o,nh[o]),i.jumpPrevElement.setAttribute(o,nh[o]);var a=function(e){i.currentFocusOnAnnotComponent&&e.preventDefault()};return i.addDOMEvent(i.pageRender.$element.get(0),"keydown",function(e){return(0,x._)(function(){var t,n,r,o,a,s,A,c,u,l,d,h,f;return(0,N.Jh)(this,function(p){switch(p.label){case 0:if(t=i.pageRender.pdfViewer.getFormFillerService(),e.target!==t.virtualWidgetElement&&(0,z.isEditableElement)(e.target))return[2];if(n=z.matchers.ArrowLeft,r=z.matchers.ArrowRight,o=z.matchers.ArrowDown,a=z.matchers.ArrowUp,s=z.matchers.or,(0,z.isMatch)(e,s(n,a)))A=0;else{if(!(0,z.isMatch)(e,s(r,o)))return[2];A=1}return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?[2]:(0,T._)(i.currentFocusOnAnnotComponent,eh)?(c=i.currentFocusOnAnnotComponent,u=c.getPDFAnnot(),(l=u.getField())?[4,l.getWidgetsCount()]:[2]):[2];case 1:return d=p.sent(),[4,Promise.all(Array.from({length:d},function(e,t){return l.getControl(t)}))];case 2:return(h=p.sent()).length<2?[2]:[4,Promise.all(h.map(function(e){return e.getWidgetAnnot()}))];case 3:return f=p.sent(),i.taskExecutor.exec(function(){return(0,x._)(function(){var e,t,n,r,o,a,s,c;return(0,N.Jh)(this,function(l){switch(l.label){case 0:if(e=f.indexOf(u),(t=0===A?e-1:e+1)>=f.length&&(t=0),t<0&&(t=f.length-1),n=f[t],r=i.pageRender.pagesRender,n)return[3,5];o=i.pageRender.index,a=i.pageRender.pagesRender.pageRenders.length,l.label=1;case 1:return n?[3,5]:((s=0===A?o-1:o+1)>=a&&(s=0),s<0&&(s=a-1),[4,r.getPDFPageRender(s).getPDFPage()]);case 2:return[4,l.sent().getAnnots()];case 3:return l.sent(),[4,h[t].getWidgetAnnot()];case 4:return n=l.sent(),(o=s)===i.pageRender.index?(n=f[0],[3,5]):[3,1];case 5:return(c=r.getPDFPageRender(n.page.getIndex())).isRendered?[3,7]:[4,i.pageRender.pdfViewer.goToPage(c.index)];case 6:l.sent(),l.label=7;case 7:return c.isRendered?[3,9]:[4,new Promise(function(e){return setTimeout(e,10)})];case 8:return l.sent(),[3,7];case 9:return c.getAnnotRender(n.getObjectNumber()).component.requestFocus(),[2]}})})()}),e.stopPropagation(),e.preventDefault(),[2]}})})()},!0),i.addDOMEvent(i.jumpPrevElement,"focus",function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:if(!e.relatedTarget)return[2];t.label=1;case 1:return t.trys.push([1,,6,7]),r.toggleMuiltiSelection(!1),i.currentFocusOnAnnotComponent?[3,3]:[4,i.jumpToNext()];case 2:return t.sent(),[3,5];case 3:return[4,i.jumpToPrev()];case 4:t.sent(),t.label=5;case 5:return[3,7];case 6:return r.toggleMuiltiSelection(!0),[7];case 7:return[2]}})})()}),i.addDOMEvent(i.jumpPrevElement,"keydown",a),i.addDOMEvent(i.jumpNextElement,"focus",function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:if(!e.relatedTarget)return[2];t.label=1;case 1:return t.trys.push([1,,3,4]),r.toggleMuiltiSelection(!1),[4,i.jumpToNext()];case 2:return t.sent(),[3,4];case 3:return r.toggleMuiltiSelection(!0),[7];case 4:return[2]}})})()}),i.addDOMEvent(i.jumpNextElement,"keydown",a),i.addViewerEvent(ae.activeAnnotation,function(e){var t=e.component;t!==i.currentFocusOnAnnotComponent&&t.getPDFPage().getIndex()===i.pageRender.index&&i.taskExecutor.exec(function(){return i.currentOrderedAnnotComponents.then(function(e){-1!==e.indexOf(t)&&i.annotStatusServie.focusOn(t)})})}),i.addViewerEvent(oe.Z.docModified,function(){z.Lazy.reset(i,"currentOrderedAnnotComponents")}),i.addViewerEvent(ae.switchStateHandler,function(){z.Lazy.reset(i,"currentOrderedAnnotComponents")}),i.addDestroyHook(function(){i.taskExecutor.cancel()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"currentFocusOnAnnotComponent",get:function(){return this.annotStatusServie.focusAnnot}},{key:"addDOMEvent",value:function(e,t,n,i){e.addEventListener(t,n,i),this.addDestroyHook(function(){e.removeEventListener(t,n,i)})}},{key:"addViewerEvent",value:function(e,t){var n=this.pageRender.pdfViewer.eventEmitter;n.on(e,t),this.addDestroyHook(function(){n.off(e,t)})}},{key:"updateAnnots",value:function(){var e=this,t=this.pageRender;t.docRender,t.pdfViewer.getFormFillerService().getDesignMode();return(t.annotsRender?t.getPDFPage():t.render(t.pagesRender.getPageScaleSync(t.index,t.docRender.getScale())).then(function(){return t.getPDFPage()})).then(function(t){return t.getAnnotIdArrayByOrder().then(function(e){return t.getAnnotsByObjectNumArray(e)}).then(function(t){return t.filter(function(e){return!(!(0,T._)(e,Pr)||!e.getField())}).map(function(t){var n=e.pageRender.getAnnotRender(t.getObjectNumber());return n&&n.component}).filter(function(e){return e.isVisible()}).filter(function(e){return!(0,T._)(e,eh)||(!!e.isDesignMode||!((e.annot.getField().getFlags()&gn.ReadOnly)===gn.ReadOnly))})})})}},{key:"getFocusOnAnnotComponent",value:function(){return this.currentOrderedAnnotComponents.then(function(e){return e.find(function(e){return e.hasFocus()})})}},{key:"jumpToNext",value:function(){var e=this;return this.taskExecutor.exec(function(){return e.currentOrderedAnnotComponents.then(function(t){if(!(t.length<1)){var n,i=e.pageRender.index,r=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){var o=t.indexOf(e.currentFocusOnAnnotComponent);if(!(n=t[o+1])){var a=r.getPDFPageRender(i+1);if(a)return e.jumpToPage(a.index,1);var s=0;return 0!==i&&i!==r.doc.getPageCount()-1||(s=1),e.jumpToPage(0,s)}}else n=t[0];return n?n.requestFocus():void 0}})})}},{key:"jumpToPrev",value:function(){var e=this;return this.taskExecutor.exec(function(){return e.currentOrderedAnnotComponents.then(function(t){var n=t.length;if(!(n<1)){var i,r=e.pageRender.index,o=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){var a=t.indexOf(e.currentFocusOnAnnotComponent);if(!(i=t[a-1])){var s=r-1;if(-1===s){var A=o.getPDFDoc().getPageCount()-1;return e.jumpToPage(A,0)}return e.jumpToPage(s,0)}}else i=t[n-1];return i?i.requestFocus():void 0}})})}},{key:"jumpFromPrevPage",value:function(){return this.currentOrderedAnnotComponents.then(function(e){return!!e[0]&&(e[0].requestFocus(),!0)})}},{key:"jumpFromNextPage",value:function(){return this.currentOrderedAnnotComponents.then(function(e){var t=e[e.length-1];return!!t&&(t.requestFocus(),!0)})}},{key:"jumpToPage",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:n=this.pageRender.pdfViewer,i=this.pageRender.docRender,r=i.doc.getPageCount(),a=(o=0===t)?-1:1,s=e,c.label=1;case 1:return[4,(A=i.getPDFPageRender(s)).tabManager.currentOrderedAnnotComponents];case 2:return 0!==c.sent().length?[3,3]:(s=(s+a+r)%r)===e?(A=i.getPDFPageRender(s),[3,3]):[3,1];case 3:return s===i.getCurrentPageIndex()?[3,5]:[4,n.goToPage(s)];case 4:c.sent(),c.label=5;case 5:return o?[4,A.tabManager.jumpFromNextPage()]:[3,7];case 6:return c.sent(),[3,9];case 7:return[4,A.tabManager.jumpFromPrevPage()];case 8:c.sent(),c.label=9;case 9:return[2]}})}).call(this)}},{key:"render",value:function(){this.pageRender.$ui.prepend(this.jumpPrevElement),this.pageRender.$element.append(this.jumpNextElement)}}]),t}(z.Disposable));const rh=new(function(){function e(){(0,C._)(this,e),this._oom=!1}return(0,D._)(e,[{key:"set",value:function(){this._oom=!0}},{key:"reset",value:function(){this._oom=!1}},{key:"isOutOfMemory",value:function(){return this._oom}},{key:"rescue",value:function(e){}}]),e}());var oh=function(){},ah=Math.min,sh=Math.max,Ah=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[r])).isRendered=!1,o.renderedDefered=(0,z.createDeferred)(),o.name=t.getDefaultName(),o.$ui=e,o.$element=e.parent(),o.index=n,o.renderCount=0,e.attr("data-index",n),o.pagesRender=r,o.docRender=r.docRender,o.viewerRender=o.docRender.viewerRender,o.intersectionState=new z.ValueStore,o.unObserveIntersectionObserver=o.docRender.intersectionObserver.observe(o.$element.get(0),function(e,t,n){o.isDestroyed||o.docRender.isDestroyed||(o.intersectionState.dispatch(n),o.docRender._updateVisiblePageRenders(o,t),e.classList.toggle("fv__pdf-invisible-page-item",!t))}),o.unObservePageLayoutIntersectionObserver=o.docRender.intersectionObserver.observe(o.$ui.get(0),function(e,t){o.pageAreaIsVisible=t});var a=e[0];o.$rendering=O()(a.querySelector(".fv__pdf-page-rendering")),o.$container=O()(a.querySelector(".fv__pdf-page-container")),o.$container[0].setAttribute("data-index",n),o.$annotsContainer=O()(a.querySelector(".fv__pdf-page-annots-container")),o.$customsContainer=O()(a.querySelector(".fv__pdf-page-customs-container"));var s=o.$handler=O()(a.querySelector(".fv__pdf-page-handler-container"));o.$invisible=O()(a.querySelector(".fv__pdf-invisible-page-container")),o.pageHandler=new Qr(s,o),o.doc=i,o.scale=1,o.rotate=r.rotate;var A,c=o.pdfViewer.customs||{};return o.pdfPageRendering=new(c.PDFPageRendering||Y)(o.$rendering[0],o),o.pageCustomRender=new(c.PageCustomRender||G)(a.querySelector(".fv__pdf-custom-page-container"),o),o.renderFlags=7,o.renderingDeferreds=[],o.followRenderDeferreds=[],o.watermarkConfig=null,o.excluedHighlights=[],o.annotsRenderDeferred=(0,z.createDeferred)(),o.pageActionExecutedState=(A={},(0,U._)(A,br.ActionTriggerEvents.ANNOT_PAGE_VISIBLE,!1),(0,U._)(A,br.ActionTriggerEvents.ANNOT_PAGE_INVISIBLE,!1),(0,U._)(A,br.ActionTriggerEvents.ANNOT_PAGE_OPENED,!1),(0,U._)(A,br.ActionTriggerEvents.ANNOT_PAGE_CLOSED,!1),A),o.$element.attr({tabindex:"-1","aria-busy":!0,role:"region","aria-label":o.pdfViewer.i18n.t("viewer_:aria.pdf.page",{number:o.index+1})}),o.$ui.addClass("fv__pdf-page-not-rendered"),z.Lazy.property(o,"tabManager",function(){var e=new ih(o);return o.addDestroyHook(e),e}),o.$annotsContainer.on("pointerdown",o.pointerdownFn=function(e){var t=e.target.classList;(t.contains("fv__pdf-annot-line-point-item")||t.contains("fv__shape-control-move-area")||t.contains("fv__shape-controller"))&&(o.pdfViewer.setEnableScale(!1),document.addEventListener("pointerup",o.pointerupFn=function(e){o.pdfViewer.setEnableScale(!0)},{once:!0}))}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"getHandlerDOM",value:function(){return this.$handler.get(0)}},{key:"clearCanvasCache",value:function(e){this.pageContentTiles&&this.pageContentTiles.invisibleRender(e),this.showWidth=this.showHeight=void 0,this.scale=this.zoomingScale=void 0}},{key:"updateRenderFlags",value:function(e){this.renderFlags=this.renderFlags|e}},{key:"updateRenderFlagsByScaleAndRotate",value:function(e,t){Math.abs(e-this.scale)>1e-6||t!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)}},{key:"checkRenderLayoutFlags",value:function(){return!(4&~this.renderFlags)}},{key:"resetRenderLayoutFlags",value:function(){this.renderFlags&=-5}},{key:"checkRenderContainerFlags",value:function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()}},{key:"checkRenderContentFlags",value:function(){return!(2&~this.renderFlags)}},{key:"resetRenderContentFlags",value:function(){this.renderFlags&=-3}},{key:"checkRenderAnnotFlags",value:function(){return!(1&~this.renderFlags)}},{key:"resetRenderAnnotFlags",value:function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()}},{key:"checkRenderCustomFlags",value:function(){return!(16&~this.renderFlags)}},{key:"resetRenderCustomFlags",value:function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()}},{key:"checkRebuildAnnotFlags",value:function(){return!(8&~this.renderFlags)}},{key:"resetRebuildAnnotFlags",value:function(){this.renderFlags&=-9}},{key:"checkRebuildCustomFlags",value:function(){return!(32&~this.renderFlags)}},{key:"resetRebuildCustomFlags",value:function(){this.renderFlags&=-33}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new e(this.pdfViewer)).pageHandler(this)}},{key:"updateIndex",value:function(e){this.index!==e&&(this.index=e,this.$ui.attr("data-index",e),this.$container.attr("data-index",e),this.$element.attr("aria-label",this.pdfViewer.i18n.t("aria.pdf.page",{number:this.index+1})))}},{key:"getPDFPage",value:function(){var e=this;return this.page?Promise.resolve(this.page):this.doc?this.doc.getPageByIndex(this.index).then(function(t){return e.page=t,t.isVirtual()&&e.handleVirtualPage(),t}):Promise.resolve(null)}},{key:"handleVirtualPage",value:function(){this.$ui.addClass("fv__virtual-pdf-page")}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getAnnotRender",value:function(e){try{return this.annotsRender&&this.annotsRender.getAnnotRender(e)}catch(e){return console.error(e),null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this;return this.annotsRender?Promise.resolve(this.annotsRender.getAnnotRenderSafely(e)):this.getPDFPage().then(function(e){return e.getAnnots()}).then(function(e){return new Lr(t.$annotsContainer,e,t)}).then(function(t){return t.getAnnotRenderSafely(e)})}},{key:"getAnnotsRenderSafely",value:function(){var e=this;return this.getPDFPage().then(function(e){return e.getAnnots()}).then(function(t){return Promise.resolve(new Lr(e.$annotsContainer,t,e))})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.endRender(),this.isDestroyed)return this.renderSerialPromise?this.renderSerialPromise.end():Promise.resolve();var i=this.renderSerialPromise;0===this.renderCount&&this.rendering(t),this.updateRenderFlagsByScaleAndRotate(t,n);this.scale;this.scale=t,this.rotate=n;var r=!this.renderCount;return this.renderCount++,this.pdfViewer.eventEmitter.emit(ae.beforeRenderPage,this,r),Promise.resolve(this.pageCustomRender.render(this.scale,n)).then(function(t){if(!1!==t)return(i=e.renderSerialPromise=new ce(0)).push(function(){var t;if(e.checkRenderLayoutFlags()){e.resetRenderLayoutFlags();var i=e.pageTileConfigPromise=e.getPageTileConfig(e.scale,n);e.pageTileConfig=null;var r=null;if(e.pageContentTiles)"continuous-view-mode"===e.pagesRender.viewMode.constructor.getName()||e.doc.isPageSameSize()||(r=e.computePageSize(e.scale,n).then(function(t){var i=(0,M._)(t,2),r=i[0],o=i[1];return e.pagesRender.viewMode.renderViewMode(e,e.scale,n,r,o)}));else"0px"==e.$ui.css("width")&&(r=e.renderLayout(e.scale,n));t=Promise.all([i,r]).then(function(t){var n=(0,M._)(t,1)[0];return e.pageTileConfigPromise=null,e.pageTileConfig=n,n})}else t=e.getPageTileConfig(e.scale,n);return t.then(function(t){var n=(0,M._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],A=n[5],c=n[6],u=n[7],l=e.pageContentTiles;if(!l){e.pageContentTiles=l=new $r(function(t,n,i,r,o,a){return e.getContentImageDataByTile(t,n,i,r,o,a)},null,e,e.pdfViewer.tileCache),e.pdfViewer.webPDFSRPromise||(l.getRectBitmap=function(t,n,i,r){return e.getRectBitmap((0,W.F2)(n),t,i,r)});var d=l.$container;d.addClass("fv__pdf-page-content-container"),e.$container.append(d)}l.setRenderViewWatermark(!1);var h=e.containerVisibleRect=e.getContainerVisibleRect();l.setVisibleRect(h),l.zoomingScale=e.zoomingScale,e.checkRenderContentFlags()&&(l.clearCache(),e.resetRenderContentFlags());var f,p,g,v=(f=[],p=e.getWatermarkConfig(),g=e.docRender.getWatermarkConfig(),Array.isArray(p)&&p.length>0?f=p:p&&p.content&&p.type?f=[p]:Array.isArray(g)&&g.length>0?f=g:g&&g.content&&g.type&&((0,z.isInCloseRange)(e.index,g.pageStart,g.pageEnd),f=[g]),f.filter(function(t){var n=t.pageStart,i=t.pageEnd,r="number"==typeof n&&n>0,o="number"==typeof i&&i>0;return r&&o?(0,z.isInCloseRange)(e.index,n,i):r?e.index>=n:!o||e.index<i})),m=[];return v.length>0?(v.forEach(function(t){if(t.content&&t.type){var n=e.watermark=new lo(o,a,s,A,t);m.push(n.getWatermarkRenderer(t))}}),Promise.all(m).then(function(t){return l.setRenderViewWatermark(t.length>0),l.setUpdateCanvasMore(function(n,i,r,o,a,s,A,c,u,l,d){t.forEach(function(e){var t=o<0?l*c:i,d=a<0?u*c:r,h=Math.min(c,s),f=Math.min(c,A),p=e.render(t,d,h,f);n.drawImage(p,i-o,r-a)}),e.renderLayoutGrid(n,i,r,o,a,s,A)}),l.redraw(i,r,o,a,s,A,c,u)})):(e.pdfViewer.getLayoutGrid()&&l.setUpdateCanvasMore(function(t,n,i,r,o,a,s,A){e.renderLayoutGrid(t,n,i,r,o,a,s)}),l.redraw(i,r,o,a,s,A,c,u))})}),i.push(function(){return e.checkRebuildAnnotFlags()?(e.resetRebuildAnnotFlags(),e.rebuildAnnots(e.scale,n,e.containerVisibleRect)):e.renderAnnots(e.scale,n,e.containerVisibleRect)}),i.push(function(){e.rendered(),e.renderSerialPromise=null,e.pdfViewer.eventEmitter.emit(ae.renderPageSuccess,e),e.tabManager.render()}),i.push(function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).pageHandler(e)}return Promise.resolve()}),i.exec();e.rendered()})}},{key:"setShowWidth",value:function(e){this.showWidth=Math.max(e,.01)}},{key:"getShowWidth",value:function(){return this.showWidth}},{key:"setShowHeight",value:function(e){this.showHeight=Math.max(e,.01)}},{key:"getShowHeight",value:function(){return this.showHeight}},{key:"computePageSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPDFPage().then(function(i){var r,o=function(t){var r=(0,W.ke)(i.getPxWidth(),i.getPxHeight(),t,n);return e.showWidth=null!=e.showWidth&&e.isRendered?e.showWidth:r[0],e.showHeight=null!=e.showHeight&&e.isRendered?e.showHeight:r[1],r};return"fitVisible"!==t?(r=e.pagesRender.getPageScaleSync(e.index,t,n),o(r)):e.pagesRender.getPageScale(e.index,t,n).then(function(e){return o(e)})})}},{key:"renderLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=function(i){return e.updateRenderFlagsByScaleAndRotate(i,n),e.scale=null==e.scale?i:e.scale,e.zoomingScale=null==e.zoomingScale?i:e.zoomingScale,e.rotate=n,e.computePageSize(e.scale,e.rotate).then(function(t){var n=(0,M._)(t,2),i=n[0],r=n[1];return e.pagesRender.viewMode.renderViewMode(e,e.scale,e.rotate,i,r)}).then(function(){var n=e.$ui;if(n.css({width:e.showWidth,height:e.showHeight}),e.annotsRender&&e.annotsRender.updateSize(e.scale,e.rotate),e.pageContentTiles){var i=n.find(".fv__pdf-page-content-container"),r=e.scale/e.pageContentTiles.scale;i.css("transform","scale("+r+")")}e.pdfViewer.eventEmitter.emit(ae.pageLayoutRedraw,e,t,e.rotate)})};if("fitVisible"!==t){var r=this.pagesRender.getPageScaleSync(this.index,t,n);return i(r)}return this.pagesRender.getPageScale(this.index,t,n).then(function(e){return i(e)})}},{key:"getPageTileConfig",value:function(e,t){var n=this;return this.getPDFPage().then(function(i){var r=n.getSmartScale(e),o=n.pdfViewer.config,a=o.tileSize;o.getTileSize&&(a=o.getTileSize(n.doc,n.page));var s=i.getPxWidth(),A=i.getPxHeight(),c=(0,M._)((0,W.ke)(s,A,r,t),2),u=c[0],l=c[1];return[Math.ceil(l/a),Math.ceil(u/a),u,l,a,r,e,t]})}},{key:"updateSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then(function(t){var n=(0,M._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],A=n[5],c=n[6],u=n[7],l=e.pageContentTiles;l&&l.updateDom(i,r,o,a,s,A,c,u)})}},{key:"renderContentImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then(function(t){var n=(0,M._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],A=n[5],c=n[6],u=n[7],l=e.pageContentTiles;return l?l.redraw(i,r,o,a,s,A,c,u):Promise.resolve()})}},{key:"adjustHighlightInContentImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if([].concat(this.excluedHighlights).sort().join()!==[].concat(e).sort().join())return this.excluedHighlights=e,this.redrawContent(!0)}},{key:"adjustHighlightAnnots",value:function(){return Promise.resolve()}},{key:"getRotatedRowAndCols",value:function(e,t,n,i,r){switch(r){case 0:return[e,t];case 90:return[t,i-e];case 180:return[n-e,i-t];case 270:return[t,e]}}},{key:"renderContentImageByTileCanvas",value:function(e,t,n,i,r,o,a,s){var A=this,c=this.pageContentTiles;if(!c){this.pageContentTiles=c=new $r(function(e,t,n,i,r,o,a,s,c,u){return A.getContentImageDataByTile(e,t,n,i,r,o)},null,!0);var u=c.$container;u.addClass("fv__pdf-page-content-container"),this.$container.append(u)}var l=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();l&&l.content&&l.type&&(this.watermark=new lo(n,i,r,o,l.watermarkSettings,l.watermarkTextProperties)).exportDataURL({content:l.content,type:l.type}).then(function(e){var t=new Image;t.src=e,c.setUpdateCanvasMore(function(e,n,i,r,o,a){e.drawImage(t,i*a,n*a,r,o,0,0,r,o)})});return c.redraw(e,t,n,i,r,o,a)}},{key:"getActiveAnnotInfo",value:function(e,t){var n=this.page.annots.map(function(e){return e.info}).filter(function(t){if(-1===["popup","unknown","watermark"].indexOf(t.type))return e[0]>=t.rect.left&&e[0]<=t.rect.right&&e[1]>=t.rect.bottom&&e[1]<=t.rect.top?t:void 0});if(t){for(var i=n[n.length-1],r=n.length-1;r>=0;r--)if("link"===n[r].type){i=n[r];break}return i}return n}},{key:"renderAnnots",value:function(e,t,n){var i=this;return Promise.resolve(i.annotsRender?i.annotsRender.render(e,t,n):Promise.resolve().then(function(e){return i.annotsRender||(i.annotsRender=new Lr(i.$annotsContainer,e,i),i.annotsRenderDeferred.resolve(i.annotsRender)),i.annotsRender}).then(function(i){return i.render(e,t,n)}))}},{key:"rebuildAnnots",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.containerVisibleRect;return function(){var r;r=n.page.getAnnots(1),n.docRender.setRebuildAnnotsFlag(!0);var o=n.annotsRender;return o&&o.removeUI(),r.then(function(e){return n.annotsRenderDeferred=(0,z.createDeferred)(),n.annotsRender=new Lr(n.$annotsContainer,e,n),o&&e.forEach(function(e){if(e.getType()===Zi.threeD||e.getType()===Zi.widget){var t=o.annotRenders[e.getObjectNumber()];t&&(t._parent=n.annotsRender,t.annotsRender=n.annotsRender,t.component.annotsRender=n.annotsRender,n.annotsRender.annotRenders[e.getObjectNumber()]=t,delete o.annotRenders[e.getObjectNumber()])}}),n.annotsRenderDeferred&&n.annotsRenderDeferred.resolve(),n.annotsRender}).then(function(r){return i||(i=n.containerVisibleRect=n.getContainerVisibleRect()),r.render(e,t,i)}).then(function(e){return o&&o.destroy(),e})}()}},{key:"renderCustoms",value:function(e,t){var n=this;return this.customsRender?this.customsRender.render(e,t):this.getPDFPage().then(function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)}).then(function(e){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new po(n.$customsContainer,e,n)}).then(function(n){return n.render(e,t)})}},{key:"rebuildCustoms",value:function(e,t){var n=this;return this.getPDFPage().then(function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)}).then(function(e){return n.customsRender=n.customsRender||new po(n.$customsContainer,e,n)}).then(function(n){return n.render(e,t)})}},{key:"renderAnnot",value:function(e,t,n){return new(this.pdfViewer.annotManager.get(e.getType()))(e,this).render(t,n)}},{key:"updatePageDOMRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.doc.getPageSize(this.index);if((n||(-1===e&&(e=this.pagesRender.getEstimatedPageScaleSync(this.index,this.scale,this.rotate)),(n=this.doc.getEstimatedPageSize(this.index))&&-1!==e))&&e!=this.scale&&n){switch((t%360+360)%360){case 90:case 270:var i=n.width;n.width=n.height,n.height=i}n.width*=(0,W.F2)(1)*e,n.height*=(0,W.F2)(1)*e;var r=n;this.$ui.height()!=n.width&&(r.minHeight=40);var o=this.$ui.get(0),a=o.classList,s="fv__pdf-page-not-rendered";a.contains(s)&&a.remove(s),this.showWidth=r.width,this.showHeight=r.height,(0,z.cssText)(o,{width:Math.ceil(r.width)+"px",height:Math.ceil(r.height)+"px","min-height":r.minHeight+"px"})}}},{key:"rendering",value:function(){arguments.length>0&&void 0!==arguments[0]||this.scale,arguments.length>1&&void 0!==arguments[1]||this.rotate;this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering()}},{key:"rendered",value:function(){var e=this;this.isDestroyed||(this.isRendered=!0,this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.pdfViewer.isWisWebPDFSR||this.openActionTrigged||!this.pdfViewer.enableOpenAction||this.getPDFPage().then(function(t){return e.openActionTrigged=!0,t.execOpenAction()}),this.renderedDefered.resolve())}},{key:"isRendering",value:function(){return this.$ui.hasClass("fv__rendering")}},{key:"waitRendered",value:function(){return this.isRendered?Promise.resolve():this.renderedDefered.promise}},{key:"destroy",value:function(){this.isDestroyed||(this.unObserveIntersectionObserver(),this.unObservePageLayoutIntersectionObserver(),this.pointerdownFn&&(this.$annotsContainer.off("pointerdown",this.pointerdownFn),this.pointerdownFn=null),this.pointerupFn&&(document.removeEventListener("pointerup",this.pointerupFn),this.pointerupFn=null),(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageContentTiles&&this.pageContentTiles.destroy(),this.stateHandler&&this.stateHandler.destroyPageHandler(),this.annotsRender&&this.annotsRender.destroy(),this.annotsRenderDeferred=null,this.pageHandler.destroy(),this.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),this.eLayoutContainerTransitionStyle&&document.body.removeChild(this.eLayoutContainerTransitionStyle),this.pdfPageRendering.destroy(),this.pageCustomRender&&this.pageCustomRender.destroy(),this.pageCustomRender=null,this.pdfPageRendering=null,this.pageHammer=null,this.pageHandler=null,this.$ui=null,this.eLayoutContainerTransitionStyle=null,this.doc=null,this.page=null,this.pageContentTiles=null,this.stateHandler=null)}},{key:"getSmartScale",value:function(e){return this.pdfViewer.getSmartScale(e)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotate}},{key:"getRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate,r=this.page,o=this.docRender.getUserPermission();o.checkAnnotForm()||o.checkFillForm();return r.getPageBitmap(e,i,t,["page"],"view",n)}},{key:"previewRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate;return this.getRectBitmap(e,t,n,i).then(function(r){var o=document.createElement("canvas"),a=o.getContext("2d"),s=r.buffer,A=r.width,c=r.height,u=r.x,l=r.y,d=new(Uint8ClampedArray||Uint8Array)(s),h=a.createImageData(A,c);h.data.set(d),o.width=A+u,o.height=c+l,a.putImageData(h,0,0);var f={scale:e,rect:t,id:n,rotate:i,url:o.toDataURL()};return console.log(f),f})}},{key:"getContentImageDataByTile",value:function(e,t,n,i,r,o){return this.getRectBitmap((0,W.F2)(o),{x:t*r,y:e*r,width:n,height:i})}},{key:"getTextContinueRectAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then(function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)}).then(function(e){return t.getTextContinuousRectsAtRect(e)})}},{key:"getTextContinueRectAtDevicePoints",value:function(e,t,n,i){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e),this.reverseDevicePoint(t)]).then(function(e){var t=(0,M._)(e,3),r=t[0],o=t[1],a=t[2];return r&&r.getTextContinuousRectsAtPoints(o,a,8,n,i)})}},{key:"getTextLinkAtPoint",value:function(e){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e)]).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];return n&&n.getTextLinkAtPoint(i)})}},{key:"getDoubleClickTextRectAtPoint",value:function(e){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e)]).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];return n.getDoubleClickTextRectAtPoint(i,8)})}},{key:"getTextContinuousCharAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then(function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)}).then(function(e){return t.getTextContinuousCharsAtRect(e)})}},{key:"getAllTextRect",value:function(){return this.getPDFPage().then(function(e){return e.getTextContinuousRectsAtRect(e.info.cropBox)})}},{key:"getAllTextChar",value:function(){return this.getPDFPage().then(function(e){return e.getTextContinuousCharsAtRect(e.info.cropBox,!0)})}},{key:"transformPoint",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:if(t=e.point,n=e.srcType,i=e.destType,o=(r=this).scale,a=r.rotate,!t)throw new Error("[transformPoint] options.point is not a valid point object: ".concat(JSON.stringify(t),"."));if(!(0,z.isValidNumber)(t.x))throw new TypeError("[transformPoint] options.point.x: ".concat(t.x," is not a valid number"));if(!(0,z.isValidNumber)(t.y))throw new TypeError("[transformPoint] options.point.y: ".concat(t.y," is not a valid number"));if(n===i)return[2,Object.assign({},t)];if(!n)throw new Error("[transformPoint] options.srcType is not type of ViewerConstants.PagePointType");if(!i)throw new Error("[transformPoint] options.destType is not type of ViewerConstants.PagePointType");return[4,this.transformPointIntoPDFPoint({point:t,type:n,scale:o,rotate:a})];case 1:return s=A.sent(),[2,this.transformPDFPointToDestType({point:s,type:i,scale:o,rotate:a})]}})}).call(this)}},{key:"transformPDFPointToDestTypeSync",value:function(e,t){var n=t.point,i=t.type,r=t.scale,o=t.rotate;switch(isFinite(r)||(r=this.scale),isFinite(o)||(o=this.rotate),i){case Xd.scroll:var a=this.getPagePositionOffsetViewerContainer(),s=(0,M._)(e.getDevicePoint([n.x,n.y],r,o),2),A=s[0],c=s[1];return{x:a.x+A,y:a.y+c};case Xd.page:var u=(0,M._)(e.getDevicePoint([n.x,n.y],r,o),2);return{x:u[0],y:u[1]};case Xd.viewport:var l=(0,M._)(e.getDevicePoint([n.x,n.y],r,o),2),d=l[0],h=l[1],f=this.$ui[0].getBoundingClientRect();return{x:f.left+d,y:f.top+h};case"PDFViewerPort":var p=(0,M._)(e.getDevicePoint([n.x,n.y],r,o),2),g=p[0],v=p[1],m=this.viewerRender.scrollWrap.getScrollHost();((0,z.isWindowObject)(m)||(0,z.isDocument)(m))&&(m=document.body);var y=this.$ui[0].getBoundingClientRect(),_=m.getBoundingClientRect();return{x:g+y.left-_.left,y:v+y.top-_.top};case Xd.pdf:return n;default:throw new Error("[transformPDFPointToDestType] options.type is not type of ViewerConstants.PagePointType")}}},{key:"transformPDFPointToDestType",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.getPDFPage()];case 1:return t=n.sent(),[2,this.transformPDFPointToDestTypeSync(t,e)]}})}).call(this)}},{key:"transformPointIntoPDFPointSync",value:function(e,t){var n=t.point,i=t.type,r=t.scale,o=t.rotate;switch(isFinite(r)||(r=this.scale),isFinite(o)||(o=this.rotate),i){case Xd.scroll:var a=this.getPagePositionOffsetViewerContainer(),s=[n.x-a.x,n.y-a.y],A=(0,M._)(e.reverseDevicePoint(s,r,o),2);return{x:A[0],y:A[1]};case Xd.viewport:var c=this.$ui[0].getBoundingClientRect(),u=c.left,l=c.top;n={x:n.x-u,y:n.y-l};case Xd.page:var d=(0,M._)(e.reverseDevicePoint([n.x,n.y],r,o),2);return{x:d[0],y:d[1]};case Xd.pdf:return n;default:throw new Error("[transformPointIntoPDFPoint] options.type is not type of ViewerConstants.PagePointType")}}},{key:"transformPointIntoPDFPoint",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.getPDFPage()];case 1:return t=n.sent(),[2,this.transformPointIntoPDFPointSync(t,e)]}})}).call(this)}},{key:"getPagePositionOffsetViewerContainer",value:function(){var e=this.pdfViewer.getPDFViewerRender().$ui[0],t=e.parentElement,n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=this.$ui[0].getBoundingClientRect(),o=i.top-n.top,a=i.left-n.left;return{x:r.left+t.scrollLeft-i.left+a,y:r.top+t.scrollTop-i.top+o}}},{key:"reverseDeviceRect",value:function(e){var t=this;return this.getPDFPage().then(function(n){return n.reverseDeviceRect(e,t.scale,t.rotate)})}},{key:"reverseDevicePoint",value:function(e){var t=(0,M._)(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.getPDFPage().then(function(e){return null==e?void 0:e.reverseDevicePoint([n,i],r,o)})}},{key:"getDeviceRect",value:function(e){var t=this;return this.getPDFPage().then(function(n){return n.getDeviceRect(e,t.scale,t.rotate)})}},{key:"transformRectArray",value:function(e,t){for(var n=[],i=this.scale,r=t.length;r--;){var o=t[r];n[r]=e.getDeviceRect(o,i,this.rotate)}return n}},{key:"getClientPoint",value:function(e,t){var n=this.$ui[0].getBoundingClientRect();return[e+n.left,t+n.top]}},{key:"redraw",value:function(e){return e&&(this.updateRenderFlags(7),this.annotsRender&&this.annotsRender.adjustHighlightsRender()),this.render()}},{key:"redrawContent",value:function(e){var t,n=this;return(e?((t=n.pageContentTiles)&&t.clearCache(),Promise.resolve()):Promise.resolve()).then(function(){return n.renderContentImage(n.scale,n.rotate)}).then(function(){return n.adjustHighlightAnnots()})}},{key:"getDevicePointFromEvent",value:function(e){var t=this.$ui.offset();return[e.pageX-t.left,e.pageY-t.top]}},{key:"removeAnnotRenders",value:function(e){return this.annotsRender&&this.annotsRender.removeAnnotRenders(e)}},{key:"redrawAnnotRenders",value:function(e){if("canvas"===this.pdfViewer.config.annotRenderingMode.highlight)return this.annotsRender.redrawAnnotRenders(e);for(var t=[],n=[],i=0,r=e.length;i<r;i++){var o=e[i];"highlight"===o.getType()?t.push(o):n.push(o)}return t.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)}},{key:"movedAnnotRenders",value:function(e,t){return this.annotsRender.movedAnnotRenders(e,t)}},{key:"addAnnotRenders",value:function(e){var t=this;if(!this.annotsRender)return this.annotsRenderDeferred.promise.then(function(){return t.addAnnotRenders(e)});return this.annotsRender.addAnnotRenders(e)}},{key:"getPageAreaRenderer",value:function(e,t){return new eo(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}},{key:"getSnapshot",value:function(e,t,n,i){var r=z.dpr,o=window.localStorage.getItem("PREFERENCES-GENNERAL");if(o){var a=JSON.parse(o),s=a.resolution;a.fixedResolution&&(r=s/96)}var A=this.getPageAreaRenderer(n*r,i*r,r,!0);return A.setPosition(e+n/2,t+i/2),A.update().then(function(e){var t=(0,z.createDeferred)();return e.toBlob(function(e){return t.resolve(e)},"image/png"),t.promise})}},{key:"unActiveAnnotRender",value:function(){try{if(!this.annotsRender)return;this.annotsRender.unActiveAnnot()}catch(e){}}},{key:"activeGraphicsObject",value:function(e){}},{key:"addCustomRenders",value:function(e){this.customsRender.addCustomRenders(e)}},{key:"removeCustomRenders",value:function(e){this.customsRender.removeCustomRenders(e)}},{key:"updateCustomRenders",value:function(e){this.customsRender.updateCustomRenders(e)}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.page&&this.page.isVirtual()?{content:"VIRTUAL PAGE",type:"text",watermarkSettings:void 0,watermarkTextProperties:{font:"Microsoft Yahei",fontSize:40,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}}:this.watermarkConfig}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(oh);var t=this.annotsRender;t&&t.endRender()}},{key:"invisibleRender",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return this.endRender(),t=this.pageContentTiles,n=this.annotsRender,e?(t&&(t.destroy(),delete this.pageContentTiles),(i=this.stateHandler)&&(i.destroyPageHandler(),delete this.stateHandler),this.page?(this.page.clearRenderCache(),[4,this.page.clearCacheObjects()]):[3,2]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,4];case 3:t&&t.invisibleRender(),n&&n.invisibleRender(),r.label=4;case 4:return[2]}})}).call(this)}},{key:"move",value:function(){}},{key:"renderingFollowPromise",value:function(){}},{key:"triggerAction",value:function(e){this.page&&!this.page.isDestroyed&&this.annotsRender&&(this.pageActionExecutedState[e]||(this.pageActionExecutedState[e]=!0,this.page.triggerAdditionalActions(e)))}},{key:"getContainerVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=(n.right-n.left)/2|0,r=(n.bottom-n.top)/2|0;rh.isOutOfMemory()&&(i=0,r=0);var o=Math.max(t.left,n.left)-t.left-i,a=Math.min(t.right,n.right)-t.left+i,s=Math.max(t.top,n.top)-t.top-r,A=Math.min(t.bottom,n.bottom)-t.top+r;return o<0&&(o=0),s<0&&(s=0),a>this.getShowWidth()&&(a=this.getShowWidth()),A>this.getShowHeight()&&(A=this.getShowHeight()),{left:o,right:Math.max(o,a),top:s,bottom:Math.max(s,A)}}},{key:"getCurrentVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=n.right-n.left,r=n.bottom-n.top,o=sh(0,n.left-t.left),a=sh(0,n.top-t.top),s=ah(sh(0,t.width-o),i),A=ah(sh(0,t.height-a-sh(0,t.bottom-n.bottom)),r);return{left:o,top:a,width:s,height:A,right:o+s,bottom:a+A}}},{key:"getContainerFullRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect();return{left:n.left-t.left,right:n.right-t.right,top:n.top-t.top,bottom:n.bottom-t.bottom}}},{key:"getPDFRectFromClientRect",value:function(e){var t=this.$ui[0].getBoundingClientRect(),n=e.left-t.left,i=e.top-t.top,r={left:n,top:i,right:n+e.width,bottom:i+e.height};return this.page.reverseDeviceRect(r,this.scale,this.rotate)}},{key:"getPDFPointFromClientPoint",value:function(e,t,n){var i=this.$ui[0].getBoundingClientRect();return n?[e-i.left,t-i.top]:this.page.reverseDevicePoint([e-i.left,t-i.top],this.scale,this.rotate)}},{key:"formatGridOptions",value:function(e){if(e){var t=Wi(e.unit);if(t){var n=this.getScale(),i=t.convertTo(e.width*n,Hi),r=t.convertTo(e.height*n,Ui),o=t.convertTo(e.offsetLeft*n,Hi),a=t.convertTo(e.offsetTop*n,Ui),s=e.subdivisions;return{lineWidth:i,lineHeight:r,offsetLeft:o,offsetTop:a,subLineWidth:i/s,subLineHeight:r/s,maxWidth:this.getShowWidth(),maxHeight:this.getShowHeight()}}}}},{key:"renderLayoutGrid",value:function(e,t,n,i,r,o,a){var s=this.pdfViewer.getLayoutGrid();if(s&&Wi(s.unit)){var A=e.canvas.width,c=e.canvas.height;e.getImageData(0,0,1,1);var u=s.color,l=u.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/)||[u,127,127,255],d=+l[1],h=+l[2],f=+l[3],p=.67,g="rgba("+(d+(255-d)*p)+","+(h+(255-h)*p)+","+(f+(255-f)*p)+","+(+l[4]||1)+")",v=this.formatGridOptions(s),m=v.lineWidth,y=v.lineHeight,_=v.offsetLeft,b=v.offsetTop,w=v.subLineWidth,k=v.subLineHeight,x=Math.abs((i-_)%m-m)%m,P=Math.abs((r-b)%y-y)%y,C=Math.abs((i-_)%w-w)%w,D=Math.abs((r-b)%k-k)%k,E=A,S=c;for(i=Math.max(0,i),r=Math.max(0,r),e.beginPath(),e.strokeStyle=g,e.lineWidth=1;C<E;)e.moveTo(C,0),e.lineTo(C,S),C+=w;for(;D<S;)e.moveTo(0,D),e.lineTo(E,D),D+=k;for(e.stroke(),e.beginPath(),e.strokeStyle=u;x<E;)e.moveTo(x,0),e.lineTo(x,S),x+=m;for(;P<S;)e.moveTo(0,P),e.lineTo(E,P),P+=y;e.stroke()}}},{key:"getTextRectsAtRect",value:function(e){var t,n=this;return this.getPDFPage().then(function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)}).then(function(e){return t.getTextRectsAtRect(e)})}},{key:"renderArticles",value:function(e){var t=this;this.doc&&this.doc.hasArticle()&&(e&&e.length>0?Promise.resolve(e):this.doc.getPdfArticle().getArticleList()).then(function(e){e.forEach(function(e){(e.children||[]).forEach(function(n){t.renderArticle(e,n)})})})}},{key:"renderArticle",value:function(e,t){var n=this,i=this.articleBeads.hasOwnProperty(t.objNum);t.pageIndex===this.index&&(i?this.articleBeads[t.objNum].updateRender(e,t):this.getPDFPage().then(function(){n.articleBeads[t.objNum]=new vo(n,e,t)}))}},{key:"getSignaturePDFRect",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRotation(),o=this.getScale(),a={},s=this.$handler.find("#".concat(e));if(!s.length)return Promise.resolve();var A=s.find("canvas")[0].width+2,c=s.find("canvas")[0].height+2;90===r||270===r?(n=A,t=c):(t=A,n=c),a.top=parseFloat(s.css("top")),a.left=parseFloat(s.css("left")),a.right=a.left+t,a.bottom=a.top+n;var u="".concat(a.top,"_").concat(a.left,"_").concat(a.right,"_").concat(a.bottom),l=JSON.parse(localStorage.getItem("device_rect_map")||"{}"),d=(0,w._)({},l,i);return Object.keys(d).length&&u in d?Promise.resolve(d[u]):this.getPDFPage().then(function(e){var t=e.reverseDeviceRect(a,o,r);i[u]=t;var n=(0,w._)({},l,i);return localStorage.setItem("device_rect_map",JSON.stringify(n)),t},function(){return Promise.resolve()})}}],[{key:"getDefaultName",value:function(){return"pdfPageRender"}}]),t}(X);const ch=Ah;function uh(e){return JSON.parse(JSON.stringify(e)).reduce(function(e,t){if(2===t.length){for(var n=[],i=t[0];i<t[1];i++)n.push(i);t=n}return e.concat(t)},[])}var lh=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"viewMode",void 0),(0,U._)(this,"executor",void 0),this.viewMode=t,z.Lazy.property(this,"executor",function(){return new z.ThrottleAsyncTaskExecutor(80)})}return(0,D._)(e,[{key:"getPageCount",value:function(){var e=this.getPDFDocRender();if(!e)return 0;var t=e.getPDFDoc();return t?t.getPageCount():0}},{key:"getPDFDocRender",value:function(){return this.viewMode.docRender}},{key:"onKeyReleased",value:function(e){return!1}}]),e}(),dh=function(){function e(t){(0,C._)(this,e),this.docRender=t,t.$ui.addClass("fv__view-mode"),this.pageDOMs=[],this.shortcutEventHandler=this.generateShortcutEventHandler()}return(0,D._)(e,[{key:"getItems",value:function(){return this.pageDOMs}},{key:"into",value:function(e,t){this.pageDOMs=t;var n=document.createDocumentFragment();"function"==typeof n.append?n.append.apply(n,t):t.forEach(function(e){n.appendChild(e)}),e.innerHTML="",e.appendChild(n)}},{key:"updatePageDOMs",value:function(e){this.pageDOMs=e}},{key:"renderViewMode",value:function(e,t,n,i,r){}},{key:"afterRenderVisiblePages",value:function(){}},{key:"jumpToPage",value:function(e,t){t.x,t.y}},{key:"getFitHeight",value:function(e){}},{key:"getFitWidth",value:function(e){}},{key:"getVisibleIndexes",value:function(){return this.docRender.getVisiblePageIndexes()}},{key:"getCurrentPageIndex",value:function(){return 0}},{key:"getPrevPageIndex",value:function(){return Math.max(0,this.getCurrentPageIndex()-1)}},{key:"getNextPageIndex",value:function(){var e=this.docRender.getPDFDoc().getPageCount();return Math.min(e-1,this.getCurrentPageIndex()+1)}},{key:"out",value:function(){this.docRender=null,this.pageDOMs=[]}},{key:"generateShortcutEventHandler",value:function(){}},{key:"getShortcutEventHandler",value:function(){return this.shortcutEventHandler}}],[{key:"getName",value:function(){}}]),e}();const hh=dh;n(8023);var fh=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"onKeyPressed",value:function(e){var t=this,n=this.viewMode,i=n.fixedVerticalPosition;switch(e.command){case Vd.JUMP_TO_FIRST_PAGE:return this.executor.exec(function(){return t.jumpToFirstPage()}),!0;case Vd.JUMP_TO_LAST_PAGE:return this.executor.exec(function(){return t.jumpToLastPage()}),!0;case Vd.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec(function(){return n.jumpToPrevPage()}),!0;case Vd.JUMP_TO_NEXT_PAGE:return this.executor.exec(function(){return n.jumpToNextPage()}),!0}if(i)switch(e.command){case Vd.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case Vd.ARROW_UP:return this.executor.exec(function(){return n.jumpToPrevPage()}),!0;case Vd.SCROLL_TO_NEXT_VISIBLE_AREA:case Vd.ARROW_DOWN:return this.executor.exec(function(){return n.jumpToNextPage()}),!0}else{var r=n.computePageMetadata(n.currentPageIndex);if(!r)return!1;var o=n.scrollWrap,a=r.pageHeight,s=r.visibleBoxHeight,A=r.visibleBoxWidth,c=r.scrollTop,u=n.scrollWrap.getScrollTop(),l=80;switch(e.command){case Vd.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case Vd.SCROLL_VIEWER_SCROLLBAR_UP:l=s;case Vd.ARROW_UP:return this.executor.exec(function(){if(u>c){var e=u-c;return e=Math.min(l,e),o.scrollBy(0,-e,"smooth"),Promise.resolve()}return n.jumpToPrevPage()}),!0;case Vd.SCROLL_TO_NEXT_VISIBLE_AREA:case Vd.SCROLL_VIEWER_SCROLLBAR_DOWN:l=s;case Vd.ARROW_DOWN:return this.executor.exec(function(){if(u>=c+(a-s))return n.jumpToNextPage();if(u>=c){var e=a-(u-c)-s;e=Math.min(e,l),o.scrollBy(0,e,"smooth")}return Promise.resolve()}),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_LEFT:return o.scrollBy(-A,0,"smooth"),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_RIGHT:return o.scrollBy(A,0,"smooth"),!0}}return!1}},{key:"jumpToFirstPage",value:function(){return this.viewMode.jumpToPage(0,{x:0,y:0})}},{key:"jumpToLastPage",value:function(){var e=this.getPageCount();return this.viewMode.jumpToPage(e-1,{x:0,y:0})}}]),t}(lh),ph="up",gh="down",vh="left-top",mh="left-bottom",yh=function(e){function t(e){var n;(0,C._)(this,t),(n=(0,P._)(this,t,[e])).currentPageIndex=0,n.scrollWrap=n.docRender.viewerRender.scrollWrap,n.lastScale=null,n.isZoomin=!1,n.fixedVerticalPosition=!1,n.currentPageOffset=0,n.rerenderViewExecutor=new z.DebounceAsyncTaskExecutor(100),n.rerenderPageExecutor=new z.DebounceAsyncTaskExecutor(10),n.scrollEventExecutor=new z.DebounceAsyncTaskExecutor(100),n.dragScrollbarEventExecutor=new z.ThrottleAsyncTaskExecutor(50,!0),n.queuedDragScrollbarEventExecutor=new z.QueuedAsyncTaskExecutor,n.mouseWheelExecutor=new z.ThrottleAsyncTaskExecutor(200),n.jumpPageExecutor=new z.DebounceAsyncTaskExecutor,n.unbindScrollEvent=er,n.unbindMouseEvent=er,n.unbindWheelEvent=er,n.allowHandleScrollOnWheel=!1,n.isMouseDownOnScrollbar=!1,n.handledWheel=!1,n.instanceId=jr(),n.diffJumpPage=n.diffJumpPage.bind(n),n.forceUpdatePageContainer=n.forceUpdatePageContainer.bind(n),n.currentScrollDirection;var i=n.scrollWrap.getScrollHost();i===window&&(i=document.documentElement);var r=function(e){var t=e.clientX,r=n.getCurrentVisibleBoxRect(),o=getComputedStyle(i),a=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.borderRightWidth)||0),s=i.offsetWidth,A=s-i.clientWidth-a;n.isMouseDownOnScrollbar=t>=s-A+r.left},o=function(e){n.isMouseDownOnScrollbar=!1};return i.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("mouseup",o,{capture:!0}),n.unbindMouseEvent=function(){i.removeEventListener("mousedown",r,{capture:!0}),window.removeEventListener("mouseup",o,{capture:!0})},n}return(0,I._)(t,e),(0,D._)(t,[{key:"diffJumpPage",value:function(){var e=(new Date).getTime(),t=e;return isNaN(this.countNum)?(this.countNum=0,this.lastCountDateTime=e):(this.countNum++,t=e-this.lastCountDateTime,this.lastCountDateTime=e),t}},{key:"getPDFPageRender",value:function(e){return this.docRender.pagesRender.pageRenders[e]}},{key:"into",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentPageIndex;this.docContainer=e,this.pageDOMs=t,e.classList.add("fv__viewer-single-view-mode");var i=this.pageDOMs[n],r=e.childNodes;if(r.length>1){if(z.isIE)for(var o=r.length-1;o>=0;o--)e.removeChild(r[o]);else e.innerHTML="";e.appendChild(i)}else 1===r.length?e.contains(i)||e.replaceChild(i,r[0]):e.contains(i)||e.appendChild(i);this.renderPageContainer(),this.scrolledToPage(n),this.bindScrollEvent(),this.bindWheelEvent(),this.docRender.pdfViewer.eventEmitter.on(ae.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(ae.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(ae.pagesInserted,this.forceUpdatePageContainer)}},{key:"out",value:function(){this.pageDOMs.forEach(function(e){e.style.top&&(e.style.top="")}),this.docRender.pdfViewer.eventEmitter.off(ae.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(ae.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(ae.pagesInserted,this.forceUpdatePageContainer),this.unbindScrollEvent(),this.unbindWheelEvent(),this.unbindMouseEvent(),this.rerenderViewExecutor.cancel(),this.rerenderPageExecutor.cancel(),this.jumpPageExecutor.cancel(),this.scrollEventExecutor.cancel(),this.mouseWheelExecutor.cancel(),this.dragScrollbarEventExecutor.cancel(),this.queuedDragScrollbarEventExecutor.cancel(),this.resetCurrentPageDom(),this.enableScroll(),this.isMouseDownOnScrollbar=!1,this.docContainer&&(this.docContainer.classList.remove("fv__viewer-single-view-mode"),this.docContainer.style.height="")}},{key:"rebindScrollEvent",value:function(){this.bindScrollEvent()}},{key:"forceUpdatePageContainer",value:function(){this.renderPageContainer(!0)}},{key:"updateScrollPosition",value:function(){var e=this,t=this.currentPageIndex,n=this.pageDOMs[t],i=function(t){var i=e.scrollWrap.getScrollTop();n.style.cssText+="top: ".concat(t.pageOffset+i,"px")};if(!this.isPageRendered(t))return this.computePageMetadataAsync(t).then(i);i(this.computePageMetadata(t))}},{key:"keepPagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.fixedVerticalPosition||e)return this.updateScrollPosition()}},{key:"isValidCurrentPageIndex",value:function(){var e=this.docRender;if(!e)return!1;var t=e.pagesRender;if(!t)return!1;var n=t.pageRenders;if(!n)return!1;var i=this.currentPageIndex;return i>=0&&i<n.length}},{key:"bindScrollEvent",value:function(){var e=this;this.unbindScrollEvent();var t=this.scrollWrap.getScrollTop();this.unbindScrollEvent=this.scrollWrap.addScrollEventListener(function(n){if((e.allowHandleScrollOnWheel||(e.allowHandleScrollOnWheel=!0,e.isMouseDownOnScrollbar||!z.isChrome&&!z.isChromiumEdge))&&e.isValidCurrentPageIndex()){var i=e.keepPagePosition(),r=function(){var n=e.scrollWrap.getScrollTop(),i=t;if(n>i?e.currentScrollDirection=gh:n<i&&(e.currentScrollDirection=ph),e.isMouseDownOnScrollbar)e.queuedDragScrollbarEventExecutor.exec(function(){return t=n,e.handleDragScrollbar(e.scrollWrap.getScrollTop(),e.currentScrollDirection)});else{var r=!1;switch(e.currentScrollDirection){case gh:r=e.isBottomOutOfBoundsOnWheel();break;case ph:r=e.isTopOutOfBoundsOnWheel()}if(!r)return t=n,e.handleWheel(e.scrollWrap.getScrollTop(),e.currentScrollDirection);var o=e.handleWheel(n,e.currentScrollDirection);e.scrollEventExecutor.exec(function(){return o})}};(0,T._)(i,Promise)?i.then(r):r()}})}},{key:"bindWheelEvent",value:function(){var e=this;this.unbindWheelEvent();var t=function(t){if(!z.keyboardStatus.isCtrlDown){e.allowHandleScrollOnWheel=!1;var n,i=t.deltaY;if(i<0)n=ph;else{if(!(i>0))return;n=gh}e.currentScrollDirection=n,e.fixedVerticalPosition?(t.preventDefault(),e.keepPagePosition(),e.mouseWheelExecutor.exec(function(){switch(n){case gh:return e.jumpToNextPage();case ph:return e.jumpToPrevPage()}return Pe})):z.keyboardStatus.isShiftDown||!z.isChrome&&!z.isChromiumEdge||(e.allowHandleScrollOnWheel=!0)}},n=this.scrollWrap.getScrollHost();n.addEventListener("wheel",t,{passive:!1}),this.unbindWheelEvent=function(){n.removeEventListener("wheel",t,{passive:!1})}}},{key:"handleDragScrollbar",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===ph)return this.handleDragUp(e);if(t===gh)return this.handleDragDown(e)}return Pe}},{key:"handleWheel",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===ph)return this.handleWheelUp(e);if(t===gh)return this.handleWheelDown(e)}return Pe}},{key:"handleWheelUp",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().top>=n.top)return this.jumpToPrevPage()}},{key:"handleWheelDown",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().bottom<n.bottom)return this.jumpToNextPage()}},{key:"isBottomOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().bottom<n.bottom}},{key:"isTopOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().top>n.top}},{key:"handleDragUp",value:function(e){var t=this.computePageMetadata(this.currentPageIndex);if(t){var n=t.pageTop,i=t.visibleBoxHeight,r=this.pageDOMs[this.currentPageIndex],o=n-i;if(e>o&&e<n)r.style.cssText+="top: ".concat(e,"px");else if(e<o){var a=this.computePageIndex(e);return this.jumpToPage(a,ph)}return Pe}}},{key:"handleDragDown",value:function(e){var t=this.computePageIndex(e);if(t!==this.currentPageIndex)return this.jumpToPage(t,gh);var n=this.currentPageIndex,i=this.scrollWrap.getScrollTop(),r=this.computePageMetadata(n);if(r){var o=r.scrollTop,a=r.pageHeight,s=r.visibleBoxHeight;if(i>o+a-s&&this.pageDOMs.length>1){var A=i+s-a;this.pageDOMs[n].style.cssText+="top: ".concat(A,"px")}return Pe}}},{key:"doJumpOnScroll",value:function(e){var t=this,n=function(n){var i=n.pageHeight-n.visibleBoxHeight;return t.jumpToPage(e,{y:i},!1).then(function(){t.docRender.getPDFPageRender(n.pageIndex).renderLayout()})};return this.isPageRendered(e)?n(this.computePageMetadata(e)):this.computePageMetadataAsync(e).then(n)}},{key:"jumpToPage",value:function(e,t){var n=this,i=this.docRender.getPDFDoc().getPageCount();if(e<0||e>=i)throw new Error("Illegal page index value: "+e);var r=function(){return n.unbindScrollEvent(),n.computePageMetadataAsync(e).then(function(i){n.currentPageIndex=e;var r=n.waitForScrollEnd();try{n.rerenderPage(i),n.scrollToPage(i,t),n.docRender.setCurrentPageIndex(e)}finally{return r.finally(function(){n.currentPageIndex=e,n.rebindScrollEvent()})}})};return e===this.currentPageIndex?r():this.jumpPageExecutor.exec(r)}},{key:"waitForScrollEnd",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=(0,z.createDeferred)(),r=this.scrollWrap.addScrollEventListener(function(n){n.isMock||(clearTimeout(e),e=setTimeout(function(){r(),i.resolve(),clearTimeout(e)},t))});return n&&(e=setTimeout(function(){r(),i.resolve(),clearTimeout(e)},t)),i.promise}},{key:"jumpPageByWheelOnFixedPosition",value:function(e){var t=this;if(this.fixedVerticalPosition)return this.mouseWheelExecutor.exec(function(){var n,i;switch(e){case gh:n=t.getNextPageIndex(),i=vh;break;case ph:n=t.getPreviousPageIndex(),i=mh;break;default:return}if(n!==t.currentPageIndex)return t.unbindScrollEvent(),t.computePageMetadataAsync(index).then(function(e){t.currentPageIndex=index;var n=t.waitForScrollEnd(0,!1);try{t.rerenderPage(e),t.scrollToPage(e,i),t.docRender.setCurrentPageIndex(index)}finally{return n.finally(function(){t.currentPageIndex=index,t.rebindScrollEvent()})}})})}},{key:"jumpToNextPage",value:function(){var e=this.getNextPageIndex();return e===this.currentPageIndex?Pe:this.jumpToPage(e)}},{key:"jumpToPrevPage",value:function(){var e=this.getPrevPageIndex();return e===this.currentPageIndex?Pe:this.jumpToPage(e,mh,!1)}},{key:"formatPosition",value:function(e,t){var n=Math.max(0,e.pageHeight-e.visibleBoxHeight),i=Math.max(0,e.pageWidth-e.visibleBoxWidth);switch(t){case mh:return{y:n};case vh:return{};case"right-top":return{x:i};case"right-bottom":return{x:i,y:n}}return t}},{key:"scrolledToPage",value:function(e,t){var n=this;this.currentPageIndex=e;var i=function(i){i&&(n.rerenderPage(i),n.renderPagePosition(i,t),n.docRender.setCurrentPageIndex(e))};return this.isPageRendered(e)?(i(this.computePageMetadata(e)),Pe):this.computePageMetadataAsync(e).then(i)}},{key:"resetCurrentPageDom",value:function(){this.currentPageOffset=0;var e=this.pageDOMs[this.currentPageIndex];e&&(e.style.top="")}},{key:"rerenderPage",value:function(e){var t=this;if(e){var n=e.pageIndex,i=e.pageWidth,r=e.pageHeight,o=e.pageTop,a=e.visibleBoxHeight,s=e.visibleBoxWidth,A=e.refresh,c=this.pageDOMs[n],u=this.docContainer;if(n!==this.currentPageIndex||A||!c.parentElement){var l=u.childNodes;if(l.length>1){if(z.isIE)for(var d=l.length-1;d>=0;d--)u.removeChild(l[d]);else u.innerHTML="";u.appendChild(c)}else 1===l.length?u.contains(c)||u.replaceChild(c,l[0]):u.contains(c)||u.appendChild(c);this.resetCurrentPageDom(),this.currentPageIndex=n}var h=i<=s,f=r<=a;this.fixedVerticalPosition=r<=a,c.style.cssText+="top: ".concat(o,"px;"),c.children[0].style.cssText+="width:".concat(i,"px;height:").concat(r,"px");var p=this.docRender,g=this.docRender.getPDFPageRender(n).pagesRender,v=p.rotation;return g.getPageScale(n,p.scale,v).then(function(e){t.docRender.pdfViewer.eventEmitter.emit(ae.updateScrollableStatus,{disableHorizontal:h,disableVertical:f})})}}},{key:"renderPagePosition",value:function(e,t){if(e){var n=e.pageHeight,i=e.pageTop,r=e.scrollTop,o=e.visibleBoxHeight,a=this.pageDOMs[e.pageIndex];if(this.fixedVerticalPosition)this.keepPagePosition();else{a.style.cssText+="top: ".concat(i,"px;");var s=this.scrollWrap.getScrollTop();if(t===gh){if(s>r+n-o){var A=s+o-n;a.style.cssText+="top: ".concat(A,"px")}}else if(t===ph){s>i-o&&s<i&&(a.style.cssText+="top: ".concat(s,"px"))}else{var c=a.offsetTop;c>s?a.style.cssText+="top: ".concat(s,"px"):c+n<s+o&&(a.style.cssText+="top: ".concat(s+o-n,"px"))}}}}},{key:"scrollToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.visibleBoxHeight,r=e.visibleBoxWidth,o=e.pageHeight,a=e.pageWidth,s=e.scrollTop,A=e.pageTop,c=this.formatPosition(e,t),u=c.x,l=void 0===u?this.scrollWrap.getScrollLeft():u,d=c.y,h=void 0===d?0:d;o<=i&&(h=0),a<r&&(l=0);var f,p,g=l;p=o>=i?A+(o-i):s,f=Math.min(s+Math.max(0,h),p),this.scrollWrap.scrollTo(g,f,n?"smooth":"auto")}},{key:"computePageMetadataAsync",value:function(e){var t=this,n=this.docRender,i=n.pagesRender.pageRenders[e],r=n.scale,o=n.rotation;return this.isPageRendered(e)?i.computePageSize(r,o).then(function(n){return t.computePageMetadata(e)}):i?i.computePageSize(r,o).then(function(){var n=t.computePageMetadata(e);return t.docContainer.style.cssText+="height: ".concat(n.containerHeight,"px"),n}):Promise.resolve()}},{key:"isPageRendered",value:function(e){var t=this.docRender.pagesRender.pageRenders[e];if(!t)return!1;var n=t.getShowHeight();return"number"==typeof n&&!isNaN(n)&&isFinite(n)}},{key:"computePageMetadata",value:function(e){var t,n,i=null===(n=this.docRender)||void 0===n||null===(t=n.pagesRender)||void 0===t?void 0:t.pageRenders[e];if(i){var r=this.scrollWrap.getHeight(),o=this.scrollWrap.getWidth(),a=i.getShowHeight(),s=i.getShowWidth(),A=this.computeScrollTop(e),c=this.computeContainerHeight(e,A),u=.5*Math.max(0,r-a);return{visibleBoxHeight:r,visibleBoxWidth:o,pageIndex:e,pageHeight:a,pageWidth:s,containerHeight:c,pageTop:A+u,scrollTop:A,pageOffset:u,occupiedHeight:Math.max(r,a)}}}},{key:"computeScrollTop",value:function(e){for(var t=this.scrollWrap.getHeight(),n=this.docRender.pagesRender.pageRenders,i=0,r=0,o=0;o<e;o++){var a=n[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:t),r+=a,i+=Math.max(t,a)}return i}},{key:"computePageIndex",value:function(e){for(var t=this.docRender.pagesRender.pageRenders,n=this.scrollWrap.getHeight(),i=0,r=0,o=0;o<t.length;o++){var a=t[o].getShowHeight();this.isPageRendered(o)||(a=o>0?r/o:n);var s=Math.max(a,n);if(e>=i&&e<i+s)return o;r+=a,i+=s}return-1}},{key:"computeContainerHeight",value:function(e,t){var n=this.scrollWrap.getHeight(),i=this.docRender.pagesRender&&this.docRender.pagesRender.pageRenders,r=t;if(i)for(var o=e;o<i.length;o++){var a=i[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:r),r+=Math.max(n,a)}return z.isMobile&&(r+=10),r}},{key:"renderViewMode",value:function(e){var t=this;if(e.index===this.currentPageIndex){var n=this.computePageMetadata(e.index),i=e.getScale();null==this.lastScale?this.isZoomin=!1:this.isZoomin=this.lastScale<i,this.lastScale=i,n.refresh=!0,this.rerenderPage(n),this.renderPagePosition(n)}this.rerenderViewExecutor.exec(function(){t.renderPageContainer()})}},{key:"renderPageContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.computeContainerHeight(0,0);this.docContainer.style.cssText+="height: ".concat(t,"px"),this.keepPagePosition(e)}},{key:"disableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(ae.disableScroll,e)}},{key:"enableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(ae.enableScroll,e)}},{key:"getFitWidth",value:function(e){return this.scrollWrap.getWidth()-0-0}},{key:"getFitHeight",value:function(e){return this.scrollWrap.getHeight()}},{key:"getVisibleIndexes",value:function(){return[this.currentPageIndex]}},{key:"getCurrentPageIndex",value:function(){return this.currentPageIndex}},{key:"getScrollHostElement",value:function(){var e=this.scrollWrap.getScrollHost();return e===window?document.body:e}},{key:"getCurrentVisibleBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window||e===document.body||e===document.documentElement){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{x:0,y:0,width:t,height:n,left:0,right:t,top:0,bottom:n}}return e.getBoundingClientRect()}},{key:"generateShortcutEventHandler",value:function(){return new fh(this)}}],[{key:"getName",value:function(){return"single-page-view-mode"}}]),t}(hh),_h=(z.LoggerFactory.getLogger("PDFPagesRender"),function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t,[i])).name=t.getDefaultName(),r.$element=e.parent(),r.$ui=e,r.pageDOMs=[],r.doc=n,r.docRender=i;var o=i.viewerRender.ViewMode;return r.viewMode=new o(i),r.viewerRender=i.viewerRender,r.pdfViewer=r.viewerRender.pdfViewer,r.pageRenders=[],r.scale=1,r.rotate=0,r.neverRendered=!0,r.minScale=+r.pdfViewer.config.minScale,r.maxScale=+r.pdfViewer.config.maxScale,r.isPageDOMsLoaded=!1,r.loadPageRendersDefer=new z.Defer,r.pdfViewer.eventEmitter.on(ae.layerVisibleChange,r.layerVisibleChange=function(e){r.doc===e&&(r.setRenderFlags(2),r.renderVisiblePages().catch(function(e){0}),r.pageRenders.forEach(function(e){e.page&&e.rebuildAnnots(e.scale,e.rotate)}))}),r.pdfViewer.eventEmitter.on(ae.imageAdded,r.imageAdded=function(e){var t=r.viewMode.getVisibleIndexes(),n=e.getIndex();if(-1!==t.indexOf(n)){var i=r.pageRenders[n];i&&i.redrawContent(!0).then(function(e){r.setRenderFlags(2),r.renderVisiblePages()})}}),r.pdfViewer.eventEmitter.on(ae.watermarkAdded,r.watermarkAdded=r.imageAdded),r.pdfViewer.eventEmitter.on(ae.watermarkRemoved,r.watermarkRemoved=function(e){r.viewMode.getVisibleIndexes().forEach(function(e){var t=r.pageRenders[e];t&&t.redrawContent(!0).then(function(e){r.setRenderFlags(2),r.renderVisiblePages()})})}),r.pdfViewer.eventEmitter.on(ae.watermarksAdded,r.watermarksAdded=function(e,t,n){for(var i=r.viewMode.getVisibleIndexes(),o=e;o<=t;o++)if(-1!==i.indexOf(o)){var a=r.pageRenders[o];a&&a.redrawContent(!0).then(function(e){r.setRenderFlags(2),r.renderVisiblePages()})}}),r.pdfViewer.eventEmitter.on(ae.graphicsUpdated,r.graphicsUpdated=function(e){var t=r.viewMode.getVisibleIndexes(),n=e.getIndex();-1!==t.indexOf(n)&&(r.setRenderFlags(2),r.renderVisiblePages())}),r.pdfViewer.eventEmitter.on(ae.pageAdded,r.pageAdded=function(e){var t=e.getIndex();r.addNewPageByIndex(t)}),r.pdfViewer.eventEmitter.on(ae.pageMoved,r.pageMoved=function(e,t){r.movePageRender(e,t)}),r.pdfViewer.eventEmitter.on(ae.pagesMoved,r.pagesMoved=function(e,t,n){r.movePagesRender(e,t,n)}),r.pdfViewer.eventEmitter.on(ae.pagesReversed,r.pagesReversed=function(e,t){r.reversePagesRender(e,t)}),r.pdfViewer.eventEmitter.on(ae.pageRemoved,r.pageRemoved=function(e){r.removePageByIndex(e);var t=r.pageRenders.length,n=r.viewMode.getCurrentPageIndex();if(n===e){var i=Math.min(n,t-1);r.docRender.goToPage(i),r.viewMode.currentPageIndex=i}}),r.pdfViewer.eventEmitter.on(ae.pagesRemoved,r.pagesRemoved=function(e){var t=uh(e).sort(function(e,t){return t-e}),n=r.viewMode.getCurrentPageIndex();t.forEach(function(e){var t=r.pageRenders[e];t&&(t.destroy(),r.pageRenders.splice(e,1),e<n&&n--)}),r.pageRenders.forEach(function(e,t){e.updateIndex(t)}),r.updatePageDOMs();var i=r.doc.getPageCount();n=Math.max(0,Math.min(n,i-1)),r.docRender.goToPage(n),r.viewMode.currentPageIndex=n}),r.pdfViewer.eventEmitter.on(ae.importPages,r.importPages=function(e){r.importPagesByArray(e)}),r.pdfViewer.eventEmitter.on(ae.pagesReplace,r.pagesReplace=function(e){var t=e.delPageRange,n=e.pages;t.sort(function(e,t){return t-e}).forEach(function(e){r.removePageByIndex(e)}),r.importPagesByArray(n)}),r.pdfViewer.eventEmitter.on(ae.applyRedaction,r.applyRedaction=function(e){var t=r.pdfViewer;if(!1!==e){var n=t.getPDFDocRender(),i=n.pagesRender;if(!i)return;e.forEach(function(e){var t=e.pageIndex,i=e.removedAnnots;if(0!==i.length){var r=n.pagesRender.pageRenders[t];if(r&&r.annotsRender)for(var o=r.page.annots,a=o.length-1;a>=0;a--){var s=o[a];-1!==i.indexOf(s.objectNumber)&&(s.info.isDeleted=!0,o.splice(a,1))}}}),i.setRenderFlags(10),i.renderVisiblePages(),t.eventEmitter.emit(ae.redactAnnotApplyed,r)}}),r.pdfViewer.eventEmitter.on(ae.flattened,r.flattened=function(e){r.setRenderFlags(10),r.renderVisiblePages()}),r.pdfViewer.eventEmitter.on(ae.flattenAnnotation,r.flattenAnnotation=function(e,t){r.setRenderFlags(7),r.renderVisiblePages()}),r.pdfViewer.eventEmitter.on(ae.headerFooterUpdated,r.headerFooterUpdated=r.flattened),r.pdfViewer.eventEmitter.on(ae.headerFooterAdded,r.headerFooterAdded=r.flattened),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setViewMode",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return t=this.viewMode,n=t.getCurrentPageIndex(),i=this.scale,[4,this.docRender.getViewBoxCenter(!0,"topLeft")];case 1:if(r=M._.apply(void 0,[c.sent(),2]),o=r[0],a=r[1],t.out(),"fitVisible"==i&&-1!==["facing-page-view-mode"].indexOf(e.getName())&&(this.scale=i=1),this.docRender.isDestroyed)return[2];this.viewMode=new e(this.docRender),this.viewMode.into(this.$ui.get(0),this.pageDOMs,n),this.setRenderFlags(4),s=Object.keys(this.doc.getPageSizesSync()),c.label=2;case 2:return c.trys.push([2,5,,6]),A={pageIndex:o?o.getIndex():n,x:a[0],y:a[1]},[4,Promise.all([this.docRender.zoomTo(this.scale,A),this.loadPageSize(s,0)])];case 3:return c.sent(),[4,this.docRender.goToPage(n,{x:0,y:0})];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,6];case 6:return[2]}})}).call(this)}},{key:"getViewMode",value:function(){return this.viewMode}},{key:"preRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(this.isDestroyed)return Promise.resolve();this.scale=e,this.rotate=t,this.createPagesStructure(e,t),this.viewMode.pageDOMs.length||this.viewMode.into(this.$ui.get(0),this.pageDOMs,void 0!==n?n:this.viewMode.currentPageIndex)}},{key:"render",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a=arguments;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return e=this,t=a.length>0&&void 0!==a[0]?a[0]:this.scale,n=a.length>1&&void 0!==a[1]?a[1]:this.rotate,i=a.length>2&&void 0!==a[2]?a[2]:void 0,r=a.length>3&&void 0!==a[3]?a[3]:void 0,o=a.length>4&&void 0!==a[4]?a[4]:void 0,this.isDestroyed?[2,Promise.resolve()]:(this.preRender(t,n,i),"facing-page-view-mode"!==this.viewMode.constructor.getName()?[3,2]:[4,this.updatePagesDomSize(t,!1,this.viewMode.pageDOMs,!1)]);case 1:s.sent(),s.label=2;case 2:return null!=i&&(this.viewMode.jumpToPage(i,{x:r,y:o}),this.docRender.visiblePageRendersStore.dispatch([i])),this.docRender.rendered(),[2,Promise.resolve().then(function(t){return e.docRender.move()})]}})}).apply(this,arguments)}},{key:"getScaleSyncOrNot",value:function(e,t,n,i){"fitVisible"!==n?e(this.getPageScaleSync(t,n,i)):this.getPageScale(t,n,i).then(function(t){e(t)})}},{key:"movePageRender",value:function(e,t){var n=this,i=this.pageRenders[e];if(i){var r=i.$ui.parent(),o=this.pageRenders[t];if(o){var a=o.$ui.parent();e<t?r.insertAfter(a):r.insertBefore(a),this.pageRenders.splice(e,1),this.pageRenders.splice(t,0,i);for(var s=Math.min(e,t),A=Math.max(e,t),c=s;c<=A;c++)this.pageRenders[c].updateIndex(c);this.updatePageDOMs(),this.getScaleRatio().then(function(e){return n.renderVisiblePages(e).catch(function(e){0})})}}}},{key:"movePagesRenderBAK",value:function(e,t){var n=this,i=e.filter(function(e){return e<t}),r=e.filter(function(e){return e>=t}),o=this.pageRenders.length,a=t===o,s=function(e,t){var i=n.pageRenders[e];if(i){var r=i.$ui.parent(),o=n.pageRenders[t];if(o){var a=o.$ui.parent();r.insertBefore(a)}}};i.reverse().forEach(function(e,i){var r=n.pageRenders[e];s(e,t-i),n.pageRenders.splice(e,1),n.pageRenders.splice(t-i-1,0,r)}),r.forEach(function(e,i){var r=n.pageRenders[e];s(e,t+i),n.pageRenders.splice(e,1),n.pageRenders.splice(t+i,0,r)});for(var A=a?t-1:t,c=Math.min(Math.min.apply(null,e),A),u=Math.max(Math.max.apply(null,e),A),l=c;l<=u;l++)this.pageRenders[l].updateIndex(l);this.updatePageDOMs(),this.getScaleRatio().then(function(e){return n.renderVisiblePages(e).catch(function(e){0})})}},{key:"movePagesRender",value:function(e,t,n){var i=this,r=this.pageRenders.length;e.reduce(function(e,n){var o=i.pageRenders[n].$ui.parent();return e?o.insertAfter(e):""===e&&(t===r?o.insertAfter(i.pageRenders[r-1].$ui.parent()):o.insertBefore(i.pageRenders[t].$ui.parent())),o},"");var o,a=this.pageRenders;e.map(function(e){return a[e]}).forEach(function(e,n){var i=a.indexOf(e);if(a.splice(i,1),0===n)i<t?a.splice(t-1,0,e):a.splice(t,0,e);else{var r=a.indexOf(o);a.splice(r+1,0,e)}o=e}),a.forEach(function(e,t){e.updateIndex(t)}),this.updatePageDOMs(),this.getScaleRatio().then(function(e){return i.renderVisiblePages(e).catch(function(e){0})})}},{key:"reversePagesRender",value:function(e,t){var n=this;if(Array.isArray(e)&&!(e.length<=1)){for(var i=this.pageRenders,r=e[0],o=e[e.length-1],a=Array.from({length:o-r+1},function(e,t){return t+r}),s=a.map(function(e){return i[e].$ui.parent()}),A=s[0].parent(),c=e.length,u=0;u<Math.ceil(c/2);u++){var l=e[u],d=e[c-1-u];if(l!==d){var h,f,p,g=l-r,v=d-r;h=[s[v],s[g]],s[g]=h[0],s[v]=h[1],f=[i[d],[i[l]]],i[l]=f[0],p=(0,M._)(f[1],1),i[d]=p[0]}}this.doc.getPageCount()===s.length?A.empty():s.forEach(function(e){return e.remove()}),0===r?A.prepend(s):A.children().eq(r).before(s),i.forEach(function(e,t){e.updateIndex(t)}),this.updatePageDOMs(),this.getScaleRatio().then(function(e){return n.renderVisiblePages(e).catch(function(e){0})})}}},{key:"_updatePageRenders",value:function(e,t){var n=O()(H),i=n.get(0);if(this.pageRenders[e]){if(!t){var r=this.pageRenders[e].$ui.parent();n.insertBefore(r)}this.pageDOMs.splice(e,0,i)}else t||this.$ui.append(n),this.pageDOMs.push(i);var o=n.find(".fv__pdf-page-layout"),a=new ch(o,e,this.doc,this);this.pageRenders.splice(e,0,a);for(var s=e+1;s<this.pageRenders.length;s++)this.pageRenders[s].updateIndex(s)}},{key:"addNewPageByIndex",value:function(e){var t=this,n=(0,T._)(this.viewMode,yh);return this._updatePageRenders(e,n),this.updatePageDOMs(),this.getScaleRatio().then(function(n){var i=t.pageRenders[e];if(i)return t.getScaleSyncOrNot(function(e){return i.updatePageDOMRect(e,t.rotate)},e,n,t.rotate),t.renderVisiblePages(n).catch(function(e){0})})}},{key:"importPagesByArray",value:function(e){var t=this,n=(0,z.createDeferred)(),i=this.importPagesByArrayPromises=this.importPagesByArrayPromises||Promise.resolve();return this.importPagesByArrayPromises=i.finally(function(){var i=(0,T._)(t.viewMode,yh);return e.forEach(function(e){var n=e.getIndex();t._updatePageRenders(n,i);var r=t.pageRenders[n];r&&t.getScaleSyncOrNot(function(e){return r.updatePageDOMRect(e,t.rotate)},n,t.scale,t.rotate)}),t.updatePageDOMs(),t.setRenderFlags(8),t.renderVisiblePages(t.scale).then(function(){return n.resolve()}).catch(function(e){return n.reject()})}),n.promise}},{key:"removePageByIndex",value:function(e){if(this.pageRenders[e]){var t=this.pageRenders.splice(e,1)[0];t.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),t.destroy();for(var n=e;n<this.pageRenders.length;n++)this.pageRenders[n].updateIndex(n);this.pageDOMs.splice(e,1)}this.updatePageDOMs(),this.renderVisiblePages(this.scale).catch(function(e){0})}},{key:"updatePageDOMs",value:function(){this.pageDOMs=this.pageRenders.map(function(e){return e.$element.get(0)}),this.viewMode.updatePageDOMs(this.pageDOMs)}},{key:"setRenderFlags",value:function(e){for(var t=this.pageRenders,n=0,i=t.length;n<i;n++)t[n].updateRenderFlags(e)}},{key:"loadPageSize",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;this.doc.getPageSize(e[i]);)i++;if(i==e.length)t=Promise.resolve();else{var r=e[i];t=this.doc.getPageSizes(r+n,7)}return t}},{key:"renderVisiblePages",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.docRender.getScale(),arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isDestroyed)return Promise.resolve();var t;return this.renderingTask=(t=e.viewMode.getVisibleIndexes(),e.loadPageSize(t,-3).then(function(){return e.adjustRenderVisiblePages(e.scale,e.rotate)}).then(function(){e.viewMode&&(e.viewMode.afterRenderVisiblePages(),e.pdfViewer.eventEmitter.emit(ae.visiblePagesRenderCompleted),e.renderingTask=null)}))}},{key:"adjustRenderVisiblePages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.viewMode,r=i.getVisibleIndexes();return this.renderPages(r,t,n).then(function(){if(i.docRender&&0!==i.pageDOMs.length)return i.getVisibleIndexes().filter(function(e){return-1===r.indexOf(e)}).length>0?e.adjustRenderVisiblePages(t,n):void 0})}},{key:"renderPages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.docRender.getScale(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;if(this.isDestroyed)return Promise.resolve();var r=this.docRender.doc,o=this.renderPagesSerial;o&&o.end().catch(function(e){0}),o=this.renderPagesSerial=new ce;for(var a=0;t[a]>=0&&r.getPageSize(t[a]);)a++;var s=[];a<t.length&&s.push(function(e){return r.getPageSizes(t[a],t.length)});for(var A=0,c=t.length;A<c;A++){var u=t[A];s.push(function(t,n){return function(){return e.getPageScale("fitVisible"===n?0:t,n,i).then(function(n){var r=e.pageRenders[t];if(!r)return Promise.resolve();var o=r.render(n,i).then(function(e){var t=r.$annotsContainer.get(0),n="fv__viewer-annot-container-hide";t.classList.contains(n)&&t.classList.remove(n)});return e.pdfViewer.asyncRender?Promise.resolve():o}).catch(function(e){return Promise.resolve()})}}(u,n))}return o.serial(s)}},{key:"renderPagesLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;if(this.isDestroyed)return Promise.resolve();var i=this.renderPagesSerial;i&&i.end().catch(function(e){0}),i=this.renderPagesSerial=new ce;for(var r=0;this.doc.getPageSize(t[r++]););for(var o=[function(n){return e.doc.getPageSizes(t[r],t.length-r)}],a=0,s=t.length;a<s;a++){var A=t[a];o.push(function(t,n){return function(){return e.getPageScale(t,n).then(function(n){if(e.pageRenders[t])return e.pageRenders[t].renderLayout(n)})}}(A,n))}return i.serial(o)}},{key:"destroy",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"destroy",this).call(this);for(var n=this.pageRenders.length;n--;)this.pageRenders[n].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch(function(e){0}),this.viewMode.out(),this.viewMode=null,this.$ui.empty(),this.pageDOMs.length=0;var i=this.pdfViewer.eventEmitter;["actionAdd","actionRemove","layerVisibleChange","imageAdded","watermarkAdded","watermarkRemoved","watermarksAdded","graphicsUpdated","pageAdded","pagesInserted","pageMoved","pagesMoved","pagesReversed","pageRemoved","pagesRemoved","importPages","applyRedaction","flattened","headerFooterUpdated","headerFooterAdded","pagesReplace","articleThreadUpdated","articleBeadAdded","articleBeadUpdated","updateZoomMode"].forEach(function(t){e[t]&&i.off(ae[t],e[t]),e[t]=null}),this.renderPagesSerial&&this.renderPagesSerial.end(),this.renderPagesSerial=null}},{key:"renderViewMode",value:function(e){this.viewMode.renderViewMode(e)}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.getPDFPageRender(e))return this.viewMode.jumpToPage(e,{x:n,y:i})}},{key:"updatePagesDomSize",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isDestroyed)return Promise.resolve();var o=this.pdfViewer.getScrollWrap(),a=o.getHeight(),s=o.getWidth(),A=[],c=this.doc.isPageSameSize();return this.pageRenders.forEach(function(t,n){var r=t.pageContentTiles;t.updateRenderFlags(7),t.page&&(t.page.clearDesignerAssitCache(),r&&r.clearCache());var u=i.getPageScale("fitVisible"===e||c?0:n,e,i.rotate),l=t.annotsRender;A.push(u.then(function(e){var A=4*e/3,c=i.doc,u=c.getPageSize(n);u||(u=c.getEstimatedPageSize(n));var d=u.width,h=u.height;switch(i.rotate/90){case 1:case 3:var f=d;d=h,h=f}t.zoomingScale=e,t.scale=e,t.rotate=i.rotate;var p,g=r?r.renderedScale:1,v=A*z.dpr/g;if(p="scale("+v+")",!n&&i.viewMode.fixMargin){var m=c.getPageSizesSync(),y=Object.keys(m).reduce(function(e,t){return t=m[t],e.height=Math.max(t.height,e.height),e.width=Math.max(t.width,e.width),e},{width:0,height:0}),_=y.width*A,b=y.height*A;switch(i.rotate/90){case 1:case 3:var w=_;_=b,b=w}i.viewMode.fixMargin(_,b),a==o.getHeight()&&s==o.getWidth()||i.viewMode.fixMargin(d*A,h*A)}t.setShowWidth(d*A),t.setShowHeight(h*A);t.$container.parent().css({width:d*A,height:h*A}).find(".fv__pdf-page-content-container").css("transform",p),l&&l.updateSize(e,i.rotate)}))}),Promise.all(A).then(function(A){return(0,x._)(function(){var i,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return r?[2,A]:!isNaN(e)||a==o.getHeight()&&s==o.getWidth()?[3,3]:(i=this.pdfViewer.customs.isFullScreen,(c=i)?[4,i()]:[3,2]);case 1:c=u.sent(),u.label=2;case 2:if(!(i=c))return[2,this.updatePagesDomSize(e,t,n,!0)];u.label=3;case 3:return[2,A]}})}).call(i)})}},{key:"clearPagesRenderCache",value:function(){this.pageRenders.map(function(e){e.clearCanvasCache(),e.invisibleRender(!0)})}},{key:"zoomTo",value:function(e,t){var n=this;if(this.isDestroyed)return Promise.resolve();this.scale=e,this.doc.clearAllDesignerAssistCache();var i,r=[],o=t.pageIndex;if("device"==t.type)i=t;else{this.pageRenders[o];r.push(this.getPageScale("fitVisible"===e?0:o,e,this.rotate).then(function(e){return(0,x._)(function(){var n,r;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return[4,this.doc.getPageByIndex(o)];case 1:return n=a.sent(),r=n.getDevicePoint([t.x,t.y],e,this.rotate),i={x:r[0],y:r[1]},[2]}})}).call(n)}))}return r.push(this.updatePagesDomSize(e,!1,this.viewMode.pageDOMs)),Promise.all(r).then(function(e){if(!n.isDestroyed){var r=t.pageIndex,o=n.getPDFPageRender(r);if(n.renderViewMode(o),n.pdfViewer.getScrollWrap().disabled)return n.pdfViewer.store.getCurrentValue("force-redraw")||n.pdfViewer.getScrollWrap().disable(0),Promise.resolve(n.viewMode.jumpToPage(r,i));var a=n.viewerRender.scrollWrap;return new Promise(function(e){n.pdfViewer.eventEmitter.once(ae.afterRenderingVisiblePages,e);var t=a.getScrollTop(),o=a.getScrollLeft();n.viewMode.jumpToPage(r,i),requestAnimationFrame(function(){var n=a.getScrollTop(),i=a.getScrollLeft();n===t&&i===o&&e()})})}})}},{key:"getScaleRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.viewMode.getCurrentPageIndex();return n>=this.docRender.getPDFDoc().getPageCount()&&(n=this.docRender.getPDFDoc().getPageCount()-1),this.getPageScale(n,e,t)}},{key:"rotateTo",value:function(e){var t=this;(0,z.assertThat)((0,z.isValidRotationAngle)(e),"Illegal rotation angle: ".concat(e,", it should be 0,90,180 or 270")),this.clearPagesRenderCache(),this.rotate=(e%360+360)%360;var n=this.viewMode.getVisibleIndexes();return Promise.all(n.map(function(e){var n=t.pageRenders[e];return n.$annotsContainer.addClass("fv__viewer-annot-container-hide"),n.clearCanvasCache(!0),n.renderLayout(void 0,t.rotate)})).then(function(e){t.setRenderFlags(7)}).then(function(e){return Promise.all(t.pageRenders.map(function(e){if(-1===n.indexOf(e.index))return e.renderLayout(void 0,t.rotate)}))}).finally(function(e){t.pdfViewer.eventEmitter.emit(ae.fitWidthResizeViewport)})}},{key:"adjustFitPage",value:function(e){var t,n,i=this.doc.getPageSize(e);return i&&(t=i.height,n=i.width),t||(t=(i=this.doc.getPageSize(0)).height,n=i.width),t/n>this.viewMode.getFitHeight(e)/this.viewMode.getFitWidth(e)?"fitHeight":"fitWidth"}},{key:"getPageScaleSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,n)}},{key:"_getPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return n.doc.getPageSize(e)};if(i=(i%360+360)%360,"fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale)return Math.min(+t,this.maxScale);if(+t<=this.minScale)return this.minScale;if("fitWidth"===t){var o=r();if(o||(o=this.doc.getEstimatedPageSize(e)),o){if(!this.viewMode)return this.resolveScaleValue(1);var a=this.viewMode.getFitWidth(e),s=90===i||270===i?o.height:o.width;return this.resolveScaleValue(a/(s*(0,W.F2)(1)))}}else if("fitHeight"===t){var A=r();if(A||(A=this.doc.getEstimatedPageSize(e)),A){var c=90===i||270===i?A.width:A.height;return this.resolveScaleValue(this.viewMode.getFitHeight(e)/(c*(0,W.F2)(1)))}}return-1}},{key:"getEstimatedPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,i,function(){return n.doc.getEstimatedPageSize(e)})}},{key:"getPageScale",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.viewMode&&this.doc?("fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale?Promise.resolve(Math.min(+t,this.maxScale)):+t<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===t?this.doc.getPxPageBasicInfo(e).then(function(t){if(!n.viewMode)return Promise.resolve(1);var r=n.viewMode.getFitWidth(e),o=90===i||270===i?t.height:t.width;return n.resolveScaleValue(r/o)}):"fitVisible"===t?this.doc.getPxPageBasicInfo(e).then(function(t){return n.doc.calcPageContentBBoxTemp(kt.CalcContentsBox).then(function(r){return(0,x._)(function(){var n,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return this.viewMode?(n=1,o=t.rotation,a=this.viewMode.getFitWidth(e),r&&void 0!==r.left&&r.left!==r.right&&r.top!==r.bottom?[4,this.doc.getPageMediaBoxSizeTemp(e)]:[3,2]):[2,Promise.resolve(1)];case 1:s=c.sent(),n=(n=1===o||3===o?s.mediaHeight/Math.abs(r.top-r.bottom):s.mediaWidth/Math.abs(r.right-r.left))>1.5?1.5:n,c.label=2;case 2:return A=90===i||270===i?t.height:t.width,[2,this.resolveScaleValue(a*n/A)]}})}).call(n)})}):"fitHeight"===t?Promise.all([this.viewMode.getFitHeight(e),this.doc.getPxPageBasicInfo(e).then(function(e){return 90===i||270===i?e.width:e.height})]).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];return n.resolveScaleValue(i/r)}):Promise.resolve(1)):Promise.resolve(1)}},{key:"resolveScaleValue",value:function(e){if(e=+e,!isFinite(e))throw new Error("The scale value must be valid number, but actual: ".concat(e));return Math.max(this.minScale,Math.min(this.maxScale,e))}},{key:"createPagesStructure",value:function(e,t){if(!this.pageDOMs.length){for(var n=this.doc.getPageCount(),i=function(){var e=document.createElement("div");e.innerHTML=H;var t=e.firstElementChild;return e.removeChild(t),t}(),r=[],o=0;o<n;o++){var a=this.doc.getPageSize(o),s=void 0,A=void 0;if(a&&"fitVisible"!==e){var c,u=a.width,l=a.height,d=this.getPageScaleSync(o,e,t),h=(0,W.ke)((0,W.F2)(u),(0,W.F2)(l),d,t);s=(c=(0,M._)(h,2))[0],A=c[1]}var f=i.cloneNode(!0);r.push(f);var p=f.firstElementChild;if(this.pageRenders[o])return;null!=s&&null!=A&&(p.style.width=s+"px",p.style.height=A+"px"),this.pageRenders[o]=new ch(O()(p),o,this.doc,this),this.pageRenders[o].setShowWidth(s),this.pageRenders[o].setShowHeight(A)}this.pageDOMs=r,this.isPageDOMsLoaded=!0,this.loadPageRendersDefer.resolve()}}},{key:"getLoadedPDFPageRender",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.loadPageRendersDefer.promise];case 1:return t.sent(),[2,this.getPDFPageRender(e)]}})}).call(this)}},{key:"getPDFPageRender",value:function(e){try{return this.pageRenders[e]}catch(e){return null}}},{key:"unActiveAnnotRender",value:function(){for(var e=this.pageRenders||[],t=e.length;t--;){e[t].unActiveAnnotRender()}}},{key:"moveTo",value:function(e){var t=this;return this.pagesEndRender(e),this.pdfViewer.eventEmitter.emit(ae.beforeRenderingVisiblePages,e),this.renderPages(e).finally(function(){t.pdfViewer.eventEmitter.emit(ae.afterRenderingVisiblePages,e)})}},{key:"pagesEndRender",value:function(e){var t=this.pageRenders||[],n=t.length;if(!this.pdfViewer.keepCache){var i=this.pdfViewer.tileCache,r=e[0]||0,o=r-i;if(--r>-1)for(var a=r;a>=0;a--){var s=t[a];s&&s.invisibleRender(a<=o)}var A=e[e.length-1]||0,c=A+i;if(++A<n)for(var u=A;u<n;u++){var l=t[u];l&&l.invisibleRender(u>=c)}}}}],[{key:"getDefaultName",value:function(){return"pdfPagesRender"}}]),t}(X));const bh=_h;const wh=function(){function e(t,n){(0,C._)(this,e),this.$ui=O()(t),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0),"doc")}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.addClass("rendered"),this.$ui.empty()}},{key:"destroy",value:function(){this.$ui=null}}]),e}();var kh=function(){function e(t,n){(0,C._)(this,e),this.eCustom=t,this.pdfDocRender=n,this.doc=n.doc}return(0,D._)(e,[{key:"render",value:function(e){}},{key:"destroy",value:function(){this.pdfDocRender=null,this.doc=null}}]),e}(),xh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967292;(0,C._)(this,e),this.permissions=t}return(0,D._)(e,[{key:"getValue",value:function(){return this.permissions}},{key:"checkPrint",value:function(){return this.permissions&Xt.print}},{key:"checkModify",value:function(){return this.permissions&Xt.modify}},{key:"checkExtract",value:function(){return this.permissions&Xt.extract}},{key:"checkAnnotForm",value:function(){return this.permissions&Xt.annotForm}},{key:"checkFillForm",value:function(){return this.permissions&Xt.fillForm}},{key:"checkExtractAccess",value:function(){return this.permissions&Xt.extractAccess}},{key:"checkAssemble",value:function(){return this.permissions&Xt.assemble}},{key:"checkPrintHigh",value:function(){return this.permissions&Xt.printHigh}},{key:"checkCannotModifyAny",value:function(){return!(1323&this.permissions)}},{key:"putCannotModifyAny",value:function(){return this.or(-1324)}},{key:"checkCannotModifyExcludeAssemble",value:function(){return!(299&this.permissions)}},{key:"putCannotModifyExcludeAssemble",value:function(){return this.or(-300)}},{key:"and",value:function(e){return this.permissions=this.permissions&e,this}},{key:"or",value:function(e){return this.permissions=this.permissions|e,this}}]),e}(),Ph=(n(8962),function(){function e(t,n){(0,C._)(this,e),this.pdfviewer=t,this.docRender=n,this.$ui=O()('<canvas class="fv_shapes_ui"></canvas>')}return(0,D._)(e,[{key:"initPageShapes",value:function(e){this.pdfviewer.getAllActiveElements();return this.targetPage&&this.targetPage.index==e||((this.targetPage=this.docRender.pagesRender.pageRenders[e]).$ui.append(this.$ui.show()),this.drawShape()),!0}},{key:"setOffset",value:function(e,t){var n=1e6,i=1e6,r=0,o=0,a=this.path={},s=this.pdfviewer.getAllActiveElements(),A=(s[0].pageRender?s[0].pageRender:s[0].annotsRender.pageRender).$ui[0].getBoundingClientRect();for(var c in s.forEach(function(e){var t;e.getRect?((t=e.getRect()).width=t.right-t.left,t.height=t.bottom-t.top,t.left=A.left+t.left,t.right=A.left+t.right,t.bottom=A.top+t.bottom,t.top=A.top+t.top):t=e.$label[0].getBoundingClientRect(),t.left<n&&(n=t.left),t.top<i&&(i=t.top),t.right>r&&(r=t.right),t.bottom>o&&(o=t.bottom),a[e.annot.getId()]={left:t.left,top:t.top,width:t.width,height:t.height}}),this.path){var u=this.path[c];u.left-=n,u.top-=i}this.deltaX=e-n,this.deltaY=t-i;var l={width:r-n+2,height:o-i+2};this.$ui.css(l).attr(l)}},{key:"drawShape",value:function(){var e=this.$ui[0],t=e.getContext("2d");for(var n in t.clearRect(0,0,e.offsetWidth,e.offsetHeight),t.save(),t.beginPath(),t.strokeStyle="#5aa",t.lineWidth=2,this.path){var i=this.path[n];t.rect(i.left+1,i.top+1,i.width,i.height)}t.stroke(),t.restore()}},{key:"update",value:function(e,t){if(this.targetPage){var n=this.targetPage.$ui[0].getBoundingClientRect(),i=Math.max(n.left,e-this.deltaX),r=Math.max(n.top,t-this.deltaY),o=this.$ui[0];i+o.offsetWidth>n.right&&(i=n.right-o.offsetWidth),r+o.offsetHeight>n.bottom&&(r=n.bottom-o.offsetHeight),this.$ui.css({left:i-n.left,top:r-n.top})}}},{key:"hide",value:function(){return this.targetPage=null,this.$ui&&this.$ui.hide(),!1}},{key:"destroy",value:function(){this.pdfviewer=null,this.docRender=null,this.$ui&&(this.$ui.remove(),this.$ui=null)}},{key:"moveAnnot",value:function(e){var t=this,n=e[0].annot.getPDFPage(),i=this.targetPage;if(!i)return Promise.resolve(this.hide());var r=i.page,o=n.getIndex(),a=i.index;if(a==o)return Promise.resolve(this.hide());var s=n.doc,A=e.reduce(function(e,t){return t.getRelevanceRenders?(0,R._)(e).concat((0,R._)(t.getRelevanceRenders(!0))):(0,R._)(e).concat([t.annot.getId()])},[]),c=A.reduce(function(e,r){var a=n.annotIdMap[r],s={},A={},c=t.path[r];if(c){var u=t.pdfviewer.getAnnotRender(o,r);u=u.component,s="FreeTextCallout"==a.getIntent()?u.backupProperty.rect:a.getRect();var l=c.left,d=c.top,h=t.$ui[0].getBoundingClientRect(),f=u.getRect();h={width:f.right-f.left,height:f.bottom-f.top,left:h.left+l,top:h.top+d},A=i.getPDFRectFromClientRect(h)}return e[r]={rect:A,oldRect:s},e},{});return this.pdfviewer.killFocus().then(function(e){var i=Object.keys(c).map(function(e){return Number(e)});return n.getAnnotsByObjectNumArray(i).then(function(e){var i=e.reduce(function(e,t){return e[t.getUniqueID()]=c[t.getObjectNumber()],e},{});return s.moveAnnotsToPage(n,r,c).then(function(e){return t.pdfviewer.collaborate(Bd.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:o,toPageIndex:a,annots:i}),e})})}).then(function(e){return t.hide(),e})}}]),e}());const Ch=Ph;var Dh=["movingstart","movingend","movingcancel"],Eh=["pointermove"],Sh=function(){function e(t,n){(0,C._)(this,e),this.pdfviewer=t,this.docRender=n,this.state=0,this.initHammer(t,n)}return(0,D._)(e,[{key:"initHammer",value:function(e,t){var n=this;if("JR"===e.config.engineMode){var i=t.$doc;this.movingstart=function(r){r.deltaX,r.deltaY;var o=r.srcEvent;if(0==n.state){var a=n.shapeManager=new Ch(e,t);n.pointermove=function(e){if(!(n.state<2)){var t=(0,z.getClientX)(e),i=(0,z.getClientY)(e),r=document.elementsFromPoint(t,i).find(function(e){return e.classList.contains("fv__pdf-page-layout")}),o=r?+r.getAttribute("data-index"):NaN;if(!isNaN(o)){n.state=2;var s=n.getEnableMoveElement();if(s&&s.length)if(!n.toggleShapeControl(s,+o))a.initPageShapes(o)?(a.update(t,i),n.state=3):(n.state=1,n.getEnableMoveElement().forEach(function(e){var t=e.shapeControl;t&&(t.show(),t.enable())}))}}},Eh.forEach(function(e){return i.on(e,n[e])})}n.shapeManager&&(n.shapeManager.setOffset(o.clientX,o.clientY),n.state=2)},this.movingend=function(e){n.shapeManager&&(3==n.state&&n.shapeManager&&n.shapeManager.moveAnnot(n.getEnableMoveElement()).then(function(e){n.getEnableMoveElement().forEach(function(e){var t=e.shapeControl;t&&((0,T._)(e,qd)?(e._applyShapeChange(),t.show(),t.enable()):e.shapeControlOnEnd())}),n.pdfviewer.initializers[2].selectAllAnnotOrWidget(n.pdfviewer,e.filter(function(e){return"popup"!==e.getType()}))}),n.state=1)},this.movingcancel=function(e){n.shapeManager&&(n.shapeManager.hide(),n.state=1)},Dh.forEach(function(t){return e.eventEmitter.on(t,n[t])})}}},{key:"toggleShapeControl",value:function(e,t){var n=this,i=e[0].annot.getPDFPage().getIndex(),r=!1,o=this.pdfviewer.customs.isCollaborationMode&&this.pdfviewer.customs.isCollaborationMode();return e.forEach(function(e){if(o&&n.pdfviewer.customs.getAnnotPermissionsSync(e.annot).indexOf("fully")<0)return;var a=e.shapeControl;-1==t||t==i?(a&&(a.show(),a.enable()),(0,T._)(e,qd)||e.$label.show(),n.shapeManager.hide(),r=!0):(a&&a.hide(),(0,T._)(e,qd)||e.$label.hide())}),r}},{key:"getActiveElement",value:function(){return this.pdfviewer.getAllActiveElements()}},{key:"getEnableMoveElement",value:function(){var e=this.getActiveElement(),t=-1===e.findIndex(function(e){return e.shapeControl&&(e.shapeControl.isDisabled||!e.shapeControl.isAllDirection())});return t?e:[]}},{key:"destroy",value:function(){var e=this,t=this.pdfviewer;Dh.forEach(function(n){t.eventEmitter.off(n,e[n]),e[n]=null});var n=this.docRender.$doc;Eh.forEach(function(t){n.off(t,e[t]),e[t]=null}),this.pdfviewer=null,this.docRender=null,this.shapeManager&&this.shapeManager.destroy()}}]),e}();const Ih=Sh;var Th=[{background:"#ffffff",foreground:"#000000",componentName:"white"},{background:"#faf9de",foreground:"#1f1f00",componentName:"yellowish"},{background:"#fff2e2",foreground:"#381f00",componentName:"lightOrange"},{background:"#dce2f1",foreground:"#232a3c",componentName:"lightBlue"},{background:"#3b3537",foreground:"#b0afac",componentName:"lightBlack"},{background:"#333333",foreground:"#838383",type:"moon",componentName:"moon"}],Mh=function(){var e={background:null,foreground:null},t=localStorage.getItem("change-color-user-choice");return t&&Th[Number(t)]&&(e=function(e){for(var t in delete(e=JSON.parse(JSON.stringify(e))).type,e)e.hasOwnProperty(t)&&(e[t]=Number(e[t].replace("#","0xff")));return e}(Th[Number(t)])),e},Rh=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;(0,C._)(this,e),this.top=t,this.left=n,this.bottom=i,this.right=r},Fh=function(){function e(t){(0,C._)(this,e),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=t}return(0,D._)(e,[{key:"moveLeft",value:function(e){return this.offsetLeft+=e,this.offsetRight+=e,this}},{key:"moveTop",value:function(e){return this.offsetTop+=e,this.offsetBottom+=e,this}},{key:"move",value:function(e,t){return this.moveLeft(e).moveTop(t)}},{key:"moveTo",value:function(e,t){return this.offsetLeft=this.offsetRight=this.target.left-e,this.offsetTop=this.offsetBottom=this.target.top-t,this}},{key:"shrink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Rh(e,t,-n,-i))}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Rh(-e,-t,n,i))}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",i=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),r=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),o=i*e-i,a=r*e-r,s=0,A=0,c=0,u=0;switch(t){case"right":s=-o;break;case"center":s=-o/2,A=o/2;break;default:A=o}switch(n){case"bottom":c=-a;break;case"center":c=-a/2,u=a/2;break;default:u=a}return this.add(new Rh(c,s,u,A))}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?n:i,o=e.bottom,a=void 0===o?n:o,s=e.right,A=void 0===s?r:s;return this.offsetLeft+=r,this.offsetRight+=A,this.offsetBottom+=a,this.offsetTop+=n,this}},{key:"extract",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight;return{left:e,top:this.target.top+this.offsetTop,right:t,bottom:this.target.bottom+this.offsetBottom}}},{key:"boundary",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:e,top:n,width:t-e,height:this.target.bottom+this.offsetBottom-n}}},{key:"intersect",value:function(t){(0,T._)(t,e)||(t=e.on(t));var n=this.toPlainObject(),i=t.toPlainObject(),r={left:Math.max(n.left,i.left),right:Math.min(n.right,i.right),top:Math.max(n.top,i.top),bottom:Math.min(n.bottom,i.bottom)};return e.on(r)}},{key:"toPlainObject",value:function(){return{left:this.target.left+this.offsetLeft,right:this.target.right+this.offsetRight,top:this.target.top+this.offsetTop,bottom:this.target.bottom+this.offsetBottom}}},{key:"optimize",value:function(t){var n=this.toPlainObject(),i=n.left,r=n.right,o=n.top,a=n.bottom,s=t.left,A=t.right,c=t.top,u=t.bottom,l=function(e,t,n){return Math.max(t,Math.min(e,n))},d={left:l(i,s,A),right:l(r,s,A),top:l(o,c,u),bottom:l(a,c,u)},h=d.left,f=d.right,p=d.top,g=d.bottom;return Object.assign(d,{left:Math.min(h,f),right:Math.max(h,f),top:Math.min(p,g),bottom:Math.max(p,g)}),e.on(d)}}],[{key:"isOverlap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Math.max(e.left,t.left),r=Math[n?"min":"max"](e.top,t.top),o=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(i<=a)if(n){if(r>=o)return(a-i)*(r-o)}else if(r<=o)return(a-i)*(o-r);return 0}},{key:"isInRect",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e>=n.left&&e<=n.right)if(i){if(t>=n.bottom&&t<=n.top)return!0}else if(t<=n.bottom&&t>=n.top)return!0;return!1}},{key:"rectInRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(e.left>=t.left&&e.right<=t.right)&&(n?e.top<=t.top&&e.bottom>=t.bottom:e.top>=t.top&&e.bottom<=t.bottom)}},{key:"isSimilar",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.right-t.right)<n}},{key:"on",value:function(t){return new e(t)}},{key:"subtract",value:function(e,t){return new Rh(e.top-t.top,e.left-t.left,e.bottom-t.bottom,e.right-t.right)}},{key:"expandOffset",value:function(e,t){return new Rh(e.top-t.top,e.left-t.left,t.bottom-e.bottom,t.right-e.right)}},{key:"copyTo",value:function(e,t){t.left=e.left,t.top=e.top,t.right=e.right,t.bottom=e.bottom}}]),e}(),Nh=n(3162);function Lh(e,t,n){if(z.isMobile&&z.isSafari&&(new RegExp(/\sversion\/(.*?)\s/i).test(navigator.userAgent.toLowerCase())&&Number(RegExp.$1)<13))return window.pdfui.pdfViewer.viewerUI.alert("alert.browserNotSupportDownload");void 0===n&&(n="application/octet-stream");var i=(0,T._)(e,Blob)?e:new Blob(e,{type:n});(0,Nh.saveAs)(i,t)}var Oh,jh=Symbol("isDisabled"),Bh=Oh=jh,Vh=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t),(0,U._)(i,"docRender",void 0),(0,U._)(i,"formFillerService",void 0),(0,U._)(i,"eHandler",void 0),(0,U._)(i,"store",void 0),(0,U._)(i,"mouseEventThrottleExecutor",void 0),(0,U._)(i,"keyboardEventExecutor",void 0),(0,U._)(i,Bh,void 0),(0,U._)(i,"isPaused",void 0),i.docRender=e,i.formFillerService=n,i.store=new z.Store,i.mouseEventThrottleExecutor=new z.ThrottleAsyncTaskExecutor(100,!0),i.keyboardEventExecutor=new z.QueuedAsyncTaskExecutor,i[Oh]=!0,i.isPaused=!1,i.eHandler=i.docRender.$doc.get(0),i.bindDOMEvent(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"controllerAPI",get:function(){return this.formFillerService.controllerAPI}},{key:"editorAPI",get:function(){return this.formFillerService.editorAPI}},{key:"doc",get:function(){return this.docRender.doc}},{key:"disable",value:function(){this[jh]=!0}},{key:"enable",value:function(){this[jh]=!1}},{key:"isDisabled",get:function(){return this[jh]}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused=!1}},{key:"on",value:function(e,t){return this.store.subscribe(e,t)}},{key:"bindDomEventTo",value:function(e,t,n,i){return e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}}},{key:"bindDOMEvent",value:function(){var e,t=this,n=this.formFillerService.virtualWidgetElement,i=function(e){if(t.isDisabled||t.isPaused)return!1;var n,i=null!==(n=e.relatedTarget)&&void 0!==n?n:e.target;return!!(0,T._)(i,HTMLElement)},r=!1,o=function(n){i(n)&&(r=!0,e=n,t.mouseEventThrottleExecutor.waitForLastTask().then(function(){return t.dispatch(n)}))};this.addDestroyHook(this.bindDomEventTo(n,"pointerdown",function(e){e.stopPropagation(),o(e)}),this.bindDomEventTo(this.eHandler,"pointerdown",function(e){o(e)}),this.bindDomEventTo(this.eHandler,"pointermove",function(e){i(e)&&t.mouseEventThrottleExecutor.exec(function(){return t.dispatch(e)})}),this.bindDomEventTo(document,"pointerup",function(n){if(r&&(r=!1,i(n))){var o=document.elementsFromPoint(n.clientX,n.clientY).find(function(e){return e.classList.contains("fv__pdf-view-mode-item")}),a=null!=o?o:null==e?void 0:e.target;a&&t.mouseEventThrottleExecutor.waitForLastTask().then(function(){var e=new PointerEvent("pointerup",n);return Object.defineProperty(e,"target",{value:a,enumerable:!0}),t.dispatch(e)})}},{capture:!0})),["pointerup","pointerdown"].forEach(function(e){t.addDestroyHook(t.bindDomEventTo(document,e,function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){return this.isDisabled||this.isPaused?[2]:(n=null!==(t=e.relatedTarget)&&void 0!==t?t:e.target,(0,T._)(n,HTMLElement)?n.closest(".fv__pdf-view-mode-item")?[2]:this.formFillerService.canRemoveFocus(n)&&this.formFillerService.hasFocus()?(this.formFillerService.removeFocus(),[2]):[2]:[2])})}).call(t)},!0))});var a=function(e){t.formFillerService.hasFocus()&&(e.stopPropagation(),t.keyboardEventExecutor.exec(function(){return t.dispatch(e)}),(0,z.isMatch)(e,z.matchers.or(z.matchers.ArrowRight,z.matchers.ArrowLeft,z.matchers.ArrowDown,z.matchers.ArrowUp,z.matchers.PageDown,z.matchers.PageUp,z.matchers.Home,z.matchers.End))&&e.preventDefault())},s=this.formFillerService.virtualWidgetElement;this.addDestroyHook(this.bindDomEventTo(window,"blur",function(e){var n;if(t.formFillerService.hasFocus())if("IFRAME"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName))t.formFillerService.removeFocus();else try{var i,r;if(null===(r=document.activeElement)||void 0===r||null===(i=r.contentDocument)||void 0===i?void 0:i.contains(t.eHandler))return}catch(e){}}),this.bindDomEventTo(s,"keydown",a),this.bindDomEventTo(s,"keyup",a),this.bindDomEventTo(s,"wheel",function(e){t.dispatch(e)}),this.bindDomEventTo(s,"input",function(e){if("insertText"===e.inputType)t.keyboardEventExecutor.exec(function(){return t.dispatch(e)})}),this.bindDomEventTo(s,"compositionend",function(e){t.keyboardEventExecutor.exec(function(){t.dispatch(e)})}),this.bindDomEventTo(s,"paste",function(e){var n,i,r=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");if(r){var o={type:"input",data:r,flags:t.getGlobalGestureFlags(),timestamp:e.timeStamp};return null===(i=t.editorAPI)||void 0===i?void 0:i.insertFromPaste(o)}}))}},{key:"dispatch",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return(0,T._)(e,InputEvent)||(0,T._)(e,CompositionEvent)?[2,this.dispatchInputEvent(e)]:(0,T._)(e,WheelEvent)?[4,this.createGestureMouseWheelEvent(e)]:[3,2];case 1:return t=n.sent(),[3,5];case 2:return(0,T._)(e,MouseEvent)||window.TouchEvent&&(0,T._)(e,TouchEvent)||(0,T._)(e,PointerEvent)?[4,this.createGestureMouseEvent(e)]:[3,4];case 3:return t=n.sent(),[3,5];case 4:(0,T._)(e,KeyboardEvent)?t=this.createGestureKeyboardEvent(e):(0,T._)(e,ClipboardEvent)&&(t=this.createGesturePasteEvent(e)),n.label=5;case 5:return t?[4,this.dispatchGestureEvent(t)]:[3,7];case 6:n.sent(),n.label=7;case 7:return(0,T._)(e,KeyboardEvent)&&"keydown"===e.type?[2,this.dispatchInputEvent(e)]:[2]}})}).call(this)}},{key:"dispatchInputEvent",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){if(t=this.editorAPI,(0,T._)(e,InputEvent)||(0,T._)(e,CompositionEvent))return n={type:"input",data:e.data||void 0,flags:this.getGlobalGestureFlags(),timestamp:e.timeStamp},[2,null==t?void 0:t.insertText(n)];switch(i={type:"input",flags:this.createGestureFlags(e),timestamp:e.timeStamp},e.keyCode){case z.KeyCodes.Backspace:return[2,null==t?void 0:t.deleteContentBackward(i)];case z.KeyCodes.Delete:return[2,null==t?void 0:t.deleteContentForward(i)];case z.KeyCodes.Enter:return[2,null===(r=this.editorAPI)||void 0===r?void 0:r.enter(i)]}if(e.ctrlKey)switch(e.keyCode){case z.KeyCodes.KEY_A:return[2,null==t?void 0:t.selectAll(i)];case z.KeyCodes.KEY_X:return[2,null==t?void 0:t.deleteByCut(i)];case z.KeyCodes.KEY_C:return[2,null==t?void 0:t.copy(i)]}return[2]})}).call(this)}},{key:"dispatchGestureEvent",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:if(!this.controllerAPI)return[2];if(t=e.type,!this.controllerAPI[t])return z.LoggerFactory.getLogger("FillerDOMEventTransmitter").error("Unsupported event type",t),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.controllerAPI[t](e)];case 2:return n=r.sent(),this.store.dispatch(t,{event,success:!0,data:n}),[3,4];case 3:return i=r.sent(),this.store.dispatch(t,{event,success:!1,error:i}),[3,4];case 4:return[2]}})}).call(this)}},{key:"createGestureMouseWheelEvent",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return(n=this.formFillerService.focusOnControl)?[4,this.docRender.doc.query({type:"annot",annotId:n})]:[2];case 1:return i=r.sent(),(0,T._)(i,Pr)?(null===(t=i.getField())||void 0===t?void 0:t.getType())!==pn.ListBox?[2]:[2,{type:"mousewheel",deltaX:e.deltaX,deltaY:e.deltaY,flags:this.createGestureFlags(e),timestamp:e.timeStamp}]:[2]}})}).call(this)}},{key:"createGestureMouseEvent",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l,d,h,f;return(0,N.Jh)(this,function(p){switch(p.label){case 0:return i=function(){switch(e.type){case"pointermove":return"mousemove";case"pointerup":case"touchend":return"mouseup";case"pointerdown":case"touchstart":return"mousedown"}return e.type}(),r=e.target,(o=r.closest(".fv__pdf-view-mode-item"))?void 0===(a=null===(n=this.docRender)||void 0===n||null===(t=n.pagesRender)||void 0===t?void 0:t.pageRenders)?[2]:(s=a.map(function(e){return e.$element[0]}).indexOf(o),A=a[s],c=(0,z.getClientX)(e),u=(0,z.getClientY)(e),[4,A.transformPoint({point:{x:c,y:u},srcType:Xd.viewport,destType:Xd.pdf})]):[2];case 1:return l=p.sent(),d=l.x,h=l.y,f=this.createGestureFlags(e),[2,{type:i,flags:f,page:A.index,left:d,top:h,button:e.button,timestamp:e.timeStamp}]}})}).call(this)}},{key:"createGestureKeyboardEvent",value:function(e){var t=this.createGestureFlags(e);return{type:e.type,flags:t,keyCode:e.keyCode,timestamp:e.timeStamp}}},{key:"createGesturePasteEvent",value:function(e){var t;return{type:e.type,content:(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"))||"",contentType:"text",timestamp:e.timeStamp}}},{key:"createGestureFlags",value:function(e){var t={alt:e.altKey,meta:e.metaKey,ctrl:e.ctrlKey,shift:e.shiftKey,command:!1,leftButtonDown:!1,rightButtonDown:!1,middeButtonDown:!1};return((0,T._)(e,PointerEvent)||(0,T._)(e,MouseEvent)&&e.buttons>0)&&(t.leftButtonDown=0===e.button,t.middeButtonDown=1===e.button,t.rightButtonDown=2===e.button),t}},{key:"getGlobalGestureFlags",value:function(){return{ctrl:z.keyboardStatus.isCtrl,alt:z.keyboardStatus.isAlt,shift:z.keyboardStatus.isShift,meta:z.keyboardStatus.isWin,command:!1,leftButtonDown:!1,rightButtonDown:!1,middeButtonDown:!1}}}]),t}(z.Disposable);var Hh=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"docRender",void 0),(0,U._)(n,"renderThrottleExecutor",void 0),(0,U._)(n,"formFillerService",void 0),n.docRender=e,n.renderThrottleExecutor=new z.ThrottleAsyncTaskExecutor(100,!0),e.doc.createMessageChannel("form-filler-assist-callback-channel-id",n).ownsTo(n),n.formFillerService=n.docRender.pdfViewer.getFormFillerService(),n}return(0,I._)(t,e),(0,D._)(t,[{key:"setClipboardText",value:function(e){return t=new Blob([e],{type:"text/plain"}),n=[new ClipboardItem((0,U._)({},t.type,t))],navigator.clipboard.write(n);var t,n}},{key:"mouseoverControl",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.formFillerService.handleOnMouseOver(e),[2]})}).call(this)}},{key:"mouseleaveControl",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.formFillerService.handleOnMouseLeave(e),this.docRender.$ui[0].style.setProperty("--fv-doc-cursor-type",""),[2]})}).call(this)}},{key:"focusGotOnControl",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return this.formFillerService.handleOnFocus(e,t),[2]})}).call(this)}},{key:"focusLostFromControl",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.formFillerService.handleOnBlur(e),[2]})}).call(this)}},{key:"appendPopupMenuItem",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"createPopupMenu",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"destroyPopupMenu",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"enablePopupMenuItem",value:function(e,t,n){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"showPopupMenu",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"refresh",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.formFillerService.rerenderArea(this.docRender.doc,e,t)];case 1:return n.sent(),[2]}})}).call(this)}},{key:"release",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"reportInvalidValue",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"mousedown",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.formFillerService.handleOnMouseDown(e,t)]})}).call(this)}},{key:"mouseup",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.formFillerService.handleOnMouseUp(e,t)]})}).call(this)}},{key:"keydown",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.formFillerService.handleOnKeyDown(e,t)]})}).call(this)}},{key:"keyup",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.formFillerService.handleOnKeyUp(e,t)]})}).call(this)}},{key:"invokeInterceptor",value:function(e,t){return this.formFillerService.invokeGestureInterceptor(e,t)}},{key:"afterDataChange",value:function(e){return this.formFillerService.handleOnDataChanged(e)}},{key:"setCursor",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.docRender.$ui[0].style.setProperty("--fv-doc-cursor-type",z.CSS_CURSOR_MAP.get(e)||"pointer"),[2]})}).call(this)}},{key:"refreshVisiblePages",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.formFillerService.rerenderVisiblePages()];case 1:return e.sent(),[2]}})}).call(this)}},{key:"updateFocusListBoxAndComboBoxVirtualBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.formFillerService.updateFocusListBoxAndComboBoxVirtualBox(e),[2]})}).call(this)}},{key:"beginEdit",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.formFillerService.beginEdit(),[2]})}).call(this)}},{key:"endEdit",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"input",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.formFillerService.updateInputElementPosition(),[2]})}).call(this)}}]),t}(z.Disposable),Uh=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"module",void 0),this.module=t}return(0,D._)(e,[{key:"submitForm",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.module.form.submitFormByParams(e)];case 1:return t.sent(),[2]}})}).call(this)}}]),e}(),zh="font-map-list",Wh="viewer-is-zooming",Yh=function(e){function t(e){var n;(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"docRender",void 0),(0,U._)(n,"domEventTransmitter",void 0),(0,U._)(n,"form",void 0),(0,U._)(n,"doc",void 0),n.docRender=e,n.doc=n.docRender.doc;var i=e.pdfViewer,r=i.getFormFillerService();n.domEventTransmitter=new Vh(e,r),n.domEventTransmitter.ownsTo(n),new Hh(n.docRender).ownsTo(n),n.form=n.doc.form;var o=new Uh(n);n.doc.defineRemoteAPI(br.SUBMIT_FORM_CALLBACK_API_CHANNEL_ID,o);var a=function(){i.getStore().getCurrentValue(Wh)?n.domEventTransmitter.pause():n.domEventTransmitter.resume()};return n.addDestroyHook(i.getStore().subscribe(Wh,a),i.addEventListener(ae.annotationRemoved,a)),n}return(0,I._)(t,e),(0,D._)(t,[{key:"onGestureEventReturn",value:function(e,t){return this.domEventTransmitter.on(e,t)}},{key:"toggleInteractionEvent",value:function(e){e?this.domEventTransmitter.enable():this.domEventTransmitter.disable()}},{key:"isInteractionEventEnabled",value:function(){return!this.domEventTransmitter.isDisabled}}]),t}(z.Disposable),Gh=Kh("hand"),$h=(Kh("annot"),"fv__hidden"),Jh=z.LoggerFactory.getLogger("PDFDocRender"),qh=function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t,[i])).name="pdfDocRender",r.$ui=e,r.rotation=0,r.doc=n,r.lastPageNumber=0,r.currentPageNumber=0,r.currentAnnot=null,r.viewerRender=i,r.__zooming_task_count=0;var o=i.scrollWrap.getScrollHost();((0,T._)(o,Window)||o===document.body||o==document.documentElement)&&(o=document),r.intersectionObserver=new z.BuiltinIntersectionObserver(o),r.visiblePageRendersStore=new z.ValueStore,r.visiblePageRendersStore.reduce(function(e){return e?e.slice(0).map(function(e){return"number"==typeof e?r.getPDFPageRender(e):e}).filter(Boolean):[]});var a=[0];"facing-continuous-page-view-mode"==r.viewerRender.ViewMode.getName()&&a.push(1),r.visiblePageRendersStore.dispatch(a),r.visiblePageRendersStore.subscribe(function(){r.pdfViewer.eventEmitter.emit("visiblePagesChange",r,r.getVisiblePageIndexes())});var s=r.pdfViewer=i.pdfViewer,A=O()('<div class="fv__pdf-doc-layout"> <div class="fv__pdf-doc-rendering"></div> <div class="fv__pdf-doc-custom-container"></div> <div class="fv__pdf-doc-container"></div> <div class="fv__pdf-doc-handler-container"></div> </div>');A[0].id=n.id,e.append(A),r.$doc=A,r.$rendering=A.find(".fv__pdf-doc-rendering"),r.$container=A.find(".fv__pdf-doc-container"),r.pdfDocRendering=new(s.customs.PDFDocRendering||wh)(r.$rendering[0],r),r.docCustomRender=new(s.customs.DocCustomRender||kh)(A.find(".fv__pdf-doc-custom-container")[0],r),r.zoomToTaskExecutor=new z.DebounceAsyncTaskExecutor,r.bindEvent(),r.controlStateClass=Gh,r.$container.addClass(Gh),r.handlerInit(A.find(".fv__pdf-doc-handler-container")),r.initTransparencyGridChecked(),r.formFillerModule=new Yh(r),r.watermarkConfig=s.config.watermarkConfig;var c=r.customPermission_=s.customs.getDocPermissions||function(){return-1};n.setCustomPermission("standard",c),c=s.customs.getAdditionalPerm||function(){return-1},n.setCustomPermission("additional",c),n.setCustomPermission("replaceStandard",s.customs.getStandardPermissions);var u=function(e,t){if(t.getPDFDoc()===r.doc)try{var n=e[0];if(7===(n&&n.info.fieldType)){var i=t.getIndex(),o=r.getPDFPageRender(i),a=o.scale,s=o.rotate,A=o.containerVisibleRect,c=n.objectNumber;r.getAnnotRender(i,c).render(a,s,A)}else r.getPDFPageRender(t.getIndex()).redrawAnnotRenders(e)}catch(e){}},l=s.eventEmitter;l.on(ae.annotationAppearanceUpdated,r.annotationAppearanceUpdatedBind=function(e,t){u(e,t)}),l.on(ae.pagingSealUpdated,r.pagingSealUpdatedBind=function(e){e.forEach(function(e){var t=e.getPDFPage();u([e],t)})}),l.on(ae.annotationMovedPosition,r.annotationMovedPositionBind=function(e,t,n){if(t.getPDFDoc()===r.doc)try{r.getPDFPageRender(t.getIndex()).movedAnnotRenders(e,n)}catch(e){}}),l.on(ae.annotationRemoved,r.annotationRemovedBind=function(e,t){if(t.getPDFDoc()===r.doc)try{r.getPDFPageRender(t.getIndex()).removeAnnotRenders(e)}catch(e){}}),l.on(ae.flattenAnnotation,r.annotationFlattenBind=function(e,t){if("widget"!==t[t.length-1].getType())try{r.getPDFPageRender(e).removeAnnotRenders(t)}catch(e){}}),l.on(ae.annotationImported,r.updateImportedAnnotsBind=function(e,t){if(e===n&&r.pagesRender)try{r.pagesRender.setRenderFlags(1),r.setRebuildAnnotsFlag(!1),r.pagesRender.renderVisiblePages().catch(function(e){0})}catch(e){Jh.warn(e)}}),l.on(ae.xfaFormImported,r.onXFAImported=function(){r.pagesRender.setRenderFlags(7),r.pagesRender.renderVisiblePages()}),l.on(ae.xfaFormReset,r.onXFAReset=function(){r.pagesRender.setRenderFlags(7),r.pagesRender.renderVisiblePages()}),l.on(ae.pageRotationChange,r.rotationPageBind=function(e,t,n){if(e.getPDFDoc()===r.doc)try{var i=r.pagesRender.pageRenders[e.getIndex()];i.$annotsContainer.addClass("fv__viewer-annot-container-hide"),i.clearCanvasCache(!0),i.renderLayout().then(function(e){r.pagesRender.setRenderFlags(7),r.pagesRender.renderVisiblePages()})}catch(e){console.error(e)}}),l.on(ae.pagesRotated,r.rotationPagesBind=function(e,t,n){e.forEach(function(e,i){r.rotationPageBind(e,t,n[i])})}),l.on(ae.customDataAdd,r.customDataAddBind=function(e,t,n){if(r.doc.getId()===n)try{r.getPDFPageRender(t).addCustomRenders(e)}catch(e){}}),l.on(ae.customDataImported,r.customDataImportedBind=function(e){if(r.doc.getId()===e)try{r.pagesRender.setRenderFlags(32),r.pagesRender.renderVisiblePages().catch(function(e){0})}catch(e){}}),l.on(ae.customDataRemoved,r.customDataRemovedBind=function(e,t,n){if(r.doc.getId()===n)try{r.getPDFPageRender(t).removeCustomRenders(e)}catch(e){}}),l.on(ae.customDataUpdated,r.customDataUpdatedBind=function(e,t,n){if(r.doc.getId()===n)try{r.getPDFPageRender(t).updateCustomRenders(e)}catch(e){}}),l.on(ae.pagesBoxChange,r.pagesBoxChangeEventListener=function(e){var t,n;null===(t=r.pagesRender)||void 0===t||t.setRenderFlags(8),null===(n=r.pagesRender)||void 0===n||n.clearPagesRenderCache(),r.pdfViewer.redraw(!0)}),l.on(ae.pageRemoved,r.pageRemovedListener=function(e){var t=r.getVisiblePageIndexes(),n=t.indexOf(e);n>-1&&t.splice(n,1);for(var i=r.doc.getPageCount(),o=0;o<t.length;o++)t[o]>e&&t[o]<=i&&(t[o]-=1);r.visiblePageRendersStore.dispatch(t)}),l.on(ae.pagesRemoved,r.pagesRemovedListener=function(e){var t=e.reduce(function(e,t){return 1===t.length?e.concat(t[0]):t.length>1?e.concat(function(e,t,n){n||(n=e>t?-1:1);for(var i=[],r=e;r<t;r+=n)i.push(r);return i.push(t),i}(t[0],t[1]-1)):e},[]),n=r.visiblePageRendersStore.getCurrentValue([]);t.forEach(function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)});var i=r.doc.getPageCount();t.forEach(function(e){for(var t=0;t<n.length;t++)n[t]>e&&n[t]<=i?n[t]-=1:n[t]>i&&n.splice(t,1)}),r.visiblePageRendersStore.dispatch(n)}),r.noInteraction=r.getUserPermission().checkCannotModifyExcludeAssemble()&&!r.doc.hasSignature(),l.on(ae.permissionChanged,r.permissionChangedBind=function(){var e=r.getUserPermission().checkCannotModifyExcludeAssemble();r.noInteraction=e&&!r.doc.hasSignature()}),l.on(ae.switchStateHandler,r.switchStateHandlerBind=function(e,t){e.getStateName()!==yn&&r.resetReadModeData&&r.quitReadMode(!1)}),r.docHandler=new Ih(s,r),r.allCommentVisible=!0,r.rebuildAnnotsFlag=!0,l.on("annot-filter",r.filterAnnot=function(e){"start"==e&&(r.forceLoadAnnot=1)}),r.isDocRendered=!1,r.renderingDefer=new z.Defer;var d=function(e,t){e.children.forEach(function(e){var n=e.objNum,i=e.pageIndex;if(!t||0===t.length||t.includes(n)){var o=r.getPDFPageRender(i),a=o.articleBeads[n];a&&(a.destroy(),delete o.articleBeads[n])}})};return l.on(ae.articleBeadRemoved,r.articleBeadRemovedBind=function(e,t){d(t,e)}),l.on(ae.articleThreadRemoved,r.articleThreadRemovedBind=function(e){d(e)}),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setRebuildAnnotsFlag",value:function(e){this.rebuildAnnotsFlag=e}},{key:"getRebuildAnnotsFlag",value:function(){return this.rebuildAnnotsFlag}},{key:"_updateVisiblePageRenders",value:function(e,t){if(!this.isDestroyed){var n=this.visiblePageRendersStore.getCurrentValue(),i=n.indexOf(e);if(t){if(i>-1)return;n.push(e)}else i>-1&&n.splice(i,1);this.visiblePageRendersStore.dispatch(n)}}},{key:"getVisiblePageIndexes",value:function(){return this.visiblePageRendersStore.getCurrentValue().filter(function(e){return!e.isDestroyed}).map(function(e){return e.index}).sort(function(e,t){return e-t})}},{key:"initTransparencyGridChecked",value:function(){var e=localStorage.getItem("PAGE_DISPLAY_DATA");if(e){var t=JSON.parse(e);this.doc.pageDisplayPreferences=t,this.doc.setPageDisplayPreferences(t)}}},{key:"getHandlerDOM",value:function(){return this.$doc.get(0)}},{key:"getBoundingClientRects",value:function(){var e=this.$container.find(".fv__pdf-view-mode-item"),t=this.viewerRender.scrollWrap.getScrollHost();t==window&&(t=document.body);for(var n="single-page-view-mode"===this.viewerRender.getViewMode().getName(),i=t.getBoundingClientRect(),r=[],o=0;o<e.length;o++){var a=e[o],s=O()(a).find(".fv__pdf-page-layout")[0].getBoundingClientRect();if(s.bottom>i.top&&s.top<i.bottom&&s.left<i.right&&s.right>i.left){var A={index:n?this.getCurrentPageIndex():o,scale:this.getPDFPageRender(o).scale,left:Math.max(i.left,s.left)-s.left,right:Math.min(i.right,s.right)-s.left,top:Math.max(i.top,s.top)-s.top,bottom:Math.min(i.bottom,s.bottom)-s.top};A.x=A.left,A.y=A.top,A.height=A.bottom-A.top,A.width=A.right-A.left,r.push(A)}}return r}},{key:"handlerInit",value:function(e){var t=this;e.on("click",function(){t.unActiveAnnotRender()})}},{key:"getFormRender",value:function(){return this.formRender}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new e(this.pdfViewer)).docHandler(this)}},{key:"setViewMode",value:function(e){return this.pagesRender?this.pagesRender.setViewMode(e):Promise.resolve()}},{key:"getViewMode",value:function(){return this.pagesRender?this.pagesRender.getViewMode():void 0}},{key:"prevPage",value:function(){var e=this.getCurrentViewMode().getPrevPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"nextPage",value:function(){var e=this.getCurrentViewMode().getNextPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"goToPage",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.x,a=void 0===o?0:o,s=r.y,A=void 0===s?0:s,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments[1];u&&(t=u.width,n=u.height),this.isGoto=!0,e>=this.doc.getPageCount()?e=this.doc.getPageCount()-1:e<0&&(e=0);var l=this.pagesRender,d=l.getPDFPageRender(e);if(d)return d.getPDFPage().then(function(r){return l.getPageScale(e,i.scale).then(function(e){if(c){if(void 0!==t){var o=r.getDeviceRect({left:a,right:a+t,top:A+n,bottom:A},e,i.rotation);a=o.left,A=o.top,o.right<a&&(a=o.right),o.bottom<A&&(A=o.bottom)}else{var s=(0,M._)(r.getDevicePoint([a,A],e,i.rotation),2),u=s[0],l=s[1],d=r.info.height;(A>d||l<0)&&(l=0),a=u,A=l}return[e,a,A]}return[e,a,A]})}).then(function(t){var n=(0,M._)(t,3),r=n[0],o=n[1],a=n[2],s=l.goToPage(e,r,o,a);if("fitVisible"!==i.scale||!s)return s}).catch(function(e){0}).finally(function(){i.moveDebounce()});this.isGoto=!1}},{key:"setCurrentPageIndex",value:function(e){void 0!==e&&this.pageNumberChange(e)}},{key:"getCurrentPageIndex",value:function(){var e=this.getCurrentViewMode();return e&&"function"==typeof e.getCurrentPageIndex?e.getCurrentPageIndex():0}},{key:"pageNumberChange",value:function(e){var t=this,n=this.getPDFPageRender(e);if(n){var i=n.intersectionState.getCurrentValue();if(i&&0===i.intersectionRect.height){var r=this.getVisiblePageIndexes().find(function(n){if(n===e)return!1;var i=t.getPDFPageRender(n);if(i){var r=i.intersectionState.getCurrentValue();return r&&r.intersectionRect.height>0}return!1});r>-1&&(e=r)}}if(e>=0&&this.currentPageNumber!==e){var o=0!=this.pdfViewer.enablePageAction;if(this.lastVIs&&o){var a=this.getPDFPageRender(this.currentPageNumber);a&&a.triggerAction(18),this.getPDFPageRender(e).triggerAction(17)}this.lastPageNumber=this.currentPageNumber,this.currentPageNumber=e,this.pdfViewer.eventEmitter.emit(ae.pageNumberChange,e+1)}}},{key:"bindEvent",value:function(){}},{key:"destroy",value:function(e){if(!this.isDestroyed){this.formFillerModule.destroy();var n=this.pdfViewer.eventEmitter;this.pagesRender&&this.pagesRender.destroy(),this.visiblePageRendersStore.destroy(),(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.$doc.remove(),this.zoomToTaskExecutor.destroy(),this.zoomToTaskExecutor=null,n.off(ae.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),n.off(ae.annotationMovedPosition,this.annotationMovedPositionBind),n.off(ae.annotationRemoved,this.annotationRemovedBind),n.off(ae.flattenAnnotation,this.annotationFlattenBind),n.off(ae.annotationImported,this.updateImportedAnnotsBind),n.off(ae.xfaFormImported,this.onXFAImported),n.off(ae.xfaFormReset,this.onXFAReset),n.off(ae.pageRotationChange,this.rotationPageBind),n.off(ae.pagesRotated,this.rotationPagesBind),n.off(ae.customDataAdd,this.customDataAddBind),n.off(ae.customDataImported,this.customDataImportedBind),n.off(ae.customDataRemoved,this.customDataRemovedBind),n.off(ae.customDataUpdated,this.customDataUpdatedBind),n.off(ae.permissionChanged,this.permissionChangedBind),n.off(ae.pagesBoxChange,this.pagesBoxChangeEventListener),n.off(ae.pageRemoved,this.pageRemovedListener),n.off(ae.pagesRemoved,this.pagesRemovedListener),n.off("annot-filter",this.filterAnnot),n.off(ae.switchStateHandler,this.switchStateHandlerBind),n.off(ae.articleBeadRemoved,this.articleBeadRemovedBind),n.off(ae.articleThreadRemoved,this.articleThreadRemovedBind),n.off(ae.pagingSealUpdated,this.pagingSealUpdatedBind);var i=null;if(e&&e.destroyCurrentDoc){var r=this.doc.id;this.pdfViewer.getWebPDFJR().then(function(e){e.pdfDocCacheMap.delete(r)}),i=this.doc.destroy()}return this.pdfDocRendering.destroy(),this.pdfDocRendering=null,this.pagesRender=this.docCustomRender=this.stateHandler=null,this.annotationAppearanceUpdatedBind=null,this.annotationMovedPositionBind=null,this.annotationRemovedBind=null,this.updateImportedAnnotsBind=null,this.updateAddAnnotsBind=null,this.rotationPageBind=null,this.rotationPagesBind=null,this.customDataAddBind=null,this.customDataImportedBind=null,this.customDataRemovedBind=null,this.customDataUpdatedBind=null,this.permissionChangedBind=null,this.pagesBoxChangeEventListener=null,this.pageRemovedListener=null,this.pagesRemovedListener=null,this.switchStateHandlerBind=null,this.articleBeadRemovedBind=null,this.articleThreadRemovedBind=null,this.docHandler.destroy(),i}}},{key:"rendering",value:function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()}},{key:"rendered",value:function(){this.$doc.removeClass("fv__doc-rendering"),this.pdfDocRendering&&this.pdfDocRendering.rendered(),this.isDocRendered=!0,this.renderingDefer.resolve()}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation;return this.scale=t,this.rotation=n,this.rendering(),this.doc&&this.doc.setColors(Mh()),this.doc.bookmarkService.switchDoc(this.doc),Promise.resolve(this.docCustomRender.render(t,n)).then(function(t){if(!1!==t)return e.doc.getPageSizes(0,e.pdfViewer.config.sizeCount).then(function(t){return e.doc.getAllLayerNodeChildrenCount()}).then(function(t){if(!(t>=8e3))return e.doc.getLayerNodesJson()}).then(function(t){return e.doc.getTemplates()}).then(function(t){if(e.doc&&!e.doc.isDestroyed){var i=e.pagesRender=e.pagesRender||new bh(e.$container,e.doc,e);return function(){if(!e.pdfViewer.enableOpenAction)return Promise.resolve();var t=localStorage.getItem("PAGE_DISPLAY_DATA");return e.doc.getViewerPreference().then(function(n){var i=n.uiLayout,r=t?JSON.parse(t):void 0;if(r&&r.navigation&&"useInitialView"!==r.navigation&&(i=e.transfUiLayoutKey(r.navigation)),e.executeNavigationAction(i),"FullScreen"===i&&(i=n.viewerPreference.NonFullScreenPageMode,e.executeNavigationAction(i)),e.executeLayeroutAction(n.pageLayout,r),r){var o=r.customMarginChecked,a=r.margin,s=r.customFacingChecked,A=r.facingPages;o||(a=10),e.pdfViewer.setCustomMargin(a);["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"].forEach(function(t){var n="multipage-"+e.pdfViewer.viewModeManager.ViewModes[t].getName();s?e.pdfViewer.store.dispatch(n,A):e.pdfViewer.store.dispatch(n,2)})}})}().then(function(t){return i.preRender(e.scale,n),e.pdfViewer.enableOpenAction?(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return this.pdfViewer.enableOpenAction?this.isDestroyed?[2,Promise.resolve(!1)]:[4,this.doc.doOpenAction()]:[2,Promise.resolve(!1)];case 1:return[2,e.sent()]}})}).call(e):Promise.resolve(!1)}).then(function(t){if(!t)return i.render(e.scale,n)}).then(function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).docHandler(e)}Object.keys(e.doc.metadata).length<2&&e.doc.getMetadata(),"fitWidth"!=e.scale&&e.pdfViewer.eventEmitter.emit(ae.updateZoomMode,e.scale)})}})}).finally(function(){e.rendered()})}},{key:"canAnswerForm",value:function(){return!!this.doc&&!!(this.doc.info.oriPerm&(Xt.annotForm|Xt.fillForm|Xt.modify))}},{key:"hidden",value:function(){this.$doc.addClass($h)}},{key:"show",value:function(){this.$doc.removeClass($h)}},{key:"zoomTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.__zooming_task_count++,this.pdfViewer.getStore().dispatch(Wh,!0),this.lastScale=this.scale;var r=this.scale;this.scale=t;var o=Promise.resolve(n);return n?"fitVisible"==t&&(o=this.getPDFPageRender(n.pageIndex).getPDFPage().then(function(e){return e.calcPageContentBBox(0)}).then(function(e){return n.x=e.left,n})):o="fitVisible"!==t?this.getViewBoxCenter(!0,"topLeft").then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];if(n)return{pageIndex:n.getIndex(),x:i[0],y:i[1]}}):this.getViewerStartPosition(),o.then(function(t){if(t)return Promise.all([e.pagesRender.getPageScale(0,r,e.rotation),e.getScaleRatio(1)]).then(function(n){var o=(0,M._)(n,2),a=o[0],s=o[1],A=function(t,n,i){return n.eventEmitter.emit(ae.beforeZoomTo,t,a),e.pagesRender.zoomTo(e.scale,i).then(function(){return n.eventEmitter.emit(ae.zoomToSuccess,e.scale,r,s,a),t},function(i){return e.scale=r,n.eventEmitter.emit(ae.zoomToFailed,t,e.scale),Promise.reject(i)})};return i?e.zoomToTaskExecutor.exec(A,[s,e.pdfViewer,t],e):A(s,e.pdfViewer,t)})}).finally(function(){e.__zooming_task_count--,0===e.__zooming_task_count&&e.pdfViewer.getStore().dispatch(Wh,!1)})}},{key:"getScaleRatio",value:function(e){var t=this,n=function(){switch((0,F._)(t.scale)){case"number":return t.scale;case"string":return t.pagesRender?t.pagesRender.getScaleRatio(t.scale,t.rotate):1;default:return 1}};return e?Promise.resolve(n()):this.zoomToTaskExecutor.waitForLastTask().then(n,n)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotation}},{key:"rotateTo",value:function(e,t){var n=this.rotation;return this.rotation=(e%360+360)%360,this.applyRotation(n,this.rotation,t)}},{key:"applyRotation",value:function(e,t){return(0,x._)(function(e,t){var n,i,r,o,a,s,A,c,u,l,d,h,f,p=arguments;return(0,N.Jh)(this,function(g){switch(g.label){case 0:return n=p.length>2&&void 0!==p[2]?p[2]:{},0===((t-e)%360+360)%360?[2]:((i=this.pdfViewer.eventEmitter).emit(ae.beforeDocumentRotation,t,e),r=(0,z.isValidNumber)(n.pageIndex)?n.pageIndex:this.getCurrentPageIndex(),o=this.getPDFPageRender(r),a=0,s=0,null==n.offsetX||null==n.offsetY?[3,4]:(a=(0,z.isValidNumber)(n.offsetX)?n.offsetX:0,s=(0,z.isValidNumber)(n.offsetY)?n.offsetY:0,[4,this.pagesRender.rotateTo(t)]));case 1:return g.sent(),[4,o.transformPoint({point:{x:a,y:s},srcType:Xd.page,destType:Xd.pdf})];case 2:return A=g.sent(),[4,this.goToPage(r,A,!0)];case 3:return g.sent(),[3,13];case 4:return null==n.baseX||null==n.baseY?[3,9]:(s=(0,z.isValidNumber)(n.baseX)?n.baseX:0,s=(0,z.isValidNumber)(n.baseY)?n.baseY:0,[4,o.transformPoint({point:{x:a,y:s},srcType:Xd.page,destType:Xd.pdf})]);case 5:return c=g.sent(),[4,this.pagesRender.rotateTo(t)];case 6:return g.sent(),[4,o.transformPoint({point:c,srcType:Xd.pdf,destType:Xd.page})];case 7:return u=g.sent(),l=this.getValidContainerVisibleRect(),d=u.x-(l.left/2+l.right/2),h=u.y-(l.top/2+l.bottom/2),[4,this.goToPage(r,{x:Math.max(0,d),y:Math.max(0,h)})];case 8:return g.sent(),[3,13];case 9:return[4,this.pagesRender.rotateTo(t)];case 10:return g.sent(),[4,o.transformPoint({point:{x:0,y:0},srcType:Xd.page,destType:Xd.pdf})];case 11:return f=g.sent(),[4,this.goToPage(r,f,!0)];case 12:g.sent(),g.label=13;case 13:return i.emit(ae.afterDocumentRotation,t,e),[2]}})}).apply(this,arguments)}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getPDFPageRender",value:function(e){try{return this.pagesRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getCurrentViewMode",value:function(){try{return this.pagesRender.viewMode}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)}catch(e){return null}}},{key:"getAllAnnotRender",value:function(){for(var e=this.doc.getPageCount(),t=[],n=0;n<e;n++)t=t.concat(this.getPDFPageRender(n).getAllAnnotRender());return t}},{key:"unActiveAnnotRender",value:function(e){if(e)return e.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(e){}}},{key:"setCurrentAnnotHandler",value:function(){var e=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName(),t=this.pdfViewer.getAllActiveElements().reverse();try{t.sort(function(e,t){return e.annot.getId()>t.annot.getId()?1:-1})}catch(e){}"edit-all"!==e&&t.length?(t.forEach(function(e){e.shapeControl&&O()(e.shapeControl.ui).removeClass("current-annot")}),this.pdfViewer.isMultiSelectActive()?this.currentAnnot=t[t.length-1]:this.currentAnnot=t[0],this.currentAnnot.shapeControl&&O()(this.currentAnnot.shapeControl.ui).addClass("current-annot")):this.currentAnnot=null}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.watermarkConfig}},{key:"getUserPermission",value:function(){var e=this.doc,t=this.customPermission_(e),n=e.getPermissionsSync();return new xh(t&n)}},{key:"getOffsetInfo",value:function(){var e,t=0,n=0,i=0,r=this.pagesRender;if(!r)return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then(function(n){var i=(0,M._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotate:e.getRotation()}});for(var o=this.pdfViewer.$ui,a=o.parent()[0].getBoundingClientRect(),s=r.viewMode.getVisibleIndexes(),A=0,c=s.length;A<c;A++){t=s[A];var u=this.getCurrentViewMode().constructor.getName(),l=t;"single-page-view-mode"===u&&(l=0);var d=o.find(".fv__pdf-page-layout").eq(l)[0].getBoundingClientRect();if(!(d.bottom<=a.top)){(n=a.left-d.left)<0&&(n=0),(i=a.top-d.top)<0&&(i=0);break}}return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then(function(n){var i=(0,M._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotation:e.getRotation()}})}},{key:"getViewerStartPosition",value:function(e){return void 0===e&&(e=this.getCurrentPageIndex()),this.doc.getPageByIndex(e).then(function(t){return t.calcPageContentBBox(kt.CalcContentsBox).then(function(n){n&&void 0!==n.left&&n.left!==n.right&&n.top!==n.bottom||(n={left:0,right:t.info.mediaWidth,top:t.info.mediaHeight,bottom:0});var i=t.getRotation(),r=[n.left,n.top];switch(i){case 0:r=[n.left,n.top];break;case 1:r=[n.left,n.bottom];break;case 2:r=[n.right,n.bottom];break;case 3:r=[n.right,n.top]}return{pageIndex:e,x:r[0],y:r[1],rotation:i}})})}},{key:"getViewBoxCenter",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",i=this.getCurrentPageIndex(),r=this.viewerRender.scrollWrap.getScrollHost(),o=(e=r===window?{x:0,y:0,width:window.innerWidth,height:window.innerHeight}:r.getBoundingClientRect()).x+e.width/2,a=e.y+e.height/2,s={left:o-20,right:o+20,top:a-20,bottom:a+20},A=function(e){if(!e)return Promise.resolve();var n=e.$ui.get(0).getBoundingClientRect(),i=n.x,r=n.y,A=r+n.height,c=n.right;return Fh.isOverlap(s,{left:i,right:c,bottom:A,top:r},!1)?e.getPDFPage().then(function(n){if(t){var s=Math.max(0,o-i),A=Math.max(0,a-r);return Promise.all([n,n.reverseDevicePoint([s,A],e.getScale(),e.getRotation())])}return Promise.all([n,[o-i,a-r]])}):void 0};if("topLeft"==n){if(!this.pagesRender)return Promise.resolve([0,[0,0]]);var c=this.pagesRender.viewMode.getVisibleIndexes(),u=c.length>0&&(-1===c.indexOf(i)||z.isMobile)?c[0]:i,l=this.getPDFPageRender(u);if(!l)return Promise.resolve([null,[0,0]]);var d=l.page,h=l.$ui.get(0).getBoundingClientRect();o=Math.max(e.x,h.x),a=Math.max(e.y,h.y);var f=Math.max(0,o-h.x),p=Math.max(0,a-h.y);return d?Promise.all([d,d.reverseDevicePoint([f,p],l.getScale(),l.getRotation())]):l.getPDFPage().then(function(e){return Promise.all([e,e.reverseDevicePoint([f,p],l.getScale(),l.getRotation())])})}for(var g=i;g<this.doc.getPageCount();g++){var v=A(this.getPDFPageRender(g));if(v)return v}for(var m=i-1;m>-1;m--){var y=A(this.getPDFPageRender(m));if(y)return y}return this.doc.getPageByIndex(i).then(function(e){return Promise.all([e,[0,0]])})}},{key:"renderPages",value:function(e,t){return this.pagesRender.renderPages(e,t).catch(function(e){0})}},{key:"moveDebounce",value:function(){var e=this;this._moveDebounce||(this._moveDebounce=(0,z.debounce)(function(){e.move()},z.isChromiumEdge||z.isChrome||z.isFirefox||z.isSafari?20:50,!1)),this._moveDebounce()}},{key:"move",value:function(){var e=this,t=this;if(this.isDestroyed||!this.pagesRender)return Promise.resolve();var n=this.getCurrentViewMode(),i=this.pagesRender.pageRenders,r=this.getCurrentPageIndex();if(r>=i.length)return this.goToPage(r-1);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.isDestroyed?[]:t.visiblePageRendersStore.takeWhile().then(function(){var n=t.getVisiblePageIndexes();return 0===n.length&&e<10?new Promise(function(e){return setTimeout(e,0)}).then(function(){return o(e+1)}):n.sort(function(e,t){return e-t})})};return o().then(function(t){var i=e.currentPageNumber;e.setCurrentPageIndex(r);var a;return(a=t,(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.pagesRender.moveTo(a)];case 1:i.sent(),e=5,i.label=2;case 2:return e>=0?[4,o()]:[3,7];case 3:return t=i.sent(),n=t.filter(function(e){return-1===a.indexOf(e)}),n.length>0?[4,this.pagesRender.moveTo((0,R._)(new Set((0,R._)(a).concat((0,R._)(n)))))]:[3,5];case 4:return i.sent(),[3,6];case 5:return[3,7];case 6:return a=t,e--,[3,2];case 7:return[2]}})}).call(e)).then(function(){var r=e.currentPageNumber;if(0!=e.pdfViewer.enablePageAction){var o=e,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;e.forEach(function(e){o.getPDFPageRender(e)&&o.getPDFPageRender(e).triggerAction(t)})};if(e.lastVIs){var s=e.lastVIs.filter(function(e){return-1==t.indexOf(e)});a(s,20),a(s=t.filter(function(t){return-1==e.lastVIs.indexOf(t)}))}else a(t),a(t,17)}(e.lastVIs=t,"fitVisible"===e.scale&&n&&r!==i)&&("single-page-view-mode"===n.constructor.getName()&&e.zoomTo("fitVisible"))})})}},{key:"getContainerOffsetLeftTop",value:function(){var e=this._offsetTop;if("number"==typeof e)return{left:this._offsetLeft,top:e};e=0;for(var t=0,n=this.$container[0],i=this.viewerRender.scrollWrap.getScrollHost();n&&(e+=n.offsetTop,t+=n.offsetLeft,(n=n.offsetParent)!==i););return{left:t,top:e}}},{key:"getContainerVisibleRect",value:function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,i=this.viewerRender.scrollWrap.getScrollHost(),r=0,o=t,a=0,s=n;if((0,T._)(i,HTMLElement)){var A=i.getBoundingClientRect();r=Math.max(r,A.left),o=Math.min(o,A.right),a=Math.max(a,A.top),s=Math.min(s,A.bottom)}return{left:r,right:o,top:a,bottom:s}}},{key:"getValidContainerVisibleRect",value:function(){var e,t,n,i,r=document.documentElement,o=(r.clientWidth,r.clientHeight,this.viewerRender.scrollWrap.getScrollHost());if((0,z.isHTMLElement)(o)){var a=o.getBoundingClientRect();e=a.left,t=a.left+o.clientWidth,n=a.top,i=a.top+o.clientHeight}else((0,z.isWindowObject)(o)||(0,z.isDocument)(o))&&(e=0,n=0,t=document.body.clientWidth,i=document.body.clientHeight);return e=Math.max(0,e),n=Math.max(0,n),{left:e,right:t=Math.min(t,document.body.clientWidth),top:n,bottom:i=Math.min(i,document.body.clientHeight)}}},{key:"getContainerVisiblePageIndexes",value:function(){if(!this.viewerRender||!this.getViewMode())return[];switch(this.viewerRender.getViewMode().getName()){case"single-page-view-mode":case"facing-continuous-page-view-mode":case"facing-page-view-mode":case"continuous-view-mode":return this.getViewMode().getVisibleIndexes()}for(var e,t,n,i,r=this.getCurrentPageIndex(),o=O()(this.pagesRender.pageDOMs),a=o.length,s=r-1,A=r,c=[],u=this.getContainerVisibleRect(),l=u.left,d=u.right,h=u.top,f=u.bottom;;){if(!i&&A<a){var p=o[A],g=O()(p).find(".fv__pdf-page-container"),v=g.length>0?g[0].getBoundingClientRect():p.getBoundingClientRect();v.right>l&&v.left<d&&v.bottom>h&&v.top<f?(c.push(O()(p).index()),n=!0):n&&(i=!0),A++}else!i&&A>=a&&(i=!0);if(!t&&s>-1){var m=o[s],y=O()(m).find(".fv__pdf-page-container"),_=y.length>0?y[0].getBoundingClientRect():m.getBoundingClientRect();_.right>l&&_.left<d&&_.bottom>h&&_.top<f?(c.unshift(O()(m).index()),e=!0):e&&(t=!0),s--}else!t&&s<=-1&&(t=!0);if(i&&t)break}return c}},{key:"downloadFileSpec",value:function(e,t){this.doc.getFileSpecStream(e).then(function(e){Lh(e,t,"application/octet-stream")})}},{key:"downloadFileSpecByName",value:function(e,t){this.doc.getFileSpecStreamByName(e).then(function(e){Lh(e,t,"application/octet-stream")})}},{key:"performAction",value:function(e){return this.doc.triggerAdditionalAction(e)}},{key:"setPrintState",value:function(e){this._isPrinting=e}},{key:"isPrinting",value:function(){return this._isPrinting}},{key:"transfUiLayoutKey",value:function(e){var t="";switch(e){case"pageOnly":t="PageOnly";break;case"bookmarksPanelAndPage":t="UseOutlines";break;case"pagesPanelAndPage":t="UseThumbs";break;case"attachmentsPanelAndPage":t="UseAttachments";break;case"layersPanelAndPage":t="UseOC"}return t}},{key:"executeNavigationAction",value:function(e){this.pdfViewer.customs.executeNavigationAction(e,this.pdfViewer)}},{key:"executeLayeroutAction",value:function(e,t){if(1!=this.doc.getPageCount()){var n=e;if("Default"===n&&t&&t.defaultPageLayout)switch(t.defaultPageLayout){case"continuous":n="OneColumn";break;case"singlePage":n="SinglePage";break;case"facing":n="TwoPageLeft";break;case"continuous-Facing":n="TwoColumnLeft"}var i="";switch(n){case"SinglePage":i="single-page-view-mode";break;case"OneColumn":i="continuous-view-mode";break;case"TwoPageLeft":i="facing-page-view-mode";break;case"TwoColumnLeft":i="facing-continuous-page-view-mode"}i&&this.pdfViewer.viewModeManager.set(i)}}},{key:"executeScaleAction",value:function(e,t){var n={pageIndex:void 0,scale:void 0};if(!(e&&e.type===Ge.ActionType.goto||t))return n;var i,r=null==e?void 0:e.destination;if(r&&(n={pageIndex:i=r.pageIndex}),r&&void 0!==r.zoomMode&&"ZoomXYZ"!==r.zoomMode||r&&r.zoomFactor>0){var o=r.zoomFactor;switch(r.zoomMode){case"actualSize":o=1;break;case"ZoomFitPage":case"ZoomFitVert":o="fitHeight";break;case"ZoomFitHorz":o="fitWidth";break;case"ZoomFitBHorz":o="fitVisible"}n={pageIndex:i,scale:o}}else if(t){var a=t.zoom;switch(Number.isNaN(parseFloat(a))||(a/=100),t.zoom){case"autoMatic":case"fitWidth":a="fitWidth";break;case"actualSize":a=1;break;case"fitPage":a="fitHeight";break;case"fitVisible":a="fitVisible"}a&&(n={pageIndex:i,scale:a})}return n}},{key:"isHandReadArticles",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!e||JSON.parse(e).handReadArticles}},{key:"startReadMode",value:function(e){var t=this,n=this.pdfViewer,i=this.$doc,r=i.get(0),o=n.stateHandlerManager,a=o.currentStateHandler.getStateName(),s=this.scale,A=e.children,c=A[0].pageIndex,u=0,l=function(){var e=A[u],n=e.objNum,i=e.pageIndex,r=t.pagesRender.pageRenders[i].articleBeads[n];null==r||r.read(),u+=1};o.switchTo(yn),n.goToPage(c,0,0,!1).then(l),i.get(0).addEventListener("click",this.readArticle=function(e){t.isHandReadArticles()&&(O()(e.target).closest(".fv__pdf-page-annots-container").length>0||(u>=A.length?t.quitReadMode():l()))},{capture:!0}),this.readArticleCursor&&r.removeEventListener("mouseover",this.readArticleCursor),r.addEventListener("mouseover",this.readArticleCursor=function(e){var n=t.isHandReadArticles(),r=!!t.resetReadModeData;i.toggleClass("fv__cursor-frame",n&&r),i.find(".fv__pdf-page-handler-container").toggleClass("fv__cursor-frame",n&&r)}),this.isHandReadArticles()&&(i.addClass("fv__cursor-frame"),i.find(".fv__pdf-page-handler-container").addClass("fv__cursor-frame")),this.resetReadModeData={pageIndex:c,scale:s,statesName:a,thread:e},n.eventEmitter.emit(ae.articleEnterReadMode,e.objNum)}},{key:"quitReadMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.pdfViewer,n=this.$doc,i=t.getStateHandlerManager();n.get(0).removeEventListener("click",this.readArticle,{capture:!0}),n.get(0).removeEventListener("mouseover",this.readArticleCursor),n.removeClass("fv__cursor-frame"),n.find(".fv__pdf-page-handler-container").removeClass("fv__cursor-frame");var r=this.resetReadModeData,o=r.pageIndex,a=r.scale,s=r.statesName,A=r.thread;t.getPDFPageRender(o).$handler.find(".fv__mark-selection-blank").remove(),e&&i.switchTo(s),t.goToPage(o,0,0,!1).then(function(){t.zoomTo(a)}),t.eventEmitter.emit(ae.articleOutReadMode,A.objNum),this.resetReadModeData=null,this.readArticle=null,this.readArticleCursor=null}},{key:"fullscreen",value:function(){return function(e){e=e||document.querySelector("[name=pdf-viewer-container-with-ruler]");var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}()}},{key:"disableDragToScroll",value:function(){this.viewerRender.disableDragToScroll()}},{key:"enableDragToScroll",value:function(){this.viewerRender.enableDragToScroll()}},{key:"hideMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hideMarkupFlag=e;var n=this.pagesRender;n.viewMode.getVisibleIndexes();n.pageRenders.forEach(function(n){var i,r=n.annotsRender;r&&(t?(i=r).render.apply(i,(0,R._)(r.renderParams)):e?(r.backAnnots=r.showAnnots,r.showAnnots=new Set,r.annotFiltered=1):(Array.from(r.showAnnots).map(function(e){return r.backAnnots.add(e)}),r.showAnnots=r.backAnnots,r.backAnnots=new Set))})}},{key:"hasPermission",value:function(){var e,t,n,i=null!==(n=null===(e=(t=this.pdfViewer.customs).getDocPermissions)||void 0===e?void 0:e.call(t))&&void 0!==n?n:-1,r=Xt.modify|Xt.annotForm|Xt.fillForm;return this.doc.checkPermission(r)&&(-1===i||i&r)}}]),t}(X);function Kh(e){return"state-"+e}const Zh=qh;var Xh=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).viewerRender=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"getScrollHost",value:function(){return window}},{key:"scrollBy",value:function(e,t){this.getScrollHost().scrollBy(e,t)}},{key:"scrollTo",value:function(e,t){this.getScrollHost().scrollTo(e,t)}},{key:"getScrollOffsetTop",value:function(){return this.viewerRender.$ui[0].offsetTop}},{key:"getScrollOffsetLeft",value:function(){return this.viewerRender.$ui[0].offsetLeft}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getWidth",value:function(){var e=this.getScrollHost();return Qh(e)?document.documentElement.clientWidth:e.clientWidth}},{key:"getHeight",value:function(){var e=this.getScrollHost();return Qh(e)?document.documentElement.clientHeight:e.clientHeight}},{key:"getScrollTop",value:function(){var e=this.getScrollHost();return Qh(e)?document.scrollingElement?document.scrollingElement.scrollTop:e.scrollY||e.pageYOffset||0:e.scrollTop}},{key:"getScrollLeft",value:function(){var e=this.getScrollHost();return Qh(e)?document.scrollingElement?document.scrollingElement.scrollLeft:window.scrollX||window.pageXOffset||0:e.scrollLeft}},{key:"disable",value:function(e){if(this.disabled=e,e){var t=this.getScrollHost();t===document.body&&(t=document),this.scrollPosition={top:t.scrollTop,left:t.scrollLeft}}else this.scrollPosition=null}},{key:"addScrollEventListener",value:function(e){var t=this,n=this.getScrollHost();n===document.body&&(n=document);var i=function(i){var r,o;t.disabled?n.scrollTo(null===(r=t.scrollPosition)||void 0===r?void 0:r.left,null===(o=t.scrollPosition)||void 0===o?void 0:o.top):e(i,n)};n.addEventListener("scroll",i);var r=er,o=function(){n.removeEventListener("scroll",i),r()};return r=this.addDestroyHook(o),o}},{key:"getOffsetOfPageElement",value:function(e){var t=this.viewerRender.$ui[0].getBoundingClientRect(),n=e.getBoundingClientRect();return{left:n.left-t.left,top:n.top-t.top}}}]),t}(z.Disposable);function Qh(e){return(0,T._)(e,Window)||(0,T._)(e,Document)}var ef=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"docHandler",value:function(e){if(this.pdfViewer){var t=this.pdfViewer.getPDFViewerRender();t&&t.disableDragToScroll()}}},{key:"destroyDocHandler",value:function(){this.destroy()}},{key:"pageHandler",value:function(e){}},{key:"destroyPageHandler",value:function(){this.destroy()}},{key:"out",value:function(){this.pdfViewer.keyboard.activeDefaultBinde&&this.pdfViewer.keyboard.activeDefaultBinder()}}],[{key:"getStateName",value:function(){(0,z.notImplemented)()}},{key:"getKeyboardBinderName",value:function(){return null}},{key:"setParams",value:function(e,t){}}]),t}(z.Disposable);const tf=ef;function nf(e,t,n){var i=e.getBoundingClientRect();return[t-i.left,n-i.top]}function rf(e,t,n){var i,r=e[0],o=e[1],a=r+t,s=o+n;return a<r&&(i=r,r=a,a=i),s<o&&(i=o,o=s,s=i),{left:r,right:a,top:o,bottom:s}}var of="fv__mark-selection-blank",af="."+of;function sf(e){e.find(af).remove()}function Af(e){var t,n,i=e[e.length-1],r={};switch(i.rotation){case 0:n=2*(t=i.top-i.bottom)/5,r.left=i.right-n,r.right=i.right+n,r.top=(i.top+i.bottom)/2,r.bottom=r.top-t;break;case 3:t=4*(n=i.right-i.left)/5,r.left=(i.right+i.left)/2,r.right=r.left+n,r.top=i.top+t/2,r.bottom=r.top-t;break;case 2:n=2*(t=i.top-i.bottom)/5,r.left=i.left-n,r.right=i.left+n,r.bottom=(i.top+i.bottom)/2,r.top=r.bottom+t;break;case 1:t=4*(n=i.right-i.left)/5,r.right=(i.right+i.left)/2,r.left=r.right-n,r.top=i.bottom+t/2,r.bottom=r.top-t}return{rect:r,rotate:i.rotation*Math.PI/2}}function cf(e,t){(t||e.$handler).find(".fv__mark-text-selection-range").remove()}function uf(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove(),cf(e,i);var r={top:Math.min(t[1],n[1]),left:Math.min(t[0],n[0]),width:Math.abs(t[0]-n[0]),height:Math.abs(t[1]-n[1])};i.append(O()('<div class="fv__mark-text-selection-range"></div>').css(r))}function lf(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}}function df(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}}const hf=function(e,t){var n=e.getBoundingClientRect(),i=t.srcEvent,r=lf(i),o=df(i);return{x:r-n.left-t.deltaX,y:o-n.top-t.deltaY}};var ff="update-dbl-click-data",pf=function(){function e(){(0,C._)(this,e),(0,U._)(this,"store",new z.Store)}return(0,D._)(e,[{key:"dispatchDblClickData",value:function(e){var t=this;this.store.dispatch(ff,e).finally(function(){t.store.dispatch(ff,null)})}},{key:"takeWhileDblClickDataReturn",value:function(e){var t=this.store.subscribe(ff,function(n){n&&(e(n),t())})}}]),e}(),gf=function(){function e(){(0,C._)(this,e),this.events={}}return(0,D._)(e,[{key:"register",value:function(e,t,n){for(var i=(0,T._)(t,Array)?t:[t],r=0;r<i.length;r++)this._addEventData(e,i[r],n);return this._addKeydownEvent(),this}},{key:"unregister",value:function(e,t){for(var n=0,i=t?(0,T._)(t,Array)?t:[t]:Object.keys(this.events),r=0;r<i.length;r++)n=this._removeEventData(e,i[r]);0===n&&(this.keydownEvent&&this.keydownEvent.destroy(),this.keydownEvent=void 0,this.mouseoverEvent&&this.mouseoverEvent.destroy(),this.mouseoverEvent=void 0)}},{key:"_addEvent",value:function(e,t,n){if(e&&t){var i=n||document;i.addEventListener(e,t);return{destroy:function(){i.removeEventListener(e,t)}}}}},{key:"_addKeydownEvent",value:function(){var e=this;this.keydownEvent||(this.mouseoverEvent=this._addEvent("mouseover",function(t){e.mouseoverElement=t.target},document),this.keydownEvent=this._addEvent("keydown",function(t){var n=e._matchEventData(e._getKeyFromEvent(t));n&&n(t)}))}},{key:"_addEventData",value:function(e,t,n){this.events[t]||(this.events[t]=[]);for(var i=this.events[t],r=0;r<i.length;r++){if(i[r][0]===e)return void console.error("Duplicate binding of shortcut key：",t,", on dom:",e)}this.events[t].push([e,n])}},{key:"_removeEventData",value:function(e,t){for(var n=this.events[t]||[],i=0;i<n.length;i++){if(n[i][0]===e){n.splice(i,1),0===n.length&&delete this.events[t];break}}return Object.keys(this.events).length}},{key:"_matchEventData",value:function(e){var t,n=this,i=this._getPrevKey(),r=this.events,o=i?"".concat(i,",").concat(e):"",a=function(e){if(!e)return null;for(var t in r)if(n._isKeyEqual(t,e))return r[t];return null};return(t=a(e)||a(o))?this._removePrevKey():this._addPrevKey(o||e),this._matchEventCallback(t)}},{key:"_matchEventCallback",value:function(e){if(!e||0===e.length)return null;var t=e.filter(function(e){var t=e[0];if(t===document)return!0;var n=t.getBoundingClientRect();return n.x+n.y+n.width+n.height>0});e.length>1&&t.sort(function(e,t){var n=e[0],i=t[0];return n.contains(i)?-1:i.contains(n)?1:0}).reverse();for(var n=[document.activeElement,this.mouseoverElement],i=0;i<n.length;i++){var r=n[i];if(r)for(var o=["INPUT","TEXTAREA"].includes(r.nodeName)||"true"===r.contentEditable,a=0;a<t.length;a++){var s=t[a],A=s[0],c=s[1];if(A===r)return c;if(!o&&A.contains(r))return c}}}},{key:"_addPrevKey",value:function(e){var t=this;this._removePrevKey(),this._prev_key=e,this._prev_key_timer=setTimeout(function(){t._removePrevKey()},2e3)}},{key:"_getPrevKey",value:function(){return this._prev_key}},{key:"_removePrevKey",value:function(){this._prev_key=void 0,this._prev_key_timer&&clearTimeout(this._prev_key_timer),this._prev_key_timer=void 0}},{key:"_getKeyFromEvent",value:function(e){var t=e.key,n=(e.keyCode,e.code,e.altKey),i=e.ctrlKey,r=e.shiftKey,o=e.metaKey,a=[t];return n&&"Alt"!==t&&a.unshift("Alt"),i&&"Control"!==t&&a.unshift("Ctrl"),r&&"Shift"!==t&&a.unshift("Shift"),o&&"Meta"!==t&&a.unshift("Meta"),a.join("+")}},{key:"_isKeyEqual",value:function(e,t){return e=e.toLowerCase().replaceAll("control","ctrl").replaceAll("escape","esc"),t=t.toLowerCase().replaceAll("control","ctrl").replaceAll("escape","esc"),e.indexOf("+")>-1&&t.indexOf("+")>-1?e.split("+").sort(function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)?-1:e.charCodeAt(0)<t.charCodeAt(0)?1:0}).join("+")===t.split("+").sort(function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)?-1:e.charCodeAt(0)<t.charCodeAt(0)?1:0}).join("+"):e===t}}],[{key:"getInstance",value:function(){return window.Shortcut?window.Shortcut:window.Shortcut=new e}}]),e}();const vf=gf.getInstance();var mf,yf=2147483647,_f=36,bf=/^xn--/,wf=/[^\0-\x7F]/,kf=/[\x2E\u3002\uFF0E\uFF61]/g,xf={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pf=Math.floor,Cf=String.fromCharCode;function Df(e){throw new RangeError(xf[e])}function Ef(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var r=function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(kf,".")).split("."),t).join(".");return i+r}function Sf(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var If=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:_f},Tf=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},Mf=function(e,t,n){var i=0;for(e=n?Pf(e/700):e>>1,e+=Pf(e/t);e>455;i+=_f)e=Pf(e/35);return Pf(i+36*e/(e+38))},Rf=function(e){var t,n=[],i=e.length,r=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var A=0;A<s;++A)e.charCodeAt(A)>=128&&Df("not-basic"),n.push(e.charCodeAt(A));for(var c=s>0?s+1:0;c<i;){for(var u=r,l=1,d=_f;;d+=_f){c>=i&&Df("invalid-input");var h=If(e.charCodeAt(c++));h>=_f&&Df("invalid-input"),h>Pf((yf-r)/l)&&Df("overflow"),r+=h*l;var f=d<=a?1:d>=a+26?26:d-a;if(h<f)break;var p=_f-f;l>Pf(yf/p)&&Df("overflow"),l*=p}var g=n.length+1;a=Mf(r-u,g,0==u),Pf(r/g)>yf-o&&Df("overflow"),o+=Pf(r/g),r%=g,n.splice(r++,0,o)}return(t=String).fromCodePoint.apply(t,(0,R._)(n))},Ff=function(e){var t=[],n=(e=Sf(e)).length,i=128,r=0,o=72,a=!0,s=!1,A=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;l<128&&t.push(Cf(l))}}catch(e){s=!0,A=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw A}}var d=t.length,h=d;for(d&&t.push("-");h<n;){var f=yf,p=!0,g=!1,v=void 0;try{for(var m,y=e[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var _=m.value;_>=i&&_<f&&(f=_)}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}var b=h+1;f-i>Pf((yf-r)/b)&&Df("overflow"),r+=(f-i)*b,i=f;var w=!0,k=!1,x=void 0;try{for(var P,C=e[Symbol.iterator]();!(w=(P=C.next()).done);w=!0){var D=P.value;if(D<i&&++r>yf&&Df("overflow"),D===i){for(var E=r,S=_f;;S+=_f){var I=S<=o?1:S>=o+26?26:S-o;if(E<I)break;var T=E-I,M=_f-I;t.push(Cf(Tf(I+T%M,0))),E=Pf(T/M)}t.push(Cf(Tf(E,0))),o=Mf(r,b,h===d),r=0,++h}}}catch(e){k=!0,x=e}finally{try{w||null==C.return||C.return()}finally{if(k)throw x}}++r,++i}return t.join("")},Nf={version:"2.3.1",ucs2:{decode:Sf,encode:function(e){return(mf=String).fromCodePoint.apply(mf,(0,R._)(e))}},decode:Rf,encode:Ff,toASCII:function(e){return Ef(e,function(e){return wf.test(e)?"xn--"+Ff(e):e})},toUnicode:function(e){return Ef(e,function(e){return bf.test(e)?Rf(e.slice(4).toLowerCase()):e})}};const Lf=Nf;var Of="rectangle",jf=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank:not(.rectangle)").remove();for(var r=O()(document.createDocumentFragment()),o=i.get(0).getBoundingClientRect(),a=0,s=t.length;a<s;a++){var A=t[a],c={top:A.top/o.height*100+"%",left:A.left/o.width*100+"%",width:(A.right-A.left)/o.width*100+"%",height:(A.bottom-A.top)/o.height*100+"%"};r.append(O()('<mark class="fv__mark-selection-blank" type="'+n+'"></mark>').css(c))}i.append(r)},Bf=function(e){var t;null===(t=e.$handler.find(".fv__text-link"))||void 0===t||t.hide()},Vf=function(e,t,n,i){var r=rf(t,n,i);return e.getTextRectsAtRect(r).then(function(t){return Promise.all([e.getPDFPage(),t]).then(function(t){var n=(0,M._)(t,2),i=n[0],r=n[1],o=e.transformRectArray(i,r);return jf(e,o,Tt.Text),{page:i,rectArray:r,rectArrayInPixel:o}})})},Hf=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove();var r=i.get(0).getBoundingClientRect();if("object"==(void 0===t?"undefined":(0,F._)(t))){var o={top:Math.min(t[1],n[1])/r.height*100+"%",left:Math.min(t[0],n[0])/r.width*100+"%",width:Math.abs(t[0]-n[0])/r.width*100+"%",height:Math.abs(t[1]-n[1])/r.height*100+"%"},a=O()('<mark class="fv__mark-selection-blank rectangle" type="rectangle"></mark>').css(o);i.append(a)}else{var s=O()('<mark class="fv__mark-selection-blank rectangle" type="rectangle"><button id="chatAI"></button></mark>').css(n),A=s.find("button").on("click",function(){e.pdfViewer.customs.chatWithSelection()});t||A.hide(),i.append(s)}},Uf=function(e,t,n,i){var r=e.point,o=e.rectArray,a=e.isReadSelectText,s=void 0===a||a,A=e.characterIndexStart,c=void 0===A?-1:A,u=e.characterIndexEnd,l=void 0===u?-1:u,d=e.panStartEvent,h=e.panMoveArr,f=e.overrideText,p=n.pdfViewer,g=n.doc;return(o||[])[0]?Promise.all([n.getPDFPage(),o]).then(function(e){var o=(0,M._)(e,2),a=o[0],A=o[1];rf(r,t.deltaX,t.deltaY);return Promise.all(A.map(function(e){return a.getTextContinuousCharsAtRect(e,!0)})).then(function(e){return e.join("\n")}).then(function(e){g.addTextSelectedInfo(n,c,l,A,e,t,d,h),p.getStore().dispatch(be.SELECTION_INFO,{page:a,text:f||e,rectArray:A,isReadSelectText:s,e:t,panStartEvent:d,panMoveArr:h}),p.eventEmitter.emit(ae.selectText,{selectedInfo:g.selectedInfo,page:a,text:f||e,rectArray:A,e:t,panStartEvent:d,panMoveArr:h});var r=n.transformRectArray(a,A);jf(n,r,Tt.Text);var o=r[0];return!!o&&(i&&i.showAt((o.left+o.right)/2,o.top,e,r),!0)})}):Promise.resolve(!1)},zf=function(e){e.currentPDFDoc&&e.currentPDFDoc.setSelectedInfo(null),e.getStore().dispatch(be.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach(function(e){e.$handler.find(".fv__mark-selection-blank").remove()})},Wf=function(){function e(t,n,i,r){var o=this;if((0,C._)(this,e),[yn,Xn].includes(r)){var a,s,A=-1,c=-1,u="unknown",l=n.$handler.addClass("fv__select-text-image-state-handler"),d=l[0],h=n.pdfViewer,f=(h.viewerUI,h.eventEmitter),p=null,g=null,v=[],m=n.doc;this.pdfDoc=m,this.pdfViewer=h,this.pageRender=n,this.tooltip=i,this.stateName=r,this.altEnter=!1,this.altSwitch=!1,this.disposor=new z.Disposable,this.isEnable=!0,this.isEnableSingleTap=!1,this.addAltEvent(l);var y,_,b,w,k,P=m.isDynamicXFA();0;var D=!1,E=!1;if(z.isTouchDevice){var S,I,T=null;t.on("press",S=function(e){return(0,x._)(function(){var t,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return t=this,P?[2]:[4,n.annotsRender.findAnnot(e.srcEvent)];case 1:return o.sent()||(zf(h),i&&i.hide(),r=hf(d,e),n.getTextContinueRectAtDevicePoints([r.x,r.y],[r.x+5,r.y+5],-1,-1).then(function(e){T=e,n.getPDFPage().then(function(t){var i=n.transformRectArray(t,e);jf(n,i,Tt.Text)}),!!(e||[])[0]&&(D=!0,t.setEnable(!0),t.pdfViewer.eventEmitter.emit(ae.togglePageContextMenu,!1))})),[2]}})}).call(o)}),t.on("hammer.input",I=function(e){if("pointerup"===e.srcEvent.type||"touchend"===e.srcEvent.type){if(E)return T=null,void(D=!1);if(D&&T){var t=hf(d,e);Uf({point:[t.x,t.y],rectArray:T,characterIndexStart:A,characterIndexEnd:c,panStartEvent:g,panMoveArr:v},e,n,i)}else zf(h),i&&i.hide();T=null,D=!1,o.pdfViewer.eventEmitter.emit(ae.togglePageContextMenu,!0)}else"pointerdown"!==e.srcEvent.type&&"touchstart"!==e.srcEvent.type||(E=!1)}),this.disposor.addDestroyHook(function(){t.off("press",S),t.off("hammer.input",I)})}t.on("singletap",y=function(e){if(o.isEnableSingleTap){var t=hf(d,e);n.getTextLinkAtPoint([t.x,t.y]).then(function(e){if(e){var t=h.i18n.t("viewer_:pdfjs.launchURLHint");return h.viewerUI.confirm(t+"\n"+Lf.toASCII(e)).then(function(){window.open(e)},er)}})}}),t.on("doubletap",_=function(e){P||o.isEnable&&(zf(h),i&&i.hide(),o.isTextSelectionToolEnabledInHandState()&&function(e,t,n,i){var r=hf(t,e),o=[r.x,r.y];n.getDoubleClickTextRectAtPoint(o).then(function(t){var r=n.pdfViewer.getIoC().getInstanceByClass(pf);Uf({point:o,rectArray:t,isReadSelectText:!1},e,n,i).then(function(e){r.dispatchDblClickData({isTextSelected:e})})})}(e,d,n,i))}),t.on("panstart",b=function(e){if(o.isEnable&&o.isTextSelectionToolEnabledInHandState()&&(r!==yn||"mouse"==e.pointerType||D)){E=!0;var t=hf(d,e);n.getTextContinueRectAtDevicePoints([t.x,t.y],[t.x+5,t.y+5],-1,-1).then(function(n){var l=(n||[])[0];if(u=!l,r===yn){if(u)return;var d=h.customs.isCollaborationMod&&h.customs.isCollaborationMode(),p=h.customs.getCommentPermission&&h.customs.getCommentPermission();if(d&&!p)return;f.emit("can-scroll",!1)}o.pdfDoc.textSelecting=!0,g=e,v=[],A=l&&"string"==typeof l.text?l.start:-1,c=-1,a=[t.x,t.y],s=new Ae,m.clearSelectedInfo(h),i&&i.hide(),h.killFocus(),o.altSwitch=o.altEnter})}}),t.on("panmove",w=function(e){if(o.isEnable&&o.isTextSelectionToolEnabledInHandState()){if(r===yn){if("mouse"!=e.pointerType&&!D)return;if("unknown"===u||!o.pdfDoc.textSelecting)return}else if("unknown"===u)return;var t=hf(d,e);s||(s=new Ae),s.push(function(){var i=o;v.push(e);var s=[a[0]+e.deltaX,t.y+e.deltaY];if(r===yn){if(o.altSwitch)return uf(n,a,s),Vf(n,a,e.deltaX,e.deltaY);if(u)return p={type:Of,pageRender:n},m.setSelectedInfo(p),Hf(n,a,s),Promise.resolve()}var l=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Promise.all([t.getPDFPage(),n?Promise.resolve(r):t.reverseDevicePoint(r)]).then(function(n){var r=(0,M._)(n,2),a=r[0],s=r[1];return a.getTextIndexAtPoint(s).then(function(n){if(-1==n)return Promise.resolve();var r=o?n:0,s=o?-1:n;return a.getTextRectsByIndexes(r,s).then(function(n){var o=t.transformRectArray(a,n);jf(t,o,Tt.Text),i.pdfDoc.addTextSelectedInfo(t,r,s,n,"",e,g,v)})})})},d=(0,z.getClientX)(e.srcEvent),f=(0,z.getClientY)(e.srcEvent);return h.convertClientCoordToPDFCoord({clientX:d,clientY:f}).then(function(t){var i=t.index;return i!=n.index?l(n,!1,a,i>n.index).then(function(){c=i>n.index?-1:0;var e=h.getPDFPageRender(i),r=[t.left,t.top];return l(e,!0,r,i<n.index)}):n.getTextContinueRectAtDevicePoints(a,s,A,c).then(function(t){var i=(t||[])[0];if(i&&("string"==typeof i.text&&(A=i.start,c=i.end),-1!==A))return Promise.all([n.getPDFPage(),t]).then(function(t){var i=(0,M._)(t,2),r=i[0],a=i[1],s=n.transformRectArray(r,a);jf(n,s,Tt.Text),o.pdfDoc.addTextSelectedInfo(n,A,c,a,"",e,g,v)})})})})}}),t.on("panend",k=function(e){if(o.isEnable&&!h.asyncRender&&o.isTextSelectionToolEnabledInHandState()){if(r===yn){if(!o.pdfDoc.textSelecting||"unknown"===u)return;o.pdfDoc.textSelecting=!1,o.pdfViewer.eventEmitter.emit("can-scroll",!0)}else if(o.pdfDoc.textSelecting=!1,"unknown"===u)return;if(s&&(s.end(),s=null),o.altSwitch&&r===yn)return o.altSwitch=!1,cf(n),Vf(n,a,e.deltaX,e.deltaY).then(function(t){var r=t.page,o=t.rectArray,a=t.rectArrayInPixel,s=o[0].texts||"";m.addTextSelectedInfo(n,0,0,o,s,e,g,v),h.getStore().dispatch(be.SELECTION_INFO,{page:r,text:s,rectArray:o,e,panStartEvent:g,panMoveArr:v}),f.emit(ae.selectText,{page:r,text:s,rectArray:o,e,panStartEvent:g,panMoveArr:v});var A=a[0];A&&i&&i.showAt((A.left+A.right)/2,A.top,m.selectedInfo.getText(),a)});if(!u||r!==yn)return o.pdfDoc.updateTextSelectInfo().then(function(){o.pdfDoc.selectedInfo&&function(e,t){var n=e.selectedPages;if(n.length){var i=e.e,r=e.panStartEvent,o=e.panMoveArr,a=n[0].pageRender,s=a.pdfViewer,A=(a.doc,n[0].rectArray),c=e.getText(),u=c;a.getPDFPage().then(function(n){s.getStore().dispatch(be.SELECTION_INFO,{selectedInfo:e,page:n,text:u||c,rectArray:A,isReadSelectText:!1,e:i,panStartEvent:r,panMoveArr:o}),s.eventEmitter.emit(ae.selectText,{selectedInfo:e,page:n,text:u||c,rectArray:A,e:i,panStartEvent:r,panMoveArr:o});var l=a.transformRectArray(n,A),d=l[0];return!!d&&(t&&t.showAt((d.left+d.right)/2,d.top,c,l),!0)})}}(o.pdfDoc.selectedInfo,i)});var t=hf(d,e),A=[a[0]+e.deltaX,t.y+e.deltaY];p={type:Of,pageRender:n,e,panStartEvent:g,panMoveArr:v},m.setSelectedInfo(p),Hf(n,a,A),u="unknown"}});var R=function(){i&&i.hide()};f.on(ae.activeElementChanged,R),f.on(ae.switchStateHandler,R),this.disposor.addDestroyHook(function(){i&&i.destroy(),f.off(ae.activeElementChanged,R),f.off(ae.switchStateHandler,R),t.off("singletap",y),t.off("doubletap",_),t.off("panstart",b),t.off("panmove",w),t.off("panend",k)})}}return(0,D._)(e,[{key:"destroy",value:function(){vf.unregister(this.pageRender.$element.get(0)),this.pdfViewer.viewerUI.loadContextPromise=null,this.disposor.destroy(),this.removeAltEvent()}},{key:"doTextCopy",value:function(e){var t=this,n=e.getText();void 0!==n&&(0,z.copyText)(n).then(function(e){t.pdfViewer.eventEmitter.emit(e?ae.copyTextSuccess:ae.copyTextFailed,n)})}},{key:"doExportSelectionText",value:function(e){var t=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(t.customs&&t.customs.isAccountExpired&&t.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var A=a.value,c=A.rectArray.map(function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}});n.push({pageIndex:A.pageRender.index,rectArray:c})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}t.customs&&t.customs.showSaveAsDialog&&t.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify(n))}}},{key:"createTextMarkupAnnot",value:function(e,t){var n=this,i=t.selectedPages,r=function(t,i){return t.getPDFPage().then(function(t){if("replace"===e){var r=Af(i),o=r.rect,a=r.rotate;return t.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:i,noPopup:!0,typeAlias:"Replace",intent:"StrikeOutTextEdit",subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")},{type:"caret",flags:4,rect:o,typeAlias:"Replace",intent:"Replace",rotation:a,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")}],1)}return t.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))})}).then(function(e){var i=e[0];n.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,i),t.annotsRender.activeAnnot(i.getId())})},o=[],a=!0,s=!1,A=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;o.push(r(l.pageRender,l.rectArray))}}catch(e){s=!0,A=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw A}}Promise.all(o).then(function(){zf(n.pdfViewer),n.tooltip&&n.tooltip.hide()})}},{key:"doTextSelectAll",value:function(e,t){var n=this,i=this.pdfViewer;zf(i),this.tooltip&&this.tooltip.hide();var r=[];if(t){var o=!0,a=!1,s=void 0;try{for(var A,c=t.selectedPages[Symbol.iterator]();!(o=(A=c.next()).done);o=!0){var u=A.value;r.push(u.pageRender)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}else e&&r.push(e);var l=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;Promise.all([e.getAllTextRect(),e.getAllTextChar(),e.getPDFPage()]).then(function(t){var r=(0,M._)(t,3),o=r[0],a=r[1],s=r[2];i.getStore().dispatch(be.SELECTION_INFO,{page:s,text:a,rectArray:o}),i.eventEmitter.emit(ae.selectText,{page:s,text:a,rectArray:o});var A=e.transformRectArray(s,o);jf(e,A,Tt.Text);var c=n.pdfViewer.currentPDFDoc;e.getAllTextChar().then(function(t){c.addTextSelectedInfo(e,0,-1,o,t)})})},g=r[Symbol.iterator]();!(l=(f=g.next()).done);l=!0)p()}catch(e){d=!0,h=e}finally{try{l||null==g.return||g.return()}finally{if(d)throw h}}}},{key:"createBookmark",value:function(e,t){var n=this;if(!e){var i=!0,r=!1,o=void 0;try{for(var a,s=t.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){e=a.value.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}var A=this.pdfViewer.viewerUI.rootComponent;if(A.getComponentByName("sidebar-bookmark").active(),t){var c,u,l=t.type,d=t.graphicsObject;l==Tt.Text&&(c=t.getText(),u=t.selectedPages[0].rectArray),e.getPDFPage().then(function(e){var t=l===Tt.Text?u[0]:d.getRect(),i=t.left,r=t.top,o=l===Tt.Text?c:n.pdfViewer.i18n.t("sidebar.bookmark.untitled"),a=e.getIndex(),s=A.getComponentByName("fv-bookmark-sidebar-panel");n.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{bookmarkId:s.currentBookmarkId,left:i,top:r,title:o,relationship:3,pageIndex:a})})}else this.pdfViewer.eventEmitter.emit("bookmark-create-current-view")}},{key:"doEditText",value:function(e){}},{key:"createLink",value:function(e){var t,n=this,i=!0,r=!1,o=void 0;try{for(var a,s=e.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var A=a.value;t=A.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}if(t){var c=t.doc;t.getPDFPage().then(function(e){var i=0;if(c.selectedInfo){var r=c.selectedInfo.selectedPages[0].rectArray,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=-Number.MAX_VALUE,A=Number.MAX_VALUE;r.forEach(function(e){o=Math.min(o,e.left),a=Math.max(a,e.right),s=Math.max(s,e.top),A=Math.min(A,e.bottom)}),i&&(c.selectedInfo=null),e.addAnnot({type:"link",rect:{left:o,right:a,top:s,bottom:A},color:"0000FF"}).then(function(e){var i=t.getAnnotRender(e[0].getId()).component;i.showCreateDialog(),z.isMobile&&n.pdfViewer.getStateHandlerManager().switchTo(yn),t.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,i.annot),zf(n.pdfViewer),n.tooltip&&n.tooltip.hide()})}else i=1})}}},{key:"doWordCount",value:function(e){}},{key:"getLoopUpText",value:function(){var e=!1,t=this.pageRender.doc;if(t.selectedInfo){var n=t.selectedInfo.getText();return n=n.trim(),z.isWindows&&(n=n.substr(n.lastIndexOf(" ")+1)),t.selectedInfo.lookUpText=n,e&&(t.selectedInfo=null),n}e=!0}},{key:"doLookUp",value:function(e){var t=e.lookUpText;this.dictionaryWindow&&this.dictionaryWindow.close(),this.dictionaryWindow=window.open("https://www.dictionary.com/browse/".concat(t,"?utm_source=foxit&utm_medium=referral&utm_campaign=foxit"))}},{key:"isTextSelectionToolEnabledInHandState",value:function(){if(this.stateName===yn){var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(yn);if(e&&!e.enableTextSelectionTool)return!1}return!0}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"addAltEvent",value:function(e){var t=this;this.keydownUpEvent=function(e){"keyup"===e.type&&t.altEnter?(e.stopPropagation(),e.preventDefault(),t.altEnter=!1):e.altKey&&(e.stopPropagation(),e.preventDefault(),t.altEnter=!0)},O()(window).on("keydown keyup",this.keydownUpEvent)}},{key:"removeAltEvent",value:function(){O()(window).off("keydown keyup",this.keydownUpEvent)}},{key:"isTextSelecting",value:function(){return!!this.pdfDoc.textSelecting}},{key:"setEnable",value:function(e){var t=e.selectable,n=void 0===t||t,i=e.singleTap,r=void 0!==i&&i;this.isEnable=n,this.isEnableSingleTap=r}}]),e}(),Yf="fv__cursor-grab",Gf="fv__cursor-grabbing",$f="fv__cursor-text",Jf="fv__cursor-pointer",qf=function e(){(0,C._)(this,e),this.scrollValid=!0},Kf=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).isDestroyed=!1,n.cursorStyle=Yf,n.isOnText=!1,n.timeStamp=0,n.pdfViewer=e,n.service=e.getIoC().getInstanceByClass(qf),n.throttleTaskExecutor=new z.ThrottleAsyncTaskExecutor(100,!0),n}return(0,I._)(t,e),(0,D._)(t,[{key:"docHandler",value:function(e){e.viewerRender.enableDragToScroll(),this.pdfViewer.getFormFillerService().setInteractionSupport(!0)}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e;e.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var i=n.$handler;i.addClass("fv__hand-state-handler"),i.addClass(this.cursorStyle);var r=i[0],o=e.pdfViewer,a=o.getCurrentPDFDoc();a||(a=e.docRender.doc);var s=a.isDynamicXFA(),A=this.eventEmitter=o.eventEmitter;A.emit("can-scroll",!0);var c=this.hammer=(0,z.createHammer)(r);c.on("panstart",function(t){if(!s){var n=e.annotsRender;n&&n.panStart(t.srcEvent)}});if(c.on("singletap",function(n){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return zf(this.pdfViewer),s?(A.emit(ae.tapPage,n),[2]):(t=e.annotsRender)?[4,t.tapPage(n.srcEvent)]:(A.emit(ae.tapPage,n),[2]);case 1:return i.sent()||(n.srcEvent.ctrlKey||t.unActiveAnnot(),A.emit(ae.tapPage,n)),[2]}})}).call(t)}),c.on("doubletap",function(n){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return s?(A.emit(ae.doubleTapPage,n,e,{isTextSelected:this.isOnText}),[2]):(t=e.annotsRender)?[4,t.doubleTapPage(n.srcEvent)]:(A.emit(ae.doubleTapPage,n,e,{isTextSelected:this.isOnText}),[2]);case 1:return i.sent()||(t.unActiveAnnot(),z.isTouchDevice&&e.pdfViewer.getIoC().getInstanceByClass(pf).dispatchDblClickData({isTextSelected:this.isOnText}),A.emit(ae.doubleTapPage,n,e,{isTextSelected:this.isOnText})),[2]}})}).call(t)}),c.on("press",function(n){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return s?(A.emit(ae.pressPage,n),[2]):(t=e.annotsRender,this.eventEmitter.emit("can-scroll",!0),t?(t.unActiveAnnot(),[4,t.pressPage(n.srcEvent)]):(A.emit(ae.pressPage,n),[2]));case 1:return i.sent()?(n.srcEvent.preventDefault(),n.srcEvent.stopPropagation(),[2]):(A.emit(ae.pressPage,n),[2])}})}).call(t)}),z.isTouchDevice){var u=e.docRender;c.on("press",function(t){var n=hf(r,t);e.getTextContinueRectAtDevicePoints([n.x,n.y],[n.x+5,n.y+5],-1,-1).then(function(e){!!(e||[])[0]&&u.viewerRender.disableDragToScroll()})}),c.on("hammer.input",function(e){switch(e.srcEvent.type){case"pointerup":case"touchend":case"pointercancel":u.viewerRender.enableDragToScroll()}})}else i.on("mousedown",this.mousedown=function(e){z.isTouchDevice||(t.isOnText?zf(t.pdfViewer):(t.textSelectionHandler&&t.textSelectionHandler.setEnable(!1),i.removeClass(t.cursorStyle),t.cursorStyle=Gf,i.addClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.isTextSelecting()&&t.eventEmitter.emit("can-scroll",!1)))}),i.on("mousemove",this.mousemove.bind(this)),i.on("mouseup",this.mouseup=function(n){if(!t.isOnText&&(i.removeClass(t.cursorStyle),t.textSelectionHandler&&!t.textSelectionHandler.isTextSelecting()&&t.emitCanScroll(),t.cursorStyle=Yf,i.addClass(t.cursorStyle),3===n.which))if(s)A.emit(ae.rightClickPage,n);else{var r=e.annotsRender;r?(r.unActiveAnnot(),A.emit(ae.rightClickPage,n)):A.emit(ae.rightClickPage,n)}});var l=O()('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>'),d=i.find(".fv__mark-selection-blank");d&&d.length>0?l.insertBefore(d[0]):i.append(l),l.data("hand-state",this),setTimeout(function(){if(t.textSelectionToolEnabled()&&!t.isDestroyed&&!e.isDestroyed){var n=t.tooltip=o.viewerUI&&o.viewerUI.createTextSelectionTooltip(e);t.textSelectionHandler=new Wf(t.hammer,e,n,yn),n&&n.on("blur",function(e){!e&&zf(t.pdfViewer),n.hide()})}},200)}},{key:"mousemove",value:function(e){var t=this;if(!this.isDynamicXFA()&&!this.pdfViewer.getFormFillerService().getMouseOverControl()){if(this.textSelectionHandler&&this.textSelectionHandler.isTextSelecting())return this.cursorStyle=$f,void this.pageRender.$handler.removeClass(Yf).addClass(this.cursorStyle);clearTimeout(this.timer),this.throttleTaskExecutor.exec(function(){if(t.pageRender&&!t.pageRender.isDestroyed&&t.textSelectionToolEnabled())return t.mousemoveHandler(e)})}}},{key:"textSelectionToolEnabled",value:function(){if(!this.pdfViewer)return!1;var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(yn);return!e||!!e.enableTextSelectionTool}},{key:"isDynamicXFA",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();return!(e&&!e.isDestroyed&&!e.isDynamicXFA())}},{key:"mousemoveHandler",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return t=this,this.isDynamicXFA()?[2]:(n=this.pageRender,[4,null==(i=n.annotsRender)?void 0:i.findAnnot(e)]);case 1:return(r=a.sent())&&-1!==["screen","link","image","sound"].indexOf(r.type)?(this.cursorStyle=Jf,n.$handler.removeClass(Yf).addClass(this.cursorStyle),[2]):(o={x:e.originalEvent.layerX,y:e.originalEvent.layerY},[2,n.getTextContinueRectAtDevicePoints([o.x,o.y],[o.x+5,o.y+5],-1,-1).then(function(e){if(null==e?void 0:e[0])return n.getTextLinkAtPoint([o.x,o.y]).then(function(e){e?(t.cursorStyle!==Jf&&(n.$handler.removeClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.setEnable({selectable:!1,singleTap:!0})),t.cursorStyle=Jf,n.$handler.removeClass(Yf),function(e,t,n){var i,r,o,a,s=e.$handler,A=s.get(0).getBoundingClientRect();n.y<A.height-20?(a="".concat(A.height-n.y,"px"),o="auto"):(o="".concat(n.y,"px"),a="auto"),n.x<A.width-20&&n.x>200?(r="".concat(A.width-n.x,"px"),i="auto"):(i="".concat(n.x,"px"),r="auto");var c={left:i,right:r,top:o,bottom:a},u=s.find(".fv__text-link");if(u.length)"none"===u.css("display")&&u.css(c),u.text()!==t&&u.text(t),u.show();else{var l=O()(document.createDocumentFragment());l.append(O()('<div class="fv__text-link">'.concat(t,"</div>")).css(c)),s.append(l)}}(n,e,o)):(t.cursorStyle!==$f&&(n.$handler.removeClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.setEnable({selectable:!0,singleTap:!1}),Bf(n)),t.cursorStyle=$f),t.eventEmitter.emit("can-scroll",!1),t.isOnText=!0,n.$handler.removeClass(Yf).addClass(t.cursorStyle)});n.$handler.removeClass("".concat($f," ").concat(Jf)).addClass(Yf),t.isOnText=!1,Bf(n)})])}})}).call(this)}},{key:"emitCanScroll",value:function(){var e=this;this.service.scrollValid&&(this.service.scrollValid=!1,this.scrollTimer=setTimeout(function(){e.eventEmitter.emit("can-scroll",!0),e.service.scrollValid=!0},30))}},{key:"destroyPageHandler",value:function(){this.isDestroyed=!0,this.offDoubleTapEvent&&this.offDoubleTapEvent(),this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).off("mousemove").removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass(Yf).removeClass(Gf),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent(),this.textSelectionHandler&&this.textSelectionHandler.destroy()}},{key:"destroyDocHandler",value:function(){this.pdfViewer.getFormFillerService().setInteractionSupport(!1)}},{key:"out",value:function(){this.destroyPageHandler(),this.destroyDocHandler(),this.pageRender=null}},{key:"allowZoomIn",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.ceil(4*n+1)/4)<t.config.maxScale}},{key:"zoomIn",value:function(){var e=this.pageRender,t=e.getScale();t=Math.ceil(4*t+1)/4,e.pdfViewer.zoomTo(t).catch(function(){})}},{key:"allowZoomOut",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.floor(4*n-1)/4)>t.config.minScale}},{key:"zoomOut",value:function(){var e=this.pageRender,t=e.getScale();t=Math.floor(4*t-1)/4,e.pdfViewer.zoomTo(t).catch(function(){})}},{key:"clockwiseRoataion",value:function(){this.pageRender.getPDFPage().then(function(e){var t=(e.getRotation()+1)%4;e.setRotation(t)})}},{key:"contrarotate",value:function(){this.pageRender.getPDFPage().then(function(e){var t=(e.getRotation()+3)%4;e.setRotation(t)})}}],[{key:"getStateName",value:function(){return yn}},{key:"getDefaultContextMenuConfig",value:function(){var e="hand-state";return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(t,n,i){this.data(e).zoomIn()},visible:function(){return this.data(e).allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(t,n,i){this.data(e).zoomOut()},visible:function(){return this.data(e).allowZoomOut()}}}}}}]),t}(tf);const Zf=Kf;var Xf=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).pdfViewer=e,i.scrollHost=n,i.prepare(),i.canScroll=!0,i.scrollable=!0,i}return(0,I._)(t,e),(0,D._)(t,[{key:"disable",value:function(){this.scrollable=!1}},{key:"enable",value:function(){this.scrollable=!0}},{key:"addViewerEventListener",value:function(e,t){var n=this;this.pdfViewer.eventEmitter.on(e,t),this.addDestroyHook(function(){n.pdfViewer.eventEmitter.off(e,t)})}},{key:"prepare",value:function(){var e,t,n=this;this.taskExecutor=new z.DebounceAsyncTaskExecutor(66);var i=!1,r=this.pdfViewer,o=r.getStateHandlerManager();this.addViewerEventListener("can-scroll",function(e){n.canScroll=e}),this.addViewerEventListener(ae.updateScrollableStatus,function(n){var i=n.disableHorizontal,r=n.disableVertical;e=i,t=r}),this.addViewerEventListener(ae.viewModeClassChanged,function(n){n!==yh&&(e=!1,t=!1)}),this.addViewerEventListener(ae.changeViewModeSuccess,function(n){n!==yh&&(e=!1,t=!1)});var a,s=this.scrollHost,A=function(e,t){s.scrollBy?s.scrollBy(e,t):(s.scrollLeft=s.scrollLeft+e,s.scrollTop=s.scrollTop+t)},c=(0,z.createHammer)(s),u=null,l=0,d=0,h=0,f=0,p=0,g=function(e){l=0,d=0,p=0},v=function(i,o,a){if(n.scrollable&&"hand"===r.getStateHandlerManager().currentStateHandler.getStateName()){var s=i-l,c=o-d;if(e&&(s=0),t){var u=o-p;if(a===Hammer.DIRECTION_UP||a===Hammer.DIRECTION_DOWN)return n.scrollSinglePage(u),void(p=o);c=0}A(-s,-c),r.eventEmitter.emit(ae.scrollingPage,{touched:!0,distanceX:h,distanceY:f}),l=i,d=o,h=i,f=o}},m=!1,y=!0,_=!1,b=function(e){var t,n,i,r=e.clientX;if((0,T._)(s,Window))t=0,n=0,i=0;else{t=s.getBoundingClientRect().left;var o=getComputedStyle(s);n=parseInt(o.borderLeftWidth)||0,i=parseInt(o.borderRightWidth)||0}var a=n+i,A=s.offsetWidth,c=A-s.clientWidth-a;_=r>=A-c+t},w=function(){_=!1},k=function(e){u={x:(0,z.getClientX)(e),y:(0,z.getClientY)(e)}};s.addEventListener("mousedown",b),s.addEventListener("touchstart",b),s.addEventListener("mouseup",w),s.addEventListener("touchend",w),s.addEventListener("touchcancel",w),s.addEventListener("pointerdown",k);var x=function(e){var t=(0,z.eventPath)(e).some(function(e){return!!e.classList&&e.classList.contains("fv__pdf-page-annots-container")});i=t};window.addEventListener("mousedown",x,!0),window.addEventListener("touchstart",x,!0);var P=["fv__pdf-page-handler-container","fv__hand-state-contextmenu-container","fv__rendering-container"],C=function(e){var t=e.classList;return o.getCurrentStates()===Zf||P.some(function(e){return t.contains(e)})},D=!1,E=!1;c.on("panstart",function(e){if(u&&(D=!1,n.scrollable&&!i&&!_))if(E)E=!1;else if(C(e.srcEvent.srcElement)&&(D=!0,r.eventEmitter.emit(ae.startScrollingPage,{})),h=0,f=0,m=!1,y=!0,cancelAnimationFrame(a),!(e.pointers.length>1)){var t=e.center.x-u.x,o=e.center.y-u.y;n.canScroll&&v(t,o,e.direction)}}),c.on("panmove",function(e){if(u)if(D&&C(e.srcEvent.srcElement)){if(!m&&n.scrollable&&!i&&!(e.pointers.length>1)){var t=e.center.x-u.x,r=e.center.y-u.y;n.canScroll&&v(t,r,e.direction)}}else D=!1}),c.on("panend",function(o){if(u)if(u=null,D&&C(o.srcEvent.srcElement)){if(!(o.pointers.length>1||!n.scrollable||i)){D=!1;var s=o.velocityX*(1e3/60),c=o.velocityY*(1e3/60),l=function(e){return e>60?60:e<-60?-60:e};s=l(s),c=l(c),e&&(s=0),t&&(c=0),g();var d=1.6,p=s<0?-1.6:d,v=c<0?-1.6:d;y=!1,a=requestAnimationFrame(function e(){var t=Math.abs(s),n=Math.abs(c);t<d&&n<d||y?r.eventEmitter.emit(ae.endScrollingPage,{distanceX:h,distanceY:f}):(a=requestAnimationFrame(e),A(-s,-c),t>=d&&(s-=p),n>=d&&(c-=v),h+=s,f+=c,r.eventEmitter.emit(ae.scrollingPage,{touched:!1,distanceX:h,distanceY:f}))})}}else D=!1}),c.on("pancancel",g);var S=function(){m=!0,g()};window.addEventListener("touchend",S),window.addEventListener("touchcancel",S),window.addEventListener("mouseup",S);var I=function(e){var t=window[e];return window[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=t.apply(window,n);return E=!0,r},function(){window[e]=t}};this.addDestroyHook(I("alert"),I("confirm"),I("prompt")),this.addDestroyHook(function(){c.destroy(),a&&cancelAnimationFrame(a),s.removeEventListener("mousedown",b),s.removeEventListener("touchstart",b),s.removeEventListener("mouseup",w),s.removeEventListener("touchend",w),s.removeEventListener("touchcancel",w),s.removeEventListener("pointerdown",k),window.removeEventListener("touchend",S),window.removeEventListener("mouseup",S),window.removeEventListener("touchcancel",S),window.removeEventListener("mousedown",x,!0),window.removeEventListener("touchstart",x,!0)})}},{key:"scrollSinglePage",value:function(e){var t=this;0!==e&&this.taskExecutor.exec(function(){return Promise.resolve().then(function(){var n=t.pdfViewer.getPDFDocRender().getViewMode();if((0,T._)(n,yh))return e>0?n.jumpToPrevPage():n.jumpToNextPage()})})}}]),t}(z.Disposable),Qf=B()(),ep="scroll",tp=z.LoggerFactory.getLogger("PDFViewerRender"),np=function(e){function t(e,n,i){var r;(0,C._)(this,t),(r=(0,P._)(this,t)).name=t.getDefaultName(),r.pdfViewer=i,r.ViewMode=n,r.$ui=e;var o=r.scrollWrap=new(r.pdfViewer.customs.ScrollWrap||Xh)(r),a=100;(z.isChromiumEdge||z.isChrome||z.isFirefox||z.isSafari)&&(a=30),r.unBindScrollEvent=o.addScrollEventListener(function(){r.pdfDocRender&&(r.pdfDocRender.isDestroyed||r.pdfDocRender.moveDebounce())});var s,A="fv__pdf-view-mode-item";e.on(ep,"."+A,r._scrollPageBind=function(e){clearTimeout(s);var t,n=e.currentTarget;try{if(!(t=r.pdfDocRender.pagesRender).length)return}catch(e){return}s=setTimeout(function(){for(var e=n.previousSibling,i=0;e;)e.classList.contains(A)&&i++,e=e.previousSibling;var r=t[i];if(r)try{r.move()}catch(e){}},a)});r.addDestroyHook(function(){clearTimeout(s)}),e.addClass("fv__pdf-viewer").html(Qf),r.$rendering=e.find(".fv__pdf-viewer-rendering"),r.$container=e.find(".fv__pdf-viewer-container"),r.pdfViewerRendering=new(i.customs.PDFViewerRendering||V)(r.$rendering[0],r),(r.handler=new(i.customs.PDFViewerHandler||Kr)(e.find(".fv__pdf-viewer-handler-container"),r)).active(),r.oldPdfDocRenders=[],r.touchToScrollViewer=new Xf(i,o.getScrollHost());var c,u=i.getKeyboard(),l=function(e){var t=r.pdfDocRender;if(t){var n=t.getViewMode();if(c=n.getShortcutEventHandler())c.onKeyPressed(e)&&e.native.preventDefault()}},d={interceptors:[function(e,t){"input"!=e.native.target.tagName.toLowerCase()&&(0===i.getAllActiveElements().length&&t(e))}]},h=function(e){c&&(c.onKeyReleased(e)&&e.native.preventDefault(),c=void 0)},f=[Vd.ARROW_UP,Vd.ARROW_DOWN,Vd.JUMP_TO_FIRST_PAGE,Vd.JUMP_TO_LAST_PAGE,Vd.JUMP_TO_NEXT_PAGE,Vd.JUMP_TO_PREVIOUS_PAGE,Vd.SCROLL_TO_NEXT_VISIBLE_AREA,Vd.SCROLL_TO_PREVIOUS_VISIBLE_AREA,Vd.SCROLL_VIEWER_SCROLLBAR_LEFT,Vd.SCROLL_VIEWER_SCROLLBAR_RIGHT,Vd.SCROLL_VIEWER_SCROLLBAR_UP,Vd.SCROLL_VIEWER_SCROLLBAR_DOWN];r.addDestroyHook.apply(r,(0,R._)(f.map(function(e){return u.keydown(e,l,d)})).concat((0,R._)(f.map(function(e){return u.keyup(e,h,d)})))),r.allowScrollOnMouseWheel=!0;var p=r.scrollWrap.getScrollHost();p.hasAttribute&&!p.hasAttribute("tabIndex")&&p.setAttribute("tabIndex",-1);var g=function(e){r.allowScrollOnMouseWheel||e.preventDefault()};p.addEventListener("wheel",g),r.addDestroyHook(function(){p.removeEventListener("wheel",g)});var v=p;((0,z.isWindowObject)(v)||(0,z.isDocument)(v)||v===document.body)&&(v=window);var m=(0,z.debounce)(function(){var e=r.pdfViewer,t=r.pdfDocRender;if(t){e.eventEmitter.emit(ae.fitWidthResizeViewport);var n=t.getScale();switch(n){case"fitVisible":case"fitWidth":case"fitHeight":return e.zoomTo(n,null,0);default:return e.redraw(!0,!1)}}},100);return r.addDestroyHook((0,z.observeResize)(v,function(){var e=r.pdfDocRender;e&&e.isDocRendered&&m()})),r}return(0,I._)(t,e),(0,D._)(t,[{key:"setAllowScrollOnMouseWheel",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.allowScrollOnMouseWheel=e}},{key:"setViewMode",value:function(e){var t=this;if(e!==this.ViewMode){var n=this.ViewMode;this.ViewMode=e,this.pdfViewer.eventEmitter.emit(ae.viewModeClassChanged,e,n);var i=this.pdfDocRender;if(i){this.pdfViewer.eventEmitter.emit(ae.startChangeViewMode,e,n);var r=i.getViewMode(),o=r?r.getVisibleIndexes():[];return i.setViewMode(e).then(function(){if(!i.isDestroyed){var r=i.getViewMode();t.pdfViewer.eventEmitter.emit(ae.changeViewModeSuccess,e,n,r);var a=i.pagesRender;if(a){var s=r&&r.docRender?r.getVisibleIndexes():[];if(!function(e,t){if(e.length!==t.length)return!1;return!e.some(function(e){return-1===t.indexOf(e)})}(o,s))return a.renderVisiblePages()}}},function(r){t.ViewMode=n,t.pdfViewer.eventEmitter.emit(ae.changeViewModeFailed,e,n,i.getViewMode(),r),tp.warn("change view mode fail",r)})}}return Promise.resolve()}},{key:"getViewMode",value:function(){return this.ViewMode}},{key:"rendering",value:function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()}},{key:"rendered",value:function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()}},{key:"renderDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Zh(this.$container,e,this);return this.pdfDocRender=i,this.oldPdfDocRenders.push(i),this.rendered(),i.render(t,n)}},{key:"rotateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,z.assertThat)((0,z.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e)),this.pdfDocRender?this.pdfDocRender.rotateTo(e,t):Promise.reject(new Error("Cannot perform rotation without document opening!"))}},{key:"getRotation",value:function(){return this.pdfDocRender?this.pdfDocRender.getRotation():0}},{key:"closeOldDocRender",value:function(e){for(var t=[],n=this.oldPdfDocRenders,i=n.length;i--;)t[i]=function(t){return t.hidden(),t.destroy(e)}(n[i]),this.pdfDocRender==n[i]&&(this.pdfDocRender=null),n.splice(i,1);return Promise.all(t)}},{key:"bindEvent",value:function(){}},{key:"zoomTo",value:function(e,t){if(!this.pdfDocRender)return Promise.reject(new Error("doc renderer has not been initialized!"));"number"==typeof e&&(e<this.pdfViewer.config.minScale&&(e=this.pdfViewer.config.minScale),e>this.pdfViewer.config.maxScale&&(e=this.pdfViewer.config.maxScale));try{return this.pdfDocRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(e,{x:n,y:t},i)}},{key:"zoomAt",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l,d,h,f=arguments;return(0,N.Jh)(this,function(p){switch(p.label){case 0:if(e=f.length>0&&void 0!==f[0]?f[0]:this.scale,t=f.length>1&&void 0!==f[1]?f[1]:{x:0,y:0},!this.pdfDocRender)throw new Error("No PDF files are currently open");if(!t)return[2,this.zoomTo(e)];if(!(0,z.isValidNumber)(t.x))throw new TypeError("fixedPoint.x: ".concat(t.x," is not a valid number"));if(!(0,z.isValidNumber)(t.y))throw new TypeError("fixedPoint.y: ".concat(t.y," is not a valid number"));return-1===(n=this.getPageIndexByClientPosition(t.x,t.y))&&(n=t.pageIndex),i=this.pdfDocRender.doc.getPageCount(),(0,z.isNumberInRange)(n,0,i,!0,!1)?(r=this.pdfDocRender.getPDFPageRender(n),o=r.scale,a=this.getViewBoxRect(),[4,r.transformPoint({point:{x:t.x,y:t.y},srcType:Xd.viewport,destType:Xd.page})]):[2,this.zoomTo(e)];case 1:return s=p.sent(),A=e/o,c=s.x*A,u=s.y*A,l=t.x-a.left,d=t.y-a.top,h={type:"device",x:c-l,y:u-d,pageIndex:n,offsetY:0},[2,this.zoomTo(e,h)]}})}).apply(this,arguments)}},{key:"getPageIndexByClientPosition",value:function(e,t){var n=this,i=-1;return this.pdfDocRender?(document.elementsFromPoint(e,t).some(function(e){if(e.classList.contains("fv__pdf-page-layout")){var t=+e.getAttribute("data-index"),r=n.pdfDocRender.getPDFPageRender(t);if(r&&r.$ui[0]===e)return i=t,!0}return!1}),i):i}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(e,t):Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"getScaleRatio",value:function(){return this.pdfDocRender?this.pdfDocRender.getScaleRatio():Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"disableDragToScroll",value:function(){this.touchToScrollViewer.disable()}},{key:"enableDragToScroll",value:function(){this.touchToScrollViewer.enable()}},{key:"getViewBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window)return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight};var t=e.getBoundingClientRect();return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"getCurrentDestination",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l,d,h;return(0,N.Jh)(this,function(f){switch(f.label){case 0:return e=8,[4,(t=this.pdfDocRender).renderingDefer.promise];case 1:return f.sent(),n=this.pdfViewer.getDeviceCurrentPosition(),i=n.top,r=n.left,o=n.pageIndex,r=Math.max(0,r),i=Math.max(i,Math.max(e,i))-e,a=this.pdfViewer.getPDFPageRender(o),s=a.getScale(),A=a.getRotation(),[4,a.getPDFPage()];case 2:return c=f.sent(),u=(0,M._)(c.reverseDevicePoint([r,i],s,A),2),r=u[0],i=u[1],l=t.scale,h=0,"fitWidth"===l?d=Ge.ZoomMode.ZoomFitHorz:"fitPage"===l||"fitHeight"===l?d=Ge.ZoomMode.ZoomFitPage:"fitVisible"===l?d=Ge.ZoomMode.ZoomFitBHorz:(d=Ge.ZoomMode.ZoomXYZ,h=l),[2,{top:i,left:r,pageIndex:o,zoomMode:d,zoomFactor:h}]}})}).call(this)}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.scrollWrap.destroy(),this.touchToScrollViewer.destroy(),this.pdfDocRender&&this.closeOldDocRender(),this.unBindScrollEvent(),this.$ui.off(ep)}}],[{key:"getDefaultName",value:function(){return"pdfViewerRender"}}]),t}(z.Disposable);const ip=np,rp=e=>"string"==typeof e,op=()=>{let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},ap=e=>null==e?"":""+e,sp=/###/g,Ap=e=>e&&e.indexOf("###")>-1?e.replace(sp,"."):e,cp=e=>!e||rp(e),up=(e,t,n)=>{const i=rp(t)?t.split("."):t;let r=0;for(;r<i.length-1;){if(cp(e))return{};const t=Ap(i[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return cp(e)?{}:{obj:e,k:Ap(i[r])}},lp=(e,t,n)=>{const{obj:i,k:r}=up(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=up(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=up(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},dp=(e,t)=>{const{obj:n,k:i}=up(e,t);if(n)return n[i]},hp=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?rp(e[i])||e[i]instanceof String||rp(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):hp(e[i],t[i],n):e[i]=t[i]);return e},fp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gp=e=>rp(e)?e.replace(/[&<>"'\/]/g,e=>pp[e]):e;const vp=[" ",",","?","!",";"],mp=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),yp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;){if(!r||"object"!=typeof r)return;let t,o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=n),o+=i[a],t=r[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}r=t}return r},_p=e=>e&&e.replace("_","-"),bp={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class wp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||bp,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(rp(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new wp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new wp(this.logger,e)}}var kp=new wp;class xp{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[i,r]=t;for(let t=0;t<r;t++)i.apply(i,[e,...n])})}}}class Pp extends xp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):rp(n)&&r?a.push(...n.split(r)):a.push(n)));const s=dp(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&o&&rp(n)?yp(this.data&&this.data[e]&&this.data[e][t],n,r):s}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),lp(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(rp(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let s=dp(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?hp(s,n,r):s={...s,...n},lp(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Cp={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))}),t}};const Dp={};class Ep extends xp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=kp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const i=vp.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===i.length)return!0;const r=mp.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let o=!r.test(e);if(!o){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(o=!0)}return o})(e,n,i));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:rp(r)?[r]:r};const o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return{key:e,namespaces:rp(r)?[r]:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],A=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(A&&"cimode"===A.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let l=u&&u.res;const d=u&&u.usedKey||o,h=u&&u.exactUsedKey||o,f=Object.prototype.toString.apply(l),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!rp(l)&&"boolean"!=typeof l&&"number"!=typeof l;if(!(g&&l&&v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||rp(p)&&Array.isArray(l))if(g&&rp(p)&&Array.isArray(l))l=l.join(p),l&&(l=this.extendTranslation(l,e,t,n));else{let i=!1,a=!1;const c=void 0!==t.count&&!rp(t.count),d=Ep.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(A,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(A,t.count,{ordinal:!1}):"",p=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(l)&&d&&(i=!0,l=g),this.isValidLookup(l)||(a=!0,l=o);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:l,m=d&&g!==l&&this.options.updateMissing;if(a||i||m){if(this.logger.log(m?"updateKey":"missingKey",A,s,o,m?g:l),r){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=d&&i!==l?i:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,r,m,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,r,m,t),this.emit("missingKey",e,s,n,l)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{i([e],o+n,t[`defaultValue${n}`]||g)})}):i(e,o,g))}l=this.extendTranslation(l,e,t,u,n),a&&l===o&&this.options.appendNamespaceToMissingKey&&(l=`${s}:${o}`),(a||i)&&this.options.parseMissingKeyHandler&&(l="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,i?l:void 0):this.options.parseMissingKeyHandler(l))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,l,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){const e=Array.isArray(l),n=e?[]:{},i=e?h:d;for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e)){const o=`${i}${r}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=l[e])}l=n}}return i?(u.res=l,u.usedParams=this.getUsedParamsDetails(t),u):l}extendTranslation(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=rp(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let A=n.replace&&!rp(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),e=this.interpolator.interpolate(e,A,n.lng||this.language||i.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):o.translate(...i,t)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=rp(a)?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=Cp.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rp(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),A=s.key;n=A;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!rp(a.count),l=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&(rp(a.context)||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(o=e,!Dp[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Dp[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(n=>{if(this.isValidLookup(t))return;r=n;const o=[A];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,A,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(A+e),a.ordinal&&0===e.indexOf(i)&&o.push(A+e.replace(i,this.options.pluralSeparator)),l&&o.push(A+t)),d){const n=`${A}${this.options.contextSeparator}${a.context}`;o.push(n),u&&(o.push(n+e),a.ordinal&&0===e.indexOf(i)&&o.push(n+e.replace(i,this.options.pluralSeparator)),l&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(i=s,t=this.getResource(n,e,s,a))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!rp(e.replace);let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const Sp=e=>e.charAt(0).toUpperCase()+e.slice(1);class Ip{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kp.create("languageUtils")}getScriptPartFromCode(e){if(!(e=_p(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=_p(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(rp(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Sp(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Sp(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Sp(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),rp(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return rp(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):rp(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}let Tp=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Mp={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Rp=["v1","v2","v3"],Fp=["v4"],Np={zero:0,one:1,two:2,few:3,many:4,other:5};class Lp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=kp.create("pluralResolver"),this.options.compatibilityJSON&&!Fp.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Tp.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Mp[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=_p("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(n,{type:i})}catch(n){if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(i,t)}return this.pluralRulesCache[r]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>Np[e]-Np[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Rp.includes(this.options.compatibilityJSON)}}const Op=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const i=dp(e,n);return void 0!==i?i:dp(t,n)})(e,t,n);return!o&&r&&rp(n)&&(o=yp(e,n,i),void 0===o&&(o=yp(t,n,i))),o},jp=e=>e.replace(/\$/g,"$$$$");class Bp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=kp.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:A,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:l,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:gp,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?fp(r):o||"{{",this.suffix=a?fp(a):s||"}}",this.formatSeparator=A||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=l?fp(l):d||fp("$t("),this.nestingSuffix=h?fp(h):f||fp(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},A=e=>{if(e.indexOf(this.formatSeparator)<0){const r=Op(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),o=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(Op(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:o})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,u=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>jp(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?jp(this.escape(e)):jp(e)}].forEach(t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=A(n),void 0===o)if("function"==typeof c){const t=c(e,r,i);o=rp(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(u){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else rp(o)||this.useRawValueToEscape||(o=ap(o));const s=t.safeValue(o);if(e=e.replace(r[0],s),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;e=i[0],o=this.interpolate(o,r);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];r={...o},r=r.replace&&!rp(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let A=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),s=e,A=!0}if(i=t(a.call(this,n[1].trim(),r),r),i&&n[0]===e&&!rp(i))return i;rp(i)||(i=ap(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),A&&(i=s.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const Vp=e=>{const t={};return(n,i,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const a=i+JSON.stringify(o);let s=t[a];return s||(s=e(_p(i),r),t[a]=s),s(n)}};class Hp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=kp.create("formatter"),this.options=e,this.formats={number:Vp((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:Vp((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:Vp((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:Vp((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:Vp((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Vp(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}const o=r.reduce((e,t)=>{const{formatName:r,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=r),"false"===r&&(n[o]=!1),"true"===r&&(n[o]=!0),isNaN(r)||(n[o]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[r](e,s,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e},e);return o}}class Up extends xp{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=kp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},o={},a={},s={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===s[t]&&(s[t]=!0)))}),i||(a[e]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),!t&&n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:i,k:r}=up(e,t,Object);i[r]=i[r]||[],i[r].push(n)})(n.loaded,[r],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,o)},r):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();rp(e)&&(e=this.languageUtils.toResolveHierarchy(e)),rp(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,o)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,n,o)})}saveMissing(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:r},A=this.backend.create.bind(this.backend);if(A.length<6)try{let r;r=5===A.length?A(e,t,n,i,s):A(e,t,n,i),r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}else A(e,t,n,i,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}const zp=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),rp(e[1])&&(t.defaultValue=e[1]),rp(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Wp=e=>(rp(e.ns)&&(e.ns=[e.ns]),rp(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),rp(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Yp=()=>{};class Gp extends xp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Wp(e),this.services={},this.logger=kp,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(rp(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=zp();this.options={...i,...this.options,...Wp(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?kp.init(r(this.modules.logger),this.options):kp.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Hp);const n=new Ip(this.options);this.store=new Pp(this.options.resources,this.options);const o=this.services;o.logger=kp,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Lp(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Bp(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Up(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Ep(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Yp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const o=op(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yp;const n=rp(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}this.options.preload&&this.options.preload.forEach(e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const i=op();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Yp),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Cp.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=op();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=rp(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{o(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),A=2;A<a;A++)s[A-2]=arguments[A];o=i.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||r.keyPrefix);const c=i.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${c}${e}`):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,i.t(u,o)};return rp(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||i&&!o(r,e)))}loadNamespaces(e,t){const n=op();return this.options.ns?(rp(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=op();rp(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Ip(zp());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Gp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yp;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new Gp(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Pp(this.store.data,i),r.services.resourceStore=r.store),r.translator=new Ep(r.services,i),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $p=Gp.createInstance();$p.createInstance=Gp.createInstance;$p.createInstance,$p.dir,$p.init,$p.loadResources,$p.reloadResources,$p.use,$p.changeLanguage,$p.getFixedT,$p.t,$p.exists,$p.setDefaultNamespace,$p.hasLoadedNamespace,$p.loadNamespaces,$p.loadLanguages;function Jp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qp(e){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(e)}function Kp(e){var t=function(e,t){if("object"!=qp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=qp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qp(t)?t:t+""}function Zp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Kp(i.key),i)}}function Xp(e,t,n){return t&&Zp(e.prototype,t),n&&Zp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Qp=[],eg=Qp.forEach,tg=Qp.slice;function ng(e,t,n,i){var r=e.read.bind(e);if(2!==r.length)r(t,n,i);else try{var o=r(t,n);o&&"function"==typeof o.then?o.then(function(e){return i(null,e)}).catch(i):i(null,o)}catch(e){i(e)}}var ig=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jp(this,e),this.backends=[],this.type="backend",this.allOptions=i,this.init(t,n)}return Xp(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return eg.call(tg.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}(n,this.options||{},{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}),this.allOptions=i,this.options.backends&&this.options.backends.forEach(function(n,r){var o;t.backends[r]=t.backends[r]||((o=n)?"function"==typeof o?new o:o:null),t.backends[r].init(e,t.options.backendOptions&&t.options.backendOptions[r]||{},i)}),this.services&&this.options.reloadInterval&&setInterval(function(){return t.reload()},this.options.reloadInterval)}},{key:"read",value:function(e,t,n){var i=this,r=this.backends.length,o=function n(r,o){if(!(r<0)){var a=i.backends[r];a.save?(a.save(e,t,o),n(r-1,o)):n(r-1,o)}};!function a(s){if(s>=r)return n(new Error("non of the backend loaded data",!0));var A=s===r-1,c=i.options.handleEmptyResourcesAsFailed&&!A?0:-1,u=i.backends[s];u.read?ng(u,e,t,function(r,A,l){if(!r&&A&&Object.keys(A).length>c){if(n(null,A,s),o(s-1,A),u.save&&i.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(i.options.cacheHitMode)>-1){if(l&&i.options.refreshExpirationTime&&l+i.options.refreshExpirationTime>Date.now())return;var d=i.backends[s+1];d&&d.read&&ng(d,e,t,function(n,r){n||r&&(Object.keys(r).length<=c||(o(s,r),"refreshAndUpdateStore"===i.options.cacheHitMode&&i.services&&i.services.resourceStore&&i.services.resourceStore.addResourceBundle(e,t,r)))})}}else a(s+1)}):a(s+1)}(0)}},{key:"create",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backends.forEach(function(a){if(a.create){var s=a.create.bind(a);if(s.length<6)try{var A;(A=5===s.length?s(e,t,n,i,o):s(e,t,n,i))&&"function"==typeof A.then?A.then(function(e){return r(null,e)}).catch(r):r(null,A)}catch(e){r(e)}else s(e,t,n,i,r,o)}})}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,i=t.languageUtils,r=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],s=function(e){i.toResolveHierarchy(e).forEach(function(e){a.indexOf(e)<0&&a.push(e)})};s(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return s(e)}),a.forEach(function(t){e.allOptions.ns.forEach(function(e){n.read(t,e,"read",null,null,function(i,o){i&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),i),!i&&o&&r.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),i,o)})})})}}}]),e}();function rg(e,t,n){return(t=Kp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(t){rg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ig.type="backend";var sg=function(){function e(t){Jp(this,e),this.store=t.store}return Xp(e,[{key:"setItem",value:function(e,t){if(this.store)try{this.store.setItem(e,t)}catch(e){}}},{key:"getItem",value:function(e,t){if(this.store)try{return this.store.getItem(e,t)}catch(e){}}}]),e}();var Ag=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jp(this,e),this.init(t,n),this.type="backend"}return Xp(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=ag(ag(ag({},function(){var e=null;try{e=window.localStorage}catch(e){"undefined"!=typeof window&&console.log("Failed to load local storage.",e)}return{prefix:"i18next_res_",expirationTime:6048e5,defaultVersion:void 0,versions:{},store:e}}()),this.options),t),this.storage=new sg(this.options)}},{key:"read",value:function(e,t,n){var i=Date.now();if(!this.storage.store)return n(null,null);var r=this.storage.getItem("".concat(this.options.prefix).concat(e,"-").concat(t));if(r){r=JSON.parse(r);var o=this.getVersion(e);if(r.i18nStamp&&r.i18nStamp+this.options.expirationTime>i&&o===r.i18nVersion){var a=r.i18nStamp;return delete r.i18nVersion,delete r.i18nStamp,n(null,r,a)}}return n(null,null)}},{key:"save",value:function(e,t,n){if(this.storage.store){n.i18nStamp=Date.now();var i=this.getVersion(e);i&&(n.i18nVersion=i),this.storage.setItem("".concat(this.options.prefix).concat(e,"-").concat(t),JSON.stringify(n))}}},{key:"getVersion",value:function(e){return this.options.versions[e]||this.options.defaultVersion}}]),e}();Ag.type="backend";var cg=[],ug=cg.forEach,lg=cg.slice;function dg(e,t){if(t&&"object"===qp(t)){var n="",i=encodeURIComponent;for(var r in t)n+="&"+i(r)+"="+i(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function hg(e,t,n,i,r){i&&"object"===qp(i)&&(r||(i._t=new Date),i=dg("",i).slice(1)),t.queryStringParams&&(e=dg(e,t.queryStringParams));try{var o;(o=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,i&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var a=t.customHeaders;if(a="function"==typeof a?a():a)for(var s in a)o.setRequestHeader(s,a[s]);o.onreadystatechange=function(){o.readyState>3&&n&&n(o.responseText,o)},o.send(i)}catch(e){console&&console.log(e)}}var fg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jp(this,e),this.init(t,n),this.type="backend"}return Xp(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=function(e){return ug.call(lg.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(e,t,n){return rg({},t,n||"")},crossDomain:!1,ajax:hg})}},{key:"readMulti",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath(e,t));var r=this.services.interpolator.interpolate(i,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath([e],[t]));var r=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(i,r){if(r.status>=500&&r.status<600)return t("failed loading "+e,!0);if(r.status>=400&&r.status<500)return t("failed loading "+e,!1);var o,a;try{o=n.options.parse(i,e)}catch(t){a="failed parsing "+e+" to json"}if(a)return t(a,!1);t(null,o)})}},{key:"create",value:function(e,t,n,i){var r=this;"string"==typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,i);e.forEach(function(e){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:t});r.options.ajax(n,r.options,function(e,t){},o)})}}]),e}();fg.type="backend";const pg=fg,gg={version:"b666ca33d53bc849a4a188916bc4d418",versions:{"de-DE":{ui_:"8c98d5c5a86e7455cf23ce41a0536f60",viewer_:"f606ff8ad60511490d13f824b9ce7f02"},"en-US":{ui_:"33add9b17006df4ab09aa8e571ee0d4a",viewer_:"9a5216d7e8e251ffd08a47406cfca244"},"es-419":{ui_:"2ffede04fc03c41d7919ccc12bbd79cc",viewer_:"e1a5cc30e074a924f42732d5dd3fbd15"},"fr-FR":{ui_:"2711b67f288d7dea68b1d5cf3f69d00d",viewer_:"7b9773f4d470708bd998b106cb83ef97"},"it-IT":{ui_:"ea45292f997002d9b726f19a9984b057",viewer_:"a7de76bbbb7386e6c573fe23b59f4300"},"ja-JP":{ui_:"3c442de4f74112b8f01ade4395ee5019",viewer_:"28f8b151aa7eacf34bc20c50c8dfcdc7"},"ko-KR":{ui_:"0dff44d4b8cf201d34444b4437a4e6bc",viewer_:"f1151def0a4ed685cb18d38279851eec"},"nl-NL":{ui_:"44d44eb4ef43f8f1ff2c86230a5a94e5",viewer_:"cd0ed168686a226c8e49517b57291a4d"},"zh-CN":{ui_:"95da26c05e9ab504ea35e3deb95ba9e8",viewer_:"7ebcb00304560551587cf6b6814e5742"},"zh-TW":{ui_:"929de792814949833a3514f3a7e467e2",viewer_:"e947277c418b01422d9deef9ff4b1fea"}},languageVersions:{"de-DE":"2e48402a73606171c00d6d1a3b504169","en-US":"76aad022cb24e9ce07877dae2c750126","es-419":"09450c0873647a7a714d7c2f0faedd28","fr-FR":"5d17ba64bc198d882607b057ae777d25","it-IT":"2427d51bb22f1d017e21d3629b0b17fa","ja-JP":"ba09cf34a353b7956c175e2bc18cb949","ko-KR":"731c4e1d9f19970c2856d4040c79a741","nl-NL":"7f1937fa4e1ca735c1092fe6616a9e8f","zh-CN":"183a49678114dd0202182834155fc562","zh-TW":"cfe5925ab0a673941b0c44dc3a562266"}};function vg(e){var t=yg(e);return{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:t.versions||{},defaultVersion:t.hash}}function mg(e,t){var n=yg(e);return{loadPath:function(e,i){var r;try{r=n.versions[e.join(" ")][i.join(" ")]||n.versions.defaultVersion}catch(e){r=n.hash||n.version||""}return t+"/{{lng}}/{{ns}}.json?v="+r}}}function yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},gg,e)}const _g=function(e){var t=$p.createInstance();return t.use(ig).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[Ag,pg],backendOptions:e.backendOptions||[vg(e.version),mg(e.version,e.absolutePath)]}},e.initOption)),t};function bg(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||304===i.status?t(i.response):n(new Error("Could not load image!")))},i.onerror=function(){n(new Error("Could not load image!"))},i.send()})}var wg="/";function kg(e){if("string"!=typeof e)throw new Error("invalid url type: (".concat(void 0===e?"undefined":(0,F._)(e),")!"));return 0===(e=e.trim()).indexOf("file:")?new Pg(e):new xg(e)}var xg=function(){function e(t){(0,C._)(this,e);var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect url: "'.concat(t,'"'));this.protocol=n[1],this.port=parseInt(n[5]),isNaN(this.port)&&(this.port=""),this.pathname=n[6]||"/",this.pathname=this.pathname.replace(/(\/|\\)+/g,wg);var i=(0,M._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.pathname)||[this.pathname,this.pathname],2)[1];this.dirname=i,this.hostname=n[3]||"",this.host=this.hostname+(this.port?":"+this.port:""),this.query=n[7]||"",this.hash=n[8]||""}return(0,D._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Dg.apply(void 0,[this.dirname].concat((0,R._)(n)));return new e("".concat(this.protocol,"://").concat(this.host).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"".concat(this.protocol,"://").concat(this.host).concat(this.pathname).concat(this.query).concat(this.hash):"".concat(this.protocol,"://").concat(this.host).concat(this.pathname)}},{key:"absoluteDir",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.dirname)}}],[{key:"REGEX",get:function(){return/^([a-z]+):\/\/(([\w\-\.:\[\]]+)(:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?)$/}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}(),Pg=function(){function e(t){(0,C._)(this,e),this.protocol="file";var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect URL: "'.concat(t,'"'));this.path=(n[3]||"").replace(/[\\/]+/g,"/");var i=(0,M._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.path)||[this.path,this.path],2)[1];this.dir=i,this.disk=n[2],this.disk||("/"===this.path[0]&&(this.path=this.path.slice(1)),this.disk=""),this.hash=n[5]||"",this.query=n[4]||""}return(0,D._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Dg.apply(void 0,[this.dir].concat((0,R._)(n)));return new e("file:///".concat(this.disk).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"file:///".concat(this.disk).concat(this.path).concat(this.query).concat(this.hash):"file:///".concat(this.disk).concat(this.path)}},{key:"absoluteDir",value:function(){return"file:///".concat(this.disk).concat(this.dir)}}],[{key:"REGEX",get:function(){return/^(file:\/\/\/)([a-z]\:)?(.+?)(\?([^?#]*))?(#([^#]*))?$/i}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}();function Cg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;return(r=kg(e)).join.apply(r,(0,R._)(n)).absolute()}function Dg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];if(r.match(/^\w+?:\/\//)){var o=r.match(/^(\w+?:\/\/[^\/]+)(\/?.*)/);o&&(i=o[1],t[0]=o[2]||"/")}var a=t.filter(function(e){return"string"==typeof e&&e.length>0}),s=a.map(function(e){return e.replace(/[\/\\]+/,"/").split("/").filter(function(e,t,n){return""!==e||0===t})}).reduce(function(e,t){return t.forEach(function(t,n){switch(t){case".":break;case"..":e.pop();break;case"":e=[""];break;default:e.push(t)}}),e},[]).join("/");return a.length>0&&(/[\/\\\\]/.test(a[0][0])||0===a[0].indexOf(".."))&&"/"!==s[0]?s="/"+s:a.length>0&&a[0]&&0===a[0].indexOf("./")&&(s="./"+s),i?i+s:s}function Eg(e){return xg.isValid(e)||Pg.isValid(e)||/^blob:/.test(e)}var Sg=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"onKeyPressed",value:function(e){var t=this.getPDFDocRender(),n=t.viewerRender.scrollWrap,i=n.getWidth(),r=n.getHeight();switch(e.command){case Vd.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec(function(){return t.prevPage()}),!0;case Vd.JUMP_TO_NEXT_PAGE:return this.executor.exec(function(){return t.nextPage()}),!0;case Vd.JUMP_TO_LAST_PAGE:var o=this.getPageCount();return t.goToPage(o-1,{x:0,y:0}),!0;case Vd.JUMP_TO_FIRST_PAGE:return t.goToPage(0),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_LEFT:return n.scrollBy(-i,0,"smooth"),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_RIGHT:return n.scrollBy(i,0,"smooth"),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_UP:return n.scrollBy(0,-r,"smooth"),!0;case Vd.SCROLL_VIEWER_SCROLLBAR_DOWN:return n.scrollBy(0,r,"smooth"),!0}return!1}}]),t}(lh),Ig=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"onKeyPressed",value:function(e){var n=this.getPDFDocRender().viewerRender.scrollWrap;n.getHeight();switch(e.command){case Vd.ARROW_UP:case Vd.ARROW_DOWN:return n.scrollHost.focus(),!1}return(0,E._)((0,S._)(t.prototype),"onKeyPressed",this).call(this,e)}}]),t}(Sg),Tg=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).scrollCurrentPageIntoView_debounced=(0,z.debounce)(function(){n.docRender&&n.scrollCurrentPageIntoView()},20),n}return(0,I._)(t,e),(0,D._)(t,[{key:"into",value:function(e,n){var i=this;(0,E._)((0,S._)(t.prototype),"into",this).call(this,e,n),this.updatePageDOMs(n),this.docRender.$container.attr("data-view-mode",this.constructor.getName());var r=this.docRender.viewerRender.scrollWrap;this._triggerScrollCount=0,this._unwatchScrollEvent=r.addScrollEventListener(function(e){e.isTrusted&&i._triggerScrollCount++,i._triggerScrollCount>2&&delete i.lastJumpPageIndex}),this.onPageNumberChange=function(e){i.lastJumpPageIndex=e-1,i.lastJumpPageIndex<0&&(i.lastJumpPageIndex=0),i.scrollCurrentPageIntoView_debounced()},this.docRender.pdfViewer.eventEmitter.on(ae.pageNumberChange,this.onPageNumberChange)}},{key:"updatePageDOMs",value:function(e){(0,E._)((0,S._)(t.prototype),"updatePageDOMs",this).call(this,e),z.Lazy.property(this,"pageElements",function(){return e.map(function(e){return e.querySelector(".fv__pdf-page-layout")})})}},{key:"getDocLayoutWidth",value:function(){var e=this.docRender.doc.pageCache,t=0;return e.forEach(function(e){t=Math.max(e.getPxWidth(),t)}),t}},{key:"getFitHeight",value:function(e){return this.docRender.viewerRender.scrollWrap.getHeight()}},{key:"getFitWidth",value:function(e){return this.docRender.viewerRender.scrollWrap.getWidth()-0-8}},{key:"jumpToPage",value:function(e,t){var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r;this.lastJumpPageIndex=e;var a=this.getItems();e>=a.length?e=a.length-1:e<0&&(e=0);var s=a[e],A=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(s),c=A.left+i,u=A.top+o;s.offsetTop+s.offsetHeight<u&&(u+=.5),this._triggerScrollCount=0;var l=s.firstElementChild;this.docRender.viewerRender.scrollWrap.scrollTo(c+l.offsetLeft,u)}},{key:"out",value:function(){this.docRender&&this.docRender.$container.removeAttr("data-view-mode"),this._triggerScrollCount=0,this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.pdfViewer.eventEmitter.off(ae.pageNumberChange,this.onPageNumberChange),(0,E._)((0,S._)(t.prototype),"out",this).call(this)}},{key:"getCurrentPageIndex",value:function(){if(!isNaN(this.lastJumpPageIndex))return this.lastJumpPageIndex;if(!this.pageDOMs.length)return 0;var e=this.docRender.getContainerVisibleRect(),t=this.getVisibleIndexes();if(t.length){var n,i=this.pageDOMs,r=t.map(function(t){var n=i[t].getBoundingClientRect();return Math.round(n.right-n.left-Math.max(e.left-n.left,0)-Math.max(n.right-e.right,0))*Math.round(n.bottom-n.top-Math.max(e.top-n.top,0)-Math.max(n.bottom-e.bottom,0))}),o=(n=Math).max.apply(n,(0,R._)(r));return t[r.indexOf(o)]}var a,s=this.getItems(),A=this.docRender.viewerRender.scrollWrap.getScrollHost(),c=(a=A===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:A.getBoundingClientRect()).left+(a.right-a.left)/2,u=a.top+(a.bottom-a.top)/2,l=this.pageElements,d=this.lastJumpPageIndex;if(void 0!==d){var h=l[d];if(h){var f=h.getBoundingClientRect();if(f.left<c&&f.right>=c){if(this.getVisibleIndexes().length>2&&f.top<a.bottom&&f.bottom>a.top)return d;var p=getComputedStyle(h.parentElement),g=parseInt(p.marginTop)||0;if(f.top-g<u&&f.bottom>=u)return d;if(f.top>=a.bottom&&f.bottom<=a.top)return d}}}for(var v=0;v<s.length;v++)if(l[v]){var m=l[v].getBoundingClientRect();if(m&&m.left<c&&m.right>=c){var y=getComputedStyle(l[v].parentElement),_=parseInt(y.marginTop)||0;if(m.top-_<u&&m.bottom>=u)return this.lastJumpPageIndex=v,v;if(m.top>=a.bottom&&m.bottom<=a.top)return this.lastJumpPageIndex=v,v}}return 0}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();return t<e-1&&t++,t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();return e>0&&e--,e}},{key:"generateShortcutEventHandler",value:function(){return new Ig(this)}},{key:"scrollCurrentPageIntoView",value:function(){if(this.docRender){var e=this.docRender.getCurrentPageIndex(),t=this.docRender.getPDFPageRender(e);t&&!t.pageAreaIsVisible&&t.$ui.get(0).scrollIntoViewIfNeeded(!0)}}}],[{key:"getName",value:function(){return"continuous-view-mode"}}]),t}(hh);const Mg=Tg;const Rg=function(){function e(t){(0,C._)(this,e),this.ViewModes={},this.pdfViewer=t,this.register(Mg),this.register(yh)}return(0,D._)(e,[{key:"register",value:function(e){return this.ViewModes[e.getName()]=e}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mg.getName();return this.ViewModes[e]||Mg}},{key:"set",value:function(e){var t=this.get(e),n=this.currentViewMode;this.currentViewMode=t,this.pdfViewer.eventEmitter.emit(ae.startChangeViewMode,t,n);var i=this.pdfViewer.pdfViewerRender;if(i){i.ViewMode=t;var r=i.pdfDocRender;if(r){var o=r.pagesRender;o&&(o.viewMode=new t(r),this.pdfViewer.eventEmitter.emit(ae.changeViewModeSuccess,t,n,o.viewMode))}}}},{key:"switchTo",value:function(e){var t=this.currentViewMode,n=this.get(e);if(t!==n){this.currentViewMode=n;var i=this.pdfViewer,r=i.pdfViewerRender;if(r)return i.activeElement(null),r.setViewMode(n)}}},{key:"getCurrentViewMode",value:function(){return this.currentViewMode||Mg}},{key:"getAll",value:function(){return this.ViewModes}}]),e}();var Fg=n(5779),Ng=n.n(Fg),Lg="annotComponent",Og={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(Lg).showReplyDialog("reply")},disabled:function(){return this.data(Lg).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(Lg).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Lg).removeAnnot()},disabled:function(){return this.data(Lg).deleteDisabled()}}};function jg(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Og,events:{show:function(){return this.data(Lg).updateDeleteStatus(!0),!0},hide:function(){return this.data(Lg).updateDeleteStatus(!1),!0}}}}var Bg,Vg=n(7211),Hg=n.n(Vg),Ug=n(5100),zg=n.n(Ug),Wg=function(){function e(t,n,i){(0,C._)(this,e),this.viewerComponent=t;var r=this.viewerComponent.getModel();i=i||this.viewerComponent.getPropertyOptions();var o=zg()(i);n&&n!==document.body||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=O()(o);this.$propertiesDialog=a,this.$fillColor=a.find("#fillcolor-input"),this.$txThickness=a.find("#thickness-input-tx"),this.updateBorderInfo(r,i),this.bindChangeEvent();var s=n||document.body;if(a.appendTo(s),!n||n===document.body){var A=a[0];Hg().registerDialog(A),A.showModal()}}return(0,D._)(e,[{key:"toggle",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")}},{key:"updateBorderInfo",value:function(e,t){var n=this.$propertiesDialog;if(t.lineEndStyle&&n.find("#endstyle-select [value="+e.getEndingStyle()+"]").attr("selected",!0),t.lineStartStyle)if("freetext"===e.getType())n.find("#startstyle-select [value="+e.getCalloutLineEndingStyle()+"]").attr("selected",!0);else n.find("#startstyle-select [value="+e.getStartStyle()+"]").attr("selected",!0);if(void 0!==t.highlightingMode&&n.find("#highlighting-select [value="+e.getHighlightingMode()+"]").attr("selected",!0),void 0!==t.rotation&&n.find("#rotation-select [value="+e.getRotation()+"]").attr("selected",!0),!1!==t.borderStyle){var i=e.getBorderDashes();if(1==e.getBorderStyle()&&i.length>0){var r=Math.max.apply(Math,i),o=Math.min.apply(Math,i);o==r?o>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):o>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):o<2||2==o?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(e.getBorderStyle()==de.CLOUDY){switch(e.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}}},{key:"bindChangeEvent",value:function(){var e=this;this.$propertiesDialog.on("click",".fv__btn-close",function(){e.viewerComponent.hidePropertiesDialog?e.viewerComponent.hidePropertiesDialog():e.close()}).on("change","#color-input",function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setColor(i)}).on("change","#opacity-input",function(t){var n=t.target.value;e.viewerComponent.setOpacity(+n)}).on("change","#thickness-input",function(e){return i("#thickness-input","#thickness-input-tx")}).on("blur","#thickness-input",function(e){return i("#thickness-input","#thickness-input-tx")}).on("blur","#thickness-input-tx",function(e){return i("#thickness-input-tx","#thickness-input")}).on("change","#thickness-input-tx",function(e){return i("#thickness-input-tx","#thickness-input")}).on("change","#borderStyle-select",function(t){var n=t.target.value,i=de.DASHED;switch(n){case"0":n=[],i=de.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,i=de.CLOUDY;break;case"8":n=2,i=de.CLOUDY}e.viewerComponent.setBorderStyle(i,n)}).on("change","#fillcolor-input",function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setFillColor(i)}).on("change","#fillColor-transparent-input",function(t){t.target.checked?(e.$fillColor.val("#ffffff"),e.$fillColor.attr("disabled",!0),e.viewerComponent.setFillColor(0)):e.$fillColor.removeAttr("disabled")}).on("change","#startstyle-select",function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!0,n)}).on("change","#endstyle-select",function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!1,n)}).on("change","#hasCap-input",function(t){var n=t.target.checked;e.viewerComponent.enableCaption(n)}).on("change","#highlighting-select",function(t){var n=t.target.value;e.viewerComponent.setHighlightingMode(n)}).on("change","#rotation-select",function(t){var n=t.target.value;e.viewerComponent.setRotation(90*+n)});var t=this,n=!1;function i(e,i){if(!n){n=!0;var r=t.$propertiesDialog,o=r.find(e).val();t.viewerComponent.getModel().getBorderWidth()!=o?(t.viewerComponent.setBorderWidth(+o),n=!1,r.find(i).val(o)):n=!1}}}},{key:"close",value:function(){var e=this.$propertiesDialog;e&&(e[0].close(),e.remove(),this.$propertiesDialog=null)}}]),e}(),Yg=n(6912),Gg=n.n(Yg),$g=n(4252),Jg=n.n($g),qg=n(4210),Kg=n.n(qg),Zg=Lg,Xg=jg(".fv__pdf-page-annot-handler-rect"),Qg="px",ev=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="markup",o.eUi=n,o.$ui.addClass("pdf-page-markup-annot-container"),o.$handler.addClass("pdf-page-markup-annot-handler-container");var a=o.pdfViewer.i18n,s=Ng().i18n=function(e){return a.t(e)};o.addDestroyHook(function(){Ng().i18n===s&&(Ng().i18n=void 0)}),o.currentRenderDefer=(0,z.createDeferred)(),o.currentRenderDefer.isPending=!0,z.Lazy.property(o,"contextMenu",function(){if(o.contextMenuIsEnable())return o.pdfViewer.viewerUI.createContextMenu(o,i,o.getContextMenuConfig())});var A=o.pdfViewer.getAnnotAuthorityManager();o.addDestroyHook(A.subscribe(o.annot,function(e){o.updateOnPermissionChange(e)}));var c=o.pdfViewer.eventEmitter,u=function(){o.isDestroyed||o.annot.isDestroyed||A.getPermission(o.annot).then(function(e){o.updateOnPermissionChange(e)})};return c.on(ae.permissionChanged,u),o.addDestroyHook(function(){c.off(ae.permissionChanged,u)}),z.Lazy.onInitialized(o,"shapeControl",function(e){o.initializeShapeControl(e)}),o.addDestroyHook(o.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated(function(){if(z.Lazy.hasProperty(o,"shapeControl")&&z.Lazy.isPropertyIntialized(o,"shapeControl")){var e=o.shapeControl.isActive,t=o.shapeControl;z.Lazy.reset(o,"shapeControl"),e&&o._applyShapeChange(),t.destroy()}})),o}return(0,I._)(t,e),(0,D._)(t,[{key:"getInnerRect",value:function(){return{left:0,right:0,top:0,bottom:0}}},{key:"getModifiedRect",value:function(e,t){var n={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},i=Fh.on(n).extract(),r=i.left,o=i.top,a=i.right,s=i.bottom,A=this.scale,c=this.rotate;return this.getPDFPage().reverseDeviceRect({left:r,top:o,right:a,bottom:s},A,c)}},{key:"updateCollabOp",value:function(e){}},{key:"updateOnPermissionChange",value:function(e){var t=this;if(!this.isDestroyed&&z.Lazy.isPropertyIntialized(this,"shapeControl")){var n=!1;n=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():this.moveDisabled()||!e.isAdjustable()),this.pdfViewer.currentPDFDoc.readonly().then(function(e){e&&(n=!0);var i=t.shapeControl;n?i.disable():i.enable()})}}},{key:"isHTMLSimulate",value:function(e){return"canvas"===this.pdfViewer.config.annotRenderingMode[e||this.name]}},{key:"getRenderPromise",value:function(){return this.currentRenderDefer.promise}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;return this.getAnnotFlag().checkNoZoom()&&(A=a.right-a.left,c=a.bottom-a.top),[Math.ceil(c/r),Math.ceil(A/r),A+=1,c+=1,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n)}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.active()}},{key:"redraw",value:function(e){return this.activeRect(),this.render()}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.$handler.addClass("active")}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){var e=this;if(this.isActive){var n=this.pdfViewer;n.unActiveElement(this),(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),n.eventEmitter.emit(ae.unActiveAnnotation,this),!this.delayRemoveActive&&this.$handler.removeClass("active"),this.getGroupRenders().map(function(t){t.component!=e&&t.component.unActive()})}}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.$handler.remove()}},{key:"showReplyDialog",value:function(){var e=this;this.updateDeleteStatus(!0);var t=this.annot,n={},i=t.getGroupHeader()||t,r=n.content=i.getContent(),o=n.replies=[];this.iterationGetRepliesInfo(i,o);var a=o.length,s=Gg()(n),A=O()(s);this.$replyDialog=A;var c=A[0],u=A.find(".fv__btn-reply")[0],l=A.find(".reply-textarea")[0],d=!1;t.hasModifyPermission()?A.find(".content-textarea").prop({disabled:!1}):A.find(".content-textarea").prop({disabled:!0}),this.updateReplyDialog(),A.on("click",".fv__btn-close",function(){e.hideReplyDialog()}).on("change",".content-textarea",function(t){var n=t.target,i=n.value;e.setContent(i).then(function(t){if(t)return(0===i.length||A.find(".reply-textarea").prop("disabled"))&&e.updateReplyDialog(),r=i;n.value=r})}).on("input",".reply-textarea",function(e){u.disabled=!l.value}).on("click",".fv__btn-reply",function(t){if(!e.replyDisabled()&&!d){u.disabled=!0,d=!0;var n=l.value;e.addReply(n).then(function(t){var n={content:t.getContent()},i=n.replies=[];e.iterationGetRepliesInfo(t,i),a?A.find(".fv__replies_list").first().append(Kg()(n)):A.find(".fv__dialog-replies-block").first().html(Jg()([n])),a=!0,l.value="",u.disabled=!1,d=!1},function(){u.disabled=!1})}}),A.appendTo(document.body),Hg().registerDialog(c),c.showModal()}},{key:"updateReplyDialog",value:function(){var e=this.$replyDialog;e&&(this.replyDisabled()?(e.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!0})):(e.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!1})))}},{key:"hideReplyDialog",value:function(){var e=this.$replyDialog;e&&(e[0].close(),e.remove(),this.$replyDialog=null),this.isDestroyed||this.updateDeleteStatus(!1)}},{key:"addReply",value:function(e){var t=this;return this.annot.addReply(e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"hideContextMenu",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,z.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Wg(this),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then(function(e){return e&&t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"setColor",value:function(e){return this.annot.setBorderColor(e)}},{key:"setOpacity",value:function(e){var t=this;return this.annot.setOpacity(e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.hidePopup(),this.hidePropertiesDialog(),this.$propertiesControl=null,this.hideReplyDialog(),this.unBindEvent(),z.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.pdfViewer.deactivateElement(this),this.unActiveMore(),this.eUi&&this.eUi.removeEventListener("mouseenter",this.annotTooltipMouseover),this.eUi=null,this.tooltip=null}},{key:"remove",value:function(){this.destroy()}},{key:"iterationGetRepliesInfo",value:function(e,t){for(var n=e.getReplies(),i=0,r=n.length;i<r;i++){var o=n[i];if(!o.isDeleted()){var a={content:o.getContent(),replies:[]};this.iterationGetRepliesInfo(o,a.replies),t.push(a)}}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then(function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()&&!e.deleteDisabled()?e.doRemoveAnnot():void 0}).then(function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t})}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||z.noop)(this)).then(function(t){if(n.emit(ae.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then(function(t){return n.emit(ae[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t},function(){n.emit(ae.removeActionAnnotationFailed,e)})})}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"willRedraw",value:function(){(0,E._)((0,S._)(t.prototype),"willRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="left, top, width, height"}},{key:"afterRedraw",value:function(){(0,E._)((0,S._)(t.prototype),"afterRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="auto"}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+Qg,top:r.top+Qg,width:r.right-r.left+Qg,height:r.bottom-r.top+Qg})}},{key:"_applyShapeChange",value:function(){}},{key:"updateSize",value:function(e,n){(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.isActive&&this.activeRect()}},{key:"rectInit",value:function(){var e=this.$handler,t=O()(this.createRectDom());return e.append(t),this.contextMenuIsEnable()&&t.data(Zg,this),t}},{key:"rectSingleTap",value:function(){}},{key:"rectDoubleTap",value:function(e){var t=this;this.getAppPermission().then(function(e){e.isEditable()&&t.showReplyDialog("comment")})}},{key:"createRectDom",value:function(){return O()('<div class="fv__pdf-page-annot-handler-rect">')}},{key:"doubleTapAnnot",value:function(){var e=this;this.getAppPermission().then(function(t){t.isEditable()&&e.showReplyDialog("comment")})}},{key:"getContextMenuConfig",value:function(){if(Bg)return Bg;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"getRelevanceRenders",value:function(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.parent("annotsRender"),a=this.annot.getGroupHeader()||this.annot,s=[],A=a.getPopup(),c=[],u=[],l=[];!function(e,t){nv(e,"getReplies",t)}(a,c),iv(a,u),rv(a,l),A&&s.push(A.getId()),(e=s).push.apply(e,(0,R._)(c)),(t=s).push.apply(t,(0,R._)(u)),(n=s).push.apply(n,(0,R._)(l));var d=a.isGrouped()?a.getGroupElements():[a];return(i=s).push.apply(i,(0,R._)(d.map(function(e){return e.getId()}))),r?s:s.map(function(e){return o.getAnnotRender(e)}).filter(function(e){return!!e})}},{key:"getGroupRenders",value:function(){var e=this.parent("annotsRender"),t=this.annot;return((t=t.getGroupHeader()||t).isGrouped()?t.getGroupElements():[t]).map(function(t){return e.getAnnotRender(t.getId())})}},{key:"getGroupRect",value:function(){var e=this.getGroupRenders();if(e.length>1){var t,n,i,r,o=e.map(function(e){return e.component.getRect()});return{left:(t=Math).min.apply(t,(0,R._)(o.map(function(e){return e.left}))),right:(n=Math).max.apply(n,(0,R._)(o.map(function(e){return e.right}))),top:(i=Math).min.apply(i,(0,R._)(o.map(function(e){return e.top}))),bottom:(r=Math).max.apply(r,(0,R._)(o.map(function(e){return e.bottom})))}}if(!e[0])return Object.assign({},{});var a=e[0].component.getRect();return Object.assign({},a)}},{key:"showPopup",value:function(){}},{key:"hidePopup",value:function(){}},{key:"onDoubleTap",value:function(e){}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{opacity:this.annot.getOpacity(),tileConfig:this.getTileConfig(e,n)})}},{key:"processShapeControlPermissionCtrl",value:function(){var e=this;this.isDestroyed||this.annot.isDestroyed||this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then(function(t){e.updateOnPermissionChange(t)})}}],[{key:"getDefaultContextMenuConfig",value:function(){return Xg}},{key:"setContextMenuConfig",value:function(e){Bg=e}}]),t}(qd);const tv=ev;function nv(e,t,n){var i=e[t](),r=i.length;if(!r)return n;for(var o=0;o<r;o++){var a=i[o];nv(a,t,n),iv(a,n),rv(a,n),n.push(a.getId())}return n}function iv(e,t){return nv(e,"getMarkedStates",t)}function rv(e,t){return nv(e,"getReviewStates",t)}var ov="annotComponent";var av=n(269),sv=n.n(av),Av=n(8012),cv=n.n(Av),uv="north",lv="south",dv="east",hv="west",fv="north-west",pv="north-east",gv="south-west",vv="south-east",mv=(n(3279),n(8446)),yv=n.n(mv),_v="__auxiliary-line";var bv=function(){function e(t,n,i,r){(0,C._)(this,e),this.x0=t,this.y0=n,this.x1=i,this.y1=r}return(0,D._)(e,[{key:"slope",value:function(){return this.x1-this.x0!==0?(this.y1-this.y0)/(this.x1-this.x0):1/0}},{key:"isParallel",value:function(e){return Math.abs(this.slope()-e.slope())<1e-9||this.slope()==e.slope()}},{key:"distanceFromPoint",value:function(e,t){var n=this.y1-this.y0,i=this.x0-this.x1,r=this.x1*this.y0-this.x0*this.y1;return Math.abs(n*e+i*t+r)/Math.sqrt(n*n+i*i)}}]),e}();function wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=[],o={top:null,left:null,right:null,bottom:null};t.forEach(function(t){if(Math.abs(t.left-e.left)<=n||Math.abs(t.right-e.left)<=n){var i=Math.abs(t.left-e.left)<Math.abs(t.right-e.left)?t.left:t.right;t.top>e.top?r.push(new bv(i,e.top,i,t.bottom)):r.push(new bv(i,t.top,i,Math.max(t.bottom,e.bottom))),null===o.left?o.left=i:o.left=Math.abs(o.left-e.left)<Math.abs(i-e.left)?o.left:i}if(Math.abs(t.right-e.right)<=n||Math.abs(t.left-e.right)<=n){var a=Math.abs(t.right-e.right)<Math.abs(t.left-e.right)?t.right:t.left;t.top>e.top?r.push(new bv(a,e.top,a,t.bottom)):r.push(new bv(a,t.top,a,Math.max(t.bottom,e.bottom))),null===o.right?o.right=a:o.right=Math.abs(o.right-e.right)<Math.abs(a-e.right)?o.right:a}if(Math.abs(t.top-e.top)<=n||Math.abs(t.bottom-e.top)<=n){var s=Math.abs(t.top-e.top)<Math.abs(t.bottom-e.top)?t.top:t.bottom;t.left>e.left?r.push(new bv(e.left,s,t.right,s)):r.push(new bv(t.left,s,Math.max(e.right,t.right),s)),null===o.top?o.top=s:o.top=Math.abs(o.top-e.top)<Math.abs(s-e.top)?o.top:s}if(Math.abs(t.bottom-e.bottom)<=n||Math.abs(t.top-e.bottom)<=n){var A=Math.abs(t.bottom-e.bottom)<Math.abs(t.top-e.bottom)?t.bottom:t.top;t.left>e.left?r.push(new bv(e.left,A,t.right,A)):r.push(new bv(t.left,A,Math.max(e.right,t.right),A)),null===o.bottom?o.bottom=A:o.bottom=Math.abs(o.bottom-e.bottom)<Math.abs(A-e.bottom)?o.bottom:A}});var a=function(e,t,n){var i=new bv(e.left,e.top,e.right,e.top),r=new bv(e.left,e.bottom,e.right,e.bottom),o=new bv(e.left,e.top,e.left,e.bottom),a=new bv(e.right,e.top,e.right,e.bottom),s=null,A=null,c=null,u=null,l=1/0,d=1/0,h=1/0,f=1/0;return t.forEach(function(t){if(i.isParallel(t)){var p=t.distanceFromPoint(e.left,e.top);p<l&&p<=n&&(l=p,s=t)}if(r.isParallel(t)){var g=t.distanceFromPoint(e.left,e.bottom);g<d&&g<=n&&(d=g,A=t)}if(o.isParallel(t)){var v=t.distanceFromPoint(e.left,e.top);v<h&&v<=n&&(h=v,c=t)}if(a.isParallel(t)){var m=t.distanceFromPoint(e.right,e.top);m<f&&m<=n&&(f=m,u=t)}}),{closestTop:s,closestBottom:A,closestLeft:c,closestRight:u}}(e,r,n);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#777",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=Array.from(i.getElementsByClassName(_v));if(r.length<e.length)for(var o=e.length-r.length;o-- >0;){var a=document.createElement("div");a.className=_v+" "+n,r.push(a),i.appendChild(a)}for(var s=0;s<r.length;s++){var A=r[s];if(s>=e.length)A.style.display="none";else{A.style.display="";var c=e[s];if(c.y0===c.y1){var u="\n                width: ".concat(Math.abs(c.x1-c.x0),"px;\n                height: 1px;\n                position: absolute;\n                top: ").concat(c.y0-.5,"px;\n                left: ").concat(c.x0,"px;\n                z-index: 10;\n                background: linear-gradient(to right, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");A.style.cssText+=u}else if(c.x0===c.x1){var l="\n                width: 1px;\n                height: ".concat(Math.abs(c.y1-c.y0),"px;\n                position: absolute;\n                top: ").concat(c.y0,"px;\n                left: ").concat(c.x0-.5,"px;\n                z-index: 10;\n                background: linear-gradient(to bottom, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");A.style.cssText+=l}}}}([a.closestBottom,a.closestLeft,a.closestRight,a.closestTop].filter(function(e){return e}),void 0,"",i),o}function kv(){!function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).getElementsByClassName(_v),t=e.length-1;t>=0;t--)e[t].remove()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body)}var xv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=void 0===n?0:n,r=t.right,o=void 0===r?0:r,a=t.bottom,s=void 0===a?0:a,A=t.top,c=void 0===A?0:A,u=t.box,l=t.marginBox,d=void 0===l?{left:0,top:0,right:0,bottom:0}:l,h=t.expansion,f=void 0===h?{left:0,top:0,right:0,bottom:0}:h;(0,C._)(this,e),this.processing=!1,this.boundary={left:i,right:o,bottom:s,top:c},this.freeBoundary=null,this.marginBox=d,this.shape=this.calculateShape(),this.setBoundaryBox(u),this.tasks=[],this.expansion=f,this.drawAuxiliaryLine=wv,this.clearAuxiliaryLine=kv}return(0,D._)(e,[{key:"process",value:function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)}},{key:"end",value:function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()}},{key:"cancel",value:function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null}},{key:"setBoundaryBox",value:function(e){var t=this;this.box=e,this.boxStrict=e?function(n,i){return t._adjustBoundaryByBox(e,n,i)}:z.noop}},{key:"undo",value:function(){var e=this.tasks.pop();"function"==typeof e&&e()}},{key:"addTask",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.tasks.push(function(){return e.apply(void 0,(0,R._)(n))})}},{key:"recordFreeBoundary",value:function(){var e=this,t=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask(function(t){e.freeBoundary=t},t)}},{key:"recordSquareBoundary",value:function(){var e=this,t=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask(function(t){e.squareBoundary=t},t)}},{key:"adjustWest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=this.freeBoundary,r=(0,w._)({},i),o=this.freeBoundary.left+t,a=this.freeBoundary.right;switch(i.left=Math.min(o,a),i.right=Math.max(o,a),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,r),a<o?dv:hv}},{key:"adjustEast",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.right+t,o=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(o,r),this.freeBoundary.right=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?hv:dv}},{key:"_adjustToSquareH",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.top+n/2-t/2,r=i+t;e.top=i,e.bottom=r}},{key:"adjustNorth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.top+t,o=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(r,o),this.freeBoundary.bottom=Math.max(r,o),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),o<r?lv:uv}},{key:"adjustSouth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.bottom+t,o=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(o,r),this.freeBoundary.bottom=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?uv:lv}},{key:"_adjustToSquareV",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.left+t/2-n/2,r=i+n;e.left=i,e.right=r}},{key:"_adjustToSquare",value:function(e,t){var n=this.freeBoundary.right-this.freeBoundary.left,i=this.freeBoundary.bottom-this.freeBoundary.top,r=Math.min(n,i);this.squareBoundary=Object.assign({},this.freeBoundary),t==hv?this.squareBoundary.left=this.freeBoundary.right-r:this.squareBoundary.right=this.freeBoundary.left+r,e==lv?this.squareBoundary.bottom=this.freeBoundary.top+r:this.squareBoundary.top=this.freeBoundary.bottom-r}},{key:"adjustNorthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),fv;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustNorth(n),A=this.adjustWest(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,A),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(A)}}},{key:"_adjustNorthWestUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,A=r.top,c=o-(s+e),u=a-(A+t),l=o-s,d=a-A,h=Math.min(c,u);if(h>=i){h===c?u=h/l*d:c=h/d*l;var f=o-c,p=a-u;if(f<=0||p<=0)return;this.freeBoundary.left=f,this.freeBoundary.top=p}}},{key:"adjustNorthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),pv;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustNorth(n),A=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,A),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(A)}}},{key:"_adjustNorthEastUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,A=r.top,c=o+e-s,u=a-(A+t),l=o-s,d=a-A,h=Math.min(c,u);if(h>=i){h===c?u=h/l*d:c=h/d*l;var f=s+c,p=a-u;if(n.right-n.x<=f||p<=0)return;this.freeBoundary.right=f,this.freeBoundary.top=p}}},{key:"adjustSouthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),gv;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustSouth(n),A=this.adjustWest(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,A),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(A)}}},{key:"_adjustSouthWestUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,A=r.top,c=o-(s+e),u=a+t-A,l=o-s,d=a-A,h=Math.min(c,u);if(h>=i){h===c?u=h/l*d:c=h/d*l;var f=n.bottom,p=n.y,g=o-c,v=A+u;if(g<=0||f-p<=v)return;this.freeBoundary.left=g,this.freeBoundary.bottom=v}}},{key:"adjustSouthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),vv;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustSouth(n),A=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,A),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(A)}}},{key:"_adjustSouthEastUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,A=r.top,c=o+e-s,u=a+t-A,l=o-s,d=a-A,h=Math.min(c,u);if(h>=i){h===c?u=h/l*d:c=h/d*l;var f=n.right,p=n.bottom,g=n.x,v=n.y,m=s+c,y=A+u;if(f-g<=m||p-v<=y)return;this.freeBoundary.right=m,this.freeBoundary.bottom=y}}},{key:"adjustPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.recordFreeBoundary(),this.freeBoundary){this.freeBoundary.left+=e,this.freeBoundary.right+=e,this.freeBoundary.top+=t,this.freeBoundary.bottom+=t;var n=(0,w._)({},this.freeBoundary);this.boxStrict(this.freeBoundary,n)}}},{key:"adjustPositionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(e-this.freeBoundary.left,t-this.freeBoundary.top)}},{key:"_adjustMovingBoundaryByBox",value:function(e,t){var n=t.right-t.left,i=t.bottom-t.top;this.boundary.right>e.right&&(this.boundary.right=e.right,this.boundary.left=e.right-n),this.boundary.bottom>e.bottom&&(this.boundary.bottom=e.bottom,this.boundary.top=e.bottom-i),this.boundary.left<e.left&&(this.boundary.left=e.left,this.boundary.right=e.left+n),this.boundary.top<e.top&&(this.boundary.top=e.top,this.boundary.bottom,e.top)}},{key:"_adjustBoundaryByBox",value:function(e,t,n){var i=this.marginBox;i||(i={}),i.left=i.left||0,i.top=i.top||0,i.bottom=i.bottom||0,i.right=i.right||0;var r=Fh.on(t).expand(i.top,i.left,i.bottom,i.right).extract(),o=r.right-r.left,a=r.bottom-r.top;yv()(t,n)||(a=Math.min(e.bottom-e.top,n.bottom-n.top),o=Math.min(e.right-e.left,n.right-n.left)),r.right>e.right&&(r.right=e.right,r.left=e.right-o),r.bottom>e.bottom&&(r.bottom=e.bottom,r.top=e.bottom-a),r.left<e.left&&(r.left=e.left,r.right=e.left+o),r.top<e.top&&(r.top=e.top,r.bottom=e.top+a);var s=Fh.on(r).shrink(i.top,i.left,i.bottom,i.right).extract();Fh.copyTo(s,t)}},{key:"setMargin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,t=e.left,n=void 0===t?0:t,i=e.top,r=void 0===i?0:i,o=e.right,a=void 0===o?0:o,s=e.bottom,A=void 0===s?0:s;this.marginBox={left:n,top:r,right:a,bottom:A}}},{key:"getAdjustRect",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?Object.assign({},e):null}},{key:"getAdjustShape",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}:null}},{key:"getRect",value:function(){return Object.assign({},this.boundary)}},{key:"getShape",value:function(){return Object.assign({},this.shape)}},{key:"calculateShape",value:function(){var e=this.boundary;return{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}}},{key:"applyToDom",value:function(e,t){t=t||this.getShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}},{key:"applyAdjustingToDom",value:function(e,t){t=t||this.getAdjustShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}}],[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),e}(),Pv=function(e){return e.Horizontal="horizontal",e.Vertical="vertical",e.All="all",e}({}),Cv=Or.T,Dv="move",Ev=["square","widget","polygon","line","polyline","circle","stamp","freetext","fileattachment","text"],Sv=z.LoggerFactory.getLogger("ShapeControl"),Iv={};var Tv=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.emitter,r=n.prestart,o=void 0===r?z.noop:r,a=n.start,s=void 0===a?z.noop:a,A=n.update,c=void 0===A?z.noop:A,u=n.interceptor,l=void 0===u?Cv:u,d=n.moving,h=void 0===d?z.noop:d,f=n.end,p=void 0===f?z.noop:f,g=n.afterEnd,v=void 0===g?z.noop:g,m=n.rotate,y=void 0===m?z.noop:m,_=n.beforeRotateStart,b=void 0===_?z.noop:_,w=n.rotateStart,k=void 0===w?z.noop:w,x=n.rotateEnd,D=void 0===x?z.noop:x,E=n.afterRotateEnd,S=void 0===E?z.noop:E,I=n.enableDiagonally,T=void 0!==I&&I,M=n.enableFrame,R=void 0===M||M,F=n.enableSizeBox,N=void 0!==F&&F,L=n.resizable,O=void 0===L||L,j=n.moveable,B=void 0===j||j,V=n.rotatable,H=void 0!==V&&V,U=n.previewer,W=void 0!==U&&U,Y=n.enableUniform,G=void 0!==Y&&Y,$=n.minUniformSize,J=void 0===$?15:$,q=n.annotRender,K=void 0===q?null:q,Z=n.expansion,X=void 0===Z?{left:1,top:1,right:1,bottom:1}:Z,Q=n.degreeInitVisibility,ee=void 0===Q||Q,te=n.resizeCompanions,ne=void 0!==te&&te,ie=n.onStatusChange,re=void 0===ie?z.noop:ie,oe=n.degree,ae=void 0===oe?0:oe,se=n.auxiliaryLine,Ae=void 0===se?null:se,ce=n.moveDirection,ue=void 0===ce?Pv.All:ce;return(0,C._)(this,t),(e=(0,P._)(this,t)).ui=function(e){var t=Object.keys(e).sort().map(function(t){return e[t]?1:0}).join("");if(t in Iv)return Iv[t].cloneNode(!0);var n=(new DOMParser).parseFromString(cv()(e),"text/html").body.firstChild;return Iv[t]=n,n.cloneNode(!0)}({enableDiagonally:T,resizable:O,enableFrame:R,rotatable:H,moveable:B,previewer:W,enableSizeBox:N,degreeInitVisibility:ee}),e.emitter=i,e.onPrestart=o,e.onStart=s,e.onUpdate=c,e.onMoving=h,e.interceptor=l,e.onEnd=p,e.onAfterEnd=v,e.onBeforeRotateStart=b,e.onAfterRotateEnd=S,e.rotate=y,e.onRotateStart=k,e.onRotateEnd=D,e.enableUniform=G,e.minUniformSize=J,e.rotatable=H,e.moveable=B,e.enablePreviewer=W,e.isDisabled=!1,e.isMoveDisabled=!1,e.enableDiagonally=T,e.enableFrame=R,e.enableSizeBox=N,e.resizable=O,e.annotRender=K,e.rotateCursorStyle="fv__cursor-rotation",e.rotateDegree=ae,e.isRotateStarted=!1,e.auxiliaryLine=Ae,e.expansion=X,e.resizeCompanions=ne,e.companions=[],e.degreeInitVisibility=ee,e.isActive=!1,e.onStatusChange=re,e.moveDirection=ue,e}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){if(!this._isInitted){this._isInitted=!0;var e=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=e.getContext("2d"),this.companionMargin={left:0,right:0,top:0,bottom:0},this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.updateRotateDegreeBox(this.rotateDegree),this.resizableWrap=this.ui.querySelector(".fv__shape-controller-resizable-wrap"),this.bindEvents()}}},{key:"companion",value:function(e){var t=this;if(e===this)return z.noop;var n="function"==typeof e.getCompanionObject?e.getCompanionObject():void 0;return n?-1!==this.companions.indexOf(n)||n.companions.indexOf(this)>-1?z.noop:(this.companions.push(n),this.updateMargin(),function(){var e=t.companions.indexOf(n);e>-1&&t.companions.splice(e,1)}):z.noop}},{key:"getCompanionObject",value:function(){return this}},{key:"updateMargin",value:function(){if(0===this.companions.length)return this.setMargin(this.originMargin),void(this.companionMargin={left:0,right:0,top:0,bottom:0});var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach(function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)});var o=e.left-t,a=n-e.right,s=e.top-i,A=r-e.bottom;this.companionMargin={left:o,right:a,top:s,bottom:A},this.originMargin=this.shape.marginBox;var c={left:Math.max(this.companionMargin.left,this.originMargin.left),right:Math.max(this.companionMargin.right,this.originMargin.right),top:Math.max(this.companionMargin.top,this.originMargin.top),bottom:Math.max(this.companionMargin.bottom,this.originMargin.bottom)};this.setMargin(c)}},{key:"clearCompanions",value:function(){this.companions.length=0,this.updateMargin()}},{key:"getPreviewerContext",value:function(){return this.context}},{key:"bindEvents",value:function(){var e=this,t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach(function(t){return e._bindControllerEvents(t)}),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()}},{key:"_resolveOffset",value:function(e,t,n){var i=this.ui.getBoundingClientRect();return n<0&&e.y>i.bottom&&(n=0),n>0&&e.y<i.top&&(n=0),t>0&&e.x<i.left&&(t=0),t<0&&e.x>i.right&&(t=0),{offsetX:t,offsetY:n}}},{key:"_bindControllerEvents",value:function(e){var n,i,r=this,o=new Jr.Manager(e);o.add(new Jr.Pan({direction:Jr.DIRECTION_ALL})),o.on("panmove",function(t){var o=t.deltaX,a=t.deltaY,s=t.center;if(!r.isDisabled&&r.isActive){var A=r._resolveOffset(s,o-n,a-i),c=A.offsetX,u=A.offsetY;n=o,i=a,r.resize(e.getAttribute("direction"),c,u),r._resizeSizeBox()}}),o.on("panstart",function(t){var o=t.deltaX,a=t.deltaY,s=t.center;if(!r.isDisabled&&r.isActive){var A=r._resolveOffset(s,o,a),c=A.offsetX,u=A.offsetY;n=c,i=u,r.start(),r.resizeCompanions||r.setMargin({left:0,right:0,top:0,bottom:0}),r.resize(e.getAttribute("direction"),c,u,!0)}}),o.on("panend",function(e){!r.isDisabled&&r.isActive&&r.end(t.ACTION_RESIZE)}),o.on("pancancel",function(e){!r.isDisabled&&r.isActive&&r.cancel(t.ACTION_RESIZE)}),this.addDestroyHook(function(){o.destroy()})}},{key:"_resizeSizeBox",value:function(){if(this.shapeSizeBox){var e=this.shape.getAdjustShape();e||(e=this.shape.shape);var t=parseInt(e.width),n=parseInt(e.height);this.shapeSizeBox.innerHTML=t<120?t+"px*"+n+"px":t<170?"W: "+t+"px, H: "+n+"px":"Width: "+t+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}}},{key:"_bindMoveAreaEvents",value:function(){var e,n,i=this,r=this.ui,o=new Jr.Manager(r.querySelector(".fv__shape-control-move-area"),{domEvents:!0});o.add(new Jr.Pan({direction:Jr.DIRECTION_ALL})),o.on("panstart",function(t){var r=t.deltaX,a=t.deltaY,s=t.center,A=t.srcEvent;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var c=o.element.getBoundingClientRect(),u=c.width,l=c.height;if(u||l){var d=i.updateDeltaDataByDirection(r,a),h=d.offsetX,f=d.offsetY;e=h,n=f,i.start(),i.trigger("movingstart",{deltaX:s.x+h,deltaY:s.y+f,srcEvent:A}),i.move(e,n,!0)}}}),o.on("panend",function(e){if(i.trigger("movingend",e),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var n=o.element.getBoundingClientRect(),r=n.width,a=n.height;(r||a)&&(i.end(t.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}}),o.on("pancancel",function(e){if(i.trigger("movingcancel"),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var n=o.element.getBoundingClientRect(),r=n.width,a=n.height;(r||a)&&(i.cancel(t.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}}),o.on("panmove",function(t){var r=t.deltaX,a=t.deltaY,s=t.center,A=t.direction;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var c=o.element.getBoundingClientRect(),u=c.width,l=c.height;if(u||l){var d=i.updateDeltaDataByDirection(r,a);r=d.offsetX,a=d.offsetY;var h=r-e,f=a-n;e=r,n=a;var p=i.ui.getBoundingClientRect(),g=p.left,v=p.right,m=p.top,y=p.bottom;s.x<g&&A&Hammer.DIRECTION_RIGHT&&(h=0),s.x>v&&A&Hammer.DIRECTION_LEFT&&(h=0),s.y<m&&A&Hammer.DIRECTION_DOWN&&(f=0),s.y>y&&A&Hammer.DIRECTION_UP&&(f=0),i.move(h,f,void 0,!0)}}}),this.addDestroyHook(function(){o.destroy()})}},{key:"disable",value:function(){this.isDisabled=!0,this.ui.classList.add("disabled"),this.onStatusChange()}},{key:"enable",value:function(){this.isDisabled=!1,this.ui.classList.remove("disabled"),this.onStatusChange()}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.ui.classList.add("move-disabled"),this.onStatusChange()}},{key:"moveEnable",value:function(){this.moveable&&(this.isMoveDisabled=!1,this.ui.classList.remove("move-disabled"),this.onStatusChange())}},{key:"start",value:function(){this.isDisabled||(this.doStart(),this.onPrestart(),this.companions.forEach(function(e){return e.doStart()}))}},{key:"doStart",value:function(){this.ui.style.willChange="left, top, width, height",this.shape.process()}},{key:"move",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.updateDeltaDataByDirection(e,n);if(e=o.offsetX,n=o.offsetY,!this.isDisabled&&!this.isMoveDisabled){var a=this.shape.getAdjustRect();this.shape.adjustPosition(e,n);var s=this.getSnapRect(this.shape.getAdjustRect());if(s){var A=s.left-a.left,c=s.top-a.top;if(this.interceptor(this.shape.getAdjustShape())){if(this.auxiliaryLine&&r){var u=[],l=Object.assign({},s),d=this.auxiliaryLine.gap,h=this.auxiliaryLine.container,f=[this.shape.boundary],p={};p[this.shape.boundary.top+this.shape.boundary.left+this.shape.boundary.right+this.shape.boundary.bottom]=!0,this.companions.length&&this.companions.forEach(function(e){var t=e.getSnapRect(e.shape.getAdjustRect());l.left=Math.min(l.left,t.left),l.top=Math.min(l.top,t.top),l.right=Math.max(l.right,t.right),l.bottom=Math.max(l.bottom,t.bottom),f.push(e.shape.boundary),p[e.shape.boundary.top+e.shape.boundary.left+e.shape.boundary.right+e.shape.boundary.bottom]=!0});var g=(u=u.filter(function(e){var t=e.rect;if(Ev.indexOf(e.type)<0)return!1;if(!p[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=f[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.top==t.top&&s.left==t.left&&s.right==t.right&&s.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0})).map(function(e){return e.rect}),v=this.shape.drawAuxiliaryLine(l,g,d,h),m=s.right-s.left,y=s.bottom-s.top;!this.companions.length&&v.top&&(s.top=v.top,s.bottom=s.top+y),!this.companions.length&&v.left&&(s.left=v.left,s.right=s.left+m),!this.companions.length&&v.right&&(s.right=v.right,s.left=s.right-m),!this.companions.length&&v.bottom&&(s.bottom=v.bottom,s.top=s.bottom-y),A=s.left-a.left,c=s.top-a.top}var _=this.getShapeFromRect(s);this.shape.applyAdjustingToDom(this.ui,_),i&&this.onStart(_,this.context,t.ACTION_MOVE),this.onMoving(_,this.context,{offsetLeft:A,offsetTop:c}),this.companions.forEach(function(e){return e.move(A,c,i)})}else this.shape.undo()}}}},{key:"resize",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(e){case dv:case hv:case uv:case lv:case pv:case fv:case vv:case gv:break;default:throw new Error("Incorrect direction: ".concat(e))}if(this._resize(e,n,i),this.interceptor(this.shape.getAdjustShape())){var o=this.getShapeFromRect(this.getDirectionSnapRect(this.shape.getAdjustRect(),e));this.shape.applyAdjustingToDom(this.ui,o),this._updatePreviewer(),r&&this.onStart(o,this.context,t.ACTION_RESIZE),this.onUpdate(o,this.context,{offsetLeft:n,offsetTop:i,direction:e}),this.resizeCompanions&&this.companions.forEach(function(t){return t.resize(e,n,i,r)})}else this.shape.undo()}}},{key:"end",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(this.isDisabled||e===Dv&&this.isMoveDisabled)){n=n==this.companions.length,this.ui.style.willChange="auto";var i=this.shape.getAdjustRect();if(i){var r=this.getShapeFromRect(e===t.ACTION_MOVE?this.getSnapRect(i):this.getDirectionSnapRect(i));this.onEnd(r,this.context,e,n),this.shape.end(),this.shape.applyToDom(this.ui,r),(e!=t.ACTION_RESIZE||this.resizeCompanions)&&this.companions.forEach(function(t,n){return t.end(e,n)})}this.onAfterEnd(e)}}},{key:"cancel",value:function(e){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,e),this.companions.forEach(function(t){return t.cancel(e)}),this.onAfterEnd(e))}},{key:"rotateStart",value:function(e,t){var n=this.ui.getBoundingClientRect(),i={x:n.left+.5*n.width,y:n.top+.5*n.height};this.rotateStartPoint={x:e,y:t},this.rotationOffsetCenter=i,this.onRotateStart(this.rotateDegree,this.shape,this.context),this.companions.forEach(function(n){n.isRotateStarted=!0,n.rotateStart(e,t)})}},{key:"rotating",value:function(e,t){if(this.isRotateStarted){var n=this.rotateStartPoint,i=n.x,r=n.y,o=this.offsetDegree=this.getAngle(i,r,e,t);this.ui.style.transform="rotate(".concat(o,"deg)"),this.updateRotateDegreeBox(o),this.rotate(o,this.rotateDegree),this.companions.forEach(function(e){e.ui.style.transform="rotate(".concat(o,"deg)"),e.updateRotateDegreeBox(o),e.rotate(o,e.rotateDegree)})}}},{key:"getAngle",value:function(e,t,n,i){var r,o=this.rotationOffsetCenter,a=o.x,s=o.y,A=180*Math.atan2(t-s,e-a)/Math.PI,c=180*Math.atan2(i-s,n-a)/Math.PI;return A=A<=-90?360+A:A,c=c<=-90?360+c:c,r=(r=Math.floor(c-A))<0?r+360:r}},{key:"rotateEnd",value:function(){var e=this;this.isRotateStarted&&(this.isRotateStarted=!1,this.rotateDegree+=this.offsetDegree,this.onRotateEnd(this.rotateDegree,this.offsetDegree,this.shape,this.context).then(function(t){e.rotatingRod.style.transform="rotate(".concat(t,"deg)")}),this.companions.forEach(function(e){e.rotateEnd()}))}},{key:"moveDirectly",value:function(e,t){if(!this.isDisabled){this.start();try{this.move(e,t,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"resizeDirectly",value:function(e,t,n){if(!this.isDisabled){this.start();try{this.resize(e,t,n,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"_updatePreviewer",value:function(){if(this.enablePreviewer){var e=this.ui.querySelector(".fv__shape-control-previewer");e.setAttribute("width",this.ui.offsetWidth),e.setAttribute("height",this.ui.offsetHeight)}}},{key:"hidePreviewer",value:function(){}},{key:"showPreviewer",value:function(){}},{key:"hide",value:function(){this.ui.style.display="none"}},{key:"show",value:function(){this.ui.style.display="block"}},{key:"_resize",value:function(e,t,n){var i,r=this.ui,o=r.parentElement.parentElement.getBoundingClientRect();switch(i=this.enableUniform?xv.ADJUST_MODE_UNIFORM:z.keyboardStatus.isShift?xv.ADJUST_MODE_SQUARE:xv.ADJUST_MODE_FREE,e){case uv:a(e,this.shape.adjustNorth(n,i));break;case lv:a(e,this.shape.adjustSouth(n,i));break;case dv:a(e,this.shape.adjustEast(t,i));break;case hv:a(e,this.shape.adjustWest(t,i));break;case fv:a(e,this.shape.adjustNorthWest(t,n,i,o,this.minUniformSize));break;case pv:a(e,this.shape.adjustNorthEast(t,n,i,o,this.minUniformSize));break;case gv:a(e,this.shape.adjustSouthWest(t,n,i,o,this.minUniformSize));break;case vv:a(e,this.shape.adjustSouthEast(t,n,i,o,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+e)}function a(e,t){if(e!==t){var n=r.querySelector("[direction=".concat(t,"]")),i=r.querySelector("[direction=".concat(e,"]"));n.setAttribute("direction",e),i.setAttribute("direction",t)}}}},{key:"active",value:function(e,t,n){if(this.init(),this._applyAnnotBoundary(t),e){var i=(0,T._)(e,Element)?e:e.get(0);this.ui.parentElement!==i&&i.appendChild(this.ui)}var r=!!this.shape&&this.shape.processing;this.shape=new xv({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height,box:n,expansion:this.expansion}),r&&this.shape.process(),this.originMargin=this.shape.marginBox,this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree),this.rotatingRod&&(this.rotatingRod.style.transform="rotate(".concat(this.rotateDegree,"deg)")),this.isActive=!0}},{key:"updateRotateDegreeBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(e=parseInt(e))>180&&(e-=360),e*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=e+"°",this.rotateDegreeBox.style.transform="rotate(".concat(e,"deg)"))}},{key:"updateBoundary",value:function(e,t){Object.assign(this.shape.boundary,e),this._applyAnnotBoundary(this.shape.boundary),t&&this.updateBoundaryBox(t),this._updatePreviewer()}},{key:"setMargin",value:function(e){e&&this.shape&&this.shape.setMargin(e)}},{key:"updateBoundaryBox",value:function(e){this.shape.setBoundaryBox(e)}},{key:"getCurrentShape",value:function(){return this.shape.getShape()}},{key:"getAdjustingShape",value:function(){return this.shape.getAdjustShape()}},{key:"getAdjustedOffset",value:function(){var e=this.getAdjustedRectDiff();return{offsetLeft:e.left,offsetTop:e.top}}},{key:"getAdjustedRectDiff",value:function(){return Fh.subtract(this.shape.getAdjustRect(),this.shape.getRect())}},{key:"deactive",value:function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui),this.isActive=!1}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)}},{key:"_applyAnnotBoundary",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height,o=this.expansion;this.ui.style.cssText+="\n            width: ".concat(i+(o.left+o.right),"px;\n            height: ").concat(r+(o.top+o.bottom),"px;\n            left: ").concat(t-o.left,"px;\n            top: ").concat(n-o.top,"px;\n            ")}},{key:"_bindRotateEvents",value:function(){var e=this,t=this.ui.querySelector(".fv-shape-rotate-handle"),n=new Jr.Manager(t);n.add(new Jr.Pan({direction:Jr.DIRECTION_ALL}));n.on("panstart",function(t){var n=t.center;!e.isDisabled&&e.isActive&&(e.onBeforeRotateStart(),e.isRotateStarted=!0,e.companions.forEach(function(e){return e.isRotateStarted=!0}),e.rotateStart(n.x,n.y))}),n.on("panend",function(t){t.deltaX,t.deltaY;!e.isDisabled&&e.isRotateStarted&&(e.rotateEnd(),e.onAfterRotateEnd())}),n.on("pancancel",function(e){Sv.debug("rotate c")}),n.on("panmove",function(t){t.deltaX,t.deltaY;var n=t.center;!e.isDisabled&&e.isRotateStarted&&e.rotating(n.x,n.y)})}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}},{key:"getSnapGrid",value:function(){return this.snapGrid}},{key:"getSnapMaxRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=e.left,i=e.right,r=e.top,o=e.bottom,a=t.offsetLeft,s=t.offsetTop,A=t.subLineWidth,c=t.subLineHeight,u=t.maxWidth,l=t.maxHeight,d=(n-a)%A,h=(r-s)%c;return d<0&&(d+=a),i+=Math.abs((i-a)%A-A)%A,h<0&&(h+=s),o+=Math.abs((o-s)%c-c)%c,{left:n-=d,right:i=Math.min(u,i),top:r-=h,bottom:o=Math.min(l,o)}}},{key:"getSnapRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=t.maxWidth,i=t.maxHeight,r=e.left,o=e.right,a=e.top,s=e.bottom;if(r<=0||a<=0||o>=n||s>=i)return e;var A=t.offsetLeft,c=t.offsetTop,u=t.subLineWidth,l=t.subLineHeight,d=(r-A)%u,h=Math.abs(d-u)%u,f=(o-A)%u,p=Math.abs(f-u)%u,g=(a-c)%l,v=Math.abs(g-l)%l,m=(s-c)%l,y=Math.abs(m-l)%l,_=Math.min(d,f),b=Math.min(h,p),w=Math.min(g,m),k=Math.min(v,y);return _<b?(r-=_,o-=_):(r+=b,o+=b),w<k?(a-=w,s-=w):(a+=k,s+=k),{left:r,right:o,top:a,bottom:s}}},{key:"getDirectionSnapRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastDirection;if(this.lastDirection=t,!e)return e;var n=this.getSnapGrid();if(!n)return e;var i=n.offsetLeft,r=n.offsetTop,o=n.subLineWidth,a=n.subLineHeight,s=n.maxWidth,A=n.maxHeight,c=e.left,u=e.right,l=e.top,d=e.bottom;if(c<=0||l<=0||u>=s||d>=A)return e.left=Math.max(0,c),e.right=Math.min(s,u),e.top=Math.max(0,l),e.bottom=Math.min(A,d),e;var h=(c-i)%o,f=Math.abs((u-i)%o-o)%o,p=(l-r)%a,g=Math.abs((d-r)%a-a)%a;switch(t){case uv:l-=p;break;case lv:d+=g;break;case dv:u+=f;break;case hv:c-=h;break;case fv:c-=h,l-=p;break;case pv:u+=f,l-=p;break;case gv:c-=h,d+=g;break;case vv:u+=f,d+=g;break;default:throw new Error("Incorrect direction: "+t)}return{left:c,right:u,top:l,bottom:d}}},{key:"getShapeFromRect",value:function(e){if(e){var t=e.left,n=e.top;return{left:t,top:n,width:e.right-t,height:e.bottom-n}}}},{key:"updateResizable",value:function(e){this.resizableWrap.style.visibility=e?"visible":"hidden"}},{key:"updateDeltaDataByDirection",value:function(e,t){var n=Pv.Horizontal,i=Pv.Vertical;Pv.All;switch(this.moveDirection){case n:return{offsetX:e,offsetY:0};case i:return{offsetX:0,offsetY:t};default:return{offsetX:e,offsetY:t}}}},{key:"isAllDirection",value:function(){return this.moveDirection===Pv.All}}],[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return Dv}}]),t}(z.Disposable),Mv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov;return{selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect",items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(t,n,i){this.data(e).copyText()},visible:function(){var t=this.data(e);if(!t.annot.isArea())return!t.annot.isReplace||!t.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(e).showReplyDialog("reply")},disabled:function(){return this.data(e).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,n,i){this.data(e).showPropertiesDialog(t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(e).removeAnnot()},disabled:function(){return this.data(ov).deleteDisabled()}}},events:{show:function(){return this.data(ov).updateDeleteStatus(!0),!0},hide:function(){return this.data(ov).updateDeleteStatus(!1),!0}}}}(ov,".fv__pdf-page-annot-handler-rect"),Rv=sv()({direction:"left"}),Fv=sv()({direction:"right"}),Nv="px",Lv=function(e){function t(e,n,i,r){var o;if((0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="textmarkup",o.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),o.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),o.annot.isArea())o.createShapeControl();else{var a=function(e,t,n){n===Qt.flagsUpdated?o._updateStatus():n===Qt.quadPointsUpdated&&o.activeRect(e[0])},s=o.pdfViewer.getCustomOptionsUpdater();o.pdfViewer.eventEmitter.on(ae.annotationUpdated,a),o.addDestroyHook(function(){o.pdfViewer.eventEmitter.off(ae.annotationUpdated,a)}),o.addDestroyHook(s.onGetAnnotComponentConfigUpdated(function(){o._updateStatus()}))}return o}return(0,I._)(t,e),(0,D._)(t,[{key:"redraw",value:function(e){var n=this;return this.getAppPermission().then(function(e){(e.ignorable()||e.isAdjustable())&&!n.moveDisabled()?n.boundaryEnabled():n.boundaryDisabled()}),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"createShapeControl",value:function(){var e=this;z.Lazy.property(this,"shapeControl",function(){var t={moveable:!1,resizable:!0,enableDiagonally:!0},n=e.pdfViewer.customs.getAnnotComponentConfig(e,Object.keys(t)),i={start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n){return e.onShapeMoving(t,n)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)},auxiliaryLine:void 0};e.annot.isReplace()&&(i.moveable=!1),e.annot.isArea()&&(i.emitter=e.pdfViewer.eventEmitter,i=Object.assign(t,n,i));var r=new Tv(i);return e.processShapeControlPermissionCtrl(r),e.addDestroyHook(function(){r.destroy()}),r})}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.annot.isArea()&&!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this);this.annot.isArea();this.$rect&&(this.$rect.remove(),this.$rect=null),this._updateStatus()}},{key:"_updateStatus",value:function(){var e=this;this.getAppPermission().then(function(t){var n=!0;if(n=(t.ignorable()||t.isAdjustable())&&!e.moveDisabled(),e.annot.isArea())e.activeRect(),e.$rect.addClass("active"),e._applyShapeChange(),e.boundaryRemove(),e.pdfViewer.currentPDFDoc.readonly().then(function(t){t&&(n=!1),n?e.shapeControl.enable():e.shapeControl.disable()});else{var i=!0;if(n){var r={adjustable:!0},o=(0,w._)({},r,e.pdfViewer.customs.getAnnotComponentConfig(e,Object.keys(r)));i=!o.adjustable}e.activeTextBoundary(),e.pdfViewer.currentPDFDoc.readonly().then(function(t){t&&(i=!0),i?e.boundaryDisabled():e.boundaryEnabled()})}})}},{key:"updateSize",value:function(e,n){(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.isActive&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())}},{key:"unActive",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map(function(t){var n=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),i=n&&n.component;i&&i.isActive&&i.unActive&&i.unActive(),i&&i.deactive&&i.deactive()})}},{key:"afterRender",value:function(e){var t=e.transformed;(this.$ui.find("canvas").css({width:"",height:""}),t&&this.isActive)&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):(0,E._)((0,S._)(t.prototype),"createRectDom",this).call(this)}},{key:"copyText",value:function(){var e=this,t=this.annot.getContinuousText();return(0,z.copyText)(t).then(function(n){return n?e.pdfViewer.eventEmitter.emit(ae.copyTextSuccess,t):e.pdfViewer.eventEmitter.emit(ae.copyTextFailed,t),n})}},{key:"getBoundaryCss_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(e),i=this.getCssTransform_(e),r=(0,W.F2)(this.getQuadPointsHeight_(n))*this.scale,o=this.getPDFPage(),a=this.scale,s=this.rotate,A=o.getDeviceMatrix(s);A.scale(a,a);var c=[Math.min,Math.max][t](n[0].x,n[1].x,n[2].x,n[3].x),u=[Math.max,Math.min][t](n[0].y,n[1].y,n[2].y,n[3].y),l=A.transformPoint(c,u);return{transform:i,height:r,left:l[0],top:l[1]}}},{key:"getCssTransform_",value:function(e){return"rotate("+(90*(e.rotation+this.annot.getPDFPage().getRotation())+this.rotate)+"deg)"}},{key:"getCharQuadPoints_",value:function(e){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(e,e.rotation)}},{key:"getQuadPointsHeight_",value:function(e){return Math.sqrt(Math.pow(e[2].x-e[0].x,2)+Math.pow(e[2].y-e[0].y,2))}},{key:"getTextBoundaryInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,i=0,r=this.getBoundaryCss_(e,t);return 1!=e.rotation&&3!=e.rotation||(0==this.rotate?(n=r.height,i=0):90==this.rotate?(n=0,i=r.height):180==this.rotate?(n=-r.height,i=0):270==this.rotate&&(n=0,i=-r.height)),{boundaryCss:r,leftOffset:n,topOffset:i}}},{key:"updateLeftTextBoundaryPosition",value:function(e,t){var n=this.getTextBoundaryInfo(e),i=n.boundaryCss,r=n.leftOffset,o=n.topOffset,a={height:i.height+Nv,transform:i.transform,top:i.top+o+Nv,left:i.left+r+Nv};return t.css(a),{leftCss:i,leftBoundaryCSS:a}}},{key:"updateRightTextBoundaryPosition",value:function(e,t){var n=this.getTextBoundaryInfo(e,1),i=n.boundaryCss,r=n.leftOffset,o=n.topOffset,a={height:i.height+Nv,transform:i.transform,top:i.top-o-i.height+Nv,left:i.left-r+Nv};return t.css(a),{rightCss:i,rightBoundaryCSS:a}}},{key:"activeTextBoundary",value:function(){var e=this,t=this.annot,n=t.getStartCharInfo(),i=t.getEndCharInfo();if(n&&i){var r=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),o=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit();this.updateLeftTextBoundaryPosition(n,r),this.updateRightTextBoundaryPosition(i,o)}this.activeRect(t),this.$rect.on("click.unactive",function(t){e.isActive&&t.originalEvent.isTrusted&&0===t.button&&!t.shiftKey&&t.ctrlKey&&e.unActive()})}},{key:"leftTextBoundaryInit",value:function(){var e,t,n,i,r=this,o=this.$handler,a=O()(Rv),s=a[0],A=new(qr())(s);A.get("pan").set({direction:qr().DIRECTION_ALL});var c=function(){t&&a.css({left:t.left+Nv,top:t.top+Nv,height:t.height+Nv,transform:t.transform})};return A.on("panstart",function(o){!1!==r.onLeftPanStart(o)&&(n=r.scale,i=r.rotate,e={left:parseFloat(a.css("left")),top:parseFloat(a.css("top")),height:parseFloat(a.css("height")),transform:a.css("transform")},t=e,r.textBoundaryStart())}),A.on("panmove",function(o){if(!1!==r.onLeftPanMove(o)){var s=o.deltaX,A=o.deltaY;if(r.pdfViewer.config.highPerformance){var u=e.height;A+=u/2;var l=r.getPDFPage().reverseDevicePoint([e.left+s,e.top+A],n,i),d=r.annot,h=r.editDebouncePromise=r.editDebouncePromise||new Ae;h.push(function(){return r.getPDFPage().getCharInfoAtPoint(l,u/2/(0,W.F2)(n),!0).then(function(e){if(!e)return c(),[!1];var t=e.charIndex,n=d.getEndCharIndex();return t>n?(c(),Promise.resolve([!1])):Promise.all([d.updateQuadPointsByCharIndex(t,n),e])}).then(function(e){var n=(0,M._)(e,2),i=n[0],o=n[1];if(i){var s=r.updateLeftTextBoundaryPosition(o,a).leftCss;return s&&(t=s),r.updateRender().then(function(){return r.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,r),r.onLeftChangeSuccess(o)})}c()},function(){c()})}),h.exec()}else a.css({left:t.left+s+Nv,top:t.top+A+Nv})}}),A.on("panend",function(t){if(!1!==r.onLeftPanEnd(t)){var o=t.deltaX,s=t.deltaY,A=e.height;s+=A/2;var u=r.getPDFPage().reverseDevicePoint([e.left+o,e.top+s],n,i),l=r.annot,d=r.editDebouncePromise=r.editDebouncePromise||new Ae;d.push(function(){return r.getPDFPage().getCharInfoAtPoint(u,A/2/(0,W.F2)(n),!0).then(function(e){if(!e)return c(),[!1];var t=e.charIndex,n=l.getEndCharIndex();if(t>n)return Promise.resolve([!1]);r.updateLeftTextBoundaryPosition(e,a).leftCss;return Promise.all([l.updateQuadPointsByCharIndex(t,n),e])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];if(n)return r.updateRender().then(function(){return r.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,r),r.textBoundaryEnd(),r.onLeftChangeSuccess(i)});c()},function(){c()})}),d.exec()}}),this.leftHammer=A,o.append(a),this.addDestroyHook(function(){A.destroy()}),a}},{key:"rightTextBoundaryInit",value:function(){var e,t,n,i,r,o=this,a=this.$handler,s=O()(Fv),A=s[0],c=new(qr())(A);c.get("pan").set({direction:qr().DIRECTION_ALL});var u=function(){n&&s.css({left:n.left+Nv,top:n.top-t.height+Nv,height:n.height+Nv,transform:t.transform})};return c.on("panstart",function(t){!1!==o.onRightPanStart(t)&&(i=o.scale,r=o.rotate,e={left:parseFloat(s.css("left")),top:parseFloat(s.css("top")),height:parseFloat(s.css("height")),transform:s.css("transform")},n=e,o.textBoundaryStart())}),c.on("panmove",function(t){if(!1!==o.onRightPanMove(t)){var a=t.deltaX,A=t.deltaY;if(o.pdfViewer.config.highPerformance)s.css({left:n.left+a+Nv,top:n.top+A+Nv});else{var c=e.height;A+=c/2;var l=o.getPDFPage().reverseDevicePoint([e.left+a,e.top+c+A],i,r),d=o.annot,h=o.editDebouncePromise=o.editDebouncePromise||new Ae;h.push(function(){return o.getPDFPage().getCharInfoAtPoint(l,c/2/(0,W.F2)(i),!0).then(function(e){if(!e)return u(),[!1];var t=d.getStartCharIndex(),n=e.charIndex;if(t>n)return u(),Promise.resolve([!1]);o.updateRightTextBoundaryPosition(e,s).rightCss;return Promise.all([d.updateQuadPointsByCharIndex(t,n),e])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];if(n)return o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,o),o.onRightChangeSuccess(i)});u()},function(){u()})}),h.exec()}}}),c.on("panend",function(t){if(!1!==o.onRightPanEnd(t)){var n=t.deltaX,a=t.deltaY,A=e.height;a-=A/2;var c=o.getPDFPage().reverseDevicePoint([e.left+n,e.top+A+a],i,r),l=o.annot,d=o.editDebouncePromise=o.editDebouncePromise||new Ae;d.push(function(){return o.getPDFPage().getCharInfoAtPoint(c,A/2/(0,W.F2)(i),!0).then(function(e){if(!e)return o.textBoundaryEnd(),u(),[!1];var t=l.getStartCharIndex(),n=e.charIndex;if(t>n)return u(),Promise.resolve([!1]);o.updateRightTextBoundaryPosition(e,s).rightCss;return Promise.all([l.updateQuadPointsByCharIndex(t,n),e])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];if(n)return o.updateRender().then(function(){return o.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,o),o.textBoundaryEnd(),o.onRightChangeSuccess(i)});u()},function(){u()})}),d.exec()}}),this.rightHammer=c,a.append(s),this.addDestroyHook(function(){c.destroy()}),s}},{key:"textBoundaryStart",value:function(){}},{key:"textBoundaryEnd",value:function(){}},{key:"boundaryDisabled",value:function(){this.toggleBoundary(!1)}},{key:"boundaryEnabled",value:function(){this.toggleBoundary(!0)}},{key:"toggleBoundary",value:function(e){this.$leftTextBoundary&&(this.$leftTextBoundary.toggleClass("ban",!e),this.$rightTextBoundary.toggleClass("ban",!e),this.leftHammer.get("pan").set({enable:e}),this.rightHammer.get("pan").set({enable:e}))}},{key:"onStartUpdateShape",value:function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new z.DebounceAsyncTaskExecutor(10))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.exec(function(){return n.setRect(e)})}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editAreaDebouncePromise?this.editAreaDebouncePromise.waitForLastTask().then(function(){return i.setRect(e).then(function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(ae.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)})}):this.setRect(e).then(function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(ae.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)})}},{key:"onLeftPanStart",value:function(e){}},{key:"onLeftPanMove",value:function(e){}},{key:"onLeftChangeSuccess",value:function(){this.updateCollabOp()}},{key:"onLeftPanEnd",value:function(e){}},{key:"onRightPanStart",value:function(e){}},{key:"onRightPanMove",value:function(e){}},{key:"updateCollabOp",value:function(e){}},{key:"onRightChangeSuccess",value:function(){return this.updateCollabOp(),Promise.resolve()}},{key:"onRightPanEnd",value:function(e){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{quadPoints:this.annot.getQuadPoints()})}},{key:"boundaryRemove",value:function(){this.$leftTextBoundary&&(this.$leftTextBoundary.remove(),this.$leftTextBoundary=null,this.leftHammer.destroy(),this.leftHammer=null),this.$rightTextBoundary&&(this.$rightTextBoundary.remove(),this.$rightTextBoundary=null,this.rightHammer.destroy(),this.rightHammer=null)}}],[{key:"getDefaultContextMenuConfig",value:function(){return Mv}}]),t}(tv);const Ov=Lv;var jv=function(){function e(t){(0,C._)(this,e),this.component=t,this.prepared=!1}return(0,D._)(e,[{key:"prepare",value:function(){this.prepared||(this.prepared=!0,this.doPrepare())}},{key:"doPrepare",value:function(){}},{key:"show",value:function(){this.prepared&&this.doShow()}},{key:"doShow",value:function(){}},{key:"hide",value:function(){this.prepared&&this.doHide()}},{key:"doHide",value:function(){}},{key:"destroy",value:function(){this.component=null,this.prepared=!1}},{key:"willRender",value:function(){}},{key:"afterRender",value:function(){}},{key:"render",value:function(e,t,n){return this.prepared||this.prepare(),this.doRender(e,t,n)}},{key:"doRender",value:function(e,t){return Promise.resolve()}},{key:"numberToRGBAString",value:function(e){var t=(0,z.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"invisibleRender",value:function(){}}]),e}(),Bv=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(){this.prepared||(this.canvas=document.createElement("canvas"),this.container=this.component.getContainerElement(),this.container.appendChild(this.canvas),(0,E._)((0,S._)(t.prototype),"prepare",this).call(this))}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.prepared&&this.canvas.remove()}},{key:"doShow",value:function(){this.canvas.classList.remove("fv__ui-hide")}},{key:"doHide",value:function(){this.canvas.classList.add("fv__ui-hide")}},{key:"convertPointToPixel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ri.convertTo(e,Hi)*t}},{key:"willRender",value:function(){this.canvas.style.willChange="left, top, width, height",this.container.style.willChange="left; top"}},{key:"afterRender",value:function(){this.canvas.style.willChange="auto",this.container.style.willChange="auto"}},{key:"render",value:function(e,t){this.prepared||this.prepare();var n=this.component.getRenderingData(e,t);if(!n)return Promise.resolve();var i=n.annotInfo,r=i.borderInfo||{},o=this.convertPointToPixel(r.width,e),a=n.smartScale;!n.annotFlag.checkNoZoom()||(e=1);var s=n.rect,A=n.outerDeviceRect,c=n.innerDeviceRect;Object.assign(c,{width:c.right-c.left,height:c.bottom-c.top}),Object.assign(A,{width:A.right-A.left,height:A.bottom-A.top}),this.resetCanvasSize(A.width,A.height),this.container.style.cssText+="\n            left: ".concat(s.left,"px;\n            top: ").concat(s.top,"px;\n        ");var u=this.canvas.style;if(0===o&&0===i.borderColor&&!i.fillColor)return u.visibility="hidden",Promise.resolve();if(0===i.opacity)return u.visibility="hidden",Promise.resolve();u.visibility="unset";try{return Promise.resolve(this.doRender({outerRect:A,innerRect:c,deviceRect:s,scale:e,smartScale:a,rotate:t,renderingData:n}))}catch(e){return console.error(e),Promise.resolve()}}},{key:"doRender",value:function(e){e.outerRect,e.innerRect,e.deviceRect,e.scale,e.rotate}},{key:"resetCanvasSize",value:function(e,t){this.canvas.width=Math.ceil(e),this.canvas.height=Math.ceil(t),this.canvas.style.width=null,this.canvas.style.height=null}},{key:"invisibleRender",value:function(){this.canvas&&(this.canvas.width=0)}}]),t}(jv),Vv=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"convertToCanvasBasedPoint",value:function(e,t,n,i,r,o){var a=(0,M._)(r.getDevicePoint([e,t],i,o),2),s=a[0],A=a[1];return{x:s-n.left,y:A-n.top}}},{key:"doRender",value:function(e){var t=this,n=e.scale,i=e.renderingData,r=e.rotate,o=i.page,a=i.annotInfo,s=a.startCharInfo,A=a.endCharInfo,c=i.quadPoints,u=i.outerDeviceRect;if(!s){var l=c[0];s={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[2].y}}if(!A){var d=c[c.length-1];A={left:d[0].x,top:d[0].y,right:d[1].x,bottom:d[2].y}}var h=c.map(function(e,i){var a,s,A,c,l=e.map(function(e){return t.convertToCanvasBasedPoint(e.x,e.y,u,n,o,r)}),d=l.map(function(e){return e.x}),h=l.map(function(e){return e.y}),f=(a=Math).min.apply(a,(0,R._)(d)),p=(s=Math).max.apply(s,(0,R._)(d)),g=(A=Math).max.apply(A,(0,R._)(h)),v=(c=Math).min.apply(c,(0,R._)(h));return{left:f,right:p,bottom:g,top:v,width:p-f,height:g-v,textBlockHeight:g-v}});e.quadRects=h}}]),t}(Bv),Hv=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).lastX=0,n.lastY=0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(){(0,E._)((0,S._)(t.prototype),"prepare",this).call(this),z.isChrome||z.isFirefox||z.isSafari||z.isChromiumEdge||(this.canvas.style.cssText+='\n            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n            -ms-filter: alpha(opacity=50);\n            filter: alpha(opacity=50);\n            -moz-opacity: 0.5;\n            -khtml-opacity: 0.5;\n            opacity: 0.5;\n        ')}},{key:"doRender",value:function(e){e.smartScale,e.scale,this.component;var n=e.renderingData,i=n.annotInfo;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var r=this.canvas.getContext("2d");return r.clearRect(0,0,this.canvas.width,this.canvas.height),void r.save()}if(0!=i.hasBorderColor){var o=this.canvas.getContext("2d"),a=n.outerDeviceRect,s=a.right-a.left,A=a.bottom-a.top;if(this.container.style.cssText+="\n                left: ".concat(a.left,"px;\n                top: ").concat(a.top,"px;\n            "),this.canvas.style.cssText+="width: ".concat(s,"px;height: ").concat(A,"px;"),o.save(),o.fillStyle=this.numberToRGBAString(i.color),o.globalAlpha=n.opacity,n.isArea)o.fillRect(0,0,this.canvas.width,this.canvas.height);else(0,E._)((0,S._)(t.prototype),"doRender",this).call(this,e),e.quadRects.forEach(function(e){o.fillRect(e.left,e.top,e.width,e.textBlockHeight)});o.restore()}}}]),t}(Vv),Uv=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="highlight",o.$ui.addClass("fv__pdf-page-highlight-annot-container"),o.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"onShapeUpdating",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,E._)((0,S._)(t.prototype),"onShapeUpdating",this).call(this,e)}},{key:"onShapeMoving",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,E._)((0,S._)(t.prototype),"onShapeMoving",this).call(this,e)}},{key:"updateRender",value:function(){return this.redraw()}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.highlight===e}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{isArea:this.annot.isArea()})}}]),t}(Ov);const zv=Uv;var Wv=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="strikeout",o.$ui.addClass("fv__pdf-page-strikeout-annot-container"),o.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"updateRender",value:function(){var e=this.annot,t=[],n=[],i=this.parent("annotsRender");if(e.isGrouped())for(var r=e.getGroupElements(),o=r.length;o--;){var a=r[o];n[o]=i.getAnnotRender(a.getId()).component,t[o]=a.update()}else n=[this],t=[e.update()];return Promise.all(t).then(function(){for(var e=[],t=n.length;t--;)e[t]=n[t].render();return Promise.all(e)})}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.strikeout===e}}]),t}(Ov);const Yv=Wv;var Gv=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="Underline",o.$ui.addClass("fv__pdf-page-Underline-annot-container"),o.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.underline===e}}]),t}(Ov);const $v=Gv;var Jv=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="strikeout",o.$ui.addClass("fv__pdf-page-squiggly-annot-container"),o.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.squiggly===e}}]),t}(Ov);const qv=Jv;var Kv=n(1160),Zv=n.n(Kv),Xv=function(){function e(t,n){(0,C._)(this,e),this.x=t,this.y=n}return(0,D._)(e,[{key:"add",value:function(t,n){return new e(this.x+t,this.y+n)}},{key:"addp",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtractp",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"subtract",value:function(t,n){return new e(this.x-t,this.y-n)}},{key:"move",value:function(t,n){var i=n.x-this.x,r=n.y-this.y,o=t/Math.sqrt(i*i+r*r);return new e(this.x+i*o,this.y+r*o)}},{key:"rotate",value:function(t,n){var i=this.x-n.x,r=this.y-n.y,o=Math.sqrt(i*i+r*r),a=Math.atan2(r,i)-t,s=o*Math.cos(a),A=o*Math.sin(a);return new e(n.x+s,n.y+A)}},{key:"distanceTo",value:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)}},{key:"slope",value:function(e){var t=this._dot(e);return Math.acos(t/(this._disp()*e._disp()))}},{key:"_dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"_disp",value:function(){return Math.sqrt(this._dot(this))}},{key:"equalTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n=Math.abs(n),(0,T._)(t,e)&&Math.abs(this.x-t.x)<=n&&Math.abs(this.y-t.y)<=n}},{key:"clone",value:function(){return new e(this.x,this.y)}}]),e}(),Qv=4.396,em=function(){function e(t){(0,C._)(this,e),this.component=t}return(0,D._)(e,[{key:"numberToRGBAString",value:function(e){if("string"==typeof e)return e;var t=(0,z.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"renderLineEnd",value:function(e,t,n,i,r,o){if(0!==i){var a=n.renderingData,s=a.fillColor;"line"===a.annotInfo.type&&(s=a.annotInfo.styleFillColor);var A=n.scale,c=Math.atan2(o.y-r.y,o.x-r.x);switch(e.save(),e.lineJoin="miter",e.beginPath(),i){case ge.Square:this.renderSquareEnding(e,o,c,A,t);break;case ge.Circle:this.renderCircleEnding(e,o,c,A,t);break;case ge.Diamond:this.renderDiamondEnding(e,o,c,A,t);break;case ge.OpenArrow:o=o.move(t/2,r),this.renderOpenArrowEnding(e,o,c,A,t);break;case ge.ClosedArrow:o=o.move(t/2,r),this.renderClosedArrowEnding(e,o,c,A,t);break;case ge.Butt:this.renderButtEnding(e,o,c,A,t);break;case ge.ROpenArrow:this.renderROpenArrowEnding(e,o,c,A,t);break;case ge.RClosedArrow:this.renderRClosedArrowEnding(e,o,c,A,t);break;case ge.Slash:this.renderSlashEnding(e,o,c,A,t)}switch(i){case ge.ClosedArrow:case ge.RClosedArrow:case ge.Diamond:case ge.Square:case ge.Circle:s&&(e.fillStyle=this.numberToRGBAString(s),e.fill())}e.stroke(),e.restore()}}},{key:"renderSquareEnding",value:function(e,t,n,i,r){var o=Qv*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderCircleEnding",value:function(e,t,n,i,r){var o=1.75862*i+2*r;e.translate(t.x,t.y),e.rotate(n),e.moveTo(o,0),e.arc(0,0,o,0,2*Math.PI)}},{key:"renderDiamondEnding",value:function(e,t,n,i,r){var o=Qv*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n+Math.PI/4),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderOpenArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderClosedArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderButtEnding",value:function(e,t,n,i,r){var o=Math.PI/2,a=Qv*i+3.1*r,s=new Xv(t.x+a/2,t.y).rotate(Math.PI-n+o,t),A=s.rotate(Math.PI,t);e.moveTo(s.x,s.y),e.lineTo(A.x,A.y)}},{key:"renderROpenArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderRClosedArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderArrow",value:function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=Qv*i+3.1*r,A=new Xv(t.x+s,t.y),c=A.rotate(Math.PI-n+o,t),u=A.rotate(Math.PI-n-o,t);e.moveTo(c.x,c.y),e.lineTo(t.x,t.y),e.lineTo(u.x,u.y),a&&e.closePath()}},{key:"renderSlashEnding",value:function(e,t,n,i,r){var o=60/180*Math.PI,a=Qv*i+3.1*r,s=new Xv(t.x+a/2,t.y).rotate(Math.PI-n+o,t),A=s.rotate(Math.PI,t);e.moveTo(s.x,s.y),e.lineTo(A.x,A.y)}}]),e}(),tm=function(e){var t=e.getIoC().getInstanceByClass(rr).getMeasurementInfo();return t.markup&&t.caption?t.caption+"\n":""},nm=function(e,t,n){var i=e.getRenderingData(t,n);!i.annotFlag.checkNoZoom()||(t=1);var r=i.outerDeviceRect,o=i.innerDeviceRect;return Object.assign(o,{width:o.right-o.left,height:o.bottom-o.top}),Object.assign(r,{width:r.right-r.left,height:r.bottom-r.top}),{renderingData:i,innerRect:o,outerRect:r,scale:t,rotate:n}},im=function(e,t){var n=e.canvas,i=n.width,r=n.height,o=t.x,a=t.y;o-=4,a-=4,(o=Math.max(o,2))+8>i&&(o=i-8-2),(a=Math.max(a,2))+8>r&&(a=r-8-2),e.rotate(0),e.fillStyle="#ffffff",e.rect(o,a,8,8),e.stroke(),e.fill()},rm=Math.log(2),om=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).helper=new em(e),n}return(0,I._)(t,e),(0,D._)(t,[{key:"doRender",value:function(e){var t=this,n=e.renderingData,i=n.page,r=n.annotInfo,o=r.borderInfo||{},a=e.scale,s=e.rotate,A=this.convertPointToPixel(o.width,a);if(0!=A||-1!=r.borderColor||r.fillColor){var c=this.canvas.getContext("2d");if(c.clearRect(0,0,this.canvas.width,this.canvas.height),c.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=A,c.globalAlpha=r.opacity,c.lineWidth=A,0===A||!1===r.hasBorderColor?c.strokeStyle="transparent":c.strokeStyle=this.numberToRGBAString(r.color);var u=e.outerRect,l=this.convertToPathPoint(n.startPoint,a,u,i,s),d=this.convertToPathPoint(n.endPoint,a,u,i,s),h=n.leaderLinePoints,f=this.convertToPathPoint(h.start,a,u,i,s),p=this.convertToPathPoint(h.end,a,u,i,s);if(n.leaderLineOffset>0){var g=n.annotInfo.leaderLineLength>0?1:-1,v=this.convertPointToPixel(n.leaderLineOffset,a),m=l.move(v,d).rotate(g*Math.PI/2,l);d=d.move(v,l).rotate(g*-Math.PI/2,d),l=m,m=f.move(v,p).rotate(g*Math.PI/2,f),p=p.move(v,f).rotate(g*-Math.PI/2,p),f=m}var y=n.captionOffset,_=new Xv(this.convertPointToPixel(y.x,a),-this.convertPointToPixel(y.y,a)),b=this.convertPointToPixel(n.leaderLineExtend,a);try{if(o.style===de.DASHED){var w=o.dashes||[],k=o.dashPhase||0;c.setLineDash&&c.setLineDash(w.map(function(e){return t.convertPointToPixel(e,a)})),c.lineDashOffset=this.convertPointToPixel(k,a)}c.beginPath(),this.renderLine(c,l,d,f,p,b),c.closePath(),c.stroke(),this.helper.renderLineEnd(c,A,e,n.startStyle,p,f),this.helper.renderLineEnd(c,A,e,n.endingStyle,f,p),this.renderLineCaption(c,e,A,f,p,_)}finally{c.restore()}}}}},{key:"convertToPathPoint",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(0,M._)(i.getDevicePoint([e.x,e.y],t,r),2),a=o[0],s=o[1];return new Xv(a-n.left,s-n.top)}},{key:"renderLine",value:function(e,t,n,i,r,o){if(e.moveTo(i.x,i.y),e.lineTo(r.x,r.y),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),o>0){var a=i.move(-o,t),s=r.move(-o,n);e.moveTo(i.x,i.y),e.lineTo(a.x,a.y),e.moveTo(r.x,r.y),e.lineTo(s.x,s.y),e.moveTo(s.x,s.y)}}},{key:"renderLineCaption",value:function(e,t,n,i,r,o){var a=t.renderingData,s=t.scale,A=a.annotInfo,c=A.content;if("string"==typeof c&&!((c=c.trim()).length<1)){if(r.x<i.x){var u=i;i=r,r=u}var l,d,h=Math.atan2(r.y-i.y,r.x-i.x),f=i.distanceTo(r),p=i.move(.5*f,r),g=16*(l=s+1,Math.log(l)/rm),v=16777215-(16777215&A.borderColor^10855845);e.save(),e.fillStyle=this.numberToRGBAString(v),e.font=g+"px bold Arial",e.textBaseline="middle",e.textAlign="center";var m=e.measureText(c),y=m.actualBoundingBoxAscent+m.actualBoundingBoxDescent,_=p.move(o.y,i).rotate(Math.PI/2,p),b=Math.PI/2;switch(b=o.y>0?-Math.PI/2:Math.PI/2,a.captionPos){case ve.POS_INLINE:if(0!=o.y&&0!=o.x){d=_.move(o.x,p).rotate(b,_);break}d=_;break;case ve.POS_TOP:var w=p.move(.5*(n+y)-o.y,r).rotate(Math.PI/2,p);d=0!=o.x?w.move(o.x,p).rotate(b,_):w}if(a.hasCaption&&(e.translate(d.x,d.y),e.rotate(h),e.fillText(c,0,0),e.restore()),e.beginPath(),!(Math.abs(o.x)<f/2+m.width/2&&Math.abs(o.y)<y)){var k=o.x>0?-1:1,x=o.x+k*m.width/2;if(Math.abs(o.x)<=m.width/2){x=0;var P=y/2+4,C=o.y>0?1:-1,D=0;Math.abs(o.y)>y&&(D=o.y-C*P),_=p.move(D,i).rotate(Math.PI/2,p)}var E=_.move(x,p).rotate(b,_),S=E.move(Math.abs(x)+n/2,_);e.moveTo(p.x,p.y),e.lineTo(_.x,_.y),e.moveTo(S.x,S.y),e.lineTo(E.x,E.y),e.moveTo(E.x,E.y),e.closePath(),e.stroke()}}}},{key:"setMarkUp",value:function(e,t){var n=nm(this.component,e,t),i=n.renderingData,r=n.outerRect;e=n.scale,t=n.rotate;var o=i.page,a=i.annotInfo,s=a.borderInfo||{},A=this.convertPointToPixel(s.width,e),c=this.canvas.getContext("2d");c.clearRect(0,0,this.canvas.width,this.canvas.height),c.save(),c.lineWidth=A,c.strokeStyle=this.numberToRGBAString(a.color);var u=this.convertToPathPoint(i.startPoint,e,r,o,t),l=this.convertToPathPoint(i.endPoint,e,r,o,t),d=i.leaderLinePoints,h=this.convertToPathPoint(d.start,e,r,o,t),f=this.convertToPathPoint(d.end,e,r,o,t);if(i.leaderLineOffset>0){var p=i.annotInfo.leaderLineLength>0?1:-1,g=this.convertPointToPixel(i.leaderLineOffset,e),v=u.move(g,l).rotate(p*Math.PI/2,u);l=l.move(g,u).rotate(p*-Math.PI/2,l),u=v,v=h.move(g,f).rotate(p*Math.PI/2,h),f=f.move(g,h).rotate(p*-Math.PI/2,f),h=v}var m=this.convertPointToPixel(i.leaderLineExtend,e);c.beginPath(),this.renderLine(c,u,l,h,f,m),c.closePath(),im(c,u),im(c,l)}}]),t}(Bv),am=(n(995),function(e){return e.EndPoint="end-point",e.MidPoint="mid-point",e.IntersectionPoint="intersection-point",e.NearestPoint="nearest-point",e}({})),sm=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.arc(n/2,n/2,2*Math.PI,0,360),e.stroke()}}]),e}(),Am=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(n/2,0),e.lineTo(0,n),e.lineTo(n,n),e.closePath(),e.stroke()}}]),e}(),cm=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.rect(0,0,n,n),e.stroke()}}]),e}(),um=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(0,0),e.lineTo(n,n),e.moveTo(0,n),e.lineTo(n,0),e.stroke()}}]),e}(),lm=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"container",void 0),(0,U._)(n,"canvas",void 0),(0,U._)(n,"size",void 0),(0,U._)(n,"renderer",void 0),n.container=e,n.size=16,n.renderer=new sm,n.canvas=document.createElement("canvas"),n.canvas.classList.add("fv__viewer-snapped-point"),n.addDestroyHook(function(){n.canvas.parentElement===n.container&&n.container.removeChild(n.canvas)}),n.canvas.width=n.size,n.canvas.height=n.size,n}return(0,I._)(t,e),(0,D._)(t,[{key:"setRenderer",value:function(e){this.renderer=new e,this.redraw()}},{key:"setSize",value:function(e){this.size=e,this.canvas.width=e,this.canvas.height=e,this.redraw()}},{key:"setPosition",value:function(e,t){(0,z.cssText)(this.canvas,{left:e+"px",top:t+"px",margin:"".concat(.5*-this.size,"px ").concat(.5*-this.size,"px")})}},{key:"show",value:function(e){switch(this.container.appendChild(this.canvas),e){case am.MidPoint:this.setRenderer(Am);break;case am.IntersectionPoint:this.setRenderer(um);break;case am.NearestPoint:this.setRenderer(cm);break;default:this.setRenderer(sm)}}},{key:"hide",value:function(){this.canvas.parentElement===this.container&&this.container.removeChild(this.canvas)}},{key:"redraw",value:function(){if(this.renderer){var e=this.canvas.getContext("2d");e&&this.renderer.render(e)}}}]),t}(z.Disposable),dm="px",hm=Math.log(2),fm=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="line",z.Lazy.release(o,"shapeControl"),z.Lazy.property(o,"shapeControl",function(){var e={resizable:!0,moveable:!0,rotatable:!1},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n={emitter:o.pdfViewer.eventEmitter,start:function(){return o.onStartUpdateShape()},update:function(e,t){return o.onShapeUpdating&&o.onShapeUpdating(e,t)},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},onStatusChange:function(){o.updateHandlerPointStatus()},auxiliaryLine:void 0},i=new Tv(Object.assign(e,t,n));return o.processShapeControlPermissionCtrl(i),o.initializeShapeControl(i),i}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},{key:"movedByOther",value:function(){if(this.isActive){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),z.Lazy.isPropertyIntialized(this,"shapeControl")&&this.shapeControl.deactive()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect(),this.activeMore();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()}}},{key:"activeMore",value:function(){this.$handler.addClass("fv__annot-line-container");var e=2;0!==this.annot.getLeaderLineLength()&&(e=4),this.hammerInited=this.hammerInited||this.initHammer(e)}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then(function(){return i.moveTo(e.left,e.top,n).then(function(t){return i._setRect(e,!1)}).then(function(e){return i._applyShapeChange()})}):Promise.resolve()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),hasCap:e.hasCaption(),fillColor:r,isLocked:a,disabled:o,borderStyle:!0}}},{key:"redraw",value:function(e){var n=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e).then(function(){"line"==n.name&&n.annot.calculateLeaderLine(),n.updateHandlerPosition(),n.setMargin()})}},{key:"updateRender",value:function(){return this.redraw()}},{key:"initHammer",value:function(e){var t=this,n=this.$handler,i=Zv()({anchorCount:e,isLineDimension:this.annot.getIntent()==fe.LINE_DIMENSION,captionText:this.annot.getContent()}),r=O()(i);n.append(r);var o=this.annot.getType(),a=n.find(".fv__pdf-annot-line-point"),s=function(){return t.moveDisabled()};return this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,function(e){s=function(){return e.ignorable()?t.moveDisabled():!e.isAdjustable()}})),a.each(function(e,i){var r,A,c=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});t.addDestroyHook(function(){c.destroy()});var u,l=!1;c.on("panstart",function(e){s()?l=!1:(l=!0,"fv__pdf-annot-line-point-item"==(A=O()(e.target)).attr("class")&&(A=A.parent()),r={x:parseFloat(A.css("left")),y:parseFloat(A.css("top"))},t.backupProperty(i),t.boundaryChangeStart(e),t.snappedPointAssistant=new lm(n.get(0)))}).on("panmove",function(n){if(l){var i=(0,M._)(d(n.deltaX,n.deltaY),2),o=i[0],a=i[1];if(t.pdfViewer.config.highPerformance)t.updatePoint(o,a,e);else if(A.css({left:r.x+o+dm,top:r.y+a+dm}),t.annot.getIntent()!==fe.LINE_DIMENSION||![2,3].includes(e)){var s={x:r.x+o,y:r.y+a};t.getSnappedPoint(s).then(function(e){(0,z.isSamePoint)(s,e)?(t.snappedPointAssistant.hide(),u=null):(t.snappedPointAssistant.show(e.type),t.snappedPointAssistant.setPosition(e.x,e.y),u=e)})}}}).on("panend",function(n){if(l){t.snappedPointAssistant&&(t.snappedPointAssistant.destroy(),t.snappedPointAssistant=null);var i=(0,M._)(d(n.deltaX,n.deltaY),2),o=i[0],a=i[1];u&&(o=u.x-r.x,a=u.y-r.y,A.css({left:r.x+o+dm,top:r.y+a+dm}),u=null),t.updatePoint(o,a,e).then(function(e){t.boundaryChangeEnd(n)})}});var d=function(n,i){var s=a.eq(1^e),A=parseFloat(s.css("left")),c=parseFloat(s.css("top")),u=r.x+n,l=r.y+i;if("line"!==o||!z.keyboardStatus.isShift){var d=t._getShapeControllerBoundaryBox();return[n=Math.max(d.left,Math.min(d.right,u))-r.x,i=Math.max(d.top,Math.min(d.bottom,l))-r.y]}var h=Math.sqrt(Math.pow(u-A,2)+Math.pow(l-c,2)),f=Math.atan2(l-c,u-A),p=.25*Math.PI,g=Math.round(f/p)*p,v=h*Math.cos(g),m=c+h*Math.sin(g);return[A+v-r.x,m-r.y]}}),this.captionHammerHandler(),!0}},{key:"updateCollabPoint",value:function(e,t,n){if(!(n>1)&&this.pdfViewer.customs.isCollaborationMode()){var i=(0,M._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.annot.getStartPoint()),s=Object.assign({},this.annot.getEndPoint());0==n?a={x:a.x+r,y:a.y+o}:1==n&&(s={x:s.x+r,y:s.y+o}),this.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,this,{points:[a,s],rect:{left:Math.min(a.x-2,s.x-2),right:Math.max(a.x+2,s.x+2),top:Math.max(a.y+2,s.y+2),bottom:Math.min(a.y-2,s.y-2)}})}}},{key:"captionHammerHandler",value:function(){var e=this,t=function(){return e.moveDisabled()};this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,function(n){t=function(){return n.ignorable()?e.moveDisabled():!n.isAdjustable()}}));var n=this.$handler.find(".fv__pdf-annot-line-caption");if(n[0]){var i=new Hammer.Manager(n[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this.addDestroyHook(function(){i.destroy()});var r,o,a=!1;i.on("panstart",function(n){t()?a=!1:(a=!0,o=O()(n.target),r={x:parseFloat(o.css("left")),y:parseFloat(o.css("top"))},o.css("border","1px solid #5aa"),e.boundaryChangeStart(n))}).on("panmove",function(t){a&&(e.pdfViewer.config.highPerformance?e.updatePoint(t.deltaX,t.deltaY,4):o.css({left:r.x+t.deltaX+dm,top:r.y+t.deltaY+dm}))}).on("panend",function(t){a&&(O()(t.target).css("border","none"),e.updatePoint(t.deltaX,t.deltaY,4).then(function(n){e.boundaryChangeEnd(t)}))})}}},{key:"boundaryChangeStart",value:function(e){}},{key:"boundaryChangeEnd",value:function(e){}},{key:"updateHandlerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$handler,n=this.scale,i=this.rotate,r=[],o=this.annot.getStartPoint();r.push(this.annot.page.getDevicePoint([o.x,o.y],n,i));var a=this.annot.getEndPoint();if(r.push(this.annot.page.getDevicePoint([a.x,a.y],n,i)),0!=this.annot.getLeaderLineLength()){e&&this.annot.calculateLeaderLine();var s=this.annot.getLeaderLinePoints();r.push(this.annot.page.getDevicePoint([s.start.x,s.start.y],n,i)),r.push(this.annot.page.getDevicePoint([s.end.x,s.end.y],n,i))}for(var A=t.get(0).querySelectorAll("[data-index]"),c=0;c<r.length;c++){var u=A[c];u&&(u.style.cssText+="\n                left: ".concat(r[c][0],"px;\n                top: ").concat(r[c][1],"px;\n            "))}this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){if(this.annot.hasCaption()){var e=this.$handler.find(".fv__pdf-annot-line-caption"),t=this.scale,n=this.rotate,i=e.width(),r=e.height(),o=this.annot.getLeaderLinePoints(),a=o.start,s=o.end,A=this.annot.getCaptionPoint(),c=this.annot.page.getDevicePoint([A.x,A.y],t,n),u=c[0]-i/2,l=c[1]-r/2,d=-Math.atan2(s.y-a.y,s.x-a.x)*(180/Math.PI),h=16*(f=t+1,Math.log(f)/hm);e.css({left:"".concat(u).concat(dm),top:"".concat(l).concat(dm),transform:"rotate(".concat(d,"deg)"),"font-size":"".concat(h).concat(dm)})}var f}},{key:"updateHandlerPointStatus",value:function(){if(this.$handler){var e=this.$handler.get(0).querySelectorAll("[data-index]");if(e){var t=this.shapeControl.isDisabled||!this.shapeControl.resizable;e.forEach(function(e){e.style.display=t?"none":"block"})}}}},{key:"moved",value:function(){(0,E._)((0,S._)(t.prototype),"moved",this).call(this),this.updateHandlerPosition(),this.setMargin()}},{key:"setContent",value:function(e){return e===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(e)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.annot.update().then(function(e){return!0}):e}).then(function(e){return e?t.updateRender().then(function(){var n=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,t.getBoundary(),n),t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setFillColor",value:function(e){var t=this,n=this.annot.setStyleFillColor;return n||(n=this.annot.setFillColor),n.call(this.annot,e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setEndingStyle(e,t).then(function(){var e=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),e),n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)})}},{key:"setMeasureUnit",value:function(e){var t=this;return(0,T._)(e,Ci)&&(e=e.name),this.annot.setMeasureUnit(e).then(function(){return t.updateRender()}).then(function(){t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t)})}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Ii.name:r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?Ii.name:A;return(0,T._)(o,Ci)&&(o=o.name),(0,T._)(c,Ci)&&(c=c.name),this.annot.setMeasureRatio({userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.updateRender()}).then(function(){e.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,e)})}},{key:"getMeasureRatio",value:function(){var e=this.annot.info.measureRatio,t=(0,M._)(/(\d+(\.\d+)?)(?:\s+)(\w+)(?:\s+\=\s+)(\d+(\.\d+)?)(?:\s+)(\w+)/.exec(e),7),n=t[1],i=t[3],r=t[4],o=t[6];return{userSpaceValue:Number(n),userSpaceUnit:i,realValue:Number(r),realUnit:o}}},{key:"enableCaption",value:function(e){var t=this;return this.annot.enableCaption(e).then(function(){return t.redraw().then(function(){t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t)})})}},{key:"hasCaption",value:function(){return this.annot.hasCaption()}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(){return n.updateRender()}).then(function(){n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)})}},{key:"backupProperty",value:function(e){switch(e?O()(e).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}}},{key:"updateLeaderLineLength",value:function(e,t,n){var i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb,s=this.annot.k;n&&(i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb);var A,c,u=i.x+e,l=i.y+t,d=!0;if((r.x-o.x)*(l-r.y)-(u-r.x)*(r.y-o.y)>0&&(d=!1),isFinite(s)){var h=(s*(l-a)+u)/(s*s+1),f={x:h,y:s*h+a};A=f.x-r.x,c=f.y-r.y}else A=0,c=l-r.y;var p=Math.sqrt(A*A+c*c);return d&&(p=-p),this.annot.setLeaderLineLength(p)}},{key:"updatePoint",value:function(e,t,n){var i,r=this,o=(0,M._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),a=o[0],s=o[1];switch(n){case 1:i=this.annot.setEndPoint({x:this.oldEndPoint.x+a,y:this.oldEndPoint.y+s});break;case 0:i=this.annot.setStartPoint({x:this.oldStartPoint.x+a,y:this.oldStartPoint.y+s});break;case 2:i=this.updateLeaderLineLength(a,s,!1);break;case 3:i=this.updateLeaderLineLength(a,s,!0);break;case 4:i=this.updateCaptionOffset(a,s)}return i.then(function(){var e=r._getShapeControllerBoundaryBox();r.shapeControl.active(r.$handler,r.getBoundary(),e),r.updateHandlerPosition(),r.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,r)})}},{key:"updateCaptionOffset",value:function(e,t){var n=this.annot,i=n.getCaptionPoint(),r=n.getLeaderLinePoints(),o=r.start,a=r.end,s=new Xv(o.x,o.y),A=new Xv(a.x,a.y),c=n.getLeaderLineOffset();if(c>0){var u=s.move(c,A),l=A.move(c,s);s=u.rotate(-Math.PI/2,s),A=l.rotate(Math.PI/2,A)}var d,h,f=s.distanceTo(A),p=s.move(f/2,A),g=i.x+e,v=i.y+t,m=v-p.y,y=g-p.x,_=Math.sqrt(Math.pow(y,2)+Math.pow(m,2)),b=this.annot.k;if(isFinite(b)){var w=v-b*g,k=1,x=1,P=-1/b;if(isFinite(P)){var C=P*g+(s.y-P*s.x)<=v,D=b*g+(p.y-b*p.x)<=v;s.x<=A.x?(x=C?1:-1,k=P>0?D?1:-1:D?-1:1):(x=C?-1:1,k=P>0?D?-1:1:D?1:-1)}else s.y>=A.y?(k=m>0?-1:1,x=y>0?1:-1):(k=m>0?1:-1,x=y>0?-1:1);d=k*Math.abs(b*p.x-p.y+w)/Math.sqrt(Math.pow(b,2)+1),h=x*Math.sqrt(Math.pow(_,2)-Math.pow(d,2))}else{var E=s.x>A.x?-1:1;d=E*y,h=E*m}return n.setCaptionOffset(d,h)}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n),r=this.annot;return Object.assign(i,{leaderLineExtend:r.getLeaderLineExtend?r.getLeaderLineExtend():void 0,startPoint:r.getStartPoint?r.getStartPoint():void 0,endPoint:r.getEndPoint?r.getEndPoint():void 0,leaderLinePoints:r.getLeaderLinePoints?r.getLeaderLinePoints():void 0,leaderLineOffset:r.getLeaderLineOffset?r.getLeaderLineOffset():void 0,captionOffset:r.getCaptionOffset?r.getCaptionOffset():void 0,startStyle:r.getStartStyle?r.getStartStyle():void 0,endingStyle:r.getEndingStyle?r.getEndingStyle():void 0,hasCaption:r.hasCaption?r.hasCaption():void 0,captionPos:r.getCaptionPos?r.getCaptionPos():void 0,fillColor:r.getFillColor()||(r.getStyleFillColor?r.getStyleFillColor():void 0),content:r.info.content})}},{key:"getSnappedPoint",value:function(e){var t,n=this,i=this.annot.getIntent(),r=(t={},(0,U._)(t,fe.LINE_DIMENSION,Mn),(0,U._)(t,fe.POLYLINE_DIMENSION,Rn),(0,U._)(t,fe.POLYGON_DIMENSION,Fn),(0,U._)(t,fe.CIRCLE_DIMENSION,Nn),t)[i],o=this.pdfViewer.getSnapMode(r),a=this.getPDFPage();if(o&&o.length>0){var s=(0,M._)(a.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),A=s[0],c=s[1];return a.getSnappedPoint({x:A,y:c},o).then(function(e){var t=(0,M._)(a.getDevicePoint([e.x,e.y],n.scale,n.rotate),2);return{x:t[0],y:t[1],type:e.type}})}return Promise.resolve(e)}},{key:"updateSize",value:function(e,n){(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.isActive&&(this._applyShapeChange(),this.updateHandlerPosition())}}]),t}(tv);const pm=fm;var gm=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="lineMeasurement",o}return(0,I._)(t,e),(0,D._)(t,[{key:"getLengthInInchUnit",value:function(){var e=this.getDimension(),t=e.width,n=e.height;return this._getLengthInInchUnit(t,n)}},{key:"_getLengthInInchUnit",value:function(e,t){var n=Hi.convertTo(e,Ii),i=Ui.convertTo(t,Ii);return Math.round(100*Math.sqrt(n*n+i*i))/100}}]),t}(pm),vm=function(){function e(){(0,C._)(this,e),this.segments=[]}return(0,D._)(e,[{key:"addSegment",value:function(e){(0,T._)(e,mm)&&this.segments.push(e)}},{key:"render",value:function(e){e.beginPath(),this.segments.forEach(function(t){t.render(e)}),e.closePath()}}]),e}(),mm=function(){function e(t,n){(0,C._)(this,e),this.from=t,this.to=n}return(0,D._)(e,[{key:"render",value:function(e){(0,z.notImplemented)()}},{key:"isJoinedBefore",value:function(e){return this.to.equalTo(e.from)}},{key:"isJoinedAfter",value:function(e){return e.to.equalTo(this.from)}},{key:"isJoinedWith",value:function(e){return this.isJoinedBefore(e)||this.isJoinedAfter(e)}}]),e}(),ym=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"generate",value:function(){(0,z.notImplemented)()}}]),e}(),_m=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,C._)(this,t),(n=(0,P._)(this,t)).closing=i,e.length>1&&e.reduce(function(e,t,i){return n.addSegment(new bm(e,t,1===i)),t}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e){e.beginPath(),this.segments.forEach(function(t){t.render(e)}),this.closing&&e.closePath()}}]),t}(vm),bm=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).atTheStart=r,i}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e){this.atTheStart&&e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y)}}]),t}(mm);function wm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;e.fillStyle="#fff",t.forEach(function(t){e.beginPath(),e.arc(t.x,t.y,n,0,360),e.stroke(),e.fill()})}var km=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).helper=new em(e),n}return(0,I._)(t,e),(0,D._)(t,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(t.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polyline")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.canvas.getContext("2d"),s=this.convertPointToPixel(0==i.width?.5:i.width,r);if((0!=s||-1!=n.borderColor||n.fillColor)&&(a.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent())){var A=t.page,c=e.innerRect,u=t.vertexes.map(function(e){var t=(0,M._)(A.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new Xv(n-c.left,i-c.top)});e.vertexes=u,a.save(),e.lineWidth=s,a.globalAlpha=n.opacity,a.lineWidth=s,0===s||!1===n.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(n.color);try{switch(i.style){case de.DASHED:case de.SOLID:this.renderSolid(a,n,e);case de.BEVELED:}var l=u[u.length-1],d=u[u.length-2],h=u[0],f=u[1];this.helper.renderLineEnd(a,s,e,t.startStyle,f,h),this.helper.renderLineEnd(a,s,e,t.endingStyle,d,l),this.setContents(a,n.contents,u)}finally{a.restore()}}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],s=o.dashPhase||0;o.style===de.DASHED&&(e.setLineDash&&e.setLineDash(a.map(function(e){return i.convertPointToPixel(e,r)})),e.lineDashOffset=this.convertPointToPixel(s,r)),new _m(n.vertexes,!1,5).render(e),e.stroke();try{if(!z.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&wm(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=nm(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=this.canvas.getContext("2d"),s=i.page;a.strokeStyle=this.numberToRGBAString(o.color),i.vertexes.map(function(n){var i=(0,M._)(s.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new Xv(o-r.left,a-r.top)}).forEach(function(e){return im(a,e)}),a.restore()}},{key:"setContents",value:function(e,t,n){var i,r;if(void 0!==t&&n&&!(n.length<3)){var o=n[n.length-1],a=e;a.beginPath(),a.font="14px Verdana",a.textAlign="left",a.textBaseline="top",a.direction="ltr";var s=a.measureText(t).width;a.fillStyle="#AF6B6B";var A=n.map(function(e){return e.x}),c=(i=Math).min.apply(i,(0,R._)(A));(r=Math).max.apply(r,(0,R._)(A));Math.abs(o.x-c)>=s&&o.x>c?a.fillText(t,o.x-s,o.y,s):a.fillText(t,o.x,o.y,s),a.closePath()}}}]),t}(Bv),xm=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="polyline",o}return(0,I._)(t,e),(0,D._)(t,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polyLine-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,fillColor:r,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),disabled:o,borderStyle:!0,isLocked:a}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"updatePoint",value:function(e,t,n){var i=this;return this.movePointAt(n,{offsetX:e,offsetY:t}).then(function(){i.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,i)})}},{key:"movePointAt",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.offsetX,o=void 0===r?0:r,a=i.offsetY,s=void 0===a?0:a,A=this.annot.getPathVertexes();if(A.length>0){var c=A[e],u=this.resolveMovedPoint(c,o,s);t=this.annot.updatePathVertex(e,u)}else{var l=(this.oldVertex||this.annot.getVertexes())[e],d=this.resolveMovedPoint(l,o,s);t=this.annot.updateVertexes(e,d)}return t.then(function(){n.shapeControl.active(n.$handler,n.getBoundary(),n._getShapeControllerBoundaryBox())})}},{key:"resolveMovedPoint",value:function(e,t,n){var i=(0,M._)(this.annot.page.reverseDeviceOffset([t,n],this.scale,this.rotate),2),r=i[0],o=i[1],a={x:e.x+r,y:e.y+o},s=this.getPDFPage(),A=s.getWidth(),c=s.getHeight(),u=s.getRotationAngle(),l=u/90&1?c:A,d=u/90&1?A:c;return a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.x=Math.min(a.x,l),a.y=Math.min(a.y,d),a}},{key:"setLastPoint",value:function(e,t){var n=this.rotate,i=this.scale,r=this.annot.getVertexes().slice(0),o=r[r.length-1],a=(0,M._)(this.annot.page.getDevicePoint([o.x,o.y],i,n),2),s=a[0],A=a[1];e="number"==typeof e?e:s,t="number"==typeof t?t:A;var c=(0,M._)(this.annot.page.reverseDevicePoint([e,t],i,n),2),u=c[0],l=c[1];return o.x=u,o.y=l,this.setVertexes(r)}},{key:"addPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,M._)(this.annot.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1],o=this.annot.getVertexes().concat({x:i,y:r});return this.setVertexes(o)}},{key:"setVertexes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(t).then(function(){return e.updateRender()}).then(function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())})}},{key:"getVertexes",value:function(){return this.annot.getVertexes()}},{key:"getPathVertexes",value:function(){return this.annot.getPathVertexes()}},{key:"deleteVertex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,t=this.annot.getVertexes().filter(function(t,n){return n!==e});return this.setVertexes(t)}},{key:"updateHandlerPosition",value:function(){var e=this.$handler,t=this.scale,n=this.rotate,i=this.annot.getVertexes(),r=this.annot.getPathVertexes();r.length>0&&(i=r);for(var o=0;o<i.length;o++){var a=e.find("[data-index=".concat(o,"]")),s=i[o];s=this.annot.page.getDevicePoint([s.x,s.y],t,n),a.css({left:s[0]+"px",top:s[1]+"px",display:this.shapeControl.isDisabled?"none":"block"})}}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n),r=this.getVertexes(),o=this.getPathVertexes();return Object.assign(i,{vertexes:o.length>0?o:r})}},{key:"updateCollabPoint",value:function(e,t,n){if(this.pdfViewer.customs.isCollaborationMode()){var i=(0,M._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.getVertexes());a[n]={x:a[n].x+r,y:a[n].y+o};var s=this.annot.getRect();this.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,this,{points:Object.values(a),rect:{left:Math.min(s.left,a[n].x-2),right:Math.max(s.right,a[n].x+2),top:Math.max(s.top,a[n].y+2),bottom:Math.min(s.bottom,a[n].y+2)}})}}}]),t}(pm);const Pm=xm;var Cm=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[null,i])).controlPoint1=e,r.controlPoint2=n,r}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e){e.bezierCurveTo(this.controlPoint1.x,this.controlPoint1.y,this.controlPoint2.x,this.controlPoint2.y,this.to.x,this.to.y)}}]),t}(mm),Dm=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"render",value:function(e){e.moveTo(this.from.x,this.from.y)}}]),t}(mm),Em=.5522847498308,Sm=3.14159265358979,Im=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t)).points=e,r.innerRect=n,r.outerRect=i,r}return(0,I._)(t,e),(0,D._)(t,[{key:"generate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>2?arguments[2]:void 0,i=new vm,r=this.points.map(function(t){var n=e.innerRect.height-t.y;return new Xv(t.x,n)}),o=r.length;n||(n=o*t);var a=r.map(function(e,t){return e.distanceTo(r[(t+1)%o])}).reduce(function(e,t){return e+t}),s={left:r[0].x,right:r[0].x,top:r[0].y,bottom:r[0].y},A=a/n;if(0==A)return i;for(var c=[],u=0,l=r[0],d=r[1],h=l.distanceTo(d),f=0,p=1;f<n;f++){for(;u>h;)u-=h,p++,l=d,d=r[p%o],h=l.distanceTo(d);c.push(l.move(u,d)),u+=A}var g=c.length,v=!0,m=5*A/8;return c.forEach(function(t,n){var r=function(e,t,n){var i,r,o=e.subtractp(t),a=n.subtractp(t),s=[],A=Math.atan2(o.y,o.x),c=Math.atan2(a.y,a.x);A+=Math.acos(e.distanceTo(t)/(2*m))-Sm/9,c-=Math.acos(n.distanceTo(t)/(2*m)),c<A&&(c+=2*Sm);var u={left:t.x-m,right:t.x+m,bottom:t.y-m,top:t.y+m},l=Tm(u,A,c,v);(i=s).push.apply(i,(0,R._)(l.arrAp)),v=!1;var d=t.subtractp(n);return A=Math.atan2(d.y,d.x),A+=Math.acos(n.distanceTo(t)/(2*m)),c=A-Sm/9,u={left:n.x-m,right:n.x+m,bottom:n.y-m,top:n.y+m},l=Tm(u,A,c,v),(r=s).push.apply(r,(0,R._)(l.arrAp)),s}(c[0==n?g-1:n-1],t,c[(n+1)%g]);r.forEach(function(t){var n=function(t){if(t)return new Xv(t.x+e.innerRect.left-e.outerRect.left,e.innerRect.height-t.y+(e.innerRect.top-e.outerRect.top))};t.from=n(t.from),t.to=n(t.to),t.controlPoint1=n(t.controlPoint1),t.controlPoint2=n(t.controlPoint2),i.addSegment(t)})}),i.rect=s,i}}]),t}(ym);function Tm(e,t,n,i){var r,o,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b,w,k,x,P,C,D,E={};if(e.left>=e.right||e.bottom>=e.top)return{arrAp:[],pdfRect:E};if(Math.abs(n-t)<=1e-4)return{arrAp:[],pdfRect:E};var S=[];r=(e.right+e.left)/2,o=(e.top+e.bottom)/2,a=Math.abs(e.right-e.left)/2,s=Math.abs(e.top-e.bottom)/2,C=t,x=r+(f=a*Math.cos(C)),P=o+(p=s*Math.sin(C)),E.left=E.right=x,E.bottom=E.top=P,i&&S.push(new Dm(new Xv(x,P)));var I=1;n<t&&(I=-1);var T=Math.floor(2*t/Sm);I>0&&(T+=1),T*=Sm/2;for(var M=!1;D=T,I>0?n<=T&&(D=n,M=!0):n>=T&&(D=n,M=!0),f=a*Math.cos(C),p=s*Math.sin(C),_=a*Math.cos(D),d=h=-a*a*s*s,g=f+(x=(w=((u=a*a*p)*h-(l=a*a*(b=s*Math.sin(D)))*d)/((A=s*s*f)*l-(c=s*s*_)*u))-f)*Em,v=p+(P=(k=(c*d-A*h)/(A*l-c*u))-p)*Em,m=_+(x=w-_)*Em,y=b+(P=k-b)*Em,g=x=r+g,v=P=o+v,E.left>g&&(E.left=g),E.bottom>v&&(E.bottom=v),E.right<g&&(E.right=g),E.top<v&&(E.top=v),m=x=r+m,y=P=o+y,E.left>m&&(E.left=m),E.bottom>y&&(E.bottom=y),E.right<m&&(E.right=m),E.top<y&&(E.top=y),_=x=r+_,b=P=o+b,E.left>_&&(E.left=_),E.bottom>b&&(E.bottom=b),E.right<_&&(E.right=_),E.top<b&&(E.top=b),S.push(new Cm(new Xv(g,v),new Xv(m,y),new Xv(_,b))),!M;)C=D,T+=I*Sm/2;return{arrAp:S,pdfRect:E}}var Mm=function(e){function t(e){var n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).closing=i,n.showText=!0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"setFlag",value:function(e,t){this.closing=e,this.showText=t}},{key:"doPrepare",value:function(){(0,E._)((0,S._)(t.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polygon")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.convertPointToPixel(0==i.width?.5:i.width,r);if(0!=a||-1!=n.borderColor||n.fillColor){var s=this.canvas.getContext("2d");if(s.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){var A=t.page,c=e.innerRect,u=e.outerRect,l=t.vertexes.map(function(e){var t=(0,M._)(A.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new Xv(n-c.left,i-c.top)}),d=t.vertexes.map(function(e){var t=(0,M._)(A.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new Xv(n-u.left,i-u.top)});e.vertexes=l,s.save(),e.lineWidth=a,s.globalAlpha=n.opacity,0===a||!1===n.hasBorderColor?s.strokeStyle="transparent":s.strokeStyle=this.numberToRGBAString(n.color),s.lineWidth=a;try{switch(i.style){case de.DASHED:case de.SOLID:case de.UNDERLINE:case de.BEVELED:this.renderSolid(s,n,e),this.setContents(s,n.contents,l);break;case de.CLOUDY:0==a?this.renderSolid(s,n,e):this.renderCloud(s,n,e),this.setContents(s,n.contents,d)}}finally{s.restore()}}}}},{key:"renderCloud",value:function(e,t,n){var i=t.fillColor,r=t.borderInfo.cloudIntensity,o=n.innerRect,a=n.outerRect,s=new Im(n.vertexes,o,a),A=n.renderingData.vertexes,c=A.length;(c=c*=2==r?8:16,A.length>=2)&&(c=function(e,t){var n=2,i=Math.abs(e.right-e.left),r=Math.abs(e.bottom-e.top);n=1===t?parseInt((i+r)/4):parseInt((i+r)/6);return n<2&&(n=2),n%2!=0&&(n+=1),n}(this.calculateRect(A),r));s.generate(16/r,e,c).render(e),i&&(e.fillStyle=this.numberToRGBAString(i),e.fill()),e.stroke();try{if(!z.isTouchDevice)return;var u=o.left-a.left,l=o.top-a.top,d=n.vertexes.map(function(e){return{x:e.x+u,y:e.y+l}});void 0===n.renderingData.annotInfo.id&&wm(e,d)}catch(e){}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],s=o.dashPhase||0,A=t.fillColor;o.style===de.DASHED&&(e.setLineDash&&e.setLineDash(a.map(function(e){return i.convertPointToPixel(e,r)})),e.lineDashOffset=this.convertPointToPixel(s,r)),new _m(n.vertexes,this.closing).render(e),A&&(e.fillStyle=this.numberToRGBAString(A),e.fill()),e.stroke();try{if(!z.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&wm(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=nm(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=o.borderInfo||{},s=this.convertPointToPixel(a.width,e),A=this.canvas.getContext("2d");A.clearRect(0,0,this.canvas.width,this.canvas.height);var c=i.page,u=i.vertexes.map(function(n){var i=(0,M._)(c.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new Xv(o-r.left,a-r.top)});A.save(),A.strokeStyle=this.numberToRGBAString(o.color),A.lineWidth=s;var l=this.closing;this.closing=!0,this.renderSolid(A,o,{vertexes:u}),A.beginPath(),u.forEach(function(e){return im(A,e)}),this.closing=l}},{key:"setContents",value:function(e,t,n){var i;if(void 0!==t&&n&&!(n.length<3)&&this.showText){var r=n[n.length-1],o=e;o.beginPath(),o.font="14px Verdana",o.textAlign="left",o.textBaseline="top",o.direction="ltr";var a=o.measureText(t).width;o.fillStyle="#AF6B6B";var s=n.map(function(e){return e.x}),A=(i=Math).min.apply(i,(0,R._)(s));Math.abs(r.x-A)>=a&&r.x>A?o.fillText(t,r.x-a,r.y,a):o.fillText(t,r.x,r.y,a),o.closePath()}}},{key:"calculateRect",value:function(e){var t={},n={x:0,y:0};t.left=t.right=e[0].x,t.bottom=t.top=e[0].y;for(var i=e.length,r=1;r<=i;r++)n=e[r%i],t.left>n.x&&(t.left=n.x),t.bottom>n.y&&(t.bottom=n.y),t.right<n.x&&(t.right=n.x),t.top<n.y&&(t.top=n.y);return t}}]),t}(Bv),Rm=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="polygon",o}return(0,I._)(t,e),(0,D._)(t,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polygon-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"updateRender",value:function(){var e=this;return this.annot.update().then(function(){var t=e._getShapeControllerBoundaryBox();e.shapeControl.active(e.$handler,e.getBoundary(),t)}).then(function(n){return(0,E._)((0,S._)(t.prototype),"updateRender",e).call(e)})}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,z.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"updateBorderProperty",value:function(e){switch(this.annot.getCloudIntensity()){case 1:e.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:e.find("#borderStyle-select [value=7]").attr("selected",!0)}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"setCloudyIntensity",value:function(e){var t=this;this.annot.setBorderStyle(de.CLOUDY,e).then(function(){return t.updateRender().then(function(){t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t)})})}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{})}}]),t}(Pm);const Fm=Rm;var Nm="annotComponent",Lm={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(Nm).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(Nm).showActionsDialog()},disabled:function(){return this.data(Nm).actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Nm).removeAnnot()},disabled:function(){return this.data(Nm).deleteDisabled()}}};var Om=n(9059),jm=n.n(Om),Bm=(n(3636),n(6073)),Vm=function(){function e(){(0,C._)(this,e),this.init.apply(this,arguments)}return(0,D._)(e,[{key:"init",value:function(){if(1==arguments.length)this.info={type:arguments[0]};else{var e=(0,M._)(arguments,6),t=e[0],n=e[1],i=e[2],r=(e[3],e[4]),o=e[5];this.info=t,this.factory=n,this.doc=i,this.host=o,this.eventEmitter=r}this.initSubAction()}},{key:"checkInserted",value:function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach(function(t){e.subAction.push(e.factory.createAction(t,e.doc,e.doc.api,e.eventEmitter,e.host))})}},{key:"appendSubAction",value:function(e){this.subAction.push(e),this.info.subAction=this.info.subAction||[],this.info.subAction.push(e.info)}},{key:"getType",value:function(){return this.info.type}},{key:"getSubActionCount",value:function(){return this.info.subAction.length||0}},{key:"getSubAction",value:function(e){return this.subAction[e]}},{key:"insertSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");return t=Math.max(0,Math.min(t,this.getSubActionCount())),(0,T._)(n,e)&&(n=n.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,n).then(function(e){return i.updateAction(e),e})}},{key:"setSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");var r=this.getSubActionCount();if(0===r)throw new Error("Cannot be set without sub action.");return t=Math.max(0,Math.min(t,r-1)),(0,T._)(n,e)&&(n=n.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,t,n).then(function(e){return i.updateAction(e),e})}},{key:"removeAllSubActions",value:function(){var e=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then(function(t){e.updateAction(t)})}},{key:"removeSubAction",value:function(e){var t=this;if(this.doc.api){if("number"!=typeof e)throw new Error("param error. Only number is available.");var n=this.getSubActionCount();if(0===n)throw new Error("Cannot be remove without sub action.");return e=Math.max(0,Math.min(e,n-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,e).then(function(e){t.updateAction(e)})}}},{key:"setActionData",value:function(e){var t=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,e).then(function(e){t.updateAction(e)})}},{key:"updateAction",value:function(e){Object.assign(this.info,e),this.initSubAction(),this.host&&(this.eventEmitter.emit(oe.Z.actionUpdated,this.host),(0,T._)(this.host,ln)&&this.eventEmitter.emit(oe.Z.annotationUpdated,[this.host],this.host.getPDFPage(),"widget"===this.host.getType()?Qt.formFieldActionUpdated:Qt.actionDataUpdated))}},{key:"checkOutData",value:function(e){return!0}},{key:"exportToJson",value:function(){return{type:this.getType()}}},{key:"findAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=[];return e(this)&&t.push(this),this.subAction.forEach(function(n){var i;(i=t).push.apply(i,(0,R._)(n.findAction(e)))}),t}}]),e}(),Hm=["ZoomXYZ","ZoomFitPage","ZoomFitHorz","ZoomFitRect","ZoomFitBHorz","ZoomFitVert"],Um=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.goto]),(0,Bm._)(s)):(0,P._)(this,t,[e,n,i,r,o,a])}return(0,I._)(t,e),(0,D._)(t,[{key:"getDestination",value:function(){return this.info.destination}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t}(e)}},{key:"setDestination",value:function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===Hm.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return e.pageIndex=Math.min(this.doc.getPageCount()-1,Math.max(e.pageIndex,0)),this.doc.api.setActionDestination(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e})}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJson",this).call(this);return Object.assign(e,{destination:this.getDestination()})}}]),t}(Vm);var zm=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.uri]),(0,Bm._)(s)):(0,P._)(this,t,[e,n,i,r,o,a])}return(0,I._)(t,e),(0,D._)(t,[{key:"getURI",value:function(){return this.info.uri}},{key:"checkOutData",value:function(e){return e&&e.uri}},{key:"setURI",value:function(e){var t=this;if(!e&&"string"==typeof e)throw new Error("param error. Only non-empty strings is available.");return this.doc?this.doc.api.setActionURI(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e}):(this.info.uri=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJson",this).call(this);return Object.assign(e,{uri:this.getURI()})}}]),t}(Vm),Wm=function(){function e(t,n,i){var r=this;(0,C._)(this,e),this.annotRender=t,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var o={};if(i)switch(o.type=i.getType(),o.type){case"TypeURI":o.uri=i.getURI();break;case"TypeGoto":o.destination=i.getDestination()}var a=jm()(o);n||(a='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(a,"</dialog>"));var s=O()(a);this.$actionsDialog=s;var A=n||document.body;if(s.appendTo(A),this.bindChangeEvent(),this.update(o),!n||n===document.body){var c=s[0];Hg().registerDialog(c),c.showModal()}this.$gotoInput=s.find("#goto-input"),this.$gotoLeftValue=s.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=s.find(".fv__action-dialog-goto-top-value"),this.$urlInput=s.find("#url-input");var u=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:u}),o&&o.type)switch(o.type){case"TypeURI":this.$urlInput.val(o.uri);break;case"TypeGoto":this.$gotoInput.val(o.destination.pageIndex+1);var l=this.pdfViewer.getPDFPageRender(o.destination.pageIndex);l&&l.getPDFPage().then(function(e){var t=(0,M._)(e.getDevicePoint([o.destination.left,o.destination.top],l.getScale(),l.getRotation()),2),n=t[0],i=t[1];r.$gotoLeftValue.html(n.toFixed(2)),r.$gotoTopValue.html(i.toFixed(2))})}}return(0,D._)(e,[{key:"update",value:function(e){var t=this.$actionsDialog;e&&e.type&&(t.find("#select-action [value="+e.type+"]").attr("selected",!0),t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+e.type+"]").css("display","block"))}},{key:"bindChangeEvent",value:function(){var e=this,t=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),i=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(ae.zoomToSuccess,function(e,t){o()}),this._unwatchScrollEvent=i.addScrollEventListener(o);var r=this;function o(){var e=function(e){for(var t=e.$container.find(".fv__pdf-view-mode-item"),n=e.viewerRender.scrollWrap,i=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),o=(n.getWidth(),0),a=0,s=0,A=0;A<t.length;A++){var c=t[A],u=O()(c).width(),l=O()(c).height(),d=c.offsetTop,h=d+l,f=c.offsetLeft;if(h>i&&f+u>r){o=A,s=i-d,a=r-f;break}}return{pageIndex:o,left:a,top:s}}(n);r.$gotoInput.val(e.pageIndex+1),r.$gotoLeftValue.html(e.left.toFixed(2)),r.$gotoTopValue.html(e.top.toFixed(2))}t.on("click",".fv__action-btn-cancel",function(){e.annotRender.hideActionsDialog()}).on("click",".fv__action-dialog-close-icon",function(){e.annotRender.hideActionsDialog()}).on("change","#select-action",function(e){var n=e.target.value;t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+n+"]").css("display","block")}).on("click",".fv__action-btn-ok",function(n){var i=t.find("#select-action").val();if("TypeURI"===i){var o=t.find("#url-input").val(),a=new zm;e.annot.setAction(-1,a).then(function(){var t=e.annot.getAction();e.annot.setActionData(t,{uri:o}).then(function(){e.annotRender.hideActionsDialog()})})}else if("TypeGoto"===i){var s=e.pdfViewer.getPDFDocRender().getScale(),A=new Um;e.annot.setAction(-1,A).then(function(){var t={};t.pageIndex=e.$gotoInput.val()-1;var n=r.pdfViewer.getPDFPageRender(t.pageIndex),i=n.getScale();n.getPDFPage().then(function(r){var o=(0,M._)(r.reverseDevicePoint([Number(e.$gotoLeftValue.html()),Number(e.$gotoTopValue.html())],i,n.getRotation()),2),a=o[0],A=o[1];t.left=a,t.top=A,"fitWidth"===s?t.type="ZoomFitHorz":"fitHeight"===s?t.type="ZoomFitPage":(t.type="ZoomXYZ",t.zoomFactor=i);var c=e.annot.getAction();e.annot.setActionData(c,t).then(function(){e.annotRender.hideActionsDialog()})})})}}).on("input","#goto-input",function(t){var n=t.target.value;e.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})})}},{key:"close",value:function(){var e=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),e&&(e[0].close(),e.remove(),this.$actionsDialog=null)}}]),e}();var Ym,Gm=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(t.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")}},{key:"doRender",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.renderingData.annotInfo,i=n.borderInfo||{},r=this.convertPointToPixel(i.width||1,e.scale),o=this.canvas.getContext("2d");if(o.clearRect(0,0,this.canvas.width,this.canvas.height),o.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=r,t&&(o.globalAlpha=n.opacity),0===r||!1===n.hasBorderColor?o.strokeStyle="transparent":o.strokeStyle=this.numberToRGBAString(n.color),o.lineWidth=r;try{switch(i.style){case de.BEVELED:case de.UNDERLINE:case de.SOLID:this.renderSolid(o,n,e);break;case de.DASHED:this.renderDashed(o,n,e);break;case de.CLOUDY:this.renderCloud(o,n,e)}var a=n.fillColor;a&&(o.fillStyle=this.numberToRGBAString(a),o.fill()),o.stroke()}finally{o.restore()}}}},{key:"shrinkRect",value:function(e,t){var n=Fh.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"renderCloud",value:function(e,t,n){t.fillColor;var i=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),o=this.shrinkRect(n.outerRect,0),a=r.width,s=r.height;new Im([new Xv(0,s),new Xv(a,s),new Xv(a,0),new Xv(0,0)],r,o).generate(32/3/i).render(e)}},{key:"renderDashed",value:function(e,t,n){var i=this,r=t.borderInfo,o=r.dashes||[],a=r.dashPhase||0,s=n.scale;e.save(),e.setLineDash&&e.setLineDash(o.map(function(e){return i.convertPointToPixel(e,s)})),e.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(e,t,n)}},{key:"renderSolid",value:function(e,t,n){var i=n.lineWidth,r=n.innerRect,o=n.outerRect,a=r.width,s=r.height,A=.5*i,c=r.left-o.left,u=r.top-o.top;e.beginPath(),e.rect(A+c,A+u,a-i,s-i),e.closePath()}}]),t}(Bv),$m=Nm,Jm=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Lm,events:{show:function(){return this.data(Nm).updateDeleteStatus(!0),!0},hide:function(){return this.data(Nm).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),qm="px",Km=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n=new Tv(Object.assign(e,t,{emitter:o.pdfViewer.eventEmitter,start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t){return o.onShapeMoving(e,t)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));o.moveDisabled()&&n.disable(),n.ownsTo(o.disposor);var i=o.pdfViewer.getAnnotAuthorityManager();o.addDestroyHook(i.subscribe(o.annot,function(e){o.updateOnPermissionChange(e)}));var r=o.pdfViewer.eventEmitter,a=function(){o.isDestroyed||o.annot.isDestroyed||i.getPermission(o.annot).then(function(e){o.updateOnPermissionChange(e)})};return r.on(ae.permissionChanged,a),o.addDestroyHook(function(){r.off(ae.permissionChanged,a)}),o.initializeShapeControl(n),n}),o.addDestroyHook(o.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated(function(){if(z.Lazy.hasProperty(o,"shapeControl")&&z.Lazy.isPropertyIntialized(o,"shapeControl")){var e=o.shapeControl.isActive,t=o.shapeControl;z.Lazy.reset(o,"shapeControl"),e&&o._applyShapeChange(),t.destroy()}})),o.name="link",o.highlightModeIsActive=!1,o.$ui.addClass("pdf-page-link-annot-container"),o.$handler.addClass("pdf-page-link-annot-handler-container");var a=o.pdfViewer.i18n,s=Ng().i18n=function(e){return a.t(e)};o.addDestroyHook(function(){Ng().i18n===s&&(Ng().i18n=void 0)});var A=z.isTouchDevice?"touchstart":"mousedown";return o.$ui.on(A,function(e){o.highlightModeIsActive=!0,o.render();var t=z.isTouchDevice?"touchend":"mouseup";window.addEventListener(t,function(){o.highlightModeIsActive=!1,o.render()},{capture:!0,once:!0})}),o.pdfViewer.eventEmitter.on(ae.pageRemoved,o.pageRemoved=function(e){var t=o.annot&&"TypeGoto"==o.annot.action.info.type&&o.annot.action.info.destination&&o.annot.action.info.destination.pageIndex;if(o.annot&&"number"==typeof t&&t==e){var n=o.annot;n.hasPA().then(function(e){e&&n.resetAByPA()})}}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"actionsDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e){e.width<1||e.height<1||this.setRect(e)}},{key:"onShapeMoving",value:function(e,t){this.$ui.css({left:e.left,top:e.top})}},{key:"onShapeUpdateEnd",value:function(e,t,n){switch(n){case Tv.ACTION_MOVE:return this.moveTo(e.left,e.top,n);case Tv.ACTION_RESIZE:return e.width<1||e.height<1?Promise.resolve():this.setRect(e)}}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(A/r),A,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n)}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()))}},{key:"doAction",value:function(){return this.annot.triggerAction()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()}},{key:"updateBorderProperty",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,z.colorConvertor)(e.getBorderColor(),"#"),borderWidth:e.getBorderWidth(),highlightingMode:e.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0,borderStyle:!0,isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Wg(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Wm(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(){return n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)})})}},{key:"setHighlightingMode",value:function(e){var t=this;return this.annot.setHighlightingMode(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"redraw",value:function(){return this.activeRect(),this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),this.pageRemoved&&this.pdfViewer.eventEmitter.off(ae.pageRemoved,this.pageRemoved),this.pageRemoved=null,(0,E._)((0,S._)(t.prototype),"destroy",this).call(this)}},{key:"showContextMenu",value:function(e,t){if(this.contextMenu){if(z.isDesktop&&this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn)return;return this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t)}return!1}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then(function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0}).then(function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t})}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||z.noop)(this)).then(function(t){if(n.emit(ae.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then(function(t){return n.emit(ae[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t},function(){n.emit(ae.removeActionAnnotationFailed,e)})})}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+qm,top:r.top+qm,width:r.right-r.left+qm,height:r.bottom-r.top+qm}),this.isActive&&this._applyShapeChange()}},{key:"updateSize",value:function(e,n){(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.activeRect()}},{key:"rectInit",value:function(){var e=this.$handler,t=O()(this.createRectDom());e.append(t);var n=t[0],i=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),this.contextMenuIsEnable()&&(e.on("contextmenu",function(e){e.preventDefault()}),e.on("mouseup",function(e){e.stopPropagation()}),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),t.data($m,this)),this.addDestroyHook(function(){i.destroy()}),t}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getContextMenuConfig",value:function(){if(Ym)return Ym;var e=this.constructor.getDefaultContextMenuConfig();for(var t in this.updateContextMenuConfig(e),e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"doubleTapAnnot",value:function(){}},{key:"updateContextMenuConfig",value:function(e){}},{key:"active",value:function(e){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.$handler.addClass("active"),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"tapAnnot",value:function(e){if(this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==yn)return(0,E._)((0,S._)(t.prototype),"tapAnnot",this).call(this,e);e&&0==e.button&&this.doAction()}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{highlightingMode:this.annot.getHighlightingMode(),highlightModeIsActive:this.highlightModeIsActive})}}],[{key:"getDefaultContextMenuConfig",value:function(){return Jm}},{key:"setContextMenuConfig",value:function(e){Ym=e}}]),t}(qd);const Zm=Km;var Xm=2*Math.PI;var Qm=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"doRender",value:function(e){var t=e.renderingData.annotInfo,n=t.borderInfo||{},i=this.convertPointToPixel(n.width||1,e.scale);if(0!=i||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=i,r.globalAlpha=t.opacity,0===i||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=i;try{switch(n.style){case de.SOLID:this.renderSolid(r,t,e);break;case de.BEVELED:break;case de.DASHED:this.renderDashed(r,t,e);break;case de.CLOUDY:0==n.cloudIntensity?this.renderSolid(r,t,e):this.renderCloud(r,t,e)}var o=t.fillColor;o&&(r.fillStyle=this.numberToRGBAString(o),r.fill()),r.stroke(),this.setContents(r,t.contents,e)}finally{r.restore()}}}}},{key:"renderSolid",value:function(e,t,n){this.renderDashed(e,t,n)}},{key:"renderDashed",value:function(e,t,n){var i=t.borderInfo,r=n.lineWidth,o=n.innerRect,a=n.outerRect,s=i.dashes||[],A=i.dashPhase||0,c=.5*r,u=new Xv(.5*(o.left+o.right)-a.left,.5*(o.top+o.bottom)-a.top),l=Math.abs(.5*o.height-c),d=Math.abs(.5*o.width-c);e.lineDashOffset=A,e.setLineDash&&e.setLineDash(s),e.beginPath(),function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI,A=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];e.ellipse?e.ellipse(t,n,i,r,o,a,s,A):(e.save(),e.translate(t,n),e.rotate(o),e.scale(i,r),e.arc(0,0,1,a,s,A),e.restore())}(e,u.x,u.y,d,l),e.closePath()}},{key:"renderCloud",value:function(e,t,n){var i=t.borderInfo.cloudIntensity,r=.5*n.lineWidth,o=this.shrinkRect(n.innerRect,r),a=this.shrinkRect(n.outerRect,r),s=new Xv(.5*(a.right-a.left)-(o.left-a.left),.5*(a.bottom-a.top)-(o.top-a.top)),A=.5*o.height-r,c=.5*o.width-r,u=16/i,l=Math.PI/u,d=2*Math.PI,h=Array(Math.floor(d/l)-1).fill(0).map(function(e,t){return t*l%d}).map(function(e){var t=c*Math.cos(d-e),n=A*Math.sin(d-e);return s.add(t,n)});new Im(h,o,a).generate(1,e).render(e)}},{key:"shrinkRect",value:function(e,t){var n=Fh.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"setContents",value:function(e,t,n){if(void 0!==t){var i=n.innerRect,r=n.outerRect,o=.5*(i.left+i.right)-r.left,a=.5*(i.top+i.bottom)-r.top,s=e;s.beginPath(),s.font="14px Verdana",s.textAlign="left",s.textBaseline="top",s.direction="ltr";var A=s.measureText(t).width;s.fillStyle="#AF6B6B",s.fillText(t,o-A/2,a-7,A),s.closePath()}}}]),t}(Bv);var ey=function(){return jg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect")}(),ty=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0,resizable:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n=new Tv(Object.assign(e,t,{emitter:o.pdfViewer.eventEmitter,start:function(){return o.onStartUpdateShape()},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t){return o.onShapeMoving(e,t)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return o.processShapeControlPermissionCtrl(n),n}),o.$ui.addClass("circle-ui"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t=this.getInnerBoundary();this.shapeControl.active(this.$handler,t,e),this._updateShapeControlMargin()}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange()}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Fh.subtract(r,o);return Fh.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(e,t),this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then(function(e){n._updateShapeControllerBoundaryBox()})}))}},{key:"onShapeMoving",value:function(e,t){var n=this;this.updateCollabOp(e),this.justMoved=!0,this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){var t=n.getRect(),i=n.getInnerRect(),r=t.left-i.left,o=t.top-i.top;return n.moveTo(e.left+r,e.top+o).then(function(e){n._updateShapeControllerBoundaryBox()})})}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;this._previewUpdatedShape(e,t);var r=this.getRect(),o=this.getInnerRect(),a=r.left-o.left,s=r.top-o.top;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then(function(){var t=!!i.justMoved;return i.moveTo(e.left+a,e.top+s,n,!0,!1,t).then(function(t){!i.justMoved&&i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0),i.justMoved=!1}).then(function(e){i._updateShapeControllerBoundaryBox()})}):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Fh.subtract(this.getRect(),this.getInnerRect()),i=Fh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height);var n=e.width/2,i=e.height/2,r=n,o=i;t.strokeStyle="#759DB8",t.lineWidth=1,function(e,t,n,i,r){var o=Math.max(i,r),a=i/o,s=r/o;e.save(),e.scale(a,s),e.beginPath(),e.arc(t/a,n/s,o,0,Xm,!1),e.closePath(),e.restore()}(t,n,i,r,o),t.stroke()}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,z.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return t._handlerRerender(e)})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(e){return n._handlerRerender(e)})}},{key:"setCloudIntencity",value:function(e){return this.setBorderStyle(de.CLOUDY,e)}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then(function(e){return t._handlerRerender(e)})}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return ey}}]),t}(tv),ny=n(3110),iy=n.n(ny),ry=n(7308),oy=n.n(ry),ay=n(3856),sy=n.n(ay),Ay=n(4814),cy=n.n(Ay),uy=n(9797),ly=n.n(uy),dy=n(4739),hy=n.n(dy),fy=n(1158),py=n.n(fy),gy=n(2186),vy=n.n(gy),my=n(927),yy=n.n(my),_y=n(5984),by=n.n(_y),wy=n(1490),ky=n.n(wy),xy=n(9856),Py=n.n(xy),Cy=n(7156),Dy=n.n(Cy),Ey=n(9649),Sy=n.n(Ey),Iy=n(7283),Ty=n.n(Iy);iy(),oy(),sy(),cy(),ly(),hy(),py(),vy(),yy(),by(),ky(),Py(),Dy(),Sy(),Ty();var My=n(1583),Ry=n.n(My),Fy=n(6283),Ny=n.n(Fy),Ly=n(6852),Oy=n.n(Ly),jy=n(8807),By=n.n(jy);Ry(),Ny(),Oy(),By();var Vy=n(8998),Hy=n.n(Vy),Uy=n(7697),zy=n.n(Uy),Wy=n(9291),Yy=n.n(Wy);Hy(),zy(),Yy();var Gy=function(e){return e.fully="fully",e.playable="playable",e.adjustable="adjustable",e.deletable="deletable",e.modifiable="modifiable",e.attachmentDownloadable="attachmentDownloadable",e.replyable="replyable",e.editable="editable",e}({}),$y=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="note",o.$ui.addClass("fv__pdf-page-note-annot-container"),o.$handler.addClass("fv__pdf-page-note-annot-handler-container"),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n={emitter:o.pdfViewer.eventEmitter,start:function(){return o.onStartUpdateShape()},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},resizable:!1,rotatable:!1,auxiliaryLine:void 0},i=new Tv((0,w._)({},e,n,t));return i.ui.classList.add("fv__pdf-page-annot-handler-rect"),o.processShapeControlPermissionCtrl(i),i}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"activeRect",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,i=this.$rect=this.$rect||this.rectInit(),r=this.scale,o=this.rotate,a=n.getDeviceRect(r,o);if(8&this.annot.getFlags()){var s=this.annot.getRect();e=s.right-s.left,t=s.top-s.bottom}else{var A=this.annot.getDeviceRect(1,o);e=A.right-A.left,t=A.bottom-A.top}i.css({left:a.left,top:a.top,width:e,height:t}),this.isActive&&this._applyShapeChange()}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this._applyShapeChange())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){return this.annot.setIconName(e).then(function(e){return e})}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromiseQueue||(this.editDebouncePromiseQueue=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;if(this.updateCollabOp(e,!0),this.pdfViewer.config.highPerformance)this.editDebouncePromiseQueue.exec(function(){return i.moveTo(e.left,e.top).then(function(e){i.setMargin(),i._applyShapeChange()})});else{var r=this._moveOffset||{},o=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:o+n.offsetLeft,offsetTop:a+n.offsetTop}}}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromiseQueue.waitForLastTask().then(function(){return n.moveTo(e.left,e.top,"move").then(function(e){n.setMargin(),n._applyShapeChange()})})}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.annot.info;if("R"==i.RT&&(0!=i.IRT||null!=i.RT))return Promise.resolve();if((0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n),1!=z.dpr&&this.tileCanvas){var r=this.getTileConfig(e,n),o=Math.max(.5,e*z.dpr/r[5]);this.tileCanvas.$container.css({transform:"scale("+o+")"})}}}]),t}(tv);const Jy=$y;var qy=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(){var e=this,t=this.component,n=t.annot;this.tileCanvas=this.tileCanvas||new $r(function(i,r,o,a,s,A,c,u,l){return t.isDestroyed?Promise.resolve():t.getPDFPage().getAnnotBitmap(n.getId(),(0,W.F2)(A),l,{x:c*A+r*s,y:u*A+i*s,width:o,height:a},!0,t.renderAppearanceType,e.component.getAnnotFlag().flag)},t.$ui)}},{key:"doHide",value:function(){this.tileCanvas.hideContainer()}},{key:"doShow",value:function(){this.tileCanvas.showContainer()}},{key:"doRender",value:function(e,t,n){var i=this;this.tileCanvas.setVisibleRect(n);var r=!0;if(n){var o=this.component.getRect(),a={left:Math.max(o.left,n.left),top:Math.max(o.top,n.top),right:Math.min(o.right,n.right),bottom:Math.min(o.bottom,n.bottom)};r=a.right>=a.left&&a.bottom>=a.top}var s,A,c=this.component.getTileConfig(e,t);return r?(s=this.tileCanvas).redraw.apply(s,(0,R._)(c)).then(function(e){if(!i.component.isDestroyed)return i.component.needToggleView&&i.component.needToggleView()&&!i.component.shouldRenderByMouseEvent()?(i.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve()}):((A=this.tileCanvas).updateDom.apply(A,(0,R._)(c)),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()?(this.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve())}},{key:"willRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="left, top, width, height"}},{key:"afterRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="auto"}},{key:"destroy",value:function(){this.prepared&&((0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.tileCanvas.destroy(),this.tileCanvas=null)}},{key:"clearCache",value:function(){this.tileCanvas.clearCache()}},{key:"invisibleRender",value:function(){try{this.tileCanvas.invisibleRender()}catch(e){}}}]),t}(jv),Ky=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="file",o.$ui.addClass("fv__pdf-page-file-annot-container"),o.$handler.addClass("fv__pdf-page-file-annot-handler-container"),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n={emitter:o.pdfViewer.eventEmitter,start:function(){return o.onStartUpdateShape()},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},resizable:!1,auxiliaryLine:void 0},i=new Tv((0,w._)({},e,t,n));return i.ui.classList.add("fv__pdf-page-annot-handler-rect"),(o.groupMoveDisabled()||o.moveDisabled())&&i.disable(),o.getAppPermission().then(function(e){e.isAdjustable()||e.isEditable()||i.disable()}),i}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"activeRect",value:function(){arguments.length>0&&void 0!==arguments[0]||this.annot;var e=this.$rect=this.$rect||this.rectInit(),t=this.scale,n=this.rotate,i=this.getRect(t,n);e.css({left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}),this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){var t=this;return this.annot.setIconName(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return i.moveTo(e.left,e.top).then(function(e){i.setMargin(),i._applyShapeChange()})})}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then(function(){return n.moveTo(e.left,e.top,"move").then(function(e){n.setMargin(),n._applyShapeChange()})}):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"onDoubleTap",value:function(){return!1}},{key:"doubleTapAnnot",value:function(e){var t=this;if("comment"===e)return this.getAppPermission().then(function(e){e.isEditable()&&t.showReplyDialog("comment")});this.rectDoubleTap()}},{key:"rectDoubleTap",value:function(){this.download()}},{key:"download",value:function(){var e=this;this.getAppPermission().then(function(t){t.isAttachmentDownloadable()&&e.doDownload()})}},{key:"doDownload",value:function(){var e=this,t=this.pdfViewer;if(!this.annot.getFileSpec())return t.viewerUI.alert({message:"sidebar.attachment.emptyFile",level:"warning"});var n=Promise.resolve();t.getSafeReadingMode()&&(n=t.viewerUI.confirm({message:"sidebar.attachment.safeModeDownload",level:"warning"})),n.then(function(){e.annot.getFileattachmentStream().then(function(t){Lh(t,e.annot.getFileSpec().getFileName(),"application/octet-stream")})},er)}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect(),r=n.getDeviceRect(i,e,t),o=n.getDeviceRect(i,e,0),a=o.right-o.left,s=o.bottom-o.top;return 8&this.annot.getFlags()&&(a=i.right-i.left,s=i.top-i.bottom),{left:r.left,top:r.top,right:r.left+a,bottom:r.top+s}}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getDeviceRect(this.scale,0),n=this.annot.getRect(),i=t.right-t.left,r=t.bottom-t.top;return 8&this.annot.getFlags()&&(i=n.right-n.left,r=n.top-n.bottom),{left:e.left,top:e.top,width:i,height:r}}}]),t}(tv);const Zy=Ky;var Xy=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="caret",o.$ui.addClass("fv__pdf-page-caret-annot-container"),o.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){!!this.readOnlyDisabled()||!e.ignorable()&&!e.isModifiable()?this.$handler.addClass("disabled"):this.$handler.removeClass("disabled")}}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.caret===e}},{key:"active",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.$rect.addClass("active"),this.$rect.on("click.unactive",function(t){e.isActive&&t.originalEvent.isTrusted&&0===t.button&&!t.shiftKey&&t.ctrlKey&&e.unActive()})}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.activeRect()}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this);var e=this.$rect;e&&e.removeClass("active")}},{key:"isReplace",value:function(){return this.annot.isGrouped()&&"replace"===(this.annot.getIntent()||"").toLowerCase()}},{key:"showUI",value:function(){var e=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter(function(t){return t!==e.annot})[0];if(n&&n.isDeleted())return(0,E._)((0,S._)(t.prototype),"showUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(n.getId());return(0,E._)((0,S._)(t.prototype),"showUI",this).call(this).then(function(){return i.component.showUI()})}return(0,E._)((0,S._)(t.prototype),"showUI",this).call(this)}},{key:"hideUI",value:function(){var e=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter(function(t){return t!==e.annot})[0];if(n&&n.isDeleted())return(0,E._)((0,S._)(t.prototype),"hideUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(n.getId());return(0,E._)((0,S._)(t.prototype),"hideUI",this).call(this).then(function(){return i.component.hideUI()})}return(0,E._)((0,S._)(t.prototype),"hideUI",this).call(this)}}]),t}(tv);const Qy=Xy;var e_=jg(),t_=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n=new Tv(Object.assign(e,t,{emitter:o.pdfViewer.eventEmitter,start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},moving:function(e,t){return o.onShapeMoving(e,t)},update:function(e,t){return o.onShapeUpdating(e,t)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return o.processShapeControlPermissionCtrl(n),n}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e),this.pdfViewer.config.highPerformance}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then(function(e){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()})})}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec(function(){var t=i.getRect(),r=i.getInnerRect(),o=t.left-r.left,a=t.top-r.top;return i.moveTo(e.left+o,e.top+a,n,!0,!1,!1).then(function(t){return i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0)}).then(function(e){i._updateShapeControlMargin(),i._updateShapeControllerBoundaryBox()})}):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Fh.subtract(this.getRect(),this.getInnerRect()),i=Fh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this.getInnerBoundary(),t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,e,t),this._updateShapeControlMargin()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange()}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Fh.subtract(r,o);return Fh.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,z.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height),t.strokeStyle="#759DB8",t.lineWidth=1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.save(),e.beginPath(),e.rect(t,n,i,r),e.closePath(),e.restore()}(t,0,0,e.width,e.height),t.stroke()}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return t._handlerRerender(e)})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(e){return n._handlerRerender(e)})}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then(function(e){return t._handlerRerender(e)})}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return e_}}]),t}(tv),n_=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),z.Lazy.release(o,"shapeControl",!0),z.Lazy.property(o,"shapeControl",function(){var t={moveable:!0,resizable:!0,rotatable:!0,enableFrame:!1},n=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(t)),i=new Tv(Object.assign(t,n,{emitter:o.pdfViewer.eventEmitter,start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},moving:function(e,t){return o.onShapeMoving(e,t)},update:function(e,t){return o.onShapeUpdating(e,t)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotateEnd:function(e,t,n,i){return o.onRotateEnd(t)},afterRotateEnd:function(){return o.onAfterRotateEnd()},rotateStart:function(){return o.onRotateStart()},degree:e.info.rotation,enableDiagonally:!0,previewer:!1,enableUniform:!0,degreeInitVisibility:!1,auxiliaryLine:void 0}));o.processShapeControlPermissionCtrl(i);var r=function(t,n,r){if(i&&r===Qt.rotationUpdated){var a=o.getInnerBoundary(),s=o._getShapeControllerBoundaryBox();o.shapeControl.rotateDegree=e.getRotation(),i.active(o.$handler,a,s)}};return i.addDestroyHook(function(){o.pdfViewer.eventEmitter.off(ae.annotationUpdated,r)}),o.pdfViewer.eventEmitter.on(ae.annotationUpdated,r),i}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getRect(e,t)}},{key:"getPropertyOptions",value:function(){var e=this.annot;(0,z.colorConvertor)(e.getBorderColor(),"#");return{opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotationFree:(this.annot.getRotation()+360)%360,isLocked:this.isLocked()}}},{key:"setBitmap",value:function(e,t){var n=this;return this.annot.setBitmap(e,t).then(function(e){return n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n),n.render(n.scale,n.rotate)})}},{key:"updateRender",value:function(){return this.render()}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"onRotateStart",value:function(){this.shapeControl.rotateDegreeBox.style.visibility="visible"}},{key:"onRotateEnd",value:function(e){var t=this;e=this.getStandardizedRotation(e);var n=this.annot.getRotation();return n=this.getStandardizedRotation(n),e+=Math.abs(n),e=this.getStandardizedRotation(e),this.setRotation(e).then(function(n){return t.updateShapeControl(e),e})}},{key:"onAfterRotateEnd",value:function(){this.shapeControl.clearCompanions(),this.shapeControl.rotateDegreeBox.style.visibility="hidden"}},{key:"setRotation",value:function(e){var t=this;return this.annot.setRotation(e).then(function(e){return e?t.updateRender().then(function(){var n=t.getInnerBoundary(),i=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,n,i),t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"updateShapeControl",value:function(e){this.shapeControl.ui.style.transform=""}},{key:"getStandardizedRotation",value:function(e){return(e=parseInt(e))<0?e=360-Math.abs(e):e>360&&(e-=360),e}},{key:"onShapeUpdateEnd",value:function(e,n,i){var r=this,o=this,a=function(){return(0,E._)((0,S._)(t.prototype),"onShapeUpdateEnd",r)};return(0,x._)(function(){var t,r,s,A,c,u,l,d,h,f,p,g,v,m;return(0,N.Jh)(this,function(y){switch(y.label){case 0:return a().call(o,e,n,i),[3,14];case 1:return A<s?[4,r.getPageByIndex(A)]:[3,14];case 2:return[4,y.sent().getAnnots()];case 3:c=y.sent(),u=!0,l=!1,d=void 0,y.label=4;case 4:y.trys.push([4,11,12,13]),h=c[Symbol.iterator](),y.label=5;case 5:return(u=(f=h.next()).done)?[3,10]:(p=f.value,g=p.getId(),t.includes(g)&&g!==this.annot.getId()?(v=this.pdfViewer.getAnnotRender(A,g))&&v.component?[3,7]:[4,this.pdfViewer.getPDFPageRender(A).getAnnotRenderSafely(g)]:[3,9]);case 6:v=y.sent(),y.label=7;case 7:return[4,v.component._esignCnMultiMove(e,i)];case 8:y.sent(),y.label=9;case 9:return u=!0,[3,5];case 10:return[3,13];case 11:return m=y.sent(),l=!0,d=m,[3,13];case 12:try{u||null==h.return||h.return()}finally{if(l)throw d}return[7];case 13:return A++,[3,1];case 14:return[2]}})}).call(this)}},{key:"_esignCnMultiMove",value:function(e,t){}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.shapeControl&&this.shapeControl.destroy()}},{key:"showContextMenu",value:function(e,n){var i=this,r=this;return(0,x._)(function(){var o,a,s,A,c,u;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return[3,2];case 1:if(u=l.sent(),this.annot.info.iconName&&"sign-china-stamp"===this.annot.info.iconName.split("_")[0]){if(this.annot.info.iconName.includes("_date"))return[2];setTimeout(function(){c.forEach(function(e,t){return 0!==t&&3!==t&&e.hide()}),A.doHidden();var e=o.getComponentByName("fv--contextmenu-item-group");u&&u.length>1?e.doShown():e.doHidden()},100),a.doHidden(),s.doHidden()}else a.doShown(),s.doShown(),A.doShown();l.label=2;case 2:return[2,(0,E._)((0,S._)(t.prototype),"showContextMenu",i).call(r,e,n)]}})}).call(this)}},{key:"doubleTapAnnot",value:function(){this.annot.info.iconName&&"sign-china-stamp"===this.annot.info.iconName.split("_")[0]||(0,E._)((0,S._)(t.prototype),"doubleTapAnnot",this).call(this)}}]),t}(t_);const i_=n_;var r_=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="ink",o.$ui.addClass("pdf-page-ink-annot-container"),o.$handler.addClass("pdf-page-ink-annot-handler-container"),z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n=new Tv(Object.assign(e,t,{emitter:o.pdfViewer.eventEmitter,interceptor:function(e){return o.checkSize(e)},start:function(){return o.onStartUpdateShape()},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},auxiliaryLine:void 0}));return o.processShapeControlPermissionCtrl(n),o.addDestroyHook(function(){n.destroy()}),n}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"checkSize",value:function(e){return!(e.width<10||e.height<10)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"activeRect",value:function(){arguments.length>0&&void 0!==arguments[0]||this.annot;this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin()}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1];return Fh.on({left:0,top:0,right:n,bottom:i}).extract()}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this.pdfViewer.config.highPerformance&&(e.width<10&&(e.width=10),this.setRect(e),this.setMargin())}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return i.moveTo(e.left,e.top).then(function(){i.setMargin()})})}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return e.width<10&&(e.width=10),"resize"!==n||this.pdfViewer.config.highPerformance?this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then(function(){return i.moveTo(e.left,e.top,n).then(function(e){i.setMargin()})}):Promise.resolve():this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then(function(){return i.setRect(e)}).then(function(e){i.setMargin()}):Promise.resolve()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=this.propertyDisabled();return{color:t,opacity:n,borderWidth:i,borderStyle:!1,isLocked:this.isLocked(),disabled:r}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"getInkList",value:function(){return this.annot.getInkList()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e)),this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n),r=this.getInkList();return Object.assign(i,{inkList:r})}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),z.Lazy.get(this,"shapeControl",function(e){e.deactive()})}}]),t}(tv);const o_=r_;var a_=n(875),s_=n.n(a_),A_=(n(136),function(){function e(t,n,i){(0,C._)(this,e),this.viewerComponent=t,this.docPageCount=i;var r="max page: "+i,o=s_()(r);n||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=this.$dialog=O()(o);this.bindChangeEvent();var s=n||document.body;if(a.appendTo(s),!n){var A=a[0];Hg().registerDialog(A),A.showModal()}}return(0,D._)(e,[{key:"bindChangeEvent",value:function(){var e=this,t=this.$dialog;t.on("click",".fv__redaction-cancel",function(){e.close()}).on("click",".fv__place-redaction-dialog-close-icon",function(){e.close()}).on("click",".fv__redaction-btn",function(t){e.submit()}).on("change",".redaction-page-radio",function(n){n.target.checked&&(e.hideError(),"1"==n.target.value?t.find(".fv__redaction-page-range").attr("disabled",""):t.find(".fv__redaction-page-range").removeAttr("disabled"))}).on("keydown",".fv__redaction-page-range",function(t){e.hideError()})}},{key:"submit",value:function(){var e=this,t=this.docPageCount,n=[];if("1"==this.$dialog.find(".redaction-page-radio:checked").val())for(var i=0;i<t;i++)n.push(i);else{var r=this.$dialog.find(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var o=r.split(","),a=0;a<o.length;a++){var s=o[a];if(s.indexOf("-")>-1){var A=s.split("-");if(A.length>2)return void this.showError();if(A[0]<1||A[0]>t||A[1]<1||A[1]>t)return void this.showError();for(var c=Math.min(A[0],A[1]),u=Math.max(A[0],A[1]),l=c;l<=u;l++)-1===n.indexOf(l)&&n.push(l-1)}else{if(s<1||s>t)return void this.showError();-1===n.indexOf(n)&&n.push(s-1)}}}this.viewerComponent.placeRedact(n).then(function(t){e.close()})}},{key:"reset",value:function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""}},{key:"showError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")}},{key:"hideError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")}},{key:"close",value:function(){var e=this.$dialog;e&&(e[0].close(),e.remove(),this.$dialog=null)}}]),e}()),c_="annotComponent",u_={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(c_).showReplyDialog("reply")},disabled:function(){return this.data(c_).replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(c_).removeAnnot()},disabled:function(){return this.data(c_).deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data(c_).apply()},disabled:function(){return this.data(c_).assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data(c_).applyAll()},disabled:function(){return this.data(c_).assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(e,t,n){this.data(c_).showPlaceMarkDialog(e,t,n)},disabled:function(){return this.data(c_).moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(c_).showPropertiesDialog(e,t,n)}}};var l_=[{name:"U.S. FOIA",children:["(b) (1) (A)","(b) (1) (B)","(b) (2)","(b) (3) (A)","(b) (3) (B)","(b) (4)","(b) (5)","(b) (6)","(b) (7)(A)","(b) (7)(B)","(b) (7)(C)","(b) (7)(D)","(b) (7)(E)","(b) (7)(F)","(b) (8)","(b) (9)"]},{name:"U.S. Privacy Act",children:["(b)","(d)(5)","(j)(1)","(j)(2)","(k)(1)","(k)(2)","(k)(3)","(k)(4)","(k)(5)","(k)(6)","(k)(7)"]}];var d_=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:u_,events:{show:function(){return this.data(c_).updateDeleteStatus(!0),!0},hide:function(){return this.data(c_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),h_=function(){},f_=function(e){function t(e,n,i,r){var o,a;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="redact",o.$ui.addClass("fv__pdf-page-redact-annot-container"),o.$handler.addClass("fv__pdf-page-redact-annot-handler-container"),o.$ui.css("z-index",99),o.$handler.css("z-index",99),o._isEditting=!1,a=!!e.isArea(),z.Lazy.property(o,"shapeControl",function(){var t={moveable:!0,resizable:a,enableDiagonally:!0},n=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(t)),i=new Tv(Object.assign(t,n,{emitter:o.pdfViewer.eventEmitter,start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t){return o.onShapeMoving(e,t)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotatable:!1}));return e.isArea()?o.processShapeControlPermissionCtrl(i):i.disable(),i}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"modifyDocDisabled",value:function(){return!(this.docRender.getUserPermission().getValue()&Xt.modify)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"onShapeMoving",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"getRect",value:function(){return this._isEditting?this._edittingRect:(0,E._)((0,S._)(t.prototype),"getRect",this).call(this)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec(function(){return i.setRect(e)}):Promise.resolve()}},{key:"transformToPDFRect",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height;i=Math.max(.001,i),r=Math.max(.001,r);var o=this.scale,a=this.rotate;return this.getPDFPage().reverseDeviceRect({left:t,top:n,right:t+i,bottom:n+r},o,a)}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Fh.subtract(this.getRect(),this.getInnerRect()),i=Fh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){var e=this.annot,n=e.info.overlayCode;if(n.length){var i,r=function(){var e=localStorage.getItem("modifiedUSCodes");if(e){var t=JSON.parse(e);if(Array.isArray(t)&&t.every(function(e){return e.name&&e.children}))return t}return(0,R._)(l_)}(),o="";n.forEach(function(e,t){t%2?o+=1!=t?","+i[e]:i[e]:i=r[e].children}),o!=e.info.overlayText&&e.setRedactAppearance({overlayText:e.info.overlayText,redactionCode:[]})}(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t={left:e.left,top:e.top,width:e.width+2,height:e.height+2};this.shapeControl.active(this.$handler,this.getBoundary(),t)}},{key:"redraw",value:function(e){return this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"showPlaceMarkDialog",value:function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var e=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new A_(this,document.body,e)}}},{key:"hidePlaceMarkDialog",value:function(){this.$actionsControl.close()}},{key:"placeRedact",value:function(e){var t=this,n=function(n){var i=n.getRects(),r=e.map(function(e){return t.pdfViewer.currentPDFDoc.getPageByIndex(e).then(function(e){if(!e.isVirtual()){var t=Object.assign({color:n.getBorderColor()},n.getRedactAppearance());return e.markRedactAnnot(i,t).then(function(e){var t=[];return n.replies.map(function(n){t.push(e[0].addReply(n.info))}),Promise.all(t).then(function(){return e})})}})});return Promise.all(r).then(function(e){return e.filter(Boolean)})},i=this.pdfViewer.getAllActiveElements(),r=i.every(function(e){return"redact"===e.annot.getType()});return r?Promise.all(i.map(function(e){return n(e.annot)})):n(this.annot)}},{key:"apply",value:function(){var e=this,t=this.pdfViewer;if(t)return t.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then(function(){return e.annot.apply()},h_)}},{key:"applyAll",value:function(){var e=this.pdfViewer;if(e)return e.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then(function(){var t=e.getCurrentPDFDoc();return t.redacted=!0,t.applyRedaction()},h_)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#"),n=e.getApplyFillColor()||4278190080,i=this.propertyDisabled(),r=this.isLocked(),o=e.info,a=o.overlayText,s=o.fontName,A=o.isAutoFontSize,c=o.justification,u=o.isRepeat,l=o.isOverlayCode,d=o.defaultAppearance;return{color:t,applyFillColor:n,borderStyle:!1,disabled:i,isLocked:r,overlayText:a,fontName:s,isAutoFontSize:A,justification:c,isRepeat:u,isOverlayCode:l,textSize:d.textSize,textColor:d.textColor,overlayCode:o.overlayCode}}},{key:"setApplyFillColor",value:function(e){return this.annot.setRedactApplyFillColor(e)}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;this.getAnnotFlag().checkNoZoom()&&(A=a.right-a.left,c=a.bottom-a.top);var u=Math.ceil(c/r),l=Math.ceil(A/r),d=(0,W.F2)(1)*e*2;return[u,l,A+=d,c+=d,r,i,e,t,a.left,a.top]}},{key:"mouseEnter",value:function(){this.renderAppearanceType=Le.ROLLOVER,this.redraw(!0)}},{key:"mouseLeave",value:function(){this.renderAppearanceType=Le.NORMAL,this.redraw(!0)}}],[{key:"getDefaultContextMenuConfig",value:function(){return d_}}]),t}(tv);const p_=f_;var g_=jg(),v_=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="polygonCloud",o}return(0,I._)(t,e),(0,D._)(t,null,[{key:"getDefaultContextMenuConfig",value:function(){return g_}}]),t}(Fm),m_={};var y_="annotComponent",__={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(y_).showPropertiesDialog(e,t,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(y_).removeAnnot()},disabled:function(){return this.data(y_).deleteDisabled()}}};var b_="editDiv",w_=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"formatHtmlStr",value:function(e){var t=e,n={split:"split",remove:"remove",removeSelf:"removeTag"};[{startStr:"\x3c!--StartFragment--\x3e",endStr:"\x3c!--EndFragment--\x3e",operate:n.split},{startStr:"\x3c!--[if",endStr:"<![endif]--\x3e",operate:n.remove},{startStr:"<![if",endStr:"<![endif]>",operate:n.remove},{startStr:"<o:p>",endStr:"</o:p>",operate:n.remove},{startStr:"<w:Sdt",endStr:"</w:Sdt>",operate:n.removeTag},{startStr:"<w:sdtPr>",endStr:"</w:sdtPr>",operate:n.remove}].forEach(function(e){for(var i=t.indexOf(e.startStr);i>-1;){switch(e.operate){case n.split:var r=t.indexOf(e.endStr);t=t.slice(i+e.startStr.length,r>-1?r:t.length);break;case n.remove:var o=t.indexOf(e.endStr),a=t.substring(0,i),s=t.substring(o+e.endStr.length);t=a+s;break;case n.removeTag:var A=t.substring(i),c=A.indexOf(">");t=(t=t.substring(0,i)+A.substring(c+1)).split(e.endStr).join("")}i=t.indexOf(e.startStr)}});var i=document.createElement("div");return i.contentEditable=!0,i.id=b_,i.style.display="none",document.body.appendChild(i),i.innerHTML=t.replaceAll("\n","").replaceAll("\r",""),this.addTagClassName(i)}},{key:"getFont",value:function(e){var t=e[0],n=new RegExp("^\\s*".concat(t,"\\b")),i=["-apple-system","system-ui"," BlinkMacSystemFont"," Segoe UI"," Roboto"," Oxygen"," Ubuntu"," Fira Sans"," Droid Sans"," Helvetica Neue"," sans-serif"].some(function(e){return n.test(e)});return i?(z.DeviceInfo.isWindows?t="DengXian Light":z.DeviceInfo.isMacOS||z.DeviceInfo.isIOS?t="PingFangSC":z.DeviceInfo.isAndroid?t="Roboto":z.DeviceInfo.isLinux&&(t="Noto Sans"),t):t}},{key:"formatRichText",value:function(e){var t=this,n=this.formatHtmlStr(e),i=document.getElementById("".concat(b_)),r=n.map(function(e){var n,r,o=i.getElementsByClassName("".concat(e))[0],a=getComputedStyle(o),s=a.fontFamily.replaceAll('"',"").split(","),A=t.getFont(s);return{content:o.textContent,richTextStyle:{font:{name:A},textSize:parseInt(a.fontSize),textAlignment:et[a.textAlign],textColor:(0,z.colorConvertor)(a.color,"int"),isBold:function(){var e=a.fontWeight,t=parseFloat(e);return isNaN(t)?e.includes("bold"):t>400}(),isItalic:(r=a.fontStyle,r.includes("italic")||r.includes("oblique")),isUnderline:a.textDecoration.includes("underline"),isStrikethrough:a.textDecoration.includes("line-through"),cornerMarkStyle:(n=a.verticalAlign,{sub:Lt.subscript,super:Lt.superscript}[n]||Lt.none)}}});return i.remove(),r}},{key:"addTagClassName",value:function(e){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.childNodes.length;(["block","flex"].includes(getComputedStyle(e).display)&&e.nextElementSibling&&(e.innerHTML+="\n"),r>0)&&Array.from(e.childNodes).forEach(function(r){if("#text"===r.nodeName){var o=document.createElement("span");o.innerText="".concat(r.textContent),o.style.textDecoration="".concat(n.underline?"underline":""," ").concat(n.lineThrough?"line-through":""),o.style.verticalAlign=n.verticalAlign;var a="foxitwebsdk-".concat(Date.now(),"-").concat(parseInt(1e3*Math.random()));i.push(a),o.classList.add(a),e.replaceChild(o,r)}else{var s=getComputedStyle(r).textDecoration,A={};s.includes("underline")&&(A.underline=!0),s.includes("line-through")&&(A.lineThrough=!0);var c=getComputedStyle(r).verticalAlign;["sub","super"].includes(c)&&(A.verticalAlign=c),t.addTagClassName(r,i,Object.assign({},n,A))}});return i}}]),e}(),k_=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:__,events:{show:function(){return this.data(y_).updateDeleteStatus(!0),!0},hide:function(){return this.data(y_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),x_=function(e){function t(e,n,i,r){var o,a;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="freetext",o.removeAllEventsUsedByEditingMode=z.noop,o.$ui.addClass("fv__pdf-page-freetext-annot-container"),o.$handler.addClass("fv__pdf-page-freetext-annot-handler-container"),o.$textInput=O()("<textarea class='fv__ui-freetext-editor ".concat(o.annot.getIntent(),"'></textarea>")),a=o.$textInput,o.$handler.append(a),o.bindTextInputEvent(a),o.resizeTaskExecutor=new z.QueuedAsyncTaskExecutor,o.addDestroyHook(function(){o.removeAllEventsUsedByEditingMode()},o.pdfViewer.addEventListener("before-clear-pageCache",function(e){e===o.annot.page.getIndex()&&"editing"===o.status&&o.$textInput.trigger("blur")})),o}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.$rect&&this.$rect.show()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then(function(e){return t.collaborate(),e})}},{key:"getInnerBoundary",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.getPDFPage(),r=this.annot.getInnerRect(),o=this.annot.getRect(),a=r.right-r.left,s=o.right-o.left,A=this.annot.getBorderWidth();this.annot.getIntent()===fe.FREETEXT_CALLOUT?(e=r,t&&(e={left:r.left+A,right:r.right-A,top:r.top-A,bottom:r.bottom+A})):this.annot.getIntent()===fe.FREETEXT_TYPEWRITER?e=o:s-a>=A?e=r:t&&(e={left:o.left+A,right:o.right-A,top:o.top-A,bottom:o.bottom+A});var c=i.getDeviceRect(e,this.scale,n);return{left:c.left,top:c.top,width:c.right-c.left,height:c.bottom-c.top}}},{key:"setInnerRect",value:function(e){return this.annot.setInnerRectNoAction(e)}},{key:"setCalloutLinePoints",value:function(e){return this.annot.setCalloutLinePoints(e)}},{key:"showReplyDialog",value:function(){var e=this.getAnnotFlag();try{return this.annot.checkModidyPerm(),!(e.checkLockedContents()||e.checkReadOnly()||e.checkLocked())&&(this.backup(),this.enableEditMode(),!0)}catch(e){return!1}}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"computeFontSizePx",value:function(){var e=this.annot.getDefaultAppearance();return Math.max(4*e.textSize/3*this.scale,9.5)}},{key:"computeFontSizeScale",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx())/12;return Math.min(e,1)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.1*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"computeCurrentMinMaxHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputRect,n=void 0===t?this.$textInput[0].getBoundingClientRect():t,i=e.pageRect,r=void 0===i?this.parent("pdfPageRender").$ui[0].getBoundingClientRect():i,o=e.rotate,a=void 0===o?this.getFinalRotateAngle():o,s=e.padding,A=void 0===s?this.getPadding():s,c=this.pdfViewer.getSmartScale(this.scale),u=n.height;return{minHeight:Math.min(20*c*2/3*2,u),maxHeight:function(){switch(a){case 90:return n.right-r.left;case 180:return n.bottom-r.top;case 270:return r.right-n.left;default:return r.bottom-n.top}}()-A}}},{key:"getStyle",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.annot.getRotation(),i=this.annot.page.getRotationAngle(),r=this.getRect(),o=this.getRect(this.scale,n+i),a=o.right-o.left,s=o.bottom-o.top,A=this.annot,c=A.getFillColor(),u=A.getDefaultAppearance(),l=u.textColor,d=this.computeFontSizePx(),h=this.fontSizeScale=d/12;h>1&&(h=this.fontSizeScale=1);var f=this.computeLineHeight(d,h),p=(0,z.colorConvertor)(16777215&c,"#");0==c&&(p=t?"white":"transparent");var g=(0,z.colorConvertor)(16777215&l,"#");0==l&&(g="black");var v=u.font||{},m=this.annot.getAlignment();switch(m){case 0:m="left";break;case 1:m="center";break;case 2:m="right"}var y="center";switch((this.rotate+n+i)%360){case 0:case 180:y="center";break;case 90:y="".concat(s/2,"px center");break;case 270:y="".concat(a/2,"px ").concat(a/2,"px")}return f+="px",Object.assign({"text-align":m,color:g,background:p,display:"block","font-size":d,fontFamily:'"'+[v.baseName,v.familyName,v.nameKey,v.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:f},e?{left:r.left,top:r.top,width:a,height:s,"transform-origin":y,transform:"rotate(".concat(n+this.rotate+i,"deg)")}:{})}},{key:"setDomRect",value:function(e){var t=this.annot.getRotation()+this.annot.page.getRotationAngle()+this.rotate,n=!0;(this.isCallout()||this.isTextBox())&&(this.annot.getBorderStyle()===de.CLOUDY&&(n=!1));var i=this.getInnerBoundary(n),r=i.left,o=i.top,a=i.width,s=i.height,A=new nn,c=a,u=s,l=r,d=o;switch(t%360){case 90:c=-a,l=r+a;break;case 180:c=-a,l=r+a,u=-s,d=o+s;break;case 270:u=-s,d=o+s}A.rotate((360-t)*Math.PI/180);var h=A.transformRect(0,0,c,u);e.left=h[0]+l,e.top=h[1]+d,e.width=h[2]-h[0],e.height=h[3]-h[1],e["max-height"]="initial",e["max-width"]="initial",e["min-width"]="initial",e["min-height"]="initial",e["transform-origin"]="0 0",e.transform="rotate(".concat(t,"deg)")}},{key:"showContextMenu",value:function(e,n){return"editing"!==this.status&&(0,E._)((0,S._)(t.prototype),"showContextMenu",this).call(this,e,n)}},{key:"enableEditMode",value:function(){var e=this;if("editing"!==this.status){this.shapeControl&&this.shapeControl.deactive();var t=(0,M._)(this.docRender.pdfViewer.getGroupCount(),3),n=(t[0],t[1],t[2]);if(this.annot.isGrouped()){var i=this.annot.getGroupHeader().getId(),r=n[i];for(var o in delete n[i],n[-1].forEach(function(t){return e.docRender.pdfViewer.unActiveElement(t)}),n)n[o].forEach(function(t){return e.docRender.pdfViewer.unActiveElement(t)});r.forEach(function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)})}else for(var a in n)n[a].forEach(function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)});this.status="editing";var s=this.annot;this.$handler.addClass("active"),this.updateTextInputStyle();var A=s.getContent();this.$textInput.val(A);var c=this.$textInput.get(0);if(s.getIntent()===fe.FREETEXT_TYPEWRITER)this.setHeight(this.$textInput);(0,z.moveCursorToEnd)(c,{preventScroll:!0}),this.pdfViewer.eventEmitter.emit("editingFreeText",this);var u=function(t){e.annotsRender&&t===e.annotsRender.pageRender&&"editing"===e.status&&e.updateTextInputStyle()};this.pdfViewer.eventEmitter.on(ae.renderPageSuccess,u),this.removeAllEventsUsedByEditingMode=function(){e.pdfViewer.eventEmitter.off(ae.renderPageSuccess,u)}}}},{key:"updateTextInputStyle",value:function(){var e=this.getStyle(!1,!0);this.setDomRect(e);var t=e.transform||"";this.fontSizeScale>=1?t+=" scale(1)":(t+="scale(".concat(this.fontSizeScale,")"),e.width/=this.fontSizeScale,e.height/=this.fontSizeScale,e.lineHeight="12px"),e.transform=t,this.$textInput.css(e)}},{key:"bindEvent",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"bindEvent",this).call(this);var n=function(t){(0,z.match)(t).when(z.matchers.Escape,function(){t.preventDefault(),e.$textInput.blur()})};this.$textInput.on("keyup",n).on("keydown",n),this.$textInput.on("mousemove",function(e){e.stopPropagation()})}},{key:"unActive",value:function(){this.$textInput.trigger("blur"),(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl&&this.shapeControl.deactive(),this.$rect&&this.$rect.hide(),clearInterval(this.pressInterval)}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect();return n.getDeviceRect(i,e,t)}},{key:"bindTextInputEvent",value:function(e){var t,n,i=this,r=!1;e.on("focus",function(e){i.oldInnerRect=i.annot.getInnerRect(),i.oldRect=i.annot.getRect(),i.oldCalloutLinePoints=i.annot.getCalloutLinePoints&&i.annot.getCalloutLinePoints(),i.annot.setIsEditting(!0)}).on("paste",function(e){n=null;var t=e.originalEvent.clipboardData.getData("text/html");if(0!==t.length){var i=w_.formatRichText(t);0!==i.length&&(n=i[0].richTextStyle.font)}}).on("input",function(e){r=!0,i.handleInputEvent(e)}).on("keydown",function(e){t=i.$textInput.val(),27!==e.keyCode&&e.ctrlKey&&65===e.keyCode&&i.$textInput.trigger("select")}).on("keyup",function(e){t!==i.$textInput.val()&&(r=!0)}).on("blur",function(e){var t=r;if(r=!1,"editing"!=i.status)return i.updateTextInputScale(1),void i.annot.setIsEditting(!1);var o=i.parent("pdfPageRender");i.removeAllEventsUsedByEditingMode();var a=i.$textInput;i.delayRemoveActive=!0;var s=function(){var e=a[0].getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}(),A=!1;switch(i.annot.getIntent()){case fe.FREETEXT_TEXTBOX:case fe.FREETEXT_TYPEWRITER:var c=i.getRect(),u=i.getInnerRect(),l=(c.bottom-c.top-(u.bottom-u.top))/2,d=i.getFinalRotateAngle(),h=a[0].scrollHeight,f=i.computeLineHeight(),p=o.$ui[0].getBoundingClientRect();if(h-s.height>=f){A=!0;var g=p.height-2*l,v=p.width-2*l;switch(d){case 0:s.height=Math.min(h,g),s.top=s.bottom-s.height;break;case 90:s.width=Math.min(h,v),s.right=s.left+s.height;break;case 180:s.height=Math.min(h,g),s.bottom=s.top+s.height;break;case 270:s.width=Math.min(h,v),s.left=s.right-s.height}}case fe.FREETEXT_CALLOUT:}i.status="viewing";var m=i.parent("pdfPageRender").getPDFRectFromClientRect(s);if(!i.beforeBlur(e,m)){var y=Promise.resolve();if(t)switch(i.annot.getIntent()){case fe.FREETEXT_TYPEWRITER:A&&(y=i.setRectInPDF(m,!1));break;case fe.FREETEXT_TEXTBOX:A&&(y=i.setInnerRectHeight(m));break;default:y=i.setInnerRectHeight(m)}y.then(function(t){var r=i.annot.getContent();if(e.target.value!==r)return n?i.setDefaultAppearance("font",n).then(function(t){return i.setContent(e.target.value)}):i.setContent(e.target.value)}).then(function(t){i.pdfViewer.activeElement(),O()(e.target).css({display:"none"}).removeAttr("contenteditable")}).then(function(e){return i.$textInput.css("display","none"),i.oldInnerRect=null,i.oldRect=null,i.oldCalloutLinePoints=null,i.updateTextInputScale(1),i.$handler&&i.$handler.removeClass("active"),i.postBlur()}).then(function(e){return i.redraw()}).finally(function(){i.annot.setIsEditting(!1),i.delayRemoveActive=!1})}})}},{key:"isTypeWriter",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===fe.FREETEXT_TYPEWRITER}},{key:"isCallout",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===fe.FREETEXT_CALLOUT}},{key:"isTextBox",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===fe.FREETEXT_TEXTBOX}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec(function(){var t=e.$textInput[0],n=t.scrollHeight,i=t.scrollWidth,r=t.clientHeight,o=t.clientWidth;if(n>r||i>o)return e.setHeight(e.$textInput)})}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;return this.annot.updateCalloutFigure(e,t,n).then(function(){return i.updateRender().then(function(){i.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,i)})})}},{key:"updateTextInputScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.$textInput[0].style.transform||"";this.$textInput[0].style.transform=t.replace(/scale\(\d+(\.\d+)?\)/,"scale(".concat(e,")"))}},{key:"beforeBlur",value:function(){return!1}},{key:"postBlur",value:function(){0}},{key:"setHeight",value:function(e,t,n){}},{key:"getPadding",value:function(){var e=this.annot,t=e.getRect(),n=e.getBorderInfo(),i=0;if(5!=n.style){var r=n.width||1;i=1.5*r,this.isHTMLSimulate("freetext")?i=2*r:t.top-t.bottom<2*i&&(i=r)}else i=e.getInnerRect().left-t.left;return i}},{key:"setDefaultAppearance",value:function(e,t){var n=this;"textColor"==e&&(t=(0,z.colorConvertor)(t,"int",1));var i=this.annot.getDefaultAppearance();return Object.assign(i,(0,U._)({},e,t)),(["textSize","textColor"].includes(e)?this.annot.setAppearanceWithoutFontFamily(i):this.annot.setDefaultAppearance(i)).then(function(e){n.activeRect(),n.shapeControl.adjustPointControl&&n.shapeControl.adjustPointControl(),n._applyShapeChange&&n._applyShapeChange(),n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)})}},{key:"getFinalRotateAngle",value:function(){var e=this.annot.page.getRotationAngle();return((this.annot.getRotation()+e+this.rotate)%360+360)%360}},{key:"getMaxSize",value:function(e){this.getPDFPage();var t=this.getFinalRotateAngle(),n=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.bottom-i.top,o=n.right-i.left,a=this.annot.getInnerRect(),s=this.annot.getRect(),A=(s.top-s.bottom-(a.top-a.bottom))/2,c=(s.right-s.left-(a.right-a.left))/2,u=this.pdfViewer.getSmartScale(this.scale),l=4*A/3*u,d=4*c/3*u;switch(t){case 0:return{width:o-d,height:r-l};case 180:return{width:o-d,height:i.bottom-n.top-l};case 90:return{width:r-d,height:i.right-n.left-l};case 270:return{width:r-d,height:n.right-i.left-l}}}}],[{key:"getDefaultContextMenuConfig",value:function(){return k_}}]),t}(tv);const P_=x_;function C_(e,t){var n=getComputedStyle(e),i=n.overflow,r=n.whiteSpace,o=e.clientWidth;e.style.cssText+="\n        min-width: ".concat(t.minWidth,"px;\n        min-height: ").concat(t.minHeight,"px;\n        max-width: ").concat(t.maxWidth,"px;\n        max-height: ").concat(t.maxHeight,"px;\n        overflow: hidden;\n        white-space: ").concat(o>=t.maxWidth?"pre-line":"nowrap",";\n        word-break: break-word;\n    ");var a=e.scrollWidth,s=Math.max(Math.min(a,t.maxWidth),t.minWidth);e.style.cssText+="\n        width: ".concat(s,"px;\n    ");var A=e.scrollHeight,c=Math.max(Math.min(A,t.maxHeight),t.minHeight);e.style.cssText+="\n        overflow: ".concat(i,";\n        width: ").concat(s,"px;\n        height: ").concat(c,"px;\n        white-space: ").concat(r,";\n    "),delete e.style.whiteSpace}var D_=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="typewritter",z.Lazy.property(o,"shapeControl",function(){var e=new Tv((0,k._)((0,w._)({},o.getShapeOptions()),{auxiliaryLine:void 0}));return o.processShapeControlPermissionCtrl(e),e}),o.$ui.addClass("fv__pdf-page-typewritter-annot-container"),o.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container");var a=O()("<div class='fv__ftui-container'><pre class='fv__typewriter_ui'></pre></div>");return o.$pre=a.find("pre"),o.$ui.append(a),o}return(0,I._)(t,e),(0,D._)(t,[{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.158*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec(function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l,d,h;return(0,N.Jh)(this,function(f){return e=this.getFinalRotateAngle(),t=this.$textInput[0],n=t.getBoundingClientRect(),i=this.parent("pdfPageRender"),r=i.$ui[0].getBoundingClientRect(),o=this.getPadding(),a=this.getMaxSize(t),s=a.width,A=this.computeCurrentMinMaxHeight({inputRect:n,padding:o,rotate:e,pageRect:r}),c=A.minHeight,u=A.maxHeight,l=t.clientHeight,C_(t,{maxWidth:s,maxHeight:u,minHeight:c,minWidth:1}),d=t.getBoundingClientRect(),d.height>u?(t.style.height=u+"px",h=!0):h=t.clientHeight!==l,h?[2,this.setHeight(this.$textInput)]:[2]})}).call(e)})}},{key:"getDefaultShapeOptions",value:function(){return{resizable:!1,enableDiagonally:!0}}},{key:"getShapeOptions",value:function(){var e=this,t=this.getDefaultShapeOptions(),n=this.pdfViewer.customs.getAnnotComponentConfig(this,Object.keys(t)),i={};return this.isTypeWriter()&&(i.resizable=!1),(0,k._)((0,w._)({},t,n,i),{emitter:this.pdfViewer.eventEmitter,start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n,i){return e.onShapeMoving(t,n,i)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)}})}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&(this.activeRect(),this.$rect&&this.$rect.show())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t,n){this.updateCollabOp(e),this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMoving")}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":r=this.setRect(e),this.render()}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r.then(function(){return i.updateToobarPostion()})}},{key:"updateToobarPostion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.$toolbar){var t=this.$toolbar,n=this.annot.getRect(),i=this.annotsRender.pageRender,r=i.page,o=r.getDeviceRect(n,i.getScale(),i.getRotation());if(t.css({top:o.top+"px",left:o.left-5+"px"}),o.top<30){var a=o.bottom-o.top;t.css({transform:"translatey(".concat(a+5,"px)")})}var s=i.getScale(),A=r.getPxWidth()*s,c=O()(".fv__ui-sidebar")[0].getBoundingClientRect(),u=t[0].getBoundingClientRect();if(u.right-c.right>A){var l=u.right-c.right-A;e?t.css({left:-5-l-5+"px"}):t.css({left:o.left-l-5+"px"})}}}},{key:"showToolbar",value:function(e){var t=this;this.$toolbar&&this.$toolbar.remove();var n=O()('<div class="fv__text-fill-sign-toolbar">\n                                            <div class="fv__text-fill-sign-toolbar-base">\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-decrease"></div>\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-increase"></div>\n                                            </div>\n                                        </div>');e.after(n),this.$toolbar=n,this.updateToobarPostion(),this.$toolbar.find(".fv__text-fill-sign-toolbar-decrease").on("click",function(e){var n=t.annot.getDefaultAppearance().textSize;n<7||t.annot.setDefaultAppearance({textSize:n-1})}),this.$toolbar.find(".fv__text-fill-sign-toolbar-increase").on("click",function(e){var n=t.annot.getDefaultAppearance().textSize;n>20||t.annot.setDefaultAppearance({textSize:n+1})})}},{key:"hideToolbar",value:function(){this.$toolbar&&this.$toolbar.remove()}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e,t=this,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),this.getAppPermission().then(function(i){if(!t.isDestroyed){!!t.groupMoveDisabled()||(i.ignorable()?t.moveDisabled():!i.isAdjustable()||t.moveDisabled())?t.shapeControl.disable():t.shapeControl.enable(),t.shapeControl.active(t.$handler,e,n),t.setMargin()}})}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(t.prototype),"getPropertyOptions",this).call(this);var e=this.annot,n=e.getOpacity(),i=this.propertyDisabled(),r=this.isLocked();return{opacity:n,borderStyle:!1,disabled:i,fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,font:e.getDefaultAppearance().font,isLocked:r}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive(),this.hideToolbar()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,n){var i,r=this.annot.page.getRotationAngle(),o=((this.annot.getRotation()+r+this.rotate)%360+360)%360,a=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),s=e[0],A=s.getBoundingClientRect(),c=A.left,u=A.top,l=A.bottom,d=A.right,h=A.width,f=A.height;switch((z.isMobile||z.isMiPad||z.isIPAD||z.isTablet)&&(h=e.width(),f=e.height()),o){case 0:c+(i=1.2*h)>a.right&&(i=a.right-c);break;case 90:u+(i=1.2*f)>a.bottom&&(i=a.bottom-u);break;case 270:l-(i=1.2*f)<a.top&&(i=l-a.top);break;case 180:d-(i=1.2*h)<a.left&&(i=d-a.left)}this.isTypeWriter()&&(e.width(i),e.height(s.scrollHeight)),A=s.getBoundingClientRect();var p=this.annotsRender.pageRender,g=p.rotate,v=p.scale,m={left:A.left-a.left,right:A.right-a.left,top:A.top-a.top,bottom:A.bottom-a.top};m=this.annot.page.reverseDeviceRect(m,v,g),(0,E._)((0,S._)(t.prototype),"setHeight",this).call(this,e,m,m)}},{key:"beforeBlur",value:function(e,t){if(this.$textInput.val().length<1)return this.$ui.hide(),this.removeAnnot(),!0;var n=this.annot,i=this.annot.getContent();if(!this.isHTMLSimulate("freetext"))return this.$ui.show(),!1;if(i==e.target.value)return this.$pre.html(i).show(),!0;i=e.target.value,n.info.content=i,n.info.RC="",n.info.rect=t;var r=this.getInnerBoundary(!1);this.$ui.css(r),this.$pre.html(i).show();var o=this.$ui.get(0).style,a=parseFloat(o.left)*this.fontSizeScale,s=parseFloat(o.top)*this.fontSizeScale,A=this.$ui.get(0).getBoundingClientRect(),c={left:a,top:s,right:a+A.width*this.fontSizeScale,bottom:s+A.height*this.fontSizeScale};return t=this.annot.page.reverseDeviceRect(c,this.scale,this.rotate),n._setRect(t),n._setContent(i),!0}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=e,this.rotate=n,!this.isHTMLSimulate("freetext")||"typewritter"!=this.name)return this.isHTMLSimulate("freetext")&&"textbox"==this.name?(this.$ui.css({overflow:"hidden"}),(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n)):(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n);var i=this.getStyle();i["word-break"]="keep-all",i["white-space"]="nowrap",i.opacity=this.annot.getOpacity();var r=this.$ui.find(".fv__ftui-container"),o=this.fontSizeScale;r.css({transform:"scale(".concat(o,")"),width:100/o+"%"}),this.$ui.css(i),this.$pre.text(this.annot.getContent())}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.isHTMLSimulate("freetext"))return this.render(e,n);(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.isActive&&this._applyShapeChange(),this.$textInput.is(document.activeElement)&&this.updateTextInputStyle()}},{key:"enableEditMode",value:function(){"editing"!==this.status&&(this.isHTMLSimulate("freetext")?this.$pre.hide():"typewritter"==this.name&&this.$ui.hide(),(0,E._)((0,S._)(t.prototype),"enableEditMode",this).call(this))}}]),t}(P_);const E_=D_;var S_=n(1885),I_=n.n(S_),T_=function(){function e(){(0,C._)(this,e),this.drawAuxiliaryLine=wv,this.clearAuxiliaryLine=kv}return(0,D._)(e,[{key:"init",value:function(e,t){this.calloutRender=e,this.$ui=O()(t),this.$ui.hide()}},{key:"draw",value:function(e,t,n){var i=this.$ui[0];i.width=t.right-t.left,i.height=t.bottom-t.top;var r=i.getContext("2d");r.save(),r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.beginPath(),e.length>1&&(r.moveTo(e[0][0]-t.left,e[0][1]-t.top),r.lineTo(e[1][0]-t.left,e[1][1]-t.top)),e.length>2&&r.lineTo(e[2][0]-t.left,e[2][1]-t.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var o=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-t.left,n.top-t.top,o,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-t.left,n.top-t.top,o,a),r.restore()}},{key:"show",value:function(e,t,n){e&&this.draw(e,t,n),this.$ui.show()}},{key:"hide",value:function(){this.$ui&&this.$ui.hide()}}]),e}();const M_=T_;var R_="resize",F_="area",N_="text";var L_=function(){function e(t){var n=this;(0,C._)(this,e),this.control=t,this.annot=t.annot,this.companions=[],this.shape={getRect:function(){return n.annot.getRect()}},this.deltaX=0,this.deltaY=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}return(0,D._)(e,[{key:"companion",value:function(e){this!==e&&(this.companions.indexOf(e)>-1||(this.companions.push(e),this.updateMargin()))}},{key:"updateMargin",value:function(){if(0!==this.companions.length){var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach(function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)});var o=e.left-t,a=n-e.right,s=e.top-i,A=r-e.bottom;this.companionMargin={left:o,right:a,top:s,bottom:A}}else this.companionMargin={left:0,top:0,bottom:0,right:0}}},{key:"doStart",value:function(){this.deltaX=0,this.deltaY=0,this.control.showShape(),this.control.start(F_)}},{key:"move",value:function(e,t,n){var i=this;this.deltaX+=e,this.deltaY+=t,this.control.move(F_,-1,this.deltaX,this.deltaY).then(function(e){if(e){var t=e.rect,n=e.innerRect,r=e.points;O()(i.control.calloutController).css(i.annot.getBoundary()),i.control.showShape(r,t,n)}})}},{key:"resize",value:function(e,t,n,i){}},{key:"end",value:function(e,t){this.control.calloutShape.hide(),"move"===e&&this.control.end(F_)}},{key:"cancel",value:function(e){}},{key:"rotateStart",value:function(){}},{key:"updateRotateDegreeBox",value:function(e){}},{key:"rotate",value:function(e,t){}},{key:"rotateEnd",value:function(){}},{key:"clearCompanions",value:function(){this.companions.length=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}}]),e}(),O_=Or.T,j_=function(){function e(t){(0,C._)(this,e);var n=new DOMParser;this.whole=n.parseFromString(I_()({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.moveable=!0,this.resizable=!0,this.isMoveDisabled=!1,this.bindMovingEvent(),this.calloutShape=new M_,this.emitter=t}return(0,D._)(e,[{key:"setResizable",value:function(e){this.ui.querySelectorAll(".fv__shape-controller").forEach(function(t){(0,T._)(t,HTMLElement)&&t.classList.toggle("fv__hide",!e)}),this.calloutController.classList.toggle("fv__callout-shape-controller-resizable-disabled",!e),this.resizable=e}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?z.noop:t,i=e.update,r=void 0===i?z.noop:i,o=e.interceptor,a=void 0===o?O_:o,s=e.moving,A=void 0===s?z.noop:s,c=e.end,u=void 0===c?z.noop:c,l=e.cancel,d=void 0===l?z.noop:l,h=e.auxiliaryLine,f=void 0===h?null:h,p=arguments.length>1?arguments[1]:void 0;this.start=n,this.update=r,this.move=A,this.interceptor=a,this.end=u,this.cancel=d,this.annot=p,this.isActive=!1,this.calloutShape.init(p,this.calloutController.querySelector(".fv__shape-control-previewer")),this.companionObject=new L_(this),this.isActive=!1,this.auxiliaryLine=f}},{key:"getCompanionObject",value:function(){return this.companionObject}},{key:"companion",value:function(e){"function"==typeof e.getCompanionObject&&this.companionObject.companion(e.getCompanionObject())}},{key:"clearCompanions",value:function(){this.companionObject.clearCompanions()}},{key:"getMargin",value:function(){return this.companionObject.companionMargin}},{key:"active",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary(),n=arguments.length>2?arguments[2]:void 0;this.isActive=!0,e.append(this.calloutController),O()(this.calloutController).css(t),this.box=n,this.adjustPointControl(),this.calloutController.style.display="block"}},{key:"show",value:function(){O()(this.calloutController).show()}},{key:"hide",value:function(){O()(this.calloutController).hide()}},{key:"disable",value:function(){this.isDisabled=!0,this.calloutController.classList.add("disabled")}},{key:"enable",value:function(){this.isDisabled=!1,this.calloutController.classList.remove("disabled")}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.calloutController.classList.add("move-disabled")}},{key:"moveEnable",value:function(){this.isMoveDisabled=!1,this.calloutController.classList.remove("move-disabled")}},{key:"deactive",value:function(){this.calloutController.style.display="none",this.isActive=!1}},{key:"destroy",value:function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)}},{key:"bindMovingEvent",value:function(){var e=this;this._bindMoveAreaEvents(F_),this._bindMoveAreaEvents(N_);var t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach(function(t){return e._bindMovePointEvents(t)}),(0,z.attachContextMenuEvent)(this.calloutController,function(t){e.annot.showContextMenu(t.clientX,t.clientY),t.preventDefault()});this.ui}},{key:"isEditHandle",value:function(e){var t=O()(e.element).parent().prev().find("textarea");t.length||(t=O()(e.element).parent().prev());var n=!1;return t&&(n=t.is(":visible")),O()(".fv__groupAnnotBorder").is(":visible")&&(n=!1),n}},{key:"_bindMoveAreaEvents",value:function(e){var t=this,n=this.ui,i=".fv__shape-control-move-area";e==N_&&(i=".fv__shape-control-text-area");var r,o,a=new Jr.Manager(n.querySelector(i));a.add(new Jr.Pan({direction:Jr.DIRECTION_ALL}));var s=!1;a.on("panstart",function(n){var i=n.deltaX,A=n.deltaY,c=n.srcEvent,u=n.center;s=t.isEditHandle(a),t.isDisabled||!t.isActive||e==F_&&t.isMoveDisabled||s||(r=i,o=A,e===F_&&(t.onPrestart&&t.onPrestart(),t.companionObject.companions.forEach(function(e){e.doStart(),e.move(i,A,!0)})),t.showShape(),t.start(e),e==F_&&t.trigger("movingstart",{deltaX:u.x+i,deltaY:u.y+A,srcEvent:c}))}),a.on("panend",function(n){e==F_&&t.trigger("movingend"),t.isDisabled||!t.isActive||e==F_&&t.isMoveDisabled||s?s=!1:(e===F_&&t.companionObject.companions.forEach(function(e){e.end("move")}),t.calloutShape.hide(),t.end(e),e===F_&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))}),a.on("pancancel",function(n){e==F_&&t.trigger("movingcancel"),t.isDisabled||!t.isActive||e==F_&&t.isMoveDisabled||s?s=!1:(t.cancel(e),e===F_&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))}),a.on("panmove",function(n){var i=n.deltaX,a=n.deltaY,A=(n.center,n.direction,t);if(!(t.isDisabled||!t.isActive||e==F_&&t.isMoveDisabled||s)){var c=i-r,u=a-o,l=t.annot.getRect();t.move(e,-1,c,u).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t){var n=A.annot.getRect();if(e===F_){var i=n.left-l.left,r=n.top-l.top;A.companionObject.companions.forEach(function(e){e.move(i,r)})}O()(A.calloutController).css(A.annot.getBoundary());var o=t.rect,a=t.innerRect,s=t.points;if(e==N_&&A.adjustPointControl(s,o,a),A.showShape(s,o,a),e===F_&&A.auxiliaryLine){var c=A.auxiliaryLine.getPageAnnots(),u=n,d=A.auxiliaryLine.gap,h=A.auxiliaryLine.container,f=A.annot.getBoundary(),p=[f],g={};f.right=f.left+f.width,f.bottom=f.top+f.height,g[f.top+f.left+f.right+f.bottom]=!0,A.companionObject.companions.length&&A.companionObject.companions.forEach(function(e){var t=e.shape.getRect();u.left=Math.min(u.left,t.left),u.top=Math.min(u.top,t.top),u.right=Math.max(u.right,t.right),u.bottom=Math.max(u.bottom,t.bottom),p.push(t),g[t.top+t.left+t.right+t.bottom]=!0}),c=c.filter(function(e){var t=e.rect;if(Ev.indexOf(e.type)<0)return!1;if(!g[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=p[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.top==t.top&&s.left==t.left&&s.right==t.right&&s.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0});var v=c.map(function(e){return e.rect});A.calloutShape.drawAuxiliaryLine(u,v,d,h)}}})}})}},{key:"_bindMovePointEvents",value:function(e){var t,n,i=this,r=new Jr.Manager(e);r.add(new Jr.Pan({direction:Jr.DIRECTION_ALL})),r.on("panmove",function(r){var o=r.deltaX,a=r.deltaY;r.center,r.direction,r.target;if(!i.isDisabled&&i.isActive&&i.resizable){var s=o-t,A=a-n;return i.move(R_,e.classList[2],s,A).then(function(e){if(e){O()(i.calloutController).css(i.annot.getBoundary());var t=e.rect,n=e.innerRect,r=e.points;i.adjustPointControl(r,t,n),i.showShape(r,t,n)}}),!1}}),r.on("panstart",function(e){var r=e.deltaX,o=e.deltaY;e.center;if(!i.isDisabled&&i.isActive&&i.resizable)return t=r,n=o,i.showShape(),i.start(R_),!1}),r.on("pancancel",function(e){if(!i.isDisabled&&i.isActive&&i.resizable)return i.cancel(R_),!1}),r.on("panend",function(e){if(!i.isDisabled&&i.isActive&&i.resizable)return i.calloutShape.hide(),i.end(R_),!1})}},{key:"showShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(e,t,n)}},{key:"adjustPointControl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary(),i=this.ui,r={left:n.left-t.left,top:n.top-t.top,width:n.width,height:n.height},o=i.querySelector(".fv__shape-control-text-area");O()(o).css(r);var a=i.querySelector(".fv__shape-control-inner-area");if(O()(a).css(r),e.length>1){var s=i.querySelector(".fv__shape-controller.calloutStart");O()(s).css({display:"block",left:e[0][0]-t.left-4,top:e[0][1]-t.top-4}),s=i.querySelector(".fv__shape-controller.calloutKnee"),O()(s).css({display:"block",left:e[1][0]-t.left-4,top:e[1][1]-t.top-4})}else{var A=i.querySelector(".fv__shape-controller.calloutStart");O()(A).css({display:"none"}),A=i.querySelector(".fv__shape-controller.calloutKnee"),O()(A).css({display:"none"})}}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}},{key:"isAllDirection",value:function(){return!0}}]),e}(),B_=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"calcCalloutPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,i=t.end,r=t.page,o=t.width,a=void 0===o?i[0]+110:o,s=t.height,A=void 0===s?i[1]+30:s,c=t.borderStyle,u=t.endingStyle,l=t.scale,d=t.rotate;i[0]=Math.max(i[0],2),i[1]=Math.max(i[1],12);var h=100*l*4/3,f=20*l*2/3,p=r.getOriginX(),g=r.getOriginY(),v=r.reverseDeviceRect({left:i[0],right:i[0]+h,top:i[1]-f,bottom:i[1]+f},l,d);n=r.reverseDevicePoint(n,l,d),i=r.reverseDevicePoint(i,l,d),v.left<p&&(v.left=p),v.bottom<g&&(v.bottom=g);var m=[{x:n[0],y:n[1]},{x:v.left-15,y:v.top+10},{x:v.left-.1,y:v.top+10}];if(!(m=e.checkKneePoint(0,m,v))||V_(m[0],m[1])<15||V_(m[2],m[1])<15)return{invalid:!0};var y=e.recalculateRect({points:m,innerRect:v,width:a,height:A,borderInfo:c,endingStyle:u,originX:p,originY:g});return y.left<p+5||y.right>p+a||y.bottom<g+5||y.top>g+A?{invalid:!0}:{calloutLinePoints:m,rect:y,innerRect:v}}},{key:"calcKneeLength",value:function(e){var t=e[1],n=e[2];return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}},{key:"checkKneePoint",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.kneeLength;if(t>3||n.length<2)return null;var o=JSON.parse(JSON.stringify(n));switch(t){case 0:o[2]={x:i.left-.1,y:(i.top+i.bottom)/2-.1},o[1]={x:o[2].x-r,y:o[2].y};break;case 1:o[1]={x:(i.left+i.right)/2,y:i.bottom-r},o[2]={x:o[1].x-.1,y:i.bottom-.1};break;case 2:o[1]={x:i.right+r,y:(i.top+i.bottom)/2},o[2]={x:i.right-.1,y:o[1].y};break;case 3:o[1]={x:(i.left+i.right)/2,y:i.top+r},o[2]={x:o[1].x-.1,y:i.top-.1}}var a=V_(o[2],o[0]);if(a<20)return o;var s=V_(o[2],o[1]),A=V_(o[1],o[0]),c=Math.acos((a-s-A)/(2*Math.sqrt(s)*Math.sqrt(A)));return Math.PI>c&&c>Math.PI/2?e.checkKneePoint(t+1,n,i,r):o}},{key:"recalculateRect",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.points,n=e.innerRect,i=e.width,r=void 0===i?1e4:i,o=e.height,a=void 0===o?1e4:o,s=e.rotate,A=e.borderInfo,c=e.endingStyle,u=e.originX,l=(e.originY,1/0),d=l,h=-1/0,f=-1/0,p=l,g=0;g<3;g++)t[g].x<d&&(d=t[g].x),t[g].x>h&&(h=t[g].x),t[g].y>f&&(f=t[g].y),t[g].y<p&&(p=t[g].y);s%2&&(r^=a,r^=a^=r);var v=0;A&&5==A.style&&(v=1==A.cloudIntensity?6:9);var m={left:Math.max(Math.min(d,n.left)-1,u),top:Math.max(f,n.top)+1,right:Math.max(h,n.right)+1,bottom:Math.min(p,n.bottom)-1};0!==v&&(Math.abs(m.left-n.left)<2&&(m.left-=v),Math.abs(m.right-n.right)<2&&(m.right+=v),Math.abs(m.top-n.top)<2&&(m.top+=v),Math.abs(m.bottom-n.bottom)<2&&(m.bottom-=v));var y=0;switch(c){case 7:case 8:y=8;break;case 2:case 1:case 3:case 6:case 9:y=6}return 0!=y&&(m.left-=y,m.right+=y,m.top+=y,m.bottom-=y),n.left<m.left&&(n.left=m.left+1),n.right>m.right&&(n.right=m.right-1),n.top>m.top&&(n.top=m.top-1),n.bottom<m.bottom&&(n.bottom=m.bottom+1),m}}]),e}();B_.kneeLength=15;var V_=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)};const H_=B_;var U_=["left","bottom","right","top"],z_=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).annot=e,o.name="callout",o.$ui.removeClass("fv__pdf-page-textbox-annot-container"),o.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),o.$ui.addClass("fv__pdf-page-callout-annot-container"),o.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),z.Lazy.property(o,"shapeControl",function(){var e=new j_(o.pdfViewer.eventEmitter);return o.processShapeControlPermissionCtrl(e),e}),o.addDestroyHook(z.Lazy.onInitialized(o,"shapeControl",function(){o._applyShapeChange()})),o.editDebouncePromiseQueue=new Ae;var a=O()("<div class='fv__ftui-container'><pre class='fv__textbox_ui'></pre></div>");return o.$pre=a.find("pre"),o.$ui.append(a),o.rectChanged=!1,o}return(0,I._)(t,e),(0,D._)(t,[{key:"_applyShapeChange",value:function(){var e=this.shapeControl;if(!e.isDisabled){var t={moveable:!0,resizable:!0},n=(0,w._)({},t,this.pdfViewer.customs.getAnnotComponentConfig(this,Object.keys(t)));e.moveable=n.moveable,n.moveable||e.moveDisable(),n.resizable||e.setResizable(!1),this.doActiveShapeControl()}}},{key:"getPadding",value:function(){return this.annot.getBorderWidth()*this.pdfViewer.getSmartScale(this.scale)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.18*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec(function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l;return(0,N.Jh)(this,function(d){switch(e=this.getFinalRotateAngle(),t=this.$textInput[0],n=t.getBoundingClientRect(),i=this.parent("pdfPageRender"),r=i.$ui[0].getBoundingClientRect(),o=this.getPadding(),a=this.computeCurrentMinMaxHeight({inputRect:n,padding:o,rotate:e,pageRect:r}),s=a.minHeight,A=a.maxHeight,c=t.clientHeight,e){case 0:case 180:C_(t,{maxWidth:t.clientWidth,minWidth:t.clientWidth,maxHeight:r.height-2*o,minHeight:s});break;case 90:case 270:C_(t,{maxWidth:t.clientWidth,minWidth:t.clientWidth,maxHeight:r.width-2*o,minHeight:s})}if((u=t.clientHeight)>A){switch(l=function(){switch(e){case 0:return r.bottom-u-r.top-2*o;case 90:case 180:return u+2*o;case 270:return r.right-u-r.left-2*o}}(),e){case 90:case 270:t.style.left=l+"px";break;default:t.style.top=l+"px"}this.rectChanged=!0}else this.rectChanged=t.clientHeight!==c;return this.rectChanged?[2,this.setHeight(this.$textInput)]:[2]})}).call(e)})}},{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed&&(z.Lazy.isPropertyIntialized(this,"shapeControl")&&!this.isDestroyed)){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable()||this.moveDisabled());var n=this.shapeControl;t?n.disable():n.enable()}}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"active",value:function(){this.rectChanged||(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.doActiveShapeControl()}},{key:"updateSize",value:function(e,t){this.scale=e,this.rotate=t,this.isActive&&this.rerenderShapeControl()}},{key:"doActiveShapeControl",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shapeControl).init({start:function(t){return e.onStartUpdateShape(t)},moving:function(t,n,i,r){return e.onShapeMoving(t,n,i,r)},end:function(t){return e.onShapeUpdateEnd(null,null,t)},auxiliaryLine:void 0},this),this.rerenderShapeControl()}},{key:"rerenderShapeControl",value:function(){var e=this,t=this._getShapeControllerBoundaryBox(),n=this.getBoundary();this.shapeControl.active(this.$handler,n,t),this.getAppPermission().then(function(t){var n=!1;n=!!e.groupMoveDisabled()||(t.ignorable()?e.moveDisabled():!t.isAdjustable()||e.moveDisabled()),e.pdfViewer.currentPDFDoc.readonly().then(function(t){t&&(n=!0),n?e.shapeControl.disable():e.shapeControl.enable()})})}},{key:"movedByOther",value:function(){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox(),t=this.getBoundary();this.shapeControl.active(this.$handler,t,e),this.shapeControl.adjustPointControl()}}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.movedByOther()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"backup",value:function(){var e=this,t=this.annot.getCalloutLinePoints();if(this.backupProperty={points:JSON.parse(JSON.stringify(t)),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())},t.length<3){var n=this.annot.getBorderStyle(),i=this.getPDFPage(),r=H_.calcCalloutPosition({start:[0,0],end:[this.backupProperty.innerRect.left,(this.backupProperty.innerRect.top+this.backupProperty.innerRect.bottom)/2],page:i,width:i.getWidth(),height:i.getHeight(),rotate:i.getRotation()-this.rotate,borderStyle:n,endingStyle:this.annot.getCalloutLineEndingStyle(),scale:this.scale});if(r.invalid)return;this.setCalloutLinePoints(r.calloutLinePoints).then(function(t){var n,i=e._getShapeControllerBoundaryBox();n=e.getBoundary(),e.shapeControl.active(e.$rect,n,i)})}}},{key:"onStartUpdateShape",value:function(e){this.backup()}},{key:"onShapeMoving",value:function(e,t,n,i){var r=this,o=(0,M._)(this.annot.page.reverseDeviceOffset([n,i],this.scale,this.rotate),2),a=o[0],s=o[1];return this.updatePromise=this.updatePromise||Promise.resolve(),this.updatePromise=this.updatePromise.then(function(){switch(e){case N_:return r.updateTextRect(a,s);case F_:return r.updateRect(a,s);case R_:return r.updatePoint(t,a,s)}}).then(function(e){return r.annot.isGrouped(),e})}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=this.annot.info.rect,o=this.annot.info.innerRect,a=this.annot.info.calloutLinePoints;return this._flushEdit(r,o,a).then(function(e){i.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,i),n==F_&&i.pdfViewer.eventEmitter.emit(ae.annotationMovedPosition,[i.annot],i.annot.page,i.annot)}).then(function(e){return i.rerenderShapeControl(),e})}},{key:"_flushEdit",value:function(e,t,n){var i=this,r=Promise.resolve();return this.annot.isGrouped()&&(r=this.annot.moveTo({left:e.left,top:e.top})),r.then(function(){return i.updateCalloutFigure(e,t,n)}).then(function(){return i.annot.oldRect=i.backupProperty.rect,i.redraw()}).then(function(){i.isActive&&i.rerenderShapeControl()})}},{key:"updateRect",value:function(e,t){var n=Object.assign({},this.backupProperty.rect);if(n.left+=e,n.right+=e,n.bottom+=t,n.top+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(e=n.left-this.backupProperty.rect.left,t=n.top-this.backupProperty.rect.top,0==e&&0==t)return Promise.resolve();var i=Object.assign({},this.backupProperty.innerRect);i.left+=e,i.right+=e,i.top+=t,i.bottom+=t;var r=JSON.parse(JSON.stringify(this.backupProperty.points));return r[0].x+=e,r[0].y+=t,r[1].x+=e,r[1].y+=t,r[2].x+=e,r[2].y+=t,this.annot.info.rect=n,this.annot.info.innerRect=i,this.annot.info.calloutLinePoints=r,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updateTextRect",value:function(e,t){var n=Object.assign({},this.backupProperty.innerRect),i=this.annot.getCalloutLinePoints();if(n.left+=e,n.right+=e,n.top+=t,n.bottom+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(!(i=H_.checkKneePoint(0,i,n)))return Promise.resolve(!1);var r=this.getPDFPage(),o=r.getOriginX(),a=r.getOriginY(),s=H_.recalculateRect({points:i,innerRect:n,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle(),originX:o,originY:a});return this.annot.info.rect=s,this.annot.info.innerRect=n,this.annot.info.calloutLinePoints=i,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updatePoint",value:function(e,t,n){var i=this.annot.page,r=this.annot.page.getRotation(),o=i.getWidth(),a=i.getHeight(),s=(0,M._)(1==r||3==r?[a,o]:[o,a],2),A=(s[0],s[1],this.annot.getBorderWidth()),c=this.backupProperty.points,u=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),l=!0,d=Object.assign({},this.backupProperty.innerRect);switch(e){case"calloutStart":u[0].x=c[0].x+t,u[0].y=c[0].y+n;if(d.left-20<u[0].x&&u[0].x<d.right+20&&d.bottom-20<u[0].y&&u[0].y<d.top+20)return Promise.resolve();break;case"calloutKnee":if(u[1].x==u[2].x){if(t=0,c[1].y<c[2].y&&c[1].y+n>=c[2].y)return Promise.resolve();if(c[1].y>c[2].y&&c[1].y+n<=c[2].y)return Promise.resolve()}else if(u[1].y==u[2].y){if(n=0,c[1].x<c[2].x&&c[1].x+t>=c[2].x)return Promise.resolve();if(c[1].x>c[2].x&&c[1].x+t<=c[2].x)return Promise.resolve()}if(c[1].x+t<0||c[1].y+n<0)return Promise.resolve();l=!1,u[1].x=c[1].x+t,u[1].y=c[1].y+n;break;default:for(var h=[].concat(U_),f=0;f<this.rotate/90+this.annot.page.getRotation();f++){var p=h.shift();h.push(p)}switch(e){case"left":d[h[0]]+=W_(h[0],t,n);break;case"bottom":d[h[1]]+=W_(h[1],t,n);break;case"right":d[h[2]]+=W_(h[2],t,n);break;case"top":d[h[3]]+=W_(h[3],t,n)}}var g=i.getOriginX(),v=i.getOriginY(),m=i.getCropBox();if(d.bottom<A+v&&(d.bottom=A+v),d.left<A+g&&(d.left=A+g),d.top>m.top-A&&(d.top=m.top-A),d.right>m.right-A&&(d.right=m.right-A),l&&!(u=H_.checkKneePoint(0,u,d)))return Promise.resolve(!1);var y=H_.recalculateRect({points:u,innerRect:d,width:i.getWidth(),height:i.getHeight(),rotate:i.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle(),originX:i.getOriginX(),originY:i.getOriginY()});return this.checkRect(y)?(this.annot.info.rect=y,this.annot.info.innerRect=d,this.annot.info.calloutLinePoints=u,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})):Promise.resolve()}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setCalloutLineEndingStyle(+t).then(function(){return n.annot.update()}).then(function(){n.activeRect(),n.redraw(),n.rerenderShapeControl()})}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.updateRender().then(function(){return t.rerenderShapeControl(),t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(){return n.updateRender().then(function(){n.rerenderShapeControl(),n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)})})}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(t.prototype),"getPropertyOptions",this).call(this);var e=this.annot,n=(0,z.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=this.annot.getFillColor(),o=e.getBorderWidth(),a=this.propertyDisabled(),s=e.getFontColor(),A=e.getDefaultAppearance().textSize,c=e.getDefaultAppearance().font,u=this.isLocked();return{color:n,opacity:i,fillColor:r,lineStartStyle:e.getCalloutLineEndingStyle(),borderWidth:o,cloudy:!0,disabled:a,fontColor:s,fontSize:A,borderStyle:!0,font:c,isLocked:u}}},{key:"getCalloutPointers",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutLinePoints(),t=[],n=0;n<e.length;n++){var i=this.annot.page.getDevicePoint([e[n].x,e[n].y],this.scale,this.rotate);t.push(i)}return t}},{key:"setInnerRectHeight",value:function(e){var t=Object.assign({},this.backupProperty.innerRect),n=this.annot.getBorderWidth(),i=this.annot.getBorderWidth();5===this.annot.getBorderInfo().style&&(n=0);var r={left:e.left-t.left,right:e.right-t.right,top:e.top-t.top,bottom:e.bottom-t.bottom},o=0;if(Math.round(Math.abs(r.left))<=i?(o++,r.left=0):r.left-=n,Math.round(Math.abs(r.right))<=i?(o++,r.right=0):r.right+=n,Math.round(Math.abs(r.top))<=i?(o++,r.top=0):r.top+=n,Math.round(Math.abs(r.bottom))<=i?(o++,r.bottom=0):r.bottom-=n,4==o)return Promise.resolve(!1);var a=t.left+r.left,s=t.bottom+r.bottom,A=t.top+r.top,c=t.right+r.right;if(a>=c||A<=s)return Promise.resolve(!1);var u=this.annot.getBorderWidth(),l=this.annot.page.getHeight(),d=this.annot.page.getWidth();this.annot.page.getRotation()%2&&(d^=l,d^=l^=d);var h=this.annot.page.getOriginX(),f=this.annot.page.getOriginY(),p=this.annot.page.getCropBox();return a=Math.max(u+h,a),s=Math.max(u+f,s),A=Math.min(A,p.top-u),c=Math.min(c,p.right-u),this.setInnerRectProperty({left:a,bottom:s,top:A,right:c})}},{key:"enableSyncTextScaling",value:function(){return this.pdfViewer.customs.syncTextScaling}},{key:"setInnerRectProperty",value:function(e){var t=JSON.parse(JSON.stringify(this.backupProperty.points)),n=this.backupProperty.innerRect,i=this.annot.page.getHeight();if(this.enableSyncTextScaling()&&t[2].y<=n.bottom+this.annot.getBorderWidth()){var r=t[2];if(e.bottom<r.y){var o=r.y-e.bottom+1;e.bottom+=o,e.top=Math.min(i,e.top+o)}}var a=H_.calcKneeLength(this.backupProperty.points,n);e:if(!(t=H_.checkKneePoint(0,t,e,a))){if(this.enableSyncTextScaling()){var s=this.backupProperty.points;if(z.isAllSimilar.apply(void 0,[1].concat((0,R._)(s.map(function(e){return e.y}))))){var A=s[0].x<e.left,c=A?{x:e.left-.1,y:.5*(e.top+e.bottom)-.1}:{x:e.right+.1,y:.5*(e.top+e.bottom)-.1},u=A?{x:c.x-H_.kneeLength,y:c.y}:{x:c.x+H_.kneeLength,y:c.y};t=[s[0],u,c];break e}}return Promise.resolve(!1)}var l=this.annot.page,d=H_.recalculateRect({points:t,innerRect:e,width:l.getWidth(),height:l.getHeight(),rotate:l.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle(),originX:l.getOriginX(),originY:l.getOriginY()});return this.updateCalloutFigure(d,e,t)}},{key:"checkRect",value:function(e,t){var n=this.annot.page,i=this.shapeControl.getMargin(),r=(0,M._)(n.reverseDeviceOffset([i.left,i.top],this.scale,this.rotate),2),o=r[0],a=r[1],s=(0,M._)(n.reverseDeviceOffset([i.right,i.bottom],this.scale,this.rotate),2),A=s[0],c=s[1],u=Math.abs(o),l=Math.abs(c),d=Math.abs(A),h=Math.abs(a),f=n.getOriginX()+u,p=n.getOriginX()+n.getMediaWidth()-d,g=n.getOriginY()+l,v=n.getOriginY()+n.getMediaHeight()-h;if(t){if(e.left<f+2){var m=u+2-e.left;e.left+=m,e.right+=m}else if(e.right>p-1){var y=p-1-e.right;e.left+=y,e.right+=y}if(e.bottom<g+2){var _=l+2-e.bottom;e.bottom+=_,e.top+=_}else if(e.top>v-2){var b=v-2-e.top;e.bottom+=b,e.top+=b}return!0}return!(e.left<f||e.bottom<g||e.top>v||e.right>p)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(t.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,n){var i=this,r=this.getStyle(!1,!0);this.setDomRect(r);var o=e[0].getBoundingClientRect(),a=this.parent("pdfPageRender").getPDFRectFromClientRect(o),s=this.annotsRender,A=s.getRerenderMode();return s.setRerenderMode(Xi.debounce),this.setInnerRectHeight(a).then(function(n){return(0,E._)((0,S._)(t.prototype),"setHeight",i).call(i,e)}).finally(function(){i.setDomRect(r),e.css(r),i.rectChanged=!1,s.setRerenderMode(A)})}}]),t}(P_),W_=function(e,t,n){return"left"===e||"right"==e?t:n};const Y_=z_;var G_=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="textbox",o.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),o.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),o.$ui.addClass("fv__pdf-page-textbox-annot-container"),o.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),o.$pre.addClass("fv__textbox_ui"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.fontSizeScale<1&&this.$handler.css("transform","scale(1)")}},{key:"getDefaultShapeOptions",value:function(){return{resizable:!0,enableDiagonally:!0}}},{key:"getShapeOptions",value:function(){return(0,E._)((0,S._)(t.prototype),"getShapeOptions",this).call(this)}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(t.prototype),"getPropertyOptions",this).call(this);var e=this.annot,n=(0,z.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=e.getBorderWidth();return{color:n,opacity:i,fillColor:e.getFillColor(),borderWidth:r,cloudy:!0,disabled:this.propertyDisabled(),fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,borderStyle:!0,font:e.getDefaultAppearance().font,isLocked:this.isLocked()}}},{key:"setHeight",value:function(e,t){var n=this.parent("pdfPageRender");if(!n.isDestroyed&&n.$ui){var i=this.getMaxSize(e[0]).height;e[0].style.cssText+="\n            max-height: ".concat(i,"px;\n            height: ").concat(Math.min(e[0].scrollTop+e[0].scrollHeight,i),"px;\n        ");var r=e[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(r);return this.setInnerRectHeight(o)}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then(function(e){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(e){return n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n),e})}},{key:"setInnerRectHeight",value:function(e){var t,n=this,i=this.annot.getBorderInfo(),r=Object.assign({},this.backupProperty.rect);t=i.style===de.CLOUDY?Object.assign({},this.backupProperty.innerRect):Object.assign({},r);var o={left:e.left-t.left,right:e.right-t.right,top:e.top-t.top,bottom:e.bottom-t.bottom},a=0;return Math.round(Math.abs(o.left))<=i.width?(a++,o.left=0):o.left-=i.width,Math.round(Math.abs(o.right))<=i.width?(a++,o.right=0):o.right+=i.width,Math.round(Math.abs(o.top))<=i.width?(a++,o.top=0):o.top+=i.width,Math.round(Math.abs(o.bottom))<=i.width?(a++,o.bottom=0):o.bottom-=i.width,4===a?Promise.resolve():(r={left:r.left+o.left,right:r.right+o.right,top:r.top+o.top,bottom:r.bottom+o.bottom},this.updateRectFigure(r,e).then(function(){n.backup()}))}},{key:"setInnerRect",value:function(e){var n=this;return(0,E._)((0,S._)(t.prototype),"setInnerRect",this).call(this,e).then(function(){return n.updateRender().then(function(){return n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n),!0})})}},{key:"updateRectFigure",value:function(e,t){var n=this;return this.annot.updateRectFigure(e,t).then(function(e){return e?n.updateRender().then(function(){return n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n),e}):e})}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"onStartUpdateShape",value:function(e,t,n){this.backup()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":var o=this.backupProperty.rect,a=this.backupProperty.innerRect,s={left:a.left-o.left,right:o.right-a.right,bottom:a.bottom-o.bottom,top:o.top-a.top},A=this.getPDFPage(),c=A.reverseDeviceRect({left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},this.scale,this.rotate),u={left:c.left-s.left,right:c.right+s.right,bottom:c.bottom-s.bottom,top:c.top+s.top};r=this.setRectInPDF(u,!1,!1).then(function(e){return i.setInnerRect(c)}).then(function(){i.activeRect()}).finally(function(){i.pdfViewer.eventEmitter.emit(ae.annotationUpdated,[i.annot],A)})}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange(),"editing"===this.status&&this.updateTextInputStyle()}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceInnerRect(this.scale,this.rotate),t=this.annot.getInnerRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"beforeBlur",value:function(){return!1}},{key:"handleInputEvent",value:function(){P_.prototype.handleInputEvent.call(this)}}]),t}(E_);const $_=G_;var J_="annotComponent",q_={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(J_).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(J_).showActionsDialog()},disabled:function(){return this.data(J_).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(J_).removeAnnot()},disabled:function(){return this.data(J_).deleteDisabled()}}},K_={properties:q_.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data(J_).download()},disabled:function(){return this.data(J_).readOnlyDisabled()}},remove:q_.remove};const Z_={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"};const X_={OBJECT_URL:"object-url-creation"};n(7539),n(4637);var Q_,eb,tb,nb="px",ib=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:q_,events:{show:function(){return this.data(J_).updateDeleteStatus(!0),!0},hide:function(){return this.data(J_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),rb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:K_,events:{show:function(){return this.data(J_).updateDeleteStatus(!0),!0},hide:function(){return this.data(J_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),ob="play",ab="pause",sb="ended",Ab="error",cb=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"_resize",value:function(e,n,i){this.enableUniform=e!=uv&&e!=lv&&e!=dv&&e!=hv,(0,E._)((0,S._)(t.prototype),"_resize",this).call(this,e,n,i)}}]),t}(Tv),ub=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="screen",o.$ui.addClass("fv__pdf-page-screen-annot-container"),o.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),o.isVideoAudio=e.info.isAudioVideo,o.$Dialog=null,z.Lazy.property(o,"shapeControl",function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=o.pdfViewer.customs.getAnnotComponentConfig(o,Object.keys(e)),n=new cb(Object.assign(e,t,{start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},rotatable:!1,annotRender:r}));return o.processShapeControlPermissionCtrl(n),n.ownsTo(o.disposor),n});var a=z.Lazy.onInitialized(o,"shapeControl",function(e){e.ui.addEventListener("click",function(e){o.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&o.pdfViewer.unActiveElement(o)}),e.ownsTo&&e.ownsTo(o.disposor)});o.addDestroyHook(a),o.addDestroyHook(o.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated(function(){if(z.Lazy.hasProperty(o,"shapeControl")&&z.Lazy.isPropertyIntialized(o,"shapeControl")){var e=o.shapeControl.isActive,t=o.shapeControl;z.Lazy.reset(o,"shapeControl"),e&&o._applyShapeChange(),t.destroy()}})),z.Lazy.property(o,"contextMenu",function(){if(o.contextMenuIsEnable())return o.pdfViewer.viewerUI.createContextMenu(o,i,o.getContextMenuConfig())});var s=o.pdfViewer.i18n,A=Ng().i18n=function(e){return s.t(e)};o.addDestroyHook(function(){Ng().i18n===A&&(Ng().i18n=void 0)});var c=o.pdfViewer.getAnnotAuthorityManager();o.addDestroyHook(c.subscribe(o.annot,function(e){o.updateOnPermissionChange(e)}));var u=o.pdfViewer.eventEmitter,l=function(){o.isDestroyed||e.isDestroyed||c.getPermission(e).then(function(e){o.updateOnPermissionChange(e)})},d=function(e){var t=(0,M._)(e,1)[0];if(t&&t.getId){var n="fv__screen-decorator-".concat(t.getId()),i=o.annotsRender.$ui.find("."+n);i&&i.remove()}},h=function(e,t){d(t)};u.on(ae.permissionChanged,l),u.on(ae.annotationRemoved,d),u.on(ae.flattenAnnotation,h),o.addDestroyHook(function(){u.off(ae.permissionChanged,l),u.off(ae.annotationRemoved,d),u.off(ae.flattenAnnotation,h)});var f="fv__screen-decorator-".concat(o.getId());return!(o.iconContainer=o.annotsRender.$ui.find("."+f)).length&&o.isVideoAudio&&(o.annotsRender.genScreenIcon(o.annotsRender.pageRender,o.annot.info),o.iconContainer=o.annotsRender.$ui.find("."+f)),o.render(),o}return(0,I._)(t,e),(0,D._)(t,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){if(this.isMultiMedia()&&this.iconContainer)this.pdfViewer.getPDFDocRender().noInteraction?this.iconContainer.hide():this.iconContainer.show();if(z.Lazy.isPropertyIntialized(this,"shapeControl")){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable());var n=this.shapeControl;t?n.disable():n.enable()}}}},{key:"processShapeControlPermissionCtrl",value:function(e){var t=this;this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then(function(e){t.updateOnPermissionChange(e)})}},{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==yn&&this.activeRect(),this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e&&this.tileCanvas&&this.tileCanvas.clearCache(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(A/r),A,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale;arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isMultiMedia()){var t=4*this.annot.getBorderWidth()/3*z.dpr*e;this.iconContainer.css({padding:t})}}},{key:"afterRender",value:function(e){if(e.transformed&&(this.isActive&&(this.activeRect(),this._applyShapeChange()),this.isMultiMedia()&&this.$player&&this.$player.is(":visible"))){var t=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:t.left+nb,top:t.top+nb,width:t.right-t.left+nb,height:t.bottom-t.top+nb})}}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec(function(){return n.setRect(e)}):Promise.resolve()}},{key:"onShapeMoving",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec(function(){return n.moveTo(e.left,e.top)}):Promise.resolve()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise.exec(function(){return i.setRect(e).then(function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(ae.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)})})}},{key:"activeHandleFuc",value:function(e){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange(),e&&this.play(),this.closeConfirmDia()}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(e){var t=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName(),n=this.annot.info.annotScreenDetailType;["create-multi-media-state","select-annotation","createImage"].includes(t)||n&&"screen_img"===n?this.activeHandleFuc(!1):this.activeHandleFuc(!(e&&"doubletap"===e.type))}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getRelevantPlayer",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:n=this.pdfViewer.multimediaPlayers,i=!0,r=!1,o=void 0,u.label=1;case 1:u.trys.push([1,6,7,8]),a=n[Symbol.iterator](),u.label=2;case 2:return(i=(s=a.next()).done)?[3,5]:(A=s.value,[4,(new A).isSupport({buffer:t,fileName:e})]);case 3:if(u.sent())return[2,A];u.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return c=u.sent(),r=!0,o=c,[3,8];case 7:try{i||null==a.return||a.return()}finally{if(r)throw o}return[7];case 8:return[2,null]}})}).call(this)}},{key:"play",value:function(){var e=this,t=this.pdfViewer.getPDFDocRender();t&&!t.noInteraction&&this.getAppPermission().then(function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()})}},{key:"pause",value:function(){this.customPlayer&&this.customPlayer.pause()}},{key:"isPaused",value:function(){return!this.customPlayer||this.customPlayer.isPaused}},{key:"updatePayerRect",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);return this.$player?(this.$player.css({left:e.left+nb,top:e.top+nb,width:e.right-e.left+nb,height:e.bottom-e.top+nb}),e):e}},{key:"getRendition",value:function(){var e=this;return this.annot.getActionPromise().then(function(t){var n=t.findAction(function(e){return e.info.type===Ge.ActionType.rendition})[0];if(n){for(var i=n.info,r=0;r<i.renditions.length;r++){var o=i.renditions[r];if(o.fileName)return e.rendition=o,o}throw new Error("No valid rendition found!")}e.isVideoAudio=!1})}},{key:"doAction",value:function(){var e=this,t=function(){return e.annot.triggerAction({trigger:Ge.AnnotActionTriggerEvents.ANNOT_MOUSE_BUTTON_RELEASED,isShift:z.keyboardStatus.isShift,isModifier:z.keyboardStatus.isWin})};this.isMultiMedia()?this.getRendition().then(function(n){if(t(),n){if(!e.$playerContainer){var i=document.createElement("div");i.className="fv__pdf-player",e.$handler.append(i),e.$playerContainer=e.$handler.find(".fv__pdf-player")}return e.$handler.addClass("active"),e.$playerContainer&&e.$playerContainer.show(),e.customPlayer?e.customPlayer.isSupport({buffer:n.buffer,fileName:n.fileName})?void e.customPlayer.play():e.alertUnsupportMsg():e.createCustomPlayer().then(function(t){t&&(e.$rect&&e.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),e.customPlayer.play())})}},function(t){e.alertUnsupportMsg()}):t()}},{key:"createCustomPlayer",value:function(){return(0,x._)(function(){var e,t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return e=this,t=this.rendition,n=t.fileName,i=t.buffer,r=t.contentType,[4,this.getRelevantPlayer(n,i)];case 1:return(o=a.sent())?(this.customPlayer=new o(this.$playerContainer[0],this.annot,this.pdfViewer),[4,this.customPlayer.init({fileName:n,buffer:i,contentType:r})]):(this.alertUnsupportMsg(),[2,!1]);case 2:return a.sent(),this.addDestroyHook(this.customPlayer.on(ob,function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!1))}),this.customPlayer.on(ab,function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)}),this.customPlayer.on(sb,function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)}),this.customPlayer.on(Ab,function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!0))})),[2,!0]}})}).call(this)}},{key:"getAnnotComponent",value:function(e){var t=e.getPage().getIndex(),n=e.getObjectNumber(),i=this.pdfViewer.getAnnotRender(t,n);return i?i.getComponent():null}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"getDataFormBlob",value:function(){var e=this.rendition,t=e.buffer,n=e.fileName,i=e.contentType;if(!t.length)return{fileName:n};var r=this.pdfViewer.resourceGenerator(Z_.PDF_DOCUMENT_CLOSING,X_.OBJECT_URL).expose().URL,o=new Blob([t.buffer],{type:i});return{url:r.createObjectURL(o),blob:o}}},{key:"download",value:function(){var e=this;this.getAppPermission().then(function(t){if(t.isAttachmentDownloadable())return e.isMultiMedia()?e.getRendition().then(function(t){if(t){if(e.customPlayer&&e.customPlayer.download)return e.customPlayer.download();var n=e.getDataFormBlob();if("blob"in n)return Lh(n.blob,t.fileName,n.blob.type)}e.alertUnsupportMsg()}):void 0})}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+nb,top:r.top+nb,width:r.right-r.left+nb,height:r.bottom-r.top+nb}),this.isActive&&this._applyShapeChange()}},{key:"updateSize",value:function(e,n){(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.activeRect()}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=O()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",function(t){e.rectSingleTap(t)}),t.on("contextmenu",function(e){e.preventDefault()}),t.on("mouseup",function(e){e.stopPropagation()}),n.data(J_,this),this.addDestroyHook(function(){r.destroy()}),n}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"getContextMenuConfig",value:function(){var e;if(this.isMultiMedia()){if(eb)return eb;e=this.constructor.getMultiMediaContextMenuConfig()}else{if(Q_)return Q_;e=this.constructor.getDefaultContextMenuConfig()}for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(e):this.constructor.setContextMenuConfig(e),e}},{key:"updateRender",value:function(){return this.updateSize(),Promise.resolve()}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.$handler&&this.$handler.removeClass("active"),this.shapeControl.deactive()}},{key:"unActiveMore",value:function(){}},{key:"rectSingleTap",value:function(e){}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then(function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0}).then(function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t})}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||z.noop)(this)).then(function(t){if(n.emit(ae.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then(function(t){return e.isMultiMedia()&&e.iconContainer&&e.iconContainer.remove(),n.emit(ae[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t},function(){n.emit(ae.removeActionAnnotationFailed,e)})})}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=360-e.getRotation();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:!0,disabled:this.propertyDisabled(),rotation:i,isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.isPaused()?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Wg(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Wm(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(e){return e?n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)}):e})}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var s=(o-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then(function(n){return n?t.annot.setRotation(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e}):n})}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn?this.play():(0,E._)((0,S._)(t.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),z.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return ib}},{key:"getMultiMediaContextMenuConfig",value:function(){return rb}},{key:"setContextMenuConfig",value:function(e){Q_=e}},{key:"setMultiMediaContextMenuConfig",value:function(e){eb=e}}]),t}(qd),lb=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]);var a=e.getGroupHeader();return a&&"Replace"===a.getIntent()&&(o.isReplace=!0,o.caretAnnot=a),o}return(0,I._)(t,e),(0,D._)(t,[{key:"onRightChangeSuccess",value:function(e){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(e.charIndex)}}]),t}(Yv),db=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).$ui.addClass("fv__pdf-page-watermark-annot-container"),o}return(0,I._)(t,e),(0,D._)(t,[{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(A/r),A,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2?arguments[2]:void 0,o=this.annot;if(this.scale=n,this.rotate=i,o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var a=this.tileCanvas;if(!o.getBorderWidth())return a&&a.hideContainer(),Promise.resolve();var s=this.getTileConfig(n,i);return a||(a=this.tileCanvas=new $r(function(e,n,i,r,a,s,A,c){return t.getPDFPage().getAnnotBitmap(o.getId(),(0,W.F2)(s),t.rotate,{x:A*s+n*a,y:c*s+e*a,width:i,height:r},!0)},this.$ui)),a.setVisibleRect(r),a.showContainer(),(e=a).redraw.apply(e,(0,R._)(s))}}]),t}(qd),hb="annotComponent",fb={play:{name:"play",nameI18nKey:"viewer_:contextmenu.annot.play",callback:function(){this.data(hb)},disabled:function(){return this.data(hb).readOnlyDisabled()}},pause:{name:"pause",nameI18nKey:"viewer_:contextmenu.annot.pause",callback:function(){this.data(hb)},disabled:function(){return this.data(hb).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(hb).removeAnnot()},disabled:function(){return this.data(hb).deleteDisabled()}}};function pb(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}var gb="px",vb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:fb,events:{show:function(){return this.data(hb).updateDeleteStatus(!0),!0},hide:function(){return this.data(hb).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),mb=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"_resize",value:function(e,n,i){this.enableUniform=e!=uv&&e!=lv&&e!=dv&&e!=hv,(0,E._)((0,S._)(t.prototype),"_resize",this).call(this,e,n,i)}}]),t}(Tv),yb=function(e){function t(e,n,i,r){var o;(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).name="sound",o.$ui.addClass("fv__pdf-page-sound-annot-container"),o.$handler.addClass("fv__pdf-page-sound-annot-handler-container"),e.action&&(o.actionViewer=o.pdfViewer.actionManager.get(e.action,o)),o.isVideoAudio=e.info.isAudioVideo,o.audioUrl="",o.audioBlobData=null,o.multiMediaFilename="",z.Lazy.property(o,"shapeControl",function(){var e=new mb({emitter:o.pdfViewer.eventEmitter,start:function(e,t,n){return o.onStartUpdateShape(e,t,n)},update:function(e,t){return o.onShapeUpdating(e,t)},moving:function(e,t,n){return o.onShapeMoving(e,t,n)},end:function(e,t,n){return o.onShapeUpdateEnd(e,t,n)},resizable:!1,enableDiagonally:!0,moveable:!1,rotatable:!1,annotRender:r,enableSizeBox:!o.isMultiMedia()});return o.processShapeControlPermissionCtrl(e),e}),z.Lazy.property(o,"contextMenu",function(){if(o.contextMenuIsEnable())return o.pdfViewer.viewerUI.createContextMenu(o,i,o.getContextMenuConfig())});var a=o.pdfViewer.i18n;Ng().i18n=function(e){return a.t(e)};var s=Ng().i18n=function(e){return a.t(e)};return o.addDestroyHook(function(){Ng().i18n===s&&(Ng().i18n=void 0)}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),A=s.right-s.left,c=s.bottom-s.top;return[Math.ceil(c/r),Math.ceil(A/r),A,c,r,i,e,t,a.left,a.top]}},{key:"swapLowHighBit",value:function(e){for(var t=new Int8Array(e).length,n=new DataView(e),i=new Int8Array(t),r=0;r<t;r+=2)i[r]=r+1==t?0:n.getInt8(r+1),i[r+1]=n.getInt8(r);return i}},{key:"getMultiMediaUrl",value:function(){var e=this.annot;if(!this.audioBlobData){var t=e.info.soundObj,n=t.data;this.multiMediaFilename=e.info.title;var i=t.sampleRate,r=t.sampleBits,o=t.channel,a=this.swapLowHighBit(n),s=(a.length,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=new ArrayBuffer(44+e.length),o=new DataView(r);return pb(o,0,"RIFF"),o.setUint32(4,36+e.length,!0),pb(o,8,"WAVE"),pb(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,t,!0),o.setUint32(24,n,!0),o.setUint32(28,n*t,!0),o.setUint16(32,t,!0),o.setUint16(34,i,!0),pb(o,36,"data"),o.setUint32(40,e.length,!0),function(e,t,n){for(var i=0;i<n.length;i++,t++){var r=n[i];e.setInt8(t,r)}}(o,44,e),o}(a,o,i,r)),A=new Blob([new Int8Array(s.buffer)],{type:"audio/wav"});this.audioBlobData=A}var c=this.pdfViewer.resourceGenerator(Z_.PDF_DOCUMENT_CLOSING,X_.OBJECT_URL).expose().URL;return this.audioUrl=c.createObjectURL(this.audioBlobData,{type:"audio/wav"}),this.audioUrl}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(t.prototype),"render",this).call(this,e,n)}},{key:"afterRender",value:function(e){if(e.transformed){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+gb,top:n.top+gb,width:n.right-n.left+gb,height:n.bottom-n.top+gb})}}}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+gb,top:r.top+gb,width:r.right-r.left+gb,height:r.bottom-r.top+gb}),this.isActive&&this._applyShapeChange()}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=O()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",function(t){!1!==e.onDoubleTap(t)&&e.rectDoubleTap()}),this.contextMenuIsEnable()&&n.data(hb,this),this.addDestroyHook(function(){r.destroy()}),n}},{key:"getContextMenuConfig",value:function(){if(tb)return tb;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.constructor.setContextMenuConfig(e),e}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new z.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return n.setRect(e)})}},{key:"onShapeMoving",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec(function(){return n.moveTo(e.left,e.top).then(function(e){n.setMargin()})})}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec(function(){return i.moveTo(e.left,e.top,n,!1).then(function(t){return i.setRect(e)}).then(function(e){i.setMargin()})}):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Fh.expandOffset(t,e))}},{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active")}},{key:"play",value:function(){var e=this;this.getAppPermission().then(function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()})}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"isPaused",value:function(){return!this.player||this.player.paused}},{key:"doAction",value:function(){var e=this;if(this.isMultiMedia()){var t=this.getMultiMediaUrl();if(!t)return;if(this.$handler.addClass("active"),this.$player)this.$player.show();else{if(z.isIE&&!z.isEdge){return this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0}),!1}this.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio style="width: 200px" src="'+t+'" poster="#" width="100px" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'),this.$player=this.$handler.find(".fv__pdf-player"),this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),(z.isIE||z.isEdge)&&this.player.addClass("IE-player"),(z.isMobile||z.isTablet)&&this.player.removeAttribute("controls"),this.$handler[0].querySelector(".fv__close-video").addEventListener("click",function(t){URL.revokeObjectURL(e.audioUrl),e.player&&e.player.pause&&e.player.pause(),e.$player.hide()})}var n=this.annot.getDeviceRect(this.scale,this.rotate);if(this.$player.css({left:n.left+gb,top:n.top+gb,width:n.right-n.left+gb,height:n.bottom-n.top+gb}),this.$rect&&this.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),!this.player)return;this.player.paused?this.player.play&&this.player.play():this.player.pause&&this.player.pause()}else this.actionViewer&&this.actionViewer.active()}},{key:"download",value:function(){var e=this;this.getAppPermission().then(function(t){if(t.isAttachmentDownloadable()){var n=e.audioBlobData;z.isIE&&!z.isEdge&&(e.multiMediaFilename=e.multiMediaFilename+".wav"),Lh(n,e.multiMediaFilename,{type:"audio/wav"})}})}},{key:"addAction",value:function(e){this.actionViewer=this.pdfViewer.actionManager.get(e,this)}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,M._)((0,W.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"unActive",value:function(){(0,E._)((0,S._)(t.prototype),"unActive",this).call(this),this.$handler.removeClass("active")}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then(function(t){return t.ignorable()&&("function"==typeof e.deleteDisabled&&e.deleteDisabled()||!e.deleteDisabled)?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0}).then(function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t})}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||z.noop)(this)).then(function(t){if(n.emit(ae.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then(function(t){if(t)return n.emit(ae.removeActionAnnotationSuccess,e,i);n.emit(ae.removeActionAnnotationFailed,e)},function(){n.emit(ae.removeActionAnnotationFailed,e)})})}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"removeAction",value:function(){this.actionViewer=null}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,z.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=e.getBorderStyle();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:i,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Wg(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Wm(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then(function(e){return e?n.updateRender().then(function(){n.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,n)}):e})}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then(function(e){return e?t.updateRender().then(function(){return t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e})}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var s=(o-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then(function(n){return n?t.annot.setRotation(e).then(function(e){return e?t.updateRender().then(function(){return t.active(),t.pdfViewer.eventEmitter.emit(ae.updateActionAnnotation,t),e}):e}):n})}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn?this.play():(0,E._)((0,S._)(t.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),z.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return vb}},{key:"setContextMenuConfig",value:function(e){tb=e}}]),t}(tv),_b=function(){function e(){(0,C._)(this,e),this._queue=[]}return(0,D._)(e,[{key:"start",value:function(e){return this._queue.push(e),this._execIng&&this._execIng.end(),this._exec(),e.promise}},{key:"_exec",value:function(){var e=this;if(!this._execIng){var t=this._queue,n=t.pop();n?(this._execIng=n,t.forEach(function(e){e.end()}),this._queue=[],n.start().finally(function(){e._execIng=!1,e._exec()})):this._execIng=!1}}},{key:"end",value:function(){var e=this._queue;return this._queue=[],Promise.all(e.map(function(e){return e.end()}).concat(this._execIng?[this._execIng.end()]:[]))}}]),e}();const bb=_b;n(9756);var wb=function(){},kb=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[e,n,i,r])).$ui.addClass("fv__pdf-page-3d-annot-container"),o.$handler.addClass("fv__pdf-page-3d-annot-handler-container"),o.render3DPopSerialPromises=new bb,o.provider=o.pdfViewer.getIoC().getInstanceByClass(Pb),o.provider.registerWorkflow(),o}return(0,I._)(t,e),(0,D._)(t,[{key:"agreeActive3D",value:function(){return xb("agreeActive3D",this)}},{key:"active3DHandle",value:function(e){if(this.pdfViewer.isLoad3DModuleEnabled()){var t=this.loading();return xb("active3DHandle",this,e).finally(t)}}},{key:"render3D",value:function(e){return xb("render3D",this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.disable3DHandle()}},{key:"disable3DHandle",value:function(){return this.render3DPopSerialPromises&&this.render3DPopSerialPromises.end().catch(wb),this.isActived3DHandleLoaded&&xb("destroy3DInteraction",this)}},{key:"doubleTapAnnot",value:function(e){}},{key:"showToolbar",value:function(){}},{key:"hideToolbar",value:function(){}},{key:"setAnnot3DTool",value:function(e){return this.setAnnot3DToolApi(e)}},{key:"setAnnot3DToolApi",value:function(e){return xb("setAnnot3DTool",this,e)}},{key:"loading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$handler.get(0);return this.pdfViewer.viewerUI.loading(e)}},{key:"setDefaultView",value:function(){return xb("setDefaultView",this)}}]),t}(qd);function xb(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Promise.resolve().then(n.bind(n,9756)).then(function(t){return t[e]})}(e).then(function(e){return e.apply(void 0,(0,R._)(i))})}var Pb=function(){function e(){var t=this;(0,C._)(this,e),this.pdfDocArray=[],this.workflow=function(e){t[e.type]&&t[e.type](e.msg)}}return(0,D._)(e,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.addEventListener(ae.willCloseDocument,function(){e.unregisterWorkflow()})}},{key:"registerWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1===this.pdfDocArray.indexOf(e)&&(this.pdfDocArray.push(e),e.api.registerWorkflow("3D",this.workflow))}},{key:"unregisterWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1!==this.pdfDocArray.indexOf(e)&&(this.pdfDocArray=this.pdfDocArray.filter(function(t){return t!==e}),e.api.unregisterWorkflow("3D",this.workflow))}},{key:"notifyModelImportFailure",value:function(e){0===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.otherUnspecifiedError"):1===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.complexityLimitExceeded"):2===e.failReason&&this.pdfViewer.viewerUI.alert("3d.failReason.modelNotSupported")}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),e}(),Cb="annotComponent",Db={sign:{name:"Sign",nameI18nKey:"viewer_:contextmenu.annot.sign",callback:function(e,t,n,i){this.data(Cb).sign(e,t,n,i)},show:function(){return this.data(Cb).updateDeleteStatus(!0),!0},hide:function(){return this.data(Cb).updateDeleteStatus(!1),!0}}};var Eb="fv__widget-outline",Sb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Db,events:{show:function(){return this.data(Cb).updateDeleteStatus(!0),!0},hide:function(){return this.data(Cb).updateDeleteStatus(!1),!0}}}}(),Ib=function(e){function t(e,n,i,r){var o,a;(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),(0,U._)(o,"foreground",document.createElement("div")),(0,U._)(o,"signDialog",void 0),(0,U._)(o,"verifiedDialog",void 0),o.foreground.classList.add("fv__widget-signature-foreground");var s,A=o.pdfViewer.getFormFillerService();o.addDestroyHook(function(){var e=o.signDialog;e&&e.isOpened()&&e.getCurrentSignature()===o.annot.getField()&&e.hide()},A.onDesignModeChange(function(e){var t=e===br.FormDesignMode.SIGNATURE||e===br.FormDesignMode.ALL_WIDGET_TYPES;o.foreground.classList.toggle("fv__widget-signature-foreground-hidden",t)}),null!==(s=null===(a=e.getField())||void 0===a?void 0:a.onPropertyChange(function(e){e.propertyName===br.FormFieldPropertyName.FLAGS&&o.updateUIState()}))&&void 0!==s?s:function(){});var c=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()};return o.foreground.addEventListener("pointerup",c),o.foreground.addEventListener("contextmenu",c),o.updateUIState().finally(function(){o.$page.append(o.foreground)}),o}return(0,I._)(t,e),(0,D._)(t,[{key:"doc",get:function(){var e,t;return null===(t=this.annot)||void 0===t||null===(e=t.page)||void 0===e?void 0:e.doc}},{key:"form",get:function(){var e;return null===(e=this.doc)||void 0===e?void 0:e.form}},{key:"updateUIState",value:function(){return(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return(e=this.annot.getField())?[4,this.isSigned()]:(this.foreground.classList.add("fv__widget-signature-readonly"),[2]);case 1:return i.sent()?(n=!1,[3,4]):[3,2];case 2:return[4,e.isReadonly()];case 3:n=i.sent(),i.label=4;case 4:return t=n,this.foreground.classList.toggle("fv__widget-signature-readonly",t),[2]}})}).call(this)}},{key:"handleOnKeyUp",value:function(e){return e.keyCode===z.KeyCodes.Enter?this.activateSignatureField():(0,E._)((0,S._)(t.prototype),"handleOnKeyUp",this).call(this,e)}},{key:"activateSignatureField",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.isSigned()];case 1:return t.sent()?[4,this.startVerifyWorkflow()]:[3,3];case 2:case 4:return t.sent(),[2];case 3:return(this.annot.getFlags()&en.readOnly)===en.readOnly?[2]:(e=this.annot.getField())?(e.getFlags()&br.FieldFlag.ReadOnly)===br.FieldFlag.ReadOnly?[2]:[4,this.startSignWorkflow()]:[2]}})}).call(this)}},{key:"handleOnClick",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.activateSignatureField()]})}).call(this)}},{key:"createFillerModeContextMenu",value:function(){return this.pdfViewer.viewerUI.createContextMenu(this,this.foreground,this.getContextMenuConfig())}},{key:"getContextMenuComponentName",value:function(){return"fv--field-signature-contextmenu"}},{key:"render",value:function(e,n){var i=this,r=this;return(0,x._)(function(){return(0,N.Jh)(this,function(o){return(0,E._)((0,S._)(t.prototype),"render",i).call(r,e,n),this.updateForegroundBoundary(),[2]})}).call(this)}},{key:"signDoc",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return n=this.getPDFPage().getPDFDoc(),i=this.getPDFAnnot(),r=i.getField(),o=null==r?void 0:r.getName(),a=(0,k._)((0,w._)({},{fieldName:o},e),{sign:void 0}),[4,n.sign(a,t)];case 1:return s=c.sent(),A=n.fileName||"untitled.pdf",this.pdfViewer.openPDFByFile(s,{fileName:A}),[2]}})}).call(this)}},{key:"isSigned",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){return(e=this.annot.getField())?[2,e.isSigned()]:[2,!1]})}).call(this)}},{key:"startSignWorkflow",value:function(){return(0,x._)(function(){var e,t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return e=this,(t=this.annot.getField())?[4,t.isSigned()]:[2];case 1:return r.sent()?[2]:[4,this.pdfViewer.viewerUI.getSignatureUI()];case 2:return n=r.sent(),i=this,[4,n.getSignDocumentDialog()];case 3:return i.signDialog=r.sent(),[4,this.signDialog.openWith(t,function(t,n){return t&&e.signDoc(t,n)})];case 4:return r.sent(),[2]}})}).call(this)}},{key:"startVerifyWorkflow",value:function(){return(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return(e=this.annot.getField())?[4,e.isSigned()]:[2];case 1:return i.sent()?[4,this.pdfViewer.viewerUI.getSignatureUI()]:[2];case 2:return t=i.sent(),n=this,[4,t.getSignVerifiedResultDialog()];case 3:return n.verifiedDialog=i.sent(),[4,this.verifiedDialog.openWith(e)];case 4:return i.sent(),[2]}})}).call(this)}},{key:"handleOnGotFocus",value:function(){return this.pdfViewer.getFormFillerService().virtualWidgetElement.classList.add(Eb),this.foreground.classList.add(Eb),Promise.resolve()}},{key:"handleOnLostFocus",value:function(){this.pdfViewer.getFormFillerService().virtualWidgetElement.classList.remove(Eb),this.foreground.classList.remove(Eb)}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;(0,E._)((0,S._)(t.prototype),"updateSize",this).call(this,e,n),this.updateForegroundBoundary()}},{key:"updateForegroundBoundary",value:function(){return(0,x._)(function(){var e,t,n,i;return(0,N.Jh)(this,function(r){return e=this.annot,t=e.getRect(),n=this.annotsRender.pageRender,i=n.page.getDeviceRect(t,n.scale,n.rotate),this.foreground.style.cssText+="\n            left: ".concat(i.left,"px;\n            top: ").concat(i.top,"px;\n            width: ").concat(i.right-i.left,"px;\n            height: ").concat(i.bottom-i.top,"px;\n        "),[2]})}).call(this)}}],[{key:"getDefaultContextMenuConfig",value:function(){return Sb}}]),t}(eh),Tb=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),o=(0,P._)(this,t,[e,n,i,r]),(0,U._)(o,"dateTimePicker",void 0),o}return(0,I._)(t,e),(0,D._)(t,[{key:"handleOnGotFocus",value:function(){var e=this,n=this;return(0,x._)(function(){var i,r,o,a,s,A,c,u;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return(0,E._)((0,S._)(t.prototype),"handleOnGotFocus",e).call(n),this.annotsRender.$ui.find(".curAnnot").addClass("fv__cursor-text"),((i=this.annot).getFlags()&en.readOnly)===en.readOnly?[2]:(r=i.getField())?(r.getFlags()&br.FieldFlag.ReadOnly)===br.FieldFlag.ReadOnly||r.doc.isDynamicXFA()?[2]:r.doc.isStaticXFA()?(a=r.getName(),[4,r.doc.getXfaWidgetData(a)]):[3,2]:[2];case 1:return(s=l.sent())&&4===s.type&&(o={format:"mm/dd/yyyy",function:"AFDate_FormatEx"}),[3,4];case 2:return[4,r.getDateTimeFormat()];case 3:o=l.sent(),l.label=4;case 4:return o?[4,z.globalPointerStatus.afterMouseUp()]:[3,7];case 5:return l.sent(),A=this.pdfViewer.getFormFillerService(),c=this.pdfViewer.viewerUI.createDateTimePicker(o.format),this.dateTimePicker=c,[4,r.getValue()];case 6:u=l.sent(),c.open({container:A.virtualWidgetAppearanceElement,clientX:0,clientY:0,current:u?z.PDFDate.parse(u,o.format):void 0}),c.onChange(function(e){var t,n=e.format(o.format);null===(t=A.editorAPI)||void 0===t||t.replaceValue(n)}),l.label=7;case 7:return[2]}})}).call(this)}},{key:"handleOnLostFocus",value:function(){this.annotsRender.$ui.find(".curAnnot").removeClass("fv__cursor-text");var e=this.dateTimePicker;e&&(e.close(),this.dateTimePicker=void 0,setTimeout(function(){e.destroy()},500))}},{key:"canRemoveFocus",value:function(e){var t=this.dateTimePicker;return!t||(!t.isOpen()||!t.containsElement(e))}}]),t}(eh),Mb=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"pdfViewer",void 0),this.pdfViewer=t}return(0,D._)(e,[{key:"select",value:function(e){var t;switch(null===(t=e.getField())||void 0===t?void 0:t.getType()){case pn.Text:return Tb;case pn.Sign:return Ib}return eh}}]),e}();const Rb=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.matchRules=[]}return(0,D._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t,n=this.matchRules,i=this.getDefault(e),r=0,o=n.length;r<o;r++){var a=n[r];if("function"==typeof a){var s=a(e,i);s&&(t=s,i=s)}}return t||i}},{key:"getDefault",value:function(e){switch(e.getType()){case"highlight":return zv;case"squiggly":return qv;case"strikeout":return e.getIntent()===fe.STRIKEOUT_TEXTEDIT?lb:Yv;case"underline":return $v;case"line":return e.getIntent()===fe.LINE_DIMENSION?gm:pm;case"polyline":return Pm;case"fileattachment":return Zy;case"text":return Jy;case"circle":return ty;case"caret":return Qy;case"freetext":switch(e.getIntent()){case fe.FREETEXT_TYPEWRITER:return E_;case fe.FREETEXT_CALLOUT:return Y_;default:return $_}case"ink":return o_;case"polygon":switch(e.getIntent()){case fe.POLYGON_CLOUD:return v_;case fe.POLYGON_DIMENSION:default:return Fm}case"square":return t_;case"sound":return yb;case"stamp":return i_;case"link":return Zm;case"widget":return new Mb(this.pdfViewer).select(e);case"screen":return ub;case"redact":return p_;case"watermark":return db;case"3d":return kb;default:return qd}}},{key:"getAnnotFlag",value:function(e){var t=new Fd(e.getFlags());return this.getAnnotFlag_&&t.or(this.getAnnotFlag_(e)),t}},{key:"setViewerAnnotFlag",value:function(e){this.getAnnotFlag_=e,this.pdfViewer.eventEmitter.emit(ae.globalAnnotFlagChanged)}}]),e}();var Fb=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).action=e,i.annot=n,i.pdfViewer=n.pdfViewer,i.initSubAction(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){this.subAction.forEach(function(e){e.active()})}},{key:"setSourceTarget",value:function(e,t){var n=this;this.source=e,this.target=t,this.action&&this.subAction.forEach(function(e){e.setSourceTarget(n.source,n.target)})}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.action&&this.action.subAction.forEach(function(t){e.subAction.push(e.pdfViewer.actionManager.get(t,e.annot))})}},{key:"updateAction",value:function(e){this.action=e,this.initSubAction()}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.action=null,this.subAction.length=0,this.source=null,this.target=null}}]),t}(z.Disposable),Nb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,i=this.annot.pdfViewer,r=i.customs;Promise.resolve((r.URIActionCallback||er)(this.getURI())).then(function(t){if(!1!==t){var r=e.getURI(),o=!1;if(/\w*:\/\/[\s\S]*/.test(r)){if("file"===r.match(/(\w*):\/+[\s\S]*/)[0])return}else(o=r.toLowerCase().startsWith("mailto:"))||(r="http://"+r);if(i.getSafeReadingMode()){var a=r.lastIndexOf("@"),s=r;if(-1!=a&&!o){s=r.substr(a+1);var A=r.indexOf("//");-1!=A&&(s=r.substr(0,A+2)+s)}var c=i.i18n.t("viewer_:pdfjs.launchURLHint");return i.viewerUI.confirm(c+"\n"+Lf.toASCII(s)).then(function(){window.open(r),n(!0)},function(){return n(!1)})}window.open(r)}}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"getURI",value:function(){return this.action.getURI()}},{key:"setURI",value:function(e){return this.action.setURI(e)}}]),t}(Fb),Lb=function(){function e(t){(0,C._)(this,e),this.fileSpec=t}return(0,D._)(e,[{key:"getChecksum",value:function(){return this.fileSpec.getChecksum()}},{key:"getCreationDateTime",value:function(){return this.fileSpec.getCreationDateTime()}},{key:"getDescription",value:function(){return this.fileSpec.getDescription()}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.getFileName()}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}}]),e}(),Ob=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).fileSpec=i.getFileSpec()&&new Lb(i.getFileSpec())||null,i}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){this.annot.pdfViewer.customs;var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.file"),n=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(n),level:"warning"}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),t}(Fb),jb={HandMenuItem:"[icon-class=fv__icon-toolbar-hand]",FirstPage:"[icon-class=fv__icon-float-bar-first-page]",PrevPage:"[icon-class=fv__icon-float-bar-previous-page]",NextPage:"[icon-class=fv__icon-float-bar-next-page]",LastPage:"[icon-class=fv__icon-float-bar-last-page]",PrevView:"[icon-class=fv__icon-float-bar-previous-view]",NextView:"[icon-class=fv__icon-float-bar-next-view]",ZoomViewIn:"[icon-class=fv__icon-float-bar-zoom-in]",ZoomViewOut:"[icon-class=fv__icon-float-bar-zoom-out]",ActualSize:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(7)",FitPage:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(1)",FitVisible:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(3)",FitWidth:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(2)",SinglePage:"[icon-class=fv__icon-toolbar-single-page]",OneColumn:"[icon-class=fv__icon-toolbar-continuous-page]",TwoPages:"[icon-class=fv__icon-toolbar-double-page]",TwoColumns:"[icon-class=fv__icon-toolbar-facing-continuous-page]",GeneralInfo:"[icon-class=fv__icon-properties]",GeneralPrefs:"[icon-class=fv__icon-toolbar-preferences]",AddFileAttachment:"[icon-class=fv__icon-toolbar-doc-attachment]",ExtractPages:"[icon-class=fv__icon-toolbar-extract-pages]",ReplacePages:"[icon-class=fv__icon-toolbar-replace-pages]",DeletePages:"[icon-class=fv__icon-toolbar-delete-pages]",CropPages:"[icon-class=fv__icon-toolbar-crop-pages]",RotatePages:"[icon-class=fv__icon-toolbar-rotate-multiple]","Annots:Tool:InkMenuItem":"[icon-class=fv__icon-toolbar-pencil]",SaveAs:"[icon-class=fv__icon-toolbar-download]",FullScreen:"[icon-class=fv__icon-float-bar-full-screen]"},Bb={ShowHideBookmarks:1,ShowHideThumbnailss:2,ShowHideAnnotManager:3,ShowHideOptCont:4,ShowHideFileAttachment:5},Vb={GoToPage:".fv__ui-grouplist-item [name=gotopage-input]",ZoomViewTo:'[name="editable-zoom-dropdown"] .fv__ui-dropdown-editor'},Hb={Find:function(){var e=O()("[name=fv--search-choose-type-advanced]"),t=O()("[name=fv--search-bar-type-list-button]");if(e.length)e[0].click();else{var n=document.createElement("style");n.innerHTML='[component-name="fv--search-choose-search-type"] { opacity: 0; }',document.head.appendChild(n),t.length&&t[0].click(),setTimeout(function(){document.head.removeChild(n),(e=O()("[name=fv--search-choose-type-advanced]")).length&&e[0].click()},0)}},Print:function(){var e=this,t=setInterval(function(){if(O()(".custom-bar-box .W_PRINT").length){clearInterval(t);var n=e.pdfViewer.viewerUI.rootComponent.getComponentByName("print-button");n&&n.controller.handle()}},100)}};function Ub(e){if(jb[e]){var t=O()(jb[e]);if(t.hasClass("active")||t.hasClass("disabled"))return;var n=t[0];setTimeout(function(){n&&n.click()},200)}Vb[e]&&O()(Vb[e]).each(function(){O()(this).hasClass("disabled")||O()(this)[0].focus()});if(Bb[e]){var i=O()(".fv__ui-sidebar-nav a").eq(Bb[e]-1);if(i.hasClass("active"))return;var r=i[0];r&&r.click()}Hb[e]&&(0,T._)(Hb[e],Function)&&Hb[e].apply(this,[])}var zb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.namedActionCallback||er)(this.getName())).then(function(t){!1!==t&&Ub.apply(e,[e.getName()])}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getName",value:function(){return this.action.getName()}}]),t}(Fb);const Wb=["exportToXFDF","exportAsFDF","activeDocs","persistentData","curDoc","execMenuItem","mailMsg","browseForDoc","newDoc","newConnection","csFuntionName","importAnFDF","importAnXFDF","removeDataObject","removeTemplate","importDataObject","importTextData","mailForm","print","saveAs","mailDoc","createDataObject","createIcon","createTemplate","getPageNthWord","extractPages","exportDataObject","newPage","insertPages","replacePages","addWatermarkFromFile","fileSelect","setLock","signatureSetSeedValue","signatureSign","query","addIndex","removeIndex","appearances","digitalIDs","isLoggedIn","loginName","loginPath","name","uiName","signAuthor","signVisible","signInvisible","signValidate","login","logout","newUser","getHandler","importFromFile"];var Yb=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).$Dialog=null,i.JsMap=Wb,i}return(0,I._)(t,e),(0,D._)(t,[{key:"activeHandleFuc",value:function(){var e,n=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||er)(this.getScript())).then(function(t){if(!1!==t){r.initEvent(n.getType(),n.source,n.target,n.name);var i=n.getScript();e=r.exec(i)}}):!1!==(e=(o.javascriptActionCallback||er)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||er)(),e={rc:!0}),(0,E._)((0,S._)(t.prototype),"active",this).call(this),this.closeConfirmDia(),e}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(){var e,n=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||er)(this.getScript())).then(function(t){if(!1!==t){r.initEvent(n.getType(),n.source,n.target,n.name);var i=n.getScript();e=r.exec(i)}}):!1!==(e=(o.javascriptActionCallback||er)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||er)(),e={rc:!0}),(0,E._)((0,S._)(t.prototype),"active",this).call(this),e}},{key:"setTypeName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=e,this.name=t}},{key:"getType",value:function(){return this.type}},{key:"executeScript",value:function(){var e=this.annot.pdfViewer.JSEngine,t=this.getScript();if("string"==typeof t&&t.trim().length>0)return e.exec(t)}},{key:"getScript",value:function(){return this.action.getScript()}},{key:"setScript",value:function(e){return this.action.setScript(e)}},{key:"setParam",value:function(e){this.param=e}}]),t}(Fb),Gb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=function(){var t=e.getURL();if(!!t&&["mailto:","ftp","file://"].some(function(e){return t.startsWith(e)})){var n=e.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.submit"),i=e.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");return e.annot.pdfViewer.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"}),Promise.resolve()}if(e.annot.pdfViewer.getSafeReadingMode()){var r=e.pdfViewer.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e.getURL(),interpolation:{escapeValue:!1}});if(!confirm(r))return Promise.resolve()}return e.pdfViewer.getCurrentPDFDoc().getPDFForm().submitForm(e.getURL(),e.getFieldNames(),e.getFlags())},i=this.annot.pdfViewer.getActionCallbackManager();(i.getCallback(nt.submitForm)?i.getCallback(nt.submitForm)(this.action,n):n()).then(function(n){(0,E._)((0,S._)(t.prototype),"active",e).call(e)})}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getURL",value:function(){return this.action.getURL()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),t}(Fb),$b=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.resetFormActionCallback||er)(this.getFlags(),this.getFieldNames())).then(function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(e.getFieldNames(),e.getFlags(),e.source)}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),t}(Fb),Jb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.import"),n=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(n),level:"warning"}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),t}(Fb),qb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.gotoActionCallback||er)(this.getDestination())).then(function(t){if(!1!==t)return function(e,t){var n=t.getPDFDocRender();if(!e||e.pageIndex<0)return;return n.getPDFDoc().getPageByIndex(e.pageIndex).then(function(i){var r=e.zoomFactor,o=i.getWidth(),a=i.getHeight(),s=e.left>o?o:e.left,A=e.top>a?a:e.top;switch(e.zoomMode){case"ZoomFitHorz":return t.zoomTo("fitWidth",{x:s,y:A,pageIndex:e.pageIndex});case"ZoomFitPage":return t.zoomTo("fitHeight",{x:0,y:0,pageIndex:e.pageIndex,type:"device"});case"ZoomFitRect":var c=t.getPDFViewerRender().scrollWrap.getScrollHost(),u=c.clientWidth,l=c.clientHeight,d=t.getPDFPageRender(e.pageIndex);return d.getPDFPage().then(function(i){var r=i.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,d.getRotation()),o=r.right-r.left,a=r.bottom-r.top,c=Math.min(u/o,l/a);return isFinite(c)||(c=n.scale),t.zoomTo(c,{x:s,y:A,pageIndex:e.pageIndex})});case"ZoomFitBHorz":return t.zoomTo("fitVisible",{x:s,y:A,pageIndex:e.pageIndex});case"ZoomXYZ":return 0===r?t.getPDFDocRender().goToPage(e.pageIndex,{x:s,y:A},!0):t.zoomTo(r,{x:s,y:A,pageIndex:e.pageIndex});default:return 0===r?t.getPDFDocRender().goToPage(e.pageIndex,{x:s,y:A},0!==A):t.zoomTo(r,{x:s,y:A,pageIndex:e.pageIndex})}})}(e.getDestination(),e.pdfViewer)}).then(function(){(0,E._)((0,S._)(t.prototype),"active",e).call(e)})}},{key:"getDestination",value:function(){return this.action.getDestination()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getViewSetting",value:function(){var e=this.getDestination(),t=this.pdfViewer.getPDFDocRender();if(e&&!(e.pageIndex<0))return t.getPDFDoc().getPageByIndex(e.pageIndex).then(function(n){var i=e.zoomFactor,r=n.getWidth(),o=n.getHeight(),a=e.left>r?r:e.left,s=e.top>o?o:e.top;switch(e.zoomMode){case"ZoomFitHorz":return{scale:"fitWidth",left:a,top:s,pageIndex:e.pageIndex};case"ZoomFitPage":return{scale:"fitHeight",left:a,top:s,pageIndex:e.pageIndex};case"ZoomFitRect":var A=pdfViewer.getPDFViewerRender().scrollWrap.getScrollHost(),c=A.clientWidth,u=A.clientHeight,l=pdfViewer.getPDFPageRender(e.pageIndex);return l.getPDFPage().then(function(n){var i=n.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,l.getRotation()),r=i.right-i.left,o=i.bottom-i.top,A=Math.min(c/r,u/o);return isFinite(A)||(A=t.scale),{scale:A,left:a,top:s,pageIndex:e.pageIndex}});case"ZoomFitBHorz":return{scale:"fitVisible",left:a,top:s,pageIndex:e.pageIndex};default:return 0===i?{scale:0,left:a,top:s,pageIndex:e.pageIndex}:{scale:i,left:a,top:s,pageIndex:e.pageIndex}}})}}]),t}(Fb);var Kb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach(function(t){var i=n.getPDFForm().getField(t);i&&i.setHidden(e.getHideState())}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}},{key:"getHideState",value:function(){return this.action.getHideState()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}}]),t}(Fb),Zb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer,i=this.annot.pdfViewer.customs;Promise.resolve((i.remoteGotoActionCallback||er)(this.getDestination())).then(function(t){if(!1!==t){var i=e.action.getFileSpec(),r=n.i18n.t("viewer_:dialog.action.remoteGoto.message");n.viewerUI.alert({message:r+"("+i.getFileName()+")",level:"warning"})}}),(0,E._)((0,S._)(t.prototype),"active",this).call(this)}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),t}(Fb),Xb=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){(0,E._)((0,S._)(t.prototype),"active",this).call(this),this._doAction()}},{key:"_doAction",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return e=this,t=this.annot.pdfViewer.currentPDFDoc,n=this.action.info,i=n.hideLayerIds,r=n.visibleLayerIds,[4,t.getLayerNodesJson()];case 1:return o=s.sent(),a=this._objNumsToIds(o.children,{hideLayerObjNums:i,visibleLayerObjNums:r}),Object.keys(a).forEach(function(n){var i="visibleLayerIds"===n;a[n].map(function(n){n&&(t.setLayerNodeVisible(n,i),e.annot.pdfViewer.eventEmitter.emit("layer-action-actived",{id:n,visible:i}))})}),[2]}})}).call(this)}},{key:"_objNumsToIds",value:function(e,t){var n=t.hideLayerObjNums,i=t.visibleLayerObjNums,r={};return function e(t){for(var n=0;n<t.length;n++){var i=t[n];i.children.length>0&&e(i.children);var o=i.objNum,a=i.id;o&&(r[o]=a)}}(e),{hideLayerIds:n?n.map(function(e){return r[e]}):[],visibleLayerIds:i?i.map(function(e){return r[e]}):[]}}}]),t}(Fb),Qb=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){return(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return e=this.action.info.dest_thread_index,[4,this.getArticleThread(e)];case 1:return(t=i.sent())?(n=this.pdfViewer,n.getPDFDocRender().startReadMode(t),[2]):[2]}})}).call(this)}},{key:"collapseSidebar",value:function(){this.pdfViewer.viewerUI.rootComponent.getComponentByName("sidebar").collapse()}},{key:"getArTicleByIndex",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t=this.pdfViewer.currentPDFDoc,[4,t.getPdfArticle().getArticleList()];case 1:return[2,n.sent()[e].children[0]]}})}).call(this)}},{key:"getArticleThread",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t=this.pdfViewer.currentPDFDoc,[4,t.getPdfArticle().getArticleList()];case 1:return[2,n.sent()[e]]}})}).call(this)}}]),t}(Fb),ew=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"active",value:function(){var e=this,n=this.annot.pdfViewer.getActionCallbackManager(),i=Promise.resolve();n.getCallback(nt.gotoE)&&(i=n.getCallback(nt.gotoE)(this.action)),i.then(function(n){(0,E._)((0,S._)(t.prototype),"active",e).call(e)})}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),t}(Fb),tw=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.actionOptions=t.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return(0,D._)(e,[{key:"get",value:function(e,t){switch(e&&e.getType()||null){case"TypeURI":return new Nb(e,t);case"TypeLaunch":return new Ob(e,t);case"TypeNamed":return new zb(e,t);case"TypeJavaScript":return new Yb(e,t);case"TypeSubmitForm":return new Gb(e,t);case"TypeResetForm":return new $b(e,t);case"TypeImportData":return new Jb(e,t);case"TypeHide":return new Kb(e,t);case"TypeGoto":return new qb(e,t);case"TypeGoToR":return new Zb(e,t);case"TypeGoToE":return new ew(e,t);case"TypeSetOCGState":return new Xb(e,t);case"TypeThread":return new Qb(e,t);default:return new Fb(e,t)}}}]),e}();const nw={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="};n(422);function iw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);if(t)for(var r in t)null!==t[r]&&i.setAttribute(r,t[r]);return n&&n.forEach(function(e){if(e)if("string"==typeof e){var t=document.createElement("span");t.innerText=e,i.appendChild(t)}else"string"==typeof e.html?i.innerHTML+=e.html:i.appendChild(e)}),i}var rw=function(){function e(){(0,C._)(this,e),this.storeMap={},this.itemMap={}}return(0,D._)(e,[{key:"setStore",value:function(e,t){this.storeMap=e,this.itemMap=t}},{key:"updateStoreByElements",value:function(e,t){var n=this;e.map(function(e){if(e.type&&"gap"!==e.type&&"ok"!==e.type&&"ok_cancel"!==e.type&&"ok_cancel_other"!==e.type)if("cluster"!==e.type&&"view"!==e.type){if(e.item_id)switch(e.type){case"check_box":case"radio":var i=t.find("#"+e.item_id).is(":checked");n.storeMap[e.item_id].value=i;break;case"static_text":case"button":var r=t.find("#"+e.item_id).text();n.storeMap[e.item_id].value=r;break;case"edit_text":var o=t.find("#"+e.item_id).val();n.storeMap[e.item_id].value=o}}else n.updateStoreByElements(e.elements,t)})}},{key:"getAlignStyle",value:function(e){var t="";switch(e){case"align_left":t+="text-align:left;";break;case"align_center":t+="text-align:center;";break;case"align_right":t+="text-align:right;"}return t}},{key:"getElementStyle",value:function(e){var t,n="";if(e.width&&!z.isMobile&&(n+="width:"+e.width+"px;"),e.height&&(z.isMobile?n+="min-height:200px;":n+="height:"+e.height+"px;"),e.char_width&&!z.isMobile&&(n+="width:"+10*e.char_width+"px;"),e.char_height&&(n+="height:"+10*e.char_height+"px;"),"edit_text"===e.type){var i="resize:none;";e.width||e.char_width||(i+="width:100%;"),n+=i}else"check_box"===e.type||e.type;return e.align_children&&(n+=this.getAlignStyle(e.align_children)),e.alignment&&(n+=this.getAlignStyle(e.alignment)),e.multiline||"static_text"!==e.type&&"edit_text"!==e.type||(n+="white-space: nowrap;"),(t=e.whiteSpace)&&(n+="white-space: ".concat(t,";")),e.bold&&(n+="font-weight:600;"),e.italic&&(n+="font-style:italic;"),e.border&&(n+="border:"+e.border),n}},{key:"buildWithWrapper",value:function(e,t){var n="js-item-wrapper";return t&&"button"===t.type&&(n+=" btn-wrapper"),iw("div",{class:n},[e])}},{key:"buildCheckBox",value:function(e,t){var n=e.name,i=this.storeMap[e.item_id],r=document.createDocumentFragment();return r.appendChild(iw("input",{type:"checkbox",checked:i&&!0===i.value?i.value:null,id:e.item_id,style:t})),r.appendChild(iw("span",{},[n])),this.buildWithWrapper()}},{key:"buildRadio",value:function(e,t){var n=e.name,i=e.group_id,r=this.storeMap[e.item_id],o=document.createDocumentFragment();return o.appendChild(iw("input",{type:"radio",checked:r&&!0===r.value?r.value:null,name:i,id:e.item_id,style:t})),o.appendChild(iw("span",{},[n])),this.buildWithWrapper(o)}},{key:"buildStaticText",value:function(e,t){var n=e.name?e.name:"";if(n=unescape(n.replace(/\\/g,"%")),e.item_id){var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return this.buildWithWrapper(iw("div",{id:e.item_id,style:t},[n]))}},{key:"buildButton",value:function(e,t,n){if(!n){n=e.name?e.name:"",n=unescape(n.replace(/\\/g,"%"));var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return n||(n=iw("span",{style:"color: transparent"},["A"])),this.buildWithWrapper(iw("button",{style:t,type:"submit",id:e.item_id,class:"pdf_js_btn btn btn-outline btn-xs btn-circle"},[n]))}},{key:"buildEditText",value:function(e,t){e.readonly;var n,i=this.storeMap[e.item_id],r="";return i&&i.value&&(r=i.value),0==r.length&&(r=e.value),n=e.multiline?e.readonly?iw("div",{style:t+";height:unset",name:"",id:e.item_id,readonly:"true"},[iw("pre",{style:"white-space:pre-line"},[r])]):iw("textarea",{style:t,name:"",id:e.item_id},[r]):e.password?iw("input",{style:t,type:"password",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):e.SpinEdit?iw("input",{style:t,type:"number",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):iw("input",{style:t,type:"text",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}),this.buildWithWrapper(n||document.createDocumentFragment())}},{key:"buildListBox",value:function(e,t){}},{key:"buildView",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-view-component";return"align_row"===e.align_children&&(r+=" children-in-row"),iw("div",{class:r,style:t},n)}},{key:"buildCluster",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-cluster-component";"align_row"===e.align_children&&(r+=" children-in-row");var o=e.name?e.name:"";return iw("div",{class:r,style:t+"position:relative;"},[iw("fieldset",{style:"text-align: left; border-color: gray; border-style: solid; border-width: 1px;"},[iw("legend",{style:"background:var(--fv-primary-bg,white);"},[iw("span",{},[o=unescape(o.replace(/\\/g,"%"))])]),iw("div",{},n)])])}},{key:"buildOkCancelOther",value:function(e,t){var n=document.createDocumentFragment(),i=this.buildButton({item_id:"jscancle",type:"button"},"",e.cancel_name?e.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",e.ok_name?e.ok_name:"Ok"),o=this.buildButton({item_id:"jsother",type:"button"},"",e.other_name?e.other_name:"Other");if("ok"===e.type)n.appendChild(r);else if("ok_cancel"===e.type)n.appendChild(r),n.appendChild(i);else{if("ok_cancel_other"!==e.type)return n;n.appendChild(r),n.appendChild(o),n.appendChild(i)}return iw("div",{class:"js-buttons",style:t},[n])}},{key:"JSWindowToHTML",value:function(e){e&&e.item_id&&e.type&&(this.itemMap[e.item_id]||(this.itemMap[e.item_id]={}),this.storeMap[e.item_id]||(this.storeMap[e.item_id]={}),this.storeMap[e.item_id].type=e.type,this.itemMap[e.item_id].type=e.type);var t,n=this.getElementStyle(e);switch(e.type){case"button":t=this.buildButton(e,n);break;case"check_box":t=this.buildCheckBox(e,n);break;case"radio":t=this.buildRadio(e,n);break;case"list_box":case"hier_list_box":case"popup":case"gap":break;case"static_text":t=this.buildStaticText(e,n);break;case"edit_text":t=this.buildEditText(e,n);break;case"ok":case"ok_cancel":case"ok_cancel_other":t=this.buildOkCancelOther(e,n);break;case"view":t=this.buildView(e,n);break;case"cluster":t=this.buildCluster(e,n)}return t||document.createDocumentFragment()}},{key:"buildDialogWrapper",value:function(e,t,n){return'<div id="'+e+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+t+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">'+n.i18n.t("viewer_:pdfjs.windowTitle")+'</div></div><div class="modal-body" ></div><div class="js-warning-footer" ><div class="js-warning" ><span >'+n.i18n.t("viewer_:pdfjs.windowWarning")+"</span></div></div></div></div></div>"}}]),e}(),ow=function(){function e(t,n){(0,C._)(this,e),this.componentUtils=new rw,this.callback=n,this.dialogId="jsWindow",this.monitor=t,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return(0,D._)(e,[{key:"updateComponents",value:function(){if(this.$dialog)for(var e in this.itemMap){this.itemMap[e].disabled?this.$dialog.find("#"+e).addClass("disabled"):this.$dialog.find("#"+e).removeClass("disabled")}}},{key:"enable",value:function(e){for(var t in e){var n=e[t];this.itemMap[t]||(this.itemMap[t]={}),this.itemMap[t].disabled=!n}this.updateComponents()}},{key:"end",value:function(e){this.callback&&this.callback(e),this.$dialog&&this.$dialog.remove()}},{key:"load",value:function(e){for(var t in e){var n=e[t];this.updateStoreItem(t,n)}}},{key:"store",value:function(){if(!this.$dialog)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.$dialog);var e={};for(var t in this.storeMap){var n=this.storeMap[t];e[t]=n.value}return e}},{key:"updateStoreItem",value:function(e,t){this.storeMap[e]={value:t}}},{key:"getStore",value:function(){return this.storeMap}},{key:"getCallbacks",value:function(e){var t="";for(var n in e)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var i=e[n];"function"==typeof i&&(this.itemMap[n]||(this.itemMap[n]={}),""!==t&&(t+=","),t+="#"+n,this.itemMap[n].callback=i)}return t}},{key:"initialize",value:function(e){var t=this,n="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,n+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,n+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var i=document.createDocumentFragment();for(var r in this.monitor.description.elements)i.appendChild(this.componentUtils.JSWindowToHTML(this.monitor.description.elements[r]));var o=this.dialogId,a=this.componentUtils.buildDialogWrapper(o,n,e),s=this.getCallbacks(this.monitor),A=O()(a);return A.find(".modal-body").append(i),this.containerPromise=e.viewerUI.getRootElement().then(function(e){O()(e);return O()(document.body).append(A),O()(document.body)}),this.$dialog=A,this.updateComponents(),A.find("#jsok").off("click").on("click",function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")}),A.find("#jscancle,.close").off("click").on("click",function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")}),A.find("#jsother").off("click").on("click",function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")}),A.find(".modal-dialog").off("click",s).on("click",s,function(e){for(var n=e.target;!n.id;)n=n.parentElement;var i=n.id;t.itemMap[i].callback&&t.itemMap[i].callback(t)}),!0}},{key:"doModal",value:function(){var e=this;this.containerPromise&&this.containerPromise.then(function(t){t.append(e.$dialog),e.$dialog&&e.$dialog.show()})}}]),e}();const aw=ow;var sw=function(){function e(){for(var t in(0,C._)(this,e),this)"function"==typeof this[t]&&(this[t].toString=function(){return"function(){[native code]}"})}return(0,D._)(e,[{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}],[{key:"name",get:function(){return"Object"}}]),e}(),Aw=function(e){function t(){var e;(0,C._)(this,t),e=(0,P._)(this,t);var n=arguments[0];return e.change="",e.changeEx="",e.events=[],e.init(n),e}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(e){for(var t in e){var n={};n[t]=e[t],this.add(n)}}},{key:"add",value:function(e){for(var t in e)this.events[t]||(this.events[t]=[]),this.events[t]=e[t]}},{key:"dispatch",value:function(){}},{key:"remove",value:function(e){}}],[{key:"name",get:function(){return"event"}}]),t}(sw);const cw=Aw;var uw=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}},{key:"addStockEvent",value:function(){}},{key:"alertFileNotFount",value:function(){}},{key:"alertSelectFailed",value:function(){}},{key:"argsDWIM",value:function(){}},{key:"canPlayOrAlert",value:function(){}},{key:"computerFloatWinRect",value:function(){}},{key:"constrainRectToScreen",value:function(){}},{key:"createPlayer",value:function(){}},{key:"Events",value:function(e){return new cw(e)}},{key:"getAltTextData",value:function(){}},{key:"getAltTextSettings",value:function(){}},{key:"getAnnotStockEvents",value:function(){}},{key:"getAnnotTraceEvents",value:function(){}},{key:"getPlayers",value:function(){}},{key:"getPlayerStockEvents",value:function(){}},{key:"getPlayerTraceEvents",value:function(){}},{key:"getURLData",value:function(){}},{key:"getURLSettings",value:function(){}},{key:"getWindowBorderSize",value:function(){}},{key:"openPlayer",value:function(){}},{key:"removeStockEvents",value:function(){}},{key:"startPlayer",value:function(){}}],[{key:"name",get:function(){return"AppMedia"}}]),t}(sw);const lw=uw;var dw={yellow:["CMYK",0,0,1,0],white:["G",1],transparent:["T"],red:["RGB",1,0,0],magenta:["CMYK",0,1,0,0],ltGray:["G",.75],green:["RGB",0,1,0],gray:["G",.5],dkGray:["G",.25],cyan:["CMYK",1,0,0,0],blue:["RGB",0,0,1],black:["G",0],equal:function(e,t){},convert:function(e,t){var n,i,r;if(t==e[0])return[].concat(e);switch(e[0]){case"T":n=-1,i=-1,r=-1;break;case"G":n=i=r=e[1];break;case"RGB":n=e[1],i=e[2],r=e[3];break;case"CMYK":n=(1-e[4])*(1-e[1]),i=(1-e[4])*(1-e[2]),r=(1-e[4])*(1-e[3])}switch(t){case"T":return;case"G":return["G",(n+r+i)/3];case"RGB":return["RGB",n,i,r];case"CMYK":var o=1-n,a=1-i,s=1-r,A=Math.min(Math.min(o,a),s);return 0!=A?(temp2=Math.round(rep_v/100*A),Math.round(100*temp2),Math.round(100*(o-temp2)),Math.round(100*(a-temp2)),Math.round(100*(s-temp2))):(Math.round(100*o),Math.round(100*a),Math.round(100*s),0),["CMYK",n,i,r]}}};const hw=dw;var fw=2,pw=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t))._backgroudColor=hw.yellow,r._clickAdvances=!1,r._isFullScreen=!0,r._cursor=fw,r._defaultTransition="",r._escapeExits=!1,r._loop=!1,r._timedelay=3,r._transitions="",r._usePageTiming=!1,r._useTimer=!1,r}return(0,I._)(t,e),(0,D._)(t,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(e){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(e){}},{key:"cursor",get:function(){return this._cursor},set:function(e){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(e){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(e){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(e){this._isFullScreen=e}},{key:"loop",get:function(){return this._loop},set:function(e){}},{key:"timedelay",get:function(){return this._timedelay},set:function(e){}},{key:"transitions",get:function(){return this._transitions},set:function(e){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(e){}},{key:"useTimer",get:function(){return this._useTimer},set:function(e){}}]),t}(sw);const gw=pw;var vw=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).jsEngine=e,i.viewerApp=n,i._calculate=!0,i._fullscreen=!0,i._fs=new gw,i.dialogQueue=Promise.resolve(),i.viewerApp.eventEmitter.on("will-close-document",function(){i.modalDialog&&i.modalDialog.end("cancel")}),i}return(0,I._)(t,e),(0,D._)(t,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){var e=this.jsEngine.getPDFForm();return!e||e.calculationEnabled},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=e,this.viewerApp.setAutoCalculateFieldsFlag(e)}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=e}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=e}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.highlightForm(e)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(this.viewerApp._runtimeColor,this.viewerApp._runtimeColorOpacity,"RGB")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setFormHighlightColor(e)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var e=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?t="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?t="WIN":!t&&/Linux/.test(e)&&(t="UNIX"),t}},{key:"language",get:function(){var e,t=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some(function(n){t.indexOf(n.language)>-1&&(e=n.code)}),e}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new lw(this.jsEngine)}},{key:"popUpMenu",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),r={},o=function(e){var t=1;return function(n){var a,s=Object.prototype.toString.call(n);if(s.indexOf("String")>-1&&"-"!==n)a=void 0!==e?"".concat(e,"-").concat(t):String(t),i+="".concat(a,". ").concat(n," \n"),r[a.trim()]=n,t++;else if(s.indexOf("Array")>-1){var A;A=e?"".concat(e,"-").concat(t):String(t),i+="".concat(A,". ").concat(n[0]," \n"),r[A.trim()]=n[0],void 0!==e?n.slice(1).forEach(o("  ".concat(e,"-").concat(t))):n.slice(1).forEach(o("  ".concat(t))),t++}}};t.forEach(o());var a=prompt(i,"");if(null===a)return null;for(var s in r)if(r.hasOwnProperty(s)&&a.trim()===s)return r[s]}},{key:"response",value:function(e){var t=e.cQuestion,n=(e.cTitle,e.cDefault);e.bPassword,e.cLabel;return window.prompt(t,n||"")}},{key:"beep",value:function(e){var t;switch(e){case 0:default:t="error";break;case 1:t="warning"}var n=new Audio(nw[t]);n.addEventListener("load",function(){n.play()},!0),n.autoplay=!0}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var i=this.jsEngine.getEvent();if(!i.isSensitiveCheck&&!i.isLoading){var r,o;e&&e.nType;switch(r=n,e&&void 0!==e.nType&&(r=e.nType),o=null==e?"undefined":(0,z.isPlainObject)(e)?e.cMsg+"":e+"",r){default:case 0:return alert(o),0;case 1:return confirm(o)?1:2;case 2:case 3:return confirm(o)?4:3}}}}},{key:"alertAsync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.alert.apply(this,t)}},{key:"clearInterval",value:function(e){clearInterval(e)}},{key:"clearTimerOut",value:function(e){clearTimeout(e)}},{key:"launchURL",value:function(e){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(e)){if("file"===e.match(/(\w*):\/+[\s\S]*/)[0])return}else e="http://"+e;var t=e.lastIndexOf("@"),n=e;if(-1!=t){n=e.substr(t+1);var i=e.indexOf("//");-1!=i&&(n=e.substr(0,i+2)+n)}var r=this.viewerApp,o=JSON.parse(localStorage.getItem("TRUST_SITE_SET"))||{},a=o.siteList,s=void 0===a?[]:a,A=o.siteRight,c=void 0===A?"always":A,u=o.type,l=void 0===u?"custom":u,d=r.i18n.t("viewer_:pdfjs.launchURLHint"),h=r.i18n.t("viewer_:pdfjs.blockTip");if("custom"===l){var f=s.find(function(e){return n.includes(e.url)});if(f)return"allow"===(""+f.access.split(" ")[1]).toLowerCase()?window.open(n):r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"});if("always"===c)return r.viewerUI.confirm(d+"\n"+Lf.toASCII(n)).then(function(){window.open(e)},function(){});if("allow"===c)return window.open(n);if("block"===c)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"})}else{if("allow"===l)return window.open(n);if("block"===l)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"})}}}},{key:"_execDialog",value:function(e){var t=this;return new Promise(function(n,i){var r=new aw(e,function(e){n(e)});t.modalDialog=r,r.initialize(t.jsEngine.PDFViewer),r.doModal()})}},{key:"execDialog",value:function(e,t,n){return this._execDialog(e,t,n)}},{key:"execMenuItem",value:function(){}},{key:"setInterval",value:function(e,t){return setInterval(window.eval(e),t)}},{key:"setTimeOut",value:function(e,t){var n=this;return setTimeout(function(t){return n.jsEngine.exec(e)},t)}}],[{key:"name",get:function(){return"app"}}]),t}(sw);new z.QueuedAsyncTaskExecutor;const mw={always:0,never:1,tooBig:2,tooSmall:3};var yw=function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){var o=Dw(r,n);if(!r||!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}var s=Cw(r,n);if(!s){i.rc=!1;var A=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return A+=' "'.concat(n,'" '),void t.alert(A)}i.value=Pw(n,s),i.rc=!0}}},_w=function(e,t,n,i,r,o,a,s){var A=e.getEvent(),c=i;if((c<0||c>3)&&(c=0),A.value){var u=A.value;if(!/^[0-9\.\-]+$/.test(u)){A.rc=!1;var l=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "Number" ',void t.alertAsync(l)}var d=A.change,h=u;if(A.willCommit){var f=h.trimLeft();if(0==f.length){A.rc=!0;var p=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "Number" ',void t.alertAsync(p)}var g=f;if(g=g.replace(/,/g,"."),!/^[0-9\.\-]+$/.test(g)){var v=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return v+=' "Number" ',t.alert(v),void(A.rc=!1)}A.rc=!0}else{var m=h,y=d||"",_=".";switch(c){case 0:case 1:_=".";break;case 2:case 3:_=","}for(var b=-1!=m.indexOf(_),w=0;w<y.length;w++)if(y[w]!=_)if("-"!=y[w]){if(!/[0-9\.]/.test(y[w]))return void(A.rc=!1)}else{if(bHasSign)return void(A.rc=!1);if(0!=w)return void(A.rc=!1);if(0!=A.selStart)return void(A.rc=!1);bHasSign=!0}else{if(b){A.rc=!1;var k=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return k+=' "Number" ',void t.alertAsync(k)}b=!0}var x,P=m.substr(0,A.selStart);A.selEnd<m.length&&(x=m.substr(A.selEnd)||""),u=h=m=P+y+x,A.rc=!0}}else A.rc=!0};function bw(e,t,n,i){var r=".",o=",",a="";switch(n){case 0:break;case 1:o="";break;case 2:r=",",o=".";break;case 3:r=",",o="";break;case 4:r=",",o=" "}var s=e.length%3;a=e.substr(0,s);for(var A=s;A<e.length;A+=3)0!==a.length&&(a+=o),a+=e.substr(A,3);if(i>0){for(t=t.substring(0,i);t.length<i;)t+="0";a=a+r+t}return a}function ww(e){var t=e.toString().split(".",2);return null==t||t.length<2?(t=null,0):t[1].length}var kw="January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]November[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Nov[11]Dec[12]";function xw(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec(kw);return t?t[1]:null}var Pw=function(e,t){e=e.replace(/%/g,"%69");var n=[],i=t.getFullYear().toString();i="0000"+i,e=(e=e.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+i.substr(i.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+i.substr(i.length-2,2)),i=xw(t.getMonth()+1),n["%mmmm"]=i,e=e.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),n["%mmm"]=i.substr(0,3),e=(e=e.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(t.getMonth()+1)),1===(i=(t.getMonth()+1).toString()).length&&(i="0"+i),e=e.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+i),i=function(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec("Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]");return t?t[1]:null}(t.getDay()),n["%dddd"]=i,e=e.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),n["%ddd"]=i.substr(0,3),e=(e=e.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+t.getDate()),1===(i=t.getDate().toString()).length&&(i="0"+i),e=(e=e.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+i)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+t.getHours()),1===(i=t.getHours().toString()).length&&(i="0"+i),e=e.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+i);var r=t.getHours()>12?t.getHours()-12:t.getHours();return 0==r&&(r=12),e=e.replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+r),1===(i=r.toString()).length&&(i="0"+i),e=(e=e.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+i)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+t.getMinutes()),1===(i=t.getMinutes().toString()).length&&(i="0"+i),e=(e=e.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+i)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+t.getSeconds()),1===(i=t.getSeconds().toString()).length&&(i="0"+i),e=e.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+i),i=function(e){return e>11?"PM":"AM"}(t.getHours()),e=e.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+i),1===i.length&&(i=i.charAt(0)),e=(e=(e=(e=(e=e.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+i)).replace(/%mmmm/g,n["%mmmm"])).replace(/%mmm/g,n["%mmm"])).replace(/%dddd/g,n["%dddd"])).replace(/%ddd/g,n["%ddd"]),n=null,e=e.replace(/%69/g,"%")},Cw=function(e,t){return Dw(e,t)};function Dw(e,t){var n=function(e,t){var n=new Date,i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=0,s=0,A=0,c=99,u="",l=!1,d=!1,h=["/","-",",","."],f=["/","-",",","."],p=function(e,t){for(var n=function(n,i){var r=e.charAt(n);if(t){var o=f.find(function(e){return e==r});if(void 0!==o)return{v:!0}}else{var a=h.find(function(e){return e==r});if(void 0!==a)return{v:!0}}},i=0,r=e.length;i<r;i++){var o=n(i,r);if("object"===(0,F._)(o))return o.v}return!1},g=function(e,t){var n=e;if(t){var i=!0,r=!1,o=void 0;try{for(var a,s=f[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var A=a.value,c=new RegExp("\\"+A,"g");n=n.replace(c,"")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}else{var u=!0,l=!1,d=void 0;try{for(var p,g=h[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value;c=new RegExp("\\"+v,"g");n=n.replace(c,"")}}catch(e){l=!0,d=e}finally{try{u||null==g.return||g.return()}finally{if(l)throw d}}}return n},v=p(t,!1),m=p(e,!0);v&&!m?t=g(t,!1):!v&&m&&(e=g(e,!0));var y=0,_=0;for(;y<t.length&&!l;){var b=t.charAt(y);switch(b){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var w=_,k=0,x=null;if(t.charAt(y+1)!==b)switch(b){case"y":y++,_++;break;case"m":r=(x=Sw(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"d":o=(x=Sw(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"H":case"h":a=(x=Sw(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"M":s=(x=Sw(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"s":A=(x=Sw(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"t":u="p"===e.charAt(y)||"P"==e.charAt(y),y++,_++}else if(t.charAt(y+1)===b&&t.charAt(y+2)!==b)switch(b){case"y":i=(x=Sw(e,_,4)).nRet,y+=2,_+=k=x.nSkip;break;case"m":x=Sw(e,_,2),0!=a?s=x.nRet:r=x.nRet,y+=2,_+=k=x.nSkip;break;case"d":x=Sw(e,_,2),(y+=2)>=t.length&&(x=Sw(e,_,4)),o=x.nRet,_+=k=x.nSkip;break;case"H":case"h":a=(x=Sw(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"M":s=(x=Sw(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"s":A=(x=Sw(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"t":u=!("p"!==e.charAt(_)&&"P"!=e.charAt(_)||"m"!==e.charAt(_+1)&&"M"!==e.charAt(_+1)),y+=2,_+=2}else if(t.charAt(y+1)===b&&t.charAt(y+2)===b&&t.charAt(y+3)!==b)switch(b){case"m":k=(x=Iw(e,_)).nSkip;for(var P=x.swRet,C=!1,D=0;D<12;D++)if(P.toLowerCase()===xw(D+1).substr(0,3).toLowerCase()){r=D+1,y+=3,_+=k,C=!0;break}C||(r=(x=Sw(e,_,3)).nRet,y+=3,_+=k=x.nSkip);break;case"y":break;default:y+=3,_+=3}else if(t.charAt(y+1)===b&&t.charAt(y+2)===b&&t.charAt(y+3)===b&&t.charAt(y+4)!==b)switch(b){case"y":i=(x=Sw(e,_,4)).nRet,_+=k=x.nSkip,y+=4,i<100&&(i=-1,d=!0);break;case"m":C=!1;k=(x=Iw(e,_)).nSkip,P=(P=x.swRet).toLowerCase();for(D=0;D<12;D++){var E=xw(D+1);if((E=E.toLowerCase()).indexOf(P,0)>=0){r=D+1,y+=4,_+=k,C=!0;break}}C||(r=(x=Sw(e,_,4)).nRet,y+=4,_+=k=x.nSkip);break;default:y+=4,_+=4}else t.charAt(y)!==e.charAt(_)&&(d=!0,l=!0),y++,_++;w===_&&(d=!0,l=!0);break;default:if(e.length<=_)l=!0;else{var S=Ew(t.charAt(y)),I=Ew(e.charAt(_));(S&&!I||!S&&I)&&(d=!0,l=!0)}y++,_++}}u&&a<12&&(a+=12);!1===u&&12==a&&(a=0);i>=0&&i<=c&&(i+=2e3);(r<1||r>12)&&(d=!0);(o<1||o>31)&&(d=!0);(a<0||a>23)&&(d=!0);(s<0||s>60)&&(d=!0);(A<0||A>60)&&(d=!0);if(!d)return 2!=r||29!=o||t.match(/y/)||(i&=1048572),new Date(i,r-1,o,a,s,A);return null}(e,t);return null==n&&(n=function(e){for(var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),A=[],c=0;c<6;c++)A[c]=0;var u=!1,l=0,d=0,h=e.length;for(;d<h&&!(l>5);){var f=e.charAt(d);if(Ew(f)){var p=Sw(e,d,4);A[l++]=p.nRet,d+=p.nSkip}else":"===f&&(u=!0),d++}var g=!0;if(u){if(l<=3)(v=Mw(l,A[0],A[1],A[2],o,a,s))&&(o=v.h,a=v.M,s=v.s,g=!1);else if(4===l){(v=Tw(2,A[0],A[1],0,n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=Mw(2,A[2],A[3],0,o,a,s))&&(o=v.h,a=v.M,s=v.s,g=!1))}else if(5===l){if((v=Tw(3,A[0],A[1],A[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=Mw(2,A[3],A[4],0,o,a,s))&&(o=v.h,a=v.M,s=v.s,g=!1)),g)(v=Tw(2,A[0],A[1],0,n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=Mw(3,A[2],A[3],A[4],o,a,s))&&(o=v.h,a=v.M,s=v.s,g=!1))}else if(6===l){(v=Tw(3,A[0],A[1],A[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=Mw(3,A[3],A[4],A[5],o,a,s))&&(o=v.h,a=v.M,s=v.s,g=!1))}}if(g){var v;(v=Tw(l,A[0],A[1],A[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,g=l>3)}if(g)return null;return new Date(n,i-1,r,o,a,s)}(e)),n}function Ew(e){return e>="0"&&e<="9"}function Sw(e,t,n){var i=[];i.nRet=0,i.nSkip=0;for(var r=t,o=e.length;r<o&&!(r-t>10);r++){var a=e.charAt(r);if(!Ew(a))break;if(i.nRet=10*i.nRet+(a-"0"),i.nSkip=r-t+1,i.nSkip>=n)break}return i}function Iw(e,t){var n=[];n.swRet="",n.nSkip=0;for(var i=t,r=e.length;i<r;i++){var o=e.charAt(i);if(!(o>="a"&&o<="z"||o>="A"&&o<="Z"))break;n.swRet+=o,n.nSkip=i-t+1}return n}function Tw(e,t,n,i,r,o,a){var s=[];if(s.y=r,s.m=o,s.d=a,2===e){if(t>=1&&t<=12&&n>=1&&n<=31)return s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12)return s.m=n,s.d=t,s}else if(e>=3){if(t>12&&n>=1&&n<=12&&i>=1&&i<=31)return s.y=t,s.m=n,s.d=i,s;if(t>=1&&t<=12&&n>=1&&n<=31&&i>31)return s.y=i,s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12&&i>31)return s.y=i,s.m=n,s.d=t,s}return null}function Mw(e,t,n,i,r,o,a){var s=[];if(s.h=r,s.M=o,s.s=a,2===e){if(t>=0&&t<=23&&n>=0&&n<=59)return s.h=t,s.M=n,s.s=0,s}else if(3===e&&t>=0&&t<=23&&n>=0&&n<=59&&i>=0&&i<=59)return s.h=t,s.M=n,s.s=i,s;return null}var Rw=function(e,t,n){for(var i="",r=0,o=0;o<t.length;o++)switch(t[o]){case"9":for(;r<e.length;){var a=r;if(r++,e[a]>="0"&&e[a]<="9"){i+=e[a];break}}if(r>=e.length&&n)return i;break;case"A":if(!(r<e.length))return i;i+=e[r++];break;case"O":var s=r;if(r++,e[s].match(/[0-9a-zA-Z]/)&&(i+=e[s]),r>=e.length&&n)return i;break;case"X":i+=e[r++];break;default:i+=t[o],t[o]==e[r]&&r++}return i},Fw=function(e,t){switch(t){case"9":var n=parseInt(e);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(e);case"O":var i=parseInt(e);return 0<=i&&i<=9||/[a-zA-Z]/.test(e);case"X":case" ":return!0;default:return e===t}},Nw=function(e,t,n){var i=e.getEvent(),r=i.value;if(0!=r.length){var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");if(o+=' "'+n+'" ',i.willCommit){if(r.length>n.length)return i.rc=!1,void t.alertAsync(o);var a=0;if((r=Rw(r,n,!0)).length==n.length)for(var s=0;s<r.length&&Fw(r[s],n[a]);s++)a++;return a!=n.length||a!=r.length&&n.length>0?(i.rc=!1,void t.alertAsync(o)):(i.change=r,r)}var A=i.change;if(A&&0!=A.length){var c;i.selStart;if((c=i.selStart<i.selEnd?r.replace(r.substr(i.selStart,i.selEnd),A):r.substr(0,i.selStart)+A+r.substr(i.selEnd)).length>n.length){var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return u+=' "'+n+'" ',t.alert(u),void(i.rc=!1)}var l=Rw(c,n);if(l.length>n.length){i.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "'+n+'" ',void t.alertAsync(d)}return i.rc=!0,l}i.rc=!0}else i.rc=!0};const Lw={AFSimple_Calculate:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r="",o=0,a=NaN;switch(t){case"AVG":for(var s=0;s<n.length;s++){var A=parseFloat(e.getFieldValue(n[s]));if(!isNaN(A)){var c=ww(A);o=o>c?o:c,isNaN(a)&&(a=0),a+=A}}r=isNaN(a)?"0":a/n.length;break;case"SUM":for(var u=0;u<n.length;u++){var l=parseFloat(e.getFieldValue(n[u]));if(!isNaN(l)){var d=ww(l);o=o>d?o:d,isNaN(a)&&(a=0),a+=l,a=+parseFloat(a.toPrecision(12))}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,f=0;f<n.length;f++){var p=parseFloat(e.getFieldValue(n[f]));isNaN(p)&&(p=0);var g=ww(p);o=o>g?o:g,isNaN(h)&&(h=1),h*=p}r=isNaN(h)?"0":h;break;case"MIN":for(var v=NaN,m=0;m<n.length;m++){var y=parseFloat(e.getFieldValue(n[m]));if(!isNaN(y)){var _=ww(y);o=o>_?o:_,isNaN(v)&&(v=y),v>y&&(v=y)}}r=isNaN(v)?"0":v;break;case"MAX":for(var b=NaN,w=0;w<n.length;w++){var k=parseFloat(e.getFieldValue(n[w]));if(!isNaN(k)){var x=ww(k);o=o>x?o:x,isNaN(b)&&(b=k),b<k&&(b=k)}}r=isNaN(b)?"0":b}i.valueSetted=!0,i.value=r,i.rc=!0}},AFRange_Validate:function(e,t,n,i,r,o){var a=e.getEvent();if(!a.isSensitiveCheck){var s,A=a.target,c="",u=a.value;s=parseFloat(u),isNaN(s)?a.value=A.value:(n&&r?(s<i||s>o)&&(c="Value should be greater than "+i+" and less than "+o+"."):n?s<i&&(c="Value should be greater than "+i+"."):r&&s>o&&(c="Value should be less than "+o+"."),""!==c?(t.alert(c),a.value=A.value,a.rc=!1):a.rc=!0)}},AFNumber_Format:function(e,t,n,i,r,o,a,s){var A=e.getEvent();if(!A.isSensitiveCheck){var c=A.value;if((A.param.value||0===A.param.value)&&(c=A.param.value),""!==c){if(isNaN(c)){A.value="",A.rc=!1;var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return u+=' "Number" ',void t.alertAsync(u)}var l=(c=parseFloat(c))<0?-1:1;if(isNaN(c)){A.value=c,A.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "Number" ',void t.alertAsync(d)}var h="";h=(2===r||3===r)&&l<0?"(":"",s&&(h+=a);var f=(c*=l).toString().split(".",2),p=f[0],g="";f.length>1&&(g=f[1]),h+=bw(p,g,i,n),s||(h+=a),(2===r||3===r)&&l<0&&(h+=")"),(0!==r||s)&&(c=Math.abs(c)),1!==r&&3!==r||(l<0?A.engineTarget.setDAFontColor(["RGB",1,0,0]):A.engineTarget.setDAFontColor(["RGB",0,0,0])),l<0&&0===r&&(h="-"+h),A.value=h,A.rc=!0}else A.value=""}},AFTime_Format:function(e,t,n){if("number"==typeof(n=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][n])){var i=n;n=i>=0&&i<cFormat.length?cFormat[i]:""}yw(e,t,n)},AFTime_FormatEx:yw,AFDate_FormatEx:function(e,t,n){var i=e.getEvent();if(i.format=n,!i.isSensitiveCheck){n&&0!=n.length||(n="mm/dd/yyyy");var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){if(!r){i.rc=!1;var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return o+=' "'.concat(n,'" '),void t.alertAsync(o)}var a=Cw(r,n);if(!a){i.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'.concat(n,'" '),void t.alert(s)}i.value=Pw(n,a),i.rc=!0}}},AFPercent_Format:function(e,t,n,i){var r=e.getEvent();if(!r.isSensitiveCheck){var o=r.target.value;if(o&&""!=o){if(o=parseFloat(100*o),isNaN(o)){r.value=r.target.value,r.rc=!0;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "Percentage" ',void t.alertAsync(a)}var s=o.toString().split(".",2),A=s[0],c="";s.length>1&&(c=s[1]);var u=bw(A,c,i,n)+"%";r.value=u,r.rc=!0}}},AFMergeChange:function(e){var t,n,i=e.value;return e.willCommit?e.value:(t=e.selStart>=0?i.substring(0,e.selStart):"",n=e.selEnd>=0&&e.selEnd<=i.length?i.substring(e.selEnd,i.length):"",t+e.change+n)},AFNumber_Keystroke:_w,AFParseDateEx:Cw,AFMakeNumber:function(e){return parseFloat(e)||0},AFDate_KeystrokeEx:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(r){var o=Cw(r,n);if(!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}i.value=Pw(n,o),i.rc=!0}else i.rc=!0}},AFSpecial_Format:function(e,t,n){var i=e.getEvent(),r=i.value;if(!r||r.length<1)i.rc=!0;else{var o;switch(r=""+r,n){case 0:o="99999";break;case 1:o="99999-9999";break;case 2:o=r.length>=10?"(999) 999-9999":"999-9999";break;case 3:o="999-99-9999"}var a=Rw(r,o);if(a.length!=o.length){i.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'.concat(o,'" '),void t.alertAsync(s)}i.value=a,i.rc=!0}},FXFormatDate:Pw,AFSpecial_Keystroke:function(e,t,n){var i=e.getEvent(),r=i.value;if(!(r.length<1)){var o,a=i.change;switch(n){case 0:o="99999";break;case 1:case 3:o="999999999";break;case 2:var s=r;if(0==s.length&&0==a.length)return void(i.rc=!0);if(i.willCommit){var A=s.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);if(i.rc=!!A,!A){var c=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");c+=' "/^((d{3})s?)?d{3}-?d{4}$|^(d{3}s?)?d{3}-?d{4}$/" ',t.alert(c)}return}var u=i.selStart,l=i.selEnd;if(l<0&&(l=strSrc.length-1),(s=s.substr(0,u)+a+s.substr(l)).length-14>0)return void(i.rc=!1);var d=s.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(i.rc=!!d)}return Nw(e,t,o)}i.rc=!0},AFPercent_Keystroke:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _w.apply(void 0,(0,R._)(t))},AFSpecial_KeystrokeEx:function(e,t,n){var i=e.getEvent(),r=Nw(e,t,n);void 0!==r&&(i.target.value=r)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5};Lw.ANSB_Author,Lw.ANSB_ModDate,Lw.ANSB_Type,Lw.ANFB_ShouldPrint,Lw.ANFB_ShouldView,Lw.ANFB_ShouldEdit,Lw.ANSB_None,Lw.ANFB_ShouldNone;var Ow=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return["true","t","yes","y","on","1"].includes(e.trim().toLowerCase());case"[object Number]":return 1===e.valueOf();case"[object Boolean]":return e.valueOf();default:return!1}},jw=RegExp("(?:%(?<flag>([+0-]|-\\+))?(?<width>\\d+)?(?<position>\\d+\\$)?(?<precision>\\.\\d+)?(?<conversion>[%BCESb-iosux]))|(\\\\%)","g"),Bw=function(e,t){return t.placeholder},Vw=(function(e){var t,n=function(e,t,n){return"-"===n?e.padEnd(t," "):"-+"===n?((Number(e)>=0?"+":"")+e).padEnd(t," "):"+"===n?((Number(e)>=0?"+":"")+e).padStart(t," "):"0"===n?e.padStart(t,"0"):e.padStart(t," ")},i=null!==(t=null==e?void 0:e.formatUnboundExpression)&&void 0!==t?t:Bw,r={}}(),n(4563)),Hw=n.n(Vw);const Uw={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"};var zw=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"setHandler",value:function(e){this.handler=e}},{key:"clear",value:function(){this.impl?this.impl.clear():window.console.clear()}},{key:"show",value:function(){return this.handler("show"),!0}},{key:"hide",value:function(){return!0}},{key:"println",value:function(e){(0,T._)(e,Object)&&(e=e.toString()),window.console.log(e)}}]),t}(sw);var Ww={border:{s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},style:{ch:"check",cr:"cross",di:"diamond",ci:"circle",st:"star",sq:"square"},display:{visible:0,hidden:1,noPrint:2,noView:3},global:{setPersistent:function(){}},console:new zw,color:hw,font:Uw,scaleWhen:mw};for(var Yw in Ww){var Gw=function(){};Gw.prototype=Object.freeze(Ww[Yw]),Ww[Yw]=new Gw}var $w=function(){function e(t,n){(0,C._)(this,e),this._JSEngine=t,this._app=n}return(0,D._)(e,[{key:"__destroy__",value:function(){this._app=null,this._JSEngine=null}},{key:"JSEngine",get:function(){if(!this._JSEngine)throw new Error("JSEngine is not initialized or destroyed!");return this._JSEngine}},{key:"app",get:function(){if(!this._app)throw new Error("JSEngine is not initialized or destroyed!");return this._app}},{key:"setJSEvent",value:function(e){window.jsEvent=e,this.jsEvent=e}},{key:"AFSimple_Calculate",value:function(e,t){return Lw.AFSimple_Calculate(this.JSEngine,e,t)}},{key:"AFRange_Validate",value:function(e,t,n,i){return Lw.AFRange_Validate(this.JSEngine,this.app,e,t,n,i)}},{key:"AFNumber_Format",value:function(e,t,n,i,r,o){return Lw.AFNumber_Format(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFTime_Format",value:function(e){return Lw.AFTime_Format(this.JSEngine,this._app,e)}},{key:"AFTime_FormatEx",value:function(e){return Lw.AFTime_FormatEx(this.JSEngine,this._app,e)}},{key:"AFTime_Keystroke",value:function(e){return Lw.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFTime_KeystrokeEx",value:function(e){return Lw.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFDate_FormatEx",value:function(e){return Lw.AFDate_FormatEx(this.JSEngine,this._app,e)}},{key:"AFPercent_Format",value:function(e,t){return Lw.AFPercent_Format(this.JSEngine,this._app,e,t)}},{key:"AFMergeChange",value:function(e){return Lw.AFMergeChange(e)}},{key:"AFNumber_Keystroke",value:function(e,t,n,i,r,o){return Lw.AFNumber_Keystroke(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFParseDateEx",value:function(e,t){return Lw.AFParseDateEx(e,t)}},{key:"AFMakeNumber",value:function(e){return Lw.AFMakeNumber(e)}},{key:"AFDate_KeystrokeEx",value:function(e){return Lw.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFSpecial_Format",value:function(e){return Lw.AFSpecial_Format(this.JSEngine,this.app,e)}},{key:"FXFormatDate",value:function(e,t){return Lw.FXFormatDate(e,t)}},{key:"AFSpecial_Keystroke",value:function(e){return Lw.AFSpecial_Keystroke(this.JSEngine,this._app,e)}},{key:"AFPercent_Keystroke",value:function(e){return Lw.AFPercent_Keystroke(this.JSEngine,this._app,(0,w._)({},e))}},{key:"AFSpecial_KeystrokeEx",value:function(e){return Lw.AFSpecial_KeystrokeEx(this.JSEngine,this._app,e)}}]),e}();Object.keys(Lw).forEach(function(e){"function"!=typeof Lw[e]&&($w[e]=Lw[e])}),Object.assign($w.prototype,Ww);var Jw;(Jw=Object).prototype.toSource||Object.defineProperty(Jw.prototype,"toSource",{value:function(){if((0,T._)(this,String))return this;var e="({",t=0;for(var n in this)if("toSource"!==n){0!==t&&(e+=","),t++;var i=this[n];"string"==typeof i&&(i='"'+(i=(i=i.replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"'),-1===n.indexOf("~")&&-1===n.indexOf("-")&&-1===n.indexOf(".")||(n="'"+n+"'"),e+=n+":"+i}return e+"})"},writable:!0,configurable:!0,enumerable:!1});URL.createObjectURL(new Blob([Hw()({})],{type:"text/html"})),"ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/)||navigator.userAgent.toLowerCase().match(/MicroMessenger/i)||navigator.userAgent.toLowerCase().match(/mibrowser/i)||navigator.userAgent.toLowerCase().match(/Html5Plus/i);Symbol("setDoc");z.Proxy.getProxyClass(vw,function(e,t,n,i,r){var o=e.actionCallback;switch(r){case"method":return o&&"function"==typeof o[i]?o[i].apply(o,n):t.apply(e.app,n);case"getter":return e.app[i];case"setter":e.app[i]=n[0]}},null);const qw=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.stateHandlers={},this.defaultStateHandler=Zf,this.currentStateHandler=Zf,this.register(Zf),this.config=t.config.stateHandlerConfig||(0,U._)({},mn.STATE_HANDLER_HAND,{enableTextSelectionTool:!0,enableAnnotationSelectionTool:!0,enablePasting:!0})}return(0,D._)(e,[{key:"setDefaultStateHandler",value:function(e){this.defaultStateHandler=this.stateHandlers[e]||Zf}},{key:"switchToDefault",value:function(e){return this.switchTo(this.defaultStateHandler.getStateName(),e)}},{key:"currentIsDefaultStateHandler",value:function(){return this.currentStateHandler===this.defaultStateHandler}},{key:"getStateHandlerConfig",value:function(e){return this.config[e]}},{key:"setStateHandlerConfig",value:function(e,t){this.config[e]=t}},{key:"mergeStateHandlerConfig",value:function(e,t){this.config[e]=(0,z.extendOptions)(this.config[e]||{},t)}},{key:"pushStateHandlerConfig",value:function(e,t){var n=this.config[e]||{};this.config[e]=Object.assign(n,t)}},{key:"register",value:function(e){this.stateHandlers[e.getStateName()]=e}},{key:"unregister",value:function(e){var t=this.stateHandlers[e];this.currentStateHandler===t&&this.switchTo(this.defaultStateHandler.getStateName()),delete this.stateHandlers[e]}},{key:"get",value:function(e){return this.stateHandlers[e]||this.defaultStateHandler}},{key:"switchTo",value:function(e,t){var n=this.pdfViewer.eventEmitter,i=this.currentStateHandler,r=this.get(e);if(n.emit(ae.beforeSwitchStateHandler,r,i),t&&r.setParams(t,this.pdfViewer),i!==r){this.currentStateHandler=r,e&&this.pdfViewer.activeElement(null),n.emit(ae.deactiveStateHandler,i),n.emit(ae.switchStateHandler,r,i,t);var o=this.pdfViewer.pdfViewerRender;if(o){var a=o.pdfDocRender;if(a){a.setStateHandler(r);var s=a.pagesRender;if(s){var A=s.pageRenders;if(A){for(var c=0,u=A.length;c<u;c++){A[c].stateHandler&&A[c].setStateHandler(r)}n.emit(ae.afterSwitchStateHandler,r,i,t)}}}}}}},{key:"getCurrentStates",value:function(){return this.currentStateHandler}}]),e}();var Kw=function(){function e(){(0,C._)(this,e),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return(0,D._)(e,[{key:"getPassword",value:function(){return this.password}},{key:"setPassword",value:function(e){var t=this.encipherment;this.password=t?t(e):e,this.isEncryption=!!t}},{key:"setEncryptionAlgorithm",value:function(e){this.encipherment=e}},{key:"verify",value:function(e){var t;this.isEncryption?t=this.encipherment(e)===this.password:t=e===this.password;return t}},{key:"getDataURL",value:function(){return this.dataURL}},{key:"setDataURL",value:function(e){this.dataURL=e}},{key:"export",value:function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}}},{key:"import",value:function(e){this.password=e.password,this.dataURL=e.dataURL,this.encipherment=e.encipherment,this.isEncryption=e.isEncryption}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"arrayBufferToBase64",value:function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}}]),e}(),Zw=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.inkSignList=[],this.currentInkSign=null,this.onceInkSign=null}return(0,D._)(e,[{key:"getList",value:function(){return this.inkSignList}},{key:"push",value:function(e){var t=this.inkSignList.length;return this.inkSignList.push(e),this.pdfViewer.eventEmitter.emit(ae.inkSignAdded,this.inkSignList),t}},{key:"delete",value:function(e){this.inkSignList.splice(e,1),this.pdfViewer.eventEmitter.emit(ae.inkSignDeleted,this.inkSignList)}},{key:"get",value:function(e){return this.inkSignList[e]}},{key:"addInkSign",value:function(){return new Kw}},{key:"setCurrentInkSign",value:function(e){this.currentInkSign=this.inkSignList[e]}},{key:"getCurrentInkSign",value:function(){return this.currentInkSign}},{key:"setOnceInkSign",value:function(e){this.onceInkSign=e}},{key:"getOnceInkSign",value:function(){return this.onceInkSign}},{key:"setCurrentInkSignByImg",value:function(e){var t=this.addInkSign();t.setDataURL(e);var n=this.push(t);this.setCurrentInkSign(n)}}]),e}(),Xw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.render,i=void 0===n?function(e){return e}:n,r=t.payloadFieldName,o=void 0===r?"file":r,a=t.origin,s=void 0===a?"":a,A=t.uploadSnapshotAPIPath,c=t.method,u=void 0===c?"POST":c;(0,C._)(this,e),this.render=i,this.payloadFieldName=o,this.origin=s,this.uploadSnapshotAPIPath=A,this.method=u}return(0,D._)(e,[{key:"uploadImage",value:function(e){var t=this,n=new XMLHttpRequest,i=(0,z.createDeferred)();return n.addEventListener("readystatechange",function(e){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){if(0===n.responseText.indexOf("/snapshot"))return void i.resolve("".concat(t.origin).concat(n.responseText));i.resolve(n.responseText)}else i.reject(n)}),n.open(this.method,"".concat(this.origin,"/").concat(this.uploadSnapshotAPIPath,"?filefield=").concat(this.payloadFieldName),!0),n.setRequestHeader("Content-Type","image/png"),n.setRequestHeader("X-File-Name","snapshot.png"),n.send(e),i.promise}}]),e}();const Qw=Xw;var ek=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t,[r])).name="customRender",o.data=e,o.eUi=n,o.eHandler=i,o.customsRender=r,o}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){}},{key:"redraw",value:function(){}},{key:"active",value:function(){}},{key:"unActive",value:function(){}},{key:"destroy",value:function(){}}]),t}(X),tk=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return(0,D._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t=this.matchRules,n=ek,i=t.length;i--;){var r=t[i];if("function"==typeof r){var o=r(e,n);if(o)return o}}return n}}]),e}(),nk=function(){function e(){(0,C._)(this,e),this.stackArray=[]}return(0,D._)(e,[{key:"push",value:function(e){this.stackArray.push(e)}},{key:"pop",value:function(){return this.stackArray.pop()}},{key:"size",value:function(){return this.stackArray.length}},{key:"clear",value:function(){this.stackArray=[]}},{key:"filter",value:function(e){this.stackArray=this.stackArray.filter(e)}}]),e}(),ik=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getQuadPoints",value:function(){var e=this.info.quadPoints||[];if(0===e.length){var t=this.getRect(),n=t.left,i=t.top,r=t.right,o=t.bottom;return[[{x:n,y:i},{x:r,y:i},{x:n,y:o},{x:r,y:o}]]}return e}},{key:"isReplace",value:function(){return!1}},{key:"getDeviceQuadPoints",value:function(){for(var e=this.getPDFPage(),t=(e.getHeight(),e.getWidth()),n=this.getQuadPoints(),i=[],r=n.length;r--;){var o=n[r];i[r]=[{x:o[0].x,y:t-o[0].y},{x:o[1].x,y:t-o[1].y},{x:o[2].x,y:t-o[2].y},{x:o[3].x,y:t-o[3].y}]}return i}},{key:"getStartCharIndex",value:function(){return this.info.startCharIndex}},{key:"getStartCharInfo",value:function(){return this.info.startCharInfo}},{key:"getEndCharIndex",value:function(){return this.info.endCharIndex}},{key:"getEndCharInfo",value:function(){return this.info.endCharInfo}},{key:"canAccess",value:function(){return!!this.page.doc.checkPermission(Xt.extract||Xt.extractAccess)}},{key:"getText",value:function(){if(!this.page.doc.checkPermission(Xt.extract||Xt.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"getContinuousText",value:function(){if(!this.page.doc.checkPermission(Xt.extract||Xt.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"updateQuadPointsByCharIndex",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotQuadPointsByCharIndex(r.getId(),i.getId(),this.getId(),e,t).then(function(e){if(e)return n.update(Qt.quadPointsUpdated).then(function(t){return n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,t,n.getPDFPage()),e})})}},{key:"isArea",value:function(){return this.info.isArea}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.getQuadPoints(),i="",r=0;r<n.length;r++){var o=n[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}return i=i.substr(0,i.length-1),Object.assign({},e,{coords:i})}}]),t}(Ar);const rk=ik;var ok={setContent:function(e){var t=e.method;return function(){e.host[t](e.content)}},setBorderColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.color).then(function(){n.updateRender()})}},setOpacity:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.opacity).then(function(){n.updateRender()})}},updateQuadPointsByCharIndex:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.start,e.end).then(function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(e.end).then(function(){n.getGroupRenders().map(function(e){e.active()})}):n.active()})}},setStyleFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setBorderWidth:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderWidth)}},setBorderStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderStyle.style,e.borderStyle.param)}},setCalloutLineEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](+e.style).then(function(){n.activeRect(),n.redraw()})}},setEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.isBeginning,+e.style).then(function(){n.activeRect(),n.redraw()})}},enableCaption:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.enableCaption)}},setRotation:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i]((e.rotation+360)%360)}},setHighlightingMode:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.mode)}},setRect:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.rect).then(function(){n.active()})}},eraseInk:function(e){e.host.pdfViewer;var t=e.host.annot;t.getObjectNumber(),t.getPDFPage().getIndex()},updateLinePoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex(),o=[];return function(){var n=t.getAnnotRender(r,i).component;o.push(n.annot.setStartPoint(e.startPoint)),o.push(n.annot.setEndPoint(e.endPoint)),Promise.all(o).then(function(){n.active()})}},setLeaderLineLength:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.leaderLinePoints,s=e.startPoint,A=e.endPoint,c=a.start,u=(a.end,Math.sqrt(Math.pow(s.x-c.x,2)+Math.pow(s.y-c.y,2))),l=!0;return(A.x-s.x)*(c.y-A.y)-(c.x-A.x)*(A.y-s.y)>0&&(l=!1),l&&(u=-u),function(){var e=t.getAnnotRender(o,r).component;e.annot[i](u).then(function(){e.active()})}},updateVertexes:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.vertexes,s=e.index;return function(){var e=t.getAnnotRender(o,r).component;e.annot[i](s,a[s]).then(function(){e.active()})}},removeAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),s=o.getPDFPage(),A=s.getIndex(),c=o.getReplies&&o.getReplies()||[],u=[];return c.map(function(e){u.push({id:e.getId(),content:e.getContent(),createTime:new Date(e.getCreateDateTime()).getTime(),modifiedTime:new Date(e.getModifiedDateTime()).getTime()})}),o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map(function(e,t){n.push(new sk(e).getJson()),e.isGroupHeader()&&(i=t)})):n=new sk(o).getJson(),"before"===t?"redact"===o.getType()?function(){s.markRedactAnnot(n.rects,n.name)}:o.isGrouped&&o.isGrouped()?function(){s.addAnnotGroup(n,i).then(function(){var e=r.getAnnotRender(A,a).component;u.length>0?l(e.annot).then(function(){e.getGroupRenders().map(function(e){e.active()})}):e.active()})}:function(){s.addAnnot(n).then(function(){var e=r.getAnnotRender(A,a).component;u.length>0?l(e.annot).then(function(){e.active()}):e.active()})}:function(){var e=r.getAnnotRender(A,a).component;s.removeAnnot(e.annot)};function l(e){var t=[];return u.map(function(n){t.push(e.addReply(n.content).then(function(e){e.setUniqueID(n.id).then(function(){e.setCreateDateTime(n.createTime).then(function(){e.setModifiedDateTime(n.modifiedTime)})})}))}),Promise.all(t)}},addAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),s=o.getPDFPage(),A=s.getIndex();return o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map(function(e,t){n.push(new sk(e).getJson()),e.isGroupHeader()&&(i=t)})):n=new sk(o).getJson(),"before"===t?function(){s.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){s.addAnnotGroup(n,i).then(function(){r.getAnnotRender(A,a).component.getGroupRenders().map(function(e){e.active()})})}:function(){s.addAnnot(n).then(function(){r.getAnnotRender(A,a).component.active()})}},markRedactAnnot:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage(),a=o.getIndex();return"before"===t?function(){o.removeAnnot(i)}:function(){var e=new sk(i).getJson();o.markRedactAnnot(e.rects,e.name).then(function(){n.getAnnotRender(a,r).component.active()})}},makeRedactByPages:function(e,t){var n=e.host;return"before"===t?function(){n.map(function(e){e.getPDFPage().removeAnnot(e)})}:function(){n.map(function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)})}},placeRedact:function(e,t){var n=e.host;return"before"===t?function(){n.map(function(e){e.getPDFPage().removeAnnot(e)})}:function(){n.map(function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)})}},eraser:function(e,t){var n=e.inkArray,i=e.host;return function(){n.map(function(e){i.getAnnotRender(e.annot.getId()).component.annot.setInkList(e.inkList)})}},updateCalloutPoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(r,i).component;n.annot._setRect(e.rect,!1).then(function(){n.annot.setInnerRectNoAction(e.innerRect).then(function(){n.annot.setCalloutLinePoints(e.calloutLinePoints).then(function(){n.annot.update().then(function(){n.redraw(),n.active()})})})})}},addReply:function(e,t){var n=e.host,i=e.replyAnnot,r=(e.component,e.pdfViewer),o=n.getPDFPage(),a=o.getIndex(),s=n.getId(),A=i.getId(),c=i.getCreateDateTime(),u=i.getModifiedDateTime();return"before"===t?function(){o.removeAnnot(i)}:function(){r.getAnnotRender(a,s).component.annot.addReply(i.getContent()).then(function(e){e.setUniqueID(A).then(function(){e.setCreateDateTime(new Date(c).getTime()).then(function(){e.setModifiedDateTime(new Date(u).getTime())})})})}},deleteReply:function(e,t){var n=e.host,i=e.replyAnnot,r=e.pdfViewer,o=n.getPDFPage(),a=o.getIndex(),s=i.getId(),A=n.getId(),c=i.getCreateDateTime(),u=i.getModifiedDateTime();return"before"===t?function(){r.getAnnotRender(a,A).component.annot.addReply(i.getContent()).then(function(e){e.setUniqueID(s).then(function(){e.setCreateDateTime(new Date(c).getTime()).then(function(){e.setModifiedDateTime(new Date(u).getTime())})})})}:function(){o.removeAnnotById(s)}},addAction:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage().getIndex(),a=i.getAction();return"before"===t?function(){i.removeAction()}:function(){!function(e,t){e.setAction(t.type).then(function(){var n=new ck(t).toJson();return e.setActionData(n).then(function(){return Ak(e.getAction(),t)})})}(n.getAnnotRender(o,r).component.annot,a.info)}}};const ak=ok;var sk=function(){function e(t){(0,C._)(this,e);var n=(0,z.colorConvertor)(t.getBorderColor(),"#");switch(this.json={objectNumber:t.info.objectNumber,name:t.getUniqueID(),rect:t.getRect(),color:n,style:t.getBorderStyle(),contents:t.getContent(),date:new Date(t.getModifiedDateTime()).getTime(),type:t.getType(),flags:t.getFlags()},(0,T._)(t,Ar)&&this.markup(t),(0,T._)(t,rk)&&this.textMarkup(t),t.getType()){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}return(0,D._)(e,[{key:"markup",value:function(e){this.json=Object.assign({intent:e.getIntent(),opacity:e.getOpacity(),subject:e.getSubject(),title:e.getTitle(),creationTimestamp:new Date(e.getCreateDateTime()).getTime()},this.json)}},{key:"textMarkup",value:function(e){this.json=Object.assign({startCharIndex:e.getStartCharIndex(),endCharIndex:e.getEndCharIndex(),coords:e.getQuadPoints()},this.json)}},{key:"ink",value:function(e){this.json=Object.assign({inkList:e.getInkList(),borderWidth:e.getBorderWidth()},this.json)}},{key:"fileattachment",value:function(e){this.json=Object.assign({fObjNum:e.info.fObjNum},this.json)}},{key:"polygon",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,fillColor:e.info.fillColor,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"polyline",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,startStyle:e.getStartStyle(),endStyle:e.getEndingStyle()})}},{key:"stamp",value:function(e){this.json=Object.assign({icon:e.info.icon,rotate:(e.getRotation()+360)%360,apObjeNum:e.info.apObjeNum},this.json)}},{key:"freetext",value:function(e){this.json=Object.assign(this.json,{calloutLinePoints:e.getCalloutLinePoints(),innerRect:e.getInnerRect(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,"interior-color":e.getFillColor(),interiorColor:e.getFillColor(),borderWidth:e.getBorderWidth(),calloutLineEndingStyle:e.getCalloutLineEndingStyle()})}},{key:"line",value:function(e){var t=e.getMeasureRatio(),n=e.getMeasureUnit(),i=null;t&&n&&(i={unit:n,ratio:t});var r=e.getStartPoint(),o=e.getEndPoint();this.json=Object.assign(this.json,{startStyle:e.getStartStyle(),endStyle:e.getEndingStyle(),enableCaption:e.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:o.x,y:o.y},measure:i,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"screen",value:function(e){this.json=Object.assign({apObjNum:e.info.apObjNum,opacity:e.getOpacity(),rotate:{0:0,90:1,180:2,270:3}[e.getRotation()],iObjNum:e.info.iObjNum,aObjNum:e.info.aObjNum,borderWidth:e.getBorderWidth()},this.json)}},{key:"redact",value:function(e){var t=e.info.quadPoints,n=[];t.length>0?t.map(function(e){n.push({left:e[0].x,right:e[3].x,top:e[0].y,bottom:e[3].y})}):n.push(e.info.rect),this.json=Object.assign({rects:n},this.json)}},{key:"highlight",value:function(e){e.info.isArea&&(this.json=Object.assign(this.json,{coords:[e.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)}},{key:"link",value:function(e){this.json=Object.assign(this.json,{aObjNum:e.info.aObjNum,borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"circle",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"square",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"getJson",value:function(){return this.json}}]),e}();function Ak(e,t){for(var n=function(n){r.push(e.insertSubAction(n,t.subAction[n].type).then(function(){var i=new ck(t.subAction[n]).toJson(),r=e.getSubAction(n);return r.setActionData(i).then(function(){return Ak(r,t.subAction[n])})}))},i=t.subActionCount,r=[],o=0;o<i;o++)n(o);return Promise.all(r)}var ck=function(){function e(t){(0,C._)(this,e),this.action=t,this.json={},this[t.type]()}return(0,D._)(e,[{key:"TypeGoto",value:function(){var e=this.action.destination;this.json=Object.assign(e,{type:e.zoomMode})}},{key:"TypeURI",value:function(){var e=this.action.uri;this.json=Object.assign({},{uri:e})}},{key:"TypeJavaScript",value:function(){var e=this.action.javascript;this.json=Object.assign({},{script:e})}},{key:"TypeNamed",value:function(){var e=this.action.name;this.json=Object.assign({},{name:e})}},{key:"TypeHide",value:function(){var e=this.action,t=e.fieldNames,n=e.hideState;this.json=Object.assign({},{fieldNames:t,hideState:n})}},{key:"TypeSubmitForm",value:function(){var e=this.action,t=e.flags,n=e.url,i=e.fieldNames;this.json=Object.assign({},{flags:t,url:n,fieldNames:i})}},{key:"TypeResetForm",value:function(){var e=this.action,t=e.flags,n=e.fieldNames;this.json=Object.assign({},{flags:t,fieldNames:n})}},{key:"TypeGoToR",value:function(){var e=this.action,t=e.destinationName,n=e.destination;this.json=Object.assign({},{destinationName:t,destination:n})}},{key:"toJson",value:function(){return this.json}}]),e}(),uk=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"undo",value:function(e){e.before()}},{key:"redo",value:function(e){e.after()}},{key:"createRecord",value:function(e,t){var n=e.method;return ak[n](e,t)}},{key:"getUniqueId",value:function(e){return e.host&&e.host.annot?e.host.annot.getId():null}}]),e}(),lk=function(){function e(t){var n=this;(0,C._)(this,e),this.pdfViewer=t,this.undoStack=new nk,this.redoStack=new nk,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(ae.willCloseDocument,function(){n.clear()}),this.addEventListener()}return(0,D._)(e,[{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"before",value:function(e){this.beforeFn=uk.createRecord(e,"before")}},{key:"after",value:function(e){this.afterFn=uk.createRecord(e,"after"),this.remember(uk.getUniqueId(e))}},{key:"remember",value:function(e){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:e})}},{key:"removeById",value:function(e){this.undoStack.filter(function(t){return e!==t.uniqueId}),this.redoStack.filter(function(t){return e!==t.uniqueId})}},{key:"undo",value:function(){var e=this.undoStack.pop();e&&(this.redoStack.push(e),uk.undo(e))}},{key:"redo",value:function(){var e=this.redoStack.pop();e&&(this.undoStack.push(e),uk.redo(e))}},{key:"clear",value:function(){this.undoStack.clear(),this.redoStack.clear()}},{key:"getUndoStack",value:function(){return this.undoStack}},{key:"getRedoStack",value:function(){return this.redoStack}}]),e}(),dk=function(e){function t(){var e;return(0,C._)(this,t),(e=(0,P._)(this,t)).hiddenCallbacks=[],e.shownCallbacks=[],e.isDisabled=!1,e.isRetired=!1,e.isVisible=!1,e.hiddenCallbacks.push(function(){e.isVisible=!1}),e.shownCallbacks.push(function(){e.isVisible=!0}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"setCurrentTarget",value:function(e){this.currentTarget=e}},{key:"getCurrentTarget",value:function(){return this.currentTarget}},{key:"showAt",value:function(e,t){var n=this;return this.shownCallbacks.forEach(function(e){return e.call(n)}),!0}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"retire",value:function(){this.isRetired=!0}},{key:"restore",value:function(){this.isRetired=!1}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.shownCallbacks.length=0,this.hiddenCallbacks.length=0}},{key:"getItem",value:function(){(0,z.notImplemented)()}},{key:"onHidden",value:function(e){"function"==typeof e&&this.hiddenCallbacks.push(e)}},{key:"onShown",value:function(e){"function"==typeof e&&this.shownCallbacks.push(e)}}]),t}(z.Disposable),hk=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"prepare",value:function(e){this.pdfViewer=e}},{key:"getRootElement",value:function(){return Promise.resolve(this.pdfViewer.element.parentElement)}},{key:"showReply",value:function(e){(0,z.notImplemented)()}},{key:"showPropertiesInfo",value:function(e){(0,z.notImplemented)()}},{key:"createContextMenu",value:function(e,t,n){(0,z.notImplemented)()}},{key:"alert",value:function(e){}},{key:"confirm",value:function(e){}},{key:"prompt",value:function(e,t,n){}},{key:"promptPassword",value:function(e,t,n){}},{key:"loading",value:function(e){return function(){}}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){}},{key:"getPortfolioPreviewer",value:function(e){(0,z.notImplemented)()}},{key:"createDateTimePicker",value:function(e){}},{key:"destroy",value:function(){}},{key:"openDialog",value:function(e){return Promise.resolve()}},{key:"getSignatureUI",value:function(){}},{key:"getActionEditorUI",value:function(){}},{key:"getJSDialogUI",value:function(){}},{key:"getJSDynamicDialogUI",value:function(){}},{key:"getJSPopupMenuUI",value:function(){}}]),e}(),fk=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).pdfViewer=e,i.pageRender=n,i.isDisabled=!1,i.eventEmitter=new(_o()),i}return(0,I._)(t,e),(0,D._)(t,[{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"showAt",value:function(e,t,n,i){this.eventEmitter.emit("show")}},{key:"hide",value:function(){this.eventEmitter.emit("hide")}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"destroy",value:function(){this.eventEmitter.emit("destroy"),(0,E._)((0,S._)(t.prototype),"destroy",this).call(this)}}]),t}(z.Disposable),pk=n(3013),gk=n.n(pk),vk=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).pdfViewer=e,i.pageRender=n,i.topEditBar=null,i}return(0,I._)(t,e),(0,D._)(t,[{key:"getSelectionInfo",value:function(){var e=(0,z.createDeferred)(),t=this.pdfViewer.getStore().subscribe(be.SELECTION_INFO,function(n){t(),e.resolve(n)});return this.addDestroyHook(t),e.promise}},{key:"copy",value:function(){var e=this;return this.getSelectionInfo().then(function(t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,z.copyText)(t.text)];case 1:return e.sent()?this.pdfViewer.eventEmitter.emit(ae.copyTextSuccess,t.text):this.pdfViewer.eventEmitter.emit(ae.copyTextFailed,t.text),[2]}})}).call(e)})}},{key:"createTextHighlight",value:function(){return this.createTextMarkupAnnot("highlight")}},{key:"createStrikeout",value:function(){return this.createTextMarkupAnnot("strikeout")}},{key:"createUnderline",value:function(){return this.createTextMarkupAnnot("underline")}},{key:"createBookmark",value:function(){var e=this,t=this.pdfViewer.getCurrentPDFDoc();return this.hasModifyPermissions(t)?this.getSelectionInfo().then(function(t){if(t){t.page.getPDFDoc();var n=t.page.getIndex(),i=t.text,r=t.rectArray[0],o=r.left,a=r.top;e.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{left:o,top:a,title:i,relationship:3,pageIndex:n}),e.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:"createBookmark"})}}):Promise.resolve()}},{key:"createTextMarkupAnnot",value:function(e){var t=this;return this.pageRender.getPDFPage().then(function(n){return t.getSelectionInfo().then(function(i){return n.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i.rectArray,subject:t.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))}).then(function(n){var i=n[0];t.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,i),t.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:e}),t.pageRender.annotsRender.activeAnnot(i.getId())})})})}},{key:"getBookmarkById",value:function(e,t){var n="",i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var A=a.value;if(n)break;if(A.id==e){n=A;break}A.children&&A.children.length>0&&(n=this.getBookmarkById(e,A.children))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},{key:"hasModifyPermissions",value:function(e){var t=e.getPermissions();return 8&t&&32&t}},{key:"getTopEditBar",value:function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.topEditBar?[3,2]:(e=this.pdfViewer.viewerUI.rootComponent.pdfUI,t=this,[4,e.getComponentByName("edit-text")]);case 1:t.topEditBar=n.sent(),n.label=2;case 2:return[2,this.topEditBar]}})}).call(this)}},{key:"createEditText",value:function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return e=this,[3,2];case 1:t=n.sent(),this.getTopEditBar().then(function(n){e.pageRender.$handler.find(".fv__mark-selection-blank").remove(),n.controller.handle(t.e,!0,t)}),n.label=2;case 2:return[2]}})}).call(this)}},{key:"clearSelectionInfo",value:function(){this.pdfViewer.getCurrentPDFDoc().clearSelectedInfo(this.pdfViewer)}}]),t}(z.Disposable),mk="copy_selected_text",yk="create-text-highlight",_k="create-strikeout",bk="create-underline",wk=[{iconClass:"fv__icon-popup-copy",name:mk},{iconClass:"fv__icon-toolbar-text-highlight",name:yk},{iconClass:"fv__icon-toolbar-strikeout",name:_k},{iconClass:"fv__icon-toolbar-underline",name:bk}].concat([]),kk=gk()({actions:wk}),xk=(new DOMParser).parseFromString(kk,"text/html").body.firstElementChild,Pk=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).selectionTool=new vk(e,n),i.init(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"init",value:function(){var e=this;this.dom=xk.cloneNode(!0),this.pageRender.$ui.get(0).appendChild(this.dom),this.dom.addEventListener("click",function(t){if(!t.target.classList.contains("disabled")&&!t.target.parentNode.classList.contains("disabled")){var n=t.target.getAttribute("action");n&&e[n]&&e[n]().then(function(){e.hide()})}});var t=function(e){return e===document.activeElement||e.contains(document.activeElement)},n=t(this.dom),i=function(){var i=t(e.dom);n===i||i||e.eventEmitter.emit("blur"),n=i};document.addEventListener("focus",i,{capture:!0}),document.addEventListener("pointerup",i,{capture:!0}),this.addDestroyHook(function(){document.removeEventListener("focus",i,{capture:!0}),document.removeEventListener("pointerup",i,{capture:!0})})}},{key:mk,value:function(){return this.selectionTool.copy()}},{key:yk,value:function(){return this.selectionTool.createTextHighlight()}},{key:_k,value:function(){return this.selectionTool.createStrikeout()}},{key:bk,value:function(){return this.selectionTool.createUnderline()}},{key:"create-edit-text",value:function(){return this.selectionTool.createEditText()}},{key:"showAt",value:function(e,n){var i=this;(0,E._)((0,S._)(t.prototype),"showAt",this).call(this,e,n),this.dom.style.cssText+="\n            left: ".concat(e,"px;\n            top: ").concat(n,"px;\n        "),Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then(function(e){i.dom.querySelectorAll("div>div.fv__selection-tool-tip-item:not(.fv__icon-popup-copy)").forEach(function(t){32&e?t.classList.remove("disabled"):t.classList.add("disabled")}),16&e?i.dom.querySelector("div>div.fv__icon-popup-copy").classList.remove("disabled"):i.dom.querySelector("div>div.fv__icon-popup-copy").classList.add("disabled"),i.dom.classList.add("fv__active"),i.dom.focus()})}},{key:"hide",value:function(){(0,E._)((0,S._)(t.prototype),"hide",this).call(this),this.dom.classList.remove("fv__active")}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.dom.remove(),this.selectionTool.destroy()}}]),t}(fk),Ck=n(564),Dk=n.n(Ck),Ek=(n(4482),function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t)).uniqueClassName=n.uniqueClassName,i.disabledClassName="context-menu-disabled",i.name=e,i}return(0,I._)(t,e),(0,D._)(t,[{key:"disable",value:function(){if(this.isEnabled()){var e=this.getDOM();e&&e.classList.add(this.disabledClassName)}}},{key:"enable",value:function(){if(!this.isEnabled()){var e=this.getDOM();e&&e.classList.remove(this.disabledClassName)}}},{key:"getDOM",value:function(){return document.querySelector(this.uniqueClassName)}},{key:"isEnabled",value:function(){var e=this.getDOM();return!!e&&e.classList.contains(this.disabledClassName)}}]),t}(function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"disable",value:function(){(0,z.notImplemented)("disable")}},{key:"enable",value:function(){(0,z.notImplemented)("enable")}},{key:"isEnabled",value:function(){return(0,z.notImplemented)("isEnabled"),!1}}]),e}())),Sk=n(5143),Ik=n.n(Sk),Tk=function(e){return e.PROGRESSING="Progressing",e.SUCCESS="Success",e.FAIL="Fail",e}({}),Mk=(n(9580),(new DOMParser).parseFromString(Ik()(),"text/html").body.firstElementChild),Rk=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return(0,C._)(this,t),(e=(0,P._)(this,t)).pdfViewer=r,e.coverOn=i,e.dom=Mk.cloneNode(!0),e.textElement=e.dom.querySelector(".fv__ui-progress-text"),e.updateProgress(n),e}return(0,I._)(t,e),(0,D._)(t,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.coverOn;this.coverOn=e,this.updateProgress(0),e.appendChild(this.dom),this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none",this.updateProgress(0)}},{key:"updateProgress",value:function(e,t){var n=this,i="";i=t===Tk.FAIL||t===Tk.SUCCESS?this.pdfViewer.i18n.t("progress.".concat(t)):"number"==typeof e?"".concat(e,"%"):"string"==typeof e?e:"".concat(e.current," / ").concat(e.total),this.textElement.innerText=i,t!==Tk.FAIL&&t!=Tk.SUCCESS||setTimeout(function(){n.hide()},800)}}]),t}(z.Disposable),Fk=function e(t,n){(0,C._)(this,e),(0,U._)(this,"pdfViewer",void 0),(0,U._)(this,"format",void 0),(0,U._)(this,"showYear",void 0),(0,U._)(this,"showMonth",void 0),(0,U._)(this,"showDate",void 0),(0,U._)(this,"showHour",void 0),(0,U._)(this,"showMinute",void 0),(0,U._)(this,"showSeconds",void 0),(0,U._)(this,"showTimePeriod",void 0),(0,U._)(this,"time24Hour",void 0),this.pdfViewer=t,this.format=n,this.showYear=-1!==n.indexOf("Y"),this.showMonth=-1!==n.indexOf("m"),this.showDate=-1!==n.indexOf("D"),this.showHour=-1!==n.toLowerCase().indexOf("h"),this.time24Hour=-1!==n.indexOf("H"),this.showMinute=-1!==n.indexOf("M"),this.showSeconds=-1!==n.toLowerCase().indexOf("s"),this.showTimePeriod=-1!==n.indexOf("t")};const Nk=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Lk={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:e=>"undefined"!=typeof console&&console.warn(e),getWeek:e=>{const t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Ok={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:e=>{const t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},jk=Ok,Bk=(e,t=2)=>`000${e}`.slice(-1*t),Vk=e=>!0===e?1:0;function Hk(e,t){let n;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),t)}}const Uk=e=>e instanceof Array?e:[e];function zk(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function Wk(e,t,n){const i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function Yk(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Gk(e,t){return t(e)?e:e.parentNode?Gk(e.parentNode,t):void 0}function $k(e,t){const n=Wk("div","numInputWrapper"),i=Wk("input","numInput "+e),r=Wk("span","arrowUp"),o=Wk("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(const e in t)i.setAttribute(e,t[e]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}function Jk(e){try{if("function"==typeof e.composedPath){return e.composedPath()[0]}return e.target}catch(t){return e.target}}const qk=()=>{},Kk=(e,t,n)=>n.months[t?"shorthand":"longhand"][e],Zk={D:qk,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:(e,t)=>{e.setHours(parseFloat(t))},H:(e,t)=>{e.setHours(parseFloat(t))},J:(e,t)=>{e.setDate(parseFloat(t))},K:(e,t,n)=>{e.setHours(e.getHours()%12+12*Vk(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:(e,t)=>{e.setSeconds(parseFloat(t))},U:(e,t)=>new Date(1e3*parseFloat(t)),W:function(e,t,n){const i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:(e,t)=>{e.setFullYear(parseFloat(t))},Z:(e,t)=>new Date(t),d:(e,t)=>{e.setDate(parseFloat(t))},h:(e,t)=>{e.setHours(parseFloat(t))},i:(e,t)=>{e.setMinutes(parseFloat(t))},j:(e,t)=>{e.setDate(parseFloat(t))},l:qk,m:(e,t)=>{e.setMonth(parseFloat(t)-1)},n:(e,t)=>{e.setMonth(parseFloat(t)-1)},s:(e,t)=>{e.setSeconds(parseFloat(t))},u:(e,t)=>new Date(parseFloat(t)),w:qk,y:(e,t)=>{e.setFullYear(2e3+parseFloat(t))}},Xk={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Qk={Z:e=>e.toISOString(),D:function(e,t,n){return t.weekdays.shorthand[Qk.w(e,t,n)]},F:function(e,t,n){return Kk(Qk.n(e,t,n)-1,!1,t)},G:function(e,t,n){return Bk(Qk.h(e,t,n))},H:e=>Bk(e.getHours()),J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:(e,t)=>t.amPM[Vk(e.getHours()>11)],M:function(e,t){return Kk(e.getMonth(),!0,t)},S:e=>Bk(e.getSeconds()),U:e=>e.getTime()/1e3,W:function(e,t,n){return n.getWeek(e)},Y:e=>Bk(e.getFullYear(),4),d:e=>Bk(e.getDate()),h:e=>e.getHours()%12?e.getHours()%12:12,i:e=>Bk(e.getMinutes()),j:e=>e.getDate(),l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:e=>Bk(e.getMonth()+1),n:e=>e.getMonth()+1,s:e=>e.getSeconds(),u:e=>e.getTime(),w:e=>e.getDay(),y:e=>String(e.getFullYear()).substring(2)},ex=({config:e=Lk,l10n:t=Ok,isMobile:n=!1})=>(i,r,o)=>{const a=o||t;return void 0===e.formatDate||n?r.split("").map((t,n,r)=>Qk[t]&&"\\"!==r[n-1]?Qk[t](i,a,e):"\\"!==t?t:"").join(""):e.formatDate(i,r,a)},tx=({config:e=Lk,l10n:t=Ok})=>(n,i,r,o)=>{if(0!==n&&!n)return;const a=o||t;let s;const A=n;if(n instanceof Date)s=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)s=new Date(n);else if("string"==typeof n){const t=i||(e||Lk).dateFormat,o=String(n).trim();if("today"===o)s=new Date,r=!0;else if(/Z$/.test(o)||/GMT$/.test(o))s=new Date(n);else if(e&&e.parseDate)s=e.parseDate(n,t);else{s=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let i,r=[];for(let e=0,o=0,A="";e<t.length;e++){const c=t[e],u="\\"===c,l="\\"===t[e-1]||u;if(Xk[c]&&!l){A+=Xk[c];const e=new RegExp(A).exec(n);e&&(i=!0)&&r["Y"!==c?"push":"unshift"]({fn:Zk[c],val:e[++o]})}else u||(A+=".");r.forEach(({fn:e,val:t})=>s=e(s,t,a)||s)}s=i?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;e.errorHandler(new Error(`Invalid date provided: ${A}`))};function nx(e,t,n=!0){return!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}const ix=(e,t,n)=>e>Math.min(t,n)&&e<Math.max(t,n),rx=864e5;function ox(e){let t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){const r=e.minDate.getHours(),o=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&i<a&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){const r=e.maxDate.getHours(),o=e.maxDate.getMinutes();t=Math.min(t,r),t===r&&(n=Math.min(o,n)),t===r&&n===o&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}n(1895);function ax(e,t){const n={config:Object.assign(Object.assign({},Lk),Ax.defaultConfig),l10n:jk};function i(e){return e.bind(n)}function r(){const e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){const t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}})}function o(e){if(0===n.selectedDates.length){const e=void 0===n.config.minDate||nx(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),t=ox(n.config);e.setHours(t.hours,t.minutes,t.seconds,e.getMilliseconds()),n.selectedDates=[e],n.latestSelectedDateObj=e}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();const t="keydown"===e.type,i=Jk(e),r=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[Vk(n.amPM.textContent===n.l10n.amPM[0])]);const o=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),A=parseInt(r.value,10),c=e.delta||(t?38===e.which?1:-1:0);let u=A+s*c;if(void 0!==r.value&&2===r.value.length){const e=r===n.hourElement,t=r===n.minuteElement;u<o?(u=a+u+Vk(!e)+(Vk(e)&&Vk(!n.amPM)),t&&f(void 0,-1,n.hourElement)):u>a&&(u=r===n.hourElement?u-a-Vk(!n.amPM):o,t&&f(void 0,1,n.hourElement)),n.amPM&&e&&(1===s?u+A===23:Math.abs(u-A)>s)&&(n.amPM.textContent=n.l10n.amPM[Vk(n.amPM.textContent===n.l10n.amPM[0])]),r.value=Bk(u)}}(e);const t=n._input.value;a(),Z(),n._input.value!==t&&n._debouncedChange()}function a(){if(void 0===n.hourElement||void 0===n.minuteElement)return;let e=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(n.minuteElement.value,10)||0)%60,i=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;var r,o;void 0!==n.amPM&&(r=e,o=n.amPM.textContent,e=r%12+12*Vk(o===n.l10n.amPM[1]));const a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===nx(n.latestSelectedDateObj,n.config.minDate,!0);if(void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===nx(n.latestSelectedDateObj,n.config.maxDate,!0)){const r=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;e=Math.min(e,r.getHours()),e===r.getHours()&&(t=Math.min(t,r.getMinutes())),t===r.getMinutes()&&(i=Math.min(i,r.getSeconds()))}if(a){const r=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;e=Math.max(e,r.getHours()),e===r.getHours()&&t<r.getMinutes()&&(t=r.getMinutes()),t===r.getMinutes()&&(i=Math.max(i,r.getSeconds()))}A(e,t,i)}function s(e){const t=e||n.latestSelectedDateObj;t&&A(t.getHours(),t.getMinutes(),t.getSeconds())}function A(e,t,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=Bk(n.config.time_24hr?e:(12+e)%12+12*Vk(e%12==0)),n.minuteElement.value=Bk(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[Vk(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=Bk(i)))}function c(e){const t=Jk(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&S(n)}function u(e,t,i,r){return t instanceof Array?t.forEach(t=>u(e,t,i,r)):e instanceof Array?e.forEach(e=>u(e,t,i,r)):(e.addEventListener(t,i,r),void n._handlers.push({remove:()=>e.removeEventListener(t,i)}))}function l(){G("onChange")}function d(e,t){const i=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,o=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(e){e.message="Invalid date supplied: "+i,n.config.errorHandler(e)}t&&n.currentYear!==r&&(G("onYearChange"),b()),!t||n.currentYear===r&&n.currentMonth===o||G("onMonthChange"),n.redraw()}function h(e){const t=Jk(e);~t.className.indexOf("arrow")&&f(e,t.classList.contains("arrowUp")?1:-1)}function f(e,t,n){const i=e&&Jk(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,o=$("increment");o.delta=t,r&&r.dispatchEvent(o)}function p(e,t,i,r){const o=I(t,!0),a=Wk("span","flatpickr-day "+e,t.getDate().toString());return a.dateObj=t,a.$i=r,a.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===nx(t,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),o?(a.tabIndex=-1,J(t)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(zk(a,"startRange",n.selectedDates[0]&&0===nx(t,n.selectedDates[0],!0)),zk(a,"endRange",n.selectedDates[1]&&0===nx(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(nx(e,n.selectedDates[0])>=0&&nx(e,n.selectedDates[1])<=0)}(t)&&!J(t)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&i%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),G("onDayCreate",a),a}function g(e){e.focus(),"range"===n.config.mode&&F(e)}function v(e){const t=e>0?0:n.config.showMonths-1,i=e>0?n.config.showMonths:-1;for(let r=t;r!=i;r+=e){const t=n.daysContainer.children[r],i=e>0?0:t.children.length-1,o=e>0?t.children.length:-1;for(let n=i;n!=o;n+=e){const e=t.children[n];if(-1===e.className.indexOf("hidden")&&I(e.dateObj))return e}}}function m(e,t){const i=T(document.activeElement||document.body),r=void 0!==e?e:i?document.activeElement:void 0!==n.selectedDateElem&&T(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&T(n.todayDateElem)?n.todayDateElem:v(t>0?1:-1);void 0===r?n._input.focus():i?function(e,t){const i=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,r=t>0?n.config.showMonths:-1,o=t>0?1:-1;for(let a=i-n.currentMonth;a!=r;a+=o){const r=n.daysContainer.children[a],s=i-n.currentMonth===a?e.$i+t:t<0?r.children.length-1:0,A=r.children.length;for(let n=s;n>=0&&n<A&&n!=(t>0?A:-1);n+=o){const i=r.children[n];if(-1===i.className.indexOf("hidden")&&I(i.dateObj)&&Math.abs(e.$i-n)>=Math.abs(t))return g(i)}}n.changeMonth(o),m(v(o),0)}(r,t):g(r)}function y(e,t){const i=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((t-1+12)%12,e),o=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,A=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay";let u=r+1-i,l=0;for(;u<=r;u++,l++)a.appendChild(p(A,new Date(e,t-1,u),u,l));for(u=1;u<=o;u++,l++)a.appendChild(p("",new Date(e,t,u),u,l));for(let r=o+1;r<=42-i&&(1===n.config.showMonths||l%7!=0);r++,l++)a.appendChild(p(c,new Date(e,t+1,r%o),r,l));const d=Wk("div","dayContainer");return d.appendChild(a),d}function _(){if(void 0===n.daysContainer)return;Yk(n.daysContainer),n.weekNumbers&&Yk(n.weekNumbers);const e=document.createDocumentFragment();for(let t=0;t<n.config.showMonths;t++){const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),e.appendChild(y(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&F()}function b(){if(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)return;const e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(let t=0;t<12;t++){if(!e(t))continue;const i=Wk("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,t).getMonth().toString(),i.textContent=Kk(t,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===t&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}function w(){const e=Wk("div","flatpickr-month"),t=window.document.createDocumentFragment();let i;n.config.showMonths>1||"static"===n.config.monthSelectorType?i=Wk("span","cur-month"):(n.monthsDropdownContainer=Wk("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),u(n.monthsDropdownContainer,"change",e=>{const t=Jk(e),i=parseInt(t.value,10);n.changeMonth(i-n.currentMonth),G("onMonthChange")}),b(),i=n.monthsDropdownContainer);const r=$k("cur-year",{tabindex:"-1"}),o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&o.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(o.setAttribute("max",n.config.maxDate.getFullYear().toString()),o.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());const a=Wk("div","flatpickr-current-month");return a.appendChild(i),a.appendChild(r),t.appendChild(a),e.appendChild(t),{container:e,yearElement:o,monthElement:i}}function k(){Yk(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(let e=n.config.showMonths;e--;){const e=w();n.yearElements.push(e.yearElement),n.monthElements.push(e.monthElement),n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function x(){n.weekdayContainer?Yk(n.weekdayContainer):n.weekdayContainer=Wk("div","flatpickr-weekdays");for(let e=n.config.showMonths;e--;){const e=Wk("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}return P(),n.weekdayContainer}function P(){if(!n.weekdayContainer)return;const e=n.l10n.firstDayOfWeek;let t=[...n.l10n.weekdays.shorthand];e>0&&e<t.length&&(t=[...t.splice(e,t.length),...t.splice(0,e)]);for(let e=n.config.showMonths;e--;)n.weekdayContainer.children[e].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${t.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function C(e,t=!0){const i=t?e:e-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,G("onYearChange"),b()),_(),G("onMonthChange"),q())}function D(e){return!(!n.config.appendTo||!n.config.appendTo.contains(e))||n.calendarContainer.contains(e)}function E(e){if(n.isOpen&&!n.config.inline){const t=Jk(e),i=D(t),r=t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)),a="blur"===e.type?r&&e.relatedTarget&&!D(e.relatedTarget):!r&&!i&&!D(e.relatedTarget),s=!n.config.ignoredFocusElements.some(e=>e.contains(t));a&&s&&(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&o(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(!1),n.redraw()))}}function S(e){if(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())return;const t=e,i=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),G("onYearChange"),b())}function I(e,t=!0){var i;const r=n.parseDate(e,void 0,t);if(n.config.minDate&&r&&nx(r,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&r&&nx(r,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;const o=!!n.config.enable,a=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable;for(let e,t=0;t<a.length;t++){if(e=a[t],"function"==typeof e&&e(r))return o;if(e instanceof Date&&void 0!==r&&e.getTime()===r.getTime())return o;if("string"==typeof e){const t=n.parseDate(e,void 0,!0);return t&&t.getTime()===r.getTime()?o:!o}if("object"==typeof e&&void 0!==r&&e.from&&e.to&&r.getTime()>=e.from.getTime()&&r.getTime()<=e.to.getTime())return o}return!o}function T(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function M(e){!(e.target===n._input)||!(n.selectedDates.length>0||n._input.value.length>0)||e.relatedTarget&&D(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function R(t){const i=Jk(t),r=n.config.wrap?e.contains(i):i===n._input,s=n.config.allowInput,A=n.isOpen&&(!s||!r),c=n.config.inline&&r&&!s;if(13===t.keyCode&&r){if(s)return n.setDate(n._input.value,!0,i===n.altInput?n.config.altFormat:n.config.dateFormat),i.blur();n.open()}else if(D(i)||A||c){const e=!!n.timeContainer&&n.timeContainer.contains(i);switch(t.keyCode){case 13:e?(t.preventDefault(),o(),H()):U(t);break;case 27:t.preventDefault(),H();break;case 8:case 46:r&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(e||r)n.hourElement&&n.hourElement.focus();else if(t.preventDefault(),void 0!==n.daysContainer&&(!1===s||document.activeElement&&T(document.activeElement))){const e=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),C(e),m(v(1),0)):m(void 0,e)}break;case 38:case 40:t.preventDefault();const a=40===t.keyCode?1:-1;n.daysContainer&&void 0!==i.$i||i===n.input||i===n.altInput?t.ctrlKey?(t.stopPropagation(),S(n.currentYear-a),m(v(1),0)):e||m(void 0,7*a):i===n.currentYearElement?S(n.currentYear-a):n.config.enableTime&&(!e&&n.hourElement&&n.hourElement.focus(),o(t),n._debouncedChange());break;case 9:if(e){const e=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter(e=>e),r=e.indexOf(i);if(-1!==r){const i=e[r+(t.shiftKey?-1:1)];t.preventDefault(),(i||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&i===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],a(),Z();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],a(),Z()}(r||D(i))&&G("onKeyDown",t)}function F(e){if(1!==n.selectedDates.length||e&&(!e.classList.contains("flatpickr-day")||e.classList.contains("flatpickr-disabled")))return;const t=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),i=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(t,n.selectedDates[0].getTime()),o=Math.max(t,n.selectedDates[0].getTime());let a=!1,s=0,A=0;for(let e=r;e<o;e+=rx)I(new Date(e),!0)||(a=a||e>r&&e<o,e<i&&(!s||e>s)?s=e:e>i&&(!A||e<A)&&(A=e));for(let r=0;r<n.config.showMonths;r++){const o=n.daysContainer.children[r];for(let r=0,c=o.children.length;r<c;r++){const c=o.children[r],u=c.dateObj.getTime(),l=s>0&&u<s||A>0&&u>A;l?(c.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(e=>{c.classList.remove(e)})):a&&!l||(["startRange","inRange","endRange","notAllowed"].forEach(e=>{c.classList.remove(e)}),void 0!==e&&(e.classList.add(t<=n.selectedDates[0].getTime()?"startRange":"endRange"),i<t&&u===i?c.classList.add("startRange"):i>t&&u===i&&c.classList.add("endRange"),u>=s&&(0===A||u<=A)&&ix(u,i,t)&&c.classList.add("inRange")))}}}function N(){!n.isOpen||n.config.static||n.config.inline||B()}function L(e){return t=>{const i=n.config[`_${e}Date`]=n.parseDate(t,n.config.dateFormat),r=n.config[`_${"min"===e?"max":"min"}Date`];void 0!==i&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(e=>I(e)),n.selectedDates.length||"min"!==e||s(i),Z()),n.daysContainer&&(V(),void 0!==i?n.currentYearElement[e]=i.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!r&&void 0!==i&&r.getFullYear()===i.getFullYear())}}function O(){return n.config.wrap?e.querySelector("[data-input]"):e}function j(){"object"!=typeof n.config.locale&&void 0===Ax.l10ns[n.config.locale]&&n.config.errorHandler(new Error(`flatpickr: invalid locale ${n.config.locale}`)),n.l10n=Object.assign(Object.assign({},Ax.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Ax.l10ns[n.config.locale]:void 0),Xk.K=`(${n.l10n.amPM[0]}|${n.l10n.amPM[1]}|${n.l10n.amPM[0].toLowerCase()}|${n.l10n.amPM[1].toLowerCase()})`;void 0===Object.assign(Object.assign({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===Ax.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=ex(n),n.parseDate=tx({config:n.config,l10n:n.l10n})}function B(e){if("function"==typeof n.config.position)return void n.config.position(n,e);if(void 0===n.calendarContainer)return;G("onPreCalendarPosition");const t=e||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,(e,t)=>e+t.offsetHeight,0),r=n.calendarContainer.offsetWidth,o=n.config.position.split(" "),a=o[0],s=o.length>1?o[1]:null,A=t.getBoundingClientRect(),c=window.innerHeight-A.bottom,u="above"===a||"below"!==a&&c<i&&A.top>i,l=window.pageYOffset+A.top+(u?-i-2:t.offsetHeight+2);if(zk(n.calendarContainer,"arrowTop",!u),zk(n.calendarContainer,"arrowBottom",u),n.config.inline)return;let d=window.pageXOffset+A.left,h=!1,f=!1;"center"===s?(d-=(r-A.width)/2,h=!0):"right"===s&&(d-=r-A.width,f=!0),zk(n.calendarContainer,"arrowLeft",!h&&!f),zk(n.calendarContainer,"arrowCenter",h),zk(n.calendarContainer,"arrowRight",f);const p=window.document.body.offsetWidth-(window.pageXOffset+A.right),g=d+r>window.document.body.offsetWidth,v=p+r>window.document.body.offsetWidth;if(zk(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=`${l}px`,g)if(v){const e=function(){let e=null;for(let t=0;t<document.styleSheets.length;t++){const n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:function(){const e=document.createElement("style");return document.head.appendChild(e),e.sheet}()}();if(void 0===e)return;const t=window.document.body.offsetWidth,i=Math.max(0,t/2-r/2),o=".flatpickr-calendar.centerMost:before",a=".flatpickr-calendar.centerMost:after",s=e.cssRules.length,c=`{left:${A.left}px;right:auto;}`;zk(n.calendarContainer,"rightMost",!1),zk(n.calendarContainer,"centerMost",!0),e.insertRule(`${o},${a}${c}`,s),n.calendarContainer.style.left=`${i}px`,n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=`${p}px`;else n.calendarContainer.style.left=`${d}px`,n.calendarContainer.style.right="auto"}function V(){n.config.noCalendar||n.isMobile||(b(),q(),_())}function H(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function U(e){e.preventDefault(),e.stopPropagation();const t=Gk(Jk(e),e=>e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed"));if(void 0===t)return;const i=t,r=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),o=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){const e=J(r);e?n.selectedDates.splice(parseInt(e),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==nx(r,n.selectedDates[0],!0)&&n.selectedDates.sort((e,t)=>e.getTime()-t.getTime()));if(a(),o){const e=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),e&&(G("onYearChange"),b()),G("onMonthChange")}if(q(),_(),Z(),o||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():g(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){const e="single"===n.config.mode&&!n.config.enableTime,t="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(e||t)&&H()}l()}n.parseDate=tx({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=u,n._setHoursFromDate=s,n._positionCalendar=B,n.changeMonth=C,n.changeYear=S,n.clear=function(e=!0,t=!0){n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){const{hours:e,minutes:t,seconds:i}=ox(n.config);A(e,t,i)}n.redraw(),e&&G("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));G("onClose")},n._createElement=Wk,n.destroy=function(){void 0!==n.config&&G("onDestroy");for(let e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){const e=n.calendarContainer.parentNode;if(e.lastChild&&e.removeChild(e.lastChild),e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(e=>{try{delete n[e]}catch(e){}})},n.isEnabled=I,n.jumpToDate=d,n.open=function(e,t=n._positionElement){if(!0===n.isMobile){if(e){e.preventDefault();const t=Jk(e);t&&t.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void G("onOpen")}if(n._input.disabled||n.config.inline)return;const i=n.isOpen;n.isOpen=!0,i||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),G("onOpen"),B(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout(()=>n.hourElement.select(),50))},n.redraw=V,n.set=function(e,t){if(null!==e&&"object"==typeof e){Object.assign(n.config,e);for(const t in e)void 0!==z[t]&&z[t].forEach(e=>e())}else n.config[e]=t,void 0!==z[e]?z[e].forEach(e=>e()):Nk.indexOf(e)>-1&&(n.config[e]=Uk(t));n.redraw(),Z(!0)},n.setDate=function(e,t=!1,i=n.config.dateFormat){if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);W(e,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),d(void 0,t),s(),0===n.selectedDates.length&&n.clear(!1);Z(t),t&&G("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};const z={locale:[j,P],showMonths:[k,r,x],minDate:[d],maxDate:[d],clickOpens:[()=>{!0===n.config.clickOpens?(u(n._input,"focus",n.open),u(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function W(e,t){let i=[];if(e instanceof Array)i=e.map(e=>n.parseDate(e,t));else if(e instanceof Date||"number"==typeof e)i=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":i=[n.parseDate(e,t)];break;case"multiple":i=e.split(n.config.conjunction).map(e=>n.parseDate(e,t));break;case"range":i=e.split(n.l10n.rangeSeparator).map(e=>n.parseDate(e,t))}else n.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(e)}`));n.selectedDates=n.config.allowInvalidPreload?i:i.filter(e=>e instanceof Date&&I(e,!1)),"range"===n.config.mode&&n.selectedDates.sort((e,t)=>e.getTime()-t.getTime())}function Y(e){return e.slice().map(e=>"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e).filter(e=>e)}function G(e,t){if(void 0===n.config)return;const i=n.config[e];if(void 0!==i&&i.length>0)for(let e=0;i[e]&&e<i.length;e++)i[e](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent($("change")),n.input.dispatchEvent($("input")))}function $(e){const t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function J(e){for(let t=0;t<n.selectedDates.length;t++)if(0===nx(n.selectedDates[t],e))return""+t;return!1}function q(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((e,t)=>{const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=Kk(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),e.value=i.getFullYear().toString()}),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function K(e){return n.selectedDates.map(t=>n.formatDate(t,e)).filter((e,t,i)=>"range"!==n.config.mode||n.config.enableTime||i.indexOf(e)===t).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Z(e=!0){void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=K(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=K(n.config.altFormat)),!1!==e&&G("onValueUpdate")}function X(e){const t=Jk(e),i=n.prevMonthNav.contains(t),r=n.nextMonthNav.contains(t);i||r?C(i?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){const r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=o.parseDate,n.config.formatDate=o.formatDate,Object.defineProperty(n.config,"enable",{get:()=>n.config._enable,set:e=>{n.config._enable=Y(e)}}),Object.defineProperty(n.config,"disable",{get:()=>n.config._disable,set:e=>{n.config._disable=Y(e)}});const s="time"===o.mode;if(!o.dateFormat&&(o.enableTime||s)){const e=Ax.defaultConfig.dateFormat||Lk.dateFormat;a.dateFormat=o.noCalendar||s?"H:i"+(o.enableSeconds?":S":""):e+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||s)&&!o.altFormat){const e=Ax.defaultConfig.altFormat||Lk.altFormat;a.altFormat=o.noCalendar||s?"h:i"+(o.enableSeconds?":S K":" K"):e+` h:i${o.enableSeconds?":S":""} K`}Object.defineProperty(n.config,"minDate",{get:()=>n.config._minDate,set:L("min")}),Object.defineProperty(n.config,"maxDate",{get:()=>n.config._maxDate,set:L("max")});const A=e=>t=>{n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")};Object.defineProperty(n.config,"minTime",{get:()=>n.config._minTime,set:A("min")}),Object.defineProperty(n.config,"maxTime",{get:()=>n.config._maxTime,set:A("max")}),"time"===o.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,a,o);for(let e=0;e<r.length;e++)n.config[r[e]]=!0===n.config[r[e]]||"true"===n.config[r[e]];Nk.filter(e=>void 0!==n.config[e]).forEach(e=>{n.config[e]=Uk(n.config[e]||[]).map(i)}),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let e=0;e<n.config.plugins.length;e++){const t=n.config.plugins[e](n)||{};for(const e in t)Nk.indexOf(e)>-1?n.config[e]=Uk(t[e]).map(i).concat(n.config[e]):void 0===o[e]&&(n.config[e]=t[e])}o.altInputClass||(n.config.altInputClass=O().className+" "+n.config.altInputClass);G("onParseConfig")}(),j(),function(){if(n.input=O(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Wk(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");n._positionElement=n.config.positionElement||n._input}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;const e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&W(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:(e=n.currentMonth,t=n.currentYear)=>1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]},n.isMobile||function(){const e=window.document.createDocumentFragment();if(n.calendarContainer=Wk("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=Wk("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Wk("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Wk("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,k(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:()=>n.__hidePrevMonthArrow,set(e){n.__hidePrevMonthArrow!==e&&(zk(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:()=>n.__hideNextMonthArrow,set(e){n.__hideNextMonthArrow!==e&&(zk(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],q(),n.monthNav)),n.innerContainer=Wk("div","flatpickr-innerContainer"),n.config.weekNumbers){const{weekWrapper:e,weekNumbers:t}=function(){n.calendarContainer.classList.add("hasWeeks");const e=Wk("div","flatpickr-weekwrapper");e.appendChild(Wk("span","flatpickr-weekday",n.l10n.weekAbbreviation));const t=Wk("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}();n.innerContainer.appendChild(e),n.weekNumbers=t,n.weekWrapper=e}n.rContainer=Wk("div","flatpickr-rContainer"),n.rContainer.appendChild(x()),n.daysContainer||(n.daysContainer=Wk("div","flatpickr-days"),n.daysContainer.tabIndex=-1),_(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");const e=ox(n.config);n.timeContainer=Wk("div","flatpickr-time"),n.timeContainer.tabIndex=-1;const t=Wk("span","flatpickr-time-separator",":"),i=$k("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];const r=$k("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Bk(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=Bk(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(t),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");const t=$k("flatpickr-second");n.secondElement=t.getElementsByTagName("input")[0],n.secondElement.value=Bk(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Wk("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(t)}n.config.time_24hr||(n.amPM=Wk("span","flatpickr-am-pm",n.l10n.amPM[Vk((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());zk(n.calendarContainer,"rangeMode","range"===n.config.mode),zk(n.calendarContainer,"animate",!0===n.config.animate),zk(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);const t=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!t&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){const e=Wk("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(e,n.element),e.appendChild(n.element),n.altInput&&e.appendChild(n.altInput),e.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach(e=>{Array.prototype.forEach.call(n.element.querySelectorAll(`[data-${e}]`),t=>u(t,"click",n[e]))});if(n.isMobile)return void function(){const e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Wk("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}u(n.mobileInput,"change",e=>{n.setDate(Jk(e).value,!1,n.mobileFormatStr),G("onChange"),G("onClose")})}();const e=Hk(N,50);n._debouncedChange=Hk(l,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&u(n.daysContainer,"mouseover",e=>{"range"===n.config.mode&&F(Jk(e))});u(window.document.body,"keydown",R),n.config.inline||n.config.static||u(window,"resize",e);void 0!==window.ontouchstart?u(window.document,"touchstart",E):u(window.document,"mousedown",E);u(window.document,"focus",E,{capture:!0}),!0===n.config.clickOpens&&(u(n._input,"focus",n.open),u(n._input,"click",n.open));void 0!==n.daysContainer&&(u(n.monthNav,"click",X),u(n.monthNav,["keyup","increment"],c),u(n.daysContainer,"click",U));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){const e=e=>Jk(e).select();u(n.timeContainer,["increment"],o),u(n.timeContainer,"blur",o,{capture:!0}),u(n.timeContainer,"click",h),u([n.hourElement,n.minuteElement],["focus","click"],e),void 0!==n.secondElement&&u(n.secondElement,"focus",()=>n.secondElement&&n.secondElement.select()),void 0!==n.amPM&&u(n.amPM,"click",e=>{o(e),l()})}n.config.allowInput&&u(n._input,"blur",M)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&s(n.config.noCalendar?n.latestSelectedDateObj:void 0),Z(!1)),r();const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&a&&B(),G("onReady")}(),n}function sx(e,t){const n=Array.prototype.slice.call(e).filter(e=>e instanceof HTMLElement),i=[];for(let e=0;e<n.length;e++){const r=n[e];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=ax(r,t||{}),i.push(r._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return sx(this,e)},HTMLElement.prototype.flatpickr=function(e){return sx([this],e)});var Ax=function(e,t){return"string"==typeof e?sx(window.document.querySelectorAll(e),t):e instanceof Node?sx([e],t):sx(e,t)};Ax.defaultConfig={},Ax.l10ns={en:Object.assign({},jk),default:Object.assign({},jk)},Ax.localize=e=>{Ax.l10ns.default=Object.assign(Object.assign({},Ax.l10ns.default),e)},Ax.setDefaults=e=>{Ax.defaultConfig=Object.assign(Object.assign({},Ax.defaultConfig),e)},Ax.parseDate=tx({}),Ax.formatDate=ex({}),Ax.compareDates=nx,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return sx(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=Ax);const cx=Ax;var ux=n(799),lx=n(7821),dx=n(6741),hx=n(1844),fx=n(2805),px=n(122),gx=n(9088),vx=n(969),mx=n(6679),yx=function(e){function t(e,n){var i,r,o;(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),(0,U._)(i,"input",document.createElement("input")),(0,U._)(i,"dt",void 0),(0,U._)(i,"changeListeners",[]),(0,U._)(i,"disposable",new z.Disposable);var a,s,A,c,u,l,d,h=function(e,t,n,r){if(0!==e.length){var o=new Date(e[0].getTime());o.setMonth(n.currentMonth),o.setFullYear(n.currentYear);var a=new Date(n.formatDate(o,i.format)),s=a;"Invalid Date"===a.toString()&&(s=o),n.setDate(s,!1,i.format),i.dispatchNewValue(s)}};if(i.dt=cx(i.input,{disableMobile:!0,clickOpens:!1,allowInput:!0,enableTime:i.showHour||i.showMinute||i.showSeconds,enableSeconds:i.showSeconds,time_24hr:i.time24Hour,locale:i.resolveFlatpickrLocale(i.pdfViewer.getCurrentLanguage()),closeOnSelect:!1,onYearChange:h,onMonthChange:h,onChange:function(e,t,n){i.dispatchNewValue(e[0])}}),i.disposable.addDestroyHook(function(){i.dt.destroy()},e.addEventListener(ae.changeLanguageSuccess,function(){cx.localize(i.resolveFlatpickrLocale(i.pdfViewer.getCurrentLanguage()))})),i.showHour||i.showMinute||i.showSeconds){var f,p,g;if(!i.showHour)null===(f=i.dt.hourElement)||void 0===f||f.classList.add("fv__force-hide");if(!i.showMinute)null===(p=i.dt.minuteElement)||void 0===p||p.classList.add("fv__force-hide");if(!i.showSeconds)null===(g=i.dt.secondElement)||void 0===g||g.classList.add("fv__force-hide")}else{var v;null===(v=i.dt.timeContainer)||void 0===v||v.classList.add("fv__force-hide")}i.showYear||i.showMonth||i.showDate||(null===(a=i.dt.monthNav)||void 0===a||a.classList.add("fv__force-hide"),null===(s=i.dt.innerContainer)||void 0===s||s.classList.add("fv__force-hide"));i.time24Hour?(null===(A=i.dt.amPM)||void 0===A||A.classList.add("fv__force-hide"),null===(c=i.dt.hourElement)||void 0===c||c.setAttribute("min","0"),null===(u=i.dt.hourElement)||void 0===u||u.setAttribute("max","23")):(null===(l=i.dt.hourElement)||void 0===l||l.setAttribute("min","0"),null===(d=i.dt.hourElement)||void 0===d||d.setAttribute("max","12"));var m,y=null===(o=i.dt.timeContainer)||void 0===o||null===(r=o.querySelector(".flatpickr-second"))||void 0===r?void 0:r.parentElement;i.showSeconds||(null==y||y.classList.add("fv__force-hide"),null==y||null===(m=y.previousElementSibling)||void 0===m||m.classList.add("fv__force-hide"));return i}return(0,I._)(t,e),(0,D._)(t,[{key:"dispatchNewValue",value:function(e){this.changeListeners.slice(0).forEach(function(t){t(z.PDFDate.from(e))})}},{key:"onChange",value:function(e){var t=this;return this.changeListeners.push(e),function(){var n=t.changeListeners.indexOf(e);n>-1&&t.changeListeners.splice(n,1)}}},{key:"isOpen",value:function(){return this.dt.isOpen}},{key:"open",value:function(e){e.current&&this.dt.setDate(e.current.getDate()),this.dt.isOpen&&this.dt.close(),this.dt.redraw(),this.dt.open(void 0,e.container)}},{key:"close",value:function(){this.dt.isOpen&&this.dt.close()}},{key:"destroy",value:function(){this.disposable.destroy()}},{key:"containsElement",value:function(e){return this.dt.calendarContainer.contains(e)||e===this.dt.calendarContainer}},{key:"resolveFlatpickrLocale",value:function(e){switch(e.toLowerCase()){case"zh-cn":return ux.Mandarin;case"zh-tw":return lx.MandarinTraditional;case"en-us":return cx.l10ns.en;case"ja-jp":return dx.Japanese;case"ko-kr":return hx.Korean;case"de-de":return fx.German;case"fr-fr":return px.French;case"it-it":return gx.Italian;case"es-es":return vx.Spanish;case"nl-nl":return mx.Dutch}return cx.l10ns.en}}]),t}(Fk),_x="all-dialogs-closed",bx=function(){function e(){(0,C._)(this,e),(0,U._)(this,"openDialogCount",0),(0,U._)(this,"eventEmitter",new yo.EventEmitter)}return(0,D._)(e,[{key:"alert",value:function(e){switch(this.dialogShown(),e.type){case Ge.JSDialogButtonType.OK:return window.alert(e.message),this.dialogHidden(),Promise.resolve(Ge.JSDialogButtonID.OK);case Ge.JSDialogButtonType.OKCancel:var t=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(t?Ge.JSDialogButtonID.OK:Ge.JSDialogButtonID.Cancel);case Ge.JSDialogButtonType.YesNO:case Ge.JSDialogButtonType.YesNoCancel:var n=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(n?Ge.JSDialogButtonID.Yes:Ge.JSDialogButtonID.NO)}}},{key:"prompt",value:function(e){this.dialogShown();var t=window.prompt(e.question,e.defaultValue);return this.dialogHidden(),Promise.resolve(t||"")}},{key:"msgBox",value:function(e){switch(this.dialogShown(),e.type){case Ge.JSDialogButtonType.OK:return window.alert(e.message),this.dialogHidden(),Promise.resolve(Ge.JSDialogButtonID.OK);case Ge.JSDialogButtonType.OKCancel:var t=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(t?Ge.JSDialogButtonID.OK:Ge.JSDialogButtonID.Cancel);case Ge.JSDialogButtonType.YesNO:case Ge.JSDialogButtonType.YesNoCancel:var n=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(n?Ge.JSDialogButtonID.Yes:Ge.JSDialogButtonID.NO)}}},{key:"confirm",value:function(e){var t=window.confirm(e.question);return Promise.resolve(t?Ge.JSConfirmButtonID.OK:Ge.JSConfirmButtonID.Cancel)}},{key:"printerUI",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,!1]})})()}},{key:"dialogShown",value:function(){this.openDialogCount++}},{key:"dialogHidden",value:function(){var e=1===this.openDialogCount;this.openDialogCount=Math.max(0,this.openDialogCount-1),e&&this.eventEmitter.emit(_x)}},{key:"hasDialogOpen",value:function(){return this.openDialogCount>0}},{key:"onAllDialogClosed",value:function(e){var t=this;return this.eventEmitter.on(_x,e),function(){t.eventEmitter.off(_x,e)}}}]),e}();function wx(e,t){var n=t.reduce(function e(t,n){return t[n.item_id]=n,n.element_array.reduce(e,t)},{}),i=Array.from(e.querySelectorAll("[data-item-id]")).reduce(function(e,t){var n,i=null===(n=t.dataset)||void 0===n?void 0:n.itemId;return i&&(e[i]=t),e},{}),r={};for(var o in n){var a=n[o],s=i[o];switch(a.type){case Ge.DialogElementType.EDIT_TEXT:var A="";if((0,T._)(s,HTMLInputElement))A=s.value;else if((0,T._)(s,HTMLAreaElement)){var c,u;A=null!==(u=null!==(c=s.textContent)&&void 0!==c?c:s.value)&&void 0!==u?u:""}else A=s.innerText;r[o]={textValue:A};break;case Ge.DialogElementType.RADIO:case Ge.DialogElementType.CHECK_BOX:r[o]={textValue:s.checked?"true":"false"}}}return r}var kx=function(){function e(){(0,C._)(this,e),(0,U._)(this,"currentOptions",void 0)}return(0,D._)(e,[{key:"open",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){return t=this,this.currentOptions=e,n=(0,z.createDOM)("button",{class:"fv__js-exec-dialog-close-button"}),i=(0,z.createDOM)("dialog",{class:"fv__js-exec-dialog"},[(0,z.createDOM)("div",{class:"fv__js-exec-dialog-header"},[(0,z.createDOM)("div",{class:"fv__js-exec-dialog-title","data-i18n":"viewer_:pdfjs.windowTitle"}),n]),(0,z.createDOM)("div",{class:"fv__js-exec-dialog-body"},[(0,z.createDOM)("div",{class:"fv__js-exec-dialog-content"},[e.dialogContent]),(0,z.createDOM)("div",{class:"fv__js-exec-dialog-warning","data-i18n":"viewer_:pdfjs.windowWarning"})])]),r=function(){i.querySelectorAll("[data-i18n]").forEach(function(e){var n=e.dataset.i18n;n&&(e.innerText=t.viewer.i18n.t(n))})},this.viewer.addEventListener(ae.changeLanguageSuccess,function(){r()}),r(),i.addEventListener("close",function(){i.remove()}),o=function(e){return e.stopPropagation()},i.addEventListener("keydown",o),i.addEventListener("keyup",o),n.addEventListener("click",function(){e.onClickCancelButton()}),e.addCloseDialogEventListener(function(){i.close(),t.currentOptions=void 0}),document.body.append(i),i.showModal(),[2]})}).call(this)}},{key:"getElementsValues",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.currentOptions?[2,wx(this.currentOptions.dialogContent,this.currentOptions.config.element_array)]:[2,{}]})}).call(this)}},{key:"setElementsEnabled",value:function(e){var t,n=null===(t=this.currentOptions)||void 0===t?void 0:t.dialogContent;if(n){var i=Array.from(n.querySelectorAll("[data-item-id]")).reduce(function(e,t){var n,i=null===(n=t.dataset)||void 0===n?void 0:n.itemId;return i&&(e[i]=t),e},{});for(var r in e){var o=e[r],a=i[r];a&&(a.disabled=!o,a.classList.toggle("fv__js-exec-dialog-element-disabled",!o))}}}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}();n(3373);function xx(e){return e.reduce(function e(t,n){var i,r;return t[n.id]=n.isSeparator?"------":{name:n.label,disabled:!1===(null===(i=n.extra)||void 0===i?void 0:i.enabled),icon:(null===(r=n.extra)||void 0===r?void 0:r.checked)?"check":void 0,items:n.items.length>0?n.items.reduce(e,{}):void 0},t},{})}var Px=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"openPopupMenu",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){return n=new z.Defer,(i=(0,z.createDOM)("div",{id:(0,z.getUniqueId)(),class:"fv__js-popup-menu-container"},[])).addEventListener("click",function(){n.resolve(void 0)}),n.promise.finally(function(){O()(i).contextMenu("destroy"),i.remove()}),document.body.append(i),O().contextMenu({selector:"#"+i.id,appendTo:i,position:function(t){t.$menu.css({left:e.x,top:e.y})},trigger:"none",callback:function(e){n.resolve(e)},items:xx(t),zIndex:-1,events:{hide:function(){n.resolve(void 0)}}}),O()(i).contextMenu(),[2,n]})})()}}]),e}(),Cx=new(function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"destroy",value:function(){}}]),t}(dk)),Dx=[],Ex=function(){var e=Dk()({isIE:z.isIE}),t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}();var Sx=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"prepare",this).call(this,e);var i={},r={},o=function(t,o){if(o){var a=o.getStateName(),s=r[a];s&&s.destroy()}var A=t.getStateName(),c=i[A]||(t.getDefaultContextMenuConfig?t.getDefaultContextMenuConfig():void 0);r[A]=n.createContextMenu(A,e.$ui.get(0),c)};this.menus=r,e.eventEmitter.on(ae.switchStateHandler,o),e.eventEmitter.once(ae.renderFileSuccess,function(){setTimeout(function(){e.isDestroyed||o(e.getStateHandlerManager().currentStateHandler)},200)}),e.addDestroyHook(function(){n.menus={}})}},{key:"createContextMenu",value:function(e,t,n){if(!n||!n.items)return Cx;var i=n.items,r=this.pdfViewer.i18n;for(var o in i){var a=i[o];a.nameI18nKey&&(a.name=r.t(a.nameI18nKey));var s=(0,z.getUniqueId)(o);a.className=a.className?a.className+" "+s:s,a.uniqueClassName=s}var A=O()(t),c=new(function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"destroy",value:function(){this._destroyContextMenu()}},{key:"_destroyContextMenu",value:function(){var e=O().contextMenu.menus;Object.keys(e).forEach(function(t){var n=e[t];n.context===A[0]&&(n.$menu.remove(),delete e[t],O()(n.context).off(n.ns))})}},{key:"showAt",value:function(e,t){var n=O().Event("contextmenu",{data:{events:{preShow:function(){}}},pageX:e,pageY:t});n.target=A.find(".fv__pdf-page-annot-handler-rect")[0],A.trigger(n)}},{key:"disable",value:function(){(0,E._)((0,S._)(t.prototype),"disable",this).call(this),this._destroyContextMenu()}},{key:"enable",value:function(){(0,E._)((0,S._)(t.prototype),"enable",this).call(this),this._destroyContextMenu(),this.createRealContextmenu()}},{key:"createRealContextmenu",value:function(){var e=n.zIndex;switch(void 0===e?"undefined":(0,F._)(e)){case"number":n.zIndex=function(){return e};case"function":break;default:n.zIndex=function(){return 30}}A.contextMenu(n)}},{key:"getItem",value:function(e){if(e in i)return new Ek(e,i[e])}}]),t}(dk));return A.on("contextmenu:hide",function(){c.hiddenCallbacks.forEach(function(e){return e.call(c)})}),c.createRealContextmenu(),this.pdfViewer.addDestroyHook(function(){c.destroy()}),c}},{key:"alert",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e,window.alert(e),Promise.resolve()}},{key:"confirm",value:function(e){"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e;var t=window.confirm(e);return t?Promise.resolve(t):Promise.reject("confirm dialog has been cancelled by user!")}},{key:"prompt",value:function(e,t){"[object Object]"===Object.prototype.toString.call(t)&&(t=t.message),t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"promptPassword",value:function(e,t){t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"loading",value:function(e){var t=this;return this.renderingDOM=(0===Dx.length&&Dx.push(Ex.cloneNode(!0)),Dx.pop()),e.appendChild(this.renderingDOM),function(){t.renderingDOM.parentElement===e&&e.removeChild(t.renderingDOM),Dx.push(t.renderingDOM)}}},{key:"progress",value:function(e,t){return!this.progressTool&&(this.progressTool=new Rk(e,t,this.pdfViewer)),this.progressTool.show(t),this.progressTool}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createAnnotTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){var t=new Pk(this.pdfViewer,e);return this.pdfViewer.addDestroyHook(function(){t.destroy()}),t}},{key:"createDateTimePicker",value:function(e){return new yx(this.pdfViewer,e)}},{key:"destroy",value:function(){Object.values(this.menus).forEach(function(e){return e&&e.destroy()})}},{key:"getSignDocumentDialog",value:function(){return Promise.resolve({openWith:function(){},hide:function(){},isOpened:function(){return!1},getCurrentSignature:function(){},destroy:function(){}})}},{key:"getJSDialogUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass(bx))}},{key:"getJSDynamicDialogUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass(kx))}},{key:"getJSPopupMenuUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass(Px))}}]),t}(hk);const Ix="415e3788@hotfix/11_0_0";var Tx="pdf-viewer-keyboard-event-binder",Mx=function(){function e(){(0,C._)(this,e),this._keyCodeToStr=[],this._strToKeyCode={}}return(0,D._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||z.KeyCodes.Unknown}}]),e}(),Rx=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"toString",value:function(e){return Fx.keyCodeToStr(e)}},{key:"fromString",value:function(e){return Fx.strToKeyCode(e)}}]),e}(),Fx=new Mx,Nx=new Mx;!function(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach(function(t){Fx.define(e,t),Nx.define(e,t)})};e(z.KeyCodes.Unknown,"unknown"),e(z.KeyCodes.Backspace,"Backspace"),e(z.KeyCodes.Tab,"Tab"),e(z.KeyCodes.Enter,"Enter"),e(z.KeyCodes.Shift,"Shift"),e(z.KeyCodes.Ctrl,"Ctrl"),e(z.KeyCodes.Alt,"Alt"),e(z.KeyCodes.PauseBreak,"PauseBreak"),e(z.KeyCodes.CapsLock,"CapsLock"),e(z.KeyCodes.Escape,"Escape"),e(z.KeyCodes.Space,"Space"),e(z.KeyCodes.PageUp,"PageUp"),e(z.KeyCodes.PageDown,"PageDown"),e(z.KeyCodes.End,"End"),e(z.KeyCodes.Home,"Home"),e(z.KeyCodes.LeftArrow,"LeftArrow","Left"),e(z.KeyCodes.UpArrow,"UpArrow","Up"),e(z.KeyCodes.RightArrow,"RightArrow","Right"),e(z.KeyCodes.DownArrow,"DownArrow","Down"),e(z.KeyCodes.Insert,"Insert"),e(z.KeyCodes.Delete,"Delete"),e(z.KeyCodes.KEY_0,"0"),e(z.KeyCodes.KEY_1,"1"),e(z.KeyCodes.KEY_2,"2"),e(z.KeyCodes.KEY_3,"3"),e(z.KeyCodes.KEY_4,"4"),e(z.KeyCodes.KEY_5,"5"),e(z.KeyCodes.KEY_6,"6"),e(z.KeyCodes.KEY_7,"7"),e(z.KeyCodes.KEY_8,"8"),e(z.KeyCodes.KEY_9,"9"),e(z.KeyCodes.KEY_A,"A"),e(z.KeyCodes.KEY_B,"B"),e(z.KeyCodes.KEY_C,"C"),e(z.KeyCodes.KEY_D,"D"),e(z.KeyCodes.KEY_E,"E"),e(z.KeyCodes.KEY_F,"F"),e(z.KeyCodes.KEY_G,"G"),e(z.KeyCodes.KEY_H,"H"),e(z.KeyCodes.KEY_I,"I"),e(z.KeyCodes.KEY_J,"J"),e(z.KeyCodes.KEY_K,"K"),e(z.KeyCodes.KEY_L,"L"),e(z.KeyCodes.KEY_M,"M"),e(z.KeyCodes.KEY_N,"N"),e(z.KeyCodes.KEY_O,"O"),e(z.KeyCodes.KEY_P,"P"),e(z.KeyCodes.KEY_Q,"Q"),e(z.KeyCodes.KEY_R,"R"),e(z.KeyCodes.KEY_S,"S"),e(z.KeyCodes.KEY_T,"T"),e(z.KeyCodes.KEY_U,"U"),e(z.KeyCodes.KEY_V,"V"),e(z.KeyCodes.KEY_W,"W"),e(z.KeyCodes.KEY_X,"X"),e(z.KeyCodes.KEY_Y,"Y"),e(z.KeyCodes.KEY_Z,"Z"),e(z.KeyCodes.Meta,"Meta"),e(z.KeyCodes.ContextMenu,"ContextMenu"),e(z.KeyCodes.F1,"F1"),e(z.KeyCodes.F2,"F2"),e(z.KeyCodes.F3,"F3"),e(z.KeyCodes.F4,"F4"),e(z.KeyCodes.F5,"F5"),e(z.KeyCodes.F6,"F6"),e(z.KeyCodes.F7,"F7"),e(z.KeyCodes.F8,"F8"),e(z.KeyCodes.F9,"F9"),e(z.KeyCodes.F10,"F10"),e(z.KeyCodes.F11,"F11"),e(z.KeyCodes.F12,"F12"),e(z.KeyCodes.F13,"F13"),e(z.KeyCodes.F14,"F14"),e(z.KeyCodes.F15,"F15"),e(z.KeyCodes.F16,"F16"),e(z.KeyCodes.F17,"F17"),e(z.KeyCodes.F18,"F18"),e(z.KeyCodes.F19,"F19"),e(z.KeyCodes.NumLock,"NumLock"),e(z.KeyCodes.ScrollLock,"ScrollLock"),e(z.KeyCodes.US_SEMICOLON,";",";","OEM_1"),e(z.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),e(z.KeyCodes.US_COMMA,",",",","OEM_COMMA"),e(z.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),e(z.KeyCodes.US_DOT,".",".","OEM_PERIOD"),e(z.KeyCodes.US_SLASH,"/","/","OEM_2"),e(z.KeyCodes.US_BACKTICK,"`","`","OEM_3"),e(z.KeyCodes.ABNT_C1,"ABNT_C1"),e(z.KeyCodes.ABNT_C2,"ABNT_C2"),e(z.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),e(z.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),e(z.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),e(z.KeyCodes.US_QUOTE,"'","'","OEM_7"),e(z.KeyCodes.OEM_8,"OEM_8"),e(z.KeyCodes.OEM_102,"OEM_102"),e(z.KeyCodes.NUMPAD_0,"NumPad0"),e(z.KeyCodes.NUMPAD_1,"NumPad1"),e(z.KeyCodes.NUMPAD_2,"NumPad2"),e(z.KeyCodes.NUMPAD_3,"NumPad3"),e(z.KeyCodes.NUMPAD_4,"NumPad4"),e(z.KeyCodes.NUMPAD_5,"NumPad5"),e(z.KeyCodes.NUMPAD_6,"NumPad6"),e(z.KeyCodes.NUMPAD_7,"NumPad7"),e(z.KeyCodes.NUMPAD_8,"NumPad8"),e(z.KeyCodes.NUMPAD_9,"NumPad9"),e(z.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),e(z.KeyCodes.NUMPAD_ADD,"NumPad_Add"),e(z.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),e(z.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),e(z.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),e(z.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}();var Lx=function(){function e(t,n,i,r,o){(0,C._)(this,e),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,D._)(e,[{key:"equals",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}},{key:"isError",value:function(){return this.keyCode===z.KeyCodes.Unknown}},{key:"toString",value:function(){var e=[];return this.ctrlKey&&e.push("ctrl"),this.shiftKey&&e.push("shift"),this.altKey&&e.push("alt"),this.metaKey&&e.push("meta"),e.join("+")+"+"+Rx.toString(this.keyCode)}}]),e}(),Ox=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.command=t,this.keybinding=n,this.priority=i}return(0,D._)(e,[{key:"equals",value:function(e){return this.keybinding.equals(e.keybinding)}}]),e}(),jx=function(){function e(){(0,C._)(this,e),this._keybindingRules=[]}return(0,D._)(e,[{key:"registerKeyBindingRule",value:function(e){var t=this._keybindingRules.filter(function(t){return t.equals(e)});if(t.length>0){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.equals(e)){if(s.command===e.command)return void(s.priority=e.priority);throw new Error("shortcut conflict: ".concat(s.command," and ").concat(e.command," has the same keybindings: ").concat(e.keybinding.toString()))}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}this._keybindingRules.push(e)}},{key:"unRegisterKeyBindingRule",value:function(e){var t=this._keybindingRules.findIndex(function(t){return t.equals(e)});-1!==t&&this._keybindingRules.splice(t,1)}},{key:"getKeyBindings",value:function(e){return this._keybindingRules.filter(function(t){return t.command===e}).sort(function(e,t){return e.priority>t.priority?-1:1}).reduce(function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.equals(t))return}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e.push(t),e},[]).map(function(e){return e.keybinding})}},{key:"getCommandOfKeybinding",value:function(e){var t=this._keybindingRules.filter(function(t){return e.equals(t.keybinding)});if(t.length>0)return t[0].command}}]),e}(),Bx=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"_readModifiers",value:function(e){e=e.trim().toLowerCase();var t,n,i=!1,r=!1,o=!1,a=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(i=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(r=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(a=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0)}while(t);var s=e.indexOf(" ");return s>0?(n=e.substring(0,s),e=e.substring(s)):(n=e,e=""),{remains:e,ctrl:i,shift:r,alt:o,meta:a,key:n}}},{key:"parseKeybinding",value:function(e){var t=this._readModifiers(e),n=Rx.fromString(t.key);return new Lx(t.ctrl,t.shift,t.alt,t.meta,n)}}]),e}(),Vx=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.registry=new jx,this.name=n,this.target=t,this.priority=i,this.isActive=!0,this.nextBinders=[],this.emitter=new(_o()),this.beforeEventEmitter=new(_o())}return(0,D._)(e,[{key:"setKeyboard",value:function(e){this.keyboard=e}},{key:"registerKeybinding",value:function(e,t){var n=Bx.parseKeybinding(t);this.registry.registerKeyBindingRule(new Ox(e,n,0))}},{key:"unRegisterKeybinding",value:function(e,t){var n=Bx.parseKeybinding(t);this.registry.unRegisterKeyBindingRule(new Ox(e,n,0))}},{key:"getCommandOfKeybinding",value:function(e){return this.registry.getCommandOfKeybinding(e)}},{key:"hasKeybinding",value:function(e){return!!this.getCommandOfKeybinding(e)}},{key:"attach",value:function(e){this.nextBinders.push(e)}},{key:"before",value:function(e,t){var n=this;return this.beforeEventEmitter.on(e,t),function(){n.offBefore(e,t)}}},{key:"offBefore",value:function(e,t){this.beforeEventEmitter.off(e,t)}},{key:"on",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return r&&(n=this.before(e,function(e){("boolean"==typeof r&&r||r(e))&&e.preventDefault()})),this.emitter.on(e,t),function(){n&&n(),i.off(e,t)}}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"acceptElement",value:function(e){return e===this.target}},{key:"handleKeydownEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.beforeEventEmitter.emit(n,t),!0):this.nextBinders.some(function(n){return n.handleKeydownEvent(e,t)})}},{key:"handleEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.emit(n,t),!0):this.nextBinders.some(function(n){return n.handleEvent(e,t)})}}]),e}();function Hx(e){var t=document.createElement("img");return new Promise(function(n){t.onload=function(){n(t)},t.src=URL.createObjectURL(e)})}function Ux(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return Yx(e).then(Hx).then(function(e){return n.drawImage(e,0,0),t})}function zx(e){return Yx(e).then(Hx)}function Wx(e){return Yx(e).then(function(e){var t=new FileReader;return new Promise(function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)})})}function Yx(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise(function(e){t.toBlob(e)})}return e.image?Promise.resolve(e.image):Promise.reject(e)}window.toImage=zx;var Gx=function(){function e(t,n,i){(0,C._)(this,e),this.page=n,this.doc=n.doc,this.engine=i,this.info=t}return(0,D._)(e,[{key:"destroy",value:function(){this.page=null,this.doc=null,this.engine=null,this.info=null}},{key:"getId",value:function(){return this.info.id}},{key:"getPDFPage",value:function(){return this.page}},{key:"getBitmap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas",i=this.getPDFPage();return i.doc.api.getGraphicsObjectBitmap(i.getPDFDoc().getId(),i.getId(),this.getId(),e*(0,z.getPtPxRatio)(),t).then(function(e){if(!e.width||!e.height)return null;switch(n||"canvas"){case"canvas":return Ux(e);case"image":return zx(e);case"buffer":return Wx(e);default:throw new Error("Invalid options.type: ".concat(n))}})}},{key:"getRect",value:function(){return this.info.rect}},{key:"setRect",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();this.info.rect=e;var i=arguments[1];return n.doc.api.setGraphicsObjectRect(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e,i)})}},{key:"setMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.matrix=e,n.doc.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"getMatrix",value:function(){var e=this.info.matrix;return new nn(e.a,e.b,e.c,e.d,e.e,e.f)}},{key:"getDeviceMatrix",value:function(){var e=this.getMatrix();e.translate(0,-this.getPDFPage().getHeight());var t=(0,W.F2)(1);return e.scale(t,-t),e}},{key:"getType",value:function(){return this.info.type}},{key:"getBorderDashes",value:function(){return $x(this.getType()),this.info.graphState.dashes}},{key:"getBorderStyle",value:function(){return $x(this.getType()),this.info.graphState.dashes.length>0?1:0}},{key:"setBorderStyle",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");$x(this.getType());var i=this.getPDFPage();return this.info.graphState.dashes=t,i.doc.api.setGraphicsObjectBorderStyle(i.getPDFDoc().getId(),i.getId(),this.getId(),e,t).then(function(e){n.afterUpdated(e)})}},{key:"getBorderWidth",value:function(){return $x(this.getType()),this.info.graphState.lineWidth}},{key:"setBorderWidth",value:function(e){var t=this;if($x(this.getType()),!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.graphState.lineWidth=e,n.doc.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"getBorderColor",value:function(){return $x(this.getType()),(4278190080|this.info.strokeColor)>>>0}},{key:"setBorderColor",value:function(e){var t=this;if($x(this.getType()),!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"getFillColor",value:function(){return $x(this.getType()),(4278190080|this.info.fillColor)>>>0}},{key:"setFillColor",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");$x(this.getType());var n=this.getPDFPage();return n.doc.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"getOpacity",value:function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080}},{key:"setOpacity",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectOpacity(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"remove",value:function(){if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");return this.getPDFPage().removeGraphicsObject(this)}},{key:"moveToPosition",value:function(e,t){var n=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var i=this.getPDFPage();if(-1===Object.values(Rt).findIndex(function(t){return t==e}))throw new Error("Type error");var r=null;return e!=Rt.first&&e!=Rt.last&&(r=t.getId()),i.doc.api.moveGraphicsObjectByPosition(i.getPDFDoc().getId(),i.getId(),this.getId(),e,r).then(function(e){n.afterUpdated(e)})}},{key:"afterUpdated",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this.info;if(this.info=e,!n)return this.info;var i=this.page.getBatchProcessor(),r=function(){t.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,t.page,t)};return i.isStarted()?i.recordFlushOperation(this,r):r(),this.info}}]),e}(),$x=function(e){if(1!=e&&2!=e&&5!=e)throw new Error("only text, path object are supported")},Jx=z.LoggerFactory.getLogger("WebAppLifecycleInvoker"),qx=function(){function e(){(0,C._)(this,e),this.$hooks=[]}return(0,D._)(e,[{key:"addReleaseHook",value:function(e){var t=this;return"function"==typeof e?(this.$hooks.push(e),function(){var n=t.$hooks.indexOf(e);n>-1&&t.$hooks.splice(n,1)}):z.noop}},{key:"prepare",value:function(){}},{key:"generate",value:function(){}},{key:"release",value:function(){var e=[];this.$hooks.forEach(function(t,n){try{!1===t()&&e.push(t)}catch(e){Jx.error("An error occurred while release a resource",e)}}),this.$hooks=e}},{key:"expose",value:function(){return{}}},{key:"wrap",value:function(e,t,n){var i=Object.create(e),r=e[t];if("function"!=typeof r)throw new Error("Unable to wrap a member that is not function. Actual type: "+(void 0===r?"undefined":(0,F._)(r)));return i[t]=n(r.bind(i)),i}}],[{key:"resolveInstance",value:function(t){if("object"===(void 0===t?"undefined":(0,F._)(t))){if(t.invoke)return function(e){function n(){return(0,C._)(this,n),(0,P._)(this,n,arguments)}return(0,I._)(n,e),(0,D._)(n,[{key:"prepare",value:function(){"function"==typeof t.prepare&&t.prepare.apply(this,arguments)}},{key:"generate",value:function(){return t.invoke.apply(this,arguments)}}]),n}(e)}else if("function"==typeof t)return z.Reflect.isSubClassOf(t,e)?t:function(e){function n(){return(0,C._)(this,n),(0,P._)(this,n,arguments)}return(0,I._)(n,e),(0,D._)(n,[{key:"generate",value:function(){return t.apply(this,arguments)}}]),n}(e);throw new Error("incorrect lifecycle invoker")}}]),e}(),Kx=function(){function e(t){(0,C._)(this,e),this.parentManager=t,this.lifeCycles={},this.generators={}}return(0,D._)(e,[{key:"registerLifecycle",value:function(e){var t=this,n=e.constructor,i=n.getName();this.lifeCycles[i]=e,e.initialize();var r=n.depends();r.length>0&&r.forEach(function(n){var r=t.getLifeCycle(n);r.addReleaseHook(function(){e.release()}),r.addDestroyHook(function(){i in t.lifeCycles&&delete t.lifeCycles[i],e.destroy()})})}},{key:"registerResourceGenerator",value:function(e,t){this.generators[e]=qx.resolveInstance(t)}},{key:"getLifeCycle",value:function(e){if(e in this.lifeCycles)return this.lifeCycles[e];if(this.parentManager)return this.parentManager.getLifeCycle(e);throw new Error("Incorrect lifecycle name: ".concat(lifecycleName,", please make sure that has been registered via WebAppLifecycleManager.registerLifecycle()!"))}},{key:"getResourceGeneratorClass",value:function(e){if(e in this.generators)return this.generators[e];if(this.parentManager)return this.parentManager.getResourceGeneratorClass(e);throw new Error("Incorrect generator name: ".concat(e,", please make sure that has been registered via WebAppLifecycleManager.registerResourceGenerator(name, generator)!"))}},{key:"generator",value:function(e,t){var n,i=this.getLifeCycle(e),r=i.getResourceGenerator(t);r||(n="string"==typeof t?this.getResourceGeneratorClass(t):qx.resolveInstance(t),i.addResourceGenerator(t,n),r=i.getResourceGenerator(t));return r}},{key:"releaseAll",value:function(){Object.values(this.lifeCycles).forEach(function(e){e.release()})}},{key:"destroy",value:function(){Object.values(this.lifeCycles).forEach(function(e){e.destroy()})}}]),e}(),Zx=function(){function e(){(0,C._)(this,e),this.keyArray=[],this.valueArray=[]}return(0,D._)(e,[{key:"size",get:function(){return this.keyArray.filter(function(t){return t!==e.NONE}).length}},{key:"set",value:function(t,n){var i=this.keyArray,r=this.valueArray,o=i.indexOf(t);if(-1===o){var a=i.indexOf(e.NONE);-1!==a?o=a:(i.push(t),o=i.length-1)}i[o]=t,r[o]=n}},{key:"get",value:function(e){var t=this.keyArray;return this.valueArray[t.indexOf(e)]}},{key:"delete",value:function(t){var n=this.keyArray,i=this.valueArray,r=n.indexOf(t);r>-1&&(n[r]=e.NONE,i[r]=e.NONE)}},{key:"has",value:function(e){return this.keyArray.indexOf(e)>-1}},{key:"clear",value:function(){this.keyArray.length=0,this.valueArray.length=0}},{key:"keys",value:function(){return this.keyArray.filter(function(t){return t!==e.NONE})}},{key:"values",value:function(){return this.valueArray.filter(function(t){return t!==e.NONE})}}],[{key:"NONE",get:function(){return{}}}]),e}(),Xx=z.LoggerFactory.getLogger("WebAppLifeCycle"),Qx=function(e){function t(){var e;return(0,C._)(this,t),(e=(0,P._)(this,t)).map=new(Map||Zx),e.releaseHooks=[],e}return(0,I._)(t,e),(0,D._)(t,[{key:"release",value:function(){if(!this.isDestroyed){var e=this.map.values();if(Array.isArray(e))e.forEach(function(e){return e.release()});else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.release()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}this.releaseHooks.forEach(function(e){try{e()}catch(e){Xx.error("An error occurred while invoking release hook",e)}}),this.releaseHooks.length=0}}},{key:"getResourceGenerator",value:function(e){if(this.map.has(e))return this.map.get(e)}},{key:"addResourceGenerator",value:function(e,t){if(this.map.has(e))throw new Error("duplicate generator name is not supported now!");this.map.set(e,new t)}},{key:"initialize",value:function(){(0,z.notImplemented)()}},{key:"addReleaseHook",value:function(e){"function"==typeof e&&this.releaseHooks.push(e)}},{key:"destroy",value:function(){this.isDestroyed||(this.release(),this.map.clear(),delete this.map,(0,E._)((0,S._)(t.prototype),"destroy",this).call(this))}}],[{key:"getName",value:function(){(0,z.notImplemented)()}},{key:"depends",value:function(){return[]}}]),t}(z.Disposable),eP=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"initialize",value:function(){var e=this,t=this.pdfViewer.destroy;this.pdfViewer.destroy=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(e.pdfViewer,i).then(function(){e.release()})}}}],[{key:"getName",value:function(){return Z_.PDF_VIEWER_ALIVE}},{key:"depends",value:function(){return[Z_.BROWSER_RELOAD]}}]),t}(Qx),tP=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t)).pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"initialize",value:function(){var e=this,t=function(){e.release()};this.pdfViewer.eventEmitter.on(ae.willCloseDocument,t),this.addDestroyHook(function(){e.pdfViewer.eventEmitter.off(ae.willCloseDocument,t),delete e.pdfViewer})}}],[{key:"getName",value:function(){return Z_.PDF_DOCUMENT_CLOSING}},{key:"depends",value:function(){return[Z_.PDF_VIEWER_ALIVE,Z_.BROWSER_RELOAD]}}]),t}(Qx),nP=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"generate",value:function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);return this.addReleaseHook(function(){return t.revokeObjectURL(n),!0}),n}},{key:"expose",value:function(){return this.getWrappedURL()}},{key:"getWrappedURL",value:function(){var e=this;if(this.WrappedURL)return this.WrappedURL;var t=window.URL||window.webkitURL,n=this.wrap(t,"createObjectURL",function(){return function(t){return e.generate(t)}});return this.WrappedURL=n,n.URL=n,n}}]),t}(qx),iP=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"initialize",value:function(){}},{key:"addResourceGenerator",value:function(e,n){var i=this.map.size;(0,E._)((0,S._)(t.prototype),"addResourceGenerator",this).call(this,e,n),this.map.size>i&&this.prepareUnloadEvent()}},{key:"prepareUnloadEvent",value:function(){var e=this;if(!this.prepared)if(this.prepared=!0,"function"!=typeof window.onunload)window.onunload=function(){return e.destroy(),""};else{var t=window.onunload;window.onunload=function(n){return e.destroy(),t.call(window,n)}}}}],[{key:"getName",value:function(){return Z_.BROWSER_RELOAD}}]),t}(Qx),rP=n(6453),oP=function(){function e(t,n,i){(0,C._)(this,e),(0,U._)(this,"doc",void 0),(0,U._)(this,"field",void 0),(0,U._)(this,"info",void 0),(0,U._)(this,"widget",void 0),this.doc=t,this.field=n,this.info=i}return(0,D._)(e,[{key:"setAlignment",value:function(e){}},{key:"getAlignment",value:function(){return this.info.alignment}},{key:"getExportValue",value:function(){return this.info.exportValue}},{key:"getIndex",value:function(){return this.info.index}},{key:"getField",value:function(){return this.field}},{key:"getWidgetAnnot",value:function(){return(0,x._)(function(){var e,t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return e=this.info,t=e.widgetObjNum,n=e.pageIndex,[4,this.doc.getPageByIndex(n)];case 1:return[4,r.sent().getAnnotsByObjectNumArray([t])];case 2:return i=M._.apply(void 0,[r.sent(),1]),[2,i[0]]}})}).call(this)}}]),e}(),aP=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t),(0,U._)(i,"doc",void 0),(0,U._)(i,"info",void 0),(0,U._)(i,"fieldAPI",void 0),(0,U._)(i,"additionalActionAPI",void 0),(0,U._)(i,"eventEmitter",void 0),i.doc=e,i.info=n,i.eventEmitter=new yo.EventEmitter,i.fieldAPI=i.doc.getFormFieldAPI(),i.additionalActionAPI=i.doc.actionAPI,i.updateInfo(n),i}return(0,I._)(t,e),(0,D._)(t,[{key:"fieldName",get:function(){return this.getName()}},{key:"resQuery",get:function(){return{type:"field",fieldName:this.getName()}}},{key:"setName",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return t=this,[4,this.getWidget(0)];case 1:return n=s.sent(),[4,this.doc.getPDFForm().renameField(n.getWidgetId(),e)];case 2:return 0!==(i=s.sent())?[3,5]:(this.info.fieldName=e,o=Array.from,a={},[4,this.getWidgetsCount()]);case 3:return r=o.apply(Array,[(a.length=s.sent(),a),function(n,i){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getWidget(i)];case 1:return t.sent().info.field.fieldName=e,[2]}})}).call(t)}]),[4,Promise.all(r)];case 4:s.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.NAME,e),s.label=5;case 5:return[2,i]}})}).call(this)}},{key:"getName",value:function(){return this.info.fieldName}},{key:"getObjNumber",value:function(){return this.info.objNumber}},{key:"getControl",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.fieldAPI.getControlInfo(this.fieldName,e)];case 1:if(!(t=n.sent()))throw new Error("Could not retrieve control for this index ".concat(e,"!"));return[2,new oP(this.doc,this,t)]}})}).call(this)}},{key:"getWidget",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getControl(e)];case 1:return[2,t.sent().getWidgetAnnot()]}})}).call(this)}},{key:"getDateTimeFormat",value:function(){return this.fieldAPI.getDatetimeFormat(this.fieldName)}},{key:"getType",value:function(){return this.info.fieldType.type}},{key:"getValue",value:function(){return this.fieldAPI.getValue(this.fieldName)}},{key:"setValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fieldAPI.setValue(this.fieldName,e).then(function(i){i?n&&t.emitPropertyUpdatedEvent(br.FormFieldPropertyName.VALUE,e):z.LoggerFactory.getLogger("PDFFormField").warn("Warning: The field might be focused. Please use FormFillerEditorAPI instead.")})}},{key:"updateInfo",value:function(e){this.info=e}},{key:"getFlags",value:function(){return this.info.flags}},{key:"setFlags",value:function(e){var t=this;return this.fieldAPI.setFlag(this.fieldName,e).then(function(){t.info.flags=e,t.emitPropertyUpdatedEvent(br.FormFieldPropertyName.FLAGS,e)})}},{key:"updateFlagByOptions",value:function(e){var t=this;return this.fieldAPI.updateFlagByOptions(this.fieldName,e).then(function(e){t.info.flags=e,t.emitPropertyUpdatedEvent(br.FormFieldPropertyName.FLAGS,e)})}},{key:"describeFieldFlags",value:function(){return this.fieldAPI.getFlagOptions(this.fieldName)}},{key:"setRequired",value:function(e){return this.updateFlagByOptions({required:e})}},{key:"isRequired",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.describeFieldFlags()];case 1:return[2,e.sent().required]}})}).call(this)}},{key:"isReadonly",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.describeFieldFlags()];case 1:return[2,e.sent().readonly]}})}).call(this)}},{key:"setReadonly",value:function(e){return this.updateFlagByOptions({readonly:e})}},{key:"setTextPassword",value:function(e){return this.updateFlagByOptions({textPassword:e})}},{key:"setTextDoNotScroll",value:function(e){return this.updateFlagByOptions({textDoNotScroll:e})}},{key:"setTextNoSpellCheck",value:function(e){return this.updateFlagByOptions({textDoNotSpellCheck:e})}},{key:"setButtonRadiosInUnison",value:function(e){return this.updateFlagByOptions({buttonRadiosInUnison:e})}},{key:"setTextCombo",value:function(e){return this.updateFlagByOptions({textComb:e})}},{key:"setComboEdit",value:function(e){return this.updateFlagByOptions({comboEdit:e})}},{key:"setTextMultiline",value:function(e){return this.updateFlagByOptions({textMultiline:e})}},{key:"setChoiceMultiSelect",value:function(e){return this.updateFlagByOptions({choiceMultiSelect:e})}},{key:"setDefaultValue",value:function(e){var t=this;return this.fieldAPI.setDefaultValue(this.fieldName,e).then(function(){t.emitPropertyUpdatedEvent(br.FormFieldPropertyName.DEFAULT_VALUE,e)})}},{key:"getDefaultValue",value:function(){return this.fieldAPI.getDefaultValue(this.fieldName)}},{key:"setCheckedByDefault",value:function(e){var t=this;return this.fieldAPI.setCheckedByDefault(this.fieldName,e).then(function(){return t.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHECKED_BY_DEFAULT,e)})}},{key:"isCheckedByDefault",value:function(){return this.fieldAPI.isCheckedByDefault(this.fieldName)}},{key:"getAlternateName",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.fieldAPI.getAlternateName(this.fieldName)]})}).call(this)}},{key:"setAlternateName",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.setAlternateName(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ALTERNATE_NAME,e),[2]}})}).call(this)}},{key:"getMappingName",value:function(){return this.fieldAPI.getMappingName(this.fieldName)}},{key:"setMappingName",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.getType()===br.FieldType.Sign?[2]:[4,this.fieldAPI.setMappingName(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.MAPPING_NAME,e),[2]}})}).call(this)}},{key:"getAlignment",value:function(){return this.fieldAPI.getAlignment(this.fieldName)}},{key:"setAlignment",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.getType()===br.FieldType.Sign?[2]:[4,this.fieldAPI.setAlignment(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ALIGNMENT,e),[2]}})}).call(this)}},{key:"getOptions",value:function(){return this.fieldAPI.getChoiceOptions(this.fieldName)}},{key:"getMaxLength",value:function(){return this.fieldAPI.getMaxLength(this.fieldName)}},{key:"setMaxLength",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:if(e<0)throw new Error("Invalid maxLength: ".concat(e,", It must be greater than or equals to zero!"));return 0!==e?[3,2]:[4,this.fieldAPI.removeMaxLen(this.fieldName)];case 1:return t.sent(),[3,4];case 2:return[4,this.fieldAPI.setMaxLength(this.fieldName,e)];case 3:t.sent(),t.label=4;case 4:return this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.MAX_LENGTH,e),[2]}})}).call(this)}},{key:"getControlByIndex",value:function(e){return this.getControl(e)}},{key:"getWidgetsCount",value:function(){return this.fieldAPI.getControlCount(this.fieldName)}},{key:"setOptions",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.setChoiceOptionItems(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,e),[2]}})}).call(this)}},{key:"deleteOption",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.fieldAPI.deleteChoiceOptionItems(this.fieldName,e)];case 1:return n.sent(),[4,this.getOptions()];case 2:return t=n.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,t),[2]}})}).call(this)}},{key:"insertOption",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.fieldAPI.insertChoiceOptionItemAt(this.fieldName,e,t)];case 1:return i.sent(),[4,this.getOptions()];case 2:return n=i.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,n),[2]}})}).call(this)}},{key:"addOption",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.fieldAPI.appendChoiceOptionItem(this.fieldName,e)];case 1:return n.sent(),[4,this.getOptions()];case 2:return t=n.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,t),[2]}})}).call(this)}},{key:"getOptionsSize",value:function(){return this.fieldAPI.getOptionsSize(this.fieldName)}},{key:"updateOption",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.fieldAPI.updateChoiceOption(this.fieldName,e,t)];case 1:return i.sent(),[4,this.getOptions()];case 2:return n=i.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,n),[2]}})}).call(this)}},{key:"moveOption",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.fieldAPI.moveChoiceOption(this.fieldName,e,t)];case 1:return i.sent(),[4,this.getOptions()];case 2:return n=i.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CHOICE_OPTION_ITEMS,n),[2]}})}).call(this)}},{key:"selectOption",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.selectOption(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.SELECT_OPTION_ITEM,e),[2]}})}).call(this)}},{key:"getValidateActionInfo",value:function(){return this.fieldAPI.getValidateActionInfo(this.getName())}},{key:"setValidateAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.updateValidateAction(this.getName(),e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.VALIDATE_ACTION,null),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ACTION,null),[2]}})}).call(this)}},{key:"getFormatActionInfo",value:function(){return this.fieldAPI.getFormatActionInfo(this.getName())}},{key:"setFormatAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(e.category){case br.FormatCategory.NONE:case br.FormatCategory.CUSTOM:case br.FormatCategory.DATE:case br.FormatCategory.NUMBER:case br.FormatCategory.PERCENTAGE:case br.FormatCategory.SPECIAL:case br.FormatCategory.TIME:break;default:throw new Error("Invalid format category: ".concat(e.category))}return[2,this._setFormatAction(e)]})}).call(this)}},{key:"removeFormatAction",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this._setFormatAction({category:br.FormatCategory.NONE})]})}).call(this)}},{key:"setNumberFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setPercentageFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setDateFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setTimeFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setSpecialFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setCustomFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"_setFormatAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.updateFormatAction(this.fieldName,e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.FORMAT_ACTION,null),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ACTION,null),[2]}})}).call(this)}},{key:"getCalculateActionInfo",value:function(){return this.fieldAPI.getCalculateActionInfo(this.getName())}},{key:"setCalculateAction",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.fieldAPI.setCalculateAction(this.getName(),e)];case 1:return n.sent(),[4,this.getCalculateActionInfo()];case 2:return t=n.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.CALCULATE_ACTION,t),[2]}})}).call(this)}},{key:"getSelectionChangeActionInfo",value:function(){return this.fieldAPI.getSelectionChangeActionInfo(this.getName())}},{key:"setSelectionChangeAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.fieldAPI.updateSelectionChangeAction(this.getName(),e)];case 1:return t.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.SELECTION_CHANGE_ACTION,e),[2]}})}).call(this)}},{key:"getAdditionalAction",value:function(){var e=this;return new Ge.AdditionalAction(this.resQuery,this.additionalActionAPI,function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ACTION,null)},function(){return(0,R._)(Ge.FieldActionTriggerEventsArray)})}},{key:"setAdditionalAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.additionalActionAPI.overwriteAction(this.resQuery,e,t)];case 1:return n.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.ACTION,null),[2]}})}).call(this)}},{key:"getAdditionalActions",value:function(e){return this.getAdditionalAction().getActions(e)}},{key:"moveAdditionalAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getAdditionalAction().moveAction(e)];case 1:return t.sent(),[2]}})}).call(this)}},{key:"removeAdditionalAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.getAdditionalAction().removeAction(e,t)]})}).call(this)}},{key:"appendAdditionalAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.getAdditionalAction().addAction(e,t)];case 1:return n.sent(),[2]}})}).call(this)}},{key:"emitPropertyUpdatedEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.doc,r=this.getName();this.eventEmitter.emit("change",{field:this,propertyName:e,newValue:t,oldValue:n}),i.engine.eventEmitter.emit(oe.Z.formFieldPropertyUpdated,{doc:i,fieldName:r,propertyName:e,newValue:t,oldValue:n})}},{key:"onPropertyChange",value:function(e){var t=this,n=function(t){return e(t)};return this.eventEmitter.on("change",n),function(){t.eventEmitter.off("change",n)}}},{key:"getExtType",value:function(){return this.info.fieldType}},{key:"canEditText",value:function(){return(0,x._)(function(){var e,t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return e=this.getType()===br.FieldType.Text,t=this.getType()===br.FieldType.ComboBox,[4,this.describeFieldFlags()];case 1:return n=o.sent(),i=n.readonly,r=n.comboEdit,i?[2,!1]:[2,e||t&&r]}})}).call(this)}}]),t}(z.Disposable);function sP(e){var t=new FileReader;return new Promise(function(n,i){t.onload=function(){n(t.result)},t.onerror=i,t.readAsDataURL(e)})}function AP(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new Blob([o],{type:n})}function cP(e){var t=new FileReader;return new Promise(function(n,i){t.onload=function(){n(t.result)},t.onerror=i,t.readAsArrayBuffer(e)})}var uP=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),(0,U._)(i,"doc",void 0),(0,U._)(i,"fieldInfo",void 0),(0,U._)(i,"signatureAPI",void 0),(0,U._)(i,"verificationData",void 0),(0,U._)(i,"verifiedResult",void 0),(0,U._)(i,"signatureService",void 0),(0,U._)(i,"isXFAField",void 0),(0,U._)(i,"isFormField",void 0),i.doc=e,i.fieldInfo=n,i.isXFAField=!1,i.isFormField=!0,i.signatureAPI=e.signatureAPI,i.signatureService=e.signatureService,i}return(0,I._)(t,e),(0,D._)(t,[{key:"getVerificationData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.verificationData&&!e?[3,2]:(t=this,[4,this.signatureAPI.getVerificationData(this.getName())]);case 1:t.verificationData=n.sent(),n.label=2;case 2:return[2,this.verificationData]}})}).call(this)}},{key:"getVerifyParams",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return[4,this.isSigned()];case 1:return A.sent()?[4,this.getVerificationData()]:[2];case 2:return e=A.sent(),t=e.isByteRangeError,n=e.plainContent,i=e.signedData,r=e.hasDataOutOfScope,[4,this.getFilter()];case 3:return o=A.sent(),[4,this.getSubfilter()];case 4:return a=A.sent(),[4,this.getSigner()];case 5:return s=A.sent(),[2,{filter:o,subfilter:a,signer:s,isByteRangeError:t,plainContent:n,signedData:i,hasDataOutOfScope:r}]}})}).call(this)}},{key:"verify",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l,d,h,f,p,g=arguments;return(0,N.Jh)(this,function(v){switch(v.label){case 0:if(t="boolean"==typeof(e=g.length>0&&void 0!==g[0]?g[0]:{})?{force:e,handler:void 0}:(0,w._)({force:!1},e),n=t.force,(i=t.handler)||(i=this.signatureService.verifyHandler),r=e.verificationData,!i)throw new Error("Cannot verify a signature field [".concat(this.getName(),"] because the verification handler is not specified!"));return n||void 0===this.verifiedResult?[4,this.isSigned()]:[2,this.verifiedResult];case 1:if(!v.sent())throw new Error("Cannot verify an unsigned signature field [".concat(this.getName(),"]"));v.label=2;case 2:return v.trys.push([2,9,,10]),null==r?[3,3]:(u=r,[3,5]);case 3:return[4,this.getVerificationData()];case 4:u=v.sent(),v.label=5;case 5:return a=(o=u).isByteRangeError,s=o.plainContent,A=o.signedData,c=o.hasDataOutOfScope,!a&&s&&A?(d=[this],h=Uint8Array.bind,[4,cP(s)]):[2,_t.verifyErrorByteRange];case 6:return d=d.concat([new(h.apply(Uint8Array,[void 0,v.sent()]))]),f=Uint8Array.bind,[4,cP(A)];case 7:return[4,i.apply(void 0,d.concat([new(f.apply(Uint8Array,[void 0,v.sent()])),c]))];case 8:return l=1024&(l=v.sent())?4:8,c&&(l|=4&l?134217728:268435456),this.verifiedResult=l,[2,l];case 9:if("number"==typeof(p=v.sent()))return[2,p];throw p;case 10:return[2]}})}).apply(this,arguments)}},{key:"_getDigitalSignatureInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.doc.engine.ensureSideModeLoaded().then(function(i){return e.doc.api.getDigitalSignatureInfo(e.doc.id,e.fieldName,t,n)})}},{key:"getDigitalSignatureInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(i,r){return(0,x._)(function(){var e,r,o,a,s,A,c,u,l,d,h,f,p,g;return(0,N.Jh)(this,function(v){switch(v.label){case 0:return this.isDestroyed?(i({}),[2]):(e={},r={certificateInfo:{subjectChain:[]}},o=this.fieldName,[4,this.signatureAPI.getSignatureInfo(this.fieldName)]);case 1:if(a=v.sent(),s=a.isSigned,A=a.signer,c=A,!s)return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this._getDigitalSignatureInfo(t,n)];case 3:return r=v.sent(),u=r.certificateInfo,l=u.subjectChain,A=(A=(l[l.length-1]||{}).subjectName||"")||c,[3,5];case 4:return d=v.sent(),r={},console.error(d),[3,5];case 5:return h={name:o,isSigned:s,isVisible:a.isVisible},s&&(f={originalSigner:c,signer:A,location},h=(0,w._)({},h,f)),[4,this.getWidget(0)];case 6:return p=v.sent(),g={pageIndex:p?p.getPage().getIndex():0,top:p?p.info.rect.top:0,widgetId:p?p.id:void 0},e=(0,w._)({},h,r,g,a),i(e),[2]}})}).call(e)})}},{key:"Verify",value:function(e){var t=this;return this.doc.engine.ensureSideModeLoaded().then(function(n){return t.doc.api.VerifySignature(t.doc.id,t.fieldName,e)})}},{key:"getSignInfo",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getSignatureInfo(this.getName())]})}).call(this)}},{key:"getImage",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return[4,this.signatureAPI.getSignatureBitmap(this.getName())];case 1:return(e=s.sent())?(t=e.width,n=e.height,i=e.buffer,(r=document.createElement("canvas")).width=t,r.height=n,o=r.getContext("2d"),(a=o.createImageData(t,n)).data.set(new(Uint8ClampedArray||Uint8Array)(i)),o.putImageData(a,0,0),[2,new Promise(function(e){r.toBlob(function(t){e(t||void 0)},"image/png")})]):[2]}})}).call(this)}},{key:"isLast",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.isLast(this.getName())]})}).call(this)}},{key:"getSigner",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getSigner(this.getName()).then(function(e){return null!=e?e:""})]})}).call(this)}},{key:"getSubfilter",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getSubFilter(this.getName())]})}).call(this)}},{key:"getFilter",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getFilter(this.getName())]})}).call(this)}},{key:"getByteRange",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getByteRange(this.getName())]})}).call(this)}},{key:"isSigned",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.isSigned(this.getName())]})}).call(this)}},{key:"getMDPAction",value:function(){return this.signatureAPI.getMDPAction(this.fieldName)}},{key:"setMDPAction",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:if(!(0,br.isValidMDPActionType)(e.type))throw new Error("Invalid MDP action type: ".concat(e.type));return[4,this.getMDPAction()];case 1:return t=n.sent(),[4,this.signatureAPI.setMDPAction(this.fieldName,e)];case 2:return n.sent(),this.emitPropertyUpdatedEvent(br.FormFieldPropertyName.SIGNATURE_MDP_ACTION,e,t),[2]}})}).call(this)}},{key:"getSignatureType",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getSignatureType(this.getName())]})}).call(this)}},{key:"getPagingSealConfig",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.signatureAPI.getPagingSealConfig(this.getName())]})}).call(this)}}]),t}(aP),lP=z.LoggerFactory.getLogger("engine/PDFForm"),dP=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"doc",void 0),(0,U._)(n,"creator",void 0),(0,U._)(n,"fields",void 0),n.doc=e,n.fields=new Set,n.addDestroyHook(function(){n.fields.clear()}),n.formAPI.init({fileName:e.getFileName()}),n.creator=n.doc.widgetCreator,n}return(0,I._)(t,e),(0,D._)(t,[{key:"formAPI",get:function(){return this.doc.formAPI}},{key:"setDefaultFieldNameGenerator",value:function(e){this.creator.setDefaultFieldTypeNameGenerator(e)}},{key:"getFields",value:function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return e=this,[4,this.formAPI.getFields()];case 1:return t=n.sent(),[4,Promise.all(t.map(function(t){return e.getField(t.name)}))];case 2:return[2,n.sent().filter(Boolean)]}})}).call(this)}},{key:"getFieldsCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.formAPI.getFieldsCount(e)}},{key:"getField",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.doc.formAPI.getFieldInfo(e)];case 1:return(t=n.sent())?[2,this.getOrCreateField(e,t)]:[2,void 0]}})}).call(this)}},{key:"getFieldsByNamePrefix",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return t=this,[4,this.formAPI.getFieldNamesByPrefix(e)];case 1:return n=i.sent(),[4,Promise.all(n.map(function(e){return t.getField(e)}))];case 2:return[2,i.sent().filter(Boolean)]}})}).call(this)}},{key:"fixPageFields",value:function(e){return this.formAPI.fixPageFields(e)}},{key:"getOrCreateField",value:function(e,t){if(t)return t.fieldType.type===br.FieldType.Sign?new uP(this.doc,t):new aP(this.doc,t)}},{key:"getFieldAtPosition",value:function(e,t,n){return(0,x._)(function(){var i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:if(e<0||e>=this.doc.getPageCount())throw new Error("Invalid page index: ".concat(e));return[4,this.doc.formAPI.getFieldAtPosition(e,t,n)];case 1:return(i=r.sent())?[2,this.getField(i)]:[2]}})}).call(this)}},{key:"enableCalculate",value:function(e){return this.doc.formAPI.enableCalculate(e)}},{key:"getFieldsInCalculationOrder",value:function(){return this.doc.formAPI.getFieldsInCalculationOrder()}},{key:"hasFieldsInCalculationOrder",value:function(){return this.doc.formAPI.hasFieldsInCalculationOrder()}},{key:"setFieldsInCalculationOrder",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.doc.formAPI.setFieldsInCalculationOrder(e)];case 1:return t.sent(),this.emitEvents(oe.Z.calculationOrderUpdated,e),[2]}})}).call(this)}},{key:"resetForm",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:n=this,i.label=1;case 1:return i.trys.push([1,3,,4]),this.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",0,Tk.PROGRESSING),[4,this.doc.formAPI.resetFieldsValue(e,t,function(e){var t=function(){switch(e){case-1:return Tk.FAIL;case 100:return Tk.SUCCESS;default:return Tk.PROGRESSING}}();return n.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",e,t),n.doc.engine.eventEmitter.emit(oe.Z.formReset),Promise.resolve()})];case 2:return i.sent(),[3,4];case 3:return i.sent(),this.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",0,Tk.FAIL),[3,4];case 4:return[2]}})}).call(this)}},{key:"submitForm",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){return t=e.actionData,n=e.requester,i=void 0===n?this._submitFormRequester.bind(this):n,r=(0,Ge.describeActionFlags)(t.flags),o=r.exclude,a=r.format,s=r.includeNoValueFields,A=r.includeAnnots,c={fieldNames:t.fieldNames,destination:t.address,format:a,config:{includeOrExcludeFields:!o,includeNoValueFields:s,includeAnnots:A}},[2,this.submitFormByParams(c,i,{query:e.owner,trigger:e.trigger})]})}).call(this)}},{key:"submitFormByParams",value:function(e,t){return(0,x._)(function(e){var t,n,i,r,o,a=arguments;return(0,N.Jh)(this,function(s){switch(s.label){case 0:t=this,n=a.length>1&&void 0!==a[1]?a[1]:this._submitFormRequester.bind(this),i=a.length>2?a[2]:void 0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.formAPI.submitForm({params:e,fetcher:function(e,i){return n(t.doc,e,i)},progress:function(){t.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Tk.PROGRESSING)},triggerInfo:i})];case 2:return r=s.sent(),this.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Tk.SUCCESS),[2,r];case 3:throw o=s.sent(),this.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Tk.FAIL),o;case 4:return[2]}})}).apply(this,arguments)}},{key:"_submitFormRequester",value:function(e,t,n){return(0,x._)(function(){var e,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:if(e=t.destination,e.match(/^(mailto:|ftp:|file:)/i))throw lP.warn("Unsupported submit form destination: ".concat(t.destination,", if you need to support such destinations, please provide application layer custom implementation through the PDFForm.setDefaultSubmitFormFetcher method")),br.SUBMIT_FORMAT_UNSUPPORTED_DESTINATION_ERROR;return i=t.format,r=t.config.isGetMethod,"html"!==i?[3,2]:[4,n.text()];case 1:o=a.sent(),e+="?"+o,a.label=2;case 2:return[4,fetch(e,{method:r?"GET":"POST",body:n})];case 3:return[2,a.sent().text()]}})})()}},{key:"setDefaultSubmitFormRequester",value:function(e){this._submitFormRequester=e}},{key:"emitEvents",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.doc.engine.eventEmitter).emit.apply(r,[e].concat((0,R._)(n)))}},{key:"addTooltipsForAllFormFields",value:function(){return this.formAPI.addTooltipsForAllFormFields()}},{key:"getWidgetAtPoint",value:function(e,t,n){return(0,x._)(function(){var i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.formAPI.getWidgetIdAtPoint(e,t,n)];case 1:return(i=r.sent())?[4,this.doc.query({type:"annot",annotId:i})]:[2];case 2:return[2,r.sent()]}})}).call(this)}},{key:"duplicateField",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return n=this,(i=e.getField())?[4,i.getWidgetsCount()]:[2,Promise.reject(new Error("Field not found."))];case 1:return(r=c.sent())>1?[2,Promise.reject(new Error("This field already has ".concat(r," copies. Only one copy is allowed.")))]:t.length<1?[2,Promise.resolve([])]:(o=t.shift(),a=e.getPage(),[4,e.setRect(o)]);case 2:return c.sent(),t.length<1?[2,Promise.resolve([])]:[4,this.doc.formAPI.duplicateField({objNumber:e.getObjectNumber(),pageIndex:a.getIndex()},t)];case 3:return s=c.sent(),[4,a.getUnloadedAnnots()];case 4:return c.sent(),[4,Promise.all(s.map(function(e){return n.doc.query({type:"annot",annotId:e})}))];case 5:return A=c.sent(),this.emitEvents(oe.Z.annotationAdd,A,A[0].getPage()),[2,A]}})}).call(this)}},{key:"duplicateWidget",value:function(e,t){return(0,x._)(function(){var n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return n=this,t.length<1?[2,Promise.resolve([])]:(i=this.doc.getPageCount(),t.forEach(function(e){if(e<0||e>=i)throw new Error("Invalid page index: ".concat(e,", page count: ").concat(i))}),r=e.getPage(),[4,this.doc.formAPI.duplicateWidget({objNumber:e.getObjectNumber(),pageIndex:r.getIndex()},t)]);case 1:return o=a.sent(),[4,Promise.all(o.map(function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.doc.getPageByIndex(e.pageIndex)];case 1:return[4,t.sent().getUnloadedAnnots()];case 2:return t.sent(),[2,this.doc.query({type:"annot",annotId:e})]}})}).call(n)}))];case 2:return a.sent().filter(Boolean).forEach(function(e){n.doc.engine.eventEmitter.emit(oe.Z.annotationAdd,[e],e.getPage())}),[2,o]}})}).call(this)}},{key:"exportToFile",value:function(e){return(0,x._)(function(e){var t,n=arguments;return(0,N.Jh)(this,function(i){switch(t=n.length>1&&void 0!==n[1]?n[1]:{},e){case z.FileFormat.xfdf:return[2,this.formAPI.exportToXFDF(t)];case z.FileFormat.fdf:return[2,this.formAPI.exportToFDF(t)];case z.FileFormat.csv:return[2,this.formAPI.exportToCSV(t)];case z.FileFormat.json:return[2,this.formAPI.exportToJSON(t)];case z.FileFormat.text:return[2,this.formAPI.exportToTxt(t)];case z.FileFormat.xml:return[2,this.formAPI.exportToXML(t)];default:throw new Error("Invalid file format: ".concat(e,", only supported formats are 'xfdf', 'fdf', 'csv', 'json', 'text' and 'xml'."))}return[2]})}).apply(this,arguments)}},{key:"importFromFile",value:function(e,t,n){var i,r=this;switch(t){case z.FileFormat.xfdf:i=this.importFromXFDF(e,n);break;case z.FileFormat.fdf:i=this.importFromFDF(e,n);break;case z.FileFormat.csv:i=this.importFromCSV(e,n);break;case z.FileFormat.json:i=this.importFromJSON(e,n);break;case z.FileFormat.text:i=this.importFromText(e,n);break;case z.FileFormat.xml:i=this.importFromXML(e,n);break;default:throw new Error("Invalid file format: ".concat(t,", only supported formats are 'xfdf', 'fdf', 'csv', 'json', 'text' and 'xml'."))}return i&&i.then(function(){r.doc.engine.eventEmitter.emit(oe.Z.formImported)})}},{key:"importFromCSV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delimiter:","},n=new Blob([e],{type:"text/csv"});return this.formAPI.importFromCSV(n,t)}},{key:"importFromText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delimiter:"\n"},n=new Blob([e],{type:"text/csv"});return this.formAPI.importFromTXT(n,(0,k._)((0,w._)({},t),{delimiter:t.delimiter||"\n"}))}},{key:"importFromFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"application/vnd.fdf"});return this.formAPI.importFromFDF(n,t)}},{key:"importFromXFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"application/vnd.xfdf"});return this.formAPI.importFromXFDF(n,t)}},{key:"importFromXML",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"text/xml"});return this.formAPI.importFromXML(n,t)}},{key:"importFromJSON",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Array.isArray(e)?new Blob([JSON.stringify(e)],{type:"application/json"}):new Blob([e],{type:"application/json"}),this.formAPI.importFromJSON(t,n)}},{key:"internalCopyWidgets",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){if(!this.doc.checkPermission(Xt.modify)||!this.doc.checkPermission(Xt.annotForm)||!this.doc.checkPermission(Xt.fillForm))throw new Error("Permission error");return[2,this.doc.formAPI.copyControls(e,t)]})}).call(this)}},{key:"cloneWidgets",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l;return(0,N.Jh)(this,function(d){switch(d.label){case 0:return t=this,Array.isArray(e)||(e=[e]),[4,this.doc.formAPI.cloneWidgets(e)];case 1:return n=d.sent(),[4,Promise.all(Array.from(new Set(n.map(function(e){return e.pageIndex}))).map(function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.doc.getPageByIndex(e)];case 1:return[2,t.sent().getUnloadedAnnots()]}})}).call(t)}))];case 2:d.sent(),i=this.doc.engine.eventEmitter,r=!0,o=!1,a=void 0,d.label=3;case 3:d.trys.push([3,8,9,10]),s=n[Symbol.iterator](),d.label=4;case 4:return(r=(A=s.next()).done)?[3,7]:(c=A.value,[4,this.doc.query({type:"annot",annotId:c})]);case 5:u=d.sent(),i.emit(oe.Z.annotationAdd,[u],u.getPage()),d.label=6;case 6:return r=!0,[3,4];case 7:return[3,10];case 8:return l=d.sent(),o=!0,a=l,[3,10];case 9:try{r||null==s.return||s.return()}finally{if(o)throw a}return[7];case 10:return[2,n]}})}).call(this)}},{key:"setHighlight",value:function(e){return this.formAPI.highlightFormFields(e)}},{key:"isHighlight",value:function(){return this.formAPI.isHighlight()}},{key:"setHighlightColor",value:function(e){return this.formAPI.setHighlightColor(e)}},{key:"getHighlightColor",value:function(){return this.formAPI.getHighlightColor()}},{key:"setRequiredColor",value:function(e){return this.formAPI.setRequiredColor(e)}},{key:"getRequiredColor",value:function(){return this.formAPI.getRequiredColor()}},{key:"onHighlightChanged",value:function(e){var t=this.formAPI.onHighlightChanged(e);return function(){t.then(function(e){e()})}}},{key:"createPushButton",value:function(e){return this.creator.createPushButton(e)}},{key:"createImageButton",value:function(e){var t;return this.creator.createPushButton((0,k._)((0,w._)({},e),{extra:{imagePath:e.imagePath},actions:[{trigger:Ge.ActionTriggerEvents.ANNOT_MOUSE_BUTTON_RELEASED,action:{type:br.ActionType.javaScript,data:{javascript:"event.target.buttonImportIcon()"}}}].concat(null!==(t=e.actions)&&void 0!==t?t:[])}),!0)}},{key:"createTextField",value:function(e){return this.creator.createTextField(e)}},{key:"createDatetime",value:function(e){var t;return e.timeformat||(e.timeformat="m/d/yyyy"),this.creator.createTextField((0,k._)((0,w._)({},e),{actions:[{trigger:Ge.ActionTriggerEvents.FIELD_WILL_FORMAT,action:{type:br.ActionType.javaScript,data:{javascript:'AFDate_FormatEx("'.concat(e.timeformat,'")')}}},{trigger:Ge.ActionTriggerEvents.FIELD_KEY_STROKE,action:{type:br.ActionType.javaScript,data:{javascript:'AFDate_KeystrokeEx("'.concat(e.timeformat,'")')}}}].concat(null!==(t=e.actions)&&void 0!==t?t:[])}),!0)}},{key:"createCheckbox",value:function(e){return this.creator.createCheckBox(e)}},{key:"createRadioButton",value:function(e){return this.creator.createRadioButton(e)}},{key:"createComboBox",value:function(e){return this.creator.createComboBox(e)}},{key:"createListBox",value:function(e){return this.creator.createListBox(e)}},{key:"createSignature",value:function(e){return this.creator.createSignature(e)}},{key:"renameField",value:function(e,t){return(0,x._)(function(){var n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return[4,this.doc.query({type:"annot",annotId:e})];case 1:return(n=a.sent())&&(i=n.getField())?(r=i.getName(),[4,i.getWidgetsCount()]):[2,-2];case 2:return a.sent(),[4,this.formAPI.renameField(e,r,t)];case 3:return 0===(o=a.sent())&&(n.info.field.fieldName=t,this.doc.engine.eventEmitter.emit(oe.Z.formFieldRenamed,{doc:this.doc,widgetId:e,oldName:r,newName:t})),[2,o]}})}).call(this)}},{key:"addSignatureBatch",value:function(e,t){return(0,x._)(function(){var n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:if(n=this,!Array.isArray(e)||0===e.length)return[2,[]];if("string"!=typeof t&&0!==t&&1!==t)throw new Error("Invalid shareVDictType: "+t);return[4,this.formAPI.createSignatureBatch(e,t)];case 1:return i=a.sent(),r=Array.from(new Set(i.map(function(e){return e.pageIndex}))),[4,Promise.all(r.map(function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.doc.getPageByIndex(e)];case 1:return[2,t.sent().getUnloadedAnnots()]}})}).call(n)}))];case 2:return a.sent(),[4,Promise.all(i.map(function(e){return n.doc.query({type:"annot",annotId:e})}))];case 3:return o=a.sent(),this.doc.engine.eventEmitter.emit(oe.Z.annotationAdd,o,this.doc),[2,o.map(function(e){return e.getField()})]}})}).call(this)}},{key:"isEmpty",value:function(){return!this.getFieldsCount()}}]),t}(z.Disposable),hP=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.id=(0,z.getUniqueId)("doc_text_search"),this.pattern=n,this.flags=i,this.doc=t,this.api=t.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=t.getPageCount()-1,this.annotTextSearchArr=[],this.currentAnnotTextSearch=null,t.docTextSearchIdMap[this.id]=this}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){var e=this;this.startPrev=!1;var t=null;return this.getCurrentPageTextSearch().then(function(e){return t=e,e.findNext()}).then(function(n){if(n)return n;if((0,T._)(t,wr)){var i=e.annotTextSearchArr.findIndex(function(t){return t.id==e.currentAnnotTextSearch.id});return i>-1?i==e.annotTextSearchArr.length-1?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i+1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNext()}return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findNext()):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)})}},{key:"findNexts",value:function(){return this.startPrev=!1,this.findNexts_New()}},{key:"iterationPageFindNext",value:function(e,t,n){var i=this;e.findNext().then(function(r){if(!r)return n(t);t.push(r),i.iterationPageFindNext(e,t,n)})}},{key:"findPrev",value:function(){var e=this;this.startPrev=!0;var t=null;return this.getCurrentPageTextSearch().then(function(e){return t=e,e.findPrev()}).then(function(n){if(n)return n;if((0,T._)(t,wr)){var i=e.annotTextSearchArr.findIndex(function(t){return t.id==e.currentAnnotTextSearch.id});return i>-1?0==i?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i-1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findPrev()}return e.currentPageIndex>e.startPageIndex?(e.currentPageIndex--,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findPrev()):(e.currentPageIndex=e.endPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)})}},{key:"getCurrentPageTextSearch",value:function(){var e=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then(function(t){return e.currentAnnotTextSearch?Promise.resolve(e.currentAnnotTextSearch):e.startPageTextSearch?t.getTextSearch(e.pattern,e.flags):t.getAnnots().then(function(n){var i=[];return n.forEach(function(t){"widget"==t.getType()&&i.push(t.getTextSearch(e.pattern,e.flags))}),i.length?Promise.all(i).then(function(t){return e.annotTextSearchArr=t,e.currentAnnotTextSearch=e.startPrev?t[t.length-1]:t[0],Promise.resolve(e.currentAnnotTextSearch)}):t.getTextSearch(e.pattern,e.flags)})}).then(function(t){return e.currentPageTextSearch=t,e.currentPageTextSearchPromise=null,t})}},{key:"setStartPageIndex",value:function(e){this.startPageIndex=e}},{key:"setCurrentPageIndex",value:function(e){e<this.startPageIndex&&(e=this.startPageIndex),e>this.endPageIndex&&(e=this.endPageIndex),this.currentPageIndex!==e&&this.destroy(),this.currentPageIndex=e}},{key:"setEndPageIndex",value:function(e){this.endPageIndex=e}},{key:"destroy",value:function(){var e=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then(function(t){t.destroy(),e.currentPageTextSearch=null}),this.doc.docTextSearchIdMap[this.id]=null,this.currentPageTextSearchPromise=null}},{key:"findNexts_New",value:function(){var e=this,t={startPageIndex:this.startPageIndex,endPageIndex:this.endPageIndex,currentPageIndex:this.currentPageIndex,pattern:this.pattern,flags:this.flags};return this.api.findNextPageText({path:"jr/doc"},this.doc.getId(),t).then(function(t){return e.currentPageIndex=t.currentPageIndex,{hasMore:t.hasMore,list:t.list.map(function(e){return new or(e)})}})}}]),e}();const fP={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"};var pP=function(){function e(t){(0,C._)(this,e),t?(this.json=t,this.empty=!1):(this.json={contentFormats:{},margin:{left:72,right:36,top:72,bottom:36},textSize:12,textColor:4278190080,hasTextShrinked:!1,hasFixedSized:!1,startPageNumber:1,underline:!1},this.empty=!0)}return(0,D._)(e,[{key:"destroy",value:function(){this.json=null}},{key:"isEmpty",value:function(){return this.empty}},{key:"getContent",value:function(e){return this.json.contentFormats[e]||this.json.contents[e]}},{key:"setFont",value:function(e){this.json.fontId=e,this.json.font=e}},{key:"setContentFormat",value:function(e,t){this.empty=!1,this.json.contentFormats[e]=t}},{key:"setRange",value:function(e){if(e.start<1||e.end<1)throw new Error("page range is wrong.");if(e.filter<0||e.filter>2)throw new Error("Wrong filter.");this.json.range=e}},{key:"setMargin",value:function(e){this.json.margin=e}},{key:"setTextSize",value:function(e){this.json.textSize=e}},{key:"setTextColor",value:function(e){this.json.textColor=e}},{key:"enableTextShrinked",value:function(e){this.json.hasTextShrinked=e}},{key:"enableFixedSizedForPrint",value:function(e){this.json.hasFixedSized=e}},{key:"setStartDisplayingPage",value:function(e){this.json.startPageNumber=e}},{key:"setUnderline",value:function(e){this.json.underline=e}},{key:"getUnderline",value:function(){return this.json.underline}}]),e}(),gP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C._)(this,e),this.fileSpec=t}return(0,D._)(e,[{key:"setFileName",value:function(e){this._assetEmptyStringValue("fileName",e),this.fileSpec.fileName=e}},{key:"getChecksum",value:function(){return this.fileSpec.checksum}},{key:"getCreationDateTime",value:function(){return this.fileSpec.creationDateTime}},{key:"getDescription",value:function(){return this.fileSpec.description}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.fileName}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}},{key:"_assetEmptyStringValue",value:function(e,t){if("string"!=typeof t||0==t.length)throw new Error("[Illegal Argument] Invalid ".concat(e,": ").concat(e," is required."))}}]),e}(),vP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.launch]),(0,Bm._)(s)):((s=(0,P._)(this,t,[e,n,i,r,o,a])).fileSpec=s.info.fileSpec&&new gP(s.info.fileSpec)||null,s)}return(0,I._)(t,e),(0,D._)(t,[{key:"setFileSpec",value:function(e){var t=this;return this.fileSpec=e,this.info.fileSpec=e.fileSpec,this.doc?this.doc.api.setFileSpec({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.fileSpec).then(function(e){return t.updateAction(e)}):Promise.resolve()}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new gP(e.fileSpec)||null,(0,E._)((0,S._)(t.prototype),"updateAction",this).call(this,e)}}]),t}(Vm);const mP=vP;var yP=function(e){function t(e,n,i,r,o,a){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i,r,o,a])}return(0,I._)(t,e),(0,D._)(t,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),t}(Vm);const _P=yP;var bP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.javaScript]),(0,Bm._)(s)):((s=(0,P._)(this,t,[e,n,i,r,o,a])).info.script&&(s.info.javascript=s.info.script),s)}return(0,I._)(t,e),(0,D._)(t,[{key:"getScript",value:function(){return this.info.javascript}},{key:"checkOutData",value:function(e){return e&&e.javascript}},{key:"setScript",value:function(e){var t=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e}):(this.info.javascript=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJson",this).call(this);return Object.assign(e,{script:this.getScript()})}}]),t}(Vm);const wP=bP;var kP=n(1540),xP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),s=e?(0,P._)(this,t,[e,n,i,r,o,a]):(0,P._)(this,t,[nt.submitForm]),(0,kP._)(s)}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getURL",value:function(){return this.info.url}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.url}},{key:"setData",value:function(e,t,n){this.info.flags=e,this.info.url=t,this.info.fieldNames=n}}]),t}(Vm);const PP=xP;var CP=function(e){function t(){var e;if((0,C._)(this,t),0==arguments.length)return e=(0,P._)(this,t,[nt.resetForm]),(0,Bm._)(e);var n=(0,M._)(arguments,6),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],A=n[5];return(0,P._)(this,t,[i,r,o,a,s,A])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e}):(this.info.fieldNames=e,Promise.resolve())}},{key:"setFlags",value:function(e){var t=this;if(!this.doc)return this.info.flags=e,Promise.resolve();if(0!==e&&1!==e)throw new Error("param error. Only 0 or 1 is available.");return this.doc.api.setActionFlags(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e})}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),flags:this.getFlags()})}}]),t}(Vm);const DP=CP;var EP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.importData]),(0,Bm._)(s)):((s=(0,P._)(this,t,[e,n,i,r,o,a])).fileSpec=s.info.fileSpec&&new gP(s.info.fileSpec)||null,s)}return(0,I._)(t,e),(0,D._)(t,[{key:"setFileSpec",value:function(e){this.fileSpec=e,this.info.fileSpec=e.fileSpec}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new gP(e.fileSpec)||null,(0,E._)((0,S._)(t.prototype),"updateAction",this).call(this,e)}}]),t}(Vm);const SP=EP;var IP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.hide]),(0,Bm._)(s)):(0,P._)(this,t,[e,n,i,r,o,a])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"getHideState",value:function(){return this.info.hideState}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e}):(this.info.fieldNames=e,Promise.resolve())}},{key:"setHideState",value:function(e){var t=this;return this.doc?this.doc.api.setActionHideState(this.doc.getId(),this.info.objNumber,e).then(function(e){return t.updateAction(e),e}):(this.info.hideState=e,Promise.resolve())}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.hideState}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),hideState:this.getHideState()})}}]),t}(Vm),TP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.gotoR]),(0,Bm._)(s)):((s=(0,P._)(this,t,[e,n,i,r,o,a])).fileSpec=s.info.fileSpec&&new gP(s.info.fileSpec)||null,s)}return(0,I._)(t,e),(0,D._)(t,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"setDestination",value:function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===Hm.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return this.doc.api.setDestination({path:"jr/doc/action"},this.doc.id,this.info.objNumber,e).then(function(e){return t.updateAction(e),e})}},{key:"getDestination",value:function(){return this.info.destination}},{key:"setFileSpec",value:function(e){var t=this;return this.fileSpec=e,this.info.fileSpec=e.fileSpec,this.doc?this.doc.api.setFileSpec({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.fileSpec).then(function(e){return t.updateAction(e),e}):Promise.resolve()}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"setNewWindowFlag",value:function(e){var t=this;if(-1===Object.values(Ge.NewWindowFlag).indexOf(e))throw new Error("param error. flag is invalid.");return this.info.newWindowFlag=e,this.doc?this.doc.api.setNewWindowFlag({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.newWindowFlag).then(function(e){return t.updateAction(e),e}):Promise.resolve()}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new gP(e.fileSpec)||null,(0,E._)((0,S._)(t.prototype),"updateAction",this).call(this,e)}}]),t}(Vm);var MP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),(s=(0,P._)(this,t,[e,n,i,r,o,a])).rootFile=s.info.rootFile&&new gP(s.info.rootFile)||null,s}return(0,I._)(t,e),(0,D._)(t,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"getDestination",value:function(){return this.info.destination}},{key:"getRootFile",value:function(){return this.rootFile}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"getTarget",value:function(){return this.info.target}},{key:"getTargetFileInfo",value:function(){var e=this,t=this.getTarget();if(!t)return Promise.resolve(null);Promise.resolve();return t.pageIndex>-1?this.doc.getPageByIndex(t.pageIndex).then(function(e){return e.getAnnots()}).then(function(e){var n=e[t.fileAttachmentAnnotIndex];return Promise.all([n,n.getFileattachmentStream()])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1],r=n.getFileSpec().fileSpec,o=r.description,a=r.fileName,s=r.fileSize;return{blob:new Blob(i,{type:"application/pdf"}),description:o,fileName:a,fileSize:s}}):this.doc.getNameTree(Nt.EmbeddedFiles).then(function(n){var i=n[t.attachedFileName];if(i){var r=i.objNum,o=i.description,a=i.fileName,s=i.fileSize;return e.doc.getFileSpecStream(r).then(function(e){return{blob:new Blob(e,{type:"application/pdf"}),description:o,fileName:a,fileSize:s}})}})}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}}]),t}(Vm);var RP=function(e){function t(e,n,i,r,o,a){var s;return(0,C._)(this,t),0==arguments.length?(s=(0,P._)(this,t,[nt.thread]),(0,Bm._)(s)):((s=(0,P._)(this,t,[e,n,i,r,o,a])).info.dest_thread_index&&(s.info.dest_thread_index=s.info.dest_thread_index),s)}return(0,I._)(t,e),(0,D._)(t,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),t}(Vm),FP=function(e){function t(e,n,i,r,o,a){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i,r,o,a])}return(0,I._)(t,e),(0,D._)(t,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}},{key:"setOCGState",value:function(e){var t=this,n=this._getLayerIds(e),i=n.hideLayerIds,r=n.visibleLayerIds;return this.doc?this.doc.api.setActionOCGState(this.doc.getId(),this.info.objNumber,i,r).then(function(e){return t.updateAction(e),e}):(this.info.hideLayerIds=i,this.info.visibleLayerIds=r,Promise.resolve())}},{key:"_getLayerIds",value:function(e){var t=[],n=[];function i(e){e.children.length>0&&e.children.forEach(function(e){i(e)}),e.visible?n.push(e.id):t.push(e.id)}for(var r=0;r<e.length;r++)i(e[r]);return{hideLayerIds:t,visibleLayerIds:n}}}]),t}(Vm),NP=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"createAction",value:function(e,t,n,i,r){if(e)switch(e.type){case"TypeThread":return new RP(e,this,t,n,i,r);case"TypeURI":return new zm(e,this,t,n,i,r);case"TypeLaunch":return new mP(e,this,t,n,i,r);case"TypeNamed":return new _P(e,this,t,n,i,r);case"TypeJavaScript":return new wP(e,this,t,n,i,r);case"TypeSubmitForm":return new PP(e,this,t,n,i,r);case"TypeResetForm":return new DP(e,this,t,n,i,r);case"TypeImportData":return new SP(e,this,t,n,i,r);case"TypeGoto":return new Um(e,this,t,n,i,r);case"TypeHide":return new IP(e,this,t,n,i,r);case"TypeGoToR":return new TP(e,this,t,n,i,r);case"TypeGoToE":return new MP(e,this,t,n,i,r);case"TypeSetOCGState":return new FP(e,this,t,n,i,r);default:return new Vm(e,this,t,n,i,r)}}}]),e}();const LP=NP;var OP=function(e){return e[e.folder=1]="folder",e[e.file=2]="file",e}({}),jP=function(){function e(t){(0,C._)(this,e),this.nodeData=t}return(0,D._)(e,[{key:"getNodeType",value:function(){return this.type}}]),e}(),BP=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[i])).type=OP.folder,r.engine=e,r.doc=n,r.api=e.api,r.nodeHandle=i.handle,r.name=i.fileName,r.subNodes=[],r}return(0,I._)(t,e),(0,D._)(t,[{key:"getSortedSubNodes",value:function(){var e=this,n=this.doc;return this.api.getPortfolioSubNodes(n.getId(),this.nodeHandle).then(function(i){return e.subNodes=[],i.forEach(function(i){if(i.type===OP.folder){var r=new t(e.engine,n,i);e.subNodes.push(r)}if(i.type===OP.file){var o=new VP(e.engine,n,i);e.subNodes.push(o)}}),e.subNodes})}},{key:"addFiles",value:function(e,t){return this.api.portfolioAddFiles(this.doc.getId(),e,t,this.nodeHandle)}},{key:"createFolder",value:function(e){var n=this;return this.api.portfolioCreateFolder(this.doc.getId(),e,this.nodeHandle).then(function(e){return new t(n.engine,n.doc,e)})}},{key:"removeSubNodes",value:function(e){return this.api.portfolioRemoveSubNodes(this.doc.getId(),this.nodeHandle,e)}},{key:"changeSubNodesOrder",value:function(e,t){return this.api.changePortfolioSubNodesOrder(this.doc.getId(),this.nodeHandle,e,t)}},{key:"moveSubNodeToSubFolderNode",value:function(e,t){return this.api.portfolioMoveSubNodeToSubFolderNode(this.doc.getId(),this.nodeHandle,e,t)}},{key:"hasSameNameSubNode",value:function(e,t){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,this.nodeHandle)}},{key:"getName",value:function(){return this.name}},{key:"getDescription",value:function(){return this.description}}]),t}(jP),VP=function(e){function t(e,n,i){var r;return(0,C._)(this,t),(r=(0,P._)(this,t,[i])).type=OP.file,r.engine=e,r.doc=n,r.api=e.api,r.nodeHandle=i.handle,r.keyName=i.keyName,r}return(0,I._)(t,e),(0,D._)(t,[{key:"getKeyName",value:function(){return this.keyName}},{key:"getFileStream",value:function(){var e=this.doc,t=[];return this.api.getPortfolioFileStream(e.getId(),this.nodeHandle,function(e){var n=e.arrayBuffer,i=e.blob;i?t=i:t.push(n)}).then(function(){return Array.isArray(t)?new Blob(t,{type:"application/octet-stream"}):t})}}]),t}(jP),HP=function(){function e(t,n){(0,C._)(this,e),this.engine=t,this.doc=n,this.api=t.api,this.root=null,this.activedPDFNode=[]}return(0,D._)(e,[{key:"getInfo",value:function(){return this.api.getPortfolioInfo(this.doc.getId())}},{key:"setInfo",value:function(e){return this.api.setPortfolioInfo(this.doc.getId(),e)}},{key:"regenerateTOC",value:function(e){var t=this;return this.api.portfolioRegenerateTOC(this.doc.getId(),e).then(function(e){var n,i=e||{},r=i.oldIndexes,o=i.newPages;if(r.length){t.doc.info.pageCount-=r.length;var a=[],s=[];r.forEach(function(e){var n=t.doc.pageCache[e];a.push(e),t.doc.pageCache.splice(e,1),n&&s.push(n.info.objectNumber)}),t.engine.eventEmitter.emit(oe.Z.pagesRemoved,a,s,t.doc)}t.doc.info.pageCount+=o.length;var A=[];o.forEach(function(e){var n=new Er(e,t.doc);A.push(n)}),(n=t.doc.pageCache).push.apply(n,(0,R._)(A)),t.doc.updatePageIndex(o[0].index,t.doc.info.pageCount),t.doc.updatePageLabelsByAction("insertPages",[o[0].index,A.length]),t.engine.eventEmitter.emit(oe.Z.insertPages,A)})}},{key:"hasSameNameSubNode",value:function(e,t,n){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,n)}},{key:"getStream",value:function(e){return this.api.getPortfolioStream(this.doc.getId(),e)}},{key:"getTreeNode",value:function(){var e=this;return this.api.getPortfolioTreeNode(this.doc.getId()).then(function(t){return e.treeNode=t,t.type===OP.folder&&(e.root=new BP(e.engine,e.doc,t)),t.type===OP.file&&(e.root=new VP(e.engine,e.doc,t)),Promise.resolve(e.root)})}},{key:"getInitialNodePath",value:function(){var e=this;return this.api.getPortfolioInitialNodePath(this.doc.getId()).then(function(t){if(!Array.isArray(t))return[];var n=t.map(function(t){return t.type===OP.folder?new BP(e.engine,e.doc,t):t.type===OP.file?new VP(e.engine,e.doc,t):void 0});return e.root=n[0],n})}},{key:"sendSortFolioParam",value:function(e,t){return this.api.sendSortFolioParam(this.doc.getId(),e,t).then(function(e){if(e)return!0})}},{key:"getFolioNodePDFDoc",value:function(){var e=this;return this.api.getFolioNodePDFDoc(this.doc.getId()).then(function(t){for(var n=[],i=0;i<=t.length-1;i++)n.push(new UC(t[i],e.engine,{}));return n})}},{key:"recordPDFFileByPortFolioNode",value:function(e){var t=this,n=this.doc,i=[];for(var r in e)i.push(e[r].handle);return this.api.recordPDFFileByPortFolioNode(n.getId(),i).then(function(e){var n=e.filter(function(e){return-1===e.indexOf("password")});if(0===e.filter(function(e){return-1!==e.indexOf("password")}).length){for(var i=[],r=0;r<=n.length-1;r++)i.push(new UC(n[r],t.engine,{}));t.activedPDFNode=i}else t.activedPDFNode=["password"]})}},{key:"getPDFFileByPortFolioNode",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:if(t=[],0==e.length)return[2,[]];for(n=0;n<e.length;n++)("1"==e[n].type||"2"==e[n].type&&".pdf"===e[n].FileName.substr(-4).toLowerCase())&&t.push(e[n]);return 0==t.length?[2,[]]:[4,this.recordPDFFileByPortFolioNode(t)];case 1:return i.sent(),[2,this.activedPDFNode]}})}).call(this)}},{key:"getActivedPDFFileByPortFolioNode",value:function(){return this.activedPDFNode}}]),e}();const UP=function(e,t){return new Proxy(t,{doc:e,api:e.api,get:function(e,t){var n=this;if("then"!==t)return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t in e?e[t]:n.api.changeEditingProperty(n.doc.id,t,r)}}})};const zP=Object.assign({},ae,{addTextMarkupSuccess:"add-text-markup-success",fullscreenchange:"fullscreenchange",appendCommentListGroup:"apppend-commentlist-group",destroyCommentListGroup:"destroy-commentlist-group",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",InkImageSelected:"ink-image-selected",applicationDestroyed:"uiextension-destroyed",addReplySuccess:"add-reply-success",deleteReplySuccess:"delete-reply-success",addActionSuccess:"add-action-success",addContentSuccess:"add-content-success",markRedactionSuccess:"mark-redaction-success",addReviewStateSuccess:"add-review-state-success",addMarkedStateSuccess:"add-marked-state-success",addonLoaded:"pdfui-init-process-addon-loaded",initializationCompleted:"pdfui-intialization-completed",commentGroupAnnotationsUpdated:"pdfui-comment-group-annotations-updated",bookmarkSelected:"bookmark-selected",stampSelectedChange:"stampSelectedChange",languageChange:"languageChange",ribbonLoadFinish:"ribbonLoadFinish",editPropertiesAction:"editPropertiesAction",loupeLocked:"loupeLocked",loupeScaleChange:"loupeScaleChange",loupeRedBoxMoved:"loupeRedBoxMoved",enterReadMode:"enterReadMode",exitReadMode:"exitReadMode",toggleStatusBar:"toggleStatusBar",statusBarChange:"statusBarChange",switchNavigationPanel:"switchNavigationPanel",toggleNavigationPanels:"toggleNavigationPanels",resetNavigationPanels:"resetNavigationPanels",toggleAutoScroll:"toggleAutoScroll",changePortfolioLayout:"changePortfolioLayout",compareFilterChange:"compare-filter-change",undoRedoStoreChange:"undo-redo-store-change"});var WP=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"json",void 0),(0,U._)(this,"api",void 0),(0,U._)(this,"doc",void 0),this.json=n,this.api=t.api,this.doc=t}return(0,D._)(e,[{key:"update",value:function(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this.api.changePEProperty(this.doc.id,e,t,r).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];return Promise.all([n.doc.getPageByIndex(i),r])}).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];return n.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,i),n.api.handlePageEditorEvent(n.doc.id,"GetUndoManager",void 0,!1).then(function(e){n.doc.engine.eventEmitter.emit(zP.undoRedoStoreChange,e,"pageEditor",!1)}),r})}},{key:"getHeight",value:function(){return this.json.height}},{key:"setHeight",value:function(e){return this.json.height=e,this.update("SetHeight",0,e)}},{key:"setWidth",value:function(e){return this.json.height=e,this.update("SetWidth",0,e)}},{key:"getWidth",value:function(){return this.json.width}},{key:"getOpacity",value:function(){return this.json.opacity}},{key:"setOpacity",value:function(e){return this.json.opacity=e,this.update("SetOpacity",0,e)}},{key:"rotate",value:function(e){return this.update("Rotate",0,e)}},{key:"flip",value:function(e){return this.update("Flip",0,e)}},{key:"align",value:function(e){return this.update("Align",0,{type:"GraphicsObjectAlignmentType",value:e})}},{key:"center",value:function(e){return this.update("Center",0,{type:"PageCenterAlignmentType",value:e})}},{key:"changeRenderingOrder",value:function(e){return this.update("ChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"canChangeRenderingOrder",value:function(e){return this.update("CanChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"getXPosition",value:function(){return this.json.xPosition}},{key:"setXPosition",value:function(e){return this.update("SetXPosition",0,e)}},{key:"getYPosition",value:function(){return this.json.yPosition}},{key:"setYPosition",value:function(e){return this.update("SetYPosition",0,e)}},{key:"shear",value:function(e){return e=e*Math.PI/180,this.update("Shear",0,e)}},{key:"move",value:function(e,t,n){return this.update("Move",0,{type:"EditorPage",value:e},{type:"PointF",value:t},n)}},{key:"distribute",value:function(e){return this.update("Distribute",0,e)}},{key:"size",value:function(e){return this.update("Size",0,e)}},{key:"scale",value:function(e,t){return this.update("Scale",0,e,t)}},{key:"clearClipPath",value:function(){return this.update("ClearClipPath",0)}},{key:"editClipPath",value:function(){return this.update("EditClipPath",0)}},{key:"addClipPath",value:function(e){return this.update("AddClipPath",0,{value:e})}},{key:"cut",value:function(){return this.update("Cut",0)}},{key:"copy",value:function(){return this.update("Copy",0)}},{key:"delete",value:function(){return this.update("Delete",0)}},{key:"getType",value:function(){return this.json.type}}]),e}(),YP=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getFontName",value:function(){return this.json.fontName}},{key:"setFont",value:function(e,t,n,i){return this.update("SetFont",1,e,t,n,i)}},{key:"hasStroke",value:function(){var e=this.getTextMode();if(1==e||2==e)return!0}},{key:"hasFill",value:function(){var e=this.getTextMode();return!(0!=e&&2!=e&&!this.json.count)}},{key:"getFontSize",value:function(){return this.json.fontSize}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setFontSize",value:function(e){return this.json.fontSize=e,this.update("SetFontSize",1,e)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",1,this.hasFill(),{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setStrokeColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",1,this.hasStroke(),{type:"Color",value:e,space:this.json.strokeColorSpace},t)}},{key:"getHorizontalScale",value:function(){return this.json.horizontalScale}},{key:"getCharSpace",value:function(){return this.json.charSpace}},{key:"getWordSpace",value:function(){return this.json.wordSpace}},{key:"canRemoveTextKerning",value:function(){return this.json.canRemoveTextKerning}},{key:"canMergeText",value:function(){return this.json.canMergeText}},{key:"canSplitText",value:function(){return this.json.canSplitText}},{key:"canText2Path",value:function(){return this.json.canText2Path}},{key:"isWordSpaceValid",value:function(){return this.json.isWordSpaceValid}},{key:"getFontIsBold",value:function(){return this.json.fontIsBold}},{key:"getFontIsItalic",value:function(){return this.json.fontIsItalic}},{key:"setHorizontalScale",value:function(e){return this.json.horizontalScale=e,this.update("SetHorizontalScale",1,e)}},{key:"setCharSpace",value:function(e){return this.json.charSpace=e,this.update("SetCharSpace",1,e)}},{key:"setWordSpace",value:function(e){return this.json.wordSpace=e,this.update("SetWordSpace",1,e)}},{key:"getTextMode",value:function(){return this.json.textMode}},{key:"setTextMode",value:function(e){return this.json.textMode=e,this.update("SetTextMode",1,e)}},{key:"removeTextKerning",value:function(){return this.update("RemoveTextKerning",1)}},{key:"mergeText",value:function(){return this.update("MergeText",1)}},{key:"splitText",value:function(e){return this.update("SplitText",1,{type:"Int32Array",value:e})}}]),t}(WP),GP=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getLineWidth",value:function(){return this.json.lineWidth}},{key:"setLineWidth",value:function(e){return this.json.lineWidth=e,this.update("SetLineWidth",2,e)}},{key:"getMiterLimit",value:function(){return this.json.miterLimit}},{key:"setMiterLimit",value:function(e){return this.json.miterLimit=e,this.update("SetMiterLimit",2,e)}},{key:"getLineCap",value:function(){return this.json.lineCap}},{key:"setLineCap",value:function(e){return this.json.lineCap=e,this.update("SetLineCap",2,{type:"LineCap",value:e})}},{key:"getLineJoin",value:function(){return this.json.lineJoin}},{key:"setLineJoin",value:function(e){return this.json.lineJoin=e,this.update("SetLineJoin",2,{type:"LineJoin",value:e})}},{key:"getLineStyle",value:function(){return this.json.lineStyle}},{key:"setLineStyle",value:function(e){return this.json.lineStyle=e,this.update("SetLineStyle",2,{type:"FloatArray",value:e})}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&(e="transparent"==e?0:parseInt(e.replace("#",""),16)),0==e&&1!=this.json.fillColorSpace&&(i=!1),this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",2,i,{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setStrokeColor",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",2,i,{type:"Color",value:e,space:this.json.strokeColorSpace},t)}}]),t}(WP),$P=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"changeShadingColor",value:function(e){return this.update("ChangeShadingColor",4,e)}},{key:"changeColorUndoStart",value:function(){return this.update("ChangeColorUndoStart",4)}},{key:"changeColorUndoEnd",value:function(){return this.update("ChangeColorUndoEnd",4)}},{key:"changeColorUndoCancel",value:function(){return this.update("ChangeColorUndoCancel",4)}},{key:"editReferenceLine",value:function(){return this.update("EditReferenceLine",4)}},{key:"setGridientCursorColor",value:function(e){return this.update("SetGridientCursorColor",4,e)}},{key:"getGridientCursorColor",value:function(){return this.update("GetGridientCursorColor",4)}},{key:"getGridientColorAt",value:function(e){return this.update("GetGridientColorAt",4,e)}},{key:"getGridientCursorLocation",value:function(){return this.update("GetGridientCursorLocation",4)}},{key:"getGridientCursorIndex",value:function(){return this.update("GetGridientCursorIndex",4)}},{key:"setGradientColorShowRect",value:function(e){return this.update("SetGradientColorShowRect",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoBefore",value:function(e){return this.update("AddGradientCursorInfoBefore",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoExcute",value:function(e){return this.update("AddGradientCursorInfoExcute",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoEnd",value:function(){return this.update("AddGradientCursorInfoEnd",4)}},{key:"addGradientCursorInfoDblClk",value:function(e){return this.update("AddGradientCursorInfoDblClk",4,{type:"RectF",value:e})}},{key:"delGradientCursorInfo",value:function(){return this.update("DelGradientCursorInfo",4)}},{key:"defaultGradientDataInit",value:function(){return this.update("DefaultGradientDataInit",4)}},{key:"setGradientCurrentInfo",value:function(e){return this.update("SetGradientCurrentInfo",4,{type:"ShadingColorArray",value:e})}},{key:"getGradientColor",value:function(){return this.update("GetGradientColor",4)}},{key:"renderGridient",value:function(e,t){return this.update("RenderGridient",4,e,t)}}]),t}(WP),JP=function(){function e(t){var n=this;(0,C._)(this,e),(0,U._)(this,"doc",void 0),(0,U._)(this,"notifier",void 0),(0,U._)(this,"workflow",void 0),(0,U._)(this,"filter",1),this.doc=t,t.api.registerWorkflow("out",this.workflow=function(e){var t=n.notifier[e.type];t&&t(e.msg)}),t.addDestroyHook(function(e){n.doc.api.unregisterWorkflow("out",n.workflow),n.destroy()})}return(0,D._)(e,[{key:"createText",value:function(){return this.postOperation("CreateText")}},{key:"createPath",value:function(e){return this.postOperation("CreatePath",{type:"DrawType",value:e})}},{key:"createImage",value:function(e){var t=this;return this.postOperation("CreateImage",{type:"Image",value:e}).then(function(e){return t.postOperation("GetUndoManager",!1,!1).then(function(e){t.doc.engine.eventEmitter.emit(zP.undoRedoStoreChange,e,"pageEditor",!1)}),e}).then(function(e){return"number"==typeof e?t.doc.getPageByIndex(e).then(function(e){return t.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,e),!0}):e})}},{key:"createShading",value:function(e){return this.postOperation("CreateShading",{type:"DrawType",value:e})}},{key:"setObjectFilter",value:function(e){return this.filter=e,this.postOperation("SetGraphicsObjectFilter",{type:"GraphicsObjectFilter",value:e})}},{key:"text2Path",value:function(){return this.postOperation("Text2Path")}},{key:"endEdit",value:function(){return this.postOperation("EndEdit")}},{key:"startEdit",value:function(){return this.postOperation("StartEdit")}},{key:"setNotifier",value:function(e){this.notifier=e}},{key:"getActiveObject",value:function(){var e=this;return this.postOperation("GetGraphicsObjectUtils").then(function(t){return function(e,t){switch(t.type){case 1:return new YP(e,t);case 2:return new GP(e,t);case 3:case 5:return new WP(e,t);case 4:return new $P(e,t)}}(e.doc,t)})}},{key:"getSelection",value:function(){return this.postOperation("GetSelection")}},{key:"hasSelection",value:function(){return this.postOperation("HasSelection")}},{key:"getEditingObject",value:function(){return this.postOperation("GetGraphicsObjectEditor").then(function(e){return e&&void 0!==e.type?e:void 0})}},{key:"createEditingObjectProxy",value:function(e){return UP(this.doc,e)}},{key:"triggerPopMenuAction",value:function(e){var t=this.doc,n=t.id;return t.api.triggerPopMenuAction(n,e)}},{key:"postOperation",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc,a=o.id;return(r=o.api).handlePageEditorEvent.apply(r,[a,e,void 0].concat((0,R._)(n)))}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach(function(t){return e[t]=null})}},{key:"copy",value:function(){return this.postOperation("Copy")}},{key:"canPaste",value:function(){return this.postOperation("CanPaste")}},{key:"paste",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.postOperation.apply(this,["Paste"].concat((0,R._)(n))).then(function(t){return e.doc.getPageByIndex(t)}).then(function(t){e.doc.engine.eventEmitter.emit(oe.Z.graphicsUpdated,t)})}},{key:"undoRedo",value:function(e,t){var n=this;return this.postOperation("Undo",e,t).then(function(){n.postOperation("GetUndoManager",e,t).then(function(t){n.doc.engine.eventEmitter.emit(zP.undoRedoStoreChange,t,"pageEditor",e)})})}},{key:"getDefaultProperty",value:function(e){return this.postOperation("getDefaultProperty",e)}},{key:"getActiveObjectProperty",value:function(e){return this.postOperation("getLastProperty",e)}}]),e}(),qP=function(){function e(t){var n=this;if((0,C._)(this,e),(0,U._)(this,"doc",void 0),(0,U._)(this,"notifier",void 0),(0,U._)(this,"workflow",void 0),t.touchup)return t.touchup;this.doc=t,t.api.registerWorkflow("touchup",this.workflow=function(e){if(n.notifier){var t=n.notifier[e.type];t&&t(e.msg)}}),t.addDestroyHook(function(e){n.doc.api.unregisterWorkflow("touchup",n.workflow),n.destroy()}),t.touchup=this}return(0,D._)(e,[{key:"setNotifier",value:function(e){this.notifier=e}},{key:"handleEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleTouchUpEvent.apply(r,[o.getId(),e].concat((0,R._)(n))).then(function(e){return o.engine.eventEmitter.emit(zP.undoRedoStoreChange,e,"touchUp"),e})}},{key:"handleFindReplaceEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleFindReplaceEvent.apply(r,[o.getId(),e].concat((0,R._)(n))).then(function(t){return"ReplaceAll"===e&&o.engine.eventEmitter.emit(zP.undoRedoStoreChange,t,"clearAll"),t})}},{key:"triggerTUPopMenuAction",value:function(e,t){var n=this.doc,i=n.id;return n.api.triggerTUPopMenuAction(i,e,t)}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach(function(t){return e[t]=null})}}]),e}(),KP=function(){function e(t,n){var i=this;(0,C._)(this,e),this.engine=t,this.api=t.api,this.docId=n.id,this.pdfDoc=n,this.getArticleListPromise=this.api.construct({path:"jr/doc/article",className:"PDFArticle",wasm:16},this.docId).then(function(e){return i.objId=e.objId,i.articleList=e.json})}return(0,D._)(e,[{key:"destroy",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getArticleListPromise];case 1:return e.sent(),[4,this.api.destroy({path:"jr/doc/article"},this.docId,this.objId)];case 2:return e.sent(),this.engine=null,this.api=null,this.docId=null,this.pdfDoc=null,[2]}})}).call(this)}},{key:"getArticleList",value:function(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.articleList="",this.getArticleListPromise=this.api.construct({path:"jr/doc/article",className:"PDFArticle"},this.docId).then(function(t){return e.objId=t.objId,e.articleList=t.json})),this.articleList&&this.articleList.length>0?Promise.resolve(this.articleList):this.getArticleListPromise}},{key:"getThread",value:function(e){return this.getArticleList().then(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.objNum===e)return i}})}},{key:"getBead",value:function(e,t){return this.getThread(e).then(function(e){for(var n=e.children||[],i=0;i<n.length;i++){var r=n[i];if(r.objNum===t)return r}})}},{key:"updateBeadRect",value:function(e,t,n){var i=this;return this.getArticleListPromise.then(function(){return i.api.updateBeadRect({path:"jr/doc/article"},i.docId,i.objId,e,t,n)})}},{key:"insertThread",value:function(e){var t=this,n=e||{},i=n.title,r=void 0===i?"":i,o=n.subject,a=void 0===o?"":o,s=n.author,A=void 0===s?"":s,c=n.keywords,u=void 0===c?"":c;return this.pdfDoc.info.hasArticle=!0,this.getArticleListPromise.then(function(){return t.api.insertThread({path:"jr/doc/article"},t.docId,t.objId,{title:r,subject:a,author:A,keywords:u}).then(function(e){return e&&(t.articleList.push(e),t.engine.eventEmitter.emit(oe.Z.articleThreadAdded,e)),e})})}},{key:"updateThread",value:function(e){var t=this,n=e||{},i=n.objNum,r=n.title,o=n.subject,a=n.author,s=n.keywords;return this.getThread(i).then(function(e){return t.api.updateThread({path:"jr/doc/article"},t.docId,t.objId,{objNum:i,title:r,subject:o,author:a,keywords:s}).then(function(n){return n&&(Object.assign(e,n),t.engine.eventEmitter.emit(oe.Z.articleThreadUpdated,n)),n})})}},{key:"removeThread",value:function(e){var t=this;return this.getThread(e).then(function(n){return t.api.removeThread({path:"jr/doc/article"},t.docId,t.objId,e).then(function(e){return e&&(t.getArticleList(!0),t.engine.eventEmitter.emit(oe.Z.articleThreadRemoved,n)),e})})}},{key:"insertBead",value:function(e,t,n,i){var r=this;return this.pdfDoc.info.hasArticle=!0,this.getThread(n).then(function(o){return r.api.insertBead({path:"jr/doc/article"},r.docId,r.objId,e,n,t,i).then(function(e){return e&&(o.children||(o.children=[]),void 0===i?(o.children.push(e),r.engine.eventEmitter.emit(oe.Z.articleBeadAdded,o,[e])):(r.articleList="",r.getThread(n).then(function(e){r.engine.eventEmitter.emit(oe.Z.articleBeadAdded,e,e.children)}))),{thread:o,bead:e}})})}},{key:"removeBead",value:function(e,t){var n=this;return this.getThread(e).then(function(i){return n.api.removeBead({path:"jr/doc/article"},n.docId,n.objId,e,t).then(function(r){return r&&(n.engine.eventEmitter.emit(oe.Z.articleBeadRemoved,[t],i),1===i.children.length?n.removeThread(e):(n.getArticleList(!0),n.getThread(e).then(function(e){n.engine.eventEmitter.emit(oe.Z.articleBeadUpdated,e,e.children)}))),r})})}},{key:"mergeThread",value:function(e,t){var n=this;return this.getThread(t).then(function(i){return n.api.mergeThread({path:"jr/doc/article"},n.docId,n.objId,e,t).then(function(t){return t&&(i.children=t.children,n.engine.eventEmitter.emit(oe.Z.articleThreadUpdated,t),n.removeThread(e)),t})})}}]),e}();const ZP=KP;var XP,QP="progress",eC=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"store",new z.Store),(0,U._)(this,"cancelCallback",void 0),this.cancelCallback=t}return(0,D._)(e,[{key:"cancel",value:function(){this.cancelCallback()}},{key:"onProgress",value:function(e){var t=this;return this.store.subscribe(QP,function(n){e.call(t,n)})}},{key:"updateProgress",value:function(e){this.store.dispatch(QP,e)}},{key:"getCurrentProgress",value:function(){var e=this.store.getCurrentValue(QP);return e?e.percent:0}}]),e}();function tC(e,t){var n=t.getCurrentPageLabelInfo(0).then(function(e){return!0===e.hasLabel});e.hasPageLabel=n,e.hasPageLabel.then(function(){e.hasPageLabelStatus="done"}),e.hasPageLabelStatus="pending"}function nC(e,t){"done"===e.hasPageLabelStatus&&tC(e,t)}var iC=!1;function rC(e){if(!e)return!1;switch(e.type){case"aplication/json":case"text/json":return!0}return!("string"!=typeof e.name||!e.name.toLowerCase().endsWith(".json"))}function oC(e){return!!e&&("application/vnd.fdf"===e.type||"string"==typeof e.name&&e.name.toLowerCase().endsWith(".fdf"))}function aC(e){if(!e)return!1;switch(e.type){case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":return!0}return"string"==typeof e.name&&e.name.toLowerCase().endsWith(".xfdf")}function sC(e){return e>=1073741824?"".concat(Math.floor(e/1073741824)," G"):e>=1048576?"".concat(Math.floor(e/1048576)," M"):e>=1024?"".concat(Math.floor(e/1024)," KB"):"".concat(e," B")}function AC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD HH:mm:ss";if(!e)return"";var n="";return e.lastModified?n=Ye(new Date(e.lastModified),t,""):e.lastModifiedDate&&(n=Ye(e.lastModifiedDate,t,"")),n}var cC=function(e){return new Promise(function(t){var n,i,r,o,a=null,s=document.createElement("canvas"),A=s.getContext("2d",{willReadFrequently:!0}),c=new Image;c.onload=function(){var e=c.width,u=c.height;s.width=e,s.height=u,A.drawImage(c,0,0),a=A.getImageData(0,0,e,u);for(var l=0;l<a.data.length;l+=4){n=a.data[l],i=a.data[l+1],r=a.data[l+2],o=a.data[l+3],Math.sqrt(Math.pow(n-255,2)+Math.pow(i-255,2)+Math.pow(r-255,2)+Math.pow(o-255,2))<=60&&(a.data[l]=0,a.data[l+1]=0,a.data[l+2]=0,a.data[l+3]=0)}A.putImageData(a,0,0),t(s.toDataURL("image/png"))},c.src=e})};function uC(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n="",i=new Uint8Array(e),r=i.byteLength,o=0;o<r;o++)n+=String.fromCharCode(i[o]);return"data:".concat(t,";base64,").concat(window.btoa(n))}function lC(e){/^data\:.*?base64,/.test(e)&&(e=e.replace(/^data\:.*?base64,/,""));for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}function dC(e){return e<0||isNaN(e)}function hC(){throw new Error("Param error: Index is out of the valid range.")}function fC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");if(e.forEach(function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(1!==e.length&&2!==e.length)throw new Error("Param error. Non-valid array.");1===e.length?dC(e[0])&&hC():2===e.length&&(dC(e[0])||dC(e[1]))&&hC()}),"insert"===n){var i=uh(e).sort(function(e,t){return e-t}),r=t+i.length;e.forEach(function(e){e.some(function(e){return e>r})&&hC()})}else if("remove"===n){var o=t-1;e.forEach(function(e){e.some(function(e){return e>o})&&hC()})}else e.forEach(function(e){e.some(function(e){return e>=t})&&hC()})}var pC=function(e){return e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.LAST_CHILD=1]="LAST_CHILD",e[e.PREVIOUS_SIBLING=2]="PREVIOUS_SIBLING",e[e.NEXT_SIBLING=3]="NEXT_SIBLING",e[e.FIRST_SIBLING=4]="FIRST_SIBLING",e[e.LAST_SIBLING=5]="LAST_SIBLING",e}({}),gC=Ge.ZoomMode,vC=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"doc",void 0),this.doc=t}return(0,D._)(e,[{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.doc.engine.eventEmitter).emit.apply(r,[e].concat((0,R._)(n)))}},{key:"getBookmarkChildren",value:function(e){return this.doc.api.getBookmarkChildren({path:"jr/doc"},this.doc.id,e)}},{key:"insertBookmark",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.assertPermission(),this.assertRelationship(e.relationship),this.assertPageIndex(e.destination.pageIndex),[4,this.doc.api.insertBookmark({path:"jr/doc"},this.doc.id,e)];case 1:return[2,t.sent()]}})}).call(this)}},{key:"insertBookmarkTree",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.assertPermission(),this.assertRelationship(e.relationship),e.destination&&this.assertPageIndex(e.destination.pageIndex),[2,this.doc.api.insertBookmarkTree({path:"jr/doc"},this.doc.id,e)]})}).call(this)}},{key:"getBookmarkData",value:function(e){return this.doc.api.getBookmarkData({path:"jr/doc"},this.doc.id,e)}},{key:"getProperties",value:function(e){return this.doc.api.getBookmarkProperties({path:"jr/doc"},this.doc.id,e)}},{key:"setProperties",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return this.assertPermission(),void 0!==(n=t.color)&&(n=(0,z.colorConvertor)(n,"int"),t.color=n),[4,this.doc.api.setBookmarkProperty(this.doc.id,e,t)];case 1:return[2,i.sent()]}})}).call(this)}},{key:"remove",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.assertPermission(),[4,this.doc.api.removeBookmark(this.doc.id,e)];case 1:return[2,t.sent()]}})}).call(this)}},{key:"moveTo",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.assertPermission(),[4,this.doc.api.moveBookmark(this.doc.id,e.srcId,e.destId,e.relationship)];case 1:return t.sent(),[2]}})}).call(this)}},{key:"setDestination",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.doc.api.setBookmarkDestination(this.doc.id,e,t)];case 1:return(n=i.sent())?[2,this.doc.engine.actionFactory.createAction(n,this.doc,this.doc.api,this.doc.engine.eventEmitter,this)]:[2]}})}).call(this)}},{key:"getDestination",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.doc.api.getBookmarkDestination(this.doc.id,e)];case 1:return(t=n.sent())?[2,this.doc.engine.actionFactory.createAction(t,this.doc,this.doc.api,this.doc.engine.eventEmitter,this)]:[2]}})}).call(this)}},{key:"getAction",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.doc.api.getBookmarkAction(this.doc.id,e)];case 1:return(t=n.sent())?[2,this.doc.engine.actionFactory.createAction(t,this.doc,this.doc.api,this.doc.engine.eventEmitter,this)]:[2]}})}).call(this)}},{key:"setAction",value:function(e,t){return this.doc.api.setBookmarkAction(this.doc.getId(),e,t)}},{key:"removeAction",value:function(e,t){return this.doc.api.removeBookmarkAction(this.doc.getId(),e,t)}},{key:"addBookmarksFromStructureRoles",value:function(e,t){var n=this;return this.doc.api.addBookmarksFromStructureRoles(this.doc.getId(),e,t).then(function(e){return n.doc.engine.eventEmitter.emit(ae.structureBookmarkAdded),e})}},{key:"assertPermission",value:function(){if(!this.doc.checkPermission(Xt.assemble))throw new Error("Invalid operation on Bookmark, currently does not have editing permissions.")}},{key:"assertRelationship",value:function(e){switch(e){case 0:case 4:case 1:case 5:case 3:case 2:return;default:throw new Error("Invalid relationship value: ".concat(e,"."))}}},{key:"assertPageIndex",value:function(e){var t=this.doc.getPageCount();if(!(e>=0&&e<t))throw new Error("Invalid page index: ".concat(e))}}]),e}(),mC=(n(7460),function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,C._)(this,e),this.doc=t,this.engine=t.engine,this.info=n}return(0,D._)(e,[{key:"destroy",value:function(){this.engine=null,this.doc=null,this.info=null}},{key:"setPageMode",value:function(e){if(!jt[e])throw new Error("Param error: Mode is invalid");return this.setViewPreference("PageMode",e)}},{key:"getPageMode",value:function(){return this.info.uiLayout}},{key:"setPageLayout",value:function(e){if(!Vt[e])throw new Error("Param error: Layout is invalid");return this.setViewPreference("PageLayout",e)}},{key:"getPageLayout",value:function(){return this.info.pageLayout}},{key:"setViewPreference",value:function(e,t){var n=this;return this.doc.setViewPreference(e,t).then(function(i){switch(e){case"PageMode":n.info.uiLayout=t;break;case"PageLayout":n.info.pageLayout=t;break;default:n.info.viewerPreference[e]=t}})}}]),e}()),yC=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"doc",void 0),(0,U._)(this,"formAPI",void 0),(0,U._)(this,"queueTask",void 0),(0,U._)(this,"fieldTypeNameGenerator",void 0),this.doc=t,this.formAPI=n,this.queueTask=new z.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"setDefaultFieldTypeNameGenerator",value:function(e){this.fieldTypeNameGenerator=e}},{key:"createPushButton",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.PushButton,isImage:t}}))]})}).call(this)}},{key:"createTextField",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.Text,isDateOrTime:t}}))]})}).call(this)}},{key:"createCheckBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.CheckBox}}))]})}).call(this)}},{key:"createRadioButton",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.RadioButton}}))]})}).call(this)}},{key:"createComboBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.ComboBox}}))]})}).call(this)}},{key:"createListBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.createControl((0,k._)((0,w._)({},e),{fieldType:{type:br.FieldType.ListBox}}))]})}).call(this)}},{key:"createSignature",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this,this.checkParmas(e.pageIndex,e.pdfRect,!1),[2,this.queueTask.exec(function(){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return[4,this.doc.getPageByIndex(e.pageIndex)];case 1:if(!(t=A.sent()))throw new Error("Invalid page index ".concat(e.pageIndex));return n=(e.rotate+t.getRotation())%4,i=e.fieldName,[4,this.resolveFieldTypeName({type:br.FieldType.Sign})];case 2:return r=A.sent(),[4,this.formAPI.addSignature({fieldName:i,fieldTypeName:r,rotate:n,pdfRect:e.pdfRect,pageIndex:e.pageIndex})];case 3:return o=A.sent().objNumber,[4,t.getUnloadedAnnots()];case 4:return A.sent(),[4,t.getAnnotsByObjectNumArray([o])];case 5:return a=A.sent(),(s=t.doc.engine.eventEmitter).emit(ae.annotationAdded,a,t),s.emit(ae.formWidgetCreated,a,t),[2,a[0]]}})}).call(t)})]})}).call(this)}},{key:"createControl",value:function(e){var t=this;return this.checkParmas(e.pageIndex,e.pdfRect),this.queueTask.exec(function(){return(0,x._)(function(){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return[4,this.doc.getPageByIndex(e.pageIndex)];case 1:if(!(t=c.sent()))throw new Error("Invalid page index ".concat(e.pageIndex));return n=(e.rotate+t.getRotation())%4,i=e.fieldName,(o=e.fieldTypeName)?[3,3]:[4,this.resolveFieldTypeName(e.fieldType)];case 2:o=c.sent(),c.label=3;case 3:return r=o,[4,this.formAPI.addControl((0,k._)((0,w._)({},e),{fieldName:i,fieldTypeName:r,rotate:n,fieldType:e.fieldType,extra:e.extra,actions:e.actions}))];case 4:return a=c.sent().objNumber,[4,t.getUnloadedAnnots()];case 5:return c.sent(),[4,t.getAnnotsByObjectNumArray([a])];case 6:return s=c.sent(),(A=t.doc.engine.eventEmitter).emit(ae.annotationAdded,s,t),A.emit(ae.formWidgetCreated,s,t),[2,s[0]]}})}).call(t)})}},{key:"resolveFieldTypeName",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.fieldTypeNameGenerator?[4,this.fieldTypeNameGenerator(e)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:t="",n.label=3;case 3:return[2,t]}})}).call(this)}},{key:"checkParmas",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e<0||e>=this.doc.getPageCount())throw new Error("Invalid page index ".concat(e));var i=t.left,r=t.top,o=t.right,a=t.bottom;(0,z.assertThat)((0,z.isValidNumber)(i),"Invalid pdfRect, left should be a number"),(0,z.assertThat)((0,z.isValidNumber)(o),"Invalid pdfRect, right should be a number"),(0,z.assertThat)((0,z.isValidNumber)(r),"Invalid pdfRect, top should be a number"),(0,z.assertThat)((0,z.isValidNumber)(a),"Invalid pdfRect, bottom should be a number"),n&&((0,z.assertThat)(i<o,"Invalid pdfRect, left should be less than right"),(0,z.assertThat)(r>a,"Invalid pdfRect, top should be greater than bottom"))}}]),e}(),_C="bookmark-added-event",bC="bookmark-deleted-event",wC="bookmark-moved-event",kC="bookmark-properties-updated-event",xC=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"rootBookmarksPromise",void 0),(0,U._)(e,"permissionStore",new z.ValueStore(!1)),(0,U._)(e,"bookmarkChildrenStore",new z.ValueStore),(0,U._)(e,"bookmarkDataMap",new Map),(0,U._)(e,"currentCutBookmarkNodeInfo",void 0),(0,U._)(e,"pasteBookmarkStore",new z.ValueStore),(0,U._)(e,"pdfDocDefer",new z.Defer),(0,U._)(e,"eventEmitter",new yo.EventEmitter),e}return(0,I._)(t,e),(0,D._)(t,[{key:"switchDoc",value:function(e){var t=this;this.pdfDocDefer.resolve(e),(0,z.noop)(e.bookmarkActionAPI);var n=e.checkPermission(Xt.assemble);this.permissionStore.dispatch(!!n);var i=function(){var n=e.checkPermission(Xt.assemble);t.permissionStore.dispatch(!!n)};e.engine.eventEmitter.on(oe.Z.permissionChanged,i),e.addDestroyHook(function(){e.engine.eventEmitter.off(oe.Z.permissionChanged,i),t.rootBookmarksPromise=void 0,t.pdfDocDefer=new z.Defer,t.bookmarkDataMap.clear(),t.pasteBookmarkStore.remove(),t.clearCutBookmark()})}},{key:"onPermissionChange",value:function(e){return this.permissionStore.subscribe(e)}},{key:"getPermission",value:function(){var e=this.permissionStore.getCurrentValue();if(void 0===e){var t=this.pdfDocDefer.resolveValue;if(t)return!!t.checkPermission(Xt.assemble)}return!!e}},{key:"onBookmarkChildrenReloaded",value:function(e){return this.bookmarkChildrenStore.subscribe(function(t){if(t)return e(t.parentId,t.children)})}},{key:"reloadBookmarkChildren",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return t=this.getBookmarkChildren(e),void 0===e&&(this.rootBookmarksPromise=t),[4,t];case 1:return n=i.sent(),[4,this.bookmarkChildrenStore.dispatch({parentId:e,children:n})];case 2:return i.sent(),[2]}})}).call(this)}},{key:"getBookmarkHierarchy",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return e=this,[4,this.getFirstLevelBookmarks()];case 1:t=u.sent(),n=function(t){return(0,x._)(function(){var e,i,r,o,a,s,A,c,u,l,d;return(0,N.Jh)(this,function(h){switch(h.label){case 0:return(null==(i=this.bookmarkDataMap.get(t))||null===(e=i.children)||void 0===e?void 0:e.length)?(o=i.children,[3,3]):[3,1];case 1:return[4,this.getBookmarkChildren(t)];case 2:o=h.sent(),h.label=3;case 3:r=o,a=!0,s=!1,A=void 0,h.label=4;case 4:h.trys.push([4,9,10,11]),c=r[Symbol.iterator](),h.label=5;case 5:return(a=(u=c.next()).done)?[3,8]:(l=u.value,[4,n(l.id)]);case 6:l.children=h.sent(),h.label=7;case 7:return a=!0,[3,5];case 8:return[3,11];case 9:return d=h.sent(),s=!0,A=d,[3,11];case 10:try{a||null==c.return||c.return()}finally{if(s)throw A}return[7];case 11:return[2,r]}})}).call(e)},i=!0,r=!1,o=void 0,u.label=2;case 2:u.trys.push([2,7,8,9]),a=t[Symbol.iterator](),u.label=3;case 3:return(i=(s=a.next()).done)?[3,6]:(A=s.value,[4,n(A.id)]);case 4:A.children=u.sent(),u.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return c=u.sent(),r=!0,o=c,[3,9];case 8:try{i||null==a.return||a.return()}finally{if(r)throw o}return[7];case 9:return[2,t]}})}).call(this)}},{key:"getBookmarkChildren",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return t=this,[4,this.getBookmarkAPI()];case 1:return(n=a.sent())?[4,n.getBookmarkChildren(e)]:[2,[]];case 2:return i=a.sent(),r=i.map(function(e){var n=t.bookmarkDataMap.get(e.id),i=(0,w._)({},n||{},e);return t.bookmarkDataMap.set(e.id,i),i}),e&&(o=this.bookmarkDataMap.get(e))&&(r.length>0&&(o.hasChild=!0),o.children=r),[2,r]}})}).call(this)}},{key:"getBookmarkData",value:function(e){return this.bookmarkDataMap.get(e)}},{key:"getParentBookmarkId",value:function(e){var t=Array.from(this.bookmarkDataMap.values()).find(function(t){var n;return!!(null===(n=t.children)||void 0===n?void 0:n.find(function(t){return t.id===e}))});return null==t?void 0:t.id}},{key:"getFirstLevelBookmarks",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.rootBookmarksPromise=this.rootBookmarksPromise||this.getBookmarkChildren(void 0)]})}).call(this)}},{key:"addBookmark",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:if("number"!=typeof e.destId)switch(e.relationship){case pC.FIRST_CHILD:case pC.LAST_CHILD:break;default:throw new Error("When destId is not defined, relationship must be 'BookmarkRelationship.FIRST_CHILD' or 'BookmarkRelationship.LAST_CHILD'")}return[4,this.pdfDocDefer.isSettled];case 1:return(A.sent()?this.pdfDocDefer.promise:void 0)?[4,this.getBookmarkAPI()]:[2];case 2:return(t=A.sent())?(n=localStorage.getItem("bookmark_default_appearance"),i=e.title,r=e.destination||{},[4,t.insertBookmarkTree({newBookmarkId:e.newBookmarkId,destId:e.destId,relationship:e.relationship,title:i,destination:r,color:e.color?(0,z.colorConvertor)(e.color,"int"):void 0,style:e.style,children:null!==(o=e.children)&&void 0!==o?o:[]})]):[2];case 3:return a=A.sent(),n?[4,t.setProperties(a,JSON.parse(n))]:[3,5];case 4:A.sent(),A.label=5;case 5:return[4,t.getBookmarkData(a)];case 6:return s=A.sent(),this.bookmarkDataMap.set(a,s),this.emitEvent(_C,{bookmarkId:a,data:s,options:e}),this.triggerDocModified(),[2,a]}})}).call(this)}},{key:"addBookmarkFromId",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getBookmarkAPI()];case 1:return(n=r.sent())?[4,n.getBookmarkData(e)]:[2];case 2:return i=r.sent(),this.bookmarkDataMap.set(e,i),this.emitEvent(_C,{bookmarkId:e,data:i,options:t}),this.triggerDocModified(),[2,e]}})}).call(this)}},{key:"deleteBookmark",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return t=this,[4,this.getBookmarkAPI()];case 1:return(r=A.sent())?(o=this.getParentBookmarkId(e),[4,r.remove(e)]):[2];case 2:if(!A.sent())throw new Error("Unable to delete bookmark for unknown reason!");return a=this.getBookmarkData(e),s=function(e){var n,i=t.getBookmarkData(e);i&&(null===(n=i.children)||void 0===n||n.forEach(function(e){return s(e.id)}),t.bookmarkDataMap.delete(e))},s(e),(null===(n=this.currentCutBookmarkNodeInfo)||void 0===n?void 0:n.id)!==e&&(null===(i=this.currentCutBookmarkNodeInfo)||void 0===i?void 0:i.parentId)!==e||this.clearCutBookmark(),this.reloadBookmarkChildren(o),this.emitEvent(bC,{bookmarkId:e,data:a}),this.triggerDocModified(),[2]}})}).call(this)}},{key:"setDestination",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getBookmarkAPI()];case 1:return s.sent()?[4,this.getBookmarkData(e)]:[2];case 2:return n=s.sent(),i=n?{pageIndex:n.page,top:n.top,left:n.left,zoomMode:n.zoomMode,zoomFactor:n.zoomFactor}:{},r=(0,w._)({},i,t),[4,this.setProperties(e,{destination:r})];case 3:return o=s.sent(),(a=this.bookmarkDataMap.get(e))&&(a.page=r.pageIndex,a.top=r.top||0,a.left=r.left||0,a.zoomMode=r.zoomMode,a.zoomFactor=r.zoomFactor),[2,o]}})}).call(this)}},{key:"performAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.triggerAction(e)]})}).call(this)}},{key:"triggerAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getBookmarkActionAPI()];case 1:return[2,t.sent().triggerAction(e)]}})}).call(this)}},{key:"appendAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.getBookmarkActionAPI()];case 1:return[4,n.sent().appendAction(e,t)];case 2:return n.sent(),[2]}})}).call(this)}},{key:"removeAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getBookmarkActionAPI()];case 1:return[4,t.sent().removeAction(e)];case 2:return t.sent(),[2]}})}).call(this)}},{key:"updateAction",value:function(e,t,n){return(0,x._)(function(){return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getBookmarkActionAPI()];case 1:return[4,i.sent().updateAction(e,t,n)];case 2:return i.sent(),[2]}})}).call(this)}},{key:"getActions",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getBookmarkActionAPI()];case 1:return[2,t.sent().getActionData(e)]}})}).call(this)}},{key:"renameBookmark",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getBookmarkAPI()];case 1:return r.sent()?(n=this.bookmarkDataMap.get(e))&&n.title===t?[2]:[4,this.setProperties(e,{title:t})]:[2];case 2:return i=r.sent(),(n=this.bookmarkDataMap.get(e))&&(n.title=t),[2,i]}})}).call(this)}},{key:"setColor",value:function(e,t){return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,this.getBookmarkAPI()];case 1:return o.sent()?(n=this.bookmarkDataMap.get(e))&&n.color===t?[2]:[4,this.setProperties(e,{color:(0,z.colorConvertor)(t,"int")})]:[2];case 2:return i=o.sent(),(n=this.bookmarkDataMap.get(e))&&(r=i.newProperties.color,n.color=void 0===r?void 0:(0,z.colorConvertor)(r,"#")),[2,i]}})}).call(this)}},{key:"setFontStyle",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getBookmarkAPI()];case 1:return r.sent()?[4,this.setProperties(e,{style:t})]:[2];case 2:return n=r.sent(),(i=this.bookmarkDataMap.get(e))&&(i.style=t),[2,n]}})}).call(this)}},{key:"setProperties",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return n=this,[4,this.getBookmarkAPI()];case 1:return[4,(i=c.sent()).setProperties(e,t)];case 2:return r=c.sent(),o=r.oldProperties,a=r.newProperties,[4,i.getBookmarkData(e)];case 3:return(s=c.sent())&&this.bookmarkDataMap.set(e,s),this.rootBookmarksPromise?[4,this.rootBookmarksPromise]:[3,5];case 4:A=c.sent(),this.rootBookmarksPromise=Promise.resolve(A.map(function(e){return n.getBookmarkData(e.id)})),c.label=5;case 5:return this.emitEvent(kC,{bookmarkId:e,oldProperties:o,newProperties:a}),this.triggerDocModified(),[2,{oldProperties:o,newProperties:a}]}})}).call(this)}},{key:"cutBookmark",value:function(e,t){this.currentCutBookmarkNodeInfo={id:e,parentId:t}}},{key:"clearCutBookmark",value:function(){this.currentCutBookmarkNodeInfo=void 0}},{key:"getCurrentCutBookmarkNodeInfo",value:function(){return this.currentCutBookmarkNodeInfo}},{key:"pasteCutBookmark",value:function(e,t,n){return(0,x._)(function(){var i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return this.currentCutBookmarkNodeInfo?(i=this.currentCutBookmarkNodeInfo,r=i.id,o=i.parentId,[4,this.moveBookmark(r,o,e,t,n)]):[2];case 1:return a.sent(),[4,this.pasteBookmarkStore.dispatch({destId:e,srcId:r,relationship:n,srcParentId:o,destParentId:t})];case 2:return a.sent(),this.clearCutBookmark(),[2]}})}).call(this)}},{key:"moveBookmark",value:function(e,t,n,i,r){return(0,x._)(function(){var o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getBookmarkAPI()];case 1:return(o=s.sent())&&this.bookmarkDataMap.get(e)?[4,o.moveTo({destId:n,srcId:e,relationship:r})]:[2];case 2:switch(s.sent(),a=[],r){case pC.FIRST_CHILD:case pC.LAST_CHILD:a.push(this.reloadBookmarkChildren(n));break;case pC.FIRST_SIBLING:case pC.LAST_SIBLING:case pC.NEXT_SIBLING:case pC.PREVIOUS_SIBLING:i!==t&&a.push(this.reloadBookmarkChildren(i))}return a.push(this.reloadBookmarkChildren(t)),[4,Promise.all(a)];case 3:return s.sent(),this.emitEvent(wC,{destId:n,srcId:e,relationship:r,srcParentId:t,destParentId:i}),this.triggerDocModified(),[2]}})}).call(this)}},{key:"onPasteCutBookmark",value:function(e){return this.pasteBookmarkStore.subscribe(e)}},{key:"getBookmarkActionAPI",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.pdfDocDefer.promise];case 1:return[2,e.sent().bookmarkActionAPI]}})}).call(this)}},{key:"getBookmarkAPI",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.pdfDocDefer.promise];case 1:return[2,e.sent().getBookmarkAPI()]}})}).call(this)}},{key:"onBookmarkDeleted",value:function(e){return this.registerEvent(bC,e)}},{key:"onBookmarkAdded",value:function(e){return this.registerEvent(_C,e)}},{key:"onBookmarkMoved",value:function(e){return this.registerEvent(wC,e)}},{key:"onBookmarkPropertiesUpdated",value:function(e){return this.registerEvent(kC,e)}},{key:"registerEvent",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.eventEmitter).emit.apply(r,[e].concat((0,R._)(n)))}},{key:"rebuildBookmarkTree",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return this.bookmarkDataMap.clear(),this.pasteBookmarkStore.remove(),this.clearCutBookmark(),[4,this.bookmarkChildrenStore.dispatch({children:[]})];case 1:return e.sent(),this.reloadBookmarkChildren(),[2]}})}).call(this)}},{key:"triggerDocModified",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.pdfDocDefer.promise];case 1:return[4,e.sent().setDocModified()];case 2:return e.sent(),[2]}})}).call(this)}}]),t}(z.Disposable),PC=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"pdfViewer",void 0),(0,U._)(e,"updateDestination",e.setDestination),e}return(0,I._)(t,e),(0,D._)(t,[{key:"switchDoc",value:function(e){this.bookmarkEngineService.switchDoc(e)}},{key:"onPermissionChange",value:function(e){return this.bookmarkEngineService.onPermissionChange(e)}},{key:"getPermission",value:function(){return this.bookmarkEngineService.getPermission()}},{key:"onBookmarkChildrenReloaded",value:function(e){return this.bookmarkEngineService.onBookmarkChildrenReloaded(e)}},{key:"reloadBookmarkChildren",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.reloadBookmarkChildren(e)]})}).call(this)}},{key:"getBookmarkHierarchy",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.bookmarkEngineService.getBookmarkHierarchy()]})}).call(this)}},{key:"getBookmarkChildren",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.getBookmarkChildren(e)]})}).call(this)}},{key:"getBookmarkData",value:function(e){return this.bookmarkEngineService.getBookmarkData(e)}},{key:"getParentBookmarkId",value:function(e){return this.bookmarkEngineService.getParentBookmarkId(e)}},{key:"getFirstLevelBookmarks",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.bookmarkEngineService.getFirstLevelBookmarks()]})}).call(this)}},{key:"getDestination",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){if(!(e=this.pdfViewer.pdfViewerRender))throw new Error("BookmarkService.getDestination failed: PDFViewer.pdfViewerRender is not defined!");return[2,e.getCurrentDestination()]})}).call(this)}},{key:"addBookmark",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return n=this.pdfViewer,i=e.title||n.i18n.t("sidebar.bookmark.untitled"),[4,this.getDestination()];case 1:return r=c.sent(),o=(0,w._)({},r,e.destination||{}),a=n.getPDFDocRender().scale,"zoomFactor"in o||(o.zoomFactor=isFinite(a)?a:0),A={newBookmarkId:e.newBookmarkId,destId:e.destId,relationship:e.relationship,title:i,destination:o,color:e.color?(0,z.colorConvertor)(e.color,"int"):void 0,style:e.style,children:null!==(s=null===(t=e.children)||void 0===t?void 0:t.map(function e(t){var i;return{newBookmarkId:t.newBookmarkId,title:t.title||n.i18n.t("sidebar.bookmark.untitled"),destination:t.destination,color:t.color?(0,z.colorConvertor)(t.color,"int"):void 0,style:t.style,children:null===(i=t.children)||void 0===i?void 0:i.map(e)}}))&&void 0!==s?s:[]},[2,this.bookmarkEngineService.addBookmark(A)]}})}).call(this)}},{key:"addBookmarkFromId",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.bookmarkEngineService.addBookmarkFromId(e,t)]})}).call(this)}},{key:"deleteBookmark",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.deleteBookmark(e)]})}).call(this)}},{key:"setDestination",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t?[3,2]:[4,this.getDestination()];case 1:t=n.sent(),n.label=2;case 2:return[2,this.bookmarkEngineService.setDestination(e,t)]}})}).call(this)}},{key:"performAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.triggerAction(e)]})}).call(this)}},{key:"triggerAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.triggerAction(e)]})}).call(this)}},{key:"appendAction",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.bookmarkEngineService.appendAction(e,t)]})}).call(this)}},{key:"removeAction",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.removeAction(e)]})}).call(this)}},{key:"updateAction",value:function(e,t,n){return(0,x._)(function(){return(0,N.Jh)(this,function(i){return[2,this.bookmarkEngineService.updateAction(e,t,n)]})}).call(this)}},{key:"getActions",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,this.bookmarkEngineService.getActions(e)]})}).call(this)}},{key:"renameBookmark",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.bookmarkEngineService.renameBookmark(e,t)]})}).call(this)}},{key:"setColor",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.bookmarkEngineService.setColor(e,t)]})}).call(this)}},{key:"setFontStyle",value:function(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(n){return[2,this.bookmarkEngineService.setFontStyle(e,t)]})}).call(this)}},{key:"cutBookmark",value:function(e,t){return this.bookmarkEngineService.cutBookmark(e,t)}},{key:"clearCutBookmark",value:function(){return this.bookmarkEngineService.clearCutBookmark()}},{key:"getCurrentCutBookmarkNodeInfo",value:function(){return this.bookmarkEngineService.getCurrentCutBookmarkNodeInfo()}},{key:"pasteCutBookmark",value:function(e,t,n){return(0,x._)(function(){return(0,N.Jh)(this,function(i){return[2,this.bookmarkEngineService.pasteCutBookmark(e,t,n)]})}).call(this)}},{key:"moveBookmark",value:function(e,t,n,i,r){return(0,x._)(function(){return(0,N.Jh)(this,function(o){return[2,this.bookmarkEngineService.moveBookmark(e,t,n,i,r)]})}).call(this)}},{key:"onPasteCutBookmark",value:function(e){return this.bookmarkEngineService.onPasteCutBookmark(e)}},{key:"onBookmarkDeleted",value:function(e){return this.bookmarkEngineService.onBookmarkDeleted(e)}},{key:"onBookmarkAdded",value:function(e){return this.bookmarkEngineService.onBookmarkAdded(e)}},{key:"onBookmarkMoved",value:function(e){return this.bookmarkEngineService.onBookmarkMoved(e)}},{key:"onBookmarkPropertiesUpdated",value:function(e){return this.bookmarkEngineService.onBookmarkPropertiesUpdated(e)}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.bookmarkEngineService).emitEvent.apply(r,[e].concat((0,R._)(n)))}},{key:"registerEvent",value:function(e,t){return this.bookmarkEngineService.registerEvent(e,t)}},{key:"rebuildBookmarkTree",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.bookmarkEngineService.rebuildBookmarkTree()]})}).call(this)}}],[{key:"inject",value:function(){return{pdfViewer:pT,bookmarkEngineService:xC}}}]),t}(z.Disposable),CC=function(){function e(){(0,C._)(this,e),(0,U._)(this,"verifyHandler",function(){throw new Error("Please specify verifyHandler before verifying the signature via SignatureService.setVerifyHandler method!")})}return(0,D._)(e,[{key:"setVerifyHandler",value:function(e){this.verifyHandler=e}}]),e}(),DC=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],EC=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,C._)(this,t),(i=(0,P._)(this,t)).id=e,i.engine=n,i.parameters=r,i.api=n.api,i.pageCache=[],i.pagePromiseCache=[],i.info={fileName:r.fileName,pageSizes:{},XFARemoved:!1},i.pdfaEditable=!1,i.visibleTemplates=[],i.invisibleTemplates=[],i.metadata={FileName:r.fileName},i.docModified=!1,i.docChangeMark=0;var o=[];for(var a in oe.Z)switch(a){case"layerVisibleChange":case"layerVisibleChanged":case"drmEncryptFailed":case"docModified":case"annotationLoaded":case"annotLoaded":case"obtainsPageFromEngine":case"permissionChanged":case"formReloaded":case"paragraphTextOnActivate":case"paragraphTextOnDeactivate":case"paragraphTextEnterEdit":case"objectStartEdit":case"objectEndEdit":case"action-updated":case"invalidRect":case"pdfDocCreated":break;default:o.push(oe.Z[a])}var s=function(){i.engine.eventEmitter.emit(oe.Z.docModified,i),i.docModified=!0};i.docModifiedHandler=s;var A=an(100,s);return o.map(function(e){i.engine.eventEmitter.on(e,A)}),i.engine.eventEmitter.on(ae.willCloseDocument,i.willCloseDocument=function(){o.map(function(e){i.engine.eventEmitter.removeListener(e,A)})}),i.permissionFactory={},i.pageIdMap={},i.docTextSearchIdMap={},i.isXFAHighlighted=!0,i.spawnPageExecutor=new z.QueuedAsyncTaskExecutor,i._pageLabelInfo={hasPageLabelStatus:"uninitialized",hasPageLabel:Promise.resolve(!1)},i.otherOptions={renderConfigLineWeight:!1,disableSavePrompt:!1,isOpenNewFileAfterClose:!1},i.selectedInfo=null,i.bookmarkAPI=new vC(i),i.formFieldAPI=i.obtainRemoteAPI(br.FORM_FIELD_API_CHANNEL_ID),i.formAPI=i.obtainRemoteAPI(br.FORM_API_CHANNEL_ID),i.widgetCreator=new yC(i,i.formAPI),i.form=new dP(i),i.form.ownsTo(i),i.signatureAPI=i.obtainRemoteAPI(br.FORM_SIGNATURE_API_CHANNEL_ID),i.formWidgetAPI=i.obtainRemoteAPI(br.FORM_WIDGET_PROPERTY_API_CHANNEL_ID),i.actionAPI=i.obtainRemoteAPI(Ge.ADDITIONAL_ACTION_API_CHANNEL_ID),i.additionalActionAPI=i.actionAPI,i.annotActionAPI=i.obtainRemoteAPI(Ge.ANNOT_ACTION_API_CHANNEL_ID),i.bookmarkActionAPI=i.obtainRemoteAPI(Ge.BOOKMARK_ACTION_API_CHANNEL_ID),i.esignCNAPI=i.obtainRemoteAPI(br.ESIGN_CN_API_CHANNEL_ID),i.signatureService=i.engine.ioc.getInstanceByClass(CC),i.bookmarkService=i.engine.ioc.getInstanceByClass(xC),i.engine.eventEmitter.emit(oe.Z.pdfDocCreated,i),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getFormFieldAPI",value:function(){return this.formFieldAPI}},{key:"getFormWidgetAPI",value:function(){return this.formWidgetAPI}},{key:"checkNoAdditionPerm",value:function(e){return void 0!==this.permissionFactory.additional&&!(this.permissionFactory.additional(this)&e)}},{key:"checkPermission",value:function(e){var t=void 0!==this.permissionFactory.standard?this.permissionFactory.standard(this):-1;return this.getPermissionsSync()&t&e}},{key:"isOwner",value:function(){return this.info.isOwner}},{key:"isDocModified",value:function(){return this.docModified}},{key:"setDocModified",value:function(){this.docModifiedHandler()}},{key:"getId",value:function(){return this.id}},{key:"getNameTreeIcons",value:function(){return this.info.icons}},{key:"getFileName",value:function(){return this.info.fileName}},{key:"createCertificateFile",value:function(e){return this.api.createCertificateFile(this.id,e)}},{key:"getCertificateSerials",value:function(){return this.api.getCertificateSerials(this.id)}},{key:"parseByCertificate",value:function(e){var t=this;return this.api.parseByCertificate(this.id,e).then(function(e){return t.afterParseHandler(e)})}},{key:"parseByPassword",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(n.encryptPassword&&(i.encryptPassword=n.encryptPassword),n.annotsJson){var r=Gt.JSONToFDF(n.annotsJson);i.fdf={file:r}}return n.fdf&&(i.fdf=n.fdf),n.drm&&(i.drm=n.drm),n.fileOpen&&(i.fileOpen=n.fileOpen),n.idJWT&&(i.idJWT=n.idJWT),n.webPluginSecurity&&(0,T._)(n.webPluginSecurity,Array)&&n.webPluginSecurity.length>0&&(i.webPluginSecurity=n.webPluginSecurity||[]),n.cdrm&&(i.cdrm=n.cdrm),this.api.parsePDFDocByPassword(this.id,e,i).then(function(e){return t.afterParseHandler(e)})}},{key:"parse",value:function(){return(0,x._)(function(){var e,t=arguments;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return(e=t.length>0&&void 0!==t[0]?t[0]:{}).certificateInfo?[4,this.parseByCertificate(e.certificateInfo,e)]:[3,2];case 1:case 3:return[2,n.sent()];case 2:return[4,this.parseByPassword(e.password,e)];case 4:return[2]}})}).apply(this,arguments)}},{key:"afterParseHandler",value:function(e){var t=e.code,n=e.info;return 0!==t?Promise.reject(e):(this.info=Object.assign(this.info,n),this.pageCache=new Array(this.info.pageCount),this.info.action&&(this.action=this.engine.actionFactory.createAction(this.info.action,this,this.api,this.engine.eventEmitter,this)),this)}},{key:"getJsNameTree",value:function(){return this.info.jsNameTree}},{key:"getMetadata",value:function(){var e=this;return this.api.getMetadata(this.id).then(function(t){return e.metadata=Object.assign(e.metadata,t)}).catch(function(){return e.metadata})}},{key:"getMetadataValue",value:function(e){return this.metadata[e]}},{key:"flatten",value:function(e){if(!(0!=this.info.fileType||this.checkPermission(Xt.annotForm)&&this.checkPermission(Xt.modify)&&this.checkPermission(Xt.assemble)))throw new Error("Permission error");for(var t=[],n=this.getPageCount(),i=0;i<n;i++){var r=this.getPageByIndex(i).then(function(t){return t.flatten(e)});t.push(r)}return Promise.all(t)}},{key:"setMetadataValue",value:function(e,t){var n=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");var i=Promise.resolve();return this.metadata.custom&&this.metadata.custom.hasOwnProperty(e)&&(i=this.api.removeMetadata(this.id,e).then(function(){delete n.metadata.custom[e]})),i.then(function(){n.api.setMetadataValue(n.id,e,t).then(function(e){return n.getMetadata()}).then(function(){return n.engine.eventEmitter.emit(oe.Z.metaDataChanged,n),n})})}},{key:"reloadPDFForm",value:function(){return Promise.resolve(this.form)}},{key:"loadPDFForm",value:function(){return Promise.resolve(this.form)}},{key:"getPDFForm",value:function(){return this.form}},{key:"getPageCount",value:function(){return this.info.pageCount}},{key:"getPageCountAsync",value:function(){return this.info.pageCount||this.api.getPageCountAsync(this.id)}},{key:"getFileVersion",value:function(){return this.api.getFileVersion(this.id).then(function(e){return(void 0!==e?e:14)/10})}},{key:"isLinearized",value:function(){return this.api.isLinearized(this.id)}},{key:"hasForm",value:function(){return this.api.hasForm(this.id)}},{key:"setCustomPermission",value:function(e,t){this.permissionFactory[e]=t}},{key:"getPermission",value:function(){return this.getPermissions()}},{key:"getPermissions",value:function(){return this.getPermissionsSync()}},{key:"getPermissionsSync",value:function(){if(this.permissionFactory.replaceStandard)return this.info.userPermissions=this.permissionFactory.replaceStandard(this),this.info.userPermissions;if(this.info.isOwner)return 4294967292;var e=-1;return(this.info.sigPerms||[]).forEach(function(t){return e&=t}),(e&this.info.userPermissions)>>>0}},{key:"hasSignature",value:function(){return(this.info.sigPerms||[]).length}},{key:"getStdCipherOptions",value:function(){return this.api.getStdCipherOptions(this.id)}},{key:"getPDFDocInfo",value:function(){return this.api.getPDFDocInfoById(this.id)}},{key:"getBookmarksJson",value:function(){return this.api.getBookmarks(this.id)}},{key:"getBookmarkChildren",value:function(e){return this.api.getBookmarkChildren({path:"jr/doc"},this.id,e)}},{key:"getBookmarkAPI",value:function(){return this.bookmarkAPI}},{key:"getBlankPageIndexes",value:function(){return this.api.getBlankPageIndexes(this.id)}},{key:"getCurFileSymbolId",value:function(){return this.api.getCurFileSymbolId(this.id)}},{key:"getFadeOutBackground",value:function(e){return this.api.getFadeOutBackground(this.id,e)}},{key:"getConvertToMono",value:function(e){return this.api.getConvertToMono(this.id,e)}},{key:"convertImageToBlackWhite",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getConvertToMono(e)];case 1:return t=i.sent(),n=uC(t[0]),[2,cC(n)]}})}).call(this)}},{key:"getLayerNodesJson",value:function(){var e=this;return this.isDestroyed?Promise.resolve():this.ocgs?Promise.resolve(this.ocgs):this.api.getLayerNodes(this.id).then(function(t){return e.ocgs=t})}},{key:"getRootLayerNodeChildrenCount",value:function(){return this.isDestroyed?Promise.resolve(0):this.api.getRootLayerNodeChildrenCount({path:"jr/doc"},this.id)}},{key:"getAllLayerNodeChildrenCount",value:function(){return this.isDestroyed?Promise.resolve(0):this.api.getAllLayerNodeChildrenCount({path:"jr/doc"},this.id)}},{key:"setLayerNodeVisible",value:function(e,t){var n=this,i=this.getLayerNodeById(e);return i.visible===t?Promise.resolve(!0):(i.visible=t,this.api.setLayerNodeVisiable(this.id,e,t).then(function(e){return e&&n.engine.eventEmitter.emit(oe.Z.layerVisibleChange,n),e}))}},{key:"setLayerNodeVisiable",value:function(e,t){return this.setLayerNodeVisible(e,t)}},{key:"isPageLoaded",value:function(e){return!!this.pageCache[e]||!!this.pagePromiseCache[e]}},{key:"getPageRotation",value:function(e){return this.api.getPageRotation({path:"jr/doc"},this.id,e)}},{key:"getPageByIndex",value:function(e){var t,n=this,i=this.pageCache;if(t=i[e])return Promise.resolve(t);var r=this.pagePromiseCache;return r[e]=r[e]||this.api.getPageInfoByIndex(this.id,e).then(function(t){var o=i[e]=new Er(t,n);return n.engine.eventEmitter.emit(oe.Z.obtainsPageFromEngine,o),delete r[e],o})}},{key:"getLoadedPageByIndex",value:function(e){return this.pageCache[e]}},{key:"getPageById",value:function(e){return this.pageIdMap[e]||null}},{key:"getCurrentDocTextSearch",value:function(){var e=Object.keys(this.docTextSearchIdMap);return this.docTextSearchIdMap[e[e.length-1]]||null}},{key:"getDocTextSearchById",value:function(e){return this.docTextSearchIdMap[e]||null}},{key:"destroy",value:function(){var e,n=this;this.isDestroyed=!0,this.engine.removeDoc(this.id),(e=this.form)&&e.destroy(),this.form=null,this.pageIdMap={},this.docTextSearchIdMap={};for(var i=this.pageCache,r=0,o=i.length;r<o;r++){var a=i[r];a&&a.destroy(),i[r]=null}var s=this.HF;return s&&s.destroy(),this.HF=null,this.preferencePromise=null,this.viewPreference&&this.viewPreference.destroy(),this.permissionFactory={},this.engine.eventEmitter.off(ae.willCloseDocument,this.willCloseDocument),this.willCloseDocument=null,this.pdfPortfolio=null,(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),Promise.resolve().then(function(){return n.api.destroyDoc(n.getId())})}},{key:"releasePage",value:function(e){var t=this;return this.api.destroyPage({path:"jr/doc"},this.id,e).then(function(e){return delete t.pageCache[e]})}},{key:"getDocBuffer",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.hasSignature()?1:0;n&&e.activeElement(null);var r=[];return Promise.resolve((e._saveBefore||function(){})()).then(function(){return t.getStream(function(e){var t=e.arrayBuffer;r.push(t)},i,n).then(function(){return r})})}},{key:"getStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this.checkNoAdditionPerm(1))throw new Error("Permission error, download disabled");return this.api.getPDFDocStream(this.id,e,t,n)}},{key:"getFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flags:0,fileName:this.getFileName(),progressHandler:er},n=t.flags,i=void 0===n?0:n,r=t.fileName,o=void 0===r?this.getFileName():r,a=t.progressHandler,s=void 0===a?er:a;if(this.checkNoAdditionPerm(Je.download))throw new Error("Permission denied! Missing additional download permission.");var A=this.info.fileSize,c=0,u=function(e){var t=e.current,n=e.total,i=void 0===n?100:n,r=e.status;s({current:t,total:i,status:r})};u({current:c,status:Tk.PROGRESSING});var l,d=[],h=0,f=function(e){var t=e.blob,n=e.arrayBuffer,i=e.offset,r=e.size;c=Math.floor(i/A*99),u({current:c,status:Tk.PROGRESSING}),n?(d.push({arrayBuffer:n,offset:i}),h=Math.max(i+r,h)):l=t};return e.api.getPDFDocStream(e.id,f,i).then(function(){if(l)return[l];var e=new Uint8Array(h);return d.forEach(function(t){var n=t.arrayBuffer,i=t.offset;e.set(new Uint8Array(n),i)}),e}).then(function(e){try{return u({current:100,status:Tk.SUCCESS}),new File([e],o,{type:"application/pdf"})}catch(n){e.name=o;var t=new Date;return e.lastModified=t.getTime(),e.lastModifiedDate=t,e.webkitRelativePath="",e}}).catch(function(t){u({current:c,status:Tk.FAIL}),e.engine.eventEmitter.emit(ae.progressChanged,"getFileProgress",100,Tk.FAIL)})}},{key:"exportAnnotsToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);var n=arguments[2],i={};if(t)for(var r in t.forEach(function(e){var t;i[e.page.getId()]||(i[e.page.getId()]=new Set),t=i[e.page.getId()],RC(e,t,n)}),i)i[r]=Array.from(i[r]);return this.api.exportToFDF(this.id,e,2,i)}},{key:"exportXFAToFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.FileFormat.xdp;if(!(this.isStaticXFA()||this.isDynamicXFA()))throw new Error("The document is not XFA document.");return this.api.exportXFAForm({path:"jr/doc"},this.id,e)}},{key:"importXFAFromFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.FileFormat.xdp;if(!(this.isStaticXFA()||this.isDynamicXFA()))throw new Error("The document is not XFA document.");return this.api.importXFAForm({path:"jr/doc"},this.id,e,n).then(function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.engine.eventEmitter.emit(oe.Z.xfaFormImported,this),[2,e]})}).call(t)})}},{key:"exportFormToFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.FileFormat.fdf;switch(e){case 0:e=z.FileFormat.fdf;break;case 1:e=z.FileFormat.xfdf;break;case 2:e=z.FileFormat.xml;break;case 3:e=z.FileFormat.csv;break;case 4:e=z.FileFormat.text;break;case 5:e=z.FileFormat.json;break;case z.FileFormat.fdf:case z.FileFormat.xfdf:case z.FileFormat.xml:case z.FileFormat.csv:case z.FileFormat.text:case z.FileFormat.json:break;default:throw new Error("Invalid file type ".concat(format,", It must be 'fdf', 'xfdf', 'xml', 'csv', 'text' or 'json'"))}return this.form.exportToFile(e)}},{key:"exportToFDF",value:function(e,t){return this.api.exportToFDF(this.id,e,2).then(function(e){return new Uint8Array(e)})}},{key:"exportDataToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);return this.api.exportToFDF(this.id,e,t)}},{key:"exportToStardardXml",value:function(e,t,n){return this.api.exportToStardardXml(this.id,e,t,n)}},{key:"exportToImage",value:function(e,t,n,i){return this.api.exportToImage(this.id,e,t,n,i)}},{key:"exportToTxt",value:function(e,t,n){return this.api.exportToTxt(this.id,e,t,n)}},{key:"exportImageObjectToImage",value:function(e,t,n,i){return this.api.exportImageObjectToImage(this.id,e,t,n,i)}},{key:"cancelExport",value:function(){return this.api.cancelExport(this.id)}},{key:"importAnnotsFromFDF",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.checkPermission(Xt.annotForm))throw new Error("Permission error");return this.api.importFromFDF(this.id,e,2).then(function(){for(var e=function(e,t){var r=n[e];if(!r)return"continue";i.push(r.getUnloadedAnnots().then(function(e){return{page:r,newAnnots:e}}))},n=t.pageCache,i=[],r=0,o=n.length;r<o;r++)e(r);return Promise.all(i)}).then(function(e){t.engine.eventEmitter.emit(oe.Z.annotationImported,t,e),!n&&t.engine.eventEmitter.emit(oe.Z.annotationImportedEx,t,e)})}},{key:"resetXFAForm",value:function(){var e=this;return this.api.resetXFAForm({path:"jr/doc"},this.id).then(function(t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.engine.eventEmitter.emit(oe.Z.xfaFormReset,this),[2,t]})}).call(e)})}},{key:"setHighlightXFAFields",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.isXFAHighlighted===e?[2]:(this.isXFAHighlighted=e,[4,this.api.highlightXFAFields({path:"jr/doc"},this.id,e)]);case 1:return t.sent(),[2]}})}).call(this)}},{key:"isHighlightXFAFields",value:function(){return this.isXFAHighlighted}},{key:"importFormFromFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTF-8";return(0,x._)(function(){return(0,N.Jh)(this,function(i){switch(i.label){case 0:if(!this.checkPermission(Xt.annotForm+Xt.fillForm))throw new Error("Permission error");switch(t){case 0:t=z.FileFormat.fdf;break;case 1:t=z.FileFormat.xfdf;break;case 2:t=z.FileFormat.xml;break;case 3:t=z.FileFormat.csv;break;case 4:t=z.FileFormat.text;break;case 5:t=z.FileFormat.json;break;case z.FileFormat.fdf:case z.FileFormat.xfdf:case z.FileFormat.xml:case z.FileFormat.csv:case z.FileFormat.text:case z.FileFormat.json:break;default:throw new Error("Invalid file type ".concat(t,", It must be 'fdf', 'xfdf', 'xml', 'csv', 'text' or 'json'"))}i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.form.importFromFile(e,t,{encoding:n})];case 2:return i.sent(),this.engine.eventEmitter.emit(oe.Z.formFieldImported,this),this.engine.eventEmitter.emit(oe.Z.docModified,this),[3,4];case 3:throw i.sent();case 4:return[2]}})}).call(this)}},{key:"importFromFDFFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.form.importFDF();var i=e,r=!1;if((0,T._)(e,Uint8Array)&&e.length>52428800){var o=new Blob([e],{type:"arraybuffer"});i=URL.createObjectURL(o),r=!0}return this.api.importFromFDFFile(this.id,i,-1,n).then(function(e){for(var n=function(e,t){var n=i[e];if(!n)return"continue";r.push(n.getUnloadedAnnots().then(function(e){return{page:n,newAnnots:e}}))},i=t.pageCache,r=[],o=0,a=i.length;o<a;o++)n(o);return Promise.all(r)}).then(function(e){r&&URL.revokeObjectURL(i);var o=oe.Z.annotationImported;1==n&&(o=oe.Z.annotationImported),t.engine.eventEmitter.emit(o,t,e)},function(e){console.error("some error happened. Please check fdf file exists.",e)})}},{key:"exportAnnotsToJSON",value:function(e){var t=this,n=Promise.resolve();if(e&&0!=e.length){var i={},r=e.map(function(e,t){var n=e.exportToJSON();return"stamp"!=n.type&&"fileattachment"!=n.type||(i[t]={page:n.page,index:e.getId()}),n});n=Promise.all([r,this.getAnnotsRawData(i)])}else n=this.getAnnots().then(function(e){for(var n={},i=[],r=0,o=e.length;r<o;r++)for(var a=e[r],s=0,A=a.length;s<A;s++){var c=a[s].getType();if("widget"!=c&&"popup"!=c&&"watermark"!=c){var u=a[s].exportToJSON();i.push(u),"stamp"!=u.type&&"fileattachment"!=u.type||(n[i.length-1]={page:r,index:a[s].getId()})}}return Promise.all([i,t.getAnnotsRawData(n)])});return n.then(function(e){var t=(0,M._)(e,2),n=t[0];return t[1].forEach(function(e){return n[e.index].raw=e.raw}),n})}},{key:"getAnnotsRawData",value:function(e){return e.length>0?[]:this.api.getAnnotsRawData(this.id,e)}},{key:"importAnnotsFromJSON",value:function(e){if(!this.checkPermission(Xt.annotForm))throw new Error("Permission error");var t=Gt.JSONToFDF(e);return this.importAnnotsFromFDF(t)}},{key:"getPageAnnots",value:function(e){return FC(e,this.getPageCount()),this.getPageByIndex(e).then(function(e){return e.getAnnots()})}},{key:"getPageAnnotsIdList",value:function(e){return FC(e,this.getPageCount()),this.getPageByIndex(e).then(function(e){return Object.keys(e.annotIdMap).map(function(e){return+e})})}},{key:"hasAnnots",value:function(e){return this.api.hasAnnots({path:"jr/doc"},this.id,e)}},{key:"getAllPageAnnotCount",value:function(){return this.api.getAllPageAnnotCount({path:"jr/doc"},this.id)}},{key:"getAllAnnotsData",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.api.getAllAnnotsData({path:"jr/doc"},this.id)]})}).call(this)}},{key:"getAnnots",value:function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return e=this,[4,this.getAllPageAnnotCount()];case 1:return t=n.sent(),[2,Promise.all(Array(this.getPageCount()).fill(null).map(function(n,i){return t[i]?e.getPageAnnots(i):[]}))]}})}).call(this)}},{key:"addAnnots",value:function(e){var t=this;e=e.map(function(e){var n=e.page;if(void 0===n)throw"page is required.";e.type&&(e=_r(e,t.engine.getUserCommentConfig()));var i=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return e.groupElements&&(e.groupElements=e.groupElements.map(function(e){e=_r(e,t.engine.getUserCommentConfig());var n=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,z.extendOptions)({},n,e)})),(0,z.extendOptions)({page:n},i,e)});var n=this.getId(),i=0,r="addAnnots",o=ae.progressChanged,a=e.filter(function(e){return!!e.states&&e.states.length>0}).map(function(e){return e.name});return this.api.addAnnots(n,e,function(e){i=e,t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Tk.PROGRESSING)}).then(function(e){var n=(100-i)/(e.length+1);return Promise.all(e.map(function(e){return t.getPageByIndex(e.page).then(function(s){return s.getUnloadedAnnots().then(function(t){return s.getAnnotsByIdArray(a).then(function(e){return e.flatMap(function(e){return e.getMarkedStates()}).reduce(function(e,t){return e[t.objectNumber]=t,e},{})}).then(function(t){var n=s.annotIdMap;return e.annots.map(function(e){return n[e]||t[e]})})}).then(function(e){i+=n;for(var a=[],A=s.annotIdMap,c=t.engine.eventEmitter,u=0,l=e.length;u<l;u++){var d=e[u];d.getType()===Zi.text?d.isStateAnnot()?(a.length&&(c.emit(oe.Z.annotationAdd,a,s),a=[]),c.emit(1===d.info.stateMode?oe.Z.annotationMarkedStateAnnotAdded:oe.Z.annotationReviewStateAnnotAdded,d,A[d.info.IRT]),c.emit(oe.Z.annotationUpdated,[d],s,Qt.replyAdded)):d.isReplyAnnot()?(a.length&&(c.emit(oe.Z.annotationAdd,a,s),a=[]),c.emit(oe.Z.annotationReplyAdded,d,A[d.info.IRT]),c.emit(oe.Z.annotationUpdated,[d],s,Qt.markedStateUpdated)):a.push(d):a.push(d)}return a.length&&c.emit(oe.Z.annotationAdd,a,s),c.emit(o,r,Number(i.toFixed(2)),Tk.PROGRESSING),e})})}))}).then(function(e){t.engine.eventEmitter.emit(o,r,100,Tk.SUCCESS);var n=[];return e.forEach(function(e){n=n.concat(e)}),n}).catch(function(e){throw t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Tk.FAIL),e})}},{key:"getAnnotIdMap",value:function(){for(var e=this,t=[],n={},i=0,r=this.getPageCount();i<r;i++)t.push(function(t){return e.getPageByIndex(t).then(function(e){Object.assign(n,e.annotIdMap)})}(i));return Promise.all(t).then(function(){return n})}},{key:"getTextSearch",value:function(e,t){return new hP(this,e,t)}},{key:"addAnnot",value:function(e,t){if(!this.checkPermission(Xt.annotForm))throw new Error("Permission error");return FC(e,this.getPageCount()),this.getPageByIndex(e).then(function(e){return e.addAnnot(t)})}},{key:"addAnnotGroup",value:function(e,t,n){if(!this.checkPermission(Xt.annotForm))throw new Error("Permission error");return FC(e,this.getPageCount()),this.getPageByIndex(e).then(function(e){return e.addAnnotGroup(t,n)})}},{key:"setOpenAction",value:function(e,t){var n=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.setDocOpenAction(this.getId(),e,t).then(function(i){return i&&n.engine.eventEmitter.emit(oe.Z.docOpenActionUpdated,n,e,t),i})}},{key:"getOpenAction",value:function(){return this.api.getDocOpenActionData({path:"jr/doc"},this.getId())}},{key:"doOpenAction",value:function(){return this.api.doDocOpenAction({path:"jr/doc"},this.getId())}},{key:"removeOpenAction",value:function(){var e=this;return this.api.removeOpenAction({path:"jr/doc"},this.id).then(function(t){return e.engine.eventEmitter.emit(oe.Z.docOpenActionRemoved,e),t})}},{key:"getSecurityType",value:function(){return this.api.getSecurityType(this.id)}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(this.id,e,t)}},{key:"setCertificateAndPermission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fP.AES256,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.setCertificateAndPermission(this.id,e,t,n)}},{key:"setPasswordAndPermission",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fP.AES256,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments[5];if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.setPasswordAndPermission(this.id,e,t,i,r,o).then(function(s){return(a&&(a.userPassword||a.ownerPassword)||e&&-1!=e||t&&-1!=t)&&s&&(n.setPasswordType(t||e&&!t?3:2),n.setHasOwnerPassword(!!t),n.info.oriPerm=i,n.engine.eventEmitter.emit(oe.Z.docPasswordChanged,n,{userPassword:e,ownerPassword:t,permission:i,cipherType:r,isEncryptMetadata:o})),s})}},{key:"removeSecurity",value:function(){var e=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.removeSecurity(this.id).then(function(t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return t&&(this.info.oriPerm=4294967295,this.engine.eventEmitter.emit(oe.Z.removePwdAndPerm,this)),[2,t]})}).call(e)})}},{key:"isCorrectPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;return this.checkPassword(e).then(function(e){return 0!==e})}},{key:"getViewerPreference",value:function(){return this.preferencePromise||(this.preferencePromise=this.api.getViewerPreference(this.id).catch(function(){return{pageLayout:"Default",uiLayout:"Default",language:"Default",viewerPreference:{}}}))}},{key:"setViewPreference",value:function(e,t){return this.preferencePromise=null,this.api.setViewPreference(this.id,e,t)}},{key:"getViewPreference",value:function(){var e=this;return this.viewPreference?Promise.resolve(this.viewPreference):this.getViewerPreference().then(function(t){return e.viewPreference=new mC(e,t)})}},{key:"checkPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then(function(e){return 3===e&&(t.info.isOwner=!0),t.engine.eventEmitter.emit(oe.Z.permissionChanged,t),e})}},{key:"getTypeByPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then(function(e){return 3===e&&(t.info.isOwner=!0),e})}},{key:"getUserPassword",value:function(e){return this.api.getUserPassword(this.id,e)}},{key:"getPasswordType",value:function(){return Promise.resolve(this.info.passwordType)}},{key:"setPasswordType",value:function(e){return this.info.passwordType=e}},{key:"isOwnerPassword",value:function(){return 3===this.info.passwordType}},{key:"hasOwnerPassword",value:function(){return!!this.info.hasOwnerPassword}},{key:"setHasOwnerPassword",value:function(e){this.info.hasOwnerPassword=!!e}},{key:"getUserPermissions",value:function(){return this.info.userPermissions}},{key:"makeRedactByPages",value:function(e){if(!this.checkPermission(Xt.annotForm))throw new Error("Permission error");for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getPageByIndex(i).then(function(e){var t;if(!e.isVirtual())return t=1==e.info.rotation||3==e.info.rotation?{left:0,top:0,right:e.getHeight(),bottom:e.getWidth()}:{left:0,top:0,right:e.getWidth(),bottom:e.getHeight()},e.markRedactAnnot([t])});t.push(r)}return Promise.all(t).then(function(e){return e.filter(Boolean)})}},{key:"movePageTo",value:function(e,t){var n=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");this.info.pageSizes={};var i=this.getPageCount();if(e<0||t<0||e>=i||t>=i)throw new Error("Param error: PageIndex or DestIndex is out of the valid range.");return this.getPageByIndex(e).then(function(i){return n.api.movePageTo(n.id,i.getId(),t).then(function(i){if(i){var r=n.pageCache[e];n.pageCache.splice(e,1),n.pageCache.splice(t,0,r);var o=Math.min(e,t),a=Math.max(e,t);n.updatePageIndex(o,a),n.engine.eventEmitter.emit(oe.Z.pageMoved,e,t)}return i})})}},{key:"insertBlankPages2",value:function(e,t,n){return(0,x._)(function(){var i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:if(i=this,!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");if(this.info.pageSizes={},this.getPageCount(),"number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return[4,this.api.insertBlankPages2(this.id,e,t,n)];case 1:return r=s.sent(),[4,this.api.getLayerNodes(this.id)];case 2:return o=s.sent(),delete this.ocgs,this.ocgs=o,a=r.reduce(function(e,t){if(!t)return!1;i.info.pageCount++;var n=new Er(t,i),r=t.index;return i.pageCache.splice(r,0,n),i.updatePageIndex(r+1,i.info.pageCount-1),(0,R._)(e).concat([n])},[]),this.updatePageLabelsByAction("insertPagesByRange",[r.map(function(e){return e.index})]),this.engine.eventEmitter.emit(oe.Z.insertPages,a),[2,a]}})}).call(this)}},{key:"insertPage",value:function(e,t,n){var i=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if(e<0||e>r)throw new Error("Param error: PageIndex is out of the valid range.");if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return this.api.insertPage(this.id,e,t,n).then(function(e){return delete i.ocgs,i.api.getLayerNodes(i.id).then(function(e){return i.ocgs=e}).then(function(t){return e})}).then(function(e){if(!e)return!1;i.info.pageCount++;var t=new Er(e,i);return i.pageCache.splice(e.index,0,t),i.updatePageIndex(e.index+1,i.info.pageCount-1),i.engine.eventEmitter.emit(oe.Z.pageAdded,t),t})}},{key:"loadInsertPage",value:function(e,t){this.info.pageCount++;var n=new Er(t,this);this.pageCache.splice(t.index,0,n),this.updatePageIndex(t.index+1,this.info.pageCount-1),this.engine.eventEmitter.emit(oe.Z.pageAdded,n)}},{key:"showNameTreePageAtTheEnd",value:function(){var e=this;return this.api.showNameTreePageAtTheEnd(this.id).then(function(t){return delete e.ocgs,e.api.getLayerNodes(e.id).then(function(t){return e.ocgs=t}).then(function(e){return t})}).then(function(t){if(!t)return!1;e.info.pageCount++;var n=new Er(t,e);return e.pageCache.splice(t.index,0,n),e.engine.eventEmitter.emit(oe.Z.pageAdded,n),e.engine.eventEmitter.emit(oe.Z.pagesLabelNeedUpdate,n),n})}},{key:"removePage",value:function(e){var t=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(e<0||e>=n)throw new Error("Param error: PageIndex is out of the valid range.");if(1==n)throw new Error("Not allowed to remove the only page.");var i=[];return this.pageCache[e]||i.push(this.getPageByIndex(e)),Promise.all(i).then(function(n){return t.api.removePage(t.id,e).then(function(n){if(n){t.info.pageCount--;var i=t.pageCache[e].info.objectNumber;t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1),t.engine.eventEmitter.emit(oe.Z.pageRemoved,e,i,t),t.removePageStatus=!0}return n})})}},{key:"cleanupRemovedPages",value:function(e,t){this.info.pageSizes={},this.info.pageCount-=t-e+1;for(var n=[],i=e;i<=t;i++){var r=this.pageCache[i];if(r){var o=r.info.objectNumber;n.push(o)}else n.push(void 0)}var a=t-e+1;this.pageCache.splice(e,a),this.updatePageIndex(e,this.info.pageCount-a),this.engine.eventEmitter.emit(oe.Z.pagesRemoved,e===t?[[e]]:[[e,t+1]],n,this)}},{key:"hideNameTreePage",value:function(e,t){var n=this;return this.api.hideNameTreePage(this.id,e).then(function(t){if(t){var i=e;e<0&&(i=n.info.pageCount-1),n.info.pageCount--;var r=n.pageCache[i]&&n.pageCache[i].info.objectNumber,o=n.pageCache[i];n.pageCache.splice(e,1),n.updatePageIndex(e,n.info.pageCount-1),n.engine.eventEmitter.emit(oe.Z.pageRemoved,i,r,n),n.engine.eventEmitter.emit(oe.Z.pagesLabelNeedUpdate),n.removePageStatus=!0,o&&o.destroy()}return t})}},{key:"updatePageIndex",value:function(e,t){for(var n=e;n<=t;n++)this.pageCache[n]&&(this.pageCache[n].info.index=n);this.pageCache.forEach(function(e){e&&e.annots.forEach(function(e){"link"!=e.info.type&&"screen"!=e.info.type||e._update(1)})})}},{key:"applyRedaction",value:function(){var e=this;if(!this.checkPermission(Xt.annotForm)||!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.registerProgressFlow("applyRedaction"),this.api.applyRedaction(this.id).then(function(t){var n=function(n){var r=t[n],o=e.getPageByIndex(r.pageIndex).then(function(t){var n=t.clearAnnotIds(r.removedAnnotIds).filter(function(e){return e});return e.engine.eventEmitter.emit(oe.Z.annotationRemoved,n,t),{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}});i.push(o)};if(!t)return!1;for(var i=[],r=0;r<t.length;r++)n(r);return Promise.all(i).then(function(t){return e.engine.eventEmitter.emit(oe.Z.applyRedaction,t),t})})}},{key:"drmEncrypt",value:function(e){var t=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.drmEncrypt(this.getId(),e).then(function(e){return t.info=Object.assign(t.info,e),t.engine.eventEmitter.emit(oe.Z.drmEncryptSuccess,t),t},function(e){return t.engine.eventEmitter.emit(oe.Z.drmEncryptFailed,e,t),Promise.reject(e)})}},{key:"getTemplates",value:function(){var e=this;if(this.isDestroyed)return Promise.resolve();this.api.getTemplates(this.id).then(function(t){t&&(e.visibleTemplates=t.visibleArr,e.invisibleTemplates=t.invisibleArr)})}},{key:"hideTemplate",value:function(e,t){var n=this,i=this;if(!t)return this.api.hideTemplate(this.id,e,t).then(function(){i.visibleTemplates.push(e);for(var t=-1,n=0;n<i.invisibleTemplates.length;n++){var r=i.invisibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.invisibleTemplates.splice(t,1)});for(var r,o=function(o){r.getPageByIndex(o).then(function(r){r.info.objectNumber===e.objNum&&i.removePage(o).then(function(){return i.api.hideTemplate(n.id,e,t).then(function(){i.invisibleTemplates=i.invisibleTemplates.push(e);for(var t=-1,n=0;n<i.visibleTemplates.length;n++){var r=i.visibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.visibleTemplates.splice(t,1)})})})},a=this.getPageCount(),s=0;s<a;s++)r=this,o(s)}},{key:"spawnPage",value:function(e,t,n,i){var r=this,o=this.spawnPageExecutor.insert(function(){return r.api.spawnPage(r.id,e,t,n,i).then(function(e){return delete r.ocgs,r.api.getLayerNodes(r.id).then(function(e){return r.ocgs=e}).then(function(t){return e})}).then(function(e){if(!e)return!1;r.info.pageCount++;var t=new Er(e,r);return r.pageCache.splice(e.index,0,t),r.updatePageIndex(e.index+1,r.info.pageCount-1),t}).then(function(e){return!!e&&(r.engine.eventEmitter.emit(ae.spawnPageSuccess),e)})});return this.spawnPageExecutor.execInverse(function(){return o.then(function(e){var t=(0,M._)(e,1)[0];if(!t)return!1;r.engine.eventEmitter.emit(oe.Z.pageAdded,t)})}),o.then(function(e){return(0,M._)(e,1)[0]})}},{key:"removeTemplate",value:function(e){var t=this;return this.api.removeTemplate(this.id,e).then(function(n){for(var i=-1,r=0;r<t.invisibleTemplates.length;r++){if(t.invisibleTemplates[r].name===e){i=r;break}}t.invisibleTemplates.splice(i,1),i=-1;for(var o=0;o<t.visibleTemplates.length;o++){if(t.visibleTemplates[o].name===e){i=o;break}}return t.visibleTemplates.splice(i,1),Promise.resolve()})}},{key:"getPageSizes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getPageCount()-t;return t<0&&(t=0),t+n>this.getPageCount()&&(n=this.getPageCount()-t),this.api.getPageSizes(this.id,t,n).then(function(t){return Object.assign(e.info.pageSizes,t),t})}},{key:"getPageSizesByIndex",value:function(e){return this.api.getPageSizes(this.id,e,1).then(function(e){return e})}},{key:"getPageSize",value:function(e){var t=this.pageCache[e];if(t)return{width:t.getWidth(),height:t.getHeight()};var n=this.info.pageSizes;return n[e]?Object.assign({},n[e]):void 0}},{key:"getEstimatedPageSize",value:function(e){var t=this.info.pageSizes,n=Object.keys(t);if(n.length>0)return Object.assign({},t[n.pop()])}},{key:"getPageSizesSync",value:function(){var e=this;return 0==Object.keys(this.info.pageSizes).length&&this.pageCache.forEach(function(t,n){t&&(e.info.pageSizes[n]={width:t.getWidth(),height:t.getHeight()})}),this.info.pageSizes}},{key:"isPageSameSize",value:function(){var e=this.getPageSizesSync(),t=new Set(Object.values(e).map(function(e){return e.width}));return this.pageSameSize=1==t.size}},{key:"updatePageSize",value:function(e,t,n){var i=this.info.pageSizes;i[e]&&(i[e].width=t,i[e].height=n)}},{key:"insertPages",value:function(e){var t=this,n=e.destIndex,i=e.file,r=e.password,o=void 0===r?"":r,a=e.flags,s=void 0===a?0:a,A=e.layerName,c=void 0===A?"":A,u=e.startIndex,l=e.endIndex;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");var d=this.getPageCount();if(n<0||n>d)throw new Error("Param error: Index is out of the valid range.");if(1==s&&!c)throw new Error("Param error: If parameter flags is 1, parameter layerName should not be empty");return this.api.startImportPages(this.id,n,i,o,s,c,u,l).then(function(e){return delete t.ocgs,t.api.getLayerNodes(t.id).then(function(e){return t.ocgs=e}).then(function(t){return e})}).then(function(e){var i;t.info.pageSizes={},t.info.pageCount+=e.length;var r=[];return e.forEach(function(e){var n=new Er(e,t);r.push(n)}),(i=t.pageCache).splice.apply(i,[n,0].concat((0,R._)(r))),t.updatePageIndex(n,t.info.pageCount-1),t.updatePageLabelsByAction("insertPages",[n,e.length]),t.engine.eventEmitter.emit(oe.Z.importPages,r),r})}},{key:"mergePDFDoc",value:function(e){var t=e||{},n=t.insertIndex,i=t.doc,r=t.pages;if(!i)return Promise.reject(new Error("Missing required option: doc"));var o=this.getPageCount();"number"!=typeof n&&(n=o),n=Math.max(0,Math.min(o,n)),Array.isArray(r)?r.sort(function(e,t){return e>t?1:-1}):r=Array(i.getPageCount()).fill(0).map(function(e,t){return t});var a=i.getPageCount();for(var s in r){var A=r[s];if(A<0||A>=a)return Promise.reject(new Error("Incorrect page index: ".concat(A,", it must be greater than or equal to 0 or less then total page count ").concat(a)))}return this.importPagesFromPDFDocs({destIndex:n,srcDocs:[{srcDocId:i.getId(),srcPages:r}],layerName:e.layerName})}},{key:"importPagesFromPDFDocs",value:function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l,d,h;return(0,N.Jh)(this,function(f){switch(f.label){case 0:if(t=this,n=e.destIndex,i=e.srcDocs,r=void 0===i?[]:i,o=e.layerName,a=void 0===o?"":o,!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");if(A=this.getPageCount(),n<0||n>A)throw new Error("Param error: Index is out of the valid range.");return[4,this.api.importPagesFromPDFDocs(this.id,n,r,a)];case 1:return c=f.sent(),u=c.pagesJson,l=c.errs,0===u.length?[2,{pages:[],errs:l}]:(delete this.ocgs,d=this,[4,this.api.getLayerNodes(this.id)]);case 2:return d.ocgs=f.sent(),this.info.pageSizes={},this.info.pageCount+=u.length,h=u.map(function(e){return new Er(e,t)}),(s=this.pageCache).splice.apply(s,[n,0].concat((0,R._)(h))),this.updatePageIndex(n,this.info.pageCount-1),this.updatePageLabelsByAction("insertPages",[n,u.length]),this.engine.eventEmitter.emit(oe.Z.importPages,h),[2,{pages:h,errs:l}]}})}).apply(this,arguments)}},{key:"exportPagesToPDFDocs",value:function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return t=this,n=e.srcPages,i=e.destDocs,r=void 0===i?[]:i,o=e.layerName,a=void 0===o?"":o,s=e.bookmarkTitle,A=void 0===s?"":s,[4,this.api.exportPagesToPDFDocs(this.id,n,r.map(function(e){var t=e.destDoc,n=e.destIndex;return{destDocId:t.getId(),destIndex:n}}),a,A)];case 1:return c=u.sent(),[4,Promise.all(c.map(function(e){var n=e.docId,i=e.name;return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return e={},n?[4,this.engine.getPDFDocByCacheId(n)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=null,r.label=3;case 3:return[2,(e.doc=t,e.name=i,e)]}})}).call(t)}))];case 2:return[2,u.sent()]}})}).apply(this,arguments)}},{key:"getPDFDocById",value:function(e){return this.engine.getPDFDocByCacheId(e)}},{key:"extractPages",value:function(e){if(!this.checkPermission(Xt.extract))throw new Error("Permission error");var t=[],n=this.getPageCount();if((0,T._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach(function(e){if((0,T._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(isNaN(e[1])||e[1]<0||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")}),this.api.extractPages(this.id,e,function(e){var n=e.arrayBuffer;t.push(n)},undefined,undefined).then(function(e){return t})}},{key:"copyPages",value:function(e,t){var n=this.getPageCount();if(!(0,z.isInteger)(t)||t>n)throw new Error("Param error: ToPageIndex is out of the valid range.");if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach(function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(!(0,z.isInteger)(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(!(0,z.isInteger)(e[1])||e[1]<=e[0]||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")}),this.api.copyPages(this.id,e,t).then(this._importPagesAndUpdate.bind(this,t))}},{key:"_importPagesAndUpdate",value:function(e,t){return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(o){return n=this,this.info.pageSizes={},this.info.pageCount+=t.length,r=[],t.forEach(function(e){var t=new Er(e,n);r.push(t)}),(i=this.pageCache).splice.apply(i,[e,0].concat((0,R._)(r))),this.updatePageIndex(e,this.info.pageCount-1),this.updatePageLabelsByAction("insertPages",[e,t.length]),this.engine.eventEmitter.emit(oe.Z.importPages,r),[2,r]})}).call(this)}},{key:"saveCopyPagesData",value:function(e){return this.api.saveCopyPagesData(this.id,e)}},{key:"pastePages",value:function(e){return this.api.pastePages(this.id,e).then(this._importPagesAndUpdate.bind(this,e))}},{key:"embedAllPageThumbnail",value:function(e){var t=this,n=function(i){e(i),(1===i||-1===i)&&t.api.workerPromise.off("embeddingProgress",n)};return this.api.workerPromise.on("embeddingProgress",n),this.api.embedAllPageThumbnail(this.id).then(function(e){e&&t.engine.eventEmitter.emit(oe.Z.docModified,t)})}},{key:"removeEmbeddedPageThumbnail",value:function(e){var t=this,n=function(i){e(i),1!==i&&-1!==i||t.api.workerPromise.off("removingProgress",n)};return this.api.workerPromise.on("removingProgress",n),this.api.removeEmbeddedPageThumbnail(this.id).then(function(e){e&&(t.engine.eventEmitter.emit(oe.Z.removeEmbeddedPageThumbnail),t.removePageStatus=!0)})}},{key:"cancelEmbedAllPageThumbnail",value:function(){return this.api.cancelEmbedAllPageThumbnail(this.id)}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(){return this.api.cancelRemoveEmbeddedPageThumbnail(this.id)}},{key:"setPagesBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.indexes,n=e.width,i=e.height,r=e.offsetX,o=e.offsetY,a=e.boxes,s=e.removeWhiteMargin;if(!Array.isArray(t))return Promise.reject(new Error("Missing require parameter or incorrect type: 'indexes'"));var A=this.getPageCount();for(var c in t){var u=t[c];if(!(0,z.isNumberInRange)(u,0,A,!0,!1))return Promise.reject(new Error("Incorrect page index: ".concat(u,", it must be in the range of 0 to ").concat(A-1,". indexes: [").concat(t.join(","),"]")))}return this.setAllBoxesByIndexes(t,n,i,r,o,a||{},s)}},{key:"getAllBoxesByPageIndex",value:function(e){var t=this.getPageCount();if(!(0,z.isNumberInRange)(e,0,t,!0,!1))return Promise.reject(new Error("Incorrect page index: ".concat(e,", it must be in the range of 0 to ").concat(t-1)));if(0!=this.info.fileType)throw new Error("Permission error");if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.getAllBoxes(this.id,e).then(function(e){return e})}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a){var s=this;if(0!=this.info.fileType)throw new Error("Permission error");if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.setAllBoxesByIndexes(this.id,e,t,n,i,r,o,a).then(function(e){var t=[];return e.forEach(function(e){var n=e.index;s.updatePageSize(n,e.width,e.height);var i=s.pageCache,r=i[n];r?r._updateInfo(e):r=new Er(e,s),i[n]=r,t.push(r)}),s.engine.eventEmitter.emit(oe.Z.pagesBoxChange,t),t})}},{key:"getPageFormat",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("batesNumbering"!==e&&!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.getPageFormat(this.id,e,t,n,i,r,o).then(function(e){return e})}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a){if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.getPageFormatThumb(this.id,e,t,n,i,r,o,a).then(function(e){return e})}},{key:"addPageFormat",value:function(e,t,n){var i=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.addPageFormat(this.id,e,t,n).then(function(t){if(t>0&&"watermark"==e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,A=i.pageCache[Symbol.iterator]();!(r=(s=A.next()).done);r=!0){var c=s.value;if(c){var u=c.getAnnots(!0);n.push(u)}}}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return Promise.all(n).then(function(){return i.setDocModified(),t})}return i.setDocModified(),t})}},{key:"removeAllPageFormat",value:function(e){var t=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.removeAllPageFormat(this.id,e).then(function(n){if(n>0&&"watermark"==e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,A=t.pageCache[Symbol.iterator]();!(r=(s=A.next()).done);r=!0){var c=s.value;if(c){var u=c.getAnnots(!0);i.push(u)}}}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return Promise.all(i).then(function(){return t.setDocModified(),n})}return n>0&&t.setDocModified(),n})}},{key:"extractPrintPages",value:function(e){return this.api.extractPrintPages(this.id,e).then(function(e){return e})}},{key:"getHeaderFooter",value:function(){var e=this;return this.HF?Promise.resolve(this.HF):this.getPageFormat("headerfooter").then(function(t){if(t.res>0){var n=fr(t.old,e.getPageCount());return e.HF=new pP(n)}return null})}},{key:"updateHeaderFooter",value:function(e){var t=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");var n=hr(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then(function(i){var r=!1;return i.res>0&&(r=!0),t.addPageFormat("headerfooter",n,r).then(function(i){if(i>0){var r=fr(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new pP(r),e.json=r,t.engine.eventEmitter.emit(oe.Z.headerFooterUpdated,e.range),t.engine.eventEmitter.emit(oe.Z.docModified,t),r}return i})})}},{key:"addHeaderFooter",value:function(e){var t=this;if(e.isEmpty())return Promise.resolve();if(!this.checkPermission(Xt.modify))throw new Error("Permission error");var n=hr(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then(function(i){return t.addPageFormat("headerfooter",n).then(function(i){if(i>0){var r=fr(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new pP(r),e.json=r,t.engine.eventEmitter.emit(oe.Z.headerFooterAdded,e.range),t.engine.eventEmitter.emit(oe.Z.docModified,t),r}return i})})}},{key:"removeHeaderFooter",value:function(){var e=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return delete this.HF,this.getPageFormat("headerfooter").then(function(t){return e.removeAllPageFormat("headerfooter").then(function(t){return e.engine.eventEmitter.emit(oe.Z.headerFooterUpdated),e.engine.eventEmitter.emit(oe.Z.docModified),t})})}},{key:"addWatermark",value:function(e){var t=this,n=0,i="addWatermark",r=ae.progressChanged,o=e.type,a=e.text;if("text"!==o&&"bitmap"!==o)throw new Error("Param error:Type error");if("text"===o&&sn(a))throw new Error("Param error:Strings that are all space characters are invalid");if(e.useRelativeScale&&e.isMultiline)throw new Error("Param error: UseRelativeScale and isMultiline cannot be set to true at the same time");if(e.pageStart<0||e.pageStart>=this.getPageCount()||e.pageEnd<0||e.pageEnd>=this.getPageCount()||e.pageStart>e.pageEnd)throw new Error("Param error: Invalid pageStart or pageEnd");if(!this.checkPermission(Xt.modify))throw new Error("Permission error");this.engine.eventEmitter.emit(r,i,n,Tk.PROGRESSING);var s=pr(e,0,e.pageStart,e.pageEnd,this.getPageCount());return this.getPageFormat("watermark").then(function(o){return t.engine.eventEmitter.emit(r,i,n+=30,Tk.PROGRESSING),t.addPageFormat("watermark",s).then(function(o){if(t.engine.eventEmitter.emit(r,i,n+=30,Tk.PROGRESSING),o>0){var a=e.pageStart,A=e.pageEnd;return t.engine.eventEmitter.emit(oe.Z.watermarksAdded,a,A,s.isKeep),t.engine.eventEmitter.emit(r,i,100,Tk.SUCCESS),o}return t.engine.eventEmitter.emit(r,i,n,Tk.FAIL),o})}).catch(function(e){throw t.engine.eventEmitter.emit(r,i,n,Tk.FAIL),e})}},{key:"removeAllWatermarks",value:function(){var e=this;return this.removeAllPageFormat("watermark").then(function(t){return t>0&&e.engine.eventEmitter.emit(oe.Z.watermarkRemoved),t>=0})}},{key:"removeSignature",value:function(e){var t=this;if(!(this.checkPermission(Xt.annotForm)&&this.checkPermission(Xt.fillForm)&&this.checkPermission(Xt.modify)))throw new Error("Permission error");if(!e)throw new Error("Invalid param fieldName: ".concat(e,"."));return(this.form?Promise.resolve():this.loadPDFForm()).then(function(){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,this.form.getField(e)];case 1:if(!(t=o.sent()))throw new Error("Can not find field.");if(!(0,T._)(t,uP))throw new Error("Unsupported field type: ".concat(pdfField.getType(),"."));return[4,t.getSignatureType()];case 2:return o.sent()!==br.SignatureType.PagingSeal?[3,5]:[4,t.getWidget(0)];case 3:return n=o.sent(),[4,this.removePagingSealSignature({pagingSigObjNum:n.getId()})];case 4:return o.sent(),[2,!0];case 5:return[4,t.getWidgetsCount()];case 6:i=o.sent(),r=0,o.label=7;case 7:return r<i?[4,t.getWidget(r)]:[3,11];case 8:return[4,o.sent().remove()];case 9:o.sent(),o.label=10;case 10:return r++,[3,7];case 11:return[2,!0];case 12:return[2]}})}).call(t)})}},{key:"sign",value:function(e,t){var n=this,i=arguments,r=0,o="sign",a=ae.progressChanged;try{if(this.engine.eventEmitter.emit(a,o,r,Tk.PROGRESSING),!this.checkPermission(Xt.annotForm)&&!this.checkPermission(Xt.fillForm))throw new Error("Permission error");var s=Promise.resolve();if(!e.fieldName&&void 0===e.pageIndex&&e.pagingSigConfig&&(s=s.then(function(){return BC(e.pagingSigConfig,n).then(function(){return VC(e.pagingSigConfig).then(function(t){e.pagingSigConfig=t})})})),e.defaultContentsLength||(e.defaultContentsLength=7942),e.defaultContentsLength<4098)throw new Error("The default length of signature contents should not be less than 4098, in bytes");var A=e.rect;if(A&&!e.noCheckRect){var c=A.left,u=A.right,l=A.top,d=A.bottom;if(u<=c||l<=d)throw new Error("Signature rect error.")}if(!(e.filter&&e.subfilter||"string"==typeof e.shareVDictType))throw new Error("Filter and Subfilter can't be null.");e.timeFormat=Object.assign({},{format:"YYYY.MM.DD HH:mm:ss Z",timeZoneOptions:{separator:"'"}},e.timeFormat);var h=e.image;return void 0!==h&&(e.inkSign=h,delete e.image),this.isDynamicXFA()||(s=s.then(function(t){return(0,x._)(function(){var t,n,i,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:if(t=this,Array.isArray(e.pageIndex)&&Array.isArray(e.rect)){if(0===e.pageIndex.length||0===e.rect.length)throw new Error("pageIndex and rect should not be empty array.");if(e.pageIndex.length!==e.rect.length)throw new Error("pageIndex and rect should have the same length.");if(1!==e.pageIndex.length)return n=e.pageIndex.map(function(t,n){return{pageIndex:t,rect:e.rect[n]}}),[2,this.form.addSignatureBatch(n,e.shareVDictType).then(function(n){return t.engine.eventEmitter.emit(a,o,r+=20,Tk.PROGRESSING),delete e.pageIndex,delete e.rect,delete e.fieldName,e.fieldNames=n.map(function(e){return e.getName()}),new Promise(function(e){return setTimeout(function(){e()},50)})})];e.pageIndex=e.pageIndex[0],e.rect=e.rect[0]}return(i=e.fieldName)?[4,this.form.getField(e.fieldName)]:[3,2];case 1:if(!(s=u.sent())||s.getType()!=pn.Sign)throw new Error("Field type error: not a signature.");return[3,3];case 2:if(void 0!==(A=e.pageIndex)&&void 0!==e.rect)return FC(A,this.getPageCount()),c=(e.rotation||0)/90%4,[2,this.widgetCreator.createSignature({pageIndex:e.pageIndex,pdfRect:e.rect,fieldName:i,rotate:c}).then(function(n){var i=n.getField();return t.engine.eventEmitter.emit(a,o,r+=20,Tk.PROGRESSING),delete e.pageIndex,delete e.rect,e.fieldName=i.getName(),new Promise(function(e){return setTimeout(function(){e()},50)})})];u.label=3;case 3:return[2]}})}).call(n)})),s.then(function(t){return n.api.signDoc(n.id,e,i[2])}).then(function(t){return n.engine.eventEmitter.emit(a,o,r+=20,Tk.PROGRESSING),"pageIndex"in e?n.getPageByIndex(e.pageIndex).then(function(e){return Promise.all([e,e.getUnloadedAnnots()])}).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];n.engine.eventEmitter.emit(oe.Z.annotationAdd,r,i)}).then(function(e){return t}):t}).then(function(i){if(n.engine.eventEmitter.emit(a,o,r+=20,Tk.PROGRESSING),e.native)return[i];if(0===e.shareVDictType)return[];for(var s=[],A=0,c=0;c<i.byteRange.length;c+=2){var u=i.byteRange[c],l=i.byteRange[c+1];A||(A=u+l+1);var d=i.buffer.slice(u,u+l);s.push(d)}var h=new Blob(s);return Promise.all([i,t(e,h),A])}).then(function(t){var i=(0,M._)(t,3),r=i[0],s=i[1],A=i[2];if(e.native)return n.engine.eventEmitter.emit(a,o,100,Tk.SUCCESS),r;if(0!==e.shareVDictType){if(s.byteLength>e.defaultContentsLength)throw new Error("Signed data is larger than the default length, in bytes");var c=new Uint8Array(s).reduce(function(e,t){return e.push(DC[(240&t)>>>4]),e.push(DC[15&t]),e},[]);return n.engine.eventEmitter.emit(a,o,100,Tk.SUCCESS),new Blob([r.buffer.slice(0,A),new Uint8Array(c),r.buffer.slice(A+c.length)],{type:"application/pdf"})}n.engine.eventEmitter.emit(a,o,100,Tk.SUCCESS)}).catch(function(e){throw n.engine.eventEmitter.emit(a,o,r,Tk.FAIL),e})}catch(e){throw this.engine.eventEmitter.emit(a,o,r,Tk.FAIL),e}}},{key:"signForESignCN",value:function(e,t){if(!this.checkPermission(Xt.annotForm)&&!this.checkPermission(Xt.fillForm))throw new Error("Permission error");return this.esignCNAPI.sign({signInfo:e,digestSignHandler:t})}},{key:"isESignCNSignature",value:function(e,t){return this.api.isESignCNSignature(this.id,e,t)}},{key:"addPagingSealSignature",value:function(e){var t=this;this.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",0,Tk.PROGRESSING);var n=(e||{}).pagingSigConfig;return BC(n,this).then(function(){return VC(n)}).then(function(e){return t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",20,Tk.PROGRESSING),t.api.addPagingSealSignature(t.id,{pagingSigConfig:e})}).then(function(e){if(e&&e.pagingSigObjNum){t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",40,Tk.PROGRESSING);var i=e.pagingSigObjNum,r=e.addedObjNums;return Promise.resolve().then(function(){t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",60,Tk.PROGRESSING);var e=[],o=!0,a=!1,s=void 0;try{for(var A,c=function(){var i=A.value;if(!i)return"continue";var o=i.getIndex();if(o+1<n.pageRange[0]||o+1>n.pageRange[1])return"continue";var a=i.getUnloadedAnnots().then(function(e){var n=e.filter(function(e){return r.includes(e.getId())});t.engine.eventEmitter.emit(oe.Z.annotationAdded,n,i)});e.push(a)},u=t.pageCache[Symbol.iterator]();!(o=(A=u.next()).done);o=!0)c()}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",80,Tk.PROGRESSING),Promise.all(e).then(function(){return t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",100,Tk.SUCCESS),i})})}t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",40,Tk.FAIL)}).catch(function(e){throw t.engine.eventEmitter.emit(ae.progressChanged,"addPagingSealSignature",100,Tk.FAIL),e})}},{key:"updatePagingSealSignature",value:function(e){var t=this,n=e||{},i=n.pagingSigConfig,r=n.pagingSigObjNum;return BC(i,this).then(function(){if(!r)throw new Error("Invalid param pagingSigObjNum: ".concat(r,"."));return t.getAllPagingSealSignatures(r).then(function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(r," associated paging seal signature in current document."))})}).then(function(){return VC(i)}).then(function(e){return t.api.updatePagingSealSignature(t.id,{pagingSigConfig:e,pagingSigObjNum:r})}).then(function(e){if(e&&e.pagingSigObjNum){var n=e.pagingSigObjNum,i=e.removedObjNums,r=e.addedObjNums,o=[],a=!0,s=!1,A=void 0;try{for(var c,u=function(){var e=c.value;if(!e)return"continue";var n=e.getAnnots().then(function(n){var r=n.filter(function(e){return i.includes(e.getId())});r.length&&t.engine.eventEmitter.emit(oe.Z.annotationRemoved,r,e)});o.push(n);var a=e.getAnnots(!0).then(function(n){var i=n.filter(function(e){return r.includes(e.getId())});i.length&&t.engine.eventEmitter.emit(oe.Z.annotationAdded,i,e)});o.push(a)},l=t.pageCache[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)u()}catch(e){s=!0,A=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw A}}return Promise.all(o).then(function(){return n})}})}},{key:"getAllPagingSealSignatures",value:function(e){return this.api.getAllPagingSealSignatures(this.id,e)}},{key:"removePagingSealSignature",value:function(e){var t=this;if(!(this.checkPermission(Xt.annotForm)&&this.checkPermission(Xt.fillForm)&&this.checkPermission(Xt.modify)))throw new Error("Permission error");var n=(e||{}).pagingSigObjNum;if(!n)throw new Error("Invalid param pagingSigObjNum: ".concat(n,"."));return this.getAllPagingSealSignatures(n).then(function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(n," associated paging seal signature in current document."))}).then(function(){return t.api.removePagingSealSignature(t.id,{pagingSigObjNum:n})}).then(function(e){if(e&&e.removedObjNums){var n=e.removedObjNums,i=[],r=!0,o=!1,a=void 0;try{for(var s,A=function(){var e=s.value;if(!e)return"continue";var r=e.getAnnots().then(function(i){var r=i.filter(function(e){return n.includes(e.getId())});return r.length&&t.engine.eventEmitter.emit(oe.Z.annotationRemoved,r,e),e.getAnnots(!0)});i.push(r)},c=t.pageCache[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)A()}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return Promise.all(i).then(function(){})}})}},{key:"getAllPagingSigsInfo",value:function(e){return this.api.getAllPagingSigsInfo(this.id,e)}},{key:"getOriginalStream",value:function(){return this.api.getOriginalStream(this.id)}},{key:"verifySignature",value:function(e,t){return this.api.getOriginalStream(this.id).then(function(e){return(0,T._)(e,Blob)?new Promise(function(t,n){var i=new FileReader;i.onloadend=function(e){t(i.result)},i.readAsArrayBuffer(e)}):Promise.resolve(e)}).then(function(n){return(0,x._)(function(){var i,r,o,a,s,A,c,u,l,d,h,f,p;return(0,N.Jh)(this,function(g){switch(g.label){case 0:return[4,e.getByteRange()];case 1:if(4!=(i=g.sent()).length)return[2,Promise.resolve(64)];for(r=new Uint8Array(n),o=new Uint8Array(i[1]+i[3]),a=0,s=0;s<i.length;s+=2)A=i[s],c=i[s+1],o.set(r.slice(A,A+c),a),a+=c;for(u=i[2]-i[1]-2,l=i[0]+i[1]+1,d=[],h=l;h<l+u;h+=2)f=parseInt(String.fromCharCode(r[h]),16)<<4,p=parseInt(String.fromCharCode(r[h+1]),16),d.push(f+p);return[2,t(e,o,new Uint8Array(d),r.byteLength>i[2]+i[3])]}})})()}).then(function(e){return+e})}},{key:"attachFile",value:function(e){if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return this.api.attachFile(this.id,e).then(function(e){return e})}},{key:"getFontsInfo",value:function(){return this.api.getFontsInfo(this.id)}},{key:"getLayerNodeByIdBAK",value:function(e){var t=(e=e.toString()).split("-");try{for(var n=this.ocgs,i=0;i<t.length;i++)n=n.children[t[i]];return n}catch(e){return null}}},{key:"getLayerNodeById",value:function(e){if(!e&&0!==e)return"";var t,n=function(i){if(i&&i.id===e+"")t=i;else if(i.children&&i.children.length>0)for(var r=0;r<i.children.length&&!t;r++){var o=i.children[r];n(o)}};return n(this.ocgs),t}},{key:"getAdditionalAction",value:function(){if(0===arguments.length){var e=this;return new Ge.AdditionalAction({type:"doc"},this.additionalActionAPI,function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];switch(t){case"add":var o;(o=e.engine.eventEmitter).emit.apply(o,[oe.Z.docAdditionalActionAdded,e].concat((0,R._)(i)));break;case"set":case"update":var a;(a=e.engine.eventEmitter).emit.apply(a,[oe.Z.docAdditionalActionUpdated,e].concat((0,R._)(i)));break;case"remove":var s;(s=e.engine.eventEmitter).emit.apply(s,[oe.Z.docAdditionalActionRemoved,e].concat((0,R._)(i)))}},function(){return(0,R._)(Ge.DocActionTriggerEventsArray)})}var t=arguments[0];return this.AdditionalActions[t]}},{key:"triggerAdditionalAction",value:function(e){return this.getAdditionalAction().triggerAction(e)}},{key:"loadAdditionalActions",value:function(){var e=this;return this.api.getDocAdditionalActions(this.id).then(function(t){for(var n in e.AdditionalActions={},t)e.AdditionalActions[n]=LP.createAction(t[n],e,e.api,e.engine.eventEmitter,e);return e.AdditionalActions})}},{key:"hasArticle",value:function(){return this.info.hasArticle}},{key:"getPdfArticle",value:function(){return this.pdfArticle||(this.pdfArticle=new ZP(this.engine,this)),this.pdfArticle}},{key:"getStructureRoles",value:function(){var e=this.getId();return this.api.getStructureRoles(e)}},{key:"resetEngineInstance",value:function(e){var t=this,n=(this.engine,this.parameters),i={range:{docId:this.id},headers:{}};n.idJWT&&(i.headers.jwt=n.idJWT),n.password&&(i.headers["x-auth-doc"]=btoa(n.password));var r,o,a=this.api,s=(0,z.createDeferred)();return a.resetEngine(this.id).then(function(t){var o=(0,M._)(t,2),a=o[0],s=o[1];return r=s,i.range.url=a,e.getPDFDocByHttpRangeRequest(i,n)}).then(function(e){return e.parse(n)}).then(function(n){return o=n,e.api.syncDataCache(t.id,r)}).then(function(){t.engine=e,t.api=e.api,s.resolve(o)},function(){s.reject(t)}),s.promise}},{key:"setColors",value:function(e){var t=this;return this.api.setDocColors(this.getId(),e).then(function(){t.info.readColors=e})}},{key:"getColors",value:function(){return this.info.readColors||{background:4294967295,foreground:4278190080}}},{key:"setPageDisplayPreferences",value:function(e){return this.api.setPageDisplayPreferences(this.getId(),e)}},{key:"renderTemplatesByObjNum",value:function(e){return this.api.renderTemplatesByObjNum(this.id,Number(e))}},{key:"getNameTree",value:function(e){return this.api.getNameTree(this.id,Number(e))}},{key:"addNameTreeObj",value:function(e,t,n){return this.api.addNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"removeNameTreeObj",value:function(e,t){return this.api.removeNameTreeObj(this.id,Number(e),String(t))}},{key:"replaceNameTreeObj",value:function(e,t,n){return this.api.replaceNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"renameNameTreeObj",value:function(e,t,n){return this.api.renameNameTreeObj(this.id,Number(e),String(t),String(n))}},{key:"getPageIndexByObjNum",value:function(e){return this.api.getPageIndexByObjNum(this.id,Number(e))}},{key:"nameTreeTemplatesToPages",value:function(e){return this.api.nameTreeTemplatesToPages(this.id,String(e))}},{key:"nameTreePagesToTemplates",value:function(e){return this.api.nameTreePagesToTemplates(this.id,String(e))}},{key:"addFileSpec",value:function(e,t,n){return this.api.addFileSpec(this.id,String(e),t,n)}},{key:"setFileSpecDesc",value:function(e,t){var n=this;return this.api.setFileSpecDesc(this.id,String(e),Number(t)).then(function(i){return i&&n.engine.eventEmitter.emit(oe.Z.documentAttachmentModify,{desc:e,objNum:t}),i})}},{key:"getFileSpecStream",value:function(e){var t=[];return this.api.getFileSpecStream(this.id,Number(e),function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)}).then(function(){return t})}},{key:"getFileSpecStreamByName",value:function(e){var t=[];return this.api.getFileSpecStreamByName(this.id,e,function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)}).then(function(){return t})}},{key:"addEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.addEmbeddedFileByAttachments(this.id,String(e),Number(t)).then(function(e){return e&&n.engine.eventEmitter.emit(oe.Z.documentAttachmentAdd),e})}},{key:"setEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.setEmbeddedFileByAttachments(this.id,String(e),Number(t)).then(function(e){return e&&n.engine.eventEmitter.emit(oe.Z.documentAttachmentModify),e})}},{key:"removeEmbeddedFileByAttachments",value:function(e){var t=this;return this.api.removeEmbeddedFileByAttachments(this.id,String(e)).then(function(e){return e&&t.engine.eventEmitter.emit(oe.Z.documentAttachmentRemove),e})}},{key:"moveAnnotsToPage",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object.keys(n).map(function(e){return+e}),a=o.map(function(t){return e.annotIdMap[t]}).filter(function(e){return!!e}),s="widget"!=a[0].getType();return this.api.moveAnnotsToPage(this.id,e.getId(),t.getId(),n).then(function(A){return Promise.resolve(e.clearAnnotIds(o)).then(function(e){return t.getUnloadedAnnots()}).then(function(o){if("popup"===o[0].info.type){var A=o[0];o[0]=o[1],o[1]=A}var c=i.engine.eventEmitter;return c.emit(oe.Z.annotationRemoved,a,e),c.emit(oe.Z.annotationAdd,o,t),r||(c.emit(oe.Z.moveAnnotsToPages,e,t,n,s),c.emit(oe.Z.annotationMovedPosition,o,t,o[o.length-1])),c.emit("updatePageAnnot",e,a,t,o),o})})}},{key:"getInfo",value:function(){var e=this;return this.api.getPDFDictInfo(this.id).then(function(t){return new ur(e,t.id,e.engine)})}},{key:"getInfos",value:function(){return this.api.getInfos(this.id)}},{key:"hasDocIsWrapped",value:function(){return this.api.hasDocIsWrapped(this.id)}},{key:"getPageLabels",value:function(e){return this.api.getPageLabels(this.id,e)}},{key:"autoRecognitionForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={isSetTooltip:!0};return Promise.all([this.isXFA(),this.readonly()]).then(function(i){var r=(0,M._)(i,2),o=r[0],a=r[1];if(!e.checkPermission(Xt.modify|Xt.fillForm)||o||a||!e.isOwner())throw new Error("Permission error");var s=0,A="autoRecognitionForm",c=ae.progressChanged;return e.engine.eventEmitter.emit(c,A,s+=30,Tk.PROGRESSING),e.api.autoRecognitionForm(e.id,Object.assign({},n,t)).then(function(t){var n=[];return 0===t?(e.engine.eventEmitter.emit(c,A,100,Tk.SUCCESS),t):(e.engine.eventEmitter.emit(oe.Z.recognitionForm,e),e.reloadPDFForm().then(function(i){e.engine.eventEmitter.emit(c,A,s+=30,Tk.PROGRESSING);var r=!0,o=!1,a=void 0;try{for(var u,l=function(){var t=u.value;if(!t)return"continue";var i=t.getUnloadedAnnots().then(function(n){return n&&n.length>0&&e.engine.eventEmitter.emit(oe.Z.annotationAdd,n,t),Promise.resolve()});n.push(i)},d=e.pageCache[Symbol.iterator]();!(r=(u=d.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw a}}return Promise.all(n).then(function(){return e.engine.eventEmitter.emit(c,A,100,Tk.SUCCESS),e.engine.eventEmitter.emit(oe.Z.permissionChanged,e),t})}))})})}},{key:"isStaticXFA",value:function(){return 1==this.info.fileType&&!this.info.XFARemoved}},{key:"isDynamicXFA",value:function(){return 2==this.info.fileType}},{key:"isXFA",value:function(){return Promise.resolve(0!=this.info.fileType)}},{key:"isXFARemoved",value:function(){return this.info.XFARemoved}},{key:"removeXFA",value:function(){var e=this;return this.api.removeXFA(this.id).then(function(t){return!!t&&(e.info.XFARemoved=!0,e.engine.eventEmitter.emit(oe.Z.xfaFormRemoved,e),!0)})}},{key:"pdfPortfolio",get:function(){if(this.isPortfolio())return this._pdfPortfolio||(this._pdfPortfolio=new HP(this.engine,this)),this._pdfPortfolio},set:function(e){this._pdfPortfolio=e}},{key:"isPortfolio",value:function(){return this.info.isPortfolio}},{key:"getXfaWidgetData",value:function(e){return this.api.getXfaWidgetData({path:"jr/doc"},this.id,e)}},{key:"startPageEdit",value:function(e,t,n,i){return this.pageEditing?Promise.resolve():(this.pageEditing=!0,this.engine.eventEmitter.emit(oe.Z.objectStartEdit),this.api.handlePageEditorEvent(this.id,"StartEdit",!1,e,t,n,i))}},{key:"endPageEdit",value:function(){return this.pageEditing=!1,this.engine.eventEmitter.emit(oe.Z.objectEndEdit),this.api.handlePageEditorEvent(this.id,"EndEdit")}},{key:"startFormDesignerAssit",value:function(){return this.api.startFormDesignerAssit(this.id)}},{key:"stopFormDesignerAssit",value:function(){return this.api.stopFormDesignerAssit(this.id)}},{key:"reversePages",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,x._)(function(){var n,i,r,o,a,s,A,c,u,l,d,h;return(0,N.Jh)(this,function(f){switch(f.label){case 0:return(n=this.engine.eventEmitter).emit(oe.Z.pagesReverseStart),[4,this.api.reversePages(this.id,e)];case 1:if(i=f.sent(),(o=i.length)>0){for(a=this.getPageCount(),s=this.pageCache,A=0;A<Math.ceil(o/2);A++)if(c=i[A],u=i[o-1-A],c!==u){if(!(l=s[c]))break;d=s[u],s[c]=d,s[u]=l}h=Math.min(e[e.length-1]+1,a-1),this.updatePageIndex(0,h),r=s.map(function(e){return null==e?void 0:e.getId()}),t&&n.emit(oe.Z.pagesReversed,e,r)}return[4,this.getPageSizes()];case 2:return f.sent(),[2,r]}})}).call(this)}},{key:"reversePagesWithMovePages",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return e.length>1?[4,this.reversePages(e,!1)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return[4,this.updatePageLabelsByAction("reversePages",[Array.from(e,function(e,t){return t})])];case 3:return n.sent(),t&&this.engine.eventEmitter.emit(oe.Z.pagesReversed,e,t),[2,t]}})}).call(this)}},{key:"movePagesTo",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.getPageCount();if(!e||0===e.length||(t=Math).min.apply(t,(0,R._)(e.flat()))<0||(n=Math).max.apply(n,(0,R._)(e.flat()))>o-1)throw new Error("Param error: pageRange is out of the valid range.");if(isNaN(r)||r<0||r>o)throw new Error("Param error: Index is out of the valid range.");var a=[];return e.forEach(function(e){for(var t=e[0];t<=e[e.length-1];t++)a.push(t)}),e=Array.from(new Set(a.sort(function(e,t){return e-t}))),this.api.movePagesTo(this.id,e,r).then(function(t){if(t){var n=uh(e).sort(function(e,t){return e-t});return i.pageCache=t.reduce(function(e,t,n){var r=i.pageIdMap[t];return r&&(r.info.index=n),e[n]=r,e},[]),i.updatePageIndex(Math.min(r,n[0]),Math.max(r,n[n.length-1])),i.engine.eventEmitter.emit(oe.Z.pagesMoved,e,r,t),i.getPageSizes().then(function(e){return t})}})}},{key:"movePagesToThenUpdatePageLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.movePagesTo(e,t)];case 1:return n=r.sent(),i=e.reduce(function(e,t){var n=(0,M._)(t,2),i=n[0],r=n[1];if(void 0===r)e.push(i);else{for(var o,a=[];i<=r;)a.push(i++);(o=e).push.apply(o,(0,R._)(a))}return e},[]),e=Array.from(new Set(i.sort(function(e,t){return e-t}))),this.updatePageLabelsByAction("movePages",[e,t]),[2,n]}})}).call(this)}},{key:"startReplacePages",value:function(e,t,n,i){var r=this,o=[];return i.forEach(function(e){for(var t=e[0];t<=e[e.length-1];t++)o.push(t)}),i=Array.from(new Set(o.sort(function(e,t){return e-t}))),this.api.startReplacePages(this.id,e,t,n,i).then(function(n){var i;if(n&&n.error)return n;r.info.pageSizes={},r.info.pageCount-=t,r.info.pageCount+=n.length;var o=[];n.forEach(function(e){var t=new Er(e,r);o.push(t)}),(i=r.pageCache).splice.apply(i,[e,t].concat((0,R._)(o))),r.updatePageIndex(e,r.info.pageCount-1);var a=new Array(t).fill(0).map(function(t,n){return e+n});return r.engine.eventEmitter.emit(oe.Z.pagesReplace,{delPageRange:a,pages:o}),n})}},{key:"setPageTransition",value:function(e,t,n,i){var r=[];return i.forEach(function(e){for(var t=e[0];t<=e[e.length-1];t++)r.push(t-1)}),i=Array.from(new Set(r.sort(function(e,t){return e-t}))),this.api.setPageTransition(this.id,e,t,n,i)}},{key:"getPageTransitionByIndex",value:function(e){return this.api.getPageTransitionByIndex(this.id,e)}},{key:"getStampTypeByPageIndex",value:function(e){return this.api.getStampTypeByPageIndex(this.id,e)}},{key:"removePages",value:function(e){var t=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(1===n)throw new Error("Not allowed to remove the only page.");fC(e,n,"remove");for(var i=uh(e).sort(function(e,t){return t-e}),r=[],o=0;o<i.length;o++){var a=i[o];this.pageCache[a]||r.push(this.getPageByIndex(a))}return Promise.all(r).then(function(n){return t.api.removePages(t.id,e).then(function(n){var r=[];return i.forEach(function(e){t.info.pageCount--,r.push(t.pageCache[e].info.objectNumber),t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1)}),t.updatePageLabelsByAction("deletePages",[e]),t.engine.eventEmitter.emit(oe.Z.pagesRemoved,e,r,t),t.removePageStatus=!0,t.getPageSizes().then(function(e){return n})})})}},{key:"insertBlankPages",value:function(e,t,n){var i=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return fC(e,r,"insert"),this.api.insertBlankPages(this.id,e,t,n).then(function(e){var t=[];return e.forEach(function(e){t.push(Promise.resolve((delete i.ocgs,i.api.getLayerNodes(i.id).then(function(e){return i.ocgs=e}).then(function(t){return e}).then(function(e){if(!e)return!1;i.info.pageCount++;var t=new Er(e,i);return i.pageCache.splice(e.index,0,t),i.updatePageIndex(e.index+1,i.info.pageCount-1),t}))))}),LC(t).then(function(t){return i.updatePageLabelsByAction("insertPagesByRange",[e.map(function(e){return e.index})]),i.engine.eventEmitter.emit(oe.Z.insertPages,t),t}).then(function(e){return i.getPageSizes().then(function(t){return e})})})}},{key:"rotatePages",value:function(e,t){var n=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");if(Object.values(ut).every(function(e){return e!==t}))throw new Error("rotation parameter error");var i=this.getPageCount();fC(e,i,"get");var r=uh(e);return NC(this,r).then(function(i){var r=i.map(function(e){return e.getRotation()});return n.api.rotatePages(n.id,e,t).then(function(e){var o=[];return i.forEach(function(e){n.pageCache[e.getIndex()].info.rotation=t,o.push(e.updateInfo()),o.push(n.getPageSizes())}),Promise.all(o).then(function(e){n.engine.eventEmitter.emit(oe.Z.pagesRotated,i,t,r)})})})}},{key:"isPageLabelSetting",value:function(){return function(){var e=localStorage.getItem("PAGE_DISPLAY_DATA");if(XP===e)return iC;var t=!0;return e&&(t=JSON.parse(e).logicalPageNumChecked||!1),XP=e,iC=t}()}},{key:"checkDocHasPageLabel",value:function(){return e=this._pageLabelInfo,t=this,"uninitialized"===e.hasPageLabelStatus&&tC(e,t),e.hasPageLabel;var e,t}},{key:"checkDocIsUseLogicPage",value:function(){return this.api.checkDocIsUseLogicPage(this.id)}},{key:"getPageIndexByLabelText",value:function(e){return this.api.getPageIndexByLabelText(this.id,e)}},{key:"getCurrentPageLabelInfo",value:function(e){return this.api.getCurrentPageLabelInfo(this.id,e)}},{key:"formatPageNumbers",value:function(e,t){var n=this;return this.api.formatPageNumbers(this.id,!1,e,t).then(function(e){return nC(n._pageLabelInfo,n),n.engine.eventEmitter.emit(oe.Z.pagesLabelChange),e})}},{key:"formatPageNumbersExtendNumbering",value:function(e){var t=this;return this.api.formatPageNumbers(this.id,!0,e).then(function(e){return nC(t._pageLabelInfo,t),t.engine.eventEmitter.emit(oe.Z.pagesLabelChange),e})}},{key:"updatePageLabelsByAction",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,this.api.updatePageLabelsByAction(this.id,e,t)];case 1:return n=i.sent(),nC(this._pageLabelInfo,this),this.engine.eventEmitter.emit(oe.Z.pagesLabelChange),[2,n]}})}).call(this)}},{key:"getPageEditor",value:function(){return this.pageEditor?this.pageEditor:this.pageEditor=new JP(this)}},{key:"getTouchup",value:function(){return new qP(this)}},{key:"getJoinSplit",value:function(){return new qP(this)}},{key:"getSpellCheck",value:function(){return new qP(this)}},{key:"updateEncryptedEngineDocForMIP",value:function(e){return this.api.updateEncryptedEngineDocForMIP(this.id,e)}},{key:"GetUnprotectedPDFDoc",value:function(e,t,n){return this.api.GetUnprotectedPDFDoc(this.id,e,t,n)}},{key:"StartSaveRawDataTobeEncrypted",value:function(e){return this.api.StartSaveRawDataTobeEncrypted(this.id,e)}},{key:"StartSaveasFromMIPEncryptedPDF",value:function(e,t){return this.api.StartSaveasFromMIPEncryptedPDF(this.id,e,t)}},{key:"StartSaveasFromMIPLabel",value:function(e,t,n,i,r,o){return this.api.StartSaveasFromMIPLabel(this.id,e,t,n,i,r,o)}},{key:"getAppliedMIPLabelID",value:function(){return this.api.getAppliedMIPLabelID(this.id)}},{key:"removeAppliedMIPLabel",value:function(){return this.api.removeAppliedMIPLabel(this.id)}},{key:"checkIsMIPProtected",value:function(){return this.api.checkIsMIPProtected(this.id)}},{key:"isCPDF",value:function(){return this.api.isCPDF(this.id)}},{key:"getDocURI",value:function(){return this.api.getDocURI(this.id)}},{key:"getVersionID",value:function(){return this.api.getVersionID({path:"jr/doc"},this.id)}},{key:"convertToCPDF",value:function(e,t,n,i){return this.api.convertToCPDF(this.id,e,t,n,i).then()}},{key:"removeCDocId",value:function(e,t,n,i){return this.api.removeCDocId(this.id,e,t,n,i).then()}},{key:"removeLayerNode",value:function(e){var t=this;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");if(!e&&0!==e)return Promise.resolve(!1);var n=this.getLayerNodeById(e);if(n.isLocked)throw new Error("The destination layer node is locked");return(n.hasLayer?this.getLayerRelatedAnnots(e).then(function(n){return n&&n.length>0&&HC(t,n).then(function(e){e.forEach(function(e){e.page.removeAnnotById(e.id)})}),t.api.removeLayerNode(t.id,e)}):this.api.removeLayerNode(this.id,e)).then(function(n){return n&&(t.engine.eventEmitter.emit(oe.Z.layerRemoved,t),t.engine.eventEmitter.emit(oe.Z.layerVisibleChange,t),jC(t.ocgs,[e])),n})}},{key:"flattenLayers",value:function(){var e=this,t=[],n=function(e){if(e&&e.hasLayer&&!1===e.visible&&t.push(e),e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)n(e.children[i])};n(this.ocgs);var i=[];return t.forEach(function(t){i.push(e.getLayerRelatedAnnots(t.id))}),Promise.all(i).then(function(t){return t&&t.length>0&&(t=t.reduce(function(e,t){return e=e.concat(t)},[]),HC(e,t).then(function(e){e.forEach(function(e){e.page.removeAnnotById(e.id)})})),e.api.flattenLayers(e.id)}).then(function(t){return t&&(e.ocgs.children=[]),t})}},{key:"getVisiblePageLayers",value:function(e){var t=this,n=[];return e.forEach(function(e){var i=t.pageCache[e];i&&n.push(t.api.getLayersByPage(t.id,i.getId()))}),Promise.all(n).then(function(e){var t=[];return e.forEach(function(e){t=t.concat(e)}),t})}},{key:"updateLayerInfo",value:function(e){if(!e.id&&0!==e.id)return Promise.resolve(!1);var t=this.getLayerNodeById(e.id);return this.api.updateLayerInfo(this.id,e).then(function(n){return n&&Object.assign(t,e),n})}},{key:"mergeLayers",value:function(e,t){var n=this;return e&&0!==e.length&&t?(e=e.filter(function(e){return e!==t}),this.api.mergeLayers(this.id,e,t).then(function(i){return i&&(jC(n.ocgs,e),n.engine.eventEmitter.emit(oe.Z.layerMerged,e,t)),i})):Promise.resolve(!1)}},{key:"getLayerRelatedAnnots",value:function(e){return this.api.getLayerRelatedAnnots(this.id,e)}},{key:"layerMoveTo",value:function(e,t,n){var i=this;return this.api.layerMoveTo(this.id,e,t,n).then(function(e){return e?(i.ocgs="",i.getLayerNodesJson().then(function(){return e})):e})}},{key:"addLayerNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.index,r=n.name,o=n.hasLayer,a=void 0!==o&&o;if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");var s=this.getLayerNodeById(e);if(!s)throw new Error("ParentLayerId is invalid");if(s.isLocked)throw new Error("The destination layer node is locked");if(!r)throw new Error("name is required");if(i<0||i>s.children.length)throw new Error("index is invalid");return this.api.addChild({path:"jr/doc/layer"},this.id,e,{index:i,name:r,hasLayer:a}).then(function(e){return i>=s.children.length?s.children.push(e):(s.children.splice(i,0,e),s.children.forEach(function(e,t){s.isRoot?e.id=t+"":e.id=s.id+"-"+t})),t.engine.eventEmitter.emit(oe.Z.layerAdded,e),e})}},{key:"addLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.addGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then(function(e){return e}):Promise.resolve(!1)}},{key:"removeLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(Xt.assemble|Xt.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.removeGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then(function(e){return e}):Promise.resolve(!1)}},{key:"removeMetadata",value:function(e){var t=this;if(e&&0!==e.length){var n=[];return e.forEach(function(e){n.push(t.api.removeMetadata(t.id,e).then(function(){t.metadata.hasOwnProperty(e)&&delete t.metadata[e],t.metadata.custom&&t.metadata.custom.hasOwnProperty(e)&&delete t.metadata.custom[e]}))}),Promise.all(n).then(function(e){return t.engine.eventEmitter.emit(oe.Z.metaDataChanged,t),!0})}}},{key:"getDestinationsArray",value:function(){var e=this.getId();return this.api.getDestinationsArray(e)}},{key:"getTabOrder",value:function(e){return this.api.getTabOrder(this.id,e)}},{key:"setTabOrder",value:function(e,t){var n=this;return this.api.setTabOrder(this.id,e,t).then(function(e){return n.engine.eventEmitter.emit(oe.Z.docModified,n),e})}},{key:"setStructureOrder",value:function(e,t){var n=this,i=function(t){if(0!==t.length)return n.api.setStructureOrder(n.id,e,t).then(function(e){return n.engine.eventEmitter.emit(oe.Z.docModified,n),e})};return t?i(t):this.getPageAnnotsIdList(e).then(i)}},{key:"getEmbeddedFontData",value:function(){return this.api.getEmbeddedFontData(this.id)}},{key:"computeAuditSpace",value:function(){return this.api.computeAuditSpace(this.id)}},{key:"optimizer",value:function(e,t){var n=this;return this.api.optimizer(this.id,e,t).then(function(e){return{fileName:n.info.fileName,buffer:e}})}},{key:"optimizeScannedPDF",value:function(e,t){var n=this,i=this.getPageCount(),r=e.pageRange;if(r){(r+="").endsWith(",")&&(r=r.slice(0,r.length-1));var o=r.split(",").map(function(e){var t=e.split("-");if(t.length>1){var n,r;e=[];for(var o=(n=Math).min.apply(n,(0,R._)(t)),a=Math.min((r=Math).max.apply(r,(0,R._)(t)),i),s=o;s<=a;s++)e.push(s);e=e.join(",")}return e});o=o.join(",").split(",").map(function(e){return e-1}),r=Array.from(new Set(o.sort(function(e,t){return e-t}))),e.pageRange=r}return this.api.optimizeScannedPDF(this.id,e,t).then(function(e){return!!e&&{fileName:n.info.fileName,buffer:e}})}},{key:"importAsLayer",value:function(e){var t=this;return e.targetFileName||(e.targetFileName=this.metadata.FileName||this.metadata.Title),this.api.importAsLayer(this.id,e).then(function(e){return e&&(t.ocgs=e,t.engine.eventEmitter.emit(oe.Z.layerVisibleChange,t)),e})}},{key:"previewImportLayer",value:function(e){return this.api.previewImportLayer(this.id,e)}},{key:"reloadLayer",value:function(){return this.api.reloadLayer(this.id)}},{key:"exportMeasureData",value:function(e){var t=this;return this.api.exportMeasureData(this.id,e).then(function(e){var n=t.info.fileName||"Untitled.pdf";return{fileName:n=n.substr(0,n.lastIndexOf("."))+".csv",buffer:e}})}},{key:"setRenderConfigLineWeight",value:function(e){return this.api.setRenderConfigLineWeight(this.id,e)}},{key:"search",value:function(e,t,n,i){return this.api.searchDoc(this.id,e,t,n,i)}},{key:"generateDocHash",value:function(e){return this.api.generateDocHash(this.id,e)}},{key:"getSignIdForEvidence",value:function(){return this.api.getSignIdForEvidence(this.id)}},{key:"getDocAuditTrail",value:function(e){var t=this;return this.getAssignInfoForESignCN().then(function(n){var i=[],r=n&&n.recipients;return r&&r.length>0&&(i=r.reduce(function(e,t){var n=t.annots&&t.annots.map(function(e){return(0,k._)((0,w._)({},e),{assignUserName:t.userName,assignUserEmail:t.email,company:t.company})})||[];return(0,R._)(e).concat((0,R._)(n))},[]).filter(function(e){return"FullSignature"===e.type})),t.api.getDocAuditTrail(t.id,e,i).then(function(e){return e})})}},{key:"updatePropAuthDictForESignCN",value:function(e){var t=e.fieldName,n=e.willingnessInfo;return this.api.updatePropAuthDictForESignCN(this.id,t,n)}},{key:"assignSignerForESignCN",value:function(e){return e=function(e){return e.recipients=e.recipients.map(function(e){var t,n=e.email,i=e.mobile,r=e.company,o=e.companyId;n&&(t="Email"),i&&(t="Phone"),r&&(t="Company"),o&&(t="EnterpriseId");var a=[n,i,r,o].filter(function(e){return!!e});return a.length>1&&(t="All"),e.authType=t,e}),e}(e),this.api.assignSignerForESignCN(this.id,e)}},{key:"getAssignInfoForESignCN",value:function(){return this.api.getAssignInfoForESignCN(this.id)}},{key:"checkFieldWhetherFill",value:function(e){return this.api.checkFieldWhetherFill(this.id,e)}},{key:"getOrderOfSignFlowFile",value:function(){return this.api.getOrderOfSignFlowFile(this.id)}},{key:"setESignCNFlowSignMode",value:function(e){return this.api.setESignCNFlowSignMode(this.id,e)}},{key:"getESignCNFlowSignMode",value:function(){return this.api.getESignCNFlowSignMode(this.id)}},{key:"isESignCNFile",value:function(){return this.api.isESignCNFile(this.id)}},{key:"getESignCNMode",value:function(e){return this.api.getESignCNMode(this.id,e)}},{key:"setSignatureAP",value:function(e){var t=e.pageIndex,n=e.annotId,i=e.inkSignBuffer,r=e.pagingSigObjNum;return this.api.setSignatureAP(this.id,t,n,i,r)}},{key:"getFlowSignInfo",value:function(){return this.api.getFlowSignInfo(this.id)}},{key:"addAuditTrail",value:function(){return this.api.addAuditTrail(this.id)}},{key:"convertToTextMarkup",value:function(e){var t=this;return this.api.convertToTextMarkup(this.id,e).then(function(e){e.forEach(function(e){var n=t.pageCache[e];n&&n.getUnloadedAnnots().then(function(e){return t.engine.eventEmitter.emit(oe.Z.annotationAdd,e,n)})})})}},{key:"redactSearch",value:function(e,t,n,i,r){var o=this;return this.api.redactSearch(this.id,e,t,n,i,r).then(function(e){var t=[];return e.forEach(function(e){var n=o.pageCache[e];n&&t.push(n.getUnloadedAnnots().then(function(e){o.engine.eventEmitter.emit(oe.Z.annotationAdd,e,n)}))}),Promise.all(t)})}},{key:"isScannedDoc",value:function(){return this.api.isScannedDoc(this.id)}},{key:"getCompareFileFilterNums",value:function(){return this.api.getCompareFileFilterNums(this.id)}},{key:"canEditPdfa",value:function(){var e=!!this.info.pdfaid;return e&&!this.pdfaEditable}},{key:"readonly",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,this.canEditPdfa()]})}).call(this)}},{key:"isPdfaDoc",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return this.metadata.pdfaid?[3,2]:[4,this.getMetadata()];case 1:e.sent(),e.label=2;case 2:return[2,!!this.metadata.pdfaid]}})}).call(this)}},{key:"setPdfaEditable",value:function(e){var t=this;this.pdfaEditable!==e&&(e&&this.api.removePDFAID(this.id).then(function(e){t.metadata.pdfaid="",t.info.userPermissions=t.getUserPermissions()|Xt.annotForm|Xt.extract,t.engine.eventEmitter.emit(oe.Z.permissionChanged,t)}),this.pdfaEditable=e)}},{key:"getText",value:function(e){var t=this;if(!this.checkPermission(Xt.extract))throw new Error("Permission error");if(this.isStaticXFA()||this.isDynamicXFA())throw new Error("File type error, current is XFA documents");var n=this.getPageCount();OC(e,n-1);var i=(0,z.getUniqueId)("task_progress"),r=new eC(function(){t.api.cancelTaskProgress(t.id,i)});return this.api.getText(this.id,e,i,function(e){r.updateProgress(e)}),r}},{key:"createSummarizeComments",value:function(e,t){var n=this.getId();return this.api.createSummarizeComments(n,e,t)}},{key:"sanitize",value:function(){var e=this;return Promise.all([this.isXFA(),this.readonly()]).then(function(t){var n=(0,M._)(t,2),i=n[0],r=n[1];if(!e.checkPermission(Xt.assemble|Xt.modify)|i|r)throw new Error("Permission error");return e.engine.eventEmitter.emit(ae.showLoading,!0),e.hiddenDataSanitizeDocument().then(function(t){e.engine.eventEmitter.emit(ae.showLoading,!1)})})}},{key:"hiddenDataSanitizeDocument",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){switch(e.label){case 0:return[4,this.api.hiddenDataSanitizeDocument(this.id)];case 1:return e.sent(),this.otherOptions.disableSavePrompt=!0,[2]}})}).call(this)}},{key:"removeHiddenData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(t)&&0!==t.length){var n=Object.values(Bt).reduce(function(e,t){return e[t]=!1,e},{});return t.forEach(function(e){if(!Object.values(Bt).includes(e))throw new Error("Invalid type: ".concat(e));n[e]=!0}),Promise.all([this.isXFA(),this.readonly()]).then(function(t){var i=(0,M._)(t,2),r=i[0],o=i[1];if(!e.checkPermission(Xt.assemble|Xt.modify)|r|o)throw new Error("Permission error");return e.engine.eventEmitter.emit(ae.showLoading,!0),e.hiddenDataRemoveHiddenInfo(n).then(function(t){e.engine.eventEmitter.emit(ae.showLoading,!1)})})}}},{key:"hiddenDataRemoveHiddenInfo",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.api.hiddenDataRemoveHiddenInfo(this.id,e)];case 1:return t.sent(),this.otherOptions.disableSavePrompt=!0,[2]}})}).call(this)}},{key:"getLRContentForChatWithDoc",value:function(e){return this.api.getLRContentForChatWithDoc(this.id,e)}},{key:"getDocPurText",value:function(){return this.api.getDocPurText(this.id)}},{key:"docCanDoOcr",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.api.docCanDoOcr(this.id,e)}},{key:"fetchContentByType",value:function(e){return this.api.fetchContentByType(this.id,e)}},{key:"searchText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getPageCount();return OC(e,i-1),this.search(e,t,n,!1).then(function(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,a=Object.entries(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,M._)(o.value,2),A=s[0],c=s[1],u=[],l={};c.forEach(function(e){var t=e.rects,n=e.word;l={rects:t,word:n},u.push(l)}),t[A]=u}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t})}},{key:"getPageMediaBoxSizeTemp",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return(t=this.pageCache[e])?[2,Promise.resolve({mediaWidth:t.getMediaWidth(),mediaHeight:t.getMediaHeight()})]:[2,this.api.getPageMediaBoxSize({path:"jr/doc"},this.id,e)]})}).call(this)}},{key:"calcPageContentBBoxTemp",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){return(n=this.pageCache[e])?[2,n.calcPageContentBBox(t)]:[2,this.api.calcPageContentBBoxTemp({path:"jr/doc"},this.id,e,t)]})}).call(this)}},{key:"getPageBitmapByPageIndex",value:function(e,t,n,i){return(0,x._)(function(e,t,n,i){var r,o,a,s,A=arguments;return(0,N.Jh)(this,function(c){return r=A.length>4&&void 0!==A[4]?A[4]:["page"],o=A.length>5&&void 0!==A[5]?A[5]:"view",a=A[5]||"",s=A[6],[2,this.api.getBitmapByPageIndex({path:"jr/doc"},this.id,e,t,n,i,r,o,a,!1,s)]})}).apply(this,arguments)}},{key:"getPageBasicInfo",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return(t=this.pageCache[e])?[2,Promise.resolve({width:t.getWidth(),height:t.getHeight(),rotation:t.getRotation()})]:[3,1];case 1:return(n=this.info.pageSizes[e])?[3,3]:[4,this.api.getPageSize({path:"jr/doc"},this.id,e)];case 2:n=i.sent(),i.label=3;case 3:return[2,{width:n.width,height:n.height,rotation:n.rotation}];case 4:return[2]}})}).call(this)}},{key:"getPxPageBasicInfo",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return(t=this.pageCache[e])?[2,Promise.resolve({width:t.getPxWidth(),height:t.getPxHeight(),rotation:t.getRotation()})]:[3,1];case 1:return(n=this.info.pageSizes[e])?[3,3]:[4,this.api.getPageSize({path:"jr/doc"},this.id,e)];case 2:n=o.sent(),o.label=3;case 3:return i=(0,W.F2)(n.width),r=(0,W.F2)(n.height),[2,{width:i,height:r,rotation:n.rotation}];case 4:return[2]}})}).call(this)}},{key:"loadThumbnailTemp",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l,d,h,f;return(0,N.Jh)(this,function(p){switch(p.label){case 0:return t=this,n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,s=e.height,"number"!=typeof n?[2,Promise.reject(new Error("Options missing: 'pageIndex'"))]:(A=this.getPageCount(),n<0||n>=A?[2,Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(A-1,"(inclusive), but actual: ").concat(n,".")))]:i?[3,2]:[4,this.getPxPageBasicInfo(n)]);case 1:c=p.sent(),u=c.width,l=c.height,a||s||(a=200,s=300),d=a/u,h=s/l,i=isNaN(d)?h:isNaN(h)?d:Math.min(d,h),f=Math.min(Fe/u,Ne/l),i/=f,p.label=2;case 2:return[2,this.api.getThumbTemp({path:"jr/doc",transfer:!0},this.id,n,r||0,i).then(function(e){switch(o||"canvas"){case"canvas":return SC(e);case"image":return IC(e).then(function(e){return t.addDestroyHook(function(){URL.revokeObjectURL(e.src)}),e});case"buffer":return TC(e);default:throw new Error("Invalid options.type: ".concat(o))}})]}})}).call(this)}},{key:"loadThumbnail",value:function(e){var t=this,n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,s=e.height;if("number"!=typeof n)return Promise.reject(new Error("Options missing: 'pageIndex'"));var A=this.getPageCount();return n<0||n>=A?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(A-1,"(inclusive), but actual: ").concat(n,"."))):this.getPageByIndex(n).then(function(e){if(!e)throw new Error("Cannot obtains the page of index: ".concat(n));if(!i){var A=e.getPxWidth(),c=e.getPxHeight();a||s||(a=200,s=300);var u=a/A,l=s/c;i=isNaN(u)?l:isNaN(l)?u:Math.min(u,l);var d=Math.min(Fe/A,Ne/c);i/=d}return e.getThumb(r||0,i).then(function(e){switch(o||"canvas"){case"canvas":return SC(e);case"image":return IC(e).then(function(e){return t.addDestroyHook(function(){URL.revokeObjectURL(e.src)}),e});case"buffer":return TC(e);default:throw new Error("Invalid options.type: ".concat(o))}})})}},{key:"verifyDocSignature",value:function(e){var t=this,n=this.getId();return this.engine.ensureSideModeLoaded().then(function(i){return t.api.verifyDocSignature(n,e)})}},{key:"setSelectedInfo",value:function(e){this.selectedInfo=e}},{key:"clearSelectedInfo",value:function(e){this.selectedInfo=null,e&&(e.getStore().dispatch(be.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach(function(e){e.$handler.find(".fv__mark-selection-blank").remove()}))}},{key:"updateTextSelectInfo",value:function(){if(!this.selectedInfo||this.selectedInfo.type!=Tt.Text)return Promise.resolve([]);var e=this.selectedInfo.selectedPages,t=[],n=!0,i=!1,r=void 0;try{for(var o,a=function(){var e=o.value,n=e.pageRender.getPDFPage().then(function(t){return t.getTextByIndex(e.characterIndexStart,e.characterIndexEnd)}).then(function(t){e.text=t});t.push(n)},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return Promise.all(t)}},{key:"addTextSelectedInfo",value:function(e,t,n,i){var r=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,A={pageRender:e,characterIndexStart:t,characterIndexEnd:n,rectArray:i,text:arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0};if(this.selectedInfo&&this.selectedInfo.type==Tt.Text){this.selectedInfo.e=o,this.selectedInfo.panStartEvent=a,this.selectedInfo.panMoveArr=s;var c=this.selectedInfo.selectedPages,u=!1;for(var l in c)if(c[l].pageRender.index==e.index)return void(c[l]=A);for(var d in c)if(c[d].pageRender.index>e.index){c.splice(Number(d),0,A),u=!0;break}u||c.push(A)}else this.selectedInfo={type:Tt.Text,selectedPages:[A],e:o,panStartEvent:a,panMoveArr:s,getText:function(){var e="";return r.selectedInfo.selectedPages.forEach(function(t){e=(""==e?"":e+"\r\n")+t.text}),e}}}},{key:"clearAllDesignerAssistCache",value:function(){return this.api.clearAllDesignerAssistCache(this.getId())}},{key:"removeEmbeddedFileByName",value:function(e){return this.removeEmbeddedFileByAttachments(e)}},{key:"removeAllEmbeddedFiles",value:function(){var e=this;return this.api.removeAllEmbeddedFiles(this.getId()).then(function(t){return t&&e.engine.eventEmitter.emit(oe.Z.documentAttachmentRemove),t})}},{key:"getEmbeddedFileNames",value:function(){return this.api.getEmbeddedFileNames(this.getId())}},{key:"addEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return!(!t||!t.data)&&this.api.addEmbeddedFile({path:"jr/doc"},this.id,e,t).then(function(e){return e&&n.engine.eventEmitter.emit(oe.Z.docAttachmentAdded),e})}},{key:"setEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(Xt.modify))throw new Error("Permission error");return!(!e||0===e.length||!t)&&this.api.setEmbeddedFile({path:"jr/doc"},this.id,e,t).then(function(e){return e&&n.engine.eventEmitter.emit(oe.Z.documentAttachmentModify),e})}},{key:"getEmbeddedFile",value:function(e){return e&&0!==e.length?this.api.getEmbeddedFile({path:"jr/doc"},this.id,e):null}},{key:"compareWith",value:function(e,t,n){var i=this;this._validateCompareWithParams(e,t);var r="function"==typeof n,o=r?(0,z.getUniqueId)("compare-progress"):null;if(t.stringResource=t.stringResource||{},r){var a=function(e){100===e&&i.api.workerPromise.off(o,a),n(e)};this.api.workerPromise.on(o,a)}return this.api.comparePDFDocuments(this.getId(),e.getId(),t,o).then(function(e){var n=e.docId,r=e.parameters;return i.engine.createPDFDocById(n,Object.assign({},{fileName:t.resultFileName||"The result of Comparison.pdf"},r))})}},{key:"_validateCompareWithParams",value:function(e,t){var n=this.getPageCount(),i=e.getPageCount(),r=t.basePageRange,o=t.otherPageRange,a=function(e,t,n){var i=e.from,r=e.end;(0,z.assertThat)((0,z.isNumberInRange)(i,0,t,!0,!1),"[".concat(n,"]: The starting page index must be between 0 and ").concat(t)),(0,z.assertThat)((0,z.isNumberInRange)(r,0,t,!0,!1),"[".concat(n,"]: The ending page index must be between 0 and ").concat(t)),(0,z.assertThat)((0,z.isValidRange)(i,r,!0),"[".concat(n,"]: The starting page index must be less than or equal to the ending page index: from: ").concat(i,", end: ").concat(r))};r?Array.isArray(r)?(t.basePageRange={from:r[0],end:r[1]},a(t.basePageRange,n,"basePageRange")):a(r,n,"basePageRange"):t.basePageRange={from:0,end:n-1},o?Array.isArray(o)?(t.otherPageRange={from:o[0],end:o[1]},a(t.otherPageRange,n,"otherPageRange")):a(o,i,"otherPageRange"):t.otherPageRange={from:0,end:i-1}}},{key:"isCompareDoc",value:function(){return this.info.isCompareDoc}},{key:"getComparisonFilterCountSummary",value:function(){return this.getCompareFileFilterNums()}},{key:"hasFixedPageFields",value:function(e){return this.api.hasFixedPageFields(this.getId(),e)}},{key:"signForESignUS",value:function(e,t,n,i){var r=this;if(!this.checkPermission(Xt.annotForm)&&!this.checkPermission(Xt.fillForm)){var o=new Error("Permission error");throw i(o),o}return this.api.signForESignUS({path:"jr/doc",transfer:!0},this.id,e,t).then(function(e){for(var t=[],n=0,i=0;i<e.byteRange.length;i+=2){var r=e.byteRange[i],o=e.byteRange[i+1];n||(n=r+o+1);var a=e.buffer.slice(r,r+o);t.push(a)}var s=new Blob(t),A=new FileReader;return Promise.all([new Promise(function(t,n){A.onload=function(){t(new Uint8Array(A.result))},A.onerror=function(e){return n(e)},A.readAsArrayBuffer(e.buffer)}),s.arrayBuffer(),n])},i).then(function(e){var t=(0,M._)(e,3),o=t[0],a=t[1],s=t[2];return r.generateDocHash(a).then(function(e){var t=function(e){for(var t,n=e.split(""),i=new Uint8Array(e.length/2),r=function(e){for(var t,n=e.length,i=new Array(n),r=0;r<n;r++)48<=(t=e.charCodeAt(r))&&t<58?t-=48:t=(223&t)-65+10,i[r]=t;return i.reduce(function(e,t){return 16*e+t},0)},o="",a=0,s=0;s<n.length;s++)o+=n[s],s>0&&s%2==1&&(i[a++]=r(o),o="");return window.btoa((t=String).fromCharCode.apply(t,(0,R._)(i)))}(e);return Promise.all([n(t),o,s])},i).then(function(e){var t=(0,M._)(e,3),n=t[0],i=t[1],r=t[2],o=i,a=lC(n).reduce(function(e,t){return e.push(DC[(240&t)>>>4]),e.push(DC[15&t]),e},[]);o.set(a,r);var s=uC(o,"").replace("data:;base64,","");return[new Blob([o],{type:"application/pdf"}),s]})})}},{key:"getSignaturesInfo",value:function(){return this.api.getSignaturesInfo({path:"jr/doc"},this.id)}},{key:"getFontCount",value:function(){return this.api.getFontCount({path:"jr/doc"},this.id)}},{key:"getFont",value:function(e){return this.api.getFont({path:"jr/doc"},this.id,e)}},{key:"addFillSignSignaturesToDoc",value:function(e,t,n){return(0,x._)(function(){var i,r,o,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b,w,k,x,P,C,D,E,S,I,T,M,F,L,O,j,B,V,H,U,z,W,Y,G,$;return(0,N.Jh)(this,function(N){switch(N.label){case 0:return i=e.viewerUI.rootComponent.pdfUI,r=i.customs,o=r.startSDKSpan,a=r.otelService,o?[4,o("addFillSignSignaturesToDoc")]:[3,2];case 1:c=N.sent(),u=c.end,l=c.span,s=u,A=l,N.label=2;case 2:if(N.trys.push([2,17,18,19]),d=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i},h=function(){var e=window.localStorage.getItem("CurFileSymbolId");if(e){var t=JSON.parse(window.sessionStorage.getItem("signedList")||"[]");if(t.length){var n=JSON.parse(window.localStorage.getItem("signedFileList")||"[]");n.find(function(t){return t.fileId===e})?n.forEach(function(n){n.fileId===e&&(n.signedList=(0,R._)(new Set((0,R._)(n.signedList).concat((0,R._)(t)))))}):n.push({fileId:e,signedList:t}),window.localStorage.setItem("signedFileList",JSON.stringify(n))}}},p=null==e||null===(f=e.customs)||void 0===f?void 0:f.getOnlineSignManger(),g=p.getList(),t||(t=g),"string"==typeof t&&(v=g.find(function(e){return e.id===t}),t=v?[v]:[]),!t.length)return[2];m={},y=!0,_=!1,b=void 0,N.label=3;case 3:N.trys.push([3,14,15,16]),w=t[Symbol.iterator](),N.label=4;case 4:if(y=(k=w.next()).done)return[3,13];x=k.value,x.signType,P=x.styleId,C=x.id,x.groupId,D=x.dataURL,E=x.rect,S=x.pageIndex,I=JSON.parse(window.sessionStorage.getItem("signedList")||"[]"),T=!1,M=e.getPDFPageRender(S),N.label=5;case 5:return N.trys.push([5,10,,11]),[4,M.getPDFPage()];case 6:return(F=N.sent())?(L=d(D.replace(/^data\:.*?base64,/,"")),[4,M.getSignaturePDFRect(C,m)]):[3,9];case 7:return O=(O=N.sent())||E,[4,F.addImage(L,O,M.getRotation())];case 8:N.sent(),T=!0,N.label=9;case 9:return[3,11];case 10:return N.sent(),e.eventEmitter.emit("needSomeTipToShow","noPermission"),n&&n(),[2];case 11:T&&(M.$handler.find("#".concat(C)).remove(),I.push(P),j=(0,R._)(new Set(I)),window.sessionStorage.setItem("signedList",JSON.stringify(j))),N.label=12;case 12:return y=!0,[3,4];case 13:return[3,16];case 14:return B=N.sent(),_=!0,b=B,[3,16];case 15:try{y||null==w.return||w.return()}finally{if(_)throw b}return[7];case 16:if(m=null,d=null,g.length===t.length)p.clear(),e.getStateHandlerManager().switchTo(Zf.getStateName());else{V=!0,H=!1,U=void 0;try{for(z=function(){var e=Y.value,t=g.findIndex(function(t){return t.id===e.id});p.delete(t)},W=t[Symbol.iterator]();!(V=(Y=W.next()).done);V=!0)z()}catch(e){H=!0,U=e}finally{try{V||null==W.return||W.return()}finally{if(H)throw U}}}return p.getList().length||(i.eventEmitter.emit("no-sign-apply"),window.sessionStorage.removeItem("curMouseClickSignRecord")),G=!1,JSON.parse(window.localStorage.getItem("pdfSignConfig")||"{}").isFlatteDocumentWhenApplyingAllSignatures&&"fill-sign"===i.activeMainPageTab.name&&(G=!0),G&&i.eventEmitter.emit("flatten-from-apply-all-fillSign"),h(),h=null,n&&n(),[3,19];case 17:return $=N.sent(),a&&a.setSpanException(A,$),[3,19];case 18:return s&&s(),[7];case 19:return[2]}})})()}},{key:"getLastSaveFlags",value:function(){return this.api.getLastSaveFlags({path:"jr/doc"},this.id)}},{key:"saveWinlessData",value:function(){var e=[];return this.pageEditor&&e.push(this.pageEditor.endEdit()),this.touchup&&this.touchup.handleEvent("generateContent"),Promise.all(e)}},{key:"customProtectDoc",value:function(e){return this.api.customProtectDoc(this.getId(),e)}},{key:"drawTextString",value:function(e){if(e)return this.api.drawTextString(this.id,e)}},{key:"getWordCount",value:function(){return this.registerProgressFlow("getWordCount"),this.api.getAllWordCount({path:"jr/doc"},this.id)}},{key:"registerProgressFlow",value:function(e){var t=this,n=ae.progressChanged,i=function(r){!function(r){var o;switch(r.state){case"start":case"progress":o=Tk.PROGRESSING;break;case"end":o=Tk.SUCCESS;break;case"error":o=Tk.FAIL}t.engine.eventEmitter.emit(n,e,r.progress,o),"end"!==r.state&&"error"!==r.state||t.api.unregisterWorkflow(e,i)}(r.msg)};this.api.registerWorkflow(e,i)}},{key:"loadAdvEditorConfigFile",value:function(e,t){var n=this;return this.advEditorConfigFile&&this.advEditorConfigFile[t]?Promise.resolve(!0):(this.advEditorConfigFile=this.advEditorConfigFile||{},this.advEditorConfigFile[t]=e,this.api.loadAdvEditorConfigFile(this.getId(),this.advEditorConfigFile[t],t).then(function(e){return!e&&delete n.advEditorConfigFile[t],e}))}},{key:"setAdvEditorTextToolStyle",value:function(e){return this.api.setAdvEditorTextToolStyle(this.getId(),e)}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e){return this.api.setAdvEditorEditingObjectToolStyle(this.getId(),e)}},{key:"insertXfaPage",value:function(e){this.info.pageCount++;var t=new Er(e,this);this.pageCache.splice(e.index,0,t),this.updatePageIndex(e.index+1,this.info.pageCount-1),this.engine.eventEmitter.emit(oe.Z.pageAdded,t)}},{key:"removeXfaPage",value:function(e){var t;this.info.pageCount--,this.pageCache[e]&&(t=this.pageCache[e].info.objectNumber,this.pageCache.splice(e,1),this.updatePageIndex(e,this.info.pageCount-1)),this.engine.eventEmitter.emit(oe.Z.pageRemoved,e,t,this)}},{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.workerPromise.createMessageChannel(e+this.getId(),t);return n.ownsTo(this),n}},{key:"defineRemoteAPI",value:function(e,t){this.createMessageChannel(e,t)}},{key:"obtainRemoteAPI",value:function(e){return this.createMessageChannel(e).remoteImplementation}},{key:"has3DAnnots",value:function(){return this.api.has3DAnnots({path:"jr/doc"},this.id)}},{key:"updatePagingSealInfo",value:function(e){var t=this;if(!this.checkPermission(Xt.annotForm)&&!this.checkPermission(Xt.fillForm))throw new Error("Permission error");var n=e.pagingSigConfig,i=e.pagingSigObjNum;if(!n)throw new Error("Invalid param pagingSigConfig: ".concat(n,"."));if(!i)throw new Error("Invalid param pagingSigObjNum: ".concat(i,"."));if("number"!=typeof n.offset||n.offset<0)throw new Error("Invalid param pagingSigConfig.offset: ".concat(n.offset,"."));if("number"!=typeof n.firstPagePercent||n.firstPagePercent<=0||n.firstPagePercent>=1)throw new Error("Invalid param pagingSigConfig.firstPagePercent: ".concat(n.firstPagePercent,"."));return this.getAllPagingSealSignatures(i).then(function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(i," associated paging seal signature in current document."))}).then(function(e){return t.api.updatePagingSealInfo({path:"jr/doc"},t.id,{pagingSigConfig:n,pagingSigObjNum:i})}).then(function(e){if(e)return HC(t,e).then(function(e){return Promise.all(e.map(function(e){return e.update()})).then(function(){return t.engine.eventEmitter.emit(oe.Z.pagingSealUpdated,e),i})})})}},{key:"setTabOrderType",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.api.setTabOrderType({path:"jr/doc"},this.id,e)];case 1:return t.sent(),this.engine.eventEmitter.emit(oe.Z.tabOrderTypeUpdated,e),[2]}})}).call(this)}},{key:"getTabOrderType",value:function(){return this.api.getTabOrderType({path:"jr/doc"},this.id)}},{key:"query",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:switch(e.type){case"doc":return[3,1];case"page":return[3,2];case"annot":return[3,3];case"bookmark":return[3,6];case"field":return[3,7]}return[3,8];case 1:return[2,this];case 2:return[2,this.getPageByIndex(e.pageIndex)];case 3:return t=e.annotId,n=t.pageIndex,i=t.objNumber,[4,this.getPageByIndex(n)];case 4:return(r=a.sent())?[4,r.getAnnotsByObjectNumArray([i])]:[2];case 5:return o=M._.apply(void 0,[a.sent(),1]),[2,o[0]];case 6:return[2,this.bookmarkService.getBookmarkData(e.objNumber)];case 7:return[2,this.form.getField(e.fieldName)];case 8:return[2]}})}).call(this)}},{key:"executeSignatureJavaScript",value:function(e,t){return this.api.executeSignatureJavaScript({path:"jr/doc"},this.id,e,t)}},{key:"executeJavaScript",value:function(e){return this.api.executeJavaScript({path:"jr/doc"},this.id,e)}},{key:"executeActions",value:function(e){return this.actionAPI.executeActions(e)}},{key:"hasRedactAnnot",value:function(e){return this.api.hasRedactAnnot({path:"jr/doc"},this.id,e)}},{key:"isRedactExist",value:function(){return this.api.isRedactExist({path:"jr/doc"},this.id)}},{key:"undoAnnotActionOperation",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.annotActionAPI.undoOperation()];case 1:return e=t.sent(),[4,this._handleActionUndoRedoOperation(e)];case 2:return t.sent(),[2]}})}).call(this)}},{key:"redoAnnotActionOperation",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.annotActionAPI.redoOperation()];case 1:return e=t.sent(),[4,this._handleActionUndoRedoOperation(e)];case 2:return t.sent(),[2]}})}).call(this)}},{key:"_handleActionUndoRedoOperation",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return e?"annot"===e.type?[3,1]:[3,3]:[2];case 1:return[4,this.query(e)];case 2:return(t=n.sent())&&t.emitPropertyUpdateEvent(Qt.actionOrderChanged),[3,3];case 3:return[2]}})}).call(this)}}]),t}(z.Disposable);function SC(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return MC(e).then(Hx).then(function(e){return n.drawImage(e,0,0),URL.revokeObjectURL(e.src),t})}function IC(e){return MC(e).then(Hx)}function TC(e){return MC(e).then(function(e){var t=new FileReader;return new Promise(function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)})})}function MC(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise(function(e){t.toBlob(e)})}return e.image?Promise.resolve(e.image):Promise.reject(e)}var RC=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.add(e.getId()),e.isMarkup()){var i=e.getReplies();i.forEach(function(e){return RC(e,t)}),(i=e.getMarkedStates()).forEach(function(e){return t.add(e.getId())}),(i=e.getReviewStates()).forEach(function(e){return t.add(e.getId())}),n&&e.isReplace&&e.isReplace()&&(i=e.getGroupElements()).forEach(function(e){return t.add(e.getId())})}},FC=function(e,t){if((e|t-1-e)<0)throw new Error("Page range error.")},NC=function(e,t){var n=[];return t.forEach(function(t){n.push(e.getPageByIndex(t))}),Promise.all(n)},LC=function(e){var t=[];return e.reduce(function(n,i,r){return n.then(function(n){return i.then(function(n){return t[r]=n,r==e.length-1?t:i})})},Promise.resolve())},OC=function(e,t){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");e.forEach(function(e){if(isNaN(e)||e<0||e>t)throw new Error("Param error: Index is out of the valid range.")})},jC=function(e,t){var n=function(e){if(e.children&&e.children.length>0)for(var i=e.children.length-1;i>-1;i--){n(e.children[i])&&e.children.splice(i,1)}return t.indexOf(e.id)>-1?e:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.children&&e.children.length>0&&e.children.forEach(function(n,r){n.id=t?r+"":e.id+"-"+r,i(n)})};n(e),i(e,!0)},BC=function(e,t){try{if(!t.checkPermission(Xt.annotForm)&&!t.checkPermission(Xt.fillForm))throw new Error("Permission error");if(!e)throw new Error("Invalid param pagingSigConfig: ".concat(e,"."));if(!e.pageRange||"number"!=typeof e.pageRange[0]||e.pageRange[0]<1||"number"!=typeof e.pageRange[1]||e.pageRange[1]>t.getPageCount()||e.pageRange[0]>=e.pageRange[1])throw new Error("Invalid param pagingSigConfig.pageRange: ".concat(e.pageRange,"."));if(!["left","top","right","bottom"].includes(e.position))throw new Error("Invalid param pagingSigConfig.position: ".concat(e.position,"."));if("number"!=typeof e.width||e.width<0)throw new Error("Invalid param pagingSigConfig.width: ".concat(e.width,"."));if("number"!=typeof e.height||e.height<0)throw new Error("Invalid param pagingSigConfig.height: ".concat(e.height,"."));if("number"!=typeof e.offset||e.offset<0)throw new Error("Invalid param pagingSigConfig.offset: ".concat(e.offset,"."));if("number"!=typeof e.firstPagePercent||e.firstPagePercent<=0||e.firstPagePercent>=1)throw new Error("Invalid param pagingSigConfig.firstPagePercent: ".concat(e.firstPagePercent,"."));if(e.isDisplayMultipleSeal&&("number"!=typeof e.pageCountForEachSeal||e.pageCountForEachSeal<2))throw new Error("Invalid param pagingSigConfig.pageCountForEachSeal: ".concat(e.pageCountForEachSeal,"."))}catch(e){return Promise.reject(e)}var n=e.pageRange[0]-1;return t.getPageSizesByIndex(n).then(function(t){var i=t[n];if(("left"===e.position||"right"===e.position?e.offset+e.height>i.height:e.offset+e.width>i.width)||e.width>i.width||e.height>i.height)throw new Error("Paging seal signature out of page.")})},VC=function(e){var t,n;e=(0,k._)((0,w._)({},e),{sealPosition:null!==(t=e.position)&&void 0!==t?t:e.sealPosition,sealOffset:null!==(n=e.offset)&&void 0!==n?n:e.sealOffset});var i=Promise.resolve(e);return"string"==typeof e.image&&e.image.length>0&&(i=fetch(e.image).then(function(e){return e.blob().then(function(e){return new Promise(function(t){var n=new Image;n.src=URL.createObjectURL(e),n.onload=function(){URL.revokeObjectURL(n.getAttribute("src"));var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){t(i.result)}},n.onerror=function(){URL.revokeObjectURL(n.getAttribute("src")),t()}})})}).then(function(t){return t&&(e.inkSign=t),e})),delete e.position,delete e.offset,delete e.image,i},HC=function(e,t){return e.getAnnots().then(function(e){for(var n=[],i=0;i<e.length&&n.length!==t.length;i++)for(var r=e[i],o=0;o<r.length&&n.length!==t.length;o++){var a=r[o];t.indexOf(a.objectNumber)>-1&&n.push(a)}return n})};const UC=EC;var zC=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this);return this.info.isArea&&(e.AreaHi="AreaHi"),e}}]),t}(rk);const WC=zC;var YC=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"isReplace",value:function(){return"Replace"===this.info.typeAlias}}]),t}(rk);const GC=YC;var $C=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),t}(rk);const JC=$C;var qC=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),t}(rk);const KC=qC;var ZC=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getEndPoint",value:function(){return this.info.endPoint}},{key:"setEndPoint",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setLineEndPoint(i.getId(),n.getId(),this.getId(),e.x,e.y).then(function(e){return t.update(Qt.endPointUpdated)}).then(function(){t.info.endPoint=e,t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"getStartPoint",value:function(){return this.info.startPoint}},{key:"setStartPoint",value:function(e){var t=this;this.checkModidyPerm();var n=!arguments[1],i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setLineStartPoint(r.getId(),i.getId(),this.getId(),e.x,e.y).then(function(e){return t.update(n&&Qt.startPointUpdated)}).then(function(){t.info.startPoint=e,n&&t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],i)})}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then(function(e){return n.update(Qt.endingStyleUpdated)}).then(function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],i)})}},{key:"flip",value:function(){var e=this,t=this.getStartPoint(),n=this.getEndPoint(),i=this.getPDFPage(),r=i.getPDFDoc();return r.api.setLinePoints({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),n.x,n.y,t.x,t.y).then(function(t){return e.update(Qt.PointsUpdated)}).then(function(){e.info.startPoint=n,e.info.endPoint=t,e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],i)})}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.enableCaptionUpdated)}).then(function(){t.info.hasCaption=e,t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"getCaptionPoint",value:function(){var e=this.getCaptionOffset(),t=this.getLeaderLinePoints(),n=t.start,i=t.end,r=new Xv(n.x,n.y),o=new Xv(i.x,i.y),a=this.getLeaderLineOffset();if(a>0){var s=this.getLeaderLineLength()>0?1:-1,A=r.move(a,o),c=o.move(a,r);r=A.rotate(s*-Math.PI/2,r),o=c.rotate(s*Math.PI/2,o)}var u=r.distanceTo(o),l=r.move(u/2,o),d=l;if(0!==e.x||0!==e.y){var h=l.move(e.y,r).rotate(Math.PI/2,l),f=Math.PI/2;f=e.y>0?-Math.PI/2:Math.PI/2,d=h.move(e.x,l).rotate(f,h)}return d}},{key:"setContent",value:function(e){var n=this;return(0,E._)((0,S._)(t.prototype),"setContent",this).call(this,e).then(function(e){return e&&n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),n.updateInfo(n.info),e})}},{key:"getStyleFillColor",value:function(){return this.info.styleFillColor}},{key:"setStyleFillColor",value:function(e){var t=this;this.checkModidyPerm(),0!==e&&(e=(0,z.colorConvertor)(e,"int"));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then(function(i){return i&&(t.info.styleFillColor=e,t.info.fillColor=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.styleFillColorUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)),t.updateInfo(t.info),i})}},{key:"getLeaderLineLength",value:function(){return this.info.leaderLineLength||0}},{key:"getLeaderLineExtend",value:function(){return this.info.leaderLineExtensionLength||0}},{key:"setLeaderLineExtend",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineExtend(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.leaderLineExtendUpdated)}).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"getLeaderLineOffset",value:function(){return this.info.leaderLineOffset}},{key:"setLeaderLineOffset",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineOffset(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.leaderLineOffsetUpdated)}).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"getCaptionPos",value:function(){return this.info.capPos}},{key:"calculateLeaderLine",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=this.k=-1/(n/i),o=Math.atan(r),a=this.getLeaderLineLength(),s=1,A=1;isFinite(r)?0==i?s=A=a<0?n>0?1:-1:n<0?1:-1:i>0?n>0?(s=a>0?-1:1,A=a>0?1:-1):A=s=a>0?1:-1:n>0?A=s=a>0?-1:1:(s=a>0?1:-1,A=a>0?-1:1):s=A=a>0?i>0?1:-1:i<0?1:-1;var c=s*Math.abs(Math.cos(o)*a),u=A*Math.abs(Math.sin(o)*a);this.leaderSartPoit={x:e.x+c,y:e.y+u},this.leaderEndPoint={x:t.x+c,y:t.y+u},this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x}},{key:"getLeaderLinePoints",value:function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}}},{key:"_update",value:function(){var e=this;return(0,E._)((0,S._)(t.prototype),"_update",this).call(this).then(function(t){return e.calculateLeaderLine(),e})}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then(function(){var i=t.getPDFPage();return n&&e&&t.eventEmitter.emit(oe.Z.annotationUpdated,[t],i,e),t})}},{key:"setLeaderLineLength",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineLength(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.leaderLineLengthUpdated)}).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"getMeasureInfo",value:function(){return""}},{key:"getCaptionOffset",value:function(){return this.info.captionOffset}},{key:"setCaptionOffset",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotCaptionOffset(r.getId(),i.getId(),this.getId(),e,t).then(function(){return n.update(Qt.leaderCaptionOffsetUpdated)}).then(function(){n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],i)})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.startPoint,i=this.info.endPoint,r=this.info.leaderLineLength,o=this.info.leaderLineExtensionLength,a=this.info.leaderLineOffset,s=this.info.captionOffset,A=this.hasCaption()?"yes":"no",c=this.getCaptionColor();if(c=(0,z.convertFromNumberToHex)(16777215&c),this.info.styleFillColor){var u=(0,z.convertFromNumberToHex)(16777215&this.info.styleFillColor);e["interior-color"]=u,e.interiorColor=u}return Object.assign({},e,{start:n.x+","+n.y,end:i.x+","+i.y,head:pe[this.info.startStyle],tail:pe[this.info.endingStyle],leaderLength:r,leaderExtend:o,leaderOffset:a,captionOffset:s,caption:A,captionColor:c})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?"inch":A;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(Ei);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.update(Qt.measureRatioUpdated)}).then(function(){var t=e.getPDFPage();e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],t)})}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.measureUnitUpdated)}).then(function(){t.info.measureUnit=e;var n=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,z.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.captionColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),t}(Ar);const XC=ZC;var QC=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"startPoint",void 0),(0,U._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,D._)(e,[{key:"isEmpty",value:function(){return 0===this.points.length}},{key:"optimize",value:function(){var t=Array.from(new Set(this.points.map(function(e){return JSON.stringify(e)}))).map(function(e){return JSON.parse(e)});if(1===t.length){var n=t[0];"lineTo"===n.type&&n.x===this.startPoint.x&&n.y===this.startPoint.y&&(t.length=0)}return new e(this.startPoint,t)}}]),e}(),eD=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"startPoint",void 0),(0,U._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,D._)(e,[{key:"getSegments",value:function(){return this.points.reduce(function(e,t){var n=e[e.length-1];return"lineTo"===t.type||"cubicBezierTo"==t.type?n.points.push(t):e.push(new QC(t,[])),e},[new QC(this.startPoint,[])])}},{key:"toPointArray",value:function(){return[this.startPoint].concat(this.points)}},{key:"toVertexesArray",value:function(){return this.toPointArray().flatMap(function(e){return"cubicBezierTo"===e.type?e.operands.map(function(e){return{type:e.closeFigure?he.BEZIER_TO_CLOSE_FIGURE:he.BEZIER_TO,x:e.x,y:e.y}}):[{x:e.x,y:e.y,type:"lineTo"===e.type?e.closeFigure?he.LINE_TO_CLOSE_FIGURE:he.LINE_TO:he.MOVE_TO}]})}},{key:"updatePoint",value:function(e,t){!function(e){if((0,z.isValidNumber)(e.x)&&(0,z.isValidNumber)(e.y))return!0;throw new Error("Incorrect point: ".concat(JSON.stringify(e)))}(t);var n=[this.startPoint].concat(this.points.flatMap(function(e){return"cubicBezierTo"===e.type?e.operands:e}));n[e].x=t.x,n[e].y=t.y}},{key:"toGSDKPath",value:function(e){var t=new e.Path,n=e.PointF;return this.toPointArray().forEach(function(e){switch(e.type){case"moveTo":t.MoveTo(new n(e.x,e.y));break;case"lineTo":t.LineTo(new n(e.x,e.y)),e.closeFigure&&t.CloseFigure();break;case"cubicBezierTo":var i=e.operands;t.CubicBezierTo(new n(i[0].x,i[0].y),new n(i[1].x,i[1].y),new n(i[2].x,i[2].y));break;default:throw new Error("Incorrect point: ".concat(JSON.stringify(e),", its type must be one of 'moveTo', 'lineTo' or 'cubicBezier'"))}}),t}}],[{key:"fromGSDKPath",value:function(t,n){var i=t.GetPointCount();if(0===i)return null;for(var r=n.PointType,o=[],a=0;;){var s=t.GetPointType(a),A=t.GetPoint(a);switch(s){case r.e_TypeLineTo:case r.e_TypeLineToCloseFigure:o.push({type:"lineTo",x:A.x,y:A.y,closeFigure:s===r.e_TypeLineToCloseFigure}),a++;break;case r.e_TypeMoveTo:o.push({type:"moveTo",x:A.x,y:A.y}),a++;break;case r.e_TypeBezierTo:for(var c=[],u=a+3;a<u;a++){var l=t.GetPoint(a);c.push({x:l.x,y:l.y,closeFigure:t.GetPointType(a)===r.e_TypeBezierToCloseFigure})}o.push({type:"cubicBezierTo",operands:c})}if(a>=i-1)break}return new e(o[0],o.slice(1))}},{key:"fromPointArray",value:function(t){if(t.length<2)throw new Error("Invalid path point array! The point count must be greater than 2");if("moveTo"!==t[0].type)throw new Error("Invalid path point array!, The type of first point must be 'moveTo'");return new e(t[0],t.slice(1))}}]),e}();function tD(e){return!e||e.length<1?"":e.map(function(e){return"moveTo"===e.type||"lineTo"===e.type?[e.x,e.y].join(","):e.operands.flatMap(function(e){return[e.x,e.y]}).join(",")}).join(";")}var nD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"getStyleFillColor",value:function(){return this.info.fillColor}},{key:"setStyleFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(t.prototype),"setFillColor",this).call(this,e)}},{key:"updateVertexes",value:function(e,t){var n=this,i=t.x,r=t.y;this.checkModidyPerm();var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(a.getId(),o.getId(),this.getId(),e,i,r).then(function(){return n.info[e]={x:i,y:r},n.update(Qt.vertexesUpdated)}).then(function(){n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage())})}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then(function(){return t.info.vertexes=e,t.update(Qt.vertexesUpdated)}).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}},{key:"getMeasureInfo",value:function(){return""}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then(function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(oe.Z.annotationUpdated,[n],i,Qt.endingStyleUpdated),n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage())}).then(function(e){return n._update()})}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.vertexes,i="",r=0;r<n.length;r++)i+=n[r].x+","+n[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,z.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolyLineDimension"===this.getIntent()){e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,z.convertFromNumberToHex)(16777215&a)}return Object.assign({},e,{head:pe[this.info.startStyle],tail:pe[this.info.endingStyle],vertices:i,path:tD(this.info.path)})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?"inch":A;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(Ei);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.update(Qt.measureRatioUpdated)}).then(function(){var t=e.getPDFPage();e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],t)})}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then(function(){return t.update(Qt.measureUnitUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.enableCaptionUpdated)}).then(function(){t.info.hasCaption=e,t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,z.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.captionColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?eD.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then(function(){return n.update(Qt.pathUpdated).then(function(){n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],i)})})}}]),t}(Ar);const iD=nD;var rD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"updateVertexes",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(r.getId(),i.getId(),this.getId(),e,t.x,t.y).then(function(){return n.update(Qt.vertexesUpdated)}).then(function(){n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage())})}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then(function(){return t.info.vertexes=e,t.update(Qt.vertexesUpdated)}).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}},{key:"getMeasureInfo",value:function(){return""}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.vertexes,i="",r=0;r<n.length;r++)i+=n[r].x+","+n[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,z.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolygonDimension"===this.getIntent()){e.measureRatio=this.info.measureRatio,e.measureConversionFactor=this.info.measureConversionFactor,e.measureUnit=this.info.measureUnit,e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,z.convertFromNumberToHex)(16777215&a)}var s=tD(this.info.path);return Object.assign({},e,{vertices:i,path:s})}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(t.prototype),"setFillColor",this).call(this,e)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?"inch":A;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(Ei);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.update(Qt.measureRatioUpdated)}).then(function(){var t=e.getPDFPage();e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],t)})}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then(function(){return t.update(Qt.measureUnitUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.enableCaptionUpdated)}).then(function(){t.info.hasCaption=e,t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,z.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.captionColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?eD.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then(function(){return n.update(Qt.pathUpdated).then(function(){n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],i)})})}}]),t}(Ar);const oD=rD;var aD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return(0,E._)((0,S._)(t.prototype),"getFlags",this).call(this)}},{key:"getIconName",value:function(){return this.info.iconName||"Note"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.iconNameUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e}):e})}},{key:"getState",value:function(){return this.info.state}},{key:"setState",value:function(e){var t=this;if(this.checkModidyPerm(),!this.isStateAnnot())return Promise.reject(new Error("Cannot set state name if it is not a state type annotation!"));if(this.getState()===e)return Promise.resolve(!0);var n=this.info.state,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setStateName(r.getId(),i.getId(),this.getId(),e).then(function(i){return t.info.state=e,t.eventEmitter.emit(oe.Z.stateAnnotNameUpdated,t,t.getPDFPage(),n,e),i})}},{key:"isStateAnnot",value:function(){return this.info.isStateAnnot}},{key:"isReplyAnnot",value:function(){return!this.isStateAnnot()&&"R"===this.info.RT}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n={icon:this.info.iconName};if(this.info.isStateAnnot){n.statemodel=1==this.info.stateMode?"Marked":"Review";var i=this.page.annotIdMap[this.info.IRT];n.inreplyto=i&&i.getName();var r=this.info.state;n.state=r.charAt(0).toUpperCase()+r.slice(1),delete e.contents,delete e.color}return Object.assign({},e,n)}}]),t}(Ar);const sD=aD;var AD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(t.prototype),"setFillColor",this).call(this,e)}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.rect,i=this.info.innerRect,r={fringe:[i.left-n.left,i.bottom-n.bottom,n.right-i.right,n.top-i.top].toString()};if(this.info.fillColor){var o=(0,z.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}if("CircleDimension"===this.getIntent()){r.measureRatio=this.getMeasureRatio(),r.measureConversionFactor=this.getMeasureConversionFactor(),r.measureUnit=this.getMeasureUnit(),r.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();r.captionColor=(0,z.colorConvertor)(16777215&a,"#")}return Object.assign({},e,r)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Ei.inch:r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?Ei.inch:A;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(Ei);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.update(Qt.measureRatioUpdated)}).then(function(){var t=e.getPDFPage();e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],t)})}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then(function(){return t.update(Qt.measureUnitUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.measureConversionFactorUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.enableCaptionUpdated)}).then(function(){t.info.hasCaption=e,t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,z.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.captionColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),t}(Ar),cD=function(e){function t(e,n){var i;return(0,C._)(this,t),(i=(0,P._)(this,t,[e,n])).updateFileSpec(),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getIconName",value:function(){return this.info.iconName||"PushPin"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.iconNameUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e}):e})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n={icon:this.info.iconName};return Object.assign({},e,n)}},{key:"update",value:function(e){var n=this;return(0,E._)((0,S._)(t.prototype),"update",this).call(this,e).then(function(e){return n.updateFileSpec(),e})}},{key:"updateFileSpec",value:function(){var e=this.info;this.fileSpec=e.fileSpec&&new gP(e.fileSpec)||null}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"getFileattachmentStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc(),n=[];return this.page.doc.api.getFileattachmentStream(t.getId(),e.getId(),this.getId(),function(e){var t=e.arrayBuffer,i=e.blob;i?n=i:n.push(t)}).then(function(){return n})}}]),t}(Ar);const uD=cD;var lD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.rect,i=this.info.innerRect,r=[i.left-n.left,i.bottom-n.bottom,n.right-i.right,n.top-i.top].toString();return delete e.style,delete e.width,delete e.dashPhase,delete e.intensity,Object.assign({},e,{fringe:r})}},{key:"moveRectByCharIndex",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveCaretRectByCharIndex(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.rectUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationMovedPosition,[t],t.getPDFPage(),t),e}):e})}}]),t}(Ar);const dD=lD;var hD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return(0,E._)((0,S._)(t.prototype),"setFillColor",this).call(this,e)}},{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.rect,i=this.info.innerRect,r=[i.left-n.left,i.bottom-n.bottom,n.right-i.right,n.top-i.top].toString();if(this.info.fillColor){var o=(0,z.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}var a={fringe:r};return"CustomDimension"===this.getIntent()&&(a.measureRatio=this.getMeasureRatio(),a.measureConversionFactor=this.getMeasureConversionFactor(),a.measureUnit=this.getMeasureUnit()),Object.assign({},e,a)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Ei.inch:r,a=t.realValue,s=void 0===a?1:a,A=t.realUnit,c=void 0===A?Ei.inch:A;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(Ei);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:c}).then(function(){return e.update(Qt.measureRatioUpdated)}).then(function(){var t=e.getPDFPage();e.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[e],t)})}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.measureUnitUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.measureConversionFactorUpdated)}).then(function(){var e=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],e)})}}]),t}(Ar),fD=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),-1===e.borderColor&&"FreeTextTypewriter"!==e.intent&&(e.borderColor=16711680),i}return(0,I._)(t,e),(0,D._)(t,[{key:"setIsEditting",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.isEditting=e,this.page.doc.api.setAnnotIsEditing({path:"jr/doc/page"},n.getId(),t.getId(),this.getId(),e)}},{key:"setAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAlignment(i.getId(),n.getId(),this.getId(),e).then(function(){return t.info.justification=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.alignmentUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info),e})}},{key:"getAlignment",value:function(){return this.info.justification}},{key:"getInnerRect",value:function(){return Object.assign({},this.info.innerRect)}},{key:"setInnerRectNoAction",value:function(e){var t=this;this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then(function(){var e=t.getGroupElements();0==e.length&&(e=[t]);for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n[i]=o._update()}return Promise.all(n)})}},{key:"getIntent",value:function(){var e=(0,E._)((0,S._)(t.prototype),"getIntent",this).call(this);return e||(e="FreeTextTextbox"),e}},{key:"setInnerRect",value:function(e){var t=this;this.checkModidyPerm(),this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then(function(e){return e?t.update(Qt.innerRectUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e}):e})}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"getFillColor",value:function(){return"FreeTextTypewriter"==this.info.intent?0:this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=0===e?0:(0,z.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then(function(i){return i&&(t.info.fillColor=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.fillColorUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),t.updateInfo(t.info)),i})}},{key:"getCalloutLinePoints",value:function(){return this.info.calloutLinePoints}},{key:"setCalloutLinePoints",value:function(e){var t=this;return this._setCalloutLinePoints(e).then(function(e){return t._update()}).then(function(e){var n=t.getPDFPage();t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.calloutLinePointsUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n)})}},{key:"_setCalloutLinePoints",value:function(e){var t=this;this.checkModidyPerm(),this.info.calloutLinePoints=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLinePoints(i.getId(),n.getId(),this.getId(),e).then(function(e){return t._update()})}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;this.checkModidyPerm(),this.info.calloutLinePoints=n;var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.updateCalloutFigure(o.getId(),r.getId(),this.getId(),e,t,n).then(function(){var e=i.getGroupElements();0==e.length&&(e=[i]);for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];t[n]=o.updateRectData()}return Promise.all(t)}).then(function(){var e=i.getPDFPage();i.eventEmitter.emit(oe.Z.annotationUpdated,[i],i.getPDFPage(),Qt.rectUpdated),i.eventEmitter.emit(oe.Z.annotationUpdated,[i],i.getPDFPage(),Qt.innerRectUpdated),i.eventEmitter.emit(oe.Z.annotationUpdated,[i],i.getPDFPage(),Qt.calloutLinePointsUpdated),i.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[i],e)})}},{key:"updateRectFigure",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.info.rect,r=this.info.innerRect;e=An(e),this.info.rect=e,this.info.innerRect=t;var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateRectFigure(a.getId(),o.getId(),this.getId(),e,t).then(function(e){return e?n.update(Qt.rectUpdated).then(function(e){return n.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),!0}):(n.info.rect=i,n.info.innerRect=r,e)})}},{key:"getCalloutLineEndingStyle",value:function(){return this.info.calloutLineEndingStyle}},{key:"setEndingStyle",value:function(e,t){return this.setCalloutLineEndingStyle(t)}},{key:"setCalloutLineEndingStyle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLineEndingStyle(i.getId(),n.getId(),this.getId(),e).then(function(){t.info.calloutLineEndingStyle=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.calloutLineEndingStyleUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info)})}},{key:"_setRect",value:function(e,n){var i=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this;return(0,x._)(function(){return(0,N.Jh)(this,function(a){return[2,(0,E._)((0,S._)(t.prototype),"_setRect",i).call(o,e,n,r)]})})()}},{key:"setTextSize",value:function(e){var t=this.getDefaultAppearance();return t.textSize=e,this.setDefaultAppearance(t)}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),e).then(function(){return t._update()}).then(function(){t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.defaultAppearanceUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}},{key:"getFontColor",value:function(){return 0==this.info.defaultAppearance.textColor?"#000000":(0,z.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0)}},{key:"setFontColor",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e=(0,z.colorConvertor)(e,"int",1),this.info.defaultAppearance.textColor=e,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),this.info.defaultAppearance).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this);e.justification=this.info.justification,90!==this.info.rotation&&270!==this.info.rotation||(e.rotation=360-this.info.rotation);var n="";this.info.fontName&&(n+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(n+=this.info.defaultAppearance.textSize+" Tf ");var i=(0,z.convertFromNumberToRGBA)(this.getBorderColor());switch(n+=(i.r/255).toFixed(2)+" "+(i.g/255).toFixed(2)+" "+(i.b/255).toFixed(2)+" rg",e.defaultappearance=n,e.fontColor=(0,z.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.fillColor&&(i=(0,z.convertFromNumberToHex)(16777215&this.info.fillColor),e["interior-color"]=i,e.interiorColor=i),this.info.intent){case"FreeTextCallout":var r=this.info.rect,o=this.info.innerRect,a=[o.left-r.left,o.bottom-r.bottom,r.right-o.right,r.top-o.top].toString(),s=this.info.calloutLinePoints,A=s[0].x+","+s[0].y;A+=","+s[1].x+","+s[1].y,A+=","+s[2].x+","+s[2].y;var c=pe[this.info.calloutLineEndingStyle];return Object.assign({},e,{fringe:a,callout:A,head:c});case"FreeTextTypewriter":break;default:var u=this.info.rect,l=this.info.innerRect,d=[l.left-u.left,l.bottom-u.bottom,u.right-l.right,u.top-l.top].toString();return Object.assign({},e,{fringe:d})}return e}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this.info.RC="",this._setContent(e).then(function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])}).then(function(e){return t.update(Qt.contentUpdated).then(function(e){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,t.getPDFPage()),e})})}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getAnnotWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}},{key:"getRotation",value:function(){return this.info.rotation||0}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(n){for(var i=0;i<n.length;i++)n[i].info.rotation=e;return t.info.rotation=e,n}).then(function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,A=e[Symbol.iterator]();!(r=(s=A.next()).done);r=!0){var c=s.value;i.push(c.update())}}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return Promise.all(i).then(function(i){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.rotationUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})})}},{key:"setAppearanceWithoutFontFamily",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),Object.assign({},e,{font:void 0})).then(function(){return t._update()}).then(function(){t.info.defaultAppearance=e,t.eventEmitter.emit(oe.Z.annotationUpdated,[t],n,Qt.defaultAppearanceUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}}]),t}(Ar);const pD=fD;var gD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getInnerRect",value:function(){return this.getRect()}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this);return e.icon=this.info.iconName,e}},{key:"getIconName",value:function(){return this.info.iconName||""}},{key:"setImage",value:function(e){var t=this;return function(e){return fetch(e).then(function(e){return e.blob().then(function(e){return{url:URL.createObjectURL(e),size:e.size}})}).catch(function(e){throw new Error("Could not load image!")})}(e).then(function(e){var n=t.getPDFPage(),i=n.getPDFDoc(),r=e.url,o=e.size;return t.page.doc.api.setAnnotAPBitmap(i.getId(),n.getId(),t.getId(),r,o).then(function(e){t.update(Qt.imageUpdated)})})}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then(function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return Ux(t);case"image":return zx(t);case"buffer":return Wx(t);default:throw new Error("Invalid options.type: ".concat(e))}})}},{key:"getRotation",value:function(){return this.info.rotation<0&&(this.info.rotation+=360),this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e<0&&(e+=360),this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(n){for(var i=0;i<n.length;i++)n[i].info.rotation=e;return t.info.rotation=e,n}).then(function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,A=e[Symbol.iterator]();!(r=(s=A.next()).done);r=!0){var c=s.value;i.push(c.update())}}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return Promise.all(i).then(function(i){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.rotationUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})})}}]),t}(Ar);const vD=gD;var mD=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),e.action&&(i.action=i.page.doc.engine.actionFactory.createAction(e.action,n.doc,i.page.doc.api,i.eventEmitter,i)),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(t.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.action}},{key:"getActionPromise",value:function(){return Promise.resolve(this.action)}},{key:"getAdditionalAction",value:function(){var e=this;return new Ge.AdditionalAction(this.resQuery,this.additionalActionAPI,function(t){switch(t){case"set":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(Qt.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataAdded)}},function(){return(0,R._)(Ge.AnnotActionTriggerEventsArray)})}},{key:"getHighlightingMode",value:function(){return this.info.highlightingMode}},{key:"setHighlightingMode",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setHighlightingMode(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]._update());return Promise.all(t)}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.highlightingModeUpdated),t.eventEmitter.emit(oe.Z.annotationMovedPosition,e,n,t),e})}},{key:"hasPA",value:function(){return this.api.linkHasPA(this.page.doc.getId(),this.page.getId(),this.getId())}},{key:"resetAByPA",value:function(){var e=this;return this.api.linkResetAByPA(this.page.doc.getId(),this.page.getId(),this.getId()).then(function(t){if(t)return e.update(Qt.actionDataUpdated).then(function(){e.action=e.page.doc.engine.actionFactory.createAction(e.info.action,e.page.doc,e.page.doc.api,e.eventEmitter,e)})})}},{key:"setAction",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo.AnnotMouseButtonReleased,r=arguments.length>2?arguments[2]:void 0;if(this.checkModidyPerm(),(0,z.isPlainObject)(arguments[0]))return(0,E._)((0,S._)(t.prototype),"setAction",this).call(this,arguments[0]);var o=this.getPDFPage(),a=o.getPDFDoc();return e=e.info?e.info:e,this.page.doc.api.setAction(a.getId(),o.getId(),this.getId(),e,i,r).then(function(e){return n.action?e.type!==n.action.getType()?n.action=n.page.doc.engine.actionFactory.createAction(e,n.page.doc,n.page.doc.api,n.eventEmitter,n):n.action.updateAction(e):n.action=n.page.doc.engine.actionFactory.createAction(e,n.page.doc,n.page.doc.api,n.eventEmitter,n),n.update(Qt.addAction)}).then(function(){return n.eventEmitter.emit(oe.Z.actionAdd,n),!0})}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then(function(){return n.update(Qt.actionDataUpdated).then(function(e){return!0})})}},{key:"removeAction",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1?arguments[1]:void 0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return(0,E._)((0,S._)(t.prototype),"removeAction",this).call(this,arguments[0]);var r=0,o=0;i&&(r=0,o=i.info.objNumber),delete this.info.action,delete this.action;var a=this.page,s=a.doc;return s.api.removeAction(s.getId(),a.getId(),this.getId(),n,r,o).then(function(t){var n=t[0];return n&&(e.info.action=n,e.action=LP.createAction(n,e.page.getPDFDoc())),e.eventEmitter.emit(oe.Z.annotationUpdated,[e],e.getPDFPage(),Qt.actionDataUpdated),e.eventEmitter.emit(oe.Z.actionRemove,e),!0})}},{key:"moveAction",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.moveAction)})}}]),t}(ln);const yD=mD;var _D=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getInkList",value:function(){return this.info.inkList}},{key:"setInkList",value:function(e){var t=this;if(this.isDeleted())return Promise.resolve();this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setInkList(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.inkListUpdated).then(function(){t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],t.getPDFPage())})}).then(function(){return!0})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this),n=this.info.inkList,i="[";if(n.length>0){for(var r=0;r<n.length;r++)0!=r&&1==n[r].type&&(i=i.substr(0,i.length-1),i+="],["),i+=n[r].x+","+n[r].y+";";i=i.substr(0,i.length-1)+"]"}else i="[]";return Object.assign({},e,{inklist:i})}}]),t}(Ar);const bD=_D;var wD=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),e.action&&(i.action=i.page.doc.engine.actionFactory.createAction(e.action,n.doc,i.page.doc.api,i.eventEmitter,i)),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(t.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.getActionPromise()}},{key:"getActionPromise",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getAction(n.getId(),t.getId(),this.getId()).then(function(t){if(t&&"TypeUnknown"!==t.type)return e.action=e.page.doc.engine.actionFactory.createAction(t,n,e.page.doc.api,e.eventEmitter,e),e.action})}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(n){var i=0;for(n.length;i--;)n[i].info.rotation=e;return t.info.rotation=e,n}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.rotationUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then(function(e){return n.getAnnotsByObjectNumArray(e)}).then(function(n){var i=0;for(n.length;i--;)n[i].info.opacity=e;return t._update().then(function(){return n})}).then(function(e){return t.eventEmitter.emit(oe.Z.annotationUpdated,e,n,Qt.opacityUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,e,n),e})}},{key:"setRect",value:function(e){var t=this,n=this.info.rect;this.info.rect=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),i.getId(),this.getId(),e).then(function(r){return t.eventEmitter.emit(oe.Z.invalidRect,new Zt(n.left,n.bottom,n.right,n.top),new Zt(e.left,e.bottom,e.right,e.top),t.info.type,t.info,i),r?(t.eventEmitter.emit(oe.Z.annotationUpdated,[t],i,Qt.rectUpdated),t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],i),!0):r})}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=Object.assign({},this.info.rect),o=r.right,a=r.bottom,s=n-r.left,A=i-r.top,c=this.info.rect={left:n,top:i,right:o+s,bottom:a+A},u=this.getPDFPage(),l=u.getPDFDoc().getId(),d=u.getId(),h=this.getId();return this.page.doc.api.moveAnnotTo(l,d,h,{left:n,top:i}).then(function(e){return u.getAnnotsByObjectNumArray(e)}).then(function(t){e.eventEmitter.emit(oe.Z.invalidRect,new Zt(r.left,r.bottom,r.right,r.top),new Zt(c.left,c.bottom,c.right,c.top),e.info.type,e.info,u),e.eventEmitter.emit(oe.Z.annotationUpdated,t,u,Qt.rectUpdated),e.eventEmitter.emit(oe.Z.annotationMovedPosition,t,u,e)})}},{key:"removeAction",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1?arguments[1]:void 0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return(0,E._)((0,S._)(t.prototype),"removeAction",this).call(this,arguments[0]);var r=0,o=0;i?(r=0,o=i.info.objNumber):delete this.info.AA[n],"-1"==n?(delete this.info.action,delete this.action):(delete this.info.AA[n],this.engineActions&&delete this.engineActions[n]);var a=this.page,s=a.doc;return s.api.removeAction(s.getId(),a.getId(),this.getId(),n,r,o).then(function(t){var i=t[0];return i?"-1"==n?(e.info.action=i,e.action=LP.createAction(i,e.page.getPDFDoc())):(e.info.AA[n]=i,e.engineActions[n]=LP.createAction(i,e.page.getPDFDoc())):(delete e.info.action,delete e.action),e.eventEmitter.emit(oe.Z.annotationUpdated,[e],e.getPDFPage(),Qt.actionDataUpdated),e.eventEmitter.emit(oe.Z.actionRemove,e),!0})}},{key:"setImage",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setImage(i.getId(),n.getId(),this.getId(),e).then(function(e){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),t.update(Qt.imageUpdated),e})}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then(function(){return t.update(Qt.titleUpdated)})}},{key:"getAdditionalAction",value:function(){var e=this;if(0===arguments.length)return new Ge.AdditionalAction(this.resQuery,this.additionalActionAPI,function(t){switch(t){case"set":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(Qt.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(Qt.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(Qt.actionDataUpdated),e.emitPropertyUpdateEvent(Qt.additionalActionDataAdded)}});var t=arguments[0];if(-1==t)return this.action;if(!this.engineActions)for(var n in this.engineActions={},this.info.AA)this.engineActions[n]=LP.createAction(this.info.AA[n],this.page.getPDFDoc());return this.engineActions[t]}},{key:"setAdditionalAction",value:function(e,t){return this.setAction(t,e)}},{key:"setAction",value:function(e,n,i){var r=this;if(!e)throw new Error("No Action!");if((0,z.isPlainObject)(arguments[0]))return(0,E._)((0,S._)(t.prototype),"setAction",this).call(this,arguments[0]);var o=this.page,a=o.doc;return this.engineActions||this.getAdditionalAction(11),this.page.doc.api.setAction(a.getId(),o.getId(),this.getId(),e.info,n,i).then(function(t){e.init(t,r.page.doc.engine.actionFactory,a,r.page.doc.api,r.page.doc.engine.eventEmitter,r);var s=!1;return-1==n&&r.info.action&&(s=!0),-1!=n&&r.engineActions[n]&&(s=!0),i&&s?-1==n?r.action.appendSubAction(e):r.engineActions[n].appendSubAction(e):-1==n?(r.info.action=e.info,r.action=e):(r.info.AA[n]=e.info,r.engineActions[n]=e),r.eventEmitter.emit(oe.Z.annotationUpdated,[r],o,Qt.addAction),t})}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then(function(){return n.update(Qt.actionDataUpdated).then(function(e){return!0})})}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then(function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return Ux(t);case"image":return zx(t);case"buffer":return Wx(t);default:throw new Error("Invalid options.type: ".concat(e))}})}},{key:"moveAction",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then(function(e){return t.update(Qt.moveAction).then(function(e){t.updateAdditionalAction()})})}},{key:"updateAdditionalAction",value:function(){for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=LP.createAction(this.info.AA[e],this.page.getPDFDoc())}}]),t}(ln),kD=function(e){function t(e,n){var i;return(0,C._)(this,t),i=(0,P._)(this,t,[e,n]),e.action&&(i.action=i.page.doc.engine.actionFactory.createAction(e.action,n.doc,i.page.doc.api,i.eventEmitter,i)),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getIconName",value:function(){return this.info.iconName||"Speaker"}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this);return e.rate=this.info.soundObj&&this.info.soundObj.sampleRate,e}}]),t}(Ar);const xD=kD;var PD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(t.prototype),"getFlags",this).call(this)}},{key:"getOpenStatus",value:function(){return this.info.openStatus}},{key:"setOpenStatus",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setPopupOpenStatus(i.getId(),n.getId(),this.getId(),e).then(function(){t.info.openStatus=e;var i=[t];return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,i,n),i})}},{key:"exportToJSON",value:function(){var e=this.info.flag,t="";for(var n in me)e&1<<parseInt(n)&&(t+=me[n]+",");var i=this.info.name,r=this.page.getIndex(),o=this.info.openStatus?"yes":"no",a=this.info.rect;return{flags:t,name:i,page:r,open:o,rect:a.left+","+a.bottom+","+a.right+","+a.top,type:"popup"}}}]),t}(ln),CD={Courier:0,"Courier-Bold":1,"Courier-BoldOblique":2,"Courier-Oblique":3,Helvetica:4,"Helvetica-Bold":5,"Helvetica-BoldOblique":6,"Helvetica-Oblique":7,"Times-Roman":8,"Times-Bold":9,"Times-BoldItalic":10,"Times-Italic":11,Symbol:12,ZapfDingbats:13};function DD(e){return CD[e]}function ED(e){for(var t in CD)if(CD[t]==e)return t;return""}var SD={FoxitFixedOTF:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},ID=[{name:"Times Roman",value:"Times-Roman"},{name:"Times Bold",value:"Times-Bold"},{name:"Times Italic",value:"Times-Italic"},{name:"Times BoldItalic",value:"Times-BoldItalic"},{name:"Helvetica",value:"Helvetica"},{name:"Helvetica Bold",value:"Helvetica-Bold"},{name:"Helvetica Oblique",value:"Helvetica-Oblique"},{name:"Helvetica BoldOblique",value:"Helvetica-BoldOblique"},{name:"Courier",value:"Courier"},{name:"Courier Bold",value:"Courier-Bold"},{name:"Courier Oblique",value:"Courier-Oblique"},{name:"Courier BoldOblique",value:"Courier-BoldOblique"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],TD=function(e){var t=e.replace(/\s+/g,"").replace(/-/g,"");return SD[t]},MD=function(e){return ID.some(function(t){return t.value.toLowerCase()===e.toLowerCase()})},RD=function(e){return ID.find(function(t){return t.value.toLowerCase()===e.toLowerCase()})},FD=[{name:"Courier",value:"Courier"},{name:"Helvetica",value:"Helvetica"},{name:"Times Roman",value:"Times-Roman"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],ND=[{name:"黑体",value:"SimHei,STHeiti,Noto Serif Hebrew"},{name:"楷体",value:"CESI_KT_GB2312,KaiTi,STKaiti"},{name:"仿宋",value:"FangSong,STFangSong,CESI_FS_GB13000"},{name:"宋体",value:"SimSun,STSong,CESI_SS_GB13000"}],LD=[{name:"Noto Sans SC Regular",family:"Noto Sans SC Regular"},{name:"Noto Sans",family:"Noto Sans"},{name:"Noto Sans Tibetan",family:"Noto Sans Tibetan"},{name:"Noto Sans CJK TC Medium",family:"Noto Sans CJK TC Medium"},{name:"Noto Sans Mono CJK KR Regular",family:"Noto Sans Mono CJK KR Regular"},{name:"Noto Sans CJK KR DemiLight",family:"Noto Sans CJK KR DemiLight"},{name:"Noto Sans Thai",family:"Noto Sans Thai"},{name:"Noto Sans Cherokee",family:"Noto Sans Cherokee"},{name:"Noto Sans CJK JP Regular",family:"Noto Sans CJK JP Regular"},{name:"Noto Sans CJK JP Thin",family:"Noto Sans CJK JP Thin"},{name:"Noto Sans CJK TC Thin",family:"Noto Sans CJK TC Thin"},{name:"Noto Sans SC Thin",family:"Noto Sans SC Thin"},{name:"Noto Sans Tai Le",family:"Noto Sans Tai Le"},{name:"Noto Sans Thaana",family:"Noto Sans Thaana"},{name:"Noto Sans SC Light",family:"Noto Sans SC Light"},{name:"Noto Sans SC Medium",family:"Noto Sans SC Medium"},{name:"Noto Sans CJK KR Medium",family:"Noto Sans CJK KR Medium"},{name:"Noto Serif Lao",family:"Noto Serif Lao"},{name:"Noto Sans TC Light",family:"Noto Sans TC Light"},{name:"Noto Sans Phags Pa",family:"Noto Sans Phags Pa"},{name:"Noto Sans Telugu",family:"Noto Sans Telugu"},{name:"Noto Sans Yi",family:"Noto Sans Yi"},{name:"Noto Sans Canadian Aboriginal",family:"Noto Sans Canadian Aboriginal"},{name:"Noto Sans Khmer",family:"Noto Sans Khmer"},{name:"Noto Sans Syriac Eastern",family:"Noto Sans Syriac Eastern"},{name:"Noto Serif Thai",family:"Noto Serif Thai"},{name:"Noto Sans Hebrew",family:"Noto Sans Hebrew"},{name:"Noto Sans CJK JP Medium",family:"Noto Sans CJK JP Medium"},{name:"Noto Sans SC Black",family:"Noto Sans SC Black"},{name:"Noto Sans Lao",family:"Noto Sans Lao"},{name:"Noto Sans Tamil",family:"Noto Sans Tamil"},{name:"Noto Sans Gujarati",family:"Noto Sans Gujarati"},{name:"Noto Sans Sinhala",family:"Noto Sans Sinhala"},{name:"Noto Sans CJK TC DemiLight",family:"Noto Sans CJK TC DemiLight"},{name:"Noto Sans Ethiopic",family:"Noto Sans Ethiopic"},{name:"Noto Serif Khmer",family:"Noto Serif Khmer"},{name:"Noto Sans CJK TC Light",family:"Noto Sans CJK TC Light"},{name:"Noto Sans CJK KR Light",family:"Noto Sans CJK KR Light"},{name:"Noto Sans CJK KR Thin",family:"Noto Sans CJK KR Thin"},{name:"Noto Sans CJK KR",family:"Noto Sans CJK KR"},{name:"Noto Sans CJK SC DemiLight",family:"Noto Sans CJK SC DemiLight"},{name:"Noto Sans CJK JP Light",family:"Noto Sans CJK JP Light"},{name:"Noto Sans Mono CJK SC Regular",family:"Noto Sans Mono CJK SC Regular"},{name:"Noto Sans Mono CJK TC Regular",family:"Noto Sans Mono CJK TC Regular"},{name:"Noto Naskh Arabic",family:"Noto Naskh Arabic"},{name:"Noto Sans Mongolian",family:"Noto Sans Mongolian"},{name:"Noto Sans Mono CJK JP Regular",family:"Noto Sans Mono CJK JP Regular"},{name:"Noto Sans CJK JP DemiLight",family:"Noto Sans CJK JP DemiLight"}],OD=[{text:"Helvetica",value:4},{text:"Courier",value:0},{text:"Courier-Bold",value:1},{text:"Courier-BoldOblique",value:2},{text:"Courier-Oblique",value:3},{text:"Helvetica-Bold",value:5},{text:"Helvetica-BoldOblique",value:6},{text:"Helvetica-Oblique",value:7},{text:"Times-Bold",value:9},{text:"Times-BoldItalic",value:10},{text:"Times-Italic",value:11}],jD=[{text:"宋体",name:"SimSun",style:34,charset:134},{text:"楷体",name:"KaiTi",style:32,charset:134}],BD=function(){return"Helvetica"},VD={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EasternEuropean:238,Russian:204,Greek:161,Turkish:162,Vietnamese:163,Hebrew:177,Arabic:178,Baltic:186},HD=function(e){return UD.filter(function(t){var n=(0,M._)(t,3)[2];return 0!==(e&n)}).map(function(e){return(0,M._)(e,1)[0]})},UD=[[VD.ANSI,1,1],[VD.EasternEuropean,1,2],[VD.Greek,1,8],[VD.Turkish,1,16],[VD.Hebrew,1,32],[VD.Arabic,1,64],[VD.Baltic,1,128],[VD.Vietnamese,1,256],[VD.Default,1,512],[VD.Thai,1,65536],[VD.Shift_JIS,1,1<<17],[VD.GB2312,1,1<<18],[VD.Hangeul,1,1<<19],[VD.ChineseBig5,1,1<<20]],zD=function(e){function t(e,n){return(0,C._)(this,t),(0,P._)(this,t,[e,n])}return(0,I._)(t,e),(0,D._)(t,[{key:"isArea",value:function(){return this.info.isArea}},{key:"getRects",value:function(){var e=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach(function(t){e.push({left:t[0].x,top:t[0].y,right:t[3].x,bottom:t[3].y})}):e.push(this.info.rect),e}},{key:"apply",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();if(!n.checkPermission(Xt.annotForm)||!n.checkPermission(Xt.modify))throw new Error("Permission error");return this.page.doc.api.redactApply(n.getId(),t.getId(),this.getId()).then(function(n){var i=t.clearAnnotIds(n);e.page.doc.engine.eventEmitter.emit(oe.Z.annotationRemoved,i,t);var r=[{pageIndex:t.getIndex(),removedAnnots:n}];return e.eventEmitter.emit(oe.Z.applyRedaction,r),r})}},{key:"getOverlayText",value:function(){return this.info.overlayText}},{key:"setOverlayText",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayText(i.getId(),n.getId(),this.getId(),e).then(function(n){return n?t.update(Qt.overlayTextUpdated).then(function(){return t.info.overlayText=e,n}):n})}},{key:"removeOverlayText",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.removeRedactOverlayText(n.getId(),t.getId(),this.getId()).then(function(t){return t?e.update(Qt.overlayTextUpdated).then(function(){return delete e.info.overlayText,t}):t})}},{key:"getOverlayTextAlignment",value:function(){return this.info.justification}},{key:"setOverlayTextAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayTextAlignment(i.getId(),n.getId(),this.getId(),e).then(function(n){return n?t.update(Qt.overlayTexAlignmentUpdated).then(function(){return t.info.justification=e+"",n}):n})}},{key:"getRepeat",value:function(){return this.info.isRepeat}},{key:"setRepeat",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactRepeat(i.getId(),n.getId(),this.getId(),e).then(function(n){return n?t.update(Qt.repeatUpdated).then(function(){return t.info.isRepeat=e,n}):n})}},{key:"enableAutoFontSize",value:function(){this.setAutoFontSize(!0)}},{key:"isAutoFontSize",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return t.api.isAutoFontSize({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"setAutoFontSize",value:function(e){var t=this;if(!e)return!1;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactAutoFontSize(i.getId(),n.getId(),this.getId(),e).then(function(n){return n?t.update(Qt.autoFontSizeUpdated).then(function(){return t.info.isAutoFontSize=e,n}):n})}},{key:"getAutoFontSize",value:function(){return this.info.isAutoFontSize}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=Object.assign({},this.info.defaultAppearance,e);return e.textColor&&(r.textColor=(0,z.colorConvertor)(e.textColor,"int",1)),e.textSize&&"number"==typeof e.textSize&&e.textSize<0&&(r.textSize=0),void 0===CD[r.fontName]&&(r.fontName="Helvetica"),this.page.doc.api.setRedactDefaultAppearance(i.getId(),n.getId(),this.getId(),r).then(function(e){return e?t.update(Qt.redactDefaultAppearanceUpdated).then(function(){return t.info.fontName=r.fontName,delete r.fontName,t.info.defaultAppearance=r,e}):e})}},{key:"setOpacity",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.info.onlyForFill=t,this.page.doc.api.setRedactOpacity(r.getId(),i.getId(),this.getId(),e,t).then(function(t){return t&&(n.info.opacity=e,n.eventEmitter.emit(oe.Z.annotationUpdated,[n],i,Qt.opacityUpdated)),n.updateInfo(n.info),t})}},{key:"getFillColor",value:function(){return(0,E._)((0,S._)(t.prototype),"getFillColor",this).call(this)}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,z.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRedactAnnotFillColor(i.getId(),n.getId(),this.getId(),e,this.info.onlyForFill).then(function(e){return e?t.update(Qt.fillColorUpdated).then(function(){return t.eventEmitter.emit(oe.Z.annotationAppearanceUpdated,[t],n),e}):e})}},{key:"getApplyFillColor",value:function(){return this.info.applyFillColor}},{key:"setRedactApplyFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=(0,z.colorConvertor)(e,"int",1);var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactApplyFillColor(i.getId(),n.getId(),this.getId(),e).then(function(n){return n?t.update(Qt.applyFillColorUpdated).then(function(){return t.info.applyFillColor=e,n}):n})}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(t.prototype),"exportToJSON",this).call(this);e["interior-color"]=(0,z.convertFromNumberToHex)(16777215&this.getApplyFillColor()),e.interiorColor=e["interior-color"];for(var n=this.info.quadPoints,i="",r=0;r<n.length;r++){var o=n[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}e.coords=i.substr(0,i.length-1),e["overlay-text"]=this.info.overlayText,e.overlayText=this.info.overlayText;var a="";this.info.fontName&&(a+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(a+=this.info.defaultAppearance.textSize+" Tf ");var s=(0,z.convertFromNumberToRGBA)(this.info.defaultAppearance.textColor);return a+=(s.r/255).toFixed(2)+" "+(s.g/255).toFixed(2)+" "+(s.b/255).toFixed(2)+" RG",e.defaultappearance=a,e.fontColor=(0,z.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),e.justification=this.info.justification,e.repeat=this.info.isRepeat?"yes":"no",e}},{key:"getRedactionCode",value:function(){return this.info.overlayCode}},{key:"getRedactAppearance",value:function(){return this.info}},{key:"setRedactAppearance",value:function(e){var t=this,n=e.applyFillColor,i=e.isAutoFontSize,r=e.textColor,o=e.defaultAppearance,a=e.textSize,s=e.fontName,A=e.justification,c=e.isRepeat,u=e.overlayText,l=e.redactionCode;this.checkModidyPerm(),!r&&o&&(r=o.textColor),!a&&o&&(a=o.textSize),void 0!==n&&(n=(0,z.colorConvertor)(n,"int",1)),void 0!==r&&(r=(0,z.colorConvertor)(r,"int",1));var d=this.getPDFPage(),h=d.getPDFDoc(),f={applyFillColor:n,isAutoFontSize:i,textColor:r,textSize:a,fontName:s,overlayText:u,justification:A,isRepeat:c,redactionCode:l};return this.page.doc.api.setRedactAppearance(h.getId(),d.getId(),this.getId(),f).then(function(e){if(e){var o="";return void 0!==n&&(o=Qt.fillColorUpdated),void 0===s&&void 0===r&&void 0===a&&void 0===u||(o=Qt.redactDefaultAppearanceUpdated),void 0!==i&&(o=Qt.autoFontSizeUpdated),void 0!==A&&(o=Qt.overlayTexAlignmentUpdated),void 0!==l&&(t.info.overlayCode=l),void 0!==c&&(o=Qt.repeatUpdated),void 0!==u&&(o=Qt.overlayTextUpdated),o&&t.update(o).then(function(){return e})}return e})}},{key:"setViewRotate",value:function(e){return this.page.doc.api.setViewRotate({path:"jr/doc/page/annot"},this.page.doc.getId(),this.page.getId(),this.getId(),e/90)}}]),t}(Ar);const WD=zD;var YD=function(){function e(t){(0,C._)(this,e)}return(0,D._)(e,[{key:"get",value:function(e,t){switch(e.type){case Zi.highlight:return new WC(e,t);case Zi.squiggly:return new KC(e,t);case Zi.strikeOut:return new GC(e,t);case Zi.underline:return new JC(e,t);case Zi.line:return new XC(e,t);case Zi.polyLine:return new iD(e,t);case Zi.polygon:return new oD(e,t);case Zi.fileAttachment:return new uD(e,t);case Zi.text:return new sD(e,t);case Zi.circle:return new AD(e,t);case Zi.caret:return new dD(e,t);case Zi.freeText:return new pD(e,t);case Zi.ink:return new bD(e,t);case Zi.sound:return new xD(e,t);case Zi.square:return new hD(e,t);case Zi.stamp:return new vD(e,t);case Zi.link:return new yD(e,t);case Zi.widget:return new Pr(e,t);case Zi.screen:return new wD(e,t);case Zi.popup:return new PD(e,t);case Zi.redact:return new WD(e,t);default:return new ln(e,t)}}}]),e}();const GD=YD;var $D={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},JD=function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"put",value:function(e){}},{key:"isBold",value:function(){var e=this.info.textState.font;if(e.isStandard){if($D[e.standardId])return $D[e.standardId].isBold;console.warn("No configuration found for standard font: ",e)}return e.isBold||!(262144&~e.styles)}},{key:"isItalic",value:function(){var e=this.info.textState.font;if(e.isStandard){if($D[e.standardId])return $D[e.standardId].isItalic;console.warn("No configuration found for standard font: ",e)}return e.isItalic||!(64&~e.styles)}},{key:"getText",value:function(){return this.info.textState.text}},{key:"getFontInfo",value:function(){return this.info.textState.font}},{key:"setText",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");if(this.getText()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"setItalic",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");if(this.isItalic()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"setBold",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");if(this.isBold()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"getFontSize",value:function(){return this.info.textState.size}},{key:"setFontSize",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");if(this.getFontSize()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"setStandardFont",value:function(e){var t=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.info.textState.font;if(!n||n.isStandard&&e===n.stardardId)return Promise.resolve();var i=this.getPDFPage();return i.doc.api.setTextObjectStandardFont(i.getPDFDoc().getId(),i.getId(),this.getId(),e).then(function(e){t.afterUpdated(e)})}},{key:"setFontByName",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");if(!this.info.textState.font)return Promise.resolve();var r=this.getPDFPage();return r.doc.api.setTextObjectFontByName(r.getPDFDoc().getId(),r.getId(),this.getId(),e,t,n).then(function(e){i.afterUpdated(e)})}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getTextObjectWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),t}(Gx);const qD=JD;var KD=function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"getFillMode",value:function(){return this.info.fillMode}},{key:"setBorderColor",value:function(e){if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");return this.info.needStroke=0!==e,(0,E._)((0,S._)(t.prototype),"setBorderColor",this).call(this,e)}},{key:"getPathPoints",value:function(){return this.info.path}},{key:"needStroke",value:function(){return this.info.needStroke}}]),t}(Gx),ZD=function(e){function t(e,n,i){return(0,C._)(this,t),(0,P._)(this,t,[e,n,i])}return(0,I._)(t,e),(0,D._)(t,[{key:"setRotation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!t)return Promise.resolve(this.info);if(!this.doc.checkPermission(Xt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then(function(t){return e.afterUpdated(t)})}},{key:"getStream",value:function(){var e=this.getPDFPage();return e.doc.api.getImageObjectStream(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),t}(Gx),XD=function(){function e(t){(0,C._)(this,e),this.engine=t}return(0,D._)(e,[{key:"get",value:function(e,t){if(!e)return null;var n=this.engine;switch(e.type){case 1:return new qD(e,t,n);case 2:return new KD(e,t,n);case 3:return new ZD(e,t,n);case void 0:return null;default:return new Gx(e,t,n)}}}]),e}(),QD=n(7147),eE="foxit-default-annot-prop",tE=function(e){function t(e,n,i,r){var o;return(0,C._)(this,t),(o=(0,P._)(this,t)).ioc=r,o.api=new rP.Z(e),o.storage=i.storage,o.annotManager=new GD,o.actionFactory=LP,o.graphicsObjectManager=new XD(o),o.eventEmitter=n,o.userName=null,o.userConfig={},o.pdfDocCacheMap=new Map,o.clientId=null,o.defaultAnnotConfig=function(){},o.fxjseActionCallback=null,o}return(0,I._)(t,e),(0,D._)(t,[{key:"setFXJSEActionCallback",value:function(e){this.fxjseActionCallback=e}},{key:"defineRemoteAPI",value:function(e,t){throw new Error("Not implemented")}},{key:"obtainRemoteAPI",value:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=this;return this.api.init().then(function(t){return e.clientId=t.clientId,e.initMessageChannels(),t}).catch(function(e){return Promise.reject(e.error)})}},{key:"initMessageChannels",value:function(){var e=this.ioc.getInstanceByClass(QD.J);e.init(this),this.defineRemoteAPI(Ge.FXJSE_ACTION_CALLBACK_API,e),this.uiStateManagerAPI=this.obtainRemoteAPI(Ge.UI_STATE_MANAGER_API)}},{key:"setIcons",value:function(e){return this.api.setIcons(e)}},{key:"addIcon",value:function(e){return this.api.addIcon(e)}},{key:"removeIcon",value:function(e,t,n){return this.api.removeIcon(e,t,n)}},{key:"removePDFDocById",value:function(e){if(this.pdfDocCacheMap.has(e)){var t=this.pdfDocCacheMap.get(e);t&&(this.pdfDocCacheMap.delete(e),t.destroy())}}},{key:"createPDFDocById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pdfDocCacheMap.has(e)?t=this.pdfDocCacheMap.get(e):(t=new UC(e,this,n),this.pdfDocCacheMap.set(e,t)),t}},{key:"removeDoc",value:function(e){this.pdfDocCacheMap.delete(e)}},{key:"getPDFDocByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||e.name||"",this.api.getPDFDocIdByFile(e,{fileName:n.fileName,isDecryptMipFlow:n.isDecryptMipFlow,jwt:n.jwt,ReadBlockOption:n.ReadBlockOption}).then(function(e){return t.createPDFDocById(e,n)})}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(e,t)}},{key:"getCertificateInfo",value:function(e,t){return this.api.getCertificateInfo(e,t)}},{key:"createNewDocEx",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDocEx(t,n,i).then(function(n){var i=e.createPDFDocById(n.id,{fileName:t});return Object.assign(i.info,n),i})}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(t,n,i).then(function(n){return e.getPDFDocByFile(n,{fileName:t})}).then(function(e){return e.parse({password:""})})}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.api.createNewPortfolioDoc(e,t,i).then(function(e){return n.getPDFDocByFile(e,{fileName:i})}).then(function(e){return e.parse({password:""})})}},{key:"getPDFDocByChunk",value:function(e,t,n){var i=this;return this.api.getPDFDocIdByChunk(e,t).then(function(e){return i.createPDFDocById(e,n)})}},{key:"getPDFDocByHttpRangeRequest",value:function(e,t){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(e,{jwt:t.jwt}).then(function(e){return n.createPDFDocById(e,t)})}},{key:"getPDFDocByArrayBuffer",value:function(e,t){var n=this;return this.api.getPDFDocIdByArrayBuffer(e).then(function(e){return n.createPDFDocById(e,t)})}},{key:"getPDFDocByCacheId",value:function(e,t){return this.pdfDocCacheMap.has(e)?Promise.resolve(this.pdfDocCacheMap.get(e)):this.getPDFDocById(e,t)}},{key:"getPDFDocById",value:function(e,t){return Promise.resolve(this.createPDFDocById(e,t))}},{key:"setUserConfig",value:function(e){this.userConfig=e||{}}},{key:"getUserConfig",value:function(){return this.userConfig}},{key:"getUserCommentConfig",value:function(){return this.userConfig.commentPreference||{}}},{key:"setUserName",value:function(e){var t=this;return this.api.setUserName(e).then(function(n){t.userName=e})}},{key:"getUserName",value:function(){var e=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then(function(t){return e.userName=t,t})}},{key:"setDynamicInfoFormula",value:function(e,t){return this.api.setDynamicInfoFormula(e,t)}},{key:"getDynamicInfoFormula",value:function(){return this.api.getDynamicInfoFormula()}},{key:"setDigitalTimeFormat",value:function(e){return this.api.setDigitalTimeFormat(e)}},{key:"setDigitalInfo",value:function(e){return this.api.setDigitalInfo(e)}},{key:"getUtils",value:function(){return a}},{key:"getDefaultAnnotConfig",value:function(){var e=this;return function(t,n){var i=e.defaultAnnotConfig(t,n),r=e.getAnnotDefaultProperty(t,n);return(0,z.extendOptions)({},r,i)}}},{key:"setDefaultAnnotConfig",value:function(e){this.defaultAnnotConfig=e}},{key:"initADPs",value:function(){return this.ADPs||(this.ADPs=this.storage.getItem(eE)||{}),this.ADPs}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.initADPs(),this.ADPs[e+t]||{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.initADPs(),Object.assign(this.ADPs,(0,U._)({},e+t,n)),this.storage.setItem(eE,this.ADPs)}},{key:"setTabOrder",value:function(e,t,n){return this.api.setTabOrder(e,t,n)}},{key:"getTabOrder",value:function(e,t){return this.api.getTabOrder(e,t)}},{key:"setStructureOrder",value:function(e,t,n){return this.api.setStructureOrder(e,t,n)}},{key:"getAllModuleLicenseRight",value:function(){return this.api.getAllModuleLicenseRight().then(function(e){return e})}},{key:"getPDFDocFromImageFile",value:function(e){var t,n,i,r,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.fileName=a.fileName||e.name||"",this.api.getPDFDocFromImageFile(e).then(function(e){var t=e.docId;return n=e.width,i=e.height,r=e.buffer,o.createPDFDocById(t,a).parse({password:""})}).then(function(e){return t=e,e.getPageByIndex(0)}).then(function(e){return e.addImage(r,{left:0,top:i,right:n,bottom:0})}).then(function(e){if(e)return t;throw new Error("faied to insert image")}).catch(function(e){return e&&console.error(e),Promise.reject(e)})}},{key:"ensureSideModeLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"openssl";return this.api.ensureSideModeLoaded(e)}}]),t}(z.Disposable);const nE=tE;var iE=[],rE=function(){function e(){(0,C._)(this,e),this.container=document.createElement("div"),this.container.className="fv__printer-container";var t=document.createElement("style");t.innerHTML="\n            .fv__printer-container {\n                display: none;\n                position: fixed;\n                top: 0;\n                left: 0;\n            }\n            @media print {\n                * {\n                    display: none!important;\n                }\n                html, body {\n                    width: 100% !important;\n                    height: 100% !important;\n                    max-width: none !important;\n                }\n                html {\n                    display: block! important;\n                }\n\n                body {\n                    display: block! important;\n                    overflow: visible !important;\n                    padding: 0;\n                    margin: 0 !important;\n                }\n                .fv__printer-container {\n                    display: block !important;\n                    height: 100%;\n                    width: 100%;\n                    padding: 0;\n                    top: 0;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    position: absolute;\n                }\n\n                .fv__printer-container img {\n                    display: block !important;\n                    max-width: 100%;\n                    max-height: 100%;\n                    height: 100%;\n                    width: 100%;\n                    object-fit: contain;\n                    page-break-after: always;\n                    padding: 0;\n                    margin: 0;\n                }\n            }\n        ",this.styleElement=t,this.imageCache=[]}return(0,D._)(e,[{key:"setTitle",value:function(e){this.title=e}},{key:"appendImage",value:function(e){return this.imageCache.push(this.createImageDOM(this.imageCache.length,e))}},{key:"getImageCache",value:function(){return this.imageCache}},{key:"clearImageCache",value:function(){this.imageCache=[]}},{key:"createImageDOM",value:function(e,t){var n=document.createElement("img");n.setAttribute("data-index",e);var i=new z.Defer;return n.onload=function(){i.resolve(n)},n.onerror=function(e){i.reject(e)},n.src=t,i.promise}},{key:"print",value:function(e,t,n){return(0,x._)(function(){var n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return n=this,z.isIE&&e&&function(){var e="HKEY_CURRENT_USER",t="\\Software\\Microsoft Internet Explorer\\PageSetup ";try{var n,i=new ActiveXObject("WScript.Shell");n="header",i.RegWrite(e+t+n,""),n="footer",i.RegWrite(e+t+n,"")}catch(e){console.error(e)}}(),iE.forEach(function(e){return e()}),this.container.innerHTML="",e&&((r=document.createElement("style")).innerHTML="\n                @media print {\n                    img:after, a:after {\n                        content: none !important;\n                    }\n                        @page {\n                            size: auto;\n                            margin: 0;\n                        }\n                }\n            ",this.container.appendChild(r)),[4,Promise.all(t||this.imageCache)];case 1:return o=u.sent(),a=document.createDocumentFragment(),(i=a).append.apply(i,(0,R._)(o)),this.container.appendChild(this.styleElement),this.container.appendChild(a),document.body.appendChild(this.container),s=document.title,A=new z.Defer,window.addEventListener("beforeprint",function(){n.title&&(document.title=n.title)},{once:!0}),c=function(){document.title=s,n.imageCache.length=0,n.container.innerHTML="",n.container.remove(),A.resolve()},z.isDesktop?window.addEventListener("afterprint",function(){c()},{once:!0}):iE.push(c),window.print(),[4,A.promise];case 2:return u.sent(),[2]}})}).call(this)}}]),e}();var oE=function(e){return e.json="json",e.fdf="fdf",e}({});function aE(e,t){var n,i=(0,R._)(e.data.annots);if(t.action===Bd.REMOVE_ANNOT){for(var r=t.data.slice(0),o=0;o<r.length;){for(var a=r[o],s=a.annotId,A=a.pageIndex,c=!1,u=0;u<i.length;){var l=i[u];l.name===s&&l.page===A?(i.splice(u,1),c=!0):u++}c?r.splice(o,1):o++}var d=[];return i.length>0&&d.push({version:Math.min(e.version,t.version),fileId:e.fileId,action:Bd.UPDATE_ANNOT,data:{annots:i}}),r.length>0&&d.push({version:Math.max(e.version,t.version),fileId:e.fileId,action:t.action,data:r}),d}return(n=i).push.apply(n,(0,R._)(t.data.annots)),[{version:Math.max(e.version,t.version),fileId:e.fileId,action:Bd.UPDATE_ANNOT,format:e.format,data:{annots:i}}]}function sE(e){var t=e;return!(t.action!==Bd.UPDATE_ANNOT&&t.action!==Bd.CREATE_ANNOT||t.format&&t.format!==oE.json)}function AE(e){return e.action===Bd.REMOVE_ANNOT}var cE=n(1550);var uE=n(2251);function lE(e){var t="function"==typeof Map?new Map:void 0;return lE=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return(0,cE._)(e,arguments,(0,S._)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,uE._)(i,e)},lE(e)}var dE=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).name="CollaborationDataError",n}return(0,I._)(t,e),t}(lE(Error)),hE=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,['No handler found for collaboration action: "'.concat(e.action,'", that will be ignored!')])).name="NoHandlerFoundForCollaborationDataError",n}return(0,I._)(t,e),t}(lE(Error)),fE=function(e){function t(){var e;return(0,C._)(this,t),(e=(0,P._)(this,t,["No files area currently open, cannot handling the received collaboration data"])).name="PDFDocumentNotOpeningError",e}return(0,I._)(t,e),t}(lE(Error)),pE=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"handler",void 0),this.handler=t.reduce(function(e,t){return new gE(t,e)})}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,t)}}]),e}(),gE=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"handler",void 0),(0,U._)(this,"prevHandler",void 0),this.handler=t,this.prevHandler=n}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,this.prevHandler||t)}}]),e}(),vE=function(e){return e.FROM_FILE="from-file",e.FROM_URL="from-url",e}({}),mE=z.LoggerFactory.getLogger("Collaboration");function yE(e,t){return e<15}var _E=function(e){function t(e,n){var i;(0,C._)(this,t),i=(0,P._)(this,t),(0,U._)(i,"pdfViewer",void 0),(0,U._)(i,"builtInHandlerInstances",void 0),(0,U._)(i,"userHandlerInstances",void 0),(0,U._)(i,"version",void 0),(0,U._)(i,"queuedExecutor",void 0),(0,U._)(i,"sessionDefer",void 0),(0,U._)(i,"isOpenedFromOtherClient",void 0),(0,U._)(i,"localDataOnDisconnected",void 0),(0,U._)(i,"communicator",void 0),(0,U._)(i,"continueToConnect",void 0),(0,U._)(i,"annotationDataFormat",void 0),i.pdfViewer=e,i.builtInHandlerInstances=[],i.userHandlerInstances=[],i.version=0,i.queuedExecutor=new z.QueuedAsyncTaskExecutor,i.sessionDefer=(0,z.createDeferred)(),i.isOpenedFromOtherClient=!1,i.localDataOnDisconnected=[],i.communicator=n.communicator,i.annotationDataFormat=n.annotationFormat||"json",i.continueToConnect=n.continueToConnect||yE;var r=n.handlerClasses;return Array.isArray(r)&&r.forEach(function(e){i.registerUserHandler(e)}),i}return(0,I._)(t,e),(0,D._)(t,[{key:"registerBuiltInHandler",value:function(e){this.builtInHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerUserHandler",value:function(e){this.userHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerCollabDataHandler",value:function(e,t){if("function"==typeof e){if(!e.prototype.accept||!e.prototype.receive)throw new Error("Illegal collaboration data handler: "+e);this.registerUserHandler(e)}else"string"==typeof e&&"function"==typeof t&&this.registerUserHandler(function(){function n(){(0,C._)(this,n)}return(0,D._)(n,[{key:"accept",value:function(t){return Promise.resolve(t.action===e)}},{key:"receive",value:function(e,n){return t.call(this,e,function(e){return n?n.receive(e):Promise.resolve()})}}]),n}())}},{key:"prepare",value:function(){var e=this;this.communicator.registerMessageReceiver(function(t){e.queuedExecutor.exec(function(){return e.handleServerMessage(t)})});var t=function(t){e.collaborateAddAnnotation(t)},n={},i=function(e){var t,i=e.annot;"link"!==i.info.type&&"screen"!==i.info.type&&(t=i.isGrouped&&i.isGrouped()?i.getGroupElements():[i],n[i.getId()]={action:Bd.REMOVE_ANNOT,data:t.map(function(e){return{annotId:e.getUniqueID(),pageIndex:e.getPDFPage().getIndex()}})})},r=function(t,i){var r=i.getId(),o=n[r];o&&e.send(o),delete n[r]},o=function(t){var n=t.annot;e.collaborateUpadteAnnotation(n)},a=function(t,n){e.shareAndSyncCurrentFile(t,n)},s=function(){e.isOpenedFromOtherClient=!1,e.version=0,e.communicator.disconnect(),e.sessionDefer=(0,z.createDeferred)()},A=function(e){e.normalize()},c=this.pdfViewer.eventEmitter;c.on(ae.addAnnotSuccess,t),c.on(ae.removeActionAnnotationBefore,i),c.on(ae.removeActiveAnnotationSuccess,r),c.on(ae.updateActiveAnnotation,o),c.on(ae.openFileSuccess,a),c.on(ae.willCloseDocument,s),c.on(ae.obtainsPageFromEngine,A),this.addDestroyHook(function(){c.off(ae.addAnnotSuccess,t),c.off(ae.removeActionAnnotationBefore,i),c.off(ae.removeActiveAnnotationSuccess,r),c.off(ae.updateActiveAnnotation,o),c.off(ae.openFileSuccess,a),c.off(ae.willCloseDocument,s),c.off(ae.obtainsPageFromEngine,A)})}},{key:"shareAndSyncCurrentFile",value:function(e,t){var n=this;return this.isOpenedFromOtherClient?this.sessionDefer.promise.then(function(t){return n.sync().then(function(){return n.communicator.connect(t.shareId),e})}):(delete t.options.password,this.communicator.createSession(e,t).then(function(e){return n.sessionDefer.resolve({shareId:e,openFileParams:t}),n.communicator.connect(e)}).then(function(){return n.sync()}))}},{key:"collaborateUpadteAnnotation",value:function(e){var t,n=this;if(t=(t=e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter(function(e){return"screen"!==e.info.type&&"link"!==e.info.type}),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then(function(e){n.send({action:Bd.UPDATE_ANNOT,format:oE.json,data:{annots:e}})});else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?ot.xfdf:ot.fdf,t).then(function(e){return sP(e)}).then(function(e){n.send({action:Bd.UPDATE_ANNOT,format:oE.fdf,data:{fdf:e,annots:t.map(function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}})}})})}}},{key:"collaborateAddAnnotation",value:function(e){var t,n=this;if(t=(t="function"==typeof e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter(function(e){return"screen"!==e.info.type&&"link"!==e.info.type}),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then(function(e){n.send({action:Bd.CREATE_ANNOT,data:{annots:e}})});else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?ot.xfdf:ot.fdf,t).then(function(e){return sP(e)}).then(function(e){n.send({action:Bd.CREATE_ANNOT,format:oE.fdf,data:{fdf:e,annots:t.map(function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}})}})})}}},{key:"getSessionInfo",value:function(){return this.sessionDefer.promise}},{key:"getShareId",value:function(){return this.sessionDefer.promise.then(function(e){return e.shareId})}},{key:"send",value:function(e){var t=this;return this.communicator?this.queuedExecutor.exec(function(){return t.reconnectIfNecessary().then(function(){return t.sessionDefer.promise}).then(function(e){return t.localDataOnDisconnected.length>0?t.sync().then(function(){return e}):e}).then(function(n){var i=t.localDataOnDisconnected.concat(e).map(function(e){var i=t.pdfViewer.getCurrentPDFDoc(),r=(0,k._)((0,w._)({},e),{version:++t.version,fileId:i.info.fileID});return t.communicator.send(n,JSON.stringify(r))});return t.localDataOnDisconnected.length=0,Promise.all(i)},function(n){return t.localDataOnDisconnected.push(e),Promise.reject(n)})}):Pe}},{key:"openFileByShareId",value:function(e){var t=this;return this.communicator.getSessionInfo(e).then(function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:if(!e)throw(t=new Error("Unexpected session info for opening file: "+JSON.stringify(e))).error=$e.collaborationSession,t;switch(this.sessionDefer.resolve(e),n=e.openFileParams,n.type){case vE.FROM_FILE:return[3,1];case vE.FROM_URL:return[3,3]}return[3,4];case 1:return this.isOpenedFromOtherClient=!0,[4,n.file()];case 2:return i=o.sent(),[2,this.pdfViewer.openPDFByFile(i,n.options||{})];case 3:return this.isOpenedFromOtherClient=!0,[2,this.pdfViewer.openPDFByHttpRangeRequest({range:n.range,size:n.size},n.options)];case 4:throw(r=new Error("Unexpected session info for opening file:"+JSON.stringify(n))).error=$e.collaborationSession,r;case 5:return[2]}})}).call(t)})}},{key:"destroy",value:function(){(0,E._)((0,S._)(t.prototype),"destroy",this).call(this),this.communicator.destroy()}},{key:"reconnectIfNecessary",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(n){if(!e.continueToConnect(t,n))throw new Error("Failed to reconnect to the collaboration server");return e.reconnectIfNecessary(t+1)};return this.communicator.isConnected().then(function(t){return!!t||e.sessionDefer.promise.then(function(t){var i=t.shareId;return e.communicator.connect(i).then(function(){return e.communicator.isConnected()}).then(function(e){if(!e)return n(i)},function(e){return z.LoggerFactory.getLogger("COLLABORATION").error("An error occurred while connect to the collaboration server",e),n(i)})})})}},{key:"sync",value:function(){var e=this;return this.sessionDefer.promise.then(function(t){var n=t.shareId;return e.communicator.getLostData(n,e.version)}).then(function(t){if(t&&0!==t.length)return e.version=t[t.length-1].version,function(e){if(e.length<1)return e;for(var t=[e[0]],n=1,i=e.length;n<i;n++){var r,o=t[t.length-1],a=e[n];sE(o)&&(sE(a)||AE(a))?((r=t).splice.apply(r,[t.length-1,1].concat((0,R._)(aE(o,a)))),0===t.length&&(n<i-1&&t.push(e[n+1]),n++)):t.push(a)}return t.forEach(function(e){e.action===Bd.UPDATE_ANNOT&&(e.data.annots=e.data.annots.reduceRight(function(e,t){var n=e.findIndex(function(e){return e.name===t.name});return-1===n&&e.push(t),e},[]))}),t}(t).reduce(function(t,n){return e.findHandler(n).then(function(e){var i=(0,M._)(e,2),r=i[0],o=i[1];return r?t.finally(function(){return r.receive(n,o)}):(mE.warn(new hE(n)),t)})},Pe)})}},{key:"findHandlerAsync",value:function(e,t,n){var i=function(e,t,r){return r>=e.length?Promise.resolve(void 0):e[r].accept(t).then(function(o){if(o&&n(e[r]))return;return i(e,t,r+1)})};return i(e,t,0)}},{key:"findFirstHandlerAsync",value:function(e,t){var n=(0,z.createDeferred)();return this.findHandlerAsync(e,t,function(e){return n.resolve(e),!0}),n.promise}},{key:"findAllMatchHandlersAsync",value:function(e,t){var n=[];return this.findHandlerAsync(e,t,function(e){return n.push(e),!1}).then(function(){return n})}},{key:"findHandler",value:function(e){var t=this;return this.findAllMatchHandlersAsync(this.userHandlerInstances,e).then(function(n){return t.findFirstHandlerAsync(t.builtInHandlerInstances,e).then(function(e){switch(n.length){case 0:return[e,e];case 1:return[n[0],e]}return[new pE(n),e]})})}},{key:"handleServerMessage",value:function(e){var t=this,n=this.pdfViewer.getCurrentPDFDoc();if(!n)throw new fE;var i=n.info.fileID,r=JSON.parse(e);if(!this.isSameFileID(r.fileId,i))throw new dE("File id not match! remote: ".concat(r.fileId,", local: ").concat(i));return this.findHandler(r).then(function(n){var i=(0,M._)(n,2),o=i[0],a=i[1];if(o)return r.version-t.version!==1?t.sync():(t.version=r.version,o.receive(r,a));throw new dE("No handler found for the collaboration data: "+e)})}},{key:"isSameFileID",value:function(e,t){return e.length===t.length&&!e.some(function(e){return-1===t.indexOf(e)})}}]),t}(z.Disposable),bE=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"action",void 0),this.action=t}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(e.action===this.action)}}]),e}(),wE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.CREATE_ANNOT]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===oE.fdf}(e)){var r=AP(e.data.fdf);return i.importAnnotsFromFDF(r).then(function(){e.data.annots.forEach(function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);r&&r.redraw(!1,!0)})})}var o=e.data.annots.filter(function(e){return"link"!==e.type&&"screen"!==e.type});return i.importAnnotsFromJSON(o)}}]),t}(bE);var kE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.REMOVE_ANNOT]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all(e.data.map(function(e){return n.getPageByIndex(e.pageIndex).then(function(t){return"string"==typeof e.annotId?t.removeAnnotById(e.annotId):t.removeAnnotByObjectNumber(e.annotId)})})).then(er)}}]),t}(bE),xE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.UPDATE_ANNOT]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===oE.fdf}(e)){var r=AP(e.data.fdf);return i.importAnnotsFromFDF(r).then(function(){e.data.annots.forEach(function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);if(r){r.redraw(!1,!0);var o=r.component;o&&o.isActive&&o.active()}})})}var o=e.data.annots.filter(function(e){return"link"!==e.type&&"screen"!==e.type});return i.importAnnotsFromJSON(o).then(function(e){o.forEach(function(e){var t=n.pdfViewer.getAnnotRender(e.page,e.name);if(t){t.redraw(!1,!0);var i=t.component;i&&i.isActive&&i.active()}})})}}]),t}(bE);var PE,CE,DE,EE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.PPO_INSERT_PAGE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.width,a=i.height;return n.insertPage(r,o,a)}}]),t}(bE),SE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.PPO_REMOVE_PAGE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePage(e.data.pageIndex)}}]),t}(bE),IE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.PPO_ROTATE_PAGE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=Math.floor((e.data.angle%360+360)%360/90)%4;return n.getPageByIndex(e.data.pageIndex).then(function(e){return e.setRotation(i)})}}]),t}(bE),TE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.PPO_MOVE_PAGE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc(),r=e.data,o=r.sourceIndex,a=r.destIndex;return i.movePageTo(o,a).then(function(){n.pdfViewer.goToPage(a,0,0,!1)})}}]),t}(bE),ME=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.ADD_REPLY]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.reply;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then(function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])}).then(function(e){var t=(0,M._)(e,1)[0];if(t)return t.addReply(o)})}}]),t}(bE),RE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.REMOVE_REPLY]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.replyId;return n.getPageByIndex(r).then(function(e){return"string"==typeof o?e.removeAnnotById(o):e.removeAnnotByObjectNumber(o)})}}]),t}(bE),FE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.ADD_REVIEW_STATE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then(function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])}).then(function(e){var t=(0,M._)(e,1)[0];if(t)return t.addReviewState(o)})}}]),t}(bE),NE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.UPDATE_ANNOT_CONTENT]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.content;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then(function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])}).then(function(e){var t=(0,M._)(e,1)[0];if(t)return t.setContent(o)})}}]),t}(bE),LE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,C._)(this,e),(0,U._)(this,"permissions",void 0),(0,U._)(this,"noPermission",void 0),this.permissions=t,this.noPermission=n}return(0,D._)(e,[{key:"has",value:function(e){return!this.noPermission&&(0===this.permissions.length||(this.permissions.indexOf(Gy.fully)>-1||this.permissions.indexOf(e)>-1))}},{key:"ignorable",value:function(){return!this.noPermission&&0===this.permissions.length}},{key:"isModifiable",value:function(){return this.has(Gy.modifiable)}},{key:"isPlayable",value:function(){return this.has(Gy.playable)}},{key:"isAdjustable",value:function(){return this.has(Gy.adjustable)}},{key:"isEditable",value:function(){return this.has(Gy.editable)}},{key:"isDeletable",value:function(){return this.has(Gy.deletable)}},{key:"isAttachmentDownloadable",value:function(){return this.has(Gy.attachmentDownloadable)}},{key:"isRedactionApplicable",value:function(){return!0}},{key:"isReplyable",value:function(){return this.has(Gy.replyable)}},{key:"equalsTo",value:function(t){if(!t||!(0,T._)(t,e))return!1;var n=this.permissions,i=t.permissions;return n.length===i.length&&(this.noPermission===t.noPermission&&!n.some(function(e){return-1===i.indexOf(e)}))}}],[{key:"fully",value:function(){return PE||(PE=new e([Gy.fully])),PE}},{key:"ignorable",value:function(){return CE||(CE=new e([])),CE}},{key:"none",value:function(){return DE||(DE=new e([],!0)),DE}},{key:"union",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.every(function(e){return e.ignorable()}))return e.ignorable();if(n.some(function(e){return e.noPermission}))return e.none();var r=Array.from(new Set(n.map(function(e){return e.permissions}).flat())).filter(function(e){return n.every(function(t){return t.has(e)})});return new e(r)}}]),e}(),OE=z.LoggerFactory.getLogger("AnnotationAuthorityManager"),jE=function(e){function t(e,n){var i;(0,C._)(this,t),i=(0,P._)(this,t),(0,U._)(i,"pdfViewer",void 0),(0,U._)(i,"getAnnotPermissionCallback",void 0),(0,U._)(i,"store",void 0),(0,U._)(i,"cachedAnnots",void 0),(0,U._)(i,"isUpdateAllAfterImport",void 0),i.pdfViewer=e,i.getAnnotPermissionCallback=n,i.store=new z.Store,i.cachedAnnots={},i.isUpdateAllAfterImport=!1;var r=function(e){Array.isArray(e)&&e.length>0&&e.forEach(function(e){var t=i.generateKey(e);delete i.cachedAnnots[t]})},o=function(e,t){r(t)},a=function(e){e.forEach(function(e){return i.update(e)})},s=function(e){i.update(e)},A=function(e,t){i.isUpdateAllAfterImport?i.updateAll():t.forEach(function(e){e.newAnnots.forEach(function(e){return i.update(e)})})},c=function(e,t,n){t.forEach(function(e){i.update(e)})},u=function(e){e.forEach(function(e){i.update(e)})};return e.eventEmitter.on(ae.annotationRemoved,r),e.eventEmitter.on(ae.flattenAnnotation,o),e.eventEmitter.on(ae.annotationAdd,a),e.eventEmitter.on(ae.annotationImported,A),e.eventEmitter.on(ae.annotationLoaded,c),e.eventEmitter.on(ae.annotationReplyAdd,s),e.eventEmitter.on(ae.annotationUpdated,u),i.addDestroyHook(function(){e.eventEmitter.off(ae.annotationRemoved,r),e.eventEmitter.off(ae.flattenAnnotation,o),e.eventEmitter.off(ae.annotationAdd,a),e.eventEmitter.off(ae.annotationImported,A),e.eventEmitter.off(ae.annotationLoaded,c),e.eventEmitter.off(ae.annotationReplyAdd,s),e.eventEmitter.on(ae.annotationUpdated,u),i.clear(),i.store.destroy()}),i}return(0,I._)(t,e),(0,D._)(t,[{key:"getPermission",value:function(e){if(!e.page||e.isDestroyed)return Promise.resolve(LE.none());var t=this.generateKey(e);return this.store.has(t)||this.update(e),this.store.takeWhile(t)}},{key:"update",value:function(e){var t=this;if(!e||e.isDestroyed)return Promise.resolve(LE.none());var n=this.generateKey(e);if(e.isDeleted()){var i=Promise.resolve(LE.ignorable());return this.store.dispatch(n,i),delete this.cachedAnnots[n],i}var r=this.store.getCurrentValue(n)||Pe,o=(this.getAnnotPermissionCallback(e)||Pe).then(function(n){var i;return i=n?0===n.length?LE.none():new LE(n):LE.ignorable(),r.then(function(n){if(!i.equalsTo(n))try{t.pdfViewer.eventEmitter.emit(ae.annotationPermissionChanged,e,i,n)}catch(e){OE.error("An error occurred inside the listener of ViewerEvents.annotationPermissionChanged",e)}}),i});return this.store.dispatch(n,o),this.cachedAnnots[n]=e,o}},{key:"setAnnotPermissionCallback",value:function(e){this.getAnnotPermissionCallback=e}},{key:"subscribe",value:function(e,t){var n=this.generateKey(e);return this.store.subscribe(n,function(n){n.then(function(n){t(n,e)})})}},{key:"updateAll",value:function(){var e=this;return Promise.all(Object.keys(this.cachedAnnots).filter(function(t){var n=e.cachedAnnots[t].isDeleted();return n&&delete e.cachedAnnots[t],!n}).map(function(t){return e.update(e.cachedAnnots[t])}))}},{key:"generateKey",value:function(e){return"".concat(e.page.getId(),"/").concat(e.getId())}},{key:"clear",value:function(){this.store.clear(),this.cachedAnnots={}}},{key:"setUpdateAllAfterImported",value:function(e){this.isUpdateAllAfterImport=e}}]),t}(z.Disposable),BE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.MOVE_ANNOTS_BETWEEN_PAGES]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all([n.getPageByIndex(e.data.fromPageIndex),n.getPageByIndex(e.data.toPageIndex)]).then(function(t){var i=(0,M._)(t,2),r=i[0],o=i[1],a=e.data.annots,s=Object.keys(a);return r.getAnnotsByIdArray(s).then(function(e){var t=e.reduce(function(e,t){return e[t.getObjectNumber()]=a[t.getUniqueID()],e},{});return n.moveAnnotsToPage(r,o,t)})})}}]),t}(bE),VE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.ADD_MARKED_STATE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then(function(e){return e.getAnnotsByObjectNumArray([r])}).then(function(e){var t=(0,M._)(e,1)[0];if(t)return t.addMarkedState(o)})}}]),t}(bE),HE=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.IMPORT_ANNOTATIONS_FILE]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){for(var n=e.data.file,i=atob(n),r=new Uint8Array(new ArrayBuffer(i.length)),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return this.pdfViewer.getCurrentPDFDoc().importAnnotsFromFDF(r)}}]),t}(bE),UE=n(9960);function zE(e){return/^[\d\(\)\.\-\s]*\d+[\d\(\)\.\-\s]*$/.test(e)}function WE(e){var t=e.getFlags();return e.getType()===pn.Text&&!gn.isPassword(t)&&!gn.isHidden(t)&&!gn.isReadOnly(t)}function YE(e){return{text:e}}var GE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,C._)(this,e);var n=this.dbName="autocomplete",i=this.primaryName="text";this.db=new UE.IndexDBStore(n,Se+n,1,i),this.pdfViewer=t}return(0,D._)(e,[{key:"getFormEntries",value:function(){var e=this;return this.pdfViewer?this.pdfViewer.getCurrentPDFDoc().loadPDFForm().then(function(t){var n=[],i=t.fields,r=e.pdfViewer.getAutoCompleteSetting().rememberNumericalData,o=!0,a=!1,s=void 0;try{for(var A,c=i[Symbol.iterator]();!(o=(A=c.next()).done);o=!0){var u=A.value;if(WE(u)){var l=u.getValue();if(!r&&zE(l))continue;n.push(YE(u.getValue()))}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return n}):Promise.resolve([])}},{key:"getDbEntries",value:function(){return this.db.getAll()}},{key:"getAllEntries",value:function(){var e=this;return Promise.all([this.getFormEntries(),this.getDbEntries()]).then(function(t){var n=(0,M._)(t,2),i=n[0],r=n[1];i=i||[],r=r||[];var o={},a=!0,s=!1,A=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;o[l[e.primaryName]]=l}}catch(e){s=!0,A=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw A}}var d=!0,h=!1,f=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value;o[v[e.primaryName]]=v}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}return Object.values(o)})}},{key:"saveDbEntry",value:function(e){!this.pdfViewer.getAutoCompleteSetting().rememberNumericalData&&zE(e)||this.db.add(YE(e))}},{key:"clearDbEntries",value:function(){return this.db.clear()}},{key:"deleteEntry",value:function(e){return this.db.remove(e)}}]),e}(),$E=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"set",value:function(e){(0,E._)((0,S._)(t.prototype),"dispatch",this).call(this,"change",e)}},{key:"get",value:function(){return(0,E._)((0,S._)(t.prototype),"getCurrentValue",this).call(this,"change")}},{key:"onchange",value:function(e){return(0,E._)((0,S._)(t.prototype),"subscribe",this).call(this,"change",function(t){e(t)})}}]),t}(z.Store),JE=function(e){return e.playing="playing",e.paused="paused",e.stopped="stopped",e}({}),qE=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"status",JE.stopped),(0,U._)(e,"currentPlayingOptions",void 0),(0,U._)(e,"statusStore",new $E),e}return(0,I._)(t,e),(0,D._)(t,[{key:"pause",value:function(){this.status===JE.playing&&(this.status=JE.paused,this.statusStore.set(this.status),this.doPause())}},{key:"resume",value:function(){this.status===JE.paused&&(this.status=JE.playing,this.statusStore.set(this.status),this.doResume())}},{key:"stop",value:function(){this.status!==JE.stopped&&(this.status=JE.stopped,this.statusStore.set(this.status),this.currentPlayingOptions=void 0,this.doStop())}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rate:1,pitch:1,volume:1};this.currentPlayingOptions=n,this.status=JE.playing,this.statusStore.set(this.status);var i,r,o=[],a=new z.QueuedAsyncTaskExecutor,s=new z.QueuedAsyncTaskExecutor,A=!1,c=!1,u=this.statusStore.onchange(function(e){(c=e===JE.stopped)&&(clearTimeout(r),a.cancel(),s.cancel(),u&&u())}),l=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;a.exec(function(){if(!c)return e.then(function(e){var t;if(!c){var n=e.text.split(" ");if(0===n.length){if(!i)return;n[0]=i,i=void 0}else i&&("-"===i[i.length-1]?n[0]=i.substr(0,i.length-1)+n[0]:n.unshift(i),i=void 0);i=n[n.length-1],n.splice(-1,1),(t=o).push.apply(t,(0,R._)(n))}})})},g=e[Symbol.iterator]();!(l=(f=g.next()).done);l=!0)p()}catch(e){d=!0,h=e}finally{try{l||null==g.return||g.return()}finally{if(d)throw h}}return a.waitForCurrentRunningTasks().then(function(){A=!0,i&&(o.push(i),i=void 0)}),new Promise(function(e,n){var i=function(){if(c)s.waitForCurrentRunningTasks().then(e,n);else{if(o.length>0){var a=function(e){var t=[];return e.split(/[\n\t\.。;，]+|\s{2}/).forEach(function(e){var n;-1===e.indexOf(",")?t.push(e):(n=t).push.apply(n,(0,R._)(e.replace(/\d+(,\d{3})+|,/g,function(e){return","===e?",,":e}).split(",,")))}),t}(o.join(" "));a.forEach(function(n){n&&s.exec(function(){return t.speakText(n,t.currentPlayingOptions)}).finally(function(){c&&e()})})}o.length=0,A?s.waitForCurrentRunningTasks().then(e,n):r=setTimeout(i)}};r=setTimeout(i)})}},{key:"updateOptions",value:function(e){this.currentPlayingOptions&&(Object.assign(this.currentPlayingOptions,e),this.onCurrentPlayingOptionsUpdated())}}],[{key:"extend",value:function(e){var n=function(t){function n(){return(0,C._)(this,n),(0,P._)(this,n,arguments)}return(0,I._)(n,t),(0,D._)(n,[{key:"init",value:function(){return this.safeCall("init")}},{key:"supported",value:function(){var t=e.supported;if("function"==typeof t)return t.apply(this);throw new Error("Method not implementated: supported")}},{key:"beforePlay",value:function(){this.safeCall("beforePlay")}},{key:"getVoices",value:function(){return this.safeCall("getVoices")}},{key:"doPause",value:function(){return this.safeCall("doPause")}},{key:"doResume",value:function(){return this.safeCall("doResume")}},{key:"doStop",value:function(){return this.safeCall("doStop")}},{key:"speakText",value:function(e,t){return this.safeCall("speakText",e,t)}},{key:"onCurrentPlayingOptionsUpdated",value:function(){return this.safeCall("onCurrentPlayingOptionsUpdated")}},{key:"safeCall",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=e[t];if("function"==typeof o)return o.apply(this,i)}}]),n}(t);for(var i in e)i in n.prototype||(n.prototype[i]=e[i]);return n}}]),t}(function(){function e(){(0,C._)(this,e),this.init()}return(0,D._)(e,[{key:"init",value:function(){}}]),e}());var KE=window.speechSynthesis,ZE=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"prepared",!1),(0,U._)(e,"loadedVoicesPromise",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(){return this.prepared?Promise.resolve():(this.prepared=!0,this.supported()?this.loadVoices().then(function(){var e=new SpeechSynthesisUtterance(" ");KE.speak(e),KE.cancel()}):Promise.resolve())}},{key:"getVoices",value:function(){return this.loadVoices().then(function(e){return e.map(function(e){return{name:e.name,lang:e.lang}})})}},{key:"beforePlay",value:function(){var e=new SpeechSynthesisUtterance(" ");KE.speak(e)}},{key:"play",value:function(e,n){var i=this;return this.prepare().finally(function(){return(0,E._)((0,S._)(t.prototype),"play",i).call(i,e,n)})}},{key:"supported",value:function(){return"object"===(0,F._)(window.speechSynthesis)&&"function"==typeof window.SpeechSynthesisUtterance}},{key:"doPause",value:function(){KE.pause()}},{key:"doResume",value:function(){KE.resume()}},{key:"doStop",value:function(){KE.cancel()}},{key:"speakText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPlayingOptions,i=new SpeechSynthesisUtterance(e);return new Promise(function(e,r){var o=function(){i.removeEventListener("end",a),i.removeEventListener("error",r)},a=function(){e(),o()};i.addEventListener("end",a),i.addEventListener("error",function(e){r(e),o()});var s=Promise.resolve();if(n){i.rate=n.rate,i.pitch=n.pitch,i.lang=n.lang||i.lang;var A=n.voice;switch(void 0===A?"undefined":(0,F._)(A)){case"string":s=s.then(function(){return t.getVoiceByName(A)}).then(function(e){e&&(i.voice=e)});break;case"object":i.voice=A}i.volume=n.volume}s.then(function(){switch(KE.speak(i),t.status){case JE.stopped:e(),KE.cancel();break;case JE.paused:KE.pause()}})})}},{key:"onCurrentPlayingOptionsUpdated",value:function(){}},{key:"getVoiceByName",value:function(e){return this.loadVoices().then(function(t){return t.find(function(t){return t.name===e||t.voiceURI===e})})}},{key:"loadVoices",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.loadedVoicesPromise?[4,this.loadedVoicesPromise]:[3,2];case 1:if((e=t.sent()).length>0)return[2,e];t.label=2;case 2:return[2,this.loadedVoicesPromise=new Promise(function(e){var t=0;!function n(){if(!KE)return e([]);var i=KE.getVoices();i&&i.length>0?e(i):t<20?(t++,setTimeout(n,100)):e([])}()})]}})}).call(this)}}]),t}(qE),XE=function(){},QE="viewer--read-page-start",eS="viewer--read-page-end",tS=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"pdfViewer",void 0),(0,U._)(n,"speechSynthesis",void 0),(0,U._)(n,"defaultOptions",void 0),(0,U._)(n,"stopHook",void 0),(0,U._)(n,"statusStore",void 0),(0,U._)(n,"eventEmitter",void 0),n.pdfViewer=e,n.speechSynthesis=new ZE,n.defaultOptions={rate:1,pitch:1,volume:1,external:{}},n.stopHook=XE,n.statusStore=new $E,n.eventEmitter=new yo,n}return(0,I._)(t,e),(0,D._)(t,[{key:"setSpeechSynthesis",value:function(e){this.speechSynthesis.stop(),this.speechSynthesis=e,this.statusStore.set(JE.stopped)}},{key:"supported",value:function(){return this.speechSynthesis.supported()}},{key:"getVoices",value:function(){return this.speechSynthesis.getVoices?this.speechSynthesis.getVoices():Promise.resolve([])}},{key:"beforeRead",value:function(){if(this.speechSynthesis.beforePlay)return this.speechSynthesis.beforePlay()}},{key:"afterRead",value:function(){}},{key:"readPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.readPages([e],t)}},{key:"readPages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.pdfViewer.getCurrentPDFDoc().getPageCount()-1;e.forEach(function(e){if(e<0||e>i)throw new Error("Invalid page index: ".concat(e,",page index should range between 0 and ").concat(i))});var r=new z.QueuedAsyncTaskExecutor;return this.stopHook=function(){t.stopHook=XE,r.cancel()},this.speechSynthesis.status=JE.playing,this.statusStore.set(this.status),e.forEach(function(e){r.exec(function(){return t.eventEmitter.emit(QE,e),t.doReadPage(e,n).finally(function(){t.eventEmitter.emit(eS,e)})})}),r.waitForCurrentRunningTasks().finally(function(){t.isStopped()||t.stop()})}},{key:"readText",value:function(e,t){var n=this,i=Object.assign({},this.defaultOptions,t,{external:Object.assign({},this.defaultOptions.external,(null==t?void 0:t.external)||{})}),r=function(){return n.isStopped()};return this.speechSynthesis.status=JE.playing,this.statusStore.set(this.status),this.speechSynthesis.play(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return r()?[2]:[4,Promise.resolve({text:e.text,pageIndex:e.pageIndex,rect:e.rect})];case 1:return t.sent(),[2]}})}(),i).finally(function(){if(!r())return n.stop()})}},{key:"pause",value:function(){this.speechSynthesis.pause(),this.statusStore.set(this.status)}},{key:"resume",value:function(){this.speechSynthesis.resume(),this.statusStore.set(this.status)}},{key:"stop",value:function(){this.speechSynthesis.stop(),this.statusStore.set(this.status),this.stopHook()}},{key:"status",get:function(){return this.speechSynthesis.status}},{key:"setDefaultOptions",value:function(e){Object.assign(this.defaultOptions,e)}},{key:"setVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.volume;this.defaultOptions.volume=e,this.isStopped()||this.speechSynthesis.updateOptions({volume:e})}},{key:"setRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.rate;this.defaultOptions.rate=e,this.isStopped()||this.speechSynthesis.updateOptions({rate:e})}},{key:"setVoice",value:function(e){this.defaultOptions.voice=e,this.isStopped()||this.speechSynthesis.updateOptions({voice:e})}},{key:"updatePlayingOptions",value:function(e){return!this.isStopped()&&(this.speechSynthesis.updateOptions(e),!0)}},{key:"isStopped",value:function(){return this.status===JE.stopped}},{key:"isPlaying",value:function(){return this.status===JE.playing}},{key:"onStatusChange",value:function(e){return this.statusStore.onchange(e.bind(this))}},{key:"onReadPageStart",value:function(e){var t=this;return this.eventEmitter.addListener(QE,e),function(){t.eventEmitter.removeListener(QE,e)}}},{key:"onReadPageEnd",value:function(e){var t=this;return this.eventEmitter.on(eS,e),function(){t.eventEmitter.removeListener(eS,e)}}},{key:"doReadPage",value:function(e,t){var n=this,i=function(){return n.isStopped()};if(i())return Pe;var r=this.pdfViewer.getCurrentPDFDoc(),o=r.getPageCount();return e>=o?Pe:r.getPageByIndex(e).then(function(r){if(r&&!i())return r.getTextRectCount().then(function(o){var a=Object.assign({},n.defaultOptions,t,{external:Object.assign({},n.defaultOptions.external,t.external||{})});try{return n.speechSynthesis.play(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return o<=0?[4,Promise.resolve().then(function(){return{text:"blank",pageIndex:e,rect:{}}})]:[3,2];case 1:return n.sent(),[3,6];case 2:t=0,n.label=3;case 3:return t<o?i()?[2]:[4,r.getTextByRectIndex(t).then(function(t){return{text:t.text,pageIndex:e,rect:t.rect}})]:[3,6];case 4:n.sent(),n.label=5;case 5:return t++,[3,3];case 6:return[2]}})}(),a)}finally{n.statusStore.set(n.status)}})})}}]),t}(z.Disposable),nS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"service",void 0),(0,U._)(this,"executor",new z.QueuedAsyncTaskExecutor),(0,U._)(this,"viewer",void 0)}return(0,D._)(e,[{key:"allInjected",value:function(){this.service=new tS(this.viewer)}},{key:"supported",value:function(){return this.service.supported()}},{key:"setSpeechSynthesis",value:function(e){this.service.setSpeechSynthesis(e)}},{key:"readPages",value:function(e,t){var n=this;return this.stop(),this.executor.exec(function(){return n.service.readPages(e,t)})}},{key:"readText",value:function(e,t){var n=this;return this.stop(),this.executor.exec(function(){return n.service.readText(e,t)})}},{key:"stop",value:function(){this.executor.cancel(),this.service.stop()}},{key:"pause",value:function(){this.service.pause()}},{key:"resume",value:function(){this.service.resume()}},{key:"setVolume",value:function(e){this.service.setVolume(e)}},{key:"setRate",value:function(e){this.service.setRate(e)}},{key:"setVoice",value:function(e){this.service.setVoice(e)}},{key:"getVoices",value:function(){return this.service.getVoices()}},{key:"beforeRead",value:function(){return this.service.beforeRead()}},{key:"afterRead",value:function(){return this.service.afterRead()}},{key:"status",get:function(){return this.service.status}},{key:"onStatusChange",value:function(e){return this.service.onStatusChange(e)}},{key:"updatePlayingOptions",value:function(e){return this.service.updatePlayingOptions(e)}},{key:"onReadPageStart",value:function(e){return this.service.onReadPageStart(e)}},{key:"onReadPageEnd",value:function(e){return this.service.onReadPageEnd(e)}}],[{key:"inject",value:function(){return{viewer:pT}}}]),e}(),iS=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=e.keyboard;t.setup(Ud);var n=function(){},i=function(e){n(),n=t.activeContext(e.getStateName())};e.eventEmitter.on(ae.switchStateHandler,i),this.addDestroyHook(function(){e.eventEmitter.off(ae.switchStateHandler,i)}),t.activeContext(yn)}}]),t}(z.Disposable),rS=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"undoActivation",function(){}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=this,n=e.getKeyboard();n.withContext(Hd.SELECTION,function(n){t.addDestroyHook(n.keydown(Vd.SELECT_ALL,function(){t.selectAllAnnotOrWidget(e)},{interceptors:[(0,z.excludeEditableElementInterceptor)(),(0,z.preventDefaultInterceptor)()]}))}),n.withContext(Hd.ACTIVATION_ANY,function(n){t.addDestroyHook(n.keyup(Vd.UNSELECT_OBJECT,function(){e.activateElement(),t.undoActivation()}),n.keydown(Vd.SELECT_ALL,function(){t.selectAllAnnotOrWidget(e)},{interceptors:[(0,z.excludeEditableElementInterceptor)(),(0,z.preventDefaultInterceptor)()]}),n.keydown(Vd.COPY_ACTIVATE_ELEMENT,function(t){e.isShortcutKeyEnabled()&&(e.currentPDFDoc.checkPermission(Xt.extract)&&e.copy());t.preventDefault()},{interceptors:[(0,z.excludeEditableElementInterceptor)()]}),n.keydown(Vd.CUT_ACTIVATE_ELEMENT,function(t){e.isShortcutKeyEnabled()&&e.cut(),t.preventDefault()},{interceptors:[(0,z.excludeEditableElementInterceptor)()]}))});var i=function(){t.handleOnActivationChanged(e,n)},r=e.eventEmitter;r.on(ae.activeElementChanged,i),this.addDestroyHook(function(){r.off(ae.activeElementChanged,i)})}},{key:"selectAllAnnotOrWidget",value:function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A=arguments;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return t=A.length>1&&void 0!==A[1]?A[1]:[],i=new q,null===(n=window.getSelection())||void 0===n||n.removeAllRanges(),t.length?(t.forEach(function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n&&(t.isGrouped&&t.isGrouped()?"widget"===t.getType()&&n.isDesignMode&&i.add(n):i.add(n))}),[2]):t&&0!==t.length?[3,2]:[4,this.getAnnotsOfCurrentPage(e)];case 1:t=c.sent(),c.label=2;case 2:if(!t||0===t.length)return[2];if(r=e.getStateHandlerManager().getCurrentStates().getStateName(),o=Object.keys(mi).indexOf(r)>=0||r===Zn||r===ei,t.forEach(function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;if(n)if("widget"===t.getType())n.isDesignMode&&i.add(n);else if(o){t.isGrouped&&t.isGrouped()?n.getGroupRenders().forEach(function(e){i.add(e.component)}):i.add(n)}}),e.bindMultiSelectActiveEvents(i),a=e.activationManager,o?a.activeOnly(i):i.hasActivations()&&a.active(i),e.getPDFDocRender().setCurrentAnnotHandler(),(s=e.getAllActivatedElements().map(function(e){return e.annotsRender.getAnnotRender(e.getId())})).length){if(1===s.length)return[2,e.eventEmitter.emit(ae.activeAnnotation,s[0])];e.eventEmitter.emit(ae.activeMultipleAnnotations,s)}return e.eventEmitter.emit(ae.activeElementChanged),[2]}})}).apply(this,arguments)}},{key:"handleOnActivationChanged",value:function(e,t){var n=e.getAllActivatedElements();if(0===n.length)this.undoActivation();else{var i=0,r=0,o=0;n.forEach(function(e){e.annot?e.annot.getType()===Zi.widget?i++:r++:e.graphicsObject&&o++});var a,s=[i,r,o].filter(function(e){return 0!==e}).length;1===s?i>0?a=Hd.ACTIVATION_WIDGET:r>0?a=Hd.ACTIVATION_ANNOTATION:o>0&&(a=Hd.ACTIVATION_GRAPH_OBJ):s>1&&(a=Hd.ACTIVATION_ANY),a&&(this.undoActivation(),this.undoActivation=t.activeContext(a))}}},{key:"getAnnotsOfCurrentPage",value:function(e){var t,n=e.currentPDFDoc;if(!n)return Promise.resolve([]);var i=e.getPDFDocRender().getCurrentPageIndex(),r=null===(t=e.getPDFPageRender(i))||void 0===t?void 0:t.annotsRender;return n.getPageByIndex(i).then(function(e){return e.getAnnots().then(function(e){return e.filter(function(e){return"popup"!==e.getType()&&"watermark"!==e.getType()&&"R"!==e.info.RT&&!e.info.IRT&&(!r.annotFiltered||r.showAnnots.has(e.id))})})})}}]),t}(z.Disposable),oS=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){e.getKeyboard().withContext(Hd.BASIC_STATE_HANDLER,function(t){t.keydown(Vd.SWITCH_TO_HAND_STATE,function(){e.getStateHandlerManager().switchTo(yn)})})}}]),t}(z.Disposable);function aS(){if(document.baseURI)return document.baseURI;var e=document.head.querySelector("base");if(!e)return location.href;var t=e.href,n=location.pathname;return t?/^\w+?:\/+/.test(t)?t:location.origin+Dg(n,t):location.href}var sS=function(e){function t(e){var n;(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"level",-1),(0,U._)(n,"componentClasses",[]);return e.eventEmitter.on(ae.openFileSuccess,function(e){n.componentClasses.forEach(function(t){n.getComponentInstance(t,e)})}),e.eventEmitter.on(ae.willCloseDocument,function(){n.destroyComponents()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"onInject",value:function(e){}},{key:"generateInstanceName",value:function(){return(0,z.getUniqueId)("pdf-doc-lifecycle")}},{key:"define",value:function(e){this.componentClasses.indexOf(e)>-1||this.componentClasses.push(e)}}]),t}(z.BasicIoCStrategy),AS=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=e.getIoC(),n=t.getStrategy(z.IoCScope.SINGLETON),i={PDFViewer:e,Keyboard:e.keyboard,EventEmitter:e.eventEmitter,Store:e.store,AnnotManager:e.annotManager,StateHandlerManager:e.stateHandlerManager,ViewerUI:e.viewerUI,LifeCycleManager:e.lifeCycleManager,ActivationManager:e.activationManager};for(var r in i)n.registerComponentInstance(i[r]),n.registerComponentInstanceByName(i[r],r);t.setStrategy("PDF_DOC_LIFE_CYCLE_SCOPE_STRATEGY",new sS(e))}}]),t}(z.Disposable);var cS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;(0,C._)(this,e),(0,U._)(this,"prefix",void 0),(0,U._)(this,"storage",void 0),this.prefix=t,this.storage=n}return(0,D._)(e,[{key:"setItem",value:function(e,t){this.storage.setItem(this.getKey(e),JSON.stringify(t))}},{key:"getItem",value:function(e){var t=this.storage.getItem(this.getKey(e));return t&&JSON.parse(t)}},{key:"getKey",value:function(e){return this.prefix+e}}]),e}(),uS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"viewer",void 0)}return(0,D._)(e,[{key:"loadPDFDocByHttpRangeRequest",value:function(e,t){var n=this,i=e.range.url;if(!t.fileName&&i.endsWith(".pdf")){var r=i.lastIndexOf("/"),o=i.substring(r+1);o=decodeURIComponent(o),t.fileName=o}if(!Eg(i)){var a=aS();e.range.url=kg(a).join(i).absolute()}return this.viewer.getWebPDFJR().then(function(i){return i.getPDFDocByHttpRangeRequest(e,t).then(function(e){return n._parseDoc(e,t)})})}},{key:"loadPDFDocByFile",value:function(e,t){var n=this;return this.viewer.getWebPDFJR().then(function(i){return i.getPDFDocByFile(e,t).then(function(e){return n._parseDoc(e,t)})})}},{key:"_parseDoc",value:function(e,t){return Promise.resolve(function(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}(t)).then(function(n){t.idJWT=n||t.jwt;var i=t.errorHandler||function(e,t,n){throw n},r=function(t){return e.parse(t).catch(function(n){return i(e,t,n,r)})};return r(t)})}}],[{key:"inject",value:function(){return{viewer:pT}}}]),e}();var lS=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t,[Bd.PPO_REMOVE_PAGES]),(0,U._)(n,"pdfViewer",void 0),n.pdfViewer=e,n}return(0,I._)(t,e),(0,D._)(t,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePages(e.data.pageRange)}}]),t}(bE),dS=(n(9672),function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).cursorStyle="fv__cursor-crosshair",n}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;if(this.pageRender=e,z.isIOS)0===e.index&&(setTimeout(function(){t.pdfViewer.getStateHandlerManager().switchTo("hand")},100),this.pdfViewer.viewerUI.alert("Unsupported now. Comming soon."));else{var n=e.$handler;n.addClass(this.cursorStyle);var i=this.$imageInput=O()('<input id="imageInput" type="file" style="visibility: hidden;" accept=".gif,.jpeg,.jpg,.png,.svg"/>');n.append(i);var r,o=n[0],a=this.hammer=new(qr().Manager)(o,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL}]]});a.on("panstart",function(e){var t=hf(o,e);r=[t.x,t.y]}),a.on("panmove",function(e){var t=o.getBoundingClientRect(),i=e.srcEvent,a=hS(r,t,i),s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";"),A=n.find(".fv__mark-image-blank");if(0===A.length){var c=O()(document.createDocumentFragment());c.append('<div class="fv__mark-image-blank" style="'+s+'"></div>'),n.append(c)}else A.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})}),a.on("panend",function(t){var i=o.getBoundingClientRect(),a=t.srcEvent,s=hS(r,i,a);n.find(".fv__mark-image-blank").remove(),n.find("#imageInput").off("click"),n.find("#imageInput").off("change").on("change",function(t){var n=t.target.files[0];return e.getPDFPage().then(function(i){var r=e.getRotation(),o=new FileReader,a=i.reverseDeviceRect(s,e.getScale(),r);o.readAsArrayBuffer(n),o.onload=function(){var n=new Uint8Array(o.result),s=((i.getRotationAngle()+r)%360+360)%360;0!=s&&(s=(360-s)%360),i.addAnnot({flags:4,type:"screen",rect:a,rotation:s,buffer:n}).then(function(n){t.target.value="";var i=n[0];n[0].info.annotScreenDetailType="screen_img";var r=e.annotsRender.getAnnotRender(i.getId()).component;e.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,r.annot),e.annotsRender.activeAnnot(i.getId())}).catch(function(e){})}}).catch(function(e){})}).click()})}}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.$imageInput&&this.$imageInput.remove()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return En}}]),t}(tf));function hS(e,t,n){var i,r=lf(n),o=df(n),a=[r-t.left,o-t.top],s=e[0],A=e[1],c=a[0],u=a[1];return c<s&&(i=s,s=c,c=i),u<A&&(i=A,A=u,u=i),{left:s,top:A,right:c,bottom:u}}var fS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).file=null,n}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this,n=this;this.pageRender=e;var i=this.$handler=e.$handler,r=i[0],o=this.hammer=new(qr().Manager)(r,{recognizers:[[qr().Tap],[qr().Pan,{direction:qr().DIRECTION_ALL}]]}),a=O()('<img style="position: absolute;top:-'+i.height()+"px;left:-"+i.width()+'px;border:2px solid transparent"></img>');i.append(a);var s=0,A=0;this.pdfViewer.eventEmitter.on(ae.addEditImage,this.loadFile=function(e){var n=new FileReader;t.file=e,n.readAsDataURL(e),n.onload=function(e){a.prop({src:e.target.result});var t=new Image;t.onload=function(){a.css({top:-t.height,left:-t.width}),s=t.width,A=t.height},t.src=e.target.result}}),i.on("mousemove mousewheel",function(e){var t=r.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;a.css({top:i,left:n})}),i.on("mouseleave",function(e){a.css({top:-A,left:-s})}),e.getPDFPage().then(function(t){e.getScale();var i=e.getRotation();o.on("tap",function(r){var o={},s=a.width(),A=a.height();o.top=parseFloat(a.css("top")),o.left=parseFloat(a.css("left")),o.right=o.left+s*e.getScale(),o.bottom=o.top+A*e.getScale(),a.remove();var c=new FileReader;c.readAsArrayBuffer(n.file),c.onload=function(r){var a=new Uint8Array(r.target.result),s=t.reverseDeviceRect(o,e.getScale(),e.getRotation());t.addImage(a,s,i).then(function(){n.pdfViewer.getStateHandlerManager().switchTo(Zf.getStateName())})}})})}},{key:"destroyPageHandler",value:function(){this.$handler.off("mousemove mousewheel mouseleave"),this.$handler.empty(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.off(ae.addEditImage,this.loadFile)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Sn}}]),t}(tf);n(6110);var pS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).cursorStyle="fv__cursor-crosshair",n}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var i,r=n[0],o=this.hammer=new(qr().Manager)(r,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL}]]});o.on("panstart",function(e){var t=hf(r,e);i=[t.x,t.y]}),o.on("panmove",function(e){var t=r.getBoundingClientRect(),o=e.srcEvent,a=gS(i,t,o),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px"].join(";"),A=n.find(".fv__mark-link-blank");if(0===A.length){var c=O()(document.createDocumentFragment());c.append('<div class="fv__mark-link-blank" style="'+s+'"></div>'),n.append(c)}else A.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})}),o.on("panend",function(o){var a=r.getBoundingClientRect(),s=o.srcEvent,A=gS(i,a,s);return e.getPDFPage().then(function(i){var r=i.reverseDeviceRect(A,e.getScale(),e.getRotation()),o=t.pdfViewer.getDefaultAnnotConfig()("link");i.addAnnot({type:"link",rect:r,color:o.color?o.color:"0000FF"}).then(function(i){n.find(".fv__mark-link-blank").remove();var r=t.pageRender.getAnnotRender(i[0].getId()).component;r.showCreateDialog();t.pdfViewer;z.isMobile&&t.pdfViewer.getStateHandlerManager().switchTo(Zf.getStateName()),e.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,r.annot)})})})}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return In}}]),t}(tf);function gS(e,t,n){var i,r=lf(n),o=df(n),a=[r-t.left,o-t.top],s=e[0],A=e[1],c=a[0],u=a[1];return c<s&&(i=s,s=c,c=i),u<A&&(i=A,A=u,u=i),{left:s,top:A,right:c,bottom:u}}n(1051);var vS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).throttleTaskExecutor=new z.ThrottleAsyncTaskExecutor(100,!0),n}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.doc,i=this.pdfViewer=e.pdfViewer,r=i.viewerUI.rootComponent.pdfUI,o=e.$handler.addClass("fv__select-text-image-state-handler"),a=o[0];this.eventEmitter=i.eventEmitter;var s=this.tooltip=i.viewerUI.createTextSelectionTooltip(e),A=this.hammer=new(qr().Manager)(a,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL,threshold:0}]]});A.add(new(qr().Tap)({event:"doubletap",taps:2})),A.add(new(qr().Tap)({event:"singletap"})),A.get("doubletap").recognizeWith("singletap"),A.get("singletap").requireFailure("doubletap"),A.on("singletap",function(e){t.textSelectionHandler.lookUpQuick||zf(i),s&&s.hide()}),A.on("doubletap",function(e){return t.eventEmitter.emit(ae.doubleTapPage,e)});var c=O()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>'),u=o.find(".fv__mark-selection-blank");u&&u.length>0?c.insertBefore(u[0]):o.append(c),c.data("hand-state",this),this.$contextmenuContainer=c,o.on("mousemove",this.mousemove.bind(this)),this.textSelectionHandler=new Wf(A,e,s,Xn),r.openDialog("fv--selected-image-contextmenu").then(function(r){var a="click.image.".concat(e.index);O()(r.element).find("[component-type=contextmenu-item]").off(a).on(a,function(r){var o=n.selectedInfo;if(o&&o.pageRender===e&&!O()(r.currentTarget).hasClass("disabled"))switch(O()(r.currentTarget).attr("component-name")){case"fv--contextmenu-item-copy":t.doImageCopy();break;case"fv--contextmenu-item-saveImageAs":t.doExportImageObjAs();break;case"fv--contextmenu-item-bookmark":t.textSelectionHandler.createBookmark(e);break;case"fv--contextmenu-item-editImage":zf(i),s&&s.hide(),i.stateHandlerManager.switchTo("page-editor"),t.pdfViewer.getEventEmitter().once("pageeditor-started",function(n){setTimeout(function(){e.docRender.stateHandler.triggerClick(t.lastEvent,1)},300)})}}),o.on("contextmenu",".fv__mark-selection-blank[type=".concat(Tt.Image,"]"),function(e){e.preventDefault();var n=r.getComponentByName("fv--contextmenu-item-bookmark");t.hasModifyPermissions(t.pageRender)?n.unlock():n.lock(),r.showAt(e.pageX,e.pageY)}),o.on("mouseup",t.mouseup=function(e){3===e.which&&t.eventEmitter.emit(ae.rightClickPage,e)})}),r.openDialog("fv--selected-rectangle-contextmenu").then(function(i){var r="click.rectangle.".concat(e.index);O()(i.element).find("[component-type=contextmenu-item]").off(r).on(r,function(i){var r=n.selectedInfo;if(r&&r.pageRender===e&&!O()(i.currentTarget).hasClass("disabled")&&"fv--contextmenu-item-exportSelectionAs"===O()(i.currentTarget).attr("component-name"))t.doExportSelectionRectangle()}),o.on("contextmenu",".fv__mark-selection-blank[type=rectangle]",function(e){e.preventDefault();var n=t.checkPerm("checkExtractAccess"),r=i.getComponentByName("fv--contextmenu-item-exportSelectionAs");n?r.enable():r.disable(),i.showAt(e.pageX,e.pageY)})}),r.eventEmitter.on("text-tooltip-click",function(e){"highlight"===e.type&&t.pdfViewer.getPDFDocRender().pagesRender.pageRenders.forEach(function(e){e.$handler.find(".fv__mark-selection-blank").remove()})})}},{key:"offHammer",value:function(){this.hammer&&this.hammer.off("panstart"),this.hammer&&this.hammer.off("panmove"),this.hammer&&this.hammer.off("panend")}},{key:"destroy",value:function(){this.throttleTaskExecutor.cancel()}},{key:"destroyPageHandler",value:function(){this.tooltip&&this.tooltip.hide(),this.hammer&&this.hammer.destroy(),this.pageRender&&this.pageRender.$handler.removeClass("fv__select-text-image-state-handler"),this.pageRender.$handler.off("mouseup",this.mouseup),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.tooltip&&this.tooltip.destroy(),this.eventEmitter.off("text-tooltip-click"),this.textSelectionHandler.destroy(),this.pageRender.$handler.off("mousemove")}},{key:"docHandler",value:function(e){var n=this;(0,E._)((0,S._)(t.prototype),"docHandler",this).call(this,e);var i=this.pdfViewer,r=e.doc;i.getKeyboard().withContext(Xn,function(e){n.__off__copy__event__&&n.__off__copy__event__(),n.__off__copy__event__=e.keydown(Vd.COPY_TEXT_IMAGE,function(){if(r.selectedInfo){var e=r.selectedInfo.type;e===Tt.Text?n.doTextCopy():e===Tt.Image&&n.doImageCopy()}}),n.offSelectAllEvent&&n.offSelectAllEvent(),n.offSelectAllEvent=e.keydown(Vd.SELECT_ALL,function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());n.textSelectionHandler.doTextSelectAll(e,r.selectedInfo)},{interceptors:[(0,z.preventDefaultInterceptor)()]}),n.offAddBookmarkEvent&&n.offAddBookmarkEvent(),n.offAddBookmarkEvent=e.keydown(Vd.ADD_BOOKMARK,function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());n.hasModifyPermissions(e)&&r.checkPermission(xh.checkAssemble)&&n.textSelectionHandler.createBookmark(e)},{interceptors:[(0,z.preventDefaultInterceptor)()]})});var o=null;e.$container.on("mouseleave",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",function(e){clearTimeout(o),o=setTimeout(function(){var e=i.getPDFDocRender();if(e){var t=e.getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t&&t.stateHandler&&t.stateHandler.tooltip&&t.stateHandler.tooltip.hide()}},1e3)}).on("mouseenter",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",function(e){clearTimeout(o)})}},{key:"destroyDocHandler",value:function(){var e=this;(0,E._)((0,S._)(t.prototype),"destroyDocHandler",this).call(this),this.__off__copy__event__&&this.__off__copy__event__(),this.__off__copy__event__=er,["offCopyEvent","offSelectAllEvent","offAddBookmarkEvent","undoSwitchKbBinder"].forEach(function(t){e[t]&&e[t](),e[t]=er})}},{key:"out",value:function(){this.destroyPageHandler()}},{key:"doImageCopy",value:function(){var e=this.pdfViewer.currentPDFDoc;e.selectedInfo&&e.selectedInfo.graphicsObject&&e.selectedInfo.graphicsObject.getStream().then(function(e){var t=new Blob([e],{type:"image/png"}),n=[new ClipboardItem((0,U._)({},t.type,t))];navigator.clipboard.write(n)})}},{key:"doExportImageObjAs",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0))){var t=this.pageRender.doc;t.selectedInfo&&e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-png","",t.selectedInfo)}}},{key:"doExportSelectionRectangle",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var t=this.pageRender,n=t.$handler.get(0).getBoundingClientRect(),i=t.$handler.find(".fv__mark-selection-blank.rectangle").get(0).getBoundingClientRect();t.reverseDeviceRect({left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,bottom:i.bottom-n.top}).then(function(n){var i;i=[n],e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify([{pageIndex:t.index,rectArray:i}]))})}}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"doTextCopy",value:function(){var e=this,t=this.pdfViewer.currentPDFDoc,n=t.selectedInfo.getText?t.selectedInfo.getText():void 0;void 0!==n&&(0,z.copyText)(n).then(function(t){e.pdfViewer.eventEmitter.emit(t?ae.copyTextSuccess:ae.copyTextFailed,n)})}},{key:"mousemove",value:function(e){var t=this;this.textSelectionHandler&&this.textSelectionHandler.isTextSelectionToolEnabledInHandState()&&(this.textSelectionHandler.isTextSelecting()||(this.mousemoveEvent=e,this.throttleTaskExecutor.exec(function(){return t.mousemoveHandler(e)})))}},{key:"mousemoveHandler",value:function(e){var t=this,n=this.pageRender,i={x:e.originalEvent.layerX,y:e.originalEvent.layerY};return n.getTextContinueRectAtDevicePoints([i.x,i.y],[i.x+5,i.y+5],-1,-1).then(function(i){if(null==i?void 0:i[0]){var r={x:e.originalEvent.layerX,y:e.originalEvent.layerY};if(r.x!=t.mousemoveEvent.originalEvent.layerX&&r.y!=t.mousemoveEvent.originalEvent.layerY)return;n.$handler.removeClass("fv__cursor-grab").addClass("fv__cursor-text"),t.pdfViewer.eventEmitter.emit("can-scroll",!1)}else n.$handler.removeClass("fv__cursor-text")})}}],[{key:"getStateName",value:function(){return Xn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),t}(tf),mS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).cursorStyle="fv__cursor-crosshair",n}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);n.classList.add(this.cursorStyle);var i=new Hammer.Manager(n);this.hammer=i,i.add(new Hammer.Pan),e.getPDFPage().then(function(r){t.page=r,i.on("panstart",function(i){var o=hf(n,i),a={x:o.x+i.deltaX,y:o.y+i.deltaY},s=t._resolvePointsToRect(r,o,a);t.pdfViewer.eventEmitter.emit(ae.createSnapshotArea,e,s),t.startPoint={x:s.left,y:s.top}}),i.on("panmove",function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(ae.updateSnapshotArea,e,o)}),i.on("panend",function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(ae.stabilizedSnapshotArea,e,o)})})}},{key:"_resolvePointsToRect",value:function(e,t,n){var i=this.pageRender.getShowWidth(),r=this.pageRender.getShowHeight();return{left:Math.max(0,Math.min(t.x,n.x)),right:Math.min(i,Math.max(t.x,n.x)),top:Math.max(0,Math.min(t.y,n.y)),bottom:Math.min(r,Math.max(t.y,n.y))}}},{key:"destroyPageHandler",value:function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)}}],[{key:"getStateName",value:function(){return"snapshot-tool"}}]),t}(tf);var yS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).destroyHooks=[],n.destroyDocHooks=[],n.cursorStyle="fv__cursor-loupe",n.offsetX=0,n.offsetY=0,n.updatePosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var i=this,r=arguments;n||(n=setTimeout(function(){e.apply(i,r),n=null},t))}}(n.updatePosition.bind(n)),n}return(0,I._)(t,e),(0,D._)(t,[{key:"docHandler",value:function(){var e,t,n=this,i=null;z.isChrome&&(e="wheel",t=function(e){var t=e.screenX,r=e.screenY,o=document.elementFromPoint(t,r);if(o&&o.className.indexOf(n.cursorStyle)&&i!==o){var a=new MouseEvent("mouseover");o.dispatchEvent(a),i=o}},document.addEventListener(e,t),n.destroyHooks.push(function(){document.removeEventListener(e,t)}))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.removeClass("fv__cursor-grab").addClass(this.cursorStyle);var i=this.areaRenderer=e.getPageAreaRenderer(255,400,1,!1),r=(document.getElementsByClassName("fv__pdf-viewer-layout"),function(e,i){n.addEventListener(e,i),t.destroyHooks.push(function(){n.removeEventListener(e,i)})});r("click",function(e){t.pdfViewer.eventEmitter.emit(ae.startUpdatePageAreaRenderer,i),t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()}),r("mouseover",function(e){t.pdfViewer.eventEmitter.emit(ae.createPageAreaRenderer,i),setTimeout(function(){t.pdfViewer.eventEmitter.emit(ae.switchPageAreaRenderer,i)})}),r("mousemove",function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()}),r("wheel",function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()})}},{key:"updatePosition",value:function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()}},{key:"destroyDocHandler",value:function(){this.destroyDocHooks.forEach(function(e){return e()}),this.pdfViewer.eventEmitter.emit(ae.destroyPageAreaRenderer),this.destroyPageHandler()}},{key:"destroyPageHandler",value:function(){this.pageRender&&this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach(function(e){return e()}),this.updatePosition=null}}],[{key:"getStateName",value:function(){return Kn}}]),t}(tf),_S=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e,this.pdfViewer=e.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(e),i=e;e.$ui.addClass("fv__annot-container-zindex-up");var r=i.$handler;r.addClass("fv__select-text-annotation-state-handler");var o,a=r[0],s=e.pdfViewer.eventEmitter;o=function(i){i==e&&t.pdfSelectRectArray&&t.selectMarkIsVisible&&e.getPDFPage().then(function(i){var r=e.transformRectArray(i,t.pdfSelectRectArray);t.showSelectMark(r);var o=r[0];o&&n.showAt((o.left+o.right)/2,o.top,t.selectText,r)})},s.on(ae.renderPageSuccess,o),t.removeRenderPageSuccessEvent=function(){s.off(ae.renderPageSuccess,o)};var A,c=this.hammer=new(qr().Manager)(a,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL}]]});c.add(new(qr().Tap)({event:"doubletap",taps:2})),c.add(new(qr().Tap)({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),s.emit(ae.tapPage,i)):s.emit(ae.tapPage,i)}),c.on("doubletap",function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),s.emit(ae.doubleTapPage,i)):s.emit(ae.doubleTapPage,i)}),n.on("hide",function(){t.hideSelectMark()});var u,l,d=-1,h=-1;c.on("panstart",function(n){if(!1!==t.panStart(n,t)){d=-1,h=-1,u=void 0;var i=e.annotsRender;i&&i.unActiveAnnot();var r=hf(a,n);A=[r.x,r.y],t.hideSelectMark(),l=new Ae}}),c.on("panmove",function(e){!1!==t.panMove(e,t)&&l.push(function(){var n=t.pageRender,i=[A[0]+e.deltaX,A[1]+e.deltaY];return t.getTextRect(A,i,d,h).then(function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(d=t.start,h=t.end),Promise.all([n.getPDFPage(),e])}).then(function(e){var t=(0,M._)(e,2),i=t[0],r=t[1];return n.transformRectArray(i,r)}).then(function(e){t.showSelectMark(e)})})}),c.on("panend",function(i){if(!1!==t.panEnd(i,t)){l.end(),l=null;var r=rf(A,i.deltaX,i.deltaY),o=[A[0]+i.deltaX,A[1]+i.deltaY];return t.getTextRect(A,o,d,h).then(function(t){var n;return(n=t[0])&&"string"==typeof n.text&&(d=n.start,h=n.end,u=n.text),Promise.all([e.getPDFPage(),t])}).then(function(o){var a=(0,M._)(o,2),s=a[0],A=a[1];t.pdfSelectRectArray=A;var c=e.transformRectArray(s,A);t.showSelectMark(c),("string"==typeof u?Promise.resolve(u):t.getTextChar(r)).then(function(e){t.pdfViewer.getStore().dispatch(be.SELECTION_INFO,{page:s,text:e,rectArray:A}),t.selectText=e,t.pdfViewer.eventEmitter.emit(ae.selectText,{page:s,text:e,rectArray:A,e:i})});var l=c[0];l&&n.showAt((l.left+l.right)/2,l.top,t.selectText,c)})}});var f=O()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');r.append(f),f.data("hand-state",this),this.$contextmenuContainer=f}},{key:"getTextRect",value:function(e,t,n,i){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,i)}},{key:"getTextChar",value:function(e){return this.pageRender.getTextContinuousCharAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){this.selectMarkIsVisible=!0;var t=this.pageRender.$handler;t.find(".fv__mark-selection-blank").remove();for(var n=O()(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","height:"+(o.bottom-o.top)+"px","width:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(be.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()}},{key:"copyText",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Zn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),t}(tf),bS=function(e){function t(e){return(0,C._)(this,t),(0,P._)(this,t,[e])}return(0,I._)(t,e),(0,D._)(t,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n,i=e.$handler[0],r=this.hammer=new(qr().Manager)(i,{recognizers:[[qr().Pan,{direction:qr().DIRECTION_ALL}]]});r.on("panstart",function(e){if(!1!==t.panStart(e,t)){var r=e.srcEvent,o=lf(r),a=df(r);n=nf(i,o,a),t.hideToolTip(),t.hideSelectMark()}}),r.on("panmove",function(e){!1!==t.panMove(e,t)&&t.getTextRect(rf(n,e.deltaX,e.deltaY)).then(function(e){t.showSelectMark(e)})}),r.on("panend",function(e){!1!==t.panEnd(e,t)&&t.getTextRect(rf(n,e.deltaX,e.deltaY)).then(function(e){t.showToolTip(e)})})}},{key:"getTextRect",value:function(e){return this.pageRender.getTextContinueRectAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){var t=this.pageRender.$handler;t.find(".mark-select-text-blank").remove();for(var n=$(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.bottom-o.top)+"px","height:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="mark-highlight-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.pageRender.$handler.find(".mark-highlight-blank").remove()}},{key:"showToolTip",value:function(){}},{key:"hideToolTip",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-text-state-handler"),this.hideToolTip();try{this.hideSelectMark()}catch(e){}}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Qn}}]),t}(tf);const wS=bS;var kS=function(e){function t(e){var n;return(0,C._)(this,t),(n=(0,P._)(this,t,[e,"square"])).pdfViewer=e,n.cursorStyle="fv__cursor-marquee",n.destroyHooks=[],n}return(0,I._)(t,e),(0,D._)(t,[{key:"start",value:function(e,t){var n=t.left,i=t.top;this.shapeControl||(this.shapeControl=new Tv({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,{left:n,top:i,width:0,height:0},{left:n,top:i,right:n,bottom:i}))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var i,r=this.hammer=new(qr().Manager)(n);e.$handler;r.add(new(qr().Pan)({direction:qr().DIRECTION_ALL}));var o=!1;r.on("panstart",function(r){return(0,x._)(function(){var t,a,s,A,c,u;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return t=this.pdfViewer.getPDFViewerRender(),o=!0,[4,t.getScaleRatio()];case 1:return a=l.sent(),o=!1,r.srcEvent.ctrlKey||r.srcEvent.metaKey?(s=this.pdfViewer.config.minScale,a<=s&&(o=!0)):(A=this.pdfViewer.config.maxScale,a>=A&&(o=!0)),o?[2]:(t&&t.disableDragToScroll(),this.startPoint=hf(n,r),c=this.startPoint.x,u=this.startPoint.y,this.start(e,{left:c,top:u}),i=new Ae,[2])}})}).call(t)}),r.on("panmove",function(n){if(!o){var r=e.$handler[0].getClientRects()[0],a=r.width,s=r.height;t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:a}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:s})},i.push(function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})}}),r.on("panend",function(n){if(!o){var r=t.pdfViewer.getPDFViewerRender();r&&r.enableDragToScroll();var a=e.$handler[0].getClientRects()[0],s=a.width,A=a.height;if(!t.isStart&&t.shapeControl){var c=(0,M._)(n.pointers,1)[0];t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:s}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:A})},t.isStart=!0,setTimeout(function(){t.isStart=!1},500),i.push(function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)}),c.ctrlKey||c.metaKey?t.pdfViewer.eventEmitter.emit(ae.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(ae.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}}}),r.on("pancancel",function(e){var n=t.pdfViewer.getPDFViewerRender();n&&n.enableDragToScroll(),i.end(),t.shapeControl.destroy(),t.shapeControl=null});var a=function(e,i){n.addEventListener(e,i),t.destroyHooks.push(function(){n.removeEventListener(e,i)})};a("click",function(n){if(!t.isStart&&!o){t.isStart=!0,setTimeout(function(){t.isStart=!1},500);var i=n.layerX,r=n.layerY;t.start(e,{left:i,top:r}),t.shapeControl.shape.shape.clientX=n.clientX,t.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey?t.pdfViewer.eventEmitter.emit(ae.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(ae.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}}),a("contextmenu",function(e){e.stopPropagation(),e.preventDefault()})}},{key:"adjust",value:function(e,t,n){var i=t.x,r=t.y,o=n.x,a=n.y;if(e){var s,A,c=Math.abs(i-o),u=Math.abs(r-a),l={left:s=Math.min(i,o),top:A=Math.min(r,a),width:c=Math.max(c,1),height:u=Math.max(u,1)},d={left:s,top:A,right:s+c,bottom:A+u};e._applyAnnotBoundary(l),e.shape.boundary=d,e.shape.shape=l,e._updatePreviewer()}}},{key:"calibrationNumber",value:function(e){var t=e.num,n=e.min,i=void 0===n?0:n,r=e.max;return t<0?i:t>r?r:t}},{key:"docHandler",value:function(e){document.addEventListener("keydown",this.keydownEventListener=function(t){(t.ctrlKey||t.metaKey)&&e.pagesRender.pageRenders.forEach(function(e){e.$handler.get(0).style.cssText+="cursor: -webkit-zoom-out;cursor: zoom-out"})},{capture:!0}),document.addEventListener("keyup",this.keyupEventListener=function(t){switch(t.keyCode){case z.KeyCodes.Ctrl:case z.KeyCodes.Meta:e.pagesRender.pageRenders.forEach(function(e){e.$handler.get(0).style.cursor=null})}},{capture:!0})}},{key:"destroyDocHandler",value:function(){document.removeEventListener("keydown",this.keydownEventListener,{capture:!0}),document.removeEventListener("keyup",this.keyupEventListener,{capture:!0})}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach(function(e){return e()})}}],[{key:"getStateName",value:function(){return Jn}}]),t}(tf),xS=n(973),PS=n.n(xS),CS=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=this,n=e.getStore(),i=e.ioc.getInstanceByClass(rr).onMeasurementInfoChange(function(e){var r=t.getMeasurementInfo(e),o=r.displayUnit,a={distance:0,deltaX:0,deltaY:0,scale:r.scale,angle:0,displayUnit:o,perimeter:0,area:0,userSpaceUnit:r.userSpaceUnit};n.dispatch("measurementData",a),i()})}},{key:"getMeasurementInfo",value:function(e){var t=e[Ji],n=e[$i],i=e[qi],r=e.realUnit;return{userSpaceScale:t,userSpaceUnit:n,scale:"".concat(t," ").concat(n.name," = ").concat(i," ").concat(r.name),displayUnit:r,realScale:i,realUnit:r}}}]),t}(z.Disposable);function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return e/t.length}).reduce(function(e,t){return e+t})}var ES=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"isWhite",value:function(){return!this.a||255===this.r&&255===this.g&&255===this.b}},{key:"averageLightnessColor",value:function(){return DS(this.r,this.g,this.b)}},{key:"lightnessAverageWith",value:function(e){return DS(this.averageLightnessColor(),e.averageLightnessColor())}},{key:"mix",value:function(e,n,i){return new t(this.r*n+e.r*(1-n),this.g*n+e.g*(1-n),this.b*n+e.g*(1-n),i)}},{key:"cloneRGB",value:function(e){return new t(this.r,this.g,this.b,e)}},{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.a)}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"grey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a,n=this.averageRGB()/2,i=Math.ceil(127.5)+n;return new t(i,i,i,e)}},{key:"averageRGB",value:function(){return DS(this.r,this.g,this.b)}}],[{key:"fromHSLA",value:function(e,n,i,r){var o=(0,M._)(z.Color.convertHSL2rgb(e,n,i),3);return new t(o[0],o[1],o[2],r)}},{key:"fromRGB",value:function(e){return t.fromRGBA(e,255)}},{key:"fromARGB",value:function(e){if(e<=16777215)return t.fromRGBA(e,255);var n=255&e>>24,i=16777215&e;return t.fromRGBA(i,n)}},{key:"fromRGBA",value:function(e,n){return new t(e>>16&255,e>>8&255,255&e,n)}},{key:"fromColor",value:function(e){return(0,T._)(e,t)?e:new t(e.r,e.g,e.b,e.a)}}]),t}(z.Color);(0,U._)(ES,"TRANSPARENT",ES.fromARGB(0)),(0,U._)(ES,"WHITE",ES.fromARGB(4294967295));var SS=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return-1}},{key:"toPixelIndex",value:function(){return-1}},{key:"toCoords",value:function(){return{x:-1,y:-1,width:-1}}},{key:"isValid",value:function(){return!1}}]),e}(),IS=function(){function e(t,n,i){(0,C._)(this,e),(0,U._)(this,"x",void 0),(0,U._)(this,"y",void 0),(0,U._)(this,"width",void 0),this.x=t,this.y=n,this.width=i}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return new TS(this.toPixelIndex(),this.width).toChannelIndex()}},{key:"toPixelIndex",value:function(){return this.y*this.width+this.x}},{key:"toCoords",value:function(){return{x:this.x,y:this.y,width:this.width}}},{key:"isValid",value:function(){return!0}}]),e}(),TS=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"pixelIndex",void 0),(0,U._)(this,"width",void 0),this.pixelIndex=t,this.width=n}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return 4*this.pixelIndex}},{key:"toPixelIndex",value:function(){return this.pixelIndex}},{key:"toCoords",value:function(){var e=this.pixelIndex,t=this.width;return{x:e%t,y:Math.floor(e/t),width:t}}},{key:"isValid",value:function(){return!0}}]),e}(),MS=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"channelIndex",void 0),(0,U._)(this,"width",void 0),this.channelIndex=t,this.width=n}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return this.channelIndex}},{key:"toPixelIndex",value:function(){return Math.floor(this.channelIndex/4)}},{key:"toCoords",value:function(){var e=this.toPixelIndex();return new TS(e,this.width).toCoords()}},{key:"isValid",value:function(){return!0}}]),e}(),RS=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"data",void 0),t.buffer?this.data={data:new(Uint8ClampedArray||Uint8Array)(t.buffer),width:t.width,height:t.height}:this.data=t}return(0,D._)(e,[{key:"coords",value:function(e,t){return e>=this.data.width||t>=this.data.height?new SS:new IS(e,t,this.data.width)}},{key:"pixelIndex",value:function(e){return 4*e>=this.data.data.length?new SS:new TS(e,this.data.width)}},{key:"forEach",value:function(e){var t=this;this.forEachLocation(function(n){var i=t.getPixelColorAt(n);e(n,i)})}},{key:"forEachLocation",value:function(e){for(var t=this.data.data,n=this.data.width,i=0;i<t.length;i+=4)e(new MS(i,n))}},{key:"getCoordsByPixelIndex",value:function(e){var t=this.data.width;return{x:e%t,y:Math.floor(e/t)}}},{key:"getPixelColorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ES.WHITE;if(!e.isValid())return t;var n=this.data.data,i=e.toChannelIndex();return new ES(n[i],n[i+1],n[i+2],n[i+3])}},{key:"updatePixelColor",value:function(e,t){if(e.isValid()){var n=e.toCoords(),i=n.x,r=n.y;this.data.data.set(t.asArray(),this.coords(i,r).toChannelIndex())}}}]),e}();function FS(e,t,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=t,i.style.width="".concat(e/n,"px"),i.style.height="".concat(t/n,"px"),i.style.backgroundColor="white",r.fillStyle="white",i}var NS=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"x",void 0),(0,U._)(this,"y",void 0),this.x=t,this.y=n}return(0,D._)(e,[{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"negate",value:function(){return new e(-this.x,-this.y)}},{key:"substract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"normalize",value:function(){var t=this.length();return 0===t?new e(0,0):new e(this.x/t,this.y/t)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"perp",value:function(){return new e(this.y,-this.x)}},{key:"segment",value:function(t){return{from:this,to:t,dir:new e(t.x-this.x,t.y-this.y)}}},{key:"rotate",value:function(t){var n=Math.sin(t),i=Math.cos(t);return new e(this.x*i+this.y*n,-this.x*n+this.y*i)}}]),e}(),LS=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"resolveDiffColor",value:function(e,t,n,i){var r=i.sourceOpacity,o=i.targetOpacity;if(i.showDiffColor){var a=t.lightnessAverageWith(n),s=a*((Math.abs(t.r-n.r)+Math.abs(t.g-n.g)+Math.abs(t.b-n.b))/255/3),A=a+s,c=Math.max(r,o);return new z.Color(A,a-s,A,c)}if(o>r){var u=r;return t.mix(n,u,o)}return n.cloneRGB(r)}},{key:"combinePixels",value:function(e,t,n){var i=this,r=t.width,o=t.height,a=n.showDiffColor,s=n.targetOpacity,A=n.sourceOpacity,c=n.canvasMultiplier,u=ES.fromRGB(n.targetDiffColor),l=ES.fromRGB(n.sourceDiffColor),d=new RS(e),h=new RS(t),f=FS(Math.max(t.width,e.width),Math.max(t.height,e.height),c),p=f.getContext("2d"),g=p.createImageData(f.width,f.height),v=new RS(g),m=ES.fromARGB(n.backgroundColor),y=function(e,t,c){var d=e.x,h=e.y;if(c.isSameAs(m)&&t.isSameAs(m))return c.cloneRGB(0);if(a&&t.isSameAs(c))return c.grey(c.a);if(d<=r&&h<=o){if(t.isSameAs(m)){var f=s;return a?i.handleDiffColor(u,c,f):c.cloneRGB(f)}if(c.isSameAs(m)){var p=A;return a?i.handleDiffColor(l,t,p):t.cloneRGB(p)}return ES.fromColor(i.resolveDiffColor(e,t,c,n))}return c},_=y;if("function"==typeof n.blendColorResolver){var b=n.blendColorResolver,w=function(e){return y(e.pos,ES.fromColor(e.sourceColor),ES.fromColor(e.targetColor))};_=function(e,t,i){var r=b({pos:e,sourceColor:t,targetColor:i,combinePixelsOptions:n,callBuiltin:w});return"number"==typeof r?ES.fromARGB(r):ES.fromColor(r)}}return v.forEachLocation(function(e){var t=e.toCoords(),n=h.getPixelColorAt(h.coords(t.x,t.y),m),i=d.getPixelColorAt(d.coords(t.x,t.y),m),r=_(t,n,i);v.updatePixelColor(e,r)}),p.putImageData(g,0,0),f}},{key:"handleDiffColor",value:function(e,t,n){var i=t.averageRGB(),r=Math.min(e.r,e.g,e.b);return new ES(e.r==r?i:e.r,e.g==r?i:e.g,e.b==r?i:e.b,n)}},{key:"transformBitmap",value:function(e,t,n,i){var r=this;if(!n)return{bitmap:e,expandX:0,expandY:0};var o=n.rotate,a=void 0===o?0:o,s=n.translateX,A=void 0===s?0:s,c=n.translateY,u=void 0===c?0:c,l=n.contentX,d=void 0===l?0:l,h=n.contentY,f=void 0===h?0:h;if(i=i||{width:0,height:0},0===a){var p=Math.max(i.width,e.width+Math.abs(A)),g=Math.max(i.height,e.height+Math.abs(u)),v=FS(p,g,1).getContext("2d",{willReadFrequently:!0});v.fillStyle=ES.fromRGB(t).toCSS_Hex(),v.fillRect(0,0,p,g);var m=this.createImageDataByPageBitmap(v,e),y=Math.max(0,A),_=Math.max(0,u);return v.putImageData(m,y,_),{bitmap:v.getImageData(0,0,p,g),expandX:A<0?-A:0,expandY:u<0?-u:0}}var b=function(){var t=FS(e.width,e.height,1),n=t.getContext("2d"),i=r.createImageDataByPageBitmap(n,e);return n.putImageData(i,0,0),t}(),w=this.getTransformedBox(e.width,e.height,{rotate:a,translateX:A,translateY:u,contentX:d,contentY:f}),k=w.width,x=w.height,P=w.expandX,C=w.expandY,D=w.renderX,E=w.renderY,S=Math.max(k,i.width),I=Math.max(x,i.height),T=FS(S,I,1).getContext("2d",{desynchronized:!1,willReadFrequently:!0});return T.fillStyle=ES.fromRGB(t).toCSS_Hex(),T.fillRect(0,0,S,I),T.translate(D,E),T.rotate(a),T.translate(-d,-f),T.drawImage(b,0,0),{bitmap:T.getImageData(0,0,S,I),expandX:P,expandY:C}}},{key:"createImageDataByPageBitmap",value:function(e,t){if((0,T._)(t,ImageData))return t;var n=e.createImageData(t.width,t.height);return t.buffer?n.data.set(new(Uint8ClampedArray||Uint8Array)(t.buffer),0):n.data.set(t.data),n}},{key:"getTransformedBox",value:function(e,t,n){var i,r,o,a,s=n.rotate,A=n.translateY,c=n.translateX,u=n.contentX,l=n.contentY,d=new NS(u=u||0,l=l||0),h=d.mult(-1),f=new NS(e,0).substract(d),p=new NS(e,t).substract(d),g=[h,f,new NS(0,t).substract(d),p].map(function(e){return e.rotate(-s)}),v=g.map(function(e){return e.x}),m=g.map(function(e){return e.y}),y=(i=Math).min.apply(i,(0,R._)(v)),_=(r=Math).max.apply(r,(0,R._)(v)),b=(o=Math).min.apply(o,(0,R._)(m)),w=(a=Math).max.apply(a,(0,R._)(m))-b,k=_-y+Math.abs(c),x=w+Math.abs(A),P=Math.abs(y)+(c<0?0:c),C=Math.abs(b)+(A<0?0:A),D=(y<0?-y:0)+(c<0?-c:0),E=(b<0?-b:0)+(A<0?-A:0);return A>0&&A<E?(E-=A,x-=A,C-=A):A>0&&A>E&&(x-=E,C-=E,E=0),c>0&&c<D?(D-=c,k-=c,P-=c):c>0&&c>D&&(k-=D,P-=D,D=0),{width:k,height:x,renderX:P,renderY:C,expandX:D,expandY:E}}}]),e}(),OS=function(e){return e[e.RED=16711680]="RED",e[e.GREEN=65280]="GREEN",e[e.BLUE=255]="BLUE",e[e.MAGENTA=16711935]="MAGENTA",e[e.YELLOW=16776960]="YELLOW",e[e.CYAN=65535]="CYAN",e}({}),jS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"showDiffColor",void 0),(0,U._)(this,"targetOpacity",void 0),(0,U._)(this,"sourceOpacity",void 0),(0,U._)(this,"targetDiffColor",void 0),(0,U._)(this,"sourceDiffColor",void 0),(0,U._)(this,"backgroundColor",void 0),(0,U._)(this,"blendColorResolver",void 0),(0,U._)(this,"store",new z.Store),this.resetToDefault()}return(0,D._)(e,[{key:"setShowDiffColor",value:function(e){this.showDiffColor=e,this.store.dispatch("showDiffColor",e)}},{key:"setTargetOpacity",value:function(e){this._set("targetOpacity",e)}},{key:"setSourceOpacity",value:function(e){this._set("sourceOpacity",e)}},{key:"setTargetDiffColor",value:function(e){this._set("targetDiffColor",e)}},{key:"setSourceDiffColor",value:function(e){this._set("sourceDiffColor",e)}},{key:"setBlendColorResolver",value:function(e){this._set("blendColorResolver",e)}},{key:"_set",value:function(e,t){this[e]=t,this.store.dispatch(e,t)}},{key:"onChange",value:function(e,t){return this.store.subscribe(e,t)}},{key:"extractAllOptions",value:function(){return{showDiffColor:this.showDiffColor,targetOpacity:this.targetOpacity,sourceOpacity:this.sourceOpacity,sourceDiffColor:this.sourceDiffColor,targetDiffColor:this.targetDiffColor,backgroundColor:this.backgroundColor,blendColorResolver:this.blendColorResolver}}},{key:"resetToDefault",value:function(){this.setShowDiffColor(!1),this.setTargetOpacity(255),this.setSourceOpacity(255),this.setTargetDiffColor(OS.BLUE),this.setSourceDiffColor(OS.RED),this.setBlendColorResolver(void 0),this.backgroundColor=4294967295}}],[{key:"scope",value:function(){return z.IOC_SHARED_SINGLETON}}]),e}(),BS=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"createCompareResultDoc",value:function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l,d,h,f;return(0,N.Jh)(this,function(p){switch(p.label){case 0:return t=e.pdfViewer,n=e.sourceDoc,i=e.targetDoc,r=e.fileName,o=e.onprogress,[4,t.getWebPDFJR()];case 1:return a=p.sent(),"function"!=typeof o&&(o=function(){}),s=this.getPageSize(n,i,0),o(0),[4,a.createNewDoc(r,t.getUserName(),s)];case 2:A=p.sent(),c=Math.max(n.getPageCount(),i.getPageCount()),o(1/c),u=1,p.label=3;case 3:return u<c?(l=A.getPageCount(),[4,this.getPageSize(n,i,u)]):[3,7];case 4:return d=p.sent(),h=d.width,f=d.height,[4,A.insertPage(l-1,h,f)];case 5:p.sent(),o(u/c),p.label=6;case 6:return u++,[3,3];case 7:return A.info.isOverlayComparisonDoc=!0,A.fromDoc=n,A.otherDoc=i,o(1),[2,A]}})}).apply(this,arguments)}},{key:"comparePageBitmap",value:function(e,t){var n=e.getIoC().getInstanceByClass(LS),i=e.getIoC().getInstanceByClass(jS),r=(0,z.extendOptions)({canvasMultiplier:1},i.extractAllOptions(),t.combinePixelsOptions),o=n.transformBitmap(t.targetBitmap,r.backgroundColor,t.transformation),a=o.bitmap,s=o.expandX,A=o.expandY,c=n.transformBitmap(t.sourceBitmap,r.backgroundColor,{translateX:s,translateY:A},{width:a.width,height:a.height}).bitmap;return n.combinePixels(a,c,r)}},{key:"getPageSize",value:function(e,t,n){return(0,x._)(function(){var i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return[4,this.getPageByIndex(e,n)];case 1:return i=c.sent(),[4,this.getPageByIndex(t,n)];case 2:return r=c.sent(),o=null==i?void 0:i.getWidth(),a=null==i?void 0:i.getHeight(),s=null==r?void 0:r.getWidth(),A=null==r?void 0:r.getHeight(),[2,{width:Math.max(o,s),height:Math.max(a,A)}]}})}).call(this)}},{key:"getPageByIndex",value:function(e,t){var n=e.getPageCount();if(!(t<0||t>n))return e.getPageByIndex(t)}}],[{key:"scope",value:function(){return z.IOC_SHARED_SINGLETON}}]),e}(),VS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"pdfViewer",void 0)}return(0,D._)(e,[{key:"compareImageData",value:function(e){return this.getSharedOverlayComparisonService().comparePageBitmap(this.pdfViewer,e)}},{key:"getSharedOverlayComparisonService",value:function(){return this.pdfViewer.getIoC().getInstanceByClass(BS)}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),e}(),HS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"pdfViewerInstances",new Set),(0,U._)(this,"usedInstanceIds",new Set)}return(0,D._)(e,[{key:"addPDFViewerInstance",value:function(e){var t=this;return this.pdfViewerInstances.add(e),this.usedInstanceIds.add(e.instanceId),function(){t.removePDFViewerInstance(e)}}},{key:"removePDFViewerInstance",value:function(e){this.pdfViewerInstances.delete(e)}},{key:"isMultipleCase",value:function(){return this.pdfViewerInstances.size>1}},{key:"hasPDFViewerInstance",value:function(){return this.pdfViewerInstances.size>0}},{key:"isUsedInstanceId",value:function(e){return Array.from(this.pdfViewerInstances).some(function(t){return t.instanceId===e})}},{key:"getNextInstanceId",value:function(){if(this.pdfViewerInstances.size>0)return"pdfviewer-instance-"+this.usedInstanceIds.size}}],[{key:"scope",value:function(){return z.IoCScope.SHARED_SINGLETON}}]),e}(),US=["de-DE","en-US","es-419","fr-FR","it-IT","ja-JP","ko-KR","nl-NL","zh-CN","zh-TW"],zS=US.map(function(e){return e.toLowerCase().split("-")});function WS(e){if("string"!=typeof e)return"en-US";var t,n=e.toLowerCase();if(n.indexOf("-")>-1){var i=n.split("-");t=function(e){return e[0]===i[0]&&e[1]===i[1]}}else t=function(e){return e[0]===n||e[1]===n};var r=zS.findIndex(t);return-1!==r?US[r]:"en-US"}var YS=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"events",void 0),this.events={}}return(0,D._)(e,[{key:"setCallback",value:function(e,t){this.events[e]=t}},{key:"getCallback",value:function(e){return this.events[e]}},{key:"removeCallback",value:function(e){delete this.events[e]}},{key:"clear",value:function(){this.events={}}},{key:"setEmbeddedGotoCallback",value:function(e){this.setCallback(nt.gotoE,e)}},{key:"setSubmitFormCallback",value:function(e){this.setCallback(nt.submitForm,e)}}]),e}(),GS=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=z.CLIPBOARD_DATA_TYPES.PLAIN,n=z.CLIPBOARD_DATA_TYPES.HTML,i=z.CLIPBOARD_DATA_TYPES.FILES,r=function(r){if(!(0,z.isEditableElement)(document.activeElement)&&e.isShortcutKeyEnabled()&&r.clipboardData&&r.clipboardData.items){if(z.keyboardStatus.isShiftDown)return r.preventDefault(),!1;var o=e.getStateHandlerManager().getCurrentStates(),a=e.getStateHandlerManager().getStateHandlerConfig(o.getStateName());if(!a||a.enablePasting){var s=[],A=r.clipboardData;if(A&&A.items){var c=A.items,u=A.types,l=u[0],d=0;if(u.length>1){var h=u.indexOf(n);h>-1&&(d=h,l=n)}switch(l){case t:c[d].getAsString(function(t){var n;try{if("number"==typeof(n=JSON.parse(t)))throw new Error("Pure number")}catch(e){n=[{type:"string",value:t}]}n.some(function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType})?e.viewerUI.alert({message:"form-designer:dialog.typeError",level:"warning"}):e.paste(n).then(function(){e.getCurrentPDFDoc()})});break;case n:var f=A.getData(n);if(f){var p=[{type:"html",value:f}];e.paste(p).then(function(){e.getCurrentPDFDoc()})}break;case i:s=[{type:"file",value:c[d].getAsFile()}],e.paste(s)}}}}};document.addEventListener("paste",r),this.addDestroyHook(function(){document.removeEventListener("paste",r)})}}]),t}(z.Disposable),$S=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"viewer",void 0),(0,U._)(e,"eventEmitter",new yo.EventEmitter),e}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){var e=this;this.ownsTo(this.viewer),this.eventEmitter.emit("change"),this.addDestroyHook(function(){e.eventEmitter.removeAllListeners()})}},{key:"updateGetAnnotComponentConfig",value:function(e){if("function"!=typeof e)throw new Error("The 'getAnnotComponentConfig' option must be a function.");this.viewer.customs.getAnnotComponentConfig=e,this.eventEmitter.emit("change")}},{key:"onGetAnnotComponentConfigUpdated",value:function(e){var t=this,n=function(){e(t.viewer)};return this.eventEmitter.on("change",n),function(){t.eventEmitter.off("change",n)}}}],[{key:"inject",value:function(){return{viewer:pT}}}]),t}(z.Disposable),JS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FoxitWebPDFSDKForWeb";(0,C._)(this,e),(0,U._)(this,"defaultDatabaseName",void 0),(0,U._)(this,"STORE_NAME",void 0),(0,U._)(this,"databasePromise",void 0),(0,U._)(this,"removeEventListeners",void 0),(0,U._)(this,"changeEventListeners",void 0),(0,U._)(this,"pdfViewer",void 0),(0,U._)(this,"isClosed",void 0),(0,U._)(this,"notConnected",void 0),(0,U._)(this,"databaseDefer",void 0),(0,U._)(this,"waitQueue",void 0),this.defaultDatabaseName=t,this.STORE_NAME="data",this.removeEventListeners=new Set,this.changeEventListeners=new Set,this.isClosed=!1,this.notConnected=!0,this.waitQueue=new z.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"connectDB",value:function(){var e,t,n=this,i=(null===(t=this.pdfViewer)||void 0===t||null===(e=t.customs)||void 0===e?void 0:e.storageDatabaseName)||this.defaultDatabaseName,r=window.indexedDB.open(i,1);this.databaseDefer=(0,z.createDeferred)(),this.databasePromise=this.databaseDefer.promise,this.notConnected=!1,r.onerror=function(){n.databaseDefer.reject(r.error)},r.onsuccess=function(){n.databaseDefer.resolve(r.result),r.result.onclose=function(){n.notConnected=!0}},r.onupgradeneeded=function(){r.result.createObjectStore(n.STORE_NAME).createIndex("id,feature,key",["id","feature","key"],{unique:!0})}}},{key:"useStore",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){if(t=this,this.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");return this.notConnected&&this.connectDB(),n=function(){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return t=this,[4,this.databasePromise];case 1:return n=i.sent(),[2,e(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.transaction([t.STORE_NAME],e?"readonly":"readwrite").objectStore(t.STORE_NAME)})]}})}).call(t)},i=n(),this.waitQueue.exec(function(){return i}),[2,i]})}).call(this)}},{key:"get",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){return n=this,[2,this.useStore(function(i){return n.getValue(i(!0),e,t)})]})}).call(this)}},{key:"onChange",value:function(e){var t=this,n={callback:e};return this.changeEventListeners.add(n),function(){t.changeEventListeners.delete(n)}}},{key:"remove",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return n=this,[4,this.useStore(function(i){return(0,x._)(function(){var n,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return n=i().delete(IDBKeyRange.only(this.generateKeyArray(e,t))),r=(0,z.createDeferred)(),n.onerror=function(){return r.reject(n.error)},n.onsuccess=function(){return r.resolve()},[4,r.promise];case 1:return o.sent(),this.dispatchRemoveEvent(e,t),[2]}})}).call(n)})];case 1:return i.sent(),[2]}})}).call(this)}},{key:"removeAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t=this,[4,this.useStore(function(n){return(0,x._)(function(){var t,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return t=this,[4,this.getAllKeys(n(!0),e)];case 1:return i=r.sent(),[4,Promise.all(i.map(function(i){return(0,x._)(function(){var t,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return t=n().delete(IDBKeyRange.only(i)),r=(0,z.createDeferred)(),t.onerror=function(){return r.reject(t.error)},t.onsuccess=function(){return r.resolve()},[4,r.promise];case 1:return o.sent(),this.dispatchRemoveEvent(e,i),[2]}})}).call(t)}))];case 2:return r.sent(),[2]}})}).call(t)})];case 1:return n.sent(),[2]}})}).call(this)}},{key:"set",value:function(e,t,n){return(0,x._)(function(){var i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return i=this,[4,this.useStore(function(r){return(0,x._)(function(){var i,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return i=r(),[4,this.has(i,e,t)];case 1:return(o=u.sent())?[4,this.getValue(i,e,t)]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=void 0,u.label=4;case 4:return(a=s)===n||JSON.stringify(a)===JSON.stringify(n)?[2]:(A=o?i.put(n,this.generateKeyArray(e,t)):i.add(n,this.generateKeyArray(e,t)),c=(0,z.createDeferred)(),A.onerror=function(){console.error("idb store error: ",e,t,n,o,a),c.reject(A.error)},A.onsuccess=function(){return c.resolve()},[4,c.promise]);case 5:return u.sent(),this.dispatchChangeEvent({context:e,key:t,oldValue:a,newValue:n}),[2]}})}).call(i)})];case 1:return r.sent(),[2]}})}).call(this)}},{key:"getAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this,[2,this.useStore(function(n){return(0,x._)(function(){var t,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getAllKeys(n(),e)];case 1:return t=r.sent(),i={},t.length?[4,Promise.all(t.map(function(e){return(0,x._)(function(){var t,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return t=n(),r=t.get(IDBKeyRange.only(e)),o=(0,z.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(r.result)},[4,o.promise];case 1:return a=s.sent(),i[e[2]]=a,[2]}})})()}))]:[2,i];case 2:return r.sent(),[2,i]}})}).call(t)})]})}).call(this)}},{key:"onRemove",value:function(e){var t=this,n={type:"remove",callback:e};return this.removeEventListeners.add(n),function(){t.removeEventListeners.delete(n)}}},{key:"close",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:if(this.isClosed)return[2];this.isClosed=!0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.databasePromise];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return e?[4,this.waitQueue.waitForCurrentRunningTasks()]:[2];case 5:return t.sent(),[4,this.waitQueue.waitUntilQuiet(10)];case 6:return t.sent(),e.close(),[2]}})}).call(this)}},{key:"has",value:function(e,t,n){return(0,x._)(function(){var i,r;return(0,N.Jh)(this,function(o){return i=e.getKey(IDBKeyRange.only(this.generateKeyArray(t,n))),r=(0,z.createDeferred)(),i.onerror=function(){return r.reject(i.error)},i.onsuccess=function(){return r.resolve(!!i.result)},[2,r.promise]})}).call(this)}},{key:"generateKeyArray",value:function(e,t){return[e.id||"",e.feature||""].concat(2===arguments.length?[t||""]:[])}},{key:"getValue",value:function(e,t,n){var i=IDBKeyRange.only(this.generateKeyArray(t,n)),r=e.get(i),o=(0,z.createDeferred)();return r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(r.result)},o.promise}},{key:"getAllKeys",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return n=e.getAllKeys(IDBKeyRange.lowerBound(this.generateKeyArray(t))),i=(0,z.createDeferred)(),n.onerror=function(){return i.reject(n.error)},n.onsuccess=function(){return i.resolve(n.result)},[4,i.promise];case 1:return r=s.sent(),o=t.id||"",a=t.feature||"",[2,r.filter(function(e){return e[0]===o&&e[1]===a})]}})}).call(this)}},{key:"dispatchRemoveEvent",value:function(e,t){this.removeEventListeners.forEach(function(n){(0,n.callback)({context:e,key:t})})}},{key:"dispatchChangeEvent",value:function(e){this.changeEventListeners.forEach(function(t){(0,t.callback)((0,w._)({},e))})}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),e}(),qS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"pdfViewer",void 0)}return(0,D._)(e,[{key:"getAll",value:function(e){return this.getStorageDriverImpl().getAll(e)}},{key:"get",value:function(e,t){return this.getStorageDriverImpl().get(e,t)}},{key:"set",value:function(e,t,n){return this.getStorageDriverImpl().set(e,t,n)}},{key:"removeAll",value:function(e){return this.getStorageDriverImpl().removeAll(e)}},{key:"remove",value:function(e,t){return this.getStorageDriverImpl().remove(e,t)}},{key:"onChange",value:function(e){return this.getStorageDriverImpl().onChange(e)}},{key:"onRemove",value:function(e){return this.getStorageDriverImpl().onRemove(e)}},{key:"getStorageDriverImpl",value:function(){var e=this.pdfViewer.customs.storageDriver;if(e)return this.getStorageDriverImpl=function(){return e},e;var t=this.pdfViewer.getIoC().getInstanceByClass(JS);return this.getStorageDriverImpl=function(){return t},t}},{key:"close",value:function(){return this.getStorageDriverImpl().close()}},{key:"isClosed",get:function(){return this.getStorageDriverImpl().isClosed}}],[{key:"inject",value:function(){return{pdfViewer:pT}}}]),e}(),KS=function(){function e(){(0,C._)(this,e),(0,U._)(this,"pdfViewer",void 0),(0,U._)(this,"driverWrapper",void 0)}return(0,D._)(e,[{key:"driver",get:function(){if(this.driverWrapper.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");return this.driverWrapper}},{key:"getAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this.getContext(e),[2,this.driver.getAll(t)]})}).call(this)}},{key:"get",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){return n=this.getContext(e),[2,this.driver.get(n,t)]})}).call(this)}},{key:"set",value:function(e,t,n){return(0,x._)(function(){var i;return(0,N.Jh)(this,function(r){return i=this.getContext(e),[2,this.driver.set(i,t,n)]})}).call(this)}},{key:"remove",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){return n=this.getContext(e),[2,this.driver.remove(n,t)]})}).call(this)}},{key:"removeAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this.getContext(e),[2,this.driver.removeAll(t)]})}).call(this)}},{key:"getContext",value:function(e){return{feature:e,id:this.pdfViewer.getInstanceId(),pdfViewer:this.pdfViewer}}},{key:"onChange",value:function(e){return this.driver.onChange(function(t){e((0,w._)({},t))})}},{key:"onRemove",value:function(e){return this.driver.onRemove(function(t){e((0,w._)({},t))})}},{key:"destroy",value:function(){if(!this.driverWrapper.isClosed)return this.driver.close()}}],[{key:"inject",value:function(){return{pdfViewer:pT,driverWrapper:qS}}}]),e}();const ZS={ActionCallback:{alert:function(e){var t=e.message;e.title,e.type,e.icon;return function(e){return new Promise(function(t){window.alert(e),t(1)})}(t)},response:function(e){e.question,e.title,e.defaultValue,e.label,e.isPassword}}},XS={XFAAppProvider:{msgBox:function(e){var t=e.message;e.title,e.iconType,e.buttonType;return new Promise(function(e){window.alert(t),e(1)})},response:function(e){e.question,e.title,e.defaultAnswer,e.isPassword}}};var QS,eI={};var tI=z.LoggerFactory.getLogger("ServiceWorker");function nI(e,t,n,i){return(0,x._)(function(){var r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:if(r=Object.assign({},ZS,XS,function(e,t){var n=-1,i=!1;return Object.assign({},e,{XFADocProvider:{GetCurrentPageIndex:function(){try{if(i&&-1!==n)return n;var e=t.getPDFDocRender();return e?e.getCurrentPageIndex():-1}catch(e){return-1}},SetCurrentPage:function(e){e.doc;var r=e.pageIndex;i=!0,n=r,t.goToPage(r).finally(function(){i=!1})}}})}({},e),function(e){return{LocalFont:{getLocalFontInfos:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return QS?[4,QS]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return[4,QS=e.getLocalFontInfos()]}})})()},getLocalFontBlobUrl:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,queryLocalFonts({postscriptNames:[e]})];case 1:return t=o.sent(),(n=t[0])?[4,n.blob()]:[2,""];case 2:return i=o.sent(),r=URL.createObjectURL(i),eI[e]=r,[2,r]}})})()}}}}(e),i),!("serviceWorker"in navigator))return[2,Promise.resolve(!1)];c.label=1;case 1:return c.trys.push([1,5,,6]),[4,t.registration?Promise.resolve(t.registration):oI(t)];case 2:return o=c.sent(),[4,navigator.serviceWorker.ready];case 3:return c.sent(),navigator.serviceWorker.startMessages(),a=function(){},s=function(){return(0,x._)(function(){var i,A,c,u;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return a(),[4,iI(o,n,r)];case 1:return i=l.sent(),A=i.cleanup,(c=i.serviceWorker).addEventListener("statechange",function e(){return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return"redundant"!==c.state?[2]:(c.removeEventListener("statechange",e),n=t.url,[4,navigator.serviceWorker.getRegistrations()]);case 1:return i=a.sent(),r=i.find(function(e){return(e.installing||e.waiting||e.active).scriptURL===n}),r&&(o=r,s()),[2]}})})()}),u=e.addDestroyHook(A),window.addEventListener("beforeunload",A),a=function(){u(),window.removeEventListener("beforeunload",A)},[2]}})})()},[4,s()];case 4:return c.sent(),navigator.serviceWorker.addEventListener("message",function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return(0,z.isPlainObject)(e.data)&&"re-init-client"===e.data.id&&s(),[2]})})()}),[2,!0];case 5:return A=c.sent(),tI.warn("Your service worker registration has failed, potentially resulting in the inability to utilize features like XFA and 3D. Please confirm whether your current environment supports service workers, and double-check the configuration of the scope option and Service-Worker-Allowed response header. Original reason: ",A),[2,!1];case 6:return[2]}})})()}function iI(e,t,n){return(0,x._)(function(){var i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return[4,rI(e)];case 1:return i=s.sent(),r=new z.Defer,(o=new MessageChannel).port2.addEventListener("message",function(e){var o=e.data||{};if(o.clientId===t)if("init-client-success"!==o.id){var a=o.type,s=n[a],A=o.action;if(s&&s[A]){var c=o.id;Promise.resolve(s[A](o.data)).then(function(e){i.postMessage({id:c,data:e})},function(e){i.postMessage({id:c,error:e})})}}else r.resolve()}),o.port2.start(),a=function(){i.postMessage({id:"destroy-client",data:{clientId:t}}),o.port2.close()},i.postMessage({id:"init-client",data:{port:o.port1,clientId:t}},[o.port1]),[4,r.promise];case 2:return s.sent(),[2,{serviceWorker:i,cleanup:function(){return a()}}]}})})()}function rI(e){var t=new z.Defer,n=e.installing||e.waiting||e.active;if(n)if("activated"===n.state)t.resolve(n);else{var i=function(e){"activated"===e.target.state&&(n.removeEventListener("statechange",i),t.resolve(n))};n.addEventListener("statechange",i)}else t.reject(new Error("No Service Worker found"));return t.promise}function oI(e){return(window.__DEVELOPER_GUIDE_MODE__?window.top.navigator.serviceWorker:navigator.serviceWorker).register(e.url,Object.assign({scope:"/"},e.options))}var aI=n(9901),sI=n.n(aI),AI=n(2843),cI=n.n(AI),uI=[".mp3",".wav",".ogg"],lI=uI.concat([".mp4",".m4a",".mov",".avi"]),dI=function(e){function t(e,n,i){var r;return(0,C._)(this,t),r=(0,P._)(this,t),(0,U._)(r,"eContainer",void 0),(0,U._)(r,"annot",void 0),(0,U._)(r,"pdfViewer",void 0),(0,U._)(r,"$container",void 0),(0,U._)(r,"eventEmitter",void 0),(0,U._)(r,"rendition",void 0),(0,U._)(r,"player",void 0),(0,U._)(r,"blob",void 0),r.eContainer=e,r.annot=n,r.pdfViewer=i,r.pdfViewer=i,r.annot=n,r.$container=O()(r.eContainer),r.eventEmitter=new(_o()),r}return(0,I._)(t,e),(0,D._)(t,[{key:"isSupport",value:function(e){if("fileName"in e){var t=this.getFileExt(e.fileName);return Promise.resolve(lI.indexOf(t)>-1)}return Promise.resolve(!1)}},{key:"init",value:function(e){var t=this;return this.rendition=e,this.isSupport({buffer:e.buffer,fileName:e.fileName}).then(function(n){if(n){var i=t.createUrlfromData(e);t.createDom(t.getFileExt(e.fileName),i),t.updatePlayerRect()}else t.alertUnsupportMsg();return Promise.resolve()})}},{key:"getFileExt",value:function(e){var t=e.substr(e.lastIndexOf(".")).toLowerCase();return t.indexOf("?")>0&&(t=t.substr(0,t.indexOf("?"))),t}},{key:"createUrlfromData",value:function(e){var t=e.buffer,n=e.fileName,i=e.contentType;if(!t)return n;var r=this.pdfViewer.resourceGenerator(Z_.PDF_DOCUMENT_CLOSING,X_.OBJECT_URL).expose().URL,o=t;return this.blob=new Blob([o.buffer],{type:i}),r.createObjectURL(this.blob)}},{key:"createDom",value:function(e,t){var n=this,i="";if(uI.indexOf(e)>-1){var r=z.isMobile||z.isSafari?"":"fv__hide";this.$container.addClass(r),i=sI()({type:"audio",url:t})}else i=cI()({url:t});this.$container.append(i),this.player=this.$container[0].querySelector(".fv__player"),(z.isIE||z.isEdge)&&this.$container.addClass("IE-player");var o=this.$container[0].querySelector(".fv__close-video").parentNode;o.addEventListener("click",function(e){n.player&&n.player.pause&&n.player.pause(),n.$container.hide(),e.stopPropagation()}),o.addEventListener("mousedown",function(e){e.stopPropagation()}),o.addEventListener("pointerdown",function(e){e.stopPropagation()}),o.addEventListener("touchstart",function(e){e.stopPropagation()});var a=function(e){n.eventEmitter.emit("play",n.annot)},s=function(e){n.eventEmitter.emit("pause",n.annot)},A=function(e){n.eventEmitter.emit("ended",n.annot)},c=function(e){e.preventDefault()};this.player.addEventListener("play",a),this.player.addEventListener("pause",s),this.player.addEventListener("ended",A),this.player.addEventListener("click",c),this.addDestroyHook(function(){n.player.removeEventListener("play",a),n.player.removeEventListener("pause",s),n.player.removeEventListener("ended",A),n.player.removeEventListener("click",c)})}},{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"play",value:function(){var e=this;if(this.player)if(this.player.paused){this.pdfViewer.eventEmitter.emit("startPlayMultimedia");var t=this.player.play();void 0!==t&&t.then(function(){z.isSafari&&e.player.play()}).catch(function(t){z.isSafari||(e.alertUnsupportMsg(),e.$container.remove())})}else this.player.pause()}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"updatePlayerRect",value:function(){var e=this.pdfViewer.getPDFPageRender(0),t=e.getScale(),n=e.getRotation(),i=this.annot.getDeviceRect(t,n);return this.player?(this.$container.css({left:i.left+"px",top:i.top+"px",width:i.right-i.left+"px",height:i.bottom-i.top+"px"}),i):i}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"download",value:function(){if(!this.blob)return this.alertUnsupportMsg();this.rendition&&this.rendition.fileName&&this.blob.type&&Lh(this.blob,this.rendition.fileName,this.blob.type)}}]),t}(z.Disposable);var hI,fI,pI="FoxitWebPDFSDKForWeb_localFontInfo",gI="info";function vI(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return fI?[2,fI]:[2,Promise.resolve().then(n.bind(n,9960)).then(function(e){return new(0,e.IndexDBStore)(gI,pI,1).getAll()}).then(function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:if(!e.length)return[2];e=e.sort(function(e,t){return e-t}).map(function(e){return e.value}),t=e.map(function(e){return e.split(",")[3]}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,queryLocalFonts({postscriptNames:t})];case 2:return n=i.sent(),fI={infos:n.map(function(n){var i=t.indexOf(n.postscriptName);return e[i]}),datas:n.map(function(t,n){var i=e[n].split(",");return{postscriptName:t.postscriptName,fullName:t.fullName,family:t.family,style:t.style,cFamily:i[1],cFullName:i[7]}})},[2,fI];case 3:return i.sent(),[3,4];case 4:return[2]}})})()})]})})()}function mI(e,t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2,Promise.resolve().then(n.bind(n,9960)).then(function(e){var n=new(0,e.IndexDBStore)(gI,pI,1);return n.clear().then(function(){return n.addItems(t.map(function(e,t){return{id:t,value:e}}))})})]})})()}function yI(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b=arguments;return(0,N.Jh)(this,function(w){switch(w.label){case 0:t=b.length>1&&void 0!==b[1]?b[1]:function(){},n=b.length>2&&void 0!==b[2]?b[2]:wI,i=e.libPath,o=function(){},w.label=1;case 1:return w.trys.push([1,15,,16]),[4,queryLocalFonts()];case 2:r=w.sent(),w.label=3;case 3:return w.trys.push([3,5,,6]),[4,n(e)];case 4:return o=w.sent(),[3,6];case 5:return w.sent(),[3,6];case 6:return"function"!=typeof o&&(o=function(){}),o(0),a=document.createElement("script"),hI=hI||new Promise(function(e,t){a.onload=function(){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Tool({locateFile:function(e){return i+(/\/$/.test(i)?"":"/")+e+"?h=96a209106acdabc0cbf77626923fc185"}})];case 1:return e.apply(void 0,[r.sent()]),[3,3];case 2:return n=r.sent(),o(-1),t(n),[3,3];case 3:return[2]}})})()},a.onerror=function(e){o(-1),t(e)}}),a.src=i+(/\/$/.test(i)?"":"/")+"tool.js?v=f4fff59420c345078f53993ccc857787",document.body.appendChild(a),[4,hI];case 7:s=w.sent(),A=r.length,c=0,u=[],l=[],d=[],h=0,w.label=8;case 8:if(!(h<A))return[3,14];w.label=9;case 9:return w.trys.push([9,12,,13]),[4,(f=r[h]).blob()];case 10:return p=w.sent(),g=u[h]={postscriptName:f.postscriptName,fullName:f.fullName,family:f.family,style:f.style},[4,_I(s,f.postscriptName,p)];case 11:return v=w.sent(),m=v.split(","),g.cFamily=m[1],g.cFullName=m[7],l[h]=v,c++,o(c/A),[3,13];case 12:return w.sent(),d.push(h),[3,13];case 13:return h++,[3,8];case 14:for(y=d.length;y--;)_=d[y],l.splice(_,1),u.splice(_,1);return o(1),t(e,l),[2,{infos:l,datas:u}];case 15:return w.sent(),o(-1),[2,{}];case 16:return[2]}})}).apply(this,arguments)}function _I(e,t,n){return(0,x._)(function(){var i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return[4,n.arrayBuffer()];case 1:return i=s.sent(),r=new Uint8Array(i),o=e.StreamCallback.implement({GetSize:function(){return i.byteLength},GetPosition:function(){return 0},ReadBlock:function(t,n,i){var o=r.slice(n,n+i);return e.HEAPU8.set(o,t),!0},Release:function(){i=null,r=null}}),a=e.GetFontInformation(0,t,o),o.delete(),i=null,r=null,[2,a]}})})()}function bI(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return(t=document.createElement("dialog")).setAttribute("open","open"),t.classList.add("fv__dialog"),t.innerHTML="\n        <div>\n            <p>".concat(e.i18n.t("viewer_:font.load"),'</p>\n            <button class="confirm">').concat(e.i18n.t("viewer_:dialog.actionDialog.OK"),'</button>\n            <button class="cancel">').concat(e.i18n.t("viewer_:dialog.actionDialog.Cancel"),"</button>\n        </div>\n    "),document.body.appendChild(t),[2,new Promise(function(e,n){t.querySelector(".confirm").onclick=function(){e(!0),t.remove()},t.querySelector(".cancel").onclick=function(){e(!1),t.remove()}})]})})()}function wI(e){var t,n=Promise.resolve(e.viewerUI.progress()).then(function(e){return(t=e).show(),t});return function(e){-1!==e&&1!==e||n.then(function(e){e.hide()}),t&&t.updateProgress((100*e).toFixed()+"%")}}var kI=function(e){function t(){var e;(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"callbacks",new Set);var n=function(t){var n=t.data;if(n&&"object"===(void 0===n?"undefined":(0,F._)(n))&&"precache-event"===n.type){var i=n.event;i&&"object"===(void 0===i?"undefined":(0,F._)(i))&&e.callbacks.forEach(function(e){e(i)})}};return window.navigator.serviceWorker&&(window.navigator.serviceWorker.addEventListener("message",n),e.addDestroyHook(function(){window.navigator.serviceWorker.removeEventListener("message",n)})),e}return(0,I._)(t,e),(0,D._)(t,[{key:"getPrecacheURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:131072,n=new URL("/__foxitwebsdk-load-file__",location.href);n.searchParams.set("file",e);var i=t;return n.searchParams.set("chunk-size",i+""),n.href}},{key:"startPrecache",value:function(e,t){return(0,x._)(function(e){var t,n,i,r,o=arguments;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:131072,n=o.length>2?o[2]:void 0,i=this.getPrecacheURL(e,t),(r=new Headers(n)).set("Range","bytes=0-1"),[4,fetch(i,{headers:r})];case 1:return[4,a.sent().blob()];case 2:return a.sent(),[2]}})}).apply(this,arguments)}},{key:"dropPrecache",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){return null===(n=navigator.serviceWorker)||void 0===n||null===(t=n.controller)||void 0===t||t.postMessage({type:"precache-event",event:{action:"drop",originalURL:e}}),[2]})})()}},{key:"stopPrecacheTask",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){return null===(n=navigator.serviceWorker)||void 0===n||null===(t=n.controller)||void 0===t||t.postMessage({type:"precache-event",event:{action:"stop",originalURL:e}}),[2]})})()}},{key:"onPrecacheEvent",value:function(e){var t=this,n=e.bind(this);return this.callbacks.add(n),function(){t.callbacks.delete(n)}}}]),t}(z.Disposable),xI="widget-data-changed",PI="refresh-page",CI="mousedown-widget",DI="mouseup-widget",EI="click-widget",SI="right-click-widget",II="mouseover-widget",TI="mouseleave-widget",MI="keydown-widget",RI="keyup-widget",FI=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"_controllerAPI",void 0),(0,U._)(e,"focusOnControl",void 0),(0,U._)(e,"focusOnControlBBox",void 0),(0,U._)(e,"virtualWidgetElement",document.createElement("textarea")),(0,U._)(e,"virtualWidgetAppearanceElement",document.createElement("label")),(0,U._)(e,"editorAPI",void 0),(0,U._)(e,"manualFocusControl",void 0),(0,U._)(e,"mouseOverControl",void 0),(0,U._)(e,"currentFocusWidgetAnnotComponent",void 0),(0,U._)(e,"fieldAPI",void 0),(0,U._)(e,"formAPI",void 0),(0,U._)(e,"signatureAPI",void 0),(0,U._)(e,"designModeStore",new z.ValueStore(br.FormDesignMode.NONE)),(0,U._)(e,"eventEmitter",new(_o())),(0,U._)(e,"virtualWidgetAppearanceElementVisibilityChecker",new z.VisibilityChecker(e.virtualWidgetAppearanceElement,{root:document.body})),(0,U._)(e,"mousedownControlInfo",void 0),(0,U._)(e,"renderThrottleExecutor",new z.ThrottleAsyncTaskExecutor(100,!0)),(0,U._)(e,"formInteractionEventInterceptors",[]),(0,U._)(e,"_submitFormRequester",void 0),(0,U._)(e,"_currentStateHandlerSupportsInteraction",!0),(0,U._)(e,"_interactionEventLocked",!1),e}return(0,I._)(t,e),(0,D._)(t,[{key:"controllerAPI",get:function(){if(!this._controllerAPI)throw new Error("Unable to perform this operation, there are currently no open documents");return this._controllerAPI}},{key:"allInjected",value:function(){var e=this;this.appendInteractionEventInterceptor(function(t,n){return e.hasPermission()&&n(),Promise.resolve()}),this.pdfViewer.getViewerUI().getJSDialogUI().then(function(t){e.javascriptUI=t,t.onAllDialogClosed(function(){e.focusOnControl&&e.virtualWidgetElement.focus({preventScroll:!0})})});var t=this.pdfViewer.getCurrentPDFDoc();t&&(this.initFormAPI(t),this.switchPDFDoc(t)),this.virtualWidgetAppearanceElement.classList.add("fv__widget-appearance-element");var n=this.virtualWidgetElement,i=(0,z.getUniqueId)("form-filler-virtual-widget-element-");n.setAttribute("id",i),this.virtualWidgetAppearanceElement.setAttribute("for",i),n.classList.add("fv__widget-focus-element"),n.addEventListener("keyup",function(t){return(0,x._)(function(){var e,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){return e=z.matchers.ArrowLeft,n=z.matchers.ArrowRight,i=z.matchers.ArrowUp,r=z.matchers.ArrowDown,o=z.matchers.Home,a=z.matchers.End,s=z.matchers.or,(0,z.isMatch)(t,s(e,n,i,r,o,a))&&this.updateInputElementPosition(),[2]})}).call(e)}),this.virtualWidgetAppearanceElement.addEventListener("pointerdown",function(e){e.preventDefault()}),this.virtualWidgetAppearanceElement.addEventListener("pointerup",function(t){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.updateInputElementPosition(),[2]})}).call(e)}),this.virtualWidgetElement.addEventListener("compositionend",function(){e.virtualWidgetElement.value=""}),this.addDestroyHook(this.pdfViewer.addEventListener(ae.pdfDocCreated,function(t){e.initFormAPI(t)}),this.pdfViewer.addEventListener(ae.openFileSuccess,function(t){e.switchPDFDoc(t)}),this.pdfViewer.addEventListener(ae.renderFileSuccess,function(t){e.hasPermission()||e.pdfViewer.getPDFDocRender().$ui.addClass("fv_doc-readonly")}),this.pdfViewer.addEventListener(ae.willCloseDocument,function(){e._controllerAPI=void 0}),this.pdfViewer.addEventListener(ae.zoomToSuccess,function(){e.focusOnControl&&e.updateWidgetElementRect(e.focusOnControl,e.focusOnControlBBox)}),this.pdfViewer.addEventListener(ae.formFieldPropertyUpdated,function(){e.renderThrottleExecutor.exec(function(){return e.rerenderVisiblePages()})}),this.pdfViewer.addEventListener(ae.renderPageSuccess,function(t){return(0,x._)(function(){var e,n;return(0,N.Jh)(this,function(i){return t.annotsRender?((e=this.getDesignMode())!==br.FormDesignMode.NONE?e!==br.FormDesignMode.ALL_WIDGET_TYPES&&t.annotsRender.constructAllWidgetRenders(function(t){var n,i=null===(n=t.getField())||void 0===n?void 0:n.getType();if(!i)return!1;switch(i){case br.FieldType.Text:return e===br.FormDesignMode.TEXT_AND_DATE;case br.FieldType.Sign:return e===br.FormDesignMode.SIGNATURE;case br.FieldType.RadioButton:return e===br.FormDesignMode.RADIO_BUTTON;case br.FieldType.PushButton:return e===br.FormDesignMode.PUSH_BUTTON_AND_IMAGE;case br.FieldType.ListBox:return e===br.FormDesignMode.LIST_BOX;case br.FieldType.ComboBox:return e===br.FormDesignMode.COMBO_BOX;case br.FieldType.CheckBox:return e===br.FormDesignMode.CHECK_BOX}return!0}):this.needToResolveFocusIssue()&&(null===(n=t.annotsRender)||void 0===n||n.constructAllWidgetRenders(function(e){var t,n=null===(t=e.getField())||void 0===t?void 0:t.getType();return n===br.FieldType.Text||n===br.FieldType.ComboBox})),[2]):[2]})}).call(e)}),this.pdfViewer.addEventListener([ae.pwdAndPermRemoved,ae.permissionChanged,ae.docPasswordChanged,ae.openFileSuccess,ae.documentClosed,ae.afterSwitchStateHandler],function(){e.updateInteractionStatus()}),this.onClickWidget(function(t){var n=e.pdfViewer.getCurrentPDFDoc();n&&n.query({type:"annot",annotId:t}).then(function(t){t&&e.pdfViewer.eventEmitter.emit(ae.tapField,t)})}))}},{key:"needToResolveFocusIssue",value:function(){return z.isTablet||z.isMobile}},{key:"updateFocusListBoxAndComboBoxVirtualBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.focusOnControl&&this.updateWidgetElementRect(this.focusOnControl,e),[2]})}).call(this)}},{key:"beginEdit",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.updateInputElementPosition(),[2]})}).call(this)}},{key:"endEdit",value:function(){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}},{key:"updateInputElementPosition",value:function(){return(0,x._)(function(){var e,t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return this.focusOnControl?this.virtualWidgetElement.readOnly?(this.virtualWidgetElement.style.top=this.virtualWidgetAppearanceElement.style.top,this.virtualWidgetElement.style.left=this.virtualWidgetAppearanceElement.style.left,[2]):z.isDesktop?[4,null===(e=this.formAPI)||void 0===e?void 0:e.getCaretPosition()]:(this.updateWidgetElementRect(this.focusOnControl,this.focusOnControlBBox),[2]):[2];case 1:return t=a.sent(),[4,this.pdfViewer.getPDFPageRender(this.focusOnControl.pageIndex)];case 2:return(n=a.sent())?[4,n.transformPoint({point:t,srcType:Xd.pdf,destType:Xd.page})]:[2];case 3:return i=a.sent(),r=i.x,o=i.y,this.virtualWidgetElement.style.left="".concat(r,"px"),this.virtualWidgetElement.style.top="".concat(o,"px"),[2]}})}).call(this)}},{key:"updateInteractionStatus",value:function(){this._interactionEventLocked||this.toggleInteractionEvent(this.computeInteractionEventStatus(),!1)}},{key:"computeInteractionEventStatus",value:function(){if(!this._currentStateHandlerSupportsInteraction)return!1;var e=this.pdfViewer.getPDFDocRender();if(!e)return!1;if(this.getDesignMode()!==br.FormDesignMode.NONE)return!1;var t=e.doc.isOwner(),n=!e.doc.isDynamicXFA();return t||n}},{key:"initFormAPI",value:function(e){var t=this;e.form.setDefaultFieldNameGenerator(function(e){var n=function(){switch(e.type){case br.FieldType.Text:return e.isDateOrTime?9:e.type;case br.FieldType.PushButton:return e.isImage?8:e.type}return e.type}();return t.pdfViewer.i18n.t("viewer_:form.prefix."+n)}),this._submitFormRequester&&e.form.setDefaultSubmitFormRequester(this._submitFormRequester)}},{key:"hasPermission",value:function(){var e=this.pdfViewer.getPDFDocRender();if(e)return e.hasPermission()}},{key:"switchPDFDoc",value:function(e){var t=this,n=e.createMessageChannel(br.FILLER_CONTROLLER_CHANNEL_ID);this._controllerAPI=n.remoteImplementation;var i=e.createMessageChannel(br.FORM_FILLER_EDITOR_API_CHANNEL_ID);this.editorAPI=i.remoteImplementation,this.fieldAPI=e.formFieldAPI,this.formAPI=e.formAPI,this.signatureAPI=e.signatureAPI,e.addDestroyHook(function(){t._controllerAPI=void 0,t.editorAPI=void 0,t.fieldAPI=void 0})}},{key:"rerenderVisiblePages",value:function(){return(0,x._)(function(){var e,t;return(0,N.Jh)(this,function(n){return(e=this.pdfViewer.getPDFDocRender())&&(t=e.pagesRender)?(t.setRenderFlags(1),e.setRebuildAnnotsFlag(!1),t.renderVisiblePages(),[2]):[2]})}).call(this)}},{key:"rerenderArea",value:function(e,t,n){return(0,x._)(function(){var e,i,r,o,a;return(0,N.Jh)(this,function(s){return(e=this.pdfViewer.getPDFDocRender())?e.doc.isDynamicXFA()?[2]:e.getVisiblePageIndexes().includes(t)?(this.eventEmitter.emit(PI,t),i=e.pagesRender,r=i.getPDFPageRender(t),(o=r.annotsRender)&&r.page?(a=r.page.getDeviceRect(n,r.scale*z.dpr,r.rotate),null==o||o.updateRender(a,!0),[2,Promise.resolve(!0)]):[2]):[2]:[2]})}).call(this)}},{key:"setHighlightFields",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,null===(t=this.formAPI)||void 0===t?void 0:t.highlightFormFields(e)];case 1:return n.sent(),this.rerenderVisiblePages(),this.pdfViewer.eventEmitter.emit(ae.setFromFieldHighlight,e),[2]}})}).call(this)}},{key:"isHighlightFormFields",value:function(){var e,t;return null!==(t=null===(e=this.formAPI)||void 0===e?void 0:e.isHighlight())&&void 0!==t?t:Promise.resolve(!1)}},{key:"setHighlightColor",value:function(e){var t;if(!isFinite(e))throw new Error("Incorrect color format: ".concat(e));return null===(t=this.formAPI)||void 0===t?void 0:t.setHighlightColor(e)}},{key:"getHighlightColor",value:function(){var e,t;return null!==(t=null===(e=this.formAPI)||void 0===e?void 0:e.getHighlightColor())&&void 0!==t?t:Promise.resolve(0)}},{key:"handleOnFocus",value:function(e,t){return(0,x._)(function(){var n,i,r,o,a,s,A,c,u,l,d,h,f;return(0,N.Jh)(this,function(p){switch(p.label){case 0:return n=this,o=this.focusOnControl,(0,cn.isSameAnnotId)(e,this.manualFocusControl)&&(this.manualFocusControl=void 0),this.focusOnControl=e,a=this,[4,null===(i=this.formAPI)||void 0===i?void 0:i.getWidgetHandlerViewBBox(e.pageIndex,e)];case 1:return a.focusOnControlBBox=p.sent(),!(s=this.pdfViewer.getPDFDocRender())||s.isDestroyed||s.doc.isDynamicXFA()?[2]:[4,s.pagesRender.getLoadedPDFPageRender(e.pageIndex)];case 2:return!(A=p.sent())||A.isDestroyed?[2]:[4,this.getWidgetAnnotComponent(e)];case 3:return(c=p.sent())&&(1&~(u=c.annot.getFlags())&&2&~u&&32&~u&&t)?(this.updateWidgetElementRectByAnnotComponent(A,c,this.focusOnControlBBox),(l=c.annot.getField())?(c.$ui.append(this.virtualWidgetAppearanceElement),this.virtualWidgetElement.className="fv__widget-focus-element",this.virtualWidgetElement.setAttribute("field-type",br.FieldType[l.getType()]),d=function(){n.virtualWidgetElement.classList.add("fv__cursor-text"),n.virtualWidgetElement.removeAttribute("readonly"),n.virtualWidgetElement.style.pointerEvents="unset"},h=function(){n.virtualWidgetElement.setAttribute("readonly","readonly"),n.virtualWidgetElement.style.pointerEvents="none"},f=!z.isDesktop&&l.getExtType().isDateOrTime,[4,l.canEditText()]):[2]):[2];case 4:return p.sent()&&!f?d():h(),c.$ui.append(this.virtualWidgetElement),this.updateInputElementPosition(),this.virtualWidgetElement.focus({preventScroll:!0}),f&&d(),this.currentFocusWidgetAnnotComponent=c,[4,c.handleOnGotFocus()];case 5:return p.sent(),this.eventEmitter.emit("focus",this.focusOnControl,o),this.pdfViewer.eventEmitter.emit(ae.focusOnControl,c.annot),null===(r=this.pdfViewer.getPDFViewerRender())||void 0===r||r.disableDragToScroll(),[2]}})}).call(this)}},{key:"updateWidgetElementRect",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return t?[4,this.pdfViewer.getPDFPageRender(e.pageIndex)]:[2];case 1:return n=r.sent(),[4,this.getWidgetAnnotComponent(e)];case 2:return(i=r.sent())?(this.updateWidgetElementRectByAnnotComponent(n,i,t),[2]):[2]}})}).call(this)}},{key:"updateWidgetElementRectByAnnotComponent",value:function(e,t,n){if(n){var i=e.page.getDeviceRect(n,e.scale,e.rotate),r="\n            left: ".concat(i.left,"px;\n            top: ").concat(i.top,"px;\n            width: ").concat(i.right-i.left,"px;\n            height: ").concat(i.bottom-i.top,"px;\n        ");z.isDesktop||(this.virtualWidgetElement.style.cssText+=r),this.virtualWidgetAppearanceElement.style.cssText+=r}}},{key:"handleOnBlur",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return i=this.focusOnControl,(null===(t=this.focusOnControl)||void 0===t?void 0:t.objNumber)===e.objNumber&&(this.focusOnControl=void 0,this.eventEmitter.emit("focus",void 0,i)),[4,this.getWidgetAnnotComponent(e)];case 1:return r=o.sent(),this.virtualWidgetElement.textContent="",this.virtualWidgetElement.remove(),this.virtualWidgetAppearanceElement.remove(),[4,null==r?void 0:r.handleOnLostFocus()];case 2:return o.sent(),null===(n=this.pdfViewer.getPDFViewerRender())||void 0===n||n.enableDragToScroll(),[2]}})}).call(this)}},{key:"handleOnMouseOver",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.mouseOverControl=e,[4,this.getWidgetAnnotComponent(e)];case 1:return[4,null==(t=n.sent())?void 0:t.handleOnMouseOver()];case 2:return n.sent(),this.eventEmitter.emit(II,e),[2]}})}).call(this)}},{key:"handleOnMouseLeave",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return(0,cn.isSameAnnotId)(e,this.mouseOverControl)&&(this.mouseOverControl=void 0),[4,this.getWidgetAnnotComponent(e)];case 1:return[4,null==(t=n.sent())?void 0:t.handleOnMouseLeave()];case 2:return n.sent(),this.eventEmitter.emit(TI,e),[2]}})}).call(this)}},{key:"getMouseOverControl",value:function(){return this.mouseOverControl}},{key:"hasFocus",value:function(){return!!this.focusOnControl}},{key:"canRemoveFocus",value:function(e){return(!this.javascriptUI||!this.javascriptUI.hasDialogOpen())&&(!this.currentFocusWidgetAnnotComponent||this.currentFocusWidgetAnnotComponent.canRemoveFocus(e))}},{key:"setFocus",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:if(t=e.pageIndex,n=e.objNumber,!(i=this.pdfViewer.getCurrentPDFDoc()))throw new Error("Document not opening!");return[4,i.getPageByIndex(t)];case 1:return[4,u.sent().getAnnotsByObjectNumArray([n])];case 2:if(r=M._.apply(void 0,[u.sent(),1]),!(o=r[0]))throw new Error("Widget not found: page index ".concat(t,", widget id: ").concat(n));return[4,o.getControl()];case 3:if(!(a=u.sent()))throw new Error("Control not exist: page index ".concat(t,", widget id: ").concat(n));return s=a.getIndex(),A={pageIndex:t,controlIndex:s,objNumber:n},this.manualFocusControl=A,this.controllerAPI.setFocus(A),[4,this.getWidgetAnnotComponent({pageIndex:t,objNumber:n})];case 4:return[4,null==(c=u.sent())?void 0:c.handleOnGotFocus()];case 5:return u.sent(),[2]}})}).call(this)}},{key:"removeFocus",value:function(){var e=this;return Promise.resolve(this.controllerAPI.removeFocus()).finally(function(){e.focusOnControl&&e.handleOnBlur(e.focusOnControl)})}},{key:"getWidgetAnnotComponent",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return!(t=this.pdfViewer.getPDFDocRender())||t.isDestroyed?[2]:[4,t.pagesRender.getLoadedPDFPageRender(e.pageIndex)];case 1:return!(n=o.sent())||n.isDestroyed?[2]:[4,n.renderedDefered.promise];case 2:return o.sent(),(i=n.getAnnotRender(e.objNumber))?[3,5]:[4,n.getPDFPage()];case 3:return(r=o.sent())?r.annotsPromise?[3,5]:[4,r.getAnnots()]:[2];case 4:o.sent(),i=n.getAnnotRender(e.objNumber),o.label=5;case 5:return[2,null==i?void 0:i.component]}})}).call(this)}},{key:"onFocusChange",value:function(e){var t=this;return this.eventEmitter.on("focus",e),function(){t.eventEmitter.off("focus",e)}}},{key:"getDesignMode",value:function(){return this.designModeStore.getCurrentValue()||br.FormDesignMode.NONE}},{key:"setAutoHighlightControl",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,null===(t=this.formAPI)||void 0===t?void 0:t.setAutoHighlightControl(e)];case 1:return n.sent(),[2]}})}).call(this)}},{key:"setDesignMode",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.designModeStore.dispatch(e),[4,null===(t=this.formAPI)||void 0===t?void 0:t.setDesignMode(e)];case 1:return n.sent(),this.updateInteractionStatus(),this.rerenderVisiblePages(),[2]}})}).call(this)}},{key:"onDesignModeChange",value:function(e){return this.designModeStore.subscribe(e)}},{key:"isMatchCurrentEditType",value:function(e){var t,n,i=null===(t=e.getField())||void 0===t?void 0:t.getType();return void 0!==i&&(0,br.isFieldTypeMatchDesignMode)(i,null!==(n=this.designModeStore.getCurrentValue())&&void 0!==n?n:br.FormDesignMode.NONE)}},{key:"handleOnMouseDown",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return this.mousedownControlInfo={time:e.timestamp,button:e.button,control:t},this.eventEmitter.emit(CI,t,e),[4,this.getWidgetAnnotComponent(t)];case 1:return(n=r.sent())&&n.handleOnMouseDown(null!==(i=e.button)&&void 0!==i?i:br.FormMouseEventButtonType.LEFT_BUTTON),this.pdfViewer.activateElement(null),[2]}})}).call(this)}},{key:"handleOnMouseUp",value:function(e,t){return(0,x._)(function(){var n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return this.eventEmitter.emit(DI,t,e),[4,this.getWidgetAnnotComponent(t)];case 1:if((i=a.sent())&&i.handleOnMouseUp(null!==(r=e.button)&&void 0!==r?r:br.FormMouseEventButtonType.LEFT_BUTTON),(0,cn.isSameAnnotId)(null===(n=this.mousedownControlInfo)||void 0===n?void 0:n.control,t)){if(o=this.mousedownControlInfo.time,this.mousedownControlInfo=void 0,e.timestamp-o>200)return[2];e.button===br.FormMouseEventButtonType.LEFT_BUTTON?this.eventEmitter.emit(EI,t,e):e.button===br.FormMouseEventButtonType.RIGHT_BUTTON&&this.eventEmitter.emit(SI,t,e)}else this.mousedownControlInfo=void 0;return[2]}})}).call(this)}},{key:"handleOnKeyDown",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return this.eventEmitter.emit(MI,t,e),t?[4,this.getWidgetAnnotComponent(t)]:[3,2];case 1:(n=i.sent())&&n.handleOnKeyDown(e),i.label=2;case 2:return[2]}})}).call(this)}},{key:"handleOnKeyUp",value:function(e,t){return(0,x._)(function(){var n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return e.keyCode===z.KeyCodes.Tab&&t&&(0,cn.isSameAnnotId)(this.focusOnControl,t)&&(this.virtualWidgetAppearanceElementVisibilityChecker.isVisible||this.virtualWidgetAppearanceElement.scrollIntoView({block:"nearest"})),this.eventEmitter.emit(RI,t,e),t?[4,this.getWidgetAnnotComponent(t)]:[3,2];case 1:(n=i.sent())&&n.handleOnKeyUp(e),i.label=2;case 2:return[2]}})}).call(this)}},{key:"onMouseDownWidget",value:function(e){return this.onInteractionEvent(CI,e)}},{key:"onMouseUpWidget",value:function(e){return this.onInteractionEvent(DI,e)}},{key:"onClickWidget",value:function(e){return this.onInteractionEvent(EI,e)}},{key:"onRightClickWidget",value:function(e){return this.onInteractionEvent(SI,e)}},{key:"onMouseOverWidget",value:function(e){return this.onInteractionEvent(II,e)}},{key:"onMouseLeaveWidget",value:function(e){return this.onInteractionEvent(TI,e)}},{key:"onKeyDown",value:function(e){return this.onInteractionEvent(MI,e)}},{key:"onKeyUp",value:function(e){return this.onInteractionEvent(RI,e)}},{key:"onInteractionEvent",value:function(e,t){return this.onSomeEvent(e,t)}},{key:"removeWidget",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){return n=this.pdfViewer.getPDFPageRender(e),i=n.getAnnotRender(t),i.component.removeAnnot(),[2]})}).call(this)}},{key:"appendInteractionEventInterceptor",value:function(e){var t=this,n=function(t,n){return e(t,n)};return this.formInteractionEventInterceptors.push(n),function(){var e=t.formInteractionEventInterceptors.indexOf(n);e>-1&&t.formInteractionEventInterceptors.splice(e,1)}}},{key:"invokeGestureInterceptor",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return n=new z.Defer,i=this.formInteractionEventInterceptors.reduceRight(function(t,n){return function(){return n(e,t)}},function(){return t().then(function(e){n.resolve(e)}),n.promise}),[4,i()];case 1:return r.sent(),n.isSettled?[4,n.promise]:[3,3];case 2:return[2,{setelled:!0,value:r.sent()}];case 3:return[2,{setelled:!1}];case 4:return[2]}})}).call(this)}},{key:"setDefaultSubmitFormRequester",value:function(e){var t;this._submitFormRequester=e;var n=this.pdfViewer.getCurrentPDFDoc();null==n||null===(t=n.form)||void 0===t||t.setDefaultSubmitFormRequester(e)}},{key:"handleOnDataChanged",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return(t=this.pdfViewer.getCurrentPDFDoc())?(this.pdfViewer.eventEmitter.emit(ae.formValueChanged),this.eventEmitter.emit(xI,t,e),[2]):[2]})}).call(this)}},{key:"onDataChanged",value:function(e){return this.onSomeEvent(xI,e)}},{key:"onRefreshPage",value:function(e){return this.onSomeEvent(PI,e)}},{key:"onSomeEvent",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}},{key:"getEditorAPI",value:function(){return this.editorAPI}},{key:"setInteractionSupport",value:function(e){this._currentStateHandlerSupportsInteraction=e,this.updateInteractionStatus()}},{key:"toggleInteractionEvent",value:function(e){var t,n=null===(t=arguments[1])||void 0===t||t,i=this.pdfViewer.getPDFDocRender();i&&(n&&(this._interactionEventLocked=!e),i.formFillerModule.toggleInteractionEvent(e))}},{key:"isInteractionEventEnabled",value:function(){var e=this.pdfViewer.getPDFDocRender();return!!e&&e.formFillerModule.isInteractionEventEnabled()}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer",delegateEventService:Vo}}}]),t}(z.Disposable);function NI(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return t=e.pdfViewer,n=e.doc,i=e.actionData.data,r=i.visibleLayerNodeObjNums,o=i.hiddenLayerNodeObjNums,[4,n.getLayerNodesJson()];case 1:return a=c.sent(),s=LI(a.children),A=function(e){return function(i){var r=s.get(i);"string"==typeof r&&(n.setLayerNodeVisiable(r,e),t.eventEmitter.emit("layer-action-actived",{id:r,visible:e}))}},r.forEach(A(!0)),o.forEach(A(!1)),[2]}})}).apply(this,arguments)}function LI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return e.forEach(function(e){e.children&&LI(e.children,t),void 0!==e.objNum&&t.set(e.objNum,e.id)}),t}var OI={HandMenuItem:"[icon-class=fv__icon-toolbar-hand]",FirstPage:"[icon-class=fv__icon-float-bar-first-page]",PrevPage:"[icon-class=fv__icon-float-bar-previous-page]",NextPage:"[icon-class=fv__icon-float-bar-next-page]",LastPage:"[icon-class=fv__icon-float-bar-last-page]",PrevView:"[icon-class=fv__icon-float-bar-previous-view]",NextView:"[icon-class=fv__icon-float-bar-next-view]",ZoomViewIn:"[icon-class=fv__icon-float-bar-zoom-in]",ZoomViewOut:"[icon-class=fv__icon-float-bar-zoom-out]",ActualSize:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(7)",FitPage:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(1)",FitVisible:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(3)",FitWidth:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(2)",SinglePage:"[icon-class=fv__icon-toolbar-single-page]",OneColumn:"[icon-class=fv__icon-toolbar-continuous-page]",TwoPages:"[icon-class=fv__icon-toolbar-double-page]",TwoColumns:"[icon-class=fv__icon-toolbar-facing-continuous-page]",GeneralInfo:"[icon-class=fv__icon-properties]",GeneralPrefs:"[icon-class=fv__icon-toolbar-preferences]",AddFileAttachment:"[icon-class=fv__icon-toolbar-doc-attachment]",ExtractPages:"[icon-class=fv__icon-toolbar-extract-pages]",ReplacePages:"[icon-class=fv__icon-toolbar-replace-pages]",DeletePages:"[icon-class=fv__icon-toolbar-delete-pages]",CropPages:"[icon-class=fv__icon-toolbar-crop-pages]",RotatePages:"[icon-class=fv__icon-toolbar-rotate-multiple]","Annots:Tool:InkMenuItem":"[icon-class=fv__icon-toolbar-pencil]",SaveAs:"[icon-class=fv__icon-toolbar-download]",FullScreen:"[icon-class=fv__icon-float-bar-full-screen]"},jI={ShowHideBookmarks:1,ShowHideThumbnailss:2,ShowHideAnnotManager:3,ShowHideOptCont:4,ShowHideFileAttachment:5},BI={GoToPage:".fv__ui-grouplist-item [name=gotopage-input]",ZoomViewTo:'[name="editable-zoom-dropdown"] .fv__ui-dropdown-editor'},VI={Find:function(){var e=O()("[name=fv--search-choose-type-advanced]"),t=O()("[name=fv--search-bar-type-list-button]");if(e.length)e[0].click();else{var n=document.createElement("style");n.innerHTML='[component-name="fv--search-choose-search-type"] { opacity: 0; }',document.head.appendChild(n),t.length&&t[0].click(),setTimeout(function(){document.head.removeChild(n),(e=O()("[name=fv--search-choose-type-advanced]")).length&&e[0].click()},0)}},Print:function(){var e=this,t=setInterval(function(){if(O()(".custom-bar-box .W_PRINT").length){clearInterval(t);var n=e.viewerUI.rootComponent.getComponentByName("print-button");n&&n.controller.handle()}},100)}};function HI(e){return(0,x._)(function(e){var t,n,i,r,o,a;return(0,N.Jh)(this,function(s){return t=e.pdfViewer,e.doc,n=e.actionData,i=n.data,(null===(r=t.customs)||void 0===r?void 0:r.namedActionCallback)?(a=null===(o=t.customs)||void 0===o?void 0:o.namedActionCallback,Promise.resolve(a(i.name)).then(function(e){!1!==e&&function(e,t){if(OI[e]){var n=O()(OI[e]);if(n.hasClass("active")||n.hasClass("disabled"))return;var i=n[0];setTimeout(function(){i&&i.click()},200)}if(BI[e]&&O()(BI[e]).each(function(){O()(this).hasClass("disabled")||O()(this)[0].focus()}),jI[e]){var r=O()(".fv__ui-sidebar-nav a").eq(jI[e]-1);if(r.hasClass("active"))return;var o=r[0];o&&o.click()}VI[e]&&(0,T._)(VI[e],Function)&&VI[e].apply(t,[])}(i.name,t)}),[2]):[2]})}).apply(this,arguments)}var UI=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"doc",void 0),(0,U._)(this,"pdfViewer",void 0),this.doc=t,this.pdfViewer=n}return(0,D._)(e,[{key:"execute",value:function(e){return(0,x._)(function(){var t,n,i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return t=this,i=(n=this).pdfViewer,r=n.doc,o=i.customs.actionExecutor,[4,Promise.all(e.actions.map(function(n){return(0,x._)(function(){var t,i,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return t=Object.freeze({pdfViewer:this.pdfViewer,doc:r,actionData:n,trigger:e.trigger,ownerQuery:e.query}),n.type===Ge.ActionType.javaScript?[2,e.executeJavaScript(n.data)]:"function"!=typeof o?[3,2]:[4,o(t)];case 1:if(s.sent())return[2];s.label=2;case 2:return(i=this.pdfViewer.getActionCallbackManager())&&(a=i.getCallback(n.type))?[2,a(t)]:(function(e){switch(e.actionData.type){case Ge.ActionType.goto:return function(e){return(0,x._)(function(e){var t,n,i,r;return(0,N.Jh)(this,function(o){return t=e.pdfViewer,e.doc,n=e.actionData,i=n.data,r=i.destination,[2,t.setDestination(r)]})}).apply(this,arguments)}(e);case Ge.ActionType.uri:return function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){return t=e.pdfViewer,n=e.actionData.data,i=n.uri,/^file:\//i.test(i)?[2]:(r=/^mailto:/i.test(i),o=i.lastIndexOf("@"),a=i,-1==o||r||(a=i.substr(o+1),-1!=(s=i.indexOf("//"))&&(a=i.substr(0,s+2)+a)),A=t.i18n.t("viewer_:pdfjs.launchURLHint"),[2,t.viewerUI.confirm(A+"\n"+Lf.toASCII(a)).then(function(){return i.startsWith("http://")||i.startsWith("https://")?window.open(i):window.open("http://".concat(i)),!0},function(){return!1})])})}).apply(this,arguments)}(e);case Ge.ActionType.launch:return function(e){return(0,x._)(function(e){var t,n,i;return(0,N.Jh)(this,function(r){return t=e.pdfViewer,n=t.i18n.t("ui_:dialog.actionDialog.selectAction.file"),i=t.i18n.t("alert.browserRestriction-actionTriggered-websdk"),t.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"}),[2]})}).apply(this,arguments)}(e);case Ge.ActionType.hide:return function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l,d,h,f,p,g;return(0,N.Jh)(this,function(v){switch(v.label){case 0:t=e.doc,n=e.actionData.data,r=(i=n).fieldNames,o=!0,a=!1,s=void 0,v.label=1;case 1:v.trys.push([1,12,13,14]),A=r[Symbol.iterator](),v.label=2;case 2:return(o=(c=A.next()).done)?[3,11]:(u=c.value,[4,t.form.getField(u)]);case 3:return(l=v.sent())?[4,l.getWidgetsCount()]:[3,10];case 4:d=v.sent(),h=0,v.label=5;case 5:return h<d?[4,l.getWidget(h)]:[3,10];case 6:return(f=v.sent())?[4,f.getFlags()]:[3,9];case 7:return p=v.sent(),i.hideState?p|=en.hidden:p&=~en.hidden,[4,f.setFlags(p,!1)];case 8:v.sent(),v.label=9;case 9:return h++,[3,5];case 10:return o=!0,[3,2];case 11:return[3,14];case 12:return g=v.sent(),a=!0,s=g,[3,14];case 13:try{o||null==A.return||A.return()}finally{if(a)throw s}return[7];case 14:return[2]}})}).apply(this,arguments)}(e);case Ge.ActionType.importData:return function(e){var t=e.pdfViewer,n=t.i18n.t("ui_:dialog.actionDialog.selectAction.import"),i=t.i18n.t("alert.browserRestriction-actionTriggered-websdk");return t.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"})}(e);case Ge.ActionType.resetForm:return function(e){return(0,x._)(function(e){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return t=e.doc,n=e.actionData.data,r="number"==typeof(i=n).flags&&!!(i.flags&fn.FlagExclude),[4,t.getPDFForm().resetForm(i.fieldNames,r)];case 1:return o.sent(),[2]}})}).apply(this,arguments)}(e);case Ge.ActionType.submitForm:return function(e){var t=e.ownerQuery,n=e.trigger,i=e.pdfViewer,r=e.doc,o=e.actionData.data,a=o.address;if(a&&/^(mailto:)|(ftp:)|(file:)/.test(a)){var s=i.i18n.t("ui_:dialog.actionDialog.selectAction.submit"),A=i.i18n.t("alert.browserRestriction-actionTriggered-websdk");return i.viewerUI.alert({message:'"'.concat(s,'" ').concat(A),level:"warning"})}if(t)return r.getPDFForm().submitForm({owner:t,trigger:n,actionData:o});throw new Error("Could not execute submit form action: missing ownerQuery option!")}(e);case Ge.ActionType.gotoR:return function(e){var t=e.pdfViewer,n=(e.doc,e.actionData.data.fileSpec.fileName||""),i=t.i18n.t("viewer_:dialog.action.remoteGoto.message");t.viewerUI.alert({message:i+"("+n+")",level:"warning"})}(e);case Ge.ActionType.thread:return function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return t=e.pdfViewer,n=e.doc,i=e.actionData.data,(r=i).isDestThreadInCurrentDoc?(o=r.destThreadIndex,[4,n.getPdfArticle().getArticleList()]):[2];case 1:return a=c.sent(),(s=a[o])&&(A=t.getPDFDocRender())?(A.startReadMode(s),[2]):[2]}})}).apply(this,arguments)}(e);case Ge.ActionType.named:return HI(e);case Ge.ActionType.gotoE:return function(e){var t=e.pdfViewer,n=(e.doc,e.actionData.data);n.destination&&!n.rootFile&&t.setDestination(n.destination)}(e);case Ge.ActionType.setOCGState:NI(e)}}(t),[2])}})}).call(t)}))];case 1:return a.sent(),[2]}})}).call(this)}}]),e}();var zI=32,WI=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"allInjected",value:function(){this.init()}},{key:"launchURL",value:function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return[4,this.init()];case 1:return o.sent(),t=this.viewer.i18n.t("viewer_:pdfjs.launchURLHint"),[3,3];case 2:return n=o.sent(),[3,5];case 3:return[4,this.javascriptUI.confirm({title:"",question:"".concat(t,"\n").concat(e.url)})];case 4:n=o.sent(),o.label=5;case 5:return n===Ge.JSConfirmButtonID.OK&&(i=window.open("about:blank"))&&(r=e.url,/^https?:\/\//i.test(r)||(r="http://"+r),i.location.href=r),[2,n===Ge.JSConfirmButtonID.OK]}})}).call(this)}},{key:"alert",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2,this.javascriptUI.alert(e)]}})}).call(this)}},{key:"prompt",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2,this.javascriptUI.prompt(e)]}})}).call(this)}},{key:"print",value:function(e){var t=e.startPageIndex,n=e.endPageIndex,i=e.flags&zI;return this.viewer.print({isPortfolio:!1,pages:Array.from({length:n-t},function(e,n){return t+n}),printType:["page"].concat(i?["annot"]:[]),progress:void 0,printer:void 0,rangeType:"allPDF"}).then(function(){return!0})}},{key:"init",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.javascriptUI?[3,2]:(e=this,[4,this.viewerUI.getJSDialogUI()]);case 1:e.javascriptUI=t.sent(),t.label=2;case 2:return[2]}})}).call(this)}},{key:"printLineConsole",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return[2]})})()}}],[{key:"inject",value:function(){return{viewerUI:"ViewerUI",viewer:"PDFViewer"}}}]),e}(),YI=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"allInjected",value:function(){}},{key:"prompt",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2,this.javascriptUI.prompt(e)]}})}).call(this)}},{key:"msgBox",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2,this.javascriptUI.msgBox(e)]}})}).call(this)}},{key:"init",value:function(){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.javascriptUI?[3,2]:(e=this,[4,this.viewer.getViewerUI().getJSDialogUI()]);case 1:e.javascriptUI=t.sent(),t.label=2;case 2:return[2]}})}).call(this)}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}(),GI=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"dialog",void 0),(0,U._)(e,"listeners",new Set),e.addDestroyHook(function(){e.listeners.clear()}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"setEndValue",value:function(e){var t=e.reason;this.listeners.forEach(function(e){e(t)}),this.listeners.clear()}},{key:"addCloseDialogEventListener",value:function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}}},{key:"setCurrentDialog",value:function(e){this.dialog=e}},{key:"getElementsValue",value:function(){return(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,null===(e=this.dialog)||void 0===e?void 0:e.getElementsValues()];case 1:return n=null!==(t=i.sent())&&void 0!==t?t:Promise.resolve({}),[2,JSON.stringify(n)]}})}).call(this)}},{key:"setElementsEnabled",value:function(e){var t;null===(t=this.dialog)||void 0===t||t.setElementsEnabled(e)}}],[{key:"inject",value:function(){return{syncGeneratorInvoker:z.SyncGeneratorInvoker}}}]),t}(z.Disposable),$I=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=e.customs.syncMsg,n=e.ioc;t.ActionCallback||(t.ActionCallback=n.getInstanceByClass(WI)),t.XFAAppProvider||(t.XFAAppProvider=n.getInstanceByClass(YI)),t.DialogEventCallback||(t.DialogEventCallback=n.getInstanceByClass(GI)),t.SyncGeneratorInvoker||(t.SyncGeneratorInvoker=n.getInstanceByClass(z.SyncGeneratorInvoker))}}]),t}(z.Disposable),JI=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){var t=this;this.addDestroyHook(e.addEventListener("languageChangeFinished",function(){t.setJSMessages(e)})),e.i18n.on("loaded",function(){t.setJSMessages(e)})}},{key:"setJSMessages",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return t=e.i18n.t("viewer_:JSMessages",{returnObjects:!0}),[4,e.getWebPDFJR()];case 1:return n.sent().api.setJSMessages({path:"jr"},t),[2]}})})()}}]),t}(z.Disposable),qI=(n(7057),function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"build",value:function(e){var t,n=this,i=KI({domName:"div",classNames:["fv__js-exec-dialog-element","fv__js-exec-dialog-element-dialog","fv__js-exec-dialog-element-alignment-children-"+(e.align_children||"align_left")],attrs:{"aria-label":e.name}}),r=e.element_array.map(function(e){return n.buildElement(e)});return(t=i).append.apply(t,(0,R._)(r)),i}},{key:"buildElement",value:function(e){var t,n,i=this;switch(e.type){case Ge.DialogElementType.VIEW:n=this.buildLinkView(e);break;case Ge.DialogElementType.GAP:n=this.buildLinkGap(e);break;case Ge.DialogElementType.LINK_TEXT:n=this.buildLinkText(e);break;case Ge.DialogElementType.POPUP:n=this.buildLinkPopup(e);break;case Ge.DialogElementType.LINK_GROUP:n=this.buildLinkGroup(e);break;case Ge.DialogElementType.BUTTON:n=this.buildButton(e);break;case Ge.DialogElementType.CHECK_BOX:n=this.buildCheckBox(e);break;case Ge.DialogElementType.RADIO:n=this.buildRadio(e);break;case Ge.DialogElementType.LIST_BOX:n=this.buildListBox(e);break;case Ge.DialogElementType.HIER_LIST_BOX:n=this.buildHierListBox(e);break;case Ge.DialogElementType.STATIC_TEXT:n=this.buildStaticText(e);break;case Ge.DialogElementType.EDIT_TEXT:n=this.buildEditText(e);break;case Ge.DialogElementType.OK:n=this.buildOKButton(e);break;case Ge.DialogElementType.OK_CANCEL:n=this.buildOKCancelButton(e);break;case Ge.DialogElementType.OK_CANCEL_OTHER:n=this.buildOKCancelOtherButton(e);break;case Ge.DialogElementType.CLUSTER:n=this.buildCluster(e);break;case Ge.DialogElementType.IMAGE:n=this.buildImage(e);break;case Ge.DialogElementType.PROGRESS_BAR:n=this.buildProgressBar(e)}if(!n)return document.createElement("div");var r=n.root,o=n.wrapper,a=e.element_array.map(function(e){return i.buildElement(e)});return(t=o).append.apply(t,(0,R._)(a)),r}},{key:"buildButton",value:function(e){var t=this.buildElementDOM({domName:"button",element:e,props:{innerText:e.name}});return{root:t,wrapper:t}}},{key:"buildCheckBox",value:function(e){var t=this.buildElementDOM({domName:"label",element:e}),n=KI({domName:"input",attrs:{type:"checkbox","data-item-id":e.item_id}}),i=KI({domName:"span",props:{innerText:e.name}});return t.append(n,i),{root:t,wrapper:t}}},{key:"buildRadio",value:function(e){var t=(e.additional_attributes||{}).groupId,n=this.buildElementDOM({domName:"label",element:e}),i=KI({domName:"input",attrs:{type:"radio",name:t,"data-item-id":e.item_id}}),r=KI({domName:"span",props:{innerText:e.name}});return n.append(i,r),{root:n,wrapper:n}}},{key:"buildListBox",value:function(e){var t=this.buildElementDOM({domName:"select",element:e,attrs:{multiple:""}});return{root:t,wrapper:t}}},{key:"buildHierListBox",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildStaticText",value:function(e){var t=(e.additional_attributes||{}).multiline,n=this.buildElementDOM({domName:"div",element:e,classNames:[t?"fv__js-exec-dialog-element-static_text-multiline":"fv__js-exec-dialog-element-static_text-oneline"],props:{innerText:t?e.name:e.name.replace(/[\r\n]/g,"")}});return{root:n,wrapper:n}}},{key:"buildEditText",value:function(e){var t=e.additional_attributes||{},n=t.multiline,i=t.text,r=t.isPassword,o=t.isReadonly,a=this.buildElementDOM({domName:n?o?"div":"textarea":"input",element:e,classNames:[o?"fv__js-exec-dialog-element-edit_text-readonly":"",n?"fv__js-exec-dialog-element-edit_text-multiline":"fv__js-exec-dialog-element-edit_text-oneline"],attrs:{type:r?"password":"text",value:i},props:{innerText:n?i:null,readOnly:o}});if(!n){var s=document.createElement("span");s.classList.add("fv__js-exec-dialog-element-edit_text-measure"),s.innerText=null==i?void 0:i.replace(/[\r\n]/g,"");var A=document.createDocumentFragment();return A.append(a,s),{root:A,wrapper:a}}return{root:a,wrapper:a}}},{key:"buildOKButton",value:function(e){var t=this.buildElementDOM({domName:"button",element:e,props:{innerText:"OK"},attrs:{"data-button-type":"ok"}});return{root:t,wrapper:t}}},{key:"buildOKCancelButton",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return t.append(KI({domName:"button",props:{innerText:"Cancel"},attrs:{"data-button-type":"cancel"}}),KI({domName:"button",props:{innerText:"OK"},attrs:{"data-button-type":"ok"}})),{root:t,wrapper:t}}},{key:"buildOKCancelOtherButton",value:function(e){var t=this.buildElementDOM({domName:"div",element:e}),n=e.additional_attributes,i=n.okName,r=(n.okWidth,n.cancelName),o=(n.cancelWidth,n.otherName);n.otherWidth;return t.append(KI({domName:"button",props:{innerText:null!=o?o:"OK"},attrs:{"data-button-type":"other"}}),KI({domName:"button",props:{innerText:null!=r?r:"Cancel"},attrs:{"data-button-type":"cancel"}}),KI({domName:"button",props:{innerText:null!=i?i:"OK"},attrs:{"data-button-type":"ok"}})),{root:t,wrapper:t}}},{key:"buildCluster",value:function(e){var t=this.buildElementDOM({domName:"fieldset",element:e});return t.append(KI({domName:"legend",props:{innerText:e.name}})),{root:t,wrapper:t}}},{key:"buildImage",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildProgressBar",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkText",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkGroup",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkPopup",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkGap",value:function(e){var t=this.buildElementDOM({domName:"span",element:e});return{root:t,wrapper:t}}},{key:"buildLinkView",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildElementDOM",value:function(e){var t,n=e.domName,i=e.element,r=e.classNames,o=e.attrs,a=e.props;return KI({domName:n,classNames:(0,R._)(this.buildElementClassNames(i)).concat((0,R._)(null!=r?r:[])),attrs:(0,k._)((0,w._)({"data-item-id":i.item_id},o),{style:this.buildElementStyleVars(i)+" "+(null!==(t=null==o?void 0:o.style)&&void 0!==t?t:"")}),props:(0,w._)({},a)})}},{key:"buildElementClassNames",value:function(e){var t=["fv__js-exec-dialog-element","fv__js-exec-dialog-element-"+e.type];return e.align_children&&t.push("fv__js-exec-dialog-element-alignment-children-"+e.align_children),e.alignment&&t.push("fv__js-exec-dialog-element-alignment-self-"+e.alignment),e.bold&&t.push("fv__js-exec-dialog-element-bold"),e.italic&&t.push("fv__js-exec-dialog-element-italic"),e.font&&t.push("fv__js-exec-dialog-element-font-"+e.font),t}},{key:"buildElementStyleVars",value:function(e){var t={"--fv-js-exec-dialog-element-char-height":e.char_height||"auto","--fv-js-exec-dialog-element-char-width":e.char_width||"auto","--fv-js-exec-dialog-element-width":e.width||"auto","--fv-js-exec-dialog-element-height":e.height||"auto"};return Object.keys(t).map(function(e){return"".concat(e,": ").concat("number"==typeof t[e]?t[e]+"px":t[e])}).join(";")}}]),e}());function KI(e){var t=e.domName,n=e.classNames,i=e.attrs,r=void 0===i?{}:i,o=e.props,a=void 0===o?{}:o,s=document.createElement(t);for(var A in null==n||n.filter(Boolean).forEach(function(e){s.classList.add(e)}),r)s.setAttribute(A,r[A]+"");for(var c in a)s[c]=a[c];return s}var ZI,XI=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"showDialog",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return t=new qI,[4,this.viewer.viewerUI.getJSDynamicDialogUI()];case 1:return i=A.sent(),r=this.viewer.ioc.getInstanceByClass(GI),o=new z.Defer,a=(0,k._)((0,w._)({get dialogContent(){return n||(n=t.build(e.config)),n}},e),{addCloseDialogEventListener:function(e){return r.addCloseDialogEventListener(e)}}),this.registerEvents(a),null==i||i.open(a),s=r.addCloseDialogEventListener(function(e){o.resolve("ok"===e),s()}),i&&r.setCurrentDialog(i),[2,o.promise]}})}).call(this)}},{key:"registerEvents",value:function(e){var t=e.dialogContent;t.addEventListener("click",function(t){if((0,T._)(t.target,HTMLElement)&&"BUTTON"===t.target.nodeName){switch(t.target.dataset.buttonType){case"ok":return void e.onClickOKButton();case"cancel":return void e.onClickCancelButton();case"other":return void e.onClickOtherButton()}var n=t.target.dataset.itemId;n&&e.callFunction(n)}},{capture:!0}),t.addEventListener("change",function(t){var n=t.target;if((0,T._)(n,HTMLInputElement)){var i=n.dataset.itemId;i&&e.callFunction(i)}},{capture:!0})}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}(),QI=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"gotoPage",value:function(e,t){return"number"==typeof t?this.pdfViewer.goToPage(t):this.pdfViewer.setDestination(t)}},{key:"scroll",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l,d,h;return(0,N.Jh)(this,function(f){switch(f.label){case 0:return t=this.pdfViewer.getPDFViewerRender(),n=null==t?void 0:t.pdfDocRender,t&&n?(i=n.getCurrentPageIndex(),r=n.getPDFPageRender(i),o=t.getViewBoxRect(),a=o.right-o.left,s=o.bottom-o.top,[4,r.transformPoint({point:e,srcType:Xd.pdf,destType:Xd.page})]):[2];case 1:return A=f.sent(),c=A.x-a/2,u=A.y-s/2,[4,r.transformPoint({point:{x:c,y:u},srcType:Xd.page,destType:Xd.pdf})];case 2:return l=f.sent(),d=l.x,h=l.y,this.pdfViewer.goToPage(i,h,d),[2]}})}).call(this)}},{key:"popupMenu",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.pdfViewer.getViewerUI().getJSPopupMenuUI()];case 1:return(t=r.sent())?(n=z.globalPointerStatus.getPoint(),[2,null!==(i=null==t?void 0:t.openPopupMenu(n,e))&&void 0!==i?i:Promise.resolve()]):[2]}})}).call(this)}},{key:"browseFile",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return[2,(0,z.openFilePicker)({accept:e,timeoutMs:12e4})]})})()}},{key:"saveAs",value:function(e,t,n){return(0,x._)(function(){var i,r;return(0,N.Jh)(this,function(o){return i=this.pdfViewer.currentPDFDoc,r=null==i?void 0:i.getFileName(),r=this.getFileName(r||"download.pdf",t),Lh(e,r,n),[2]})}).call(this)}},{key:"getFileName",value:function(e,t){var n=e.lastIndexOf(".");return-1!==n&&(e=e.substring(0,n)),e+=t}},{key:"documentWillCloseByJS",value:function(e,t,n,i,r){return(0,x._)(function(){return(0,N.Jh)(this,function(e){return this.pdfViewer.close(),[2]})}).call(this)}},{key:"invalidateRect",value:function(e,t,n){return(0,x._)(function(){var i,r,o;return(0,N.Jh)(this,function(a){if(i=this.pdfViewer.getPDFPageRender(e)){if(!(r=i.annotsRender)||!i.page)return[2];(o=i.page.getDeviceRect(t,i.scale*z.dpr,i.rotate)).hasHighlight=n,null==r||r.updateRender(o,!0)}return[2]})}).call(this)}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),e}(),eT=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"print",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){switch(t.label){case 0:return e.showUI?[4,this.pdfViewer.getViewerUI().getJSDialogUI()]:[3,3];case 1:return[4,t.sent().printerUI(e)];case 2:return[2,t.sent()];case 3:return[4,this.pdfViewer.printEx({type:e.type,pageRange:e.pages,reverse:e.reverse,progress:!0})];case 4:t.sent(),t.label=5;case 5:return[2,!0]}})}).call(this)}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),e}(),tT=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return[4,e.getWebPDFJR()];case 1:return t=i.sent(),n=e.getIoC(),t.defineRemoteAPI(Ge.DIALOG_CALLBACK_CHANNEL_ID,n.getInstanceByClass(XI)),t.defineRemoteAPI(Ge.PRINT_EVENT_CALLBACK_API_CHANNEL_ID,n.getInstanceByClass(eT)),t.setFXJSEActionCallback(n.getInstanceByClass(QI)),[2]}})})()}}]),t}(z.Disposable),nT=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t,arguments),(0,U._)(e,"customSpellChecker",void 0),(0,U._)(e,"toggleCustomSpellChecker",void 0),e}return(0,I._)(t,e),(0,D._)(t,[{key:"allInjected",value:function(){this.apiPromise=this.pdfViewer.getWebPDFJR().then(function(e){return e.obtainRemoteAPI(z.SPELL_CHECKER_API_CHANNEL_ID)});var e=this;this.pdfViewer.getWebPDFJR().then(function(t){t.defineRemoteAPI(z.CUSTOM_SPELL_CHECKER_REMOTE_API,{check:function(t){return!!e.customSpellChecker&&e.customSpellChecker.check(t)},getSuggestedWords:function(t){return e.customSpellChecker?e.customSpellChecker.getSuggestedWords(t):[]}})})}},{key:"setSpellChecker",value:function(e){return this.customSpellChecker=e,this.apiPromise.then(function(t){return t.toggleCustomSpellChecker(!!e)})}},{key:"appendDictionaries",value:function(e){return this.apiPromise.then(function(t){return t.appendDictionaries(e)})}},{key:"replaceDictionary",value:function(e,t){return this.apiPromise.then(function(n){return n.replaceDictionary(e,t)})}},{key:"updateLanguagePatterns",value:function(e){return this.apiPromise.then(function(t){return t.updateLanguagePatterns(e)})}},{key:"check",value:function(e){return this.apiPromise.then(function(t){return t.check(e)})}},{key:"getSuggestedWords",value:function(e){return this.apiPromise.then(function(t){return t.getSuggestedWords(e)})}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),t}(z.Disposable),iT=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"execute",value:function(e){return(0,x._)(function(){var t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,e.afterInitialized()];case 1:return r.sent(),[4,e.getWebPDFJR()];case 2:return t=r.sent(),(n=t.uiStateManagerAPI).setLibPath(e.libPath),i=function(e){n.setLanguage(e)},e.addEventListener(ae.changeLanguageSuccess,i),e.addEventListener(ae.renderPageSuccess,function(e){var t=e.docRender;e.index===t.getCurrentPageIndex()&&(requestIdleCallback||setTimeout)(function(){return(0,x._)(function(){var e,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:return(e=t.viewerRender).isDestroyed||t.isDestroyed?[2]:[4,e.getCurrentDestination()];case 1:return i=r.sent(),n.setPageScale(i),[2]}})})()})}),e.addEventListener(ae.changeViewModeSuccess,function(e){var t=e.getName();n.setLayoutMode(t)}),e.addEventListener(ae.pageNumberChange,function(e){n.setCurrentPage(e-1)}),e.element.addEventListener("pointermove",function(t){if((0,T._)(t.target,Element)){var i=t.target.closest(".fv__pdf-page-layout");if(i){var r=+(i.getAttribute("data-index")||"")||-1;if(!(r<0)){var o=e.getPDFPageRender(r);o&&o.transformPoint({srcType:Xd.viewport,destType:Xd.pdf,point:{x:t.clientX,y:t.clientY}}).then(function(e){n.setMousePosition(e.x,e.y)})}}}}),e.addEventListener(ae.afterDocumentRotation,function(e,t){n.setViewerRotation(e)}),e.addEventListener("visiblePagesChange",function(e,t){n.setVisiblePages(e.doc.getId(),t)}),i(e.getCurrentLanguage()),[2]}})})()}}]),t}(z.Disposable),rT=function(){},oT=function(){return-1},aT="JR",sT="canvas",AT={annotRenderingMode:{square:sT,highlight:sT,caret:sT,squiggly:sT,underline:sT,strikeout:sT,choiceButton:sT,pushButton:sT,radioButton:sT,textField:sT,comboBox:sT,note:sT,fileAttachment:sT,sound:sT,freetext:sT,redact:sT},highPerformance:!1,enableSignature:!1},cT="undefined",uT={destroyCurrentDoc:!0},lT="granted",dT="denied",hT="prompt",fT=function(e){function t(){var e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(i.preloadJR,i.preloadSR,i.libPath),o=i.jr,a=i.sr,s=i.i18n,A=i.i18nOptions,c=i.eventEmitter,u=void 0===c?new(_o()):c,l=i.minScale,d=void 0===l?.01:l,h=i.maxScale,f=void 0===h?10:h,p=i.defaultScale,g=void 0===p?"fitWidth":p,v=i.scaleFrequency,m=void 0===v?0:v,y=i.tileSize,_=void 0===y?1e6:y,b=i.tileCache,w=void 0===b?2:b,k=i.getTileSize,x=void 0===k?null:k,D=i.StateHandlers,E=void 0===D?[]:D,S=i.customs,I=void 0===S?{}:S,T=(i.keymap,i.Viewmodes),M=void 0===T?[]:T,N=i.enableJS,L=void 0===N||N,O=i.enableSafeMode,j=i.stateHandlerConfig,B=i.watermarkConfig,V=i.actionOptions,H=void 0===V?{}:V,U=i.defaultViewMode,W=void 0===U?"continuous-view-mode":U,Y=i.snapshotServer,G=void 0===Y?new Qw({uploadSnapshotAPIPath:"snapshot/upload"}):Y,$=i.collaboration,J=void 0===$?{enable:!1,annotationFormat:"fdf",communicator:null,handlerClasses:[],continueToConnect:function(e,t){return e<15}}:$,q=i.highPerformance,Z=void 0!==q&&q,X=i.annotRenderingMode,Q=(i.defaultKeyboardEventBinder,i.defaultAnnotConfig),ee=i.enableSignature,te=i.enableShortcutKey,ne=void 0===te||te,ie=i.enable3DInteraction,re=void 0===ie||ie,oe=i.enableLoad3DModule,se=void 0===oe||oe,Ae=i.engineMode,ce=void 0===Ae?aT:Ae,ue=i.sharedWorker,le=void 0!==ue&&ue,de=i.showCommentList,he=void 0!==de&&de,fe=i.showAnnotTooltip,pe=void 0!==fe&&fe,ge=i.showFormFieldTooltip,ve=void 0!==ge&&ge,me=i.showMeasurementInfoPanel,ye=void 0===me||me,_e=i.viewerUI,be=i.applicationContext,we=i.instanceId,ke=i.messageSyncServiceWorker;(0,C._)(this,t),(n=(0,P._)(this,t)).enableOpenAction=!0,n.enablePageAction=!0,n.ioc=be||new z.ApplicationContextImpl,n.keyboard=new z.KeyboardImpl,n.$constructorOptions=arguments[0],n.tileCache=Number(w)>0?!0===w?Number.MAX_VALUE:Number(w):0;var xe=n.ioc.getInstanceByClass(HS);if(!("instanceId"in arguments[0])&&xe.hasPDFViewerInstance()&&(we=xe.getNextInstanceId()),xe.isUsedInstanceId(we))throw new Error("There are already instances of PDFViewer that use this instanceId: ".concat(we,", please change it to other value."));if(n.instanceId=we,n.localStorage=new cS(we),n.isMultipleSelectionAvilable=!0,n.addDestroyHook(xe.addPDFViewerInstance(n)),r)if(Eg(r));else{r=kg(aS()).join(r).absolute(!1)}else r=kg(aS()).absoluteDir();"/"!==r[r.length-1]&&(r+="/"),n.libPath=r;var Pe="jr-engine/gsdk";(o=o||{}).licenseKey=o.licenseKey||"",o.licenseSN=o.licenseSN||"",o.l=o.l||"";var Ce=o.workerPath||"";Ce?Eg(Ce)||(Ce=Cg(r,Ce)):Ce=r;var De=o.enginePath;o.workerPath=Ce,o.enginePath=De,o.enginePath=o.enginePath||Pe,De?Eg(De)||(De=Cg(r,De)):De=r+Pe,o.enginePath=De;var Ee=o.fontPath;Ee?Eg(Ee)||(Ee=Cg(r,Ee)):Ee=Cg(r,"../external/brotli"),o.brotli=Object.assign({core:!0},o.brotli),o.fontPath=Ee,o.fontInfoPath&&!Eg(o.fontInfoPath)&&(o.fontInfoPath=Cg(r,o.fontInfoPath)),ke=ke||{};var Se=location.href.match(/^\w+\:\/\//)?location:window.parent.location,Ie=new URL(ke.syncBaseUrl||"/__foxitwebsdk-syncmsg__",Se).href;ke.syncBaseUrl=Ie,ke.url=ke.url||Dg(Ce,"MessageWorker.js")+"?b="+Ie+"&h=0.7987237673434737",o.syncBaseUrl=Ie,n.snapshotServer=G;var Te=navigator&&/DingTalk/.test(navigator.userAgent);n.localFontsPermission=Te?"denied":"prompt";var Me=(a=a||{}).workerPath||"";Me=Me?Eg(Me)?Ce:Cg(r,Me):r,a.workerPath=Me;var Re=(A=(0,z.extendOptions)({initOption:{ns:"viewer_"}},A)).path;Re?Eg(Re)||(Re=Cg(r,Re)):Re=r+"locales",A.absolutePath=A.absolutePath||Re,n.i18n=s||_g(A),function(e){if(!e.$$overrided){e.$$overrided=!0;var t=e.t;e.t=function(n,i){if(!n)return n;switch(void 0===n?"undefined":(0,F._)(n)){case"number":case"symbol":case"bigint":case"boolean":case"function":return n;case"string":break;default:if(!Array.isArray(n))return n}return e.exists(n,i)?t.call(e,n,i):n}}}(n.i18n),ce=ce.toUpperCase(),-1===[aT,"SR","MIX"].indexOf(ce)&&(ce=aT);var Fe={},Ne=!0;"undefined"==typeof WebAssembly||(0,F._)(WebAssembly);switch(n.customs=Object.assign({closeDocBefore:rT,closeDocAfter:rT,getDocPermissions:oT,beforeRenderPDFDoc:rT,executeNavigationAction:rT,getAnnotComponentConfig:function(){return{}},storageDriver:void 0,cemicircleCloudy:!1,syncTextScaling:!1,getLocalFontMapFromCache:vI,setLocalFontMapToCache:mI,confirmLocalFont:bI,actionExecutor:void 0,syncMsg:{},spellChecker:{dictionaries:{en_US:Dg(n.libPath,"./spell-checker/dictionaries/en_US/")}}},I),ce){case"SR":X||(Fe=AT.annotRenderingMode),(void 0===Z?"undefined":(0,F._)(Z))!==cT&&Z,Ne=(void 0===ee?"undefined":(0,F._)(ee))!==cT&&ee,document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR();break;case"MIX":document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR(),n.mixPdfJREngine=n.getWebPDFJR();break;default:n.pdfEngine=n.getWebPDFJR()}var Le=n;n.actionOptions=Object.assign({remoteGotoActionInit:function(){var e=window.opener;if(e){var t=function(e){if(e.source!==window){var t=e.data,n=t.foxitSdkActionType,i=t.foxitSdkActionUrl,r=t.foxitSdkActionFileName,o=t.top,a=(t.bottom,t.left),s=(t.right,t.pageIndex),A=t.zoomFactor,c=t.zoomMode;"TypeGoToR"===n&&Le.openPDFByHttpRangeRequest({range:{url:i}},{fileName:r}).then(function(){u.once(ae.renderPageSuccess,function(){switch(c){case"ZoomXYZ":var e=A;0===e?Le.goToPage(s,o,a,0!==o):Le.zoomTo(e,!1).then(function(){Le.goToPage(s,o,a,0!==o)});break;case"ZoomFitHorz":Le.zoomTo("fitWidth",!1).then(function(){Le.goToPage(s,o,a,0!==o)});break;case"ZoomFitPage":Le.zoomTo("fitHeight",!1).then(function(){Le.goToPage(s,o,a,0!==o)})}})})}};e.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",t,!1),Le.addDestroyHook(function(){window.removeEventListener("message",t,!1)})}}},H),ne?n.keyboard.enable():n.keyboard.disable(),n.keyboardListeners=[];for(var Oe=n.viewModeManager=new Rg(n),je=0,Be=M.length;je<Be;je++)Oe.register(M[je]);n.defaultAnnotConfig=Q||function(){return{}},O=void 0===O||O,n.config={sr:a,jr:o,minScale:d,maxScale:f,defaultScale:g,tileSize:_,getTileSize:x,enableJS:L,enableSafeMode:O,defaultViewMode:W,stateHandlerConfig:j,watermarkConfig:B,scaleFrequency:m,highPerformance:!1,annotRenderingMode:Object.assign({highlight:"canvas",choiceButton:"native",pushButton:"native",textField:"native",comboBox:"native",note:"native",fileAttachment:"native",sound:"native",freetext:"native",square:"canvas"},Fe,X),enableSignature:Ne,sizeCount:1e5,enableShortcutKey:ne,enable3DInteraction:re,enableLoad3DModule:se,engineMode:ce,sharedWorker:le,printSetting:{quality:100,showHeaderFooter:!0},autoCompleteSetting:{level:"off",rememberNumericalData:!0},showCommentList:he,showAnnotTooltip:pe,showFormFieldTooltip:ve,showMeasurementInfoPanel:ye,messageSyncServiceWorker:ke},n.eventEmitter=u,n.store=new z.Store,n.mementoManager=new lk(n);var Ve=n.annotManager=new Rb(n);"SR"===ce&&Ve.setViewerAnnotFlag(function(e){var t=e.getType();return-1===["text","caret","freetext","fileattachment","highlight","ink","line","circle","square","polygon","polyline","squiggly","strikeout","underline","widget","redact","stamp"].indexOf(t)?en.locked|en.readOnly:0}),n.actionManager=new tw(n),n.inkSignManager=new Zw(n),n.viewerUI=_e||new Sx;var He=n.stateHandlerManager=new qw(n);n.viewerUI.prepare(n),n.customRenderManager=new tk(n);var Ue=[dS,fS,pS,vS,mS,yS,_S,wS,kS];(e=E).push.apply(e,(0,R._)(Ue));for(var ze=0,We=E.length;ze<We;ze++)He.register(E[ze]);return n.annotsEventMaps=[],n._annotMouseEventCallback=n._annotMouseEventCallback.bind(n),n._runtimeColor=["RGB",.55,.55,1],n._runtimeColorOpacity=.5,n._runtimeColorRequired=["RGB",.55,.55,1],n._runtimeColorOpacityRequired=1,n._highlightControls=!0,n._highlightControlsUI=!0,n.lifeCycleManager=new Kx,n.lifeCycleManager.registerLifecycle(new iP),n.lifeCycleManager.registerLifecycle(new eP(n)),n.lifeCycleManager.registerLifecycle(new tP(n)),n.lifeCycleManager.registerResourceGenerator(X_.OBJECT_URL,nP),n.activationManager=new K,n.collaborationOptions=J,n._collaborationDefer=(0,z.createDeferred)(),n.initializeDefer=(0,z.createDeferred)(),n.initializers=[new AS,new iS,new rS,new oS,new CS,new GS,new $I,new JI,new tT,new iT],n.initializers.forEach(function(e){e.execute(n)}),n.multimediaPlayers=[dI],n.editPDFAPermission=hT,n}return(0,I._)(t,e),(0,D._)(t,[{key:"resourceGenerator",value:function(e,t){return this.lifeCycleManager.generator(e,t)}},{key:"getDefaultAnnotConfig",value:function(){return(this.webPDFJR||this.webPDFSR).getDefaultAnnotConfig()||rT}},{key:"setDefaultAnnotConfig",value:function(e){(this.webPDFJR||this.webPDFSR).setDefaultAnnotConfig(e)}},{key:"_annotMouseEventCallback",value:function(e){this.annotsEventMaps.map(function(t){t&&t(e)})}},{key:"startListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"stopListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"addListenAnnotMouseEvent",value:function(e){var t=this;return this.annotsEventMaps.push(e),function(){t.offListenAnnotMouseEvent(e)}}},{key:"offListenAnnotMouseEvent",value:function(e){for(var t=this.annotsEventMaps,n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}},{key:"cleanListenAnnotMouseEvent",value:function(){this.annotsEventMaps=[]}},{key:"changeLanguage",value:function(e){var t=this,n=WS(e);return e!==n&&(LOGGER.warn("You have entered an illegal language code: ".concat(e,", which will be automatically converted to a valid language code: ").concat(n)),e=n),new Promise(function(n,i){t.i18n.changeLanguage(e,function(r){if(r)return i(r),void t.eventEmitter.emit("change-language-failed");t.eventEmitter.emit(ae.changeLanguageSuccess,e),n()})})}},{key:"getCurrentLanguage",value:function(){return this.i18n.language?this.i18n.language:this.i18n.options.fallbackLng?this.i18n.options.fallbackLng[0]:WS(navigator.language)}},{key:"takeSnapshot",value:function(e,t,n,i,r){var o=this.getPDFPageRender(e);if(!o)throw new Error("page not found: ".concat(e));return o.getSnapshot(t,n,i,r)}},{key:"uploadImage",value:function(e){var t=this;return this.snapshotServer.uploadImage(e).then(function(e){return t.snapshotServer.render,t.snapshotServer.render(e),Promise.resolve(e)}).catch(function(e){return console.warn(t.i18n.t("viewer_:error.snapshotServer")),Promise.reject(e)})}},{key:"copySnapshot",value:function(e){isSecureContext||console.error("Access clipboard data requires a secure origin, either HTTPS or localhost.");try{return fetch(e).then(function(e){return e.blob()}).then(function(e){return function(){if(z.isFirefox||z.isSafari)return Promise.resolve(!1);if(!navigator.permissions)return Promise.resolve(!1);try{return navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1}).then(function(e){return"granted"===e.state})}catch(e){return Promise.resolve(!1)}}().then(function(t){return t?navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then(function(){return Promise.resolve(!0)},function(){return Promise.resolve(!1)}):Promise.resolve(!1)})})}catch(e){return console.error(e),Promise.resolve(!1)}}},{key:"copyImage",value:function(e){this.copySnapshot(e)}},{key:"getKeyboardEventBinder",value:function(e){var t=this.keyboard.getBinder(e);if(!t)throw new Error("event binder not found error: ".concat(e));return t}},{key:"switchKeyboardEventBinder",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keyboard.activeBinder(e,t)}},{key:"addKeyboardShortcutEventListener",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getDefaultKeyboardEventBinder();return(n=(0,T._)(i,Vx)?i:this.keyboard.getBinder(i))?n.on(e,t):rT}},{key:"getDefaultKeyboardEventBinder",value:function(){return this.keyboard.getDefaultKeyboardEventBinder()}},{key:"getWebPDFJR",value:function(){var e=this;if(this.webPDFJRPromise)return this.webPDFJRPromise;var t=(0,z.createDeferred)();return Promise.resolve().then(n.bind(n,9867)).then(function(n){var i=new(n.default(nE))(e.config.jr,e.eventEmitter,{storage:e.getDeprecatedStorage(),configuration:{annotation:{cemicircleCloudy:e.customs.cemicircleCloudy,syncTextScaling:e.customs.syncTextScaling},spellChecker:e.customs.spellChecker,serviceWorkerAvailable:!!navigator.serviceWorker,docPermissions:e.customs.getDocPermissions()}},e.ioc);e.webPDFJR=i;var r="viewer_:error.initEngine.c2";return i.setDefaultAnnotConfig(e.defaultAnnotConfig),i.init().then(function(n){var i=n.other;if(i){var o=location.href,a=!0;if(i.h){a=!1;for(var s=i.h,A=s.length;A--;){var c=s[A];if(new RegExp(c).test(o)){a=!0;break}}}if(!a)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var u=Date.now(),l=i.b;if(l&&!(a=u>l))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var d=i.e;if(d&&!(a=u<d))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));if(!a)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"))}return n}).then(function(n){if(n){var r=Promise.resolve(!1);return n.clientId&&(r=nI(e,e.config.messageSyncServiceWorker,n.clientId,e.customs.syncMsg)),r.then(function(e){return i.api.workerPromise.emit("serviceWorkerReady",e)}).then(function(){return n}).then(function(n){var r={"viewer  component":{version:Ix},"core component":{version:n.version},JR:{version:!0}};return console.table&&console.table(r),e.eventEmitter.emit(ae.jrLicenseSuccess),e.getModuleLicenseRight(),t.resolve(i)})}},function(n){e.isDestroyed||e.viewerUI.alert(e.i18n.t("viewer_:error.initEngine.c"+n||0)),t.reject(n)}),i}),this.webPDFJRPromise=t.promise}},{key:"getWebPDFSR",value:function(){var e=this;return this.webPDFSRPromise?this.webPDFSRPromise:this.webPDFSRPromise=Promise.resolve().then(rT.bind(null,n)).catch(rT).then(function(t){var n=new(t.default(nE))(e.config.sr,e.eventEmitter,{storage:e.storage},e.ioc);return e.webPDFSR=n,n.setDefaultAnnotConfig(e.defaultAnnotConfig),n.init().then(function(){var t={"viewer  component":{version:Ix},SR:{version:!0}};console.table&&console.table(t),e.isWebPDFSR=!0,e.scaleFrequency=4,e.config.scaleFrequency=4,e.eventEmitter.emit(ae.srLicenseSuccess)},function(t){alert(e.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][t-1]||"viewer_:error.c-1"))}),n})}},{key:"initAnnotationIcons",value:function(e){var t=this,n=arguments;Array.isArray(e)&&(e=e.reduce(function(e,t,n){var i=t.annotType||"stamp",r=t.category,o=t.name;if(!r)throw new Error("Missing category for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));if(!o)throw new Error("Missing name for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));var a=e[i]=e[i]||{},s=a[r]=a[r]||{},A={url:t.url,fileType:t.fileType,width:t.width>0?t.width:150,height:t.height>0?t.height:45,category:r,name:o,annotType:i};return s[o]=A,e},{}));var i=e.stamp;return i&&Object.keys(i).forEach(function(e){yT({key:"category",value:e,notSpecialChar:!0}),Object.keys(i[e]).forEach(function(e){return yT({key:"name",value:e,notSpecialChar:!0})})}),this.pdfEngine.then(function(t){return t.setIcons(e)}).then(function(i){return!n[1]&&t.eventEmitter.emit(ae.iconInited,e)})}},{key:"addAnnotationIcon",value:function(e){var t=this;if(["url","annotType","fileType"].forEach(function(t){if(!e[t])throw new Error("Icon property lost: "+t)}),yT({key:"category",value:e.category,notSpecialChar:!0}),yT({key:"name",value:e.name,notSpecialChar:!0}),0==["png","bmp","jpg","jpeg","pdf","webp"].filter(function(t){return e.fileType.toLowerCase()==t}).length)throw new Error("The fileType is wrong");return e.fileType=e.fileType.toLowerCase(),this.pdfEngine.then(function(t){return t.addIcon(e)}).then(function(n){n&&t.eventEmitter.emit(ae.iconAdded,e)})}},{key:"removeAnnotationIcon",value:function(e,t,n){var i=this;t||(n=null);var r=arguments[3];return this.pdfEngine.then(function(i){return i.removeIcon(e,t,n,r)}).then(function(o){return i.eventEmitter.emit(ae.iconRemoved,{type:e,category:t,name:n,index:r})})}},{key:"init",value:function(e){var t=this;this.$ui=O()(e),this.element=this.eUi=this.$ui.get(0);var n,i=this.viewModeManager.get(this.config.defaultViewMode);(this.pdfViewerRender=new ip(this.$ui,i,this),this.collaborationOptions)&&(this.collaborationOptions.enable?this.initCollaboration():this._collaborationDefer.resolve(null));n="function"!=typeof this.customs.getAnnotPermissions?function(){return Pe}:this.customs.getAnnotPermissions,this.annotationAuthorityManager=new jE(this,n),this.actionCallbackManager=new YS(this);var r=function(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return this.annotationAuthorityManager.clear(),[4,e.isPdfaDoc()];case 1:if(!(t=o.sent()))return[2];switch(n=hT,i=lT,r=dT,this.editPDFAPermission){case n:this.getStore().dispatch("showPDFADialog",t);break;case i:e.setPdfaEditable(!0);break;case r:e.setPdfaEditable(!1)}o.label=2;case 2:return[2]}})}).call(t)};this.progressHandler=function(e,n,i){return(0,x._)(function(){var e,t,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return e=this,this.progressHandler.status||i!==Tk.PROGRESSING?[3,4]:this.progress?[3,2]:(t=this,[4,this.viewerUI.progress(n,document.body)]);case 1:return t.progress=o.sent(),[3,3];case 2:this.progress.show(document.body),this.progress.updateProgress(n,i),o.label=3;case 3:return this.progressHandler.status="start",[3,5];case 4:this.progress&&this.progress.updateProgress(n,i),i!==Tk.FAIL&&i!==Tk.SUCCESS||(r=setTimeout(function(){e.progress&&e.progress.hide()},500),this.addDestroyHook(function(){clearTimeout(r)}),delete this.progressHandler.status),o.label=5;case 5:return[2]}})}).call(t)};var o,a=function(e,n,i){t.progressHandler(e,n,i)},s=function(e){e?t.loading=t.viewerUI.loading(document.body):t.loading&&t.loading()};this.eventEmitter.on(ae.openFileSuccess,r),this.eventEmitter.on(ae.progressChanged,a),this.eventEmitter.on(ae.showLoading,s),this.addDestroyHook(function(){t.annotationAuthorityManager.destroy(),t.eventEmitter.off(ae.openFileSuccess,r),t.eventEmitter.off(ae.progressChanged,a),t.eventEmitter.off(ae.showLoading,s)});var A=function(){clearTimeout(o),o=setTimeout(function(){var e=t.getAllActiveElements();if(e.length){var n=t.stateHandlerManager.currentStateHandler.getStateName();if(!(n!==ei&&n!=yn&&Object.keys(mi).indexOf(n)<0&&Object.keys(yi).indexOf(n)<0)){var i=!e.find(function(e){var t=e.annot;if(!t)return!1;var n=t.getType(),i=!!t.isArea&&t.isArea();return"highlight"===n&&!i||"strikeout"===n||"underline"===n||"squiggly"===n||"caret"===n});e.forEach(function(e){var t=e.shapeControl;t&&t.moveEnable&&t.moveDisable&&(i&&t.moveable?t.moveEnable():t.moveDisable())})}}},0)};this.eventEmitter.on(ae.activeElementChanged,A),this.addDestroyHook(function(){return t.eventEmitter.off(ae.activeElementChanged,A)}),this.initializeDefer.resolve()}},{key:"afterInitialized",value:function(){return this.initializeDefer.promise}},{key:"setAnnotPermissionCallback",value:function(e){this.customs.getAnnotPermissions=e,this.annotationAuthorityManager.setAnnotPermissionCallback(e)}},{key:"getCollaboration",value:function(){return this._collaborationDefer.promise}},{key:"getAnnotAuthorityManager",value:function(){return this.annotationAuthorityManager}},{key:"getActionCallbackManager",value:function(){return this.actionCallbackManager}},{key:"collaborate",value:function(e,t){return this.getCollaboration().then(function(n){if(n)return("function"==typeof t?Promise.resolve(t()):Promise.resolve(t)).then(function(t){return n.send({action:e,data:t})})})}},{key:"initCollaboration",value:function(){var e=new _E(this,this.collaborationOptions);e.registerBuiltInHandler(xE),e.registerBuiltInHandler(wE),e.registerBuiltInHandler(kE),e.registerBuiltInHandler(BE),e.registerBuiltInHandler(ME),e.registerBuiltInHandler(RE),e.registerBuiltInHandler(FE),e.registerBuiltInHandler(VE),e.registerBuiltInHandler(NE),e.registerBuiltInHandler(HE),e.registerBuiltInHandler(TE),e.registerBuiltInHandler(EE),e.registerBuiltInHandler(SE),e.registerBuiltInHandler(IE),e.registerBuiltInHandler(lS),this.addDestroyHook(function(){e.destroy()}),e.prepare(),this._collaborationDefer.resolve(e)}},{key:"redraw",value:function(e){var t=this,n=arguments;return this.pdfViewerRender&&this.pdfViewerRender.pdfDocRender?(this.redrawTask||Promise.resolve()).then(function(i){var r=t.pdfViewerRender.pdfDocRender;if(!r)return Promise.resolve(!1);try{var o=r.pagesRender;if(!o)return Promise.resolve(!1);e&&o.setRenderFlags(7);var a=[],s=n[1];return void 0===s&&(s=!0),!e&&s?(t.getScrollWrap().disable(1),t.store.dispatch("force-redraw",!0),a.push(t.zoomTo(o.scale,null,0).finally(function(){t.store.dispatch("force-redraw",!1)}))):a.push(o.renderVisiblePages()),t.redrawTask=Promise.all(a).then(function(e){t.getScrollWrap().disable(0)}).finally(function(){delete t.redrawTask})}catch(e){return Promise.reject(e)}}):Promise.resolve(!1)}},{key:"redrawContent",value:function(){if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var e=this.pdfViewerRender.pdfDocRender.pagesRender;return null==e||e.setRenderFlags(2),null==e?void 0:e.renderVisiblePages()}catch(e){return Promise.reject(e)}}},{key:"rotateTo",value:function(e,t){return(0,z.assertThat)((0,z.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", It should be 0, 90, 180 or 270")),this.pdfViewerRender.rotateTo(e,t)}},{key:"getRotation",value:function(){return this.pdfViewerRender.getRotation()}},{key:"getScrollWrap",value:function(){return this.pdfViewerRender.scrollWrap}},{key:"openPDFByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine;if(this.customs.isSupportFileType&&!this.customs.isSupportFileType(e))return Promise.reject();n.isOpenNewFileAfterClose&&this.currentPDFDoc&&this.currentPDFDoc.otherOptions&&(this.currentPDFDoc.otherOptions.isOpenNewFileAfterClose=!0);var r=(0,w._)({},uT,n);return this.openFileOptions=r,e.name&&!r.fileName&&(r.fileName=e.name),void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),this.close().then(function(){var n=t.resourceGenerator(Z_.PDF_DOCUMENT_CLOSING,X_.OBJECT_URL).expose().URL;return t.eventEmitter.emit(ae.beforeOpenFile,n.createObjectURL(new Blob([e],{type:"application/pdf"}))),i?Promise.resolve(i):t.getWebPDFJR()},function(e){return z.LoggerFactory.getLogger("PDFViewer").warn("An error occurred while opening a pdf file: ",e),Promise.reject({error:-3})}).then(function(n){t.eventEmitter.emit(ae.beforeLoadPDFDoc,"memory",e,r,i);var o=n.getPDFDocByFile(e,r);return r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),o}).then(function(n){return t._reopenPDFDoc(n,r,{type:vE.FROM_FILE,fileName:r.fileName,file:e,options:r})},function(e){return t.eventEmitter.emit(ae.openFileFailed,e),Promise.reject(e)}).finally(function(){r.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()})}},{key:"openPDFByHttpRangeRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=(0,w._)({},uT,n);this.openFileOptions=r;var o=e.range.url;if(!r.fileName&&o.endsWith(".pdf")){var a=o.lastIndexOf("/"),s=o.substring(a+1);s=decodeURIComponent(s),r.fileName=s}if(void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),!Eg(o)){var A=aS();e.range.url=kg(A).join(o).absolute()}if(e.range.enableChunkPrecache&&navigator.serviceWorker&&navigator.serviceWorker.controller){var c,u,l=null!==(u=null!==(c=e.range.precacheChunkSize)&&void 0!==c?c:e.range.chunkSize)&&void 0!==u?u:131072;this.getPrecacheService().startPrecache(e.range.url,l,e.range.headers)}return this.close().then(function(){var e;return t.eventEmitter.emit(ae.beforeOpenFile,o),e=i?Promise.resolve(i):t.getWebPDFJR(),r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e},function(e){throw e}).then(function(n){return t.eventEmitter.emit(ae.beforeLoadPDFDoc,"http",e,r,i),n.getPDFDocByHttpRangeRequest(e,r)}).then(function(n){return t._reopenPDFDoc(n,r,{type:vE.FROM_URL,range:e.range,size:e.size,options:r})},function(e){throw t.eventEmitter.emit(ae.openFileFailed,e),e}).finally(function(){r.isRenderOnDocLoaded&&t.pdfViewerRender&&t.pdfViewerRender.rendered()})}},{key:"getPrecacheService",value:function(){return this.ioc.getInstanceByClass(kI)}},{key:"getPDFDocByFileNoOpen",value:function(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,x._)(function(){return(0,N.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.parse((0,k._)((0,w._)({},n),{password:t}))];case 1:return i.sent(),[2,e];case 2:return[2,i.sent()];case 3:return[2]}})})()},[4,this.getWebPDFJR()];case 1:return[4,i.sent().getPDFDocByFile(e)];case 2:return n=i.sent(),[4,t(n)];case 3:return[2,i.sent()]}})}).call(this)}},{key:"openPDFById",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};return void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then(function(){var e;return t.eventEmitter.emit(ae.beforeOpenFile),e=t.getWebPDFSR(),n.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e},function(e){throw e}).then(function(e){return Promise.all([e,gT(n)])}).then(function(i){var r=(0,M._)(i,2),o=r[0],a=r[1];return n.idJWT=a||n.jwt,t.eventEmitter.emit(ae.beforeLoadPDFDoc,"id",e,n),o.getPDFDocById(e,n)}).then(function(e){return t._reopenPDFDoc(e,n)},function(e){return t.eventEmitter.emit(ae.openFileFailed,e),Promise.reject(e)}).finally(function(){n.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()})}},{key:"openPDFByExistsDocId",value:function(e){return(0,x._)(function(e){var t,n,i,r,o=arguments;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{fileName:""},[4,this.getWebPDFJR()];case 1:return[4,a.sent().getPDFDocById(e)];case 2:return[4,a.sent().getDocBuffer(this)];case 3:return n=a.sent(),i=new Blob(n),r=new File([i],"".concat(t.fileName),{type:"application/pdf"}),[2,this.openPDFByFile(r,t)]}})}).apply(this,arguments)}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isRenderOnDocLoaded:!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.pdfEngine;void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0);var a=(0,w._)({},uT,r);return this.openFileOptions=a,this.close().then(function(){return o?Promise.resolve(o):e.getWebPDFJR()},function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)}).then(function(e){return e.createNewDoc(t,n,i)}).then(function(n){return r.password=Ee,r.fileName=t,e.reopenPDFDoc(n,r,{type:vE.FROM_FILE,options:r,file:function(){var e=[];return n.getStream(function(t){e.push(t)}).then(function(){return new Blob(e,{type:"application/pdf"})})}})})}},{key:"loadPDFDocByFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByFile(e,t)}},{key:"loadPDFDocByHttpRangeRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByHttpRangeRequest(e,t)}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.close().then(function(){return n.pdfEngine?Promise.resolve(n.pdfEngine):n.getWebPDFJR()},function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)}).then(function(n){return n.createNewPortfolioDoc(e,t,i)}).then(function(e){var t={isRenderOnDocLoaded:!0,password:"",fileName:i};return n.reopenPDFDoc(e,t,{type:vE.FROM_FILE,options:t,file:function(){var t=[];return e.getStream(function(e){t.push(e)}).then(function(){return new Blob(t,{type:"application/pdf"})})}})})}},{key:"convertImageToPDFDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(arguments.length>5&&void 0!==arguments[5]||this.pdfEngine,[]),a=null,s=(0,T._)(e,ArrayBuffer),A=null;return new Promise(function(n,i){var r=new Image;if(r.onload=function(){var e=(0,z.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},s){var a=new Blob([e]);r.src=A=URL.createObjectURL(a)}else r.src=e?A=URL.createObjectURL(e):t}).then(function(e){return n.createNewDoc(i,r,{height:e[1],width:e[0]},{isRenderOnDocLoaded:!1},n.pdfEngine)}).then(function(e){return(a=e).getPageByIndex(0)}).then(function(n){var i=s?Promise.resolve(e):bg(e?A:t);return Promise.all([Promise.resolve(n),i])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];A&&URL.revokeObjectURL(A);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)}).then(function(e){if(e)return a;throw new Error("faied to insert image")}).catch(function(e){return n.eventEmitter.emit(ae.openFileFailed,null),e&&console.error(e),Promise.reject(e)})}},{key:"getPDFDocFromImageFile",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=[],a=null,s=(0,T._)(e,ArrayBuffer),A=null;return new Promise(function(n,i){var r=new Image;if(r.onload=function(){var e=(0,z.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},s){var a=new Blob([e]);r.src=A=URL.createObjectURL(a)}else r.src=e?A=URL.createObjectURL(e):t}).then(function(e){return n.pdfEngine.then(function(t){return t.createNewDoc(i,r,{height:e[1],width:e[0]})})}).then(function(e){return(a=e).getPageByIndex(0)}).then(function(n){var i=s?Promise.resolve(e):bg(e?A:t);return Promise.all([Promise.resolve(n),i])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];A&&URL.revokeObjectURL(A);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)}).then(function(e){if(e)return a;throw new Error("faied to insert image")}).catch(function(e){return e&&console.error(e),Promise.reject(e)})}},{key:"renderDoc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.defaultScale;if(this.pdfViewerRender.pdfDocRender){var i=this.pdfViewerRender.pdfDocRender.pagesRender;if(e==this.currentPDFDoc&&i&&i.isPageDOMsLoaded)return Promise.resolve(!0)}return this.pdfViewerRender.rendering(),this.pdfViewerRender.renderDoc(e,n).then(function(){return t.eventEmitter.emit(ae.openFileSuccess,e,{type:vE.FROM_FILE,options:{fileName:e.info.fileName}}),t.eventEmitter.emit(ae.renderFileSuccess,e),!0},function(n){return t.eventEmitter.emit(ae.renderFileFailed,e),n||(n=new Error("An unknown error occurred while closing the current opening document!")),n.error=-3,Promise.reject(n)}).finally(function(){t.pdfViewerRender.rendered()})}},{key:"reopenPDFDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t),i=arguments[2];return this.eventEmitter.emit(ae.beforeOpenFile),void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this._reopenPDFDoc(e,n,i)}},{key:"_reopenPDFDoc",value:function(e,t){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l=arguments;return(0,N.Jh)(this,function(d){switch(d.label){case 0:return t=this,n=l.length>1&&void 0!==l[1]?l[1]:{},i=l.length>2?l[2]:void 0,[4,this.getWebPDFJR()];case 1:return r=d.sent(),(o=r.uiStateManagerAPI).setCurrentDocId(e&&e.id),o.setDocFileName(e&&e.info.fileName||""),this.startListenAnnotMouseEvent(),a=!1,s=!1,A=!1!==n.isRenderOnDocLoaded,"function"!=typeof(c=n.beforeRenderPDFDoc)&&(u=this.customs.beforeRenderPDFDoc,c="function"!=typeof u?rT:u),c!==rT&&(A=!0),[2,Promise.resolve(gT(n)).then(function(t){return n.idJWT=t||n.jwt,e.parse(n)}).then(function(e){e.defineRemoteAPI(Ge.ACTION_EXECUTOR_CHANNEL_ID,new UI(e,t));var n=e.getPageCount(),r=n<2;if((r=r||n>=500)&&t.viewModeManager.get(yh.getName()))t.viewModeManager.switchTo(yh.getName());else{var o=t.viewModeManager.get(t.config.defaultViewMode);t.viewModeManager.switchTo(o.getName())}t.currentPDFDoc=e,a=!0;var u=[e];if(A){t.eventEmitter.once(ae.renderPageSuccess,function(){s=!0});var l=Promise.resolve(c.call(t,e)).then(function(){var n=t.pdfViewerRender.renderDoc(e);return t.eventEmitter.emit(ae.openFileSuccess,e,i),n});u.push(l)}return Promise.all(u)},function(n){o.setCurrentDocId(void 0),t.currentPDFDoc=null;var i={error:n&&n.code,pdfDoc:e,encryptDict:n&&n.encryptDict};return t.eventEmitter.emit(ae.openFileFailed,i),Promise.reject(i)}).then(function(e){var i,r=(0,M._)(e,1)[0];return t.mixPdfJREngine?t.mixPdfJREngine.then(function(e){return i=e,r.resetEngineInstance(e)}).then(function(e){return t.pdfEngine=i,delete t.mixPdfJREngine,t.eventEmitter.emit(ae.toggleEngineSr2JrSuccess,e),A&&t.eventEmitter.emit(ae.renderFileSuccess,e),e},function(e){return i&&(t.pdfEngine=i),n.isRenderOnDocLoaded&&t.eventEmitter.emit(ae.renderFileSuccess,e),e}):(A&&t.eventEmitter.emit(ae.renderFileSuccess,r),r)},function(n){if(a&&s)return t.eventEmitter.emit(ae.renderFileSuccess,e),e;A&&t.eventEmitter.emit(ae.renderFileFailed,e);var i={error:-1,pdfDoc:e};try{var r,o,c="number";(void 0===n?"undefined":(0,F._)(n))===c?r=n:(0,F._)(n.error)===c?(r=n.error,o=n.encryptDict):r=n,i={error:r,pdfDoc:e,encryptDict:o}}catch(e){}return Promise.reject(i)})]}})}).apply(this,arguments)}},{key:"close",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s=arguments;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return e=this,t=s.length>0&&void 0!==s[0]?s[0]:this.customs.closeDocBefore,n=s.length>1&&void 0!==s[1]?s[1]:this.customs.closeDocAfter,i=s.length>2&&void 0!==s[2]?s[2]:{},[4,this.getWebPDFJR()];case 1:return r=A.sent(),o=r.uiStateManagerAPI,this.stopListenAnnotMouseEvent(),this.currentPDFDoc?(a=Object.assign({},this.openFileOptions,i),[2,Promise.resolve(t(this.currentPDFDoc,a)).then(function(t){if(!1===t)return Promise.reject("Document cannot be closed because it was rejected by the before callback");e.stopFormDesginerAssist(),e.activationManager.clear(),e.eventEmitter.emit(ae.willCloseDocument,e.currentPDFDoc),e.currentPDFDoc=null;var n,i=e.pdfViewerRender.closeOldDocRender(a);try{n=e.pdfViewerRender.pdfDocRender}catch(e){}return n?(n.hidden(),i.then(function(t){return e.pdfViewerRender.closeOldDocRender(a)})):i}).then(function(e){if(!1!==e)return o.setCurrentDocId(void 0),n()}).finally(function(){e.eventEmitter.emit(ae.documentClosed)})]):[2,Promise.resolve()]}})}).apply(this,arguments)}},{key:"destroy",value:function(){var e=this,n=this;return(0,x._)(function(){var i,r,o;return(0,N.Jh)(this,function(a){switch(a.label){case 0:if(this.isDestroyed)return[2,Promise.resolve()];a.label=1;case 1:return a.trys.push([1,12,,13]),[4,this.close()];case 2:if(a.sent(),(0,E._)((0,S._)(t.prototype),"destroy",e).call(n),this.initializers&&this.initializers.forEach(function(e){return e.destroy()}),this.keyboard.destroy(),this.stopListenAnnotMouseEvent(),this.viewerUI.destroy(),this.viewerUI=null,this.pdfViewerRender&&(this.pdfViewerRender.destroy(),this.pdfViewerRender=null),!this.pdfEngine)return[3,7];i=this.webPDFJR,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.pdfEngine];case 4:return i=a.sent(),[3,6];case 5:return a.sent(),[3,6];case 6:i&&i.destroy(),i&&i.api&&i.api.workerPromise&&i.api.workerPromise.destroy(),a.label=7;case 7:this.store.destroy(),r=this.getStorage(),a.label=8;case 8:return a.trys.push([8,10,,11]),[4,r.destroy()];case 9:return a.sent(),[3,11];case 10:return o=a.sent(),console.error("destroy storage error",o),[3,11];case 11:return this.eventEmitter.removeAllListeners(),this.ioc.destroy(),[3,13];case 12:throw a.sent();case 13:return[2]}})}).call(this)}},{key:"zoomTo",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be less than or equal to maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}try{var n=arguments[2];return void 0===n&&(n=1),n&&this.activeElement(),"pencilStateHandler"==this.getStateHandlerManager().currentStateHandler.getStateName()&&this.stateHandlerManager.switchTo(),this.pdfViewerRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"zoomAtPosition",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be greater than maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}return this.activeElement(),this.pdfViewerRender?this.pdfViewerRender.zoomAt(e,t):Promise.resolve()}},{key:"zoom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;try{return this.pdfViewerRender.getScaleRatio().then(function(n){var i=e.config.minScale,r=e.config.maxScale;n===i&&Math.floor(i/t)!==i/t&&(n=Math.floor(n/t)*t);var o=Math.max(i,Math.min(r,n+t));return o=i+Math.round((o-i)/t)*t,o=Math.max(i,Math.min(r,o)),e.zoomTo(o)})}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.pdfViewerRender)return Promise.reject("PDFViewer has not been initialized completely!");var o=this.getPDFPageRender(e);return o?r&&"number"!=typeof t?o.getPDFPage().then(function(o){return t=o.getHeight(),i.pdfViewerRender.goToPage(e,t,n,r)}):this.pdfViewerRender.goToPage(e,t,n,r):Promise.reject('The page with index "'.concat(e,'" does not exists or the document has not been opened!'))}},{key:"setDestination",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s,A,c,u,l,d,h,f,p;return(0,N.Jh)(this,function(g){switch(g.label){case 0:return t=e.pageIndex,n=e.zoomMode,(i=this.getPDFDocRender())&&i.doc?[4,i.doc.getPageByIndex(e.pageIndex)]:[2];case 1:if(!(r=g.sent()))return[2];switch(r.getWidth(),o=r.getHeight(),n){case Ge.ZoomMode.ZoomFitHorz:return[3,2];case Ge.ZoomMode.ZoomFitPage:return[3,4];case Ge.ZoomMode.ZoomFitRect:return[3,6];case Ge.ZoomMode.ZoomFitBHorz:return[3,8];case Ge.ZoomMode.ZoomXYZ:return[3,10]}return[3,12];case 2:return[4,this.zoomTo("fitWidth",{pageIndex:t,x:0,y:Math.min(o,e.top)})];case 3:return g.sent(),[3,17];case 4:return[4,this.zoomTo("fitHeight",{pageIndex:t,x:0,y:o})];case 5:return g.sent(),[3,17];case 6:return s=null===(a=this.getPDFViewerRender())||void 0===a?void 0:a.scrollWrap,A=this.getPDFPageRender(t),s&&A?(c=s.getScrollHost(),u=c.clientWidth,l=c.clientHeight,d=r.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.top},1,A.getRotation()),h=d.right-d.left,f=d.bottom-d.top,p=Math.min(u/h,l/f),isFinite(p)||(p=i.scale),[4,this.zoomTo(p,{pageIndex:t,x:Math.max(0,e.left),y:Math.max(0,e.top)})]):[2];case 7:return g.sent(),[3,17];case 8:return[4,this.zoomTo("fitVisible",{pageIndex:t,x:0,y:Math.max(0,e.top)})];case 9:return g.sent(),[3,17];case 10:return e.zoomFactor?[3,12]:[4,i.goToPage(t,{x:Math.max(0,e.left),y:Math.max(0,e.top)},!0)];case 11:return g.sent(),[3,17];case 12:return e.zoomFactor?[3,14]:[4,i.goToPage(t,{x:Math.max(0,e.left),y:Math.max(0,e.top)},0!==e.top)];case 13:return g.sent(),[3,16];case 14:return[4,this.zoomTo(e.zoomFactor,{pageIndex:t,x:Math.max(0,e.left),y:Math.max(0,e.top)})];case 15:g.sent(),g.label=16;case 16:return[3,17];case 17:return[2]}})}).call(this)}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(e,t)}},{key:"setEnableLoadJSEngine",value:function(e){return(0,x._)(function(){return(0,N.Jh)(this,function(t){return this.pdfEngine.then(function(t){return t.api.enableLoadJSEngine({path:"jr"},e)}),[2]})}).call(this)}},{key:"setEnableJS",value:function(e){this.config.enableJS!==e&&(this.config.enableJS=e,this.pdfEngine.then(function(t){return t.api.enableJavaScript({path:"jr"},e)}),this.eventEmitter.emit(ae.changeEnableJS,e))}},{key:"getEnableJS",value:function(){return this.config.enableJS}},{key:"setContinuousAddPencilState",value:function(e){this.continuousAddPencil=e}},{key:"setEnableOpenAction",value:function(e){this.enableOpenAction=e}},{key:"setEnablePageAction",value:function(e){this.enablePageAction=e}},{key:"setEnableScale",value:function(e){this.enableScale=e}},{key:"getEnableScale",value:function(){return"boolean"!=typeof this.enableScale||this.enableScale}},{key:"setSafeReadingMode",value:function(e){this.config.enableSafeMode=e}},{key:"getSafeReadingMode",value:function(){return this.config.enableSafeMode}},{key:"getSmartScale",value:function(e){var t=this.config,n=t.scaleFrequency;return 0===n?e*=z.dpr:e=Math.ceil(e*z.dpr*n)/n,Math.min(Math.max(e,t.minScale*z.dpr),t.maxScale*z.dpr)}},{key:"controlStateSwitch",value:function(e){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(e)}},{key:"getStateHandlerManager",value:function(){return this.stateHandlerManager}},{key:"getInkSignManager",value:function(){return this.inkSignManager}},{key:"getViewModeManager",value:function(){return this.viewModeManager}},{key:"getMementoManager",value:function(){return this.mementoManager}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"addEventListener",value:function(e,t){var n={};if(Array.isArray(e))e.forEach(function(e){n[e]=t});else if(e&&"object"===(void 0===e?"undefined":(0,F._)(e)))Object.keys(e).forEach(function(t){a(e[t]),n[t]=e[t]});else{if("string"!=typeof e)throw new Error("Incorrect arguments: the arguments of addEventListener must be (string, Function) or (Record<string, Function>) or (Array<string>, Function)");a(t),n[e]=t}var i=this.eventEmitter;for(var r in n)i.on(r,n[r]);var o=function(){for(var e in n)i.off(e,n[e])};return function(){o(),o=rT};function a(e){if("function"!=typeof e)throw new Error("Illegal argument! Event listener should be a function, but actual: "+(void 0===e?"undefined":(0,F._)(e)))}}},{key:"getCurrentPDFDoc",value:function(){return this.currentPDFDoc}},{key:"getPDFViewerRender",value:function(){try{return this.pdfViewerRender}catch(e){return null}}},{key:"getDeviceCurrentPosition",value:function(){var e=this.getPDFDocRender(),t=this.getPDFViewerRender(),n=t.getViewMode(),i=e.getViewMode(),r=e.viewerRender.scrollWrap,o=r.getScrollTop(),a=r.getScrollLeft(),s=i.getCurrentPageIndex();if("single-page-view-mode"===n.getName()){var A=t.$ui.parent()[0].getBoundingClientRect(),c=e.getPDFPageRender(s).$ui.get(0).getBoundingClientRect();return{pageIndex:s,left:A.left-c.left,top:A.top-c.top}}for(var u,l=e.$container.find(".fv__pdf-view-mode-item"),d=0,h=0,f=0;f<l.length;f++){var p=l[f],g=O()(p).find(".fv__pdf-page-layout"),v=g.width(),m=g.height(),y=p.offsetTop,_=y+m,b=p.offsetLeft;if(_>o&&b+v>a){h=o-y,d=a-b,u=f;break}}return{pageIndex:s,left:d,top:h,pageIndexByTop:u}}},{key:"getPDFDocRender",value:function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(e){return null}}},{key:"getPDFPageRender",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)||null}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)||null}catch(e){return null}}},{key:"getPDFPageRenderAsync",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getAnnotRenderAsync",value:function(e,t){try{return this.getPDFPageRenderAsync(e).getAnnotRender(t)}catch(e){return null}}},{key:"killFocus",value:function(){return Promise.resolve(this.activeElement()||!0)}},{key:"isMultiSelectActive",value:function(){if(!this.isMultipleSelectionAvilable)return!1;var e=this.stateHandlerManager.currentStateHandler.getStateName();return(z.isMac?z.keyboardStatus.isWinDown:z.keyboardStatus.isCtrlDown)&&(e===yn||e===ei||Object.keys(mi).indexOf(e)>=0||Object.keys(yi).indexOf(e)>=0)||z.keyboardStatus.isShiftDown&&(e===yn||e===ei)}},{key:"toggleMuiltiSelection",value:function(e){this.isMultipleSelectionAvilable=!!e}},{key:"bindMultiSelectActiveEvents",value:function(e){var t=this,n=function(e){if(e&&e.shapeControl){var n=e.shapeControl,i=n.onPrestart,r=n.onAfterEnd;n.onPrestart=function(e,r,o){t.activationManager.getAllCurrentActivatables().forEach(function(e){if(e.shapeControl&&!e.shapeControl.isDisabled){if(e.annot.getType()===Zi.widget){var i=e.annot.getField();if(i.getType()===pn.Sign&&i.getSignatureType()===vn.pagingSeal)return}var r=t.customs,o=r.isCollaborationMode,a=void 0===o?rT:o,s=r.isAnnotOwner,A=void 0===s?rT:s;a()&&!A(e.annot.getName())||n.companion(e.shapeControl)}}),i&&i(e,r,o)},n.onAfterEnd=function(e){n.clearCompanions(),r&&r(e)}}};(0,T._)(e,q)?e.getAllActivations().forEach(function(e){return n(e)}):n(e)}},{key:"activePageElementByRect",value:function(e,t){var n,i=this;if(!(e.right<=e.left||e.top<=e.bottom)&&t){var r=t.getIndex(),o=null===(n=this.getPDFPageRender(r))||void 0===n?void 0:n.annotsRender;t.getAnnots().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var n=new q,r=[],a=[],s={},A=[];if(t.forEach(function(e){if(e.isGrouped&&e.isGrouped()){var t=e.getGroupHeader(),n=t.id;return s[n]||o.isAnnotHidden(t)||A.push(t),void(s[n]=t)}"popup"==e.getType()||"watermark"==e.getType()||"R"==e.info.RT&&e.info.IRT||o.annotFiltered&&!o.showAnnots.has(e.id)||o.isAnnotHidden(e)||A.push(e)}),A.reverse().forEach(function(t){if(!r.find(function(e){return e===t})){var o=t.info.rect,a=o.left,s=o.right,A=o.top,c=o.bottom;if(a>=e.left&&a<=e.right&&A>=e.bottom&&A<=e.top||a>=e.left&&a<=e.right&&c>=e.bottom&&c<=e.top||s>=e.left&&s<=e.right&&A>=e.bottom&&A<=e.top||s>=e.left&&s<=e.right&&c>=e.bottom&&c<=e.top)if(t.isGrouped&&t.isGrouped()){var u=t.getGroupElements()||[];if(u.length){var l=new q;u.forEach(function(e){var t=i.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;t&&l.add(t)}),n.add(l),r=(0,R._)(r).concat((0,R._)(u))}}else{var d=i.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;d&&n.add(d)}}}),a.length)i.eventEmitter.emit("active-widgets-for-multi-select",{widgets:a,activationGroup:n});else{i.bindMultiSelectActiveEvents(n),i.activationManager.active(n),i.getPDFDocRender().setCurrentAnnotHandler(),i.eventEmitter.emit(ae.activeElementChanged);var c=n.getAllActivations().map(function(e){var t=e.getPDFPage().getIndex(),n=e.getPDFAnnot().getId();return i.getAnnotRender(t,n)});if(c.length){if(1===c.length)return i.eventEmitter.emit(ae.activeAnnotation,c[0]);i.eventEmitter.emit(ae.activeMultipleAnnotations,c)}}}})}}},{key:"activateElement",value:function(e){return this.activeElement(e)}},{key:"activeElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e){if(!this.activationManager.hasActivations())return;return this.activationManager.unActiveCurrent(),void(t&&this.eventEmitter.emit(ae.activeElementChanged))}if(this.bindMultiSelectActiveEvents(e),this.isMultiSelectActive()){var n,i=this.activationManager.getCurrentActivatable();if(i){var r=(i.activations||[])[0];r&&r.annot&&r.annot.page.getIndex()!==((0,T._)(e,q)?e.getAllActivations()[0]:e).annot.page.getIndex()&&this.activationManager.unActiveCurrent(),this.bindMultiSelectActiveEvents(i),i.add(e),n=i}else{var o=new q;o.add(e),n=o}if(z.keyboardStatus.isShiftDown){var a=n.getAllActivations(),s=Number.MAX_VALUE,A=-Number.MAX_VALUE,c=-Number.MAX_VALUE,u=Number.MAX_VALUE;a.forEach(function(e){var t=e.annot.info.rect,n=t.left,i=t.right,r=t.top,o=t.bottom;s=Math.min(s,n),A=Math.max(A,i),c=Math.max(c,r),u=Math.min(u,o)});var l={left:s,right:A,top:c,bottom:u};if(this.multiSelectActiveShiftHandlerFlag==="".concat(JSON.stringify(l),"_").concat(a.length))return;this.multiSelectActiveShiftHandlerFlag="".concat(JSON.stringify(l),"_").concat(a.length);var d=(0,T._)(e,q)?e.getAllActivations()[0]:e;this.activePageElementByRect(l,d.annot.page)}else this.activationManager.active(n),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(ae.activeElementChanged)}else{var h;if((0,T._)(e,q))h=e;else{var f=new q;f.add(e),h=f}this.activationManager.active(h),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(ae.activeElementChanged,e)}}},{key:"clearMultiSelectActiveFlag",value:function(){this.multiSelectActiveShiftHandlerFlag=""}},{key:"deactivateElement",value:function(e){return this.unActiveElement(e)}},{key:"unActiveElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.annot&&e.annot.isGrouped&&e.annot.isGrouped()){var n=this.activationManager.getCurrentActivatable();if(!n||!(0,T._)(n,q))return;for(var i=n.activations||[],r=i.length;r--;){var o=i[r];if((0,T._)(o,q)&&o.contains(e)||o===e){this.activationManager.unActive(i[r]);break}}}else this.activationManager.unActive(e);t&&this.eventEmitter.emit(ae.activeElementChanged)}},{key:"getCurrentActivatable",value:function(){var e=this.activationManager.getCurrentActivatable();if(!e||e.isActive)return e}},{key:"getAllActivatedElements",value:function(){return this.getAllActiveElements()}},{key:"getAllActiveElements",value:function(){return this.activationManager.getAllCurrentActivatables()}},{key:"getAnnotManager",value:function(){return this.annotManager}},{key:"registerMatchRule",value:function(e){this.annotManager.registerMatchRule(e)}},{key:"setUserConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then(function(t){return t.setUserConfig(e)})}},{key:"setUserName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then(function(t){return t.setUserName(e)})}},{key:"getUserName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pdfEngine;return(e?Promise.resolve(e):this.getWebPDFJR()).then(function(e){return e.getUserName()})}},{key:"setFormatOfDynamicStamp",value:function(e,t){return this.getWebPDFJR().then(function(n){return n.setDynamicInfoFormula(e,t)})}},{key:"getFormatOfDynamicStamp",value:function(){return this.getWebPDFJR().then(function(e){return e.getDynamicInfoFormula()})}},{key:"registerPrintHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.printHandler=e}},{key:"printByProgress",value:function(e,t,n,i,r,o,a,s,A,c){var u,l=this,d=this;A||(u=this.pdfViewerRender.pdfDocRender);var h=t.AdditionalActions?Promise.resolve():t.loadAdditionalActions();return r.setTitle(t.getFileName()),h.then(function(e){if(A)return Promise.resolve();u.performAction(5),l.eventEmitter.emit(ae.documentWillPrint)}).then(function(e){return Promise.resolve()}).then(function(){return i({state:"start",total:e.length}),e.reduce(function(n,s){var A=s;return("object"===(void 0===s?"undefined":(0,F._)(s))&&void 0!==s.rect||"object"===(void 0===s?"undefined":(0,F._)(s)))&&(A=s.pageIndex),n.then(function(e){var n,i="number"==typeof s;return Promise.all(i?[(n=s,(0,x._)(function(){var e,i,r,s,A,c,u,l,d;return(0,N.Jh)(this,function(h){switch(h.label){case 0:return"number"!=typeof n?[2,Promise.resolve()]:(e=n,i=0,r=0,s=0,[4,t.getPageBasicInfo(e)]);case 1:return A=h.sent(),c=A.width,u=A.height,c>u?(s=90,l=c,c=u,u=l):s=0,d=4*o/300,[4,t.getPageByIndex(e)];case 2:return[2,h.sent().getPageBitmap(d,s,{x:i*(o/100),y:r*(o/100),width:c*d,height:u*d},a,"print","").then(function(e){var t=e.buffer,n=e.width,i=e.height,r=e.image;if(r||t){var o=A.width*d,a=i*A.width*d/n;return p({buffer:t,width:n,height:i,canvasWidth:o,canvasHeight:a,image:r})}})]}})})()),e]:[f(s),e])}).then(function(t){var n=(0,M._)(t,2),o=n[0],a=n[1];return i({state:"progress",pageIndex:A,total:e.length,imageURI:o}),o?Promise.all([a,o,r.appendImage(o)]):Promise.resolve([a])}).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];return i&&n.push({pageIndex:A,imageURI:i}),n})},Promise.resolve([]))}).then(function(e){return A?Promise.resolve(e):e}).then(function(t){var n=t.reduce(function(e,t){var n=t.pageIndex,i=t.imageURI;return e[n]=i,e},{});if(i({state:"end",total:e.length,result:n}),A){var o,a=r.getImageCache();(o=s).push.apply(o,(0,R._)(a)),r.clearImageCache()}else r.print(!c),u.performAction(6);return l.eventEmitter.emit(ae.documentDidPrint),n});function f(e){var n=void 0!==e.pageIndex?e.pageIndex:e;return t.getPageByIndex(n).then(function(t){if(!t.isVirtual()){var i=0,r=0,s=0,A=0,c=0;if(void 0!==e.pageIndex){var u=d.getPDFPageRender(n),l=e.rect,h={left:0,right:u.getShowWidth(),top:0,bottom:u.getShowHeight()},f={top:l.y,bottom:l.y+l.height,left:l.x,right:l.x+l.width},g=Fh.on(f).optimize(h).extract();if(g.right===g.left)throw new Error("Invalid print area: width is 0!");if(g.bottom===g.top)throw new Error("Invalid print area: height is 0!");var v=t.reverseDeviceRect(g,u.getScale(),u.getRotation()),m=t.getDeviceRect(v);i=m.left,r=m.top,s=(m.right-m.left)*(3/4),A=(m.bottom-m.top)*(3/4)}else if("number"==typeof e)if((s=t.getWidth())>(A=t.getHeight())){c=90;var y=s;s=A,A=y}else c=0;var _=4*o/300;return t.getPageBitmap(_,c,{x:i*(o/100),y:r*(o/100),width:s*_,height:A*_},a,"print","").then(function(e){var n=e.buffer,i=e.width,r=e.height,o=e.image;return p({buffer:n,width:i,height:r,canvasWidth:t.getWidth()*_,canvasHeight:r*t.getWidth()*_/i,image:o})})}})}function p(e){return(0,x._)(function(){var t,i,r,o,a,s,A,c,u,l,d;return(0,N.Jh)(this,function(h){return t=e.buffer,i=e.width,r=e.height,o=e.canvasWidth,a=e.canvasHeight,(s=e.image)?[2,n.createObjectURL(s)]:((A=document.createElement("canvas")).width=i,A.height=r,c=A.getContext("2d"),(u=c.createImageData(i,r)).data.set(new(Uint8ClampedArray||Uint8Array)(t)),c.putImageData(u,0,0),(l=document.createElement("canvas")).width=o,l.height=a,(d=l.getContext("2d")).imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.drawImage(A,0,0,i,r,0,0,o,a),[2,l.toDataURL("image/png",1)])})})()}}},{key:"print",value:function(e){return(0,x._)(function(e){var t,n,i,r,o,a,s,A,c,u,l,d,h,f,p,g,v,m,y,_,b,w,k,x,P,C,D,E,S,I,T,M,R,L,O=arguments;return(0,N.Jh)(this,function(N){switch(N.label){case 0:if(t=this,n=e.isPortfolio,i=e.rangeType,r=e.pages,o=void 0===r?[]:r,a=e.printType,s=void 0===a?["page"]:a,A=e.progress,c=e.printer,u=void 0===c?void 0:c,l=e.showHeaderFooter,d=void 0===l?this.getPrintSetting("showHeaderFooter"):l,h=e.quality,f=void 0===h?this.getPrintSetting("quality")||100:h,p=O.length>1&&void 0!==O[1]?O[1]:rT,!(g=this.currentPDFDoc).checkPermission(Xt.print|Xt.printHigh))throw new Error("Permission denied!");return v="object"===(void 0===A?"undefined":(0,F._)(A)),m=void 0===A||!0===A,y=this.resourceGenerator(Z_.PDF_DOCUMENT_CLOSING,X_.OBJECT_URL),_=y.expose().URL,b=p,w=0,p=function(e){switch(e.state){case"start":v?(A.show(),A.updateProgress({current:0,total:e.total},Tk.PROGRESSING)):m&&t.eventEmitter.emit(ae.progressChanged,"print",{current:0,total:e.total},Tk.PROGRESSING);break;case"progress":v?A.updateProgress({current:w++,total:e.total},Tk.PROGRESSING):m&&t.eventEmitter.emit(ae.progressChanged,"print",{current:w++,total:e.total},Tk.PROGRESSING);break;case"end":v?(A.updateProgress({current:w++,total:e.total},Tk.SUCCESS),setTimeout(function(){A.hide()},0)):m&&t.eventEmitter.emit(ae.progressChanged,"print",{current:w++,total:e.total},Tk.SUCCESS),w=0}b(e)},this.printer&&"function"==typeof this.printer.destroy&&this.printer.destroy(),u||(u=new rE),this.printer=u,(k=this.currentPDFDoc.pdfPortfolio&&n?this.currentPDFDoc.pdfPortfolio.root.nodeHandle:"")&&n?"allPDF"!=i?[3,2]:[4,this.currentPDFDoc.pdfPortfolio.getFolioNodePDFDoc()]:[3,10];case 1:return x=N.sent(),[3,4];case 2:return"selectedPDF"!=i?[3,4]:[4,this.currentPDFDoc.pdfPortfolio.getActivedPDFFileByPortFolioNode()];case 3:P=N.sent(),x=P,N.label=4;case 4:for(S in D=[],E=[],x)E.push(S);I=0,N.label=5;case 5:return I<E.length?(T=E[I],[4,x[T].parse()]):[3,9];case 6:for(N.sent(),C=x[T].getPageCount(),M=[],R=0;R<C;R++)M.push(R);return L=x[T],[4,this.printByProgress(M,L,_,p,u,f,s,D,k,d)];case 7:N.sent(),N.label=8;case 8:return I++,[3,5];case 9:return u.print(!d,D),[2];case 10:return[4,this.printByProgress(o,g,_,p,u,f,s,[],k,d)];case 11:return N.sent(),[2]}})}).apply(this,arguments)}},{key:"printCurrentView",value:function(){var e=this.getPDFDocRender().getBoundingClientRects();if(!(e.length>1)){var t=e.map(function(e){return{rect:{x:e.x,y:e.y,width:e.width,height:e.height},pageIndex:e.index}});this.print({pages:t,printType:["page","annot"]})}}},{key:"printEx",value:function(e){var t=this,n=e.type,i=e.pageRange,r=e.reverse,o=e.progress,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rT,s=this.currentPDFDoc;if(!s.checkPermission(Xt.print|Xt.printHigh))throw new Error("Permission denied!");var A="object"===(void 0===o?"undefined":(0,F._)(o)),c=void 0===o||!0===o,u=a;a=function(e){switch(e.state){case"start":A?(o.show(),o.updateProgress(0,Tk.PROGRESSING)):c&&t.eventEmitter.emit(ae.progressChanged,"printEx",0,Tk.PROGRESSING);break;case"progress":A?o.updateProgress(e.progress,Tk.PROGRESSING):c&&t.eventEmitter.emit(ae.progressChanged,"printEx",e.progress,Tk.PROGRESSING);break;case"end":A?(o.updateProgress(e.progress,Tk.SUCCESS),setTimeout(function(){o.hide()},0)):c&&t.eventEmitter.emit(ae.progressChanged,"printEx",e.progress,Tk.SUCCESS)}u(e)};var l=s.getPageCount();var d=this.viewerUI;var h=function(e,t){var n=function(e,t){var n=[],i=e,r=new RegExp(/[^\d\-,]/);if(r.test(i))e=i.slice(0,i.length-1);else{if(!(r=new RegExp(/[^\d]/)).test(i.substr(0,1))){for(var o=i.split(","),a=0;a<o.length;a++){var s=o[a];if(s.indexOf("-")>-1){var A=(0,M._)(s.split("-"),3),c=A[0],u=A[1];if(A[2]||""===u)return;var l=Math.min(+c,+u),d=Math.max(+c,+u);if(l<1)return;if(d>t)return d+="",void(e=i.slice(0,i.length-d.length)+t);n.push([l-1,d-1])}else{if(s<1)return;if(s>t)return void(e=i.slice(0,i.length-s.length)+t);n.push([s-1,s-1])}}return n}e=i.slice(0,i.length-1)}}(e,t)||[];if(!(n.length<1)){var i,r=[];return n.sort(function(e,t){return e[0]-t[0]}).forEach(function(e){if(r.length<1)return r.push(e),void(i=e);var t=e[0],n=e[1],o=i[1];t>=o?t>o+1?(r.push(e),i=e):i[1]=n:n>o&&(i[1]=n)}),r}d.alert({message:"dialog.error.validateRange",level:"warning"})}(i,l),f={type:n,range:h,reverse:r||!1,bleed:!1,useWorkFlow:!0},p=function(e){a(e.msg)};s.api.registerWorkflow("printEx",p);var g=this.pdfViewerRender.pdfDocRender;return(s.AdditionalActions?Promise.resolve():s.loadAdditionalActions()).then(function(e){g.setPrintState(!0),g.performAction(5),t.eventEmitter.emit(ae.documentWillPrint)}).then(function(e){return s.extractPrintPages(f).then(function(e){if(e){var n=URL.createObjectURL(e);s.addDestroyHook(function(){URL.revokeObjectURL(n)});var i={printable:n,type:"pdf",base64:!1,frameRemoveDelay:1e3,documentTitle:s.getFileName()};"function"==typeof t.printHandler?(f={data:i.printable,type:Number(f.type),range:f.range},t.printHandler(f)):PS()(i)}g.performAction(6),t.eventEmitter.emit(ae.documentDidPrint),g.setPrintState(!1),s.api.unregisterWorkflow("printEx",p)})})}},{key:"printPDFDocumentEx",value:function(e){var t=e.startIndex,n=void 0===t?0:t,i=e.endIndex,r=void 0===i?this.currentPDFDoc.getPageCount()-1:i;return r>this.currentPDFDoc.getPageCount()-1&&(r=this.currentPDFDoc.getPageCount()-1),this.printEx({type:1,pageRange:n+1+"-"+(r+1)})}},{key:"printPDFDocument",value:function(e){e.asImage;var t=e.endIndex,n=void 0===t?this.currentPDFDoc.getPageCount()-1:t,i=e.printType,r=void 0===i?["page"]:i,o=(e.reverse,e.shrinkToFit,e.silent,e.startIndex),a=void 0===o?0:o,s=(e.ui,e.rangeType),A=e.total,c=(void 0===A&&this.currentPDFDoc.getPageCount(),e.progress),u=void 0===c?this.printProgress:c,l=e.fromToArray,d=e.hideHeaderFooter,h=void 0===d?!this.getPrintSetting("showHeaderFooter"):d,f=e.quality,p=void 0===f?this.getPrintSetting("quality")||100:f,g=e.isPortfolio,v=[];if("assign"===s)for(var m=0;m<l.length;m++)if(l[m][0]===l[m][1])v.push(l[m][0]-1);else for(var y=l[m][0];y<=l[m][1];y++)v.push(y-1);else{n>this.currentPDFDoc.getPageCount()-1&&(n=this.currentPDFDoc.getPageCount()-1);for(var _=a;_<=n;_++)v.push(_)}return this.print({isPortfolio:g,rangeType:s,pages:v,printType:r,showHeaderFooter:!h,quality:p,progress:u})}},{key:"setHighlightControlsUI",value:function(e){return this.getFormFillerService().setHighlightFields(e)}},{key:"getDisplayHighlightColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HTML";return t>1&&(t=1),(0,z.colorConvertor)(e,n,t)}},{key:"highlightForm",value:function(e){return console.warn("This method is deprecated. Use FormFillerService#setHighlightFields instead!"),this.getFormFillerService().setHighlightFields(e)}},{key:"getFormHighlightColor",value:function(){return{color:(0,z.colorConvertor)(this._runtimeColor,"int",this._runtimeColorOpacity),colorRequired:(0,z.colorConvertor)(this._runtimeColorRequired,"int",this._runtimeColorOpacityRequired)}}},{key:"setFormHighlightColor",value:function(e,t){var n=.5,i=1;if((z.isChrome||z.isFirefox)&&(n=1),"number"==typeof e&&(n=(4278190080&e)>>>24,n/=255,this._runtimeColorOpacity=n,e&=16777215),"number"==typeof t?(i=(4278190080&t)>>>24,i/=255,this._runtimeColorOpacityRequired=i,t&=16777215):t=e,this._runtimeColor=e,this._runtimeColorRequired=t,this.currentPDFDoc){var r=this.getFormFillerService();r.setHighlightColor(e),r.formAPI.setRequiredColor(t)}}},{key:"getStore",value:function(){return this.store}},{key:"getStorage",value:function(){return this.getIoC().getInstanceByClass(KS)}},{key:"getDeprecatedStorage",value:function(){return this.localStorage}},{key:"setJRFontMap",value:function(e){return this.getWebPDFJR().then(function(t){return t.setFontMap(e)})}},{key:"grantQueryLocalFontsPermission",value:function(e){this.localFontsPermission=e}},{key:"getLocalFontInfos",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a,s,A,c,u,l,d=arguments;return(0,N.Jh)(this,function(h){switch(h.label){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:this.customs.getLocalFontMapFromCache,t=d.length>1&&void 0!==d[1]?d[1]:this.customs.setLocalFontMapToCache,n=d.length>2&&void 0!==d[2]?d[2]:this.customs.createLocalFontProgress,i=d.length>3&&void 0!==d[3]?d[3]:this.customs.confirmLocalFont,!this.currentPDFDoc||"denied"===this.localFontsPermission)return[2,this._emitLocalFontLoaded()];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"local-fonts"})];case 2:return"denied"===h.sent().state?[2,this._emitLocalFontLoaded()]:[3,4];case 3:return h.sent(),[2,this._emitLocalFontLoaded()];case 4:return h.trys.push([4,6,,7]),[4,e(this)];case 5:return(r=h.sent())&&(o=r.infos,a=r.datas,o&&o.length>0&&a&&a.length===o.length)?[2,this._emitLocalFontLoaded(o,a)]:!1===r?[2,this._emitLocalFontLoaded()]:[3,7];case 6:return h.sent(),[3,7];case 7:return h.trys.push([7,13,,14]),"granted"!==this.localFontsPermission?[3,8]:(s=!0,[3,10]);case 8:return[4,i(this)];case 9:s=h.sent(),h.label=10;case 10:return s?[4,yI(this,t,n)]:[3,12];case 11:return A=h.sent(),c=A.infos,u=A.datas,[2,this._emitLocalFontLoaded(c,u)];case 12:return[3,14];case 13:return l=h.sent(),console.error("font.load",l),[3,14];case 14:return[2,this._emitLocalFontLoaded()]}})}).apply(this,arguments)}},{key:"_emitLocalFontLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.eventEmitter.emit(ae.localFontLoaded,this._localFontInfos=e,this._localFontDatas=t),this._localFontInfos.join("")}},{key:"setJRWatermarkFontMap",value:function(e){return this.getWebPDFJR().then(function(t){return t.setWatermarkFontMap(e)})}},{key:"pasteAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=this.stateHandlerManager.getCurrentStates();if(r){var o=r.getStateName();if("edit-all"===o||"add-path-object"===o||"add-text-object"===o)return}if(e&&t&&!t.isVirtual()){var a=e.isCutAnnot,s=void 0!==a&&a,A=e.annotId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then(function(e){if(s){var t=[];if(n.cutAnnot&&n.cutAnnot.getId()===A){var i=n.cutAnnot;n.cutAnnotInfo&&n.cutAnnotInfo.objectNumber===A&&(i.info=(0,w._)({},n.cutAnnotInfo),n.cutAnnotInfo=null),t.push(i)}return Promise.resolve(t)}return e.getAnnotsByObjectNumArray([A])}).then(function(e){if(e.length){if(s){var r=(0,w._)({},e[0].getInfo());n.cutAnnot=null;var o=e[0].getRect(),a=o.right-o.left,A=o.top-o.bottom;return o.left=i.x,o.top=i.y,o.right=i.x+a,o.bottom=i.y-A,r.rect=(0,w._)({},o),r.isCutPasteCreate=!0,t.addAnnot(r)}return t.pasteAnnot(e[0],i)}}).then(function(e){if(e.length>0){var i=e[0],r=function(){"widget"===i.getType()&&n.getAnnotRender(t.getIndex(),i.getId()).getComponent().toggleDesignMode(!0);n.eventEmitter.emit(ae.addAnnotSuccess,i)};if(s){var o=n.getAnnotRender(t.getIndex(),i.getId()).getComponent();n.copy([o])}var a=n.customs,A=a.isCollaborationMode,c=void 0===A?rT:A,u=a.getUserName,l=void 0===u?rT:u;if(c()){var d=l();d!==i.getTitle()?i.setTitle(d).finally(r):r()}else r()}return e}).catch(rT)}}},{key:"pasteImage",value:function(e,t){var n=this;window.URL=window.URL||window.webkitURL;var i=window.URL.createObjectURL(t),r=O()("<img style='opacity:0' />");r.on("load",function(t){e=e.then(function(e){return n.getPDFDocRender().getViewBoxCenter(!1)}).then(function(e){var t=(0,M._)(e,2),o=t[0],a=t[1];if(o.isVirtual())throw new Error("Cannot paste image to virtual page!");var s,A,c=n.pdfViewerRender.pdfDocRender.getPDFPageRender(o.getIndex()),u=c.getRotation();90===u||270===u?(s=r.height()/z.dpr,A=r.width()/z.dpr):(s=r.width()/z.dpr,A=r.height()/z.dpr);var l={left:a[0]-s/2,top:a[1]-A/2,right:a[0]+s/2,bottom:a[1]+A/2};l=o.reverseDeviceRect(l,c.scale,u);var d=new XMLHttpRequest;d.open("get",i),d.responseType="arraybuffer";var h=(0,z.createDeferred)();return d.onloadend=function(e){return h.resolve(d.response)},d.send(),Promise.all([o,h.promise,l,u])}).then(function(e){var t=(0,M._)(e,4),n=t[0],i=t[1],r=t[2],o=t[3];return n.addImage(i,r,o)}).then(function(e){window.URL.revokeObjectURL(i),r.remove()}).catch(function(){window.URL.revokeObjectURL(i),r.remove()})}),r.attr("src",i),O()("body").append(r)}},{key:"paste",value:function(e){var t=this;e||(e=JSON.parse(ZI));var n=Promise.resolve(),i=function(e){var i=e.text,r=void 0===i?"":i,o=(e.value,[]);switch(e.type){case"html":o=w_.formatRichText(e.value);break;case"string":r=e.value}var a=t.stateHandlerManager.getCurrentStates();if(a&&"hand"!==a.getStateName())return;n=n.then(function(e){var n=t.getPDFDocRender().getViewMode().getCurrentPageIndex();return t.currentPDFDoc.getPageByIndex(n)}).then(function(e){if(!e.isVirtual()){var n=e.getWidth()/2,i=e.getHeight()/2,a=t.getPDFDocRender().getPDFPageRender(e.getIndex()),s={left:n,top:i,right:n+12,bottom:i-12};return e.addAnnot({type:Zi.freeText,intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",contents:r,defaultAppearance:o.length?{}:{textColor:0,textSize:12},rect:s,rotation:((360-90*e.getRotation()-a.getRotation())%360+360)%360,richText:o.length?o:null}).then(function(e){t.eventEmitter.emit(ae.addAnnotSuccess,e[0])})}}).catch(rT)};this.pastPositionInfo&&this.pastPositionInfo.times++;var r=function(n){var i=t.getPDFDocRender();return i?i.getViewBoxCenter().then(function(i){var r=(0,M._)(i,2),o=r[0],a=r[1];t.pastPositionInfo&&t.pastPositionInfo.pageIndex===o.getIndex()&&t.pastPositionInfo.pos.toString()===a.toString()||(t.pastPositionInfo={pageIndex:o.getIndex(),pos:a,times:0});var s=1e4,A=-1,c=-1,u=1e4;e.forEach(function(e){if("string"===e.type){var t=e.value;if(t.type){var n=t.rect;s=Math.min(n.left,s),A=Math.max(n.right,A),c=Math.max(n.top,c),u=Math.min(n.bottom,u)}}});var l=A-s,d=c-u,h=o.getWidth(),f=o.getHeight(),p={x:a[0]+(5*t.pastPositionInfo.times-l/2),y:a[1]-(5*t.pastPositionInfo.times+d/2)};if(p.x+l>h){var g=h-l;p.x=g<0?0:h-l}if(p.y-d<0){var v=f-d;p.y=v<0?f:d}return[o,{x:p.x+n.left-s,y:p.y-(c-n.top)}]}):Promise.resolve({x:0,y:0})};this.pasteTimes++;var o={left:1e4,right:-1,top:-1,bottom:1e4},a=0,s=0;e[0]&&"string"===e[0].type&&e[0].value.graphicObject&&function(){e.forEach(function(e){if("string"===e.type){var n=e.value;if(n.doc&&n.graphicObject&&t.currentPDFDoc.id===n.doc){var i=n.rect;o.left=Math.min(i.left,o.left),o.right=Math.max(i.right,o.right),o.top=Math.max(i.top,o.top),o.bottom=Math.min(i.bottom,o.bottom)}}}),a=o.top-o.bottom,s=o.right-o.left;var n=Object.assign({},o);n.top-=a*t.pasteTimes,n.top<0?(t.pasteNeedRestart=!0,t.pasteRestartTimes?t.pasteRestartTimes++:t.pasteRestartTimes=1):(t.pasteNeedRestart=!1,t.pasteRestartTimes=-1)}();var A=[],c=[],u=[];return e.forEach(function(e){if("string"===e.type)try{var l=e.value;if("number"==typeof l)return void i(e.value);l.type?"widget"===l.type?A.push(r(l.rect).then(function(e){var t=(0,M._)(e,2);return[t[0],t[1],l]})):n=n.then(function(e){return r(l.rect).then(function(e){var n=(0,M._)(e,2),i=n[0],r=n[1];if(!i.isVirtual())return t.pasteAnnot(l,i,r).then(function(e){var t;return e&&(t=u).push.apply(t,(0,R._)(e)),u})})}):l.doc&&l.graphicObject&&t.currentPDFDoc.id===l.doc?c.push((h=l.rect,f=l.page,t.currentPDFDoc.getPageByIndex(f).then(function(e){var n=e.getHeight(),i=Math.abs(o.top)-Math.abs(h.top),r=Math.abs(o.left)-Math.abs(h.left),A=Object.assign({},o);return A.top-=a*t.pasteTimes,A.bottom-=a*t.pasteTimes,t.pasteNeedRestart&&(n-t.pasteRestartTimes*a<0&&(t.pasteRestartTimes=0),A.top=n-t.pasteRestartTimes*a,A.bottom=A.top-a,A.left=0,A.right=s),[e,{top:A.top-i,bottom:A.top-i-(h.top-h.bottom),left:A.left-r,right:A.left-r+(h.right-h.left)}]})).then(function(e){var t=(0,M._)(e,2);return[t[0],t[1],l]})):i(e)}catch(e){0}else if("file"===e.type){var d=e.value;if(!d)return;/^image.*/.test(d.type)?t.pasteImage(n,d):n=n.then(function(n){return t.currentPDFDoc.attachFile(e.blob)}).catch(rT)}else"html"===e.type&&i(e);var h,f}),A.length&&(n=n.then(function(e){return Promise.all(A).then(function(e){var n=e[0][0];if(!n.isVirtual()){var i=e.map(function(e){var t=(0,M._)(e,3),n=(t[0],t[1]),i=t[2],r=i.srcObjectNumber,o=i.fieldName,a=i.fieldType,s=i.rect;return{objectNumber:r,fieldName:o,fieldObjNumber:i.fieldObjNumber,fieldType:a,pdfRect:Object.assign({},s,{left:n.x,top:n.y,right:n.x+(s.right-s.left),bottom:n.y-(s.top-s.bottom)})}}).filter(function(e){return!!e});return t.currentPDFDoc.form.internalCopyWidgets(n.getIndex(),i).then(function(e){return n.getUnloadedAnnots().then(function(){return Promise.all(e.map(function(e){return t.currentPDFDoc.query({type:"annot",annotId:e})})).then(function(e){return e.filter(Boolean)})}).then(function(e){return e.forEach(function(e){"widget"===e.getType()&&t.getAnnotRender(n.getIndex(),e.getId()).getComponent().toggleDesignMode(!0)}),t.eventEmitter.emit(ae.annotationAdded,e,n),e})})}})})),c.length&&(n=n.then(function(e){return Promise.all(c).then(function(e){if(!e[0][0].isVirtual()){var t=e.map(function(e){var t=(0,M._)(e,3),n=t[0],i=t[1],r=t[2];return n.pasteGraphicObject(r.graphicObject,r.page,i)});return Promise.all(t).then(function(e){return e})}})})),n.then(function(e){if(t.activeElement(),Array.isArray(e)&&(0,T._)(e[0],Gx)){var n=e[0].getPDFPage().getIndex(),i=new q,r=t.getPDFPageRender(n);e.forEach(function(e){var n=new(t.addon.graphicsManager.get(e))(e,r,t.addon);i.add(n)}),t.activeElement(i)}return e})}},{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement.tagName.toLowerCase();if("textarea"!==n&&"input"!==n&&(e||(e=this.getAllActiveElements()),Array.isArray(e)||(e=[e]),0!==e.length)){var i=[],r=e.map(function(e){if(e&&e.annot&&"widget"===e.annot.getType()){var n=e.annot;return{type:"string",value:{type:n.getType(),rect:n.getRect(),fieldName:n.getField().getName(),fieldObjNumber:n.getField().getObjNumber(),fieldType:n.getField().getType(),srcObjectNumber:n.getObjectNumber()}}}if((0,T._)(e,qd)){var r=e.annot.getType();if("strikeout"===r||"highlight"===r||"squiggly"===r||"underline"===r||"redact"===r||"caret"===r||"screen"===r||"sound"===r)return;return{type:"string",value:{isCutAnnot:t,type:r,rect:e.annot.getRect(),annotId:e.getId(),pageIndex:e.annot.page.getIndex()}}}if(e.graphicsObject&&(0,T._)(e.graphicsObject,Gx)){var o=(e=e.graphicsObject).getPDFPage();return i.push(e),{type:"string",value:{page:o.getIndex(),graphicObject:e.getId(),rect:e.getRect(),doc:o.getPDFDoc().getId()}}}}).filter(function(e){return!!e});if(r.length){if(i.length){var o=i[0].getPDFPage(),a=i.map(function(e){return e.getId()});o.cloneGraphicObject(o.getIndex(),a)}ZI=JSON.stringify(r),(0,z.copyText)(ZI),this.eventEmitter.emit(ae.copyTextSuccess),this.pasteTimes=0}}}},{key:"copyAnnots",value:function(e){var t=this;if(!Array.isArray(e))throw new Error("Incorrect param format");var n=e.filter(function(e){var t=e.getType();return"widget"==t?e.getField().getType()!==pn.Sign:!(["strikeout","highlight","squiggly","underline","redact","caret","screen","sound","popup"].includes(t)||"R"==e.info.RT&&e.info.IRT)});if(this.currentPDFDoc.checkPermission(Xt.annotForm)){var i=n.map(function(e){var n=e.getType();if("widget"===n){if(!t.currentPDFDoc.checkPermission(Xt.modify)||!t.currentPDFDoc.checkPermission(Xt.fillForm))return;var i=e,r=i.getField();return{type:n,rect:i.getRect(),fieldName:r.getName(),fieldType:r.getType(),objectNumber:i.getObjectNumber()}}return{type:n,rect:e.getRect(),id:e.getId(),pageIndex:e.getPage().getIndex()}}).filter(function(e){return!!e});return i}}},{key:"pasteAnnots",value:function(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return t=[],n=[],e.forEach(function(e){var i=e.type,r=e.rect,o=e.id,a=e.pageIndex,s=e.fieldName,A=e.fieldType,c=e.objectNumber;"widget"==i?n.push({type:"string",value:{type:i,rect:r,fieldName:s,fieldType:A,srcObjectNumber:c}}):t.push({type:"string",value:{isCutAnnot:!1,type:i,rect:r,annotId:o,pageIndex:a}})}),i=[],t.length?(o=(r=(0,R._)(i)).concat,[4,this.paste(t)]):[3,2];case 1:i=o.apply(r,[R._.apply(void 0,[A.sent()])]),A.label=2;case 2:return n.length?(s=(a=(0,R._)(i)).concat,[4,this.paste(n)]):[3,4];case 3:i=s.apply(a,[R._.apply(void 0,[A.sent()])]),A.label=4;case 4:return[2,i]}})}).call(this)}},{key:"getClipboardText",value:function(){return ZI}},{key:"cut",value:function(e){e||(e=[this.getAllActiveElements()[0]]),Array.isArray(e)||(e=[e]);var t=e[0];if(t&&(0,T._)(t,qd)&&"text"===t.annot.getType()&&!t.deleteDisabled()){var n=t.annot,i=n.getReplies(),r=(0,w._)({},n.getInfo());r.repliesSummary.length&&r.repliesSummary.forEach(function(e){if(!e.content){var t=i.find(function(t){return t.getId()===e.id&&t.info.IRT===n.getId()});t&&(e.content=t.getContent())}}),this.cutAnnotInfo=(0,w._)({},r),this.cutAnnot=n,this.copy(t,!0),t.removeAnnot()}}},{key:"_setSaveBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rT;this._saveBefore=e}},{key:"registerSignatureHandler",value:function(e,t,n){throw new Error("this api is not working now!!")}},{key:"setEnableShortcutKey",value:function(e){this.config.enableShortcutKey=e,e?this.keyboard.enable():this.keyboard.disable()}},{key:"isShortcutKeyEnabled",value:function(){return this.config.enableShortcutKey}},{key:"setEnableLoad3DModule",value:function(e){this.config.enableLoad3DModule=e}},{key:"isLoad3DModuleEnabled",value:function(){return this.config.enableLoad3DModule}},{key:"setEnable3DInteraction",value:function(e){var t,n,i;this.config.enable3DInteraction=e,null===(i=this.getPDFDocRender())||void 0===i||null===(n=i.pagesRender)||void 0===n||null===(t=n.pageRenders)||void 0===t||t.forEach(function(t){var n,i=null===(n=t.annotsRender)||void 0===n?void 0:n.annotRenders;if(i)for(var r in i){var o,a=i[r];"3d"===(null==a||null===(o=a.annot)||void 0===o?void 0:o.getType())&&(e?a.component.active3DHandle():a.component.disable3DHandle())}})}},{key:"is3DInteractionEnabled",value:function(){return this.config.enable3DInteraction}},{key:"isMouseWheelZoomEnabled",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!!e&&JSON.parse(e).handUseMouseZoom}},{key:"onShortcutKey",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var r=z.Shortcut.from(e);if("function"!=typeof t&&"object"!==(void 0===t?"undefined":(0,F._)(t))||Array.isArray(t))throw new Error("Incorrect handler param format");var o=rT;i&&(o=this.keyboard.interceptor(function(e,t){if(e.context===n.keyboard.getDefaultShortcutContext())return t(e);e.shortcut.equals(r)||t(e)}));var a="function"==typeof t?t:t&&t.keydown,s="function"==typeof t?void 0:t&&t.keyup,A={shortcut:r,keydown:a,keyup:s},c=this.keyboard.onShortcut(r,function(e){switch(e.opportunity){case z.ShortcutEventApportunity.keydown:A.keydown&&A.keydown(e);break;case z.ShortcutEventApportunity.keyup:A.keyup&&A.keyup(e)}},{keydown:"function"==typeof a,keyup:"function"==typeof s}),u=function(){o(),c()};return A.remove=u,this.keyboardListeners.push(A),u}},{key:"offShortcutKey",value:function(e,t){if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var n="function"==typeof t?t:t&&t.keydown,i="function"==typeof t?void 0:t&&t.keyup,r=z.Shortcut.from(e);this.keyboardListeners=this.keyboardListeners.filter(function(e){var t=!1;return r.equals(e.shortcut)&&(n||i?(n===e.keydown&&(e.keydown=void 0),i===e.keyup&&(e.keyup=void 0),t=!e.keydown&&!e.keyup):t=!0),!t||(e.remove(),!1)})}},{key:"getInkSignList",value:function(e){return(this.inkSignManager.getList()||[]).map(function(t){return{dataURL:"blob"===e?AP(t.dataURL):t.dataURL}})}},{key:"setInkSignList",value:function(e){var t=this;Array.isArray(e)&&e.forEach(function(e){if(e.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(e.dataURL)){var n=t.inkSignManager.addInkSign();n.setDataURL(e.dataURL),t.inkSignManager.push(n)}})}},{key:"setDefaultPrintSetting",value:function(e){var t=e.quality;if(void 0===t&&(t=e.quality=100),(t-100|1e3-t)<0)throw new Error("quality range error, 100 to 1000");var n=this.config.printSetting;this.config.printSetting=Object.assign(n,e)}},{key:"getPrintSetting",value:function(e){return this.config.printSetting[e]}},{key:"setAutoCompleteSetting",value:function(e){var t=this.config.autoCompleteSetting;this.config.autoCompleteSetting=Object.assign(t,e)}},{key:"getAutoCompleteSetting",value:function(){return this.config.autoCompleteSetting}},{key:"clearAllAutoCompleteEntries",value:function(){return new GE(this).clearDbEntries()}},{key:"deleteAutoCompleteEntry",value:function(e){return new GE(this).deleteEntry(e)}},{key:"getSavedAutoCompleteEntries",value:function(){return new GE(this).getDbEntries()}},{key:"getAllAutoCompleteEntries",value:function(){return new GE(this).getAllEntries()}},{key:"setPencilDrawingTimeOut",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("pencilStateHandler",{pencilTimeout:e})}},{key:"setEraserSize",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("eraserStateHandler",{width:e})}},{key:"setSnapMode",value:function(e,t){switch(e){case Tn:case wn:case Mn:case Rn:case Fn:case Nn:case jn:case Bn:break;default:throw new Error("Incorrect state handler name: ".concat(e,"!"))}var n=this.getStateHandlerManager(),i=(n.getStateHandlerConfig(e)||{}).snapMode;n.pushStateHandlerConfig(e,{snapMode:t&&t.slice(0)}),this.eventEmitter.emit(ae.snapModeChanged,e,t,i)}},{key:"getSnapMode",value:function(e){return(this.getStateHandlerManager().getStateHandlerConfig(e)||{}).snapMode||[]}},{key:"setDocReadColors",value:function(e){var t=this;if("object"!==(void 0===e?"undefined":(0,F._)(e))||Array.isArray(e)||!e.hasOwnProperty("background")||!e.hasOwnProperty("foreground"))throw new Error("Nonsupport colors param format");var n=this.getCurrentPDFDoc();if(n)return n.setColors(e).then(function(){var e=t.getPDFDocRender();if(e)for(var n=e.getPDFDoc().getPageCount(),i=0;i<n;i++){var r=t.getPDFPageRender(i);r&&r.isRendered&&r.redraw(!0)}})}},{key:"setPageDisplayPreferences",value:function(){var e=this.getCurrentPDFDoc(),t=localStorage.getItem("PAGE_DISPLAY_DATA");if(t){var n=JSON.parse(t);e&&e.setPageDisplayPreferences(n)}}},{key:"activateAnnotation",value:function(e){var t=this;if(!e.annotationId)throw new Error("Annotation id can't empty");var n=this.getPDFDocRender();if(!n||!this.currentPDFDoc)return Promise.resolve();var i=e.annotationId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then(function(e){return"number"==typeof i?e.getAnnotsByObjectNumArray([i]):e.getAnnots().then(function(t){if(i.trim().length<1)return Promise.resolve();var n=e.getAnnotObjectNum(i);return 0==n?Promise.resolve():(i=n,e.getAnnotsByObjectNumArray([n]))})}).then(function(r){var o=r[0];if(!o)throw new Error("the annotation does not exist");var a=o.getType();if("popup"===a)throw new Error("the popup annotation can not be activated");if(e.showCommentList&&"freetext"!=a){var s=function(){var n=t.getAnnotRender(e.pageIndex,i);if(n)return Promise.resolve(n.component.showReplyDialog()).then(function(){return o});t.getPDFPageRender(e.pageIndex).getAnnotRenderSafely(i).then(function(e){return Promise.resolve(e.component.showReplyDialog()).then(function(){return o})})},A=s();return A||n.goToPage(e.pageIndex,{x:o.getRect().left,y:o.getRect().top},!0).then(s).then(function(){return o})}return o}).then(function(t){return n.goToPage(e.pageIndex,{x:t.getRect().left,y:t.getRect().top},!0)}).then(function(n){var r=t.getPDFPageRender(e.pageIndex);r.waitRendered().then(function(){r.annotsRender&&r.annotsRender.activeAnnot(i)})})}},{key:"convertClientCoordToPDFCoord",value:function(e){for(var t=e.clientX,n=void 0===t?0:t,i=e.clientY,r=void 0===i?0:i,o=0,a=0,s=0,A=this.getPDFDocRender().pagesRender,c=A.getViewMode().getVisibleIndexes(),u=function(e){return n>=e.left&&n<e.right&&r>=e.top&&r<e.bottom},l=0,d=c.length;l<d;l++){o=c[l];var h=A.getPDFPageRender(o).$ui[0].getBoundingClientRect();if(u(h)){a=n-h.left,s=r-h.top;break}if(l==d-1)return Promise.resolve(null)}var f=A.getPDFPageRender(o);return f.reverseDevicePoint([a,s]).then(function(e){var t=(0,M._)(e,2),n=t[0],i=t[1];return{index:o,left:n,top:i,scale:f.getScale(),rotation:f.getRotation()}})}},{key:"setAutoCalculateFieldsFlag",value:function(e){var t=this.pdfViewerRender.pdfDocRender;if(t){var n=t.getPDFDoc();if(n){var i=n.getPDFForm();i?i.enableCalculate(e):console.error("get form error")}else console.error("get doc error")}else console.error("get doc Render error")}},{key:"getModuleLicenseRight",value:function(){var e=this;this.getWebPDFJR().then(function(t){t.getAllModuleLicenseRight().then(function(t){e.getStore().dispatch(z.MODULE_LICENSE_INFO,t)})})}},{key:"addTooltipsForAllFormFields",value:function(){if(this.currentPDFDoc)return this.currentPDFDoc.getPDFForm().addTooltipsForAllFormFields()}},{key:"setLayoutGrid",value:function(e){return e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3,color:"#7f7fff"},e)).color=(0,z.colorConvertor)(e.color),e.subdivisions=Math.max(1,e.subdivisions)),this.config.layoutGrid=e||null,this.redrawContent()}},{key:"setLayoutGridByStorageSettings",value:function(e){var t=vT(),n=t.gridOptions,i=t.settings;return!0===e&&(i.Grid=!i.Grid,mT(i)),this.config.layoutGrid=i.Grid?n:null,this.eventEmitter.emit(ae.gridToggle,i.Grid,e),this.redrawContent()}},{key:"setCustomMargin",value:function(e){this.getPDFViewerRender();O()("html").css("--facing-margin",e+"px")}},{key:"setMultipage",value:function(e){var t=this,n=this.viewModeManager.currentViewMode;if(n&&this.getPDFDocRender()){var i=n.getName(),r=["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"];if(r.forEach(function(n){t.store.dispatch("multipage-"+n,e)}),this.getPDFDocRender().doc.getPageCount()<=1)this.viewModeManager.switchTo("single-page-view-mode");else if(r.includes(i)){var o=this.viewModeManager.ViewModes[i];this.viewModeManager.currentViewMode=o,this.viewModeManager.switchTo(""),setTimeout(function(){t.viewModeManager.switchTo(i)})}}}},{key:"updateFormatPageNumbers",value:function(){this.eventEmitter.emit(ae.pagesLabelChange)}},{key:"getLayoutGrid",value:function(){return this.config.layoutGrid||null}},{key:"setSnapGrid",value:function(e){e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3},e)).subdivisions=Math.max(1,e.subdivisions)),this.config.snapGrid=e||null}},{key:"setSnapGridByStorageSettings",value:function(e){var t=vT(),n=t.gridOptions,i=t.settings;!0===e&&(i.SnapGrid=!i.SnapGrid,mT(i)),this.config.snapGrid=i.SnapGrid?n:null,this.eventEmitter.emit(ae.snapGridToggle,i.SnapGrid,e)}},{key:"getSnapGrid",value:function(){return this.config.snapGrid||null}},{key:"setLineWeight",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,x._)(function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.currentPDFDoc?this.currentPDFDoc.otherOptions.renderConfigLineWeight===e?[2]:(this.currentPDFDoc.otherOptions.renderConfigLineWeight=e,[4,this.currentPDFDoc.setRenderConfigLineWeight(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return t?(this.pdfViewerRender.pdfDocRender.pagesRender.setRenderFlags(8),this.redrawContent(),[2]):[2]}})}).call(this)}},{key:"setFormFieldFocusRectangleVisible",value:function(e){this.element.classList.toggle("hide-form-field-focus-rectangle",!e)}},{key:"setJPXDownSample",value:function(e){return this.getWebPDFJR().then(function(t){return t.setJPXDownSample(e)})}},{key:"setFormCreationContinuously",value:function(e){this.getStore().dispatch(Ie,e)}},{key:"isFormCreationContinuously",value:function(){return!!this.getStore().getCurrentValue(Ie)}},{key:"startFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?Promise.resolve():this.currentPDFDoc.startFormDesignerAssit().then(function(){e.isDesignerAssistantEnabled=!0,e.eventEmitter.emit(ae.designerAssistantStatusChanged,!0)})}},{key:"stopFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?this.currentPDFDoc?this.currentPDFDoc.stopFormDesignerAssit().then(function(){e.isDesignerAssistantEnabled=!1,e.eventEmitter.emit(ae.designerAssistantStatusChanged,!1)}):(this.isDesignerAssistantEnabled=!1,void this.eventEmitter.emit(ae.designerAssistantStatusChanged,!1)):Promise.resolve()}},{key:"setActionCallback",value:function(e){this.JSEngine&&this.JSEngine.setActionCallback(e)}},{key:"addFontMaps",value:function(e){var t=this.getStore(),n=(t.getCurrentValue(zh)||{all:[]}).all;return n.length>0&&(e=e.filter(function(e){return!n.some(function(t){return t.name===e.name&&t.style===e.style&&t.charset===e.charset})})),t.dispatch(zh,{all:n.concat(e),new:e}),this.eventEmitter.emit(ae.AddFontMaps,e),this.getWebPDFJR().then(function(t){return t.addFontMap(e)})}},{key:"getIoC",value:function(){return this.ioc}},{key:"getReadAloudService",value:function(){return this.readAloudService||(this.readAloudService=this.ioc.getInstanceByClass(nS)),this.readAloudService}},{key:"getPDFDocParserService",value:function(){return this.ioc.getInstanceByClass(uS)}},{key:"getKeyboard",value:function(){return this.keyboard}},{key:"toggleCollaborationMode",value:function(e){this.eventEmitter.emit(ae.toggleCollaborationMode,e)}},{key:"getGroupCount",value:function(){var e={"-1":[]};return this.getAllActiveElements().forEach(function(t){var n=t.annot,i=n.getGroupHeader&&n.getGroupHeader();i?(e[i.getId()]=e[i.getId()]||[]).push(t):e[-1].push(t)}),[Object.keys(e).length-1,e[-1].length,e]}},{key:"initADPs",value:function(){this.ADPs||(this.ADPs=JSON.parse(localStorage.getItem(DefaultAnnotPropertyKey))||{})}},{key:"ADPs",get:function(){var e=this.pdfEngine;return e?e.ADPs:{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(this.webPDFJR||this.webPDFSR).setAnnotDefaultProperty(e,t,n),this.eventEmitter.emit("setAnnotDefaultProperty",{type:e,intent:t,props:n})}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(this.webPDFJR||this.webPDFSR).getAnnotDefaultProperty(e,t)}},{key:"setWorker",value:function(e){var t=this;return this.getWebPDFJR().then(function(n){return n.api.setWorker(e),n.cacheFontConfig((t.config.jr.fontServer||"")+"/",[],[])})}},{key:"previewIconDoc",value:function(e){return this.getWebPDFJR().then(function(t){return t.api.previewIconDoc(e)})}},{key:"getBuiltInComparisonStringResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentLanguage();return this.i18n.getDataByLanguage(e).viewer_.compareResultStrings}},{key:"loadBuiltinComparisonTemplates",value:function(){return(0,x._)(function(){var e,t,n,i,r,o,a;return(0,N.Jh)(this,function(s){switch(s.label){case 0:return e=this,t=function(t){return(0,x._)(function(){var e;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:return[4,n.sent().blob()];case 2:return e=n.sent(),[2,this.loadPDFDocByFile(e)]}})}).call(e)},n="assets/comparison",i=Dg(this.libPath,n,"new_summary.pdf"),r=Dg(this.libPath,n,"old_summary.pdf"),[4,t(i)];case 1:return o=s.sent(),[4,t(r)];case 2:return a=s.sent(),[2,{newTemplateId:o.id,oldTemplateId:a.id}]}})}).call(this)}},{key:"compareDocuments",value:function(e,t,n,i){return(0,x._)(function(){var r,o,a,s,A,c;return(0,N.Jh)(this,function(u){switch(u.label){case 0:return n.newTemplateId&&n.oldTemplateId?[3,2]:[4,this.loadBuiltinComparisonTemplates()];case 1:r=u.sent(),o=r.newTemplateId,a=r.oldTemplateId,n.newTemplateId=o,n.oldTemplateId=a,u.label=2;case 2:return n.stringResource||(n.stringResource=this.getBuiltInComparisonStringResource()),[4,this.pdfEngine];case 3:return[4,(s=u.sent()).getPDFDocByCacheId(e,{fileName:n.baseFileName})];case 4:return A=u.sent(),[4,s.getPDFDocByCacheId(t,{fileName:n.otherFileName})];case 5:return c=u.sent(),[2,A.compareWith(c,n,i)]}})}).call(this)}},{key:"getOverlayComparisonService",value:function(){return this.getIoC().getInstanceByClass(VS)}},{key:"getOverlayComparisonOptionsService",value:function(){return this.getIoC().getInstanceByClass(jS)}},{key:"registerProgressHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.progressHandler=e}},{key:"updateCustomOptions",value:function(e){Object.assign(this.customs,e)}},{key:"getCustomOptionsUpdater",value:function(){return this.ioc.getInstanceByClass($S)}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"getBookmarkDataService",value:function(){return this.ioc.getInstanceByClass(PC)}},{key:"registerMultimediaPlayers",value:function(e){var t;(t=this.multimediaPlayers).unshift.apply(t,(0,R._)(e))}},{key:"grantEditPDFAPermission",value:function(e){this.editPDFAPermission=e}},{key:"getFormFillerService",value:function(){return this.ioc.getInstanceByClass(FI)}},{key:"getViewerUI",value:function(){return this.viewerUI}},{key:"getSignatureService",value:function(){return this.ioc.getInstanceByClass(CC)}},{key:"getSpellCheckerService",value:function(){return this.ioc.getInstanceByClass(nT)}}]),t}(z.Disposable);const pT=fT;function gT(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}function vT(){var e=JSON.parse(localStorage.getItem("layoutPreference"))||{WidthBetweenLines:"1.000",HeightBetweenLines:"1.000",GridOffsestFromLeftEdge:"1.000",GridOffsestFromTopEdge:"1.000",Subdivisions:"3",GridLineColcor:"#1e43d6",Grid:!1,SnapGrid:!1};return{gridOptions:{unit:"inch",width:e.WidthBetweenLines,height:e.HeightBetweenLines,offsetLeft:e.GridOffsestFromLeftEdge,offsetTop:e.GridOffsestFromTopEdge,subdivisions:Math.max(1,e.Subdivisions),color:(0,z.colorConvertor)(e.GridLineColcor)},settings:e}}function mT(e){localStorage.setItem("layoutPreference",JSON.stringify(e))}function yT(e){var t=e.key,n=e.value,i=e.notNull,r=void 0===i||i,o=e.notSpace,a=void 0!==o&&o,s=e.notSpecialChar;if(void 0!==s&&s&&/[~!@#'\.\$%\^&\*\(\)\=;\[\]\{\}]/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Special characters is invalid."));if(a&&/\s/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Space is invalid."));if(r&&0==n.length)throw new Error("[Illegal Argument] Invalid ".concat(t,": ").concat(t," is required."))}function _T(e){if(0===e.size)return Promise.resolve(new Uint8Array(0));var t=new FileReader;return new Promise(function(n,i){t.onload=function(){n(new Uint8Array(t.result))},t.onerror=function(e){return i(e)},t.readAsArrayBuffer(e)})}function bT(e,t){if(0===e.size)return Promise.resolve("");var n=new FileReader;return new Promise(function(i,r){n.onload=function(){i(n.result)},n.onerror=function(e){return r(e)},n.readAsText(e,t)})}function wT(e,t){for(var n=0;n<t.length;n++)if(e[n]===t.charCodeAt(n))return!0;return!1}function kT(e,t){if(0===e.size)return Promise.resolve(!1);var n;if(t){var i=t.lastIndexOf(".");n=t.substr(i+1)}return bT(e.slice(0,4)).then(function(e){return"%PDF"===e||"pdf"===n})}function xT(e){var t=Array.from(e).slice(0,4).map(function(e){return String.fromCharCode(e)}).join("");return"%PDF"===t}function PT(e,t){return 0===e.size?Promise.resolve(!1):_T(e.slice(0,35)).then(function(e){return ST(e,t)?DT():TT(e,t)?ET():IT(e,t)})}var CT=document.createElement("video");function DT(){return!!CT.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}function ET(){return!!CT.canPlayType&&!!CT.canPlayType('video/ogg; codecs="theora, vorbis"')}function ST(e,t){return!!t.match(/\.mp4$/)}function IT(e,t){return!!t.match(/\.webm$/)}function TT(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&MT(e)}function MT(e){return 116===e[29]&&104===e[30]&&101===e[31]&&111===e[32]&&114===e[33]&&97===e[34]}var RT=document.createElement("audio");function FT(){return!!RT.canPlayType("audio/mp3")}function NT(){return!!RT.canPlayType&&!!RT.canPlayType('audio/ogg; codecs="vorbis"')}function LT(e,t){return _T(e.slice(0,35)).then(function(e){return OT(e,t)?FT():!!jT(e,t)&&NT()})}function OT(e,t){return!!t.match(/\.mp3$/)}function jT(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&BT(e)}function BT(e){return 118===e[29]&&111===e[30]&&114===e[31]&&98===e[32]&&105===e[33]&&115===e[34]}function VT(e,t){return _T(e.slice(0,4)).then(function(e){return HT(e)||UT(e)||zT(e)||WT(e)||YT(t)})}function HT(e){return 255===e[0]&&216===e[1]&&255===e[2]}function UT(e){return 137===e[0]&&80===e[1]&&78===e[2]&&71==e[3]}function zT(e){return 71===e[0]&&73===e[1]&&70===e[2]&&56===e[3]}function WT(e){return 66===e[0]&&77===e[1]}function YT(e){return/\.svg$/.test(e)}function GT(e){return 82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]}function $T(e){return bT(e.slice(0,4)).then(function(e){return"%FDF"===e})}function JT(e){return bT(e.slice(0,4)).then(function(e){return"%XDP"===e})}function qT(e){return e>=0&&e<=6||e>=14&&e<=31}var KT=1024;function ZT(e,t){return/\.xfdf/.test(t)||0===e.size?Promise.resolve(!1):$T(e).then(function(t){return!t&&JT(e).then(function(t){if(t)return!1;var n=e.size>KT?e.slice(0,KT):e;return"function"==typeof e.stream?function(e){var t=e.stream().getReader();return t.read().then(function e(n){if(n.done)return!0;for(var i=n.value,r=0;r<i.length;r++)if(qT(i[r]))return!1;return t.read().then(e)})}(n):function(e){var t=512,n=Math.ceil(e.size/t),i=function(e){for(var t=0;t<e.length;t++)if(qT(e[t]))return!1;return!0};return Array(n).fill(function(e){return _T(e).then(i)}).reduce(function(n,i,r){return n.then(function(n){if(n){var o=t*r,a=Math.min(o+t,e.size),s=e.slice(o,a);return i(s)}return!1})},Promise.resolve(!0))}(n)})})}var XT=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t}return(0,D._)(e,[{key:"getPassword",value:function(){var e=this,t=(0,z.createDeferred)();return setTimeout(function(){var n=prompt(e.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return t.reject(new Error("User has been cancelled the prompt dialog"));t.resolve(n)},0),t.promise}}]),e}(),QT=function(e){return String(e).replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},eM=function(e){return String(e).replace(/[<>&"\s]/g,function(e){return{" ":"&nbsp;","<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},tM=function(e){return String(e).replace(/([!\"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},nM=(n(5789),function(e){return e.NONE="none",e.DASHED="dashed",e.SOLID="solid",e.DOTTED="dotted",e}({})),iM=function(e){return e.START="selection-start",e.UPDATE="selection-update",e.END="selection-end",e.CANCEL="selection-cancel",e}({});function rM(e){return(0,T._)(e,HTMLElement)?function(n,i){return"selection-update"===i&&n?t(n,e.getBoundingClientRect()):n}:function(n,i){return"selection-update"===i&&n?t(n,e):n};function t(e,t){var n=e.clientLeft,i=e.clientTop,r=n+e.width,o=i+e.height;return n<t.left&&(n=t.left),i<t.top&&(i=t.top),r>t.right&&(r=t.right),o>t.bottom&&(o=t.bottom),{clientLeft:n,clientTop:i,width:r-n,height:o-i}}}var oM=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"anchorElement",document.body),(0,U._)(e,"fillColor","rgba(".concat(125,",",186,",",255,", 0.3)")),(0,U._)(e,"borderColor","#7DBAFF"),(0,U._)(e,"borderStyle","solid"),(0,U._)(e,"borderWidth",1),(0,U._)(e,"removeMaskOnEnd",!0),(0,U._)(e,"areaEl",document.createElement("div")),(0,U._)(e,"builtInInteraction",!0),(0,U._)(e,"isPrepared",!1),(0,U._)(e,"isAvailable",!0),(0,U._)(e,"store",new z.Store),(0,U._)(e,"interceptors",[]),Object.keys(n).forEach(function(t){e[t]=n[t]}),e.areaEl.className="fv__viewer-selections-area",e.areaEl.style.cssText+="\n            outline: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";\n            background-color: ").concat(e.fillColor,";\n        "),e.store.subscribe("selection-update",function(t){e.areaEl.style.cssText+="\n                width: ".concat(t.width,"px;\n                height: ").concat(t.height,"px;\n                left: ").concat(t.clientLeft,"px;\n                top: ").concat(t.clientTop,"px;\n            ")}),e.addDestroyHook(function(){e.store.destroy()}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"eventInterceptor",value:function(e){this.interceptors.push(e)}},{key:"reducer",value:function(e){this.store.reducer(e)}},{key:"on",value:function(e,t){return this.builtInInteraction&&this.prepare(),this.store.subscribe(e,t)}},{key:"start",value:function(e,t){document.body.appendChild(this.areaEl);var n=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-start",{clientLeft:e,clientTop:t,left:e-n.left,top:t-n.top,width:0,height:0})}},{key:"adjust",value:function(e,t){var n=this.store.getCurrentValue("selection-start"),i=n.clientLeft+e,r=n.clientTop+t,o=Math.min(n.clientLeft,i),a=Math.min(n.clientTop,r),s=Math.abs(e),A=Math.abs(t),c=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-update",{clientLeft:o,clientTop:a,left:o-c.left,top:a-c.top,width:s,height:A})}},{key:"end",value:function(){this.removeMaskOnEnd&&this.removeMask();var e=this.store.getCurrentValue("selection-update");this.store.dispatch("selection-end",e)}},{key:"cancel",value:function(){this.removeMask(),this.store.dispatch("selection-cancel",void 0)}},{key:"removeMask",value:function(){this.areaEl.parentElement===document.body&&document.body.removeChild(this.areaEl)}},{key:"enable",value:function(){this.isAvailable=!0}},{key:"disable",value:function(){this.isAvailable=!1}},{key:"prepare",value:function(){var e=this;if(!this.isPrepared){var t=new Jr.Manager(this.anchorElement);t.add(new Jr.Pan({direction:Jr.DIRECTION_ALL}));var n,i=!1;t.on("panstart",function(t){e.isAvailable&&(e.interceptors.some(function(e){return!e(t)})||(i=!0,n=t.center,e.start(t.center.x,t.center.y),e.adjust(0,0)))}),t.on("panmove",function(t){if(e.isAvailable&&i){var r=t.center.x-n.x,o=t.center.y-n.y;e.adjust(r,o)}}),t.on("panend",function(t){e.isAvailable&&i&&(i=!1,e.end())}),t.on("pancancel",function(t){e.isAvailable&&i&&(i=!1,e.cancel())}),this.addDestroyHook(function(){t.destroy(),e.end()})}}}]),t}(z.Disposable);var aM=function(e){var t={isAllowed:!1,print:2,accessibility:!0,copy:!0,change:4};return"password"===e?(0,w._)({userPassword:"",ownerPassword:"",isEncryptMetadata:!0,cipherType:fP.AES128},t):"certificate"===e?t:{}},sM=function(e){if(void 0===e)return{};var t={};return t.print=2048&e?2:4&e?1:0,t.accessibility=!!(512&e),t.copy=!!(16&e),t.change=8&e&&32&e&&256&e?4:32&e&&256&e?3:256&e?2:1024&e?1:0,t},AM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.print,n=e.change,i=e.accessibility,r=e.copy;if("number"!=typeof t||"number"!=typeof n||"boolean"!=typeof i||"boolean"!=typeof r)return 0;var o=65532;return t<2&&(o^=2048,t<1&&(o^=4)),i||(o^=512),r||(o^=16),4===(n=+n)?o^=1024:3===n?(o^=8,o^=1024):2===n?(o^=8,o^=32,o^=1024):1===n?(o^=8,o^=32,o^=256):0===n&&(o^=8,o^=32,o^=256,o^=1024),o+=4294901760},cM=null,uM=function(){return cM},lM=function(e){cM=e},dM="",hM=function(){return dM},fM=function(){dM=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},pM=function(e,t){if(!e||!t)return Promise.resolve(!1);var n=t.recipientList,i=t.cipherType,r=t.isEncryptMetadata,o=e.pdfViewer.currentPDFDoc,a=n.map(function(e){return{cerFile:e.cerFile,permission:e.permissionData.isAllowed?e.permissionData:null}});return o.setCertificateAndPermission(a,i,r).then(function(t){return t&&(e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-certificate-permission-alert"}),e.eventEmitter.emit(ae.securityTypeChanged),lM(null)),t})},gM=function(e,t){e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-password-permission-alert"}),e.eventEmitter.emit(ae.securityTypeChanged);var n=(0,k._)((0,w._)({},t,sM(t.permissionData.value)),{isAllowed:t.permissionData.isAllowed});delete n.permissionData,lM(n),fM(t.ownerPassword)},vM=function(e,t,n){if(e){var i=e.pdfViewer.currentPDFDoc,r=function(t){return e.promptPassword("","password-protect:buttons.inputOwnerPassword","password-protect:buttons.title","body",t?"error":void 0,t)},o=function(e){return e?(n||i).checkPassword(e).then(function(n){if(3!==n)throw r("password-protect:warning.incorrect-owner-pwd").then(o,function(){}),"Incorrect password";fM(e),t&&t(e)}):r("password-protect:error.admin-pwd-cannot-blank").then(o,function(){})};return r().then(o,function(){throw"User cancel input password"})}};var mM=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.$ui.get(0).parentElement;return(0,C._)(this,t),(n=(0,P._)(this,t,[e])).scrollHost=i,n.clientWidth=-1,n.clientHeight=-1,window.ResizeObserver&&(n.observer=new ResizeObserver(function(e){(0,M._)(e,1)[0]&&(n.clientWidth=i.clientWidth,n.clientHeight=i.clientHeight)}),n.observer.observe(i),n.addDestroyHook(function(){n.observer.unobserve(i)})),n}return(0,I._)(t,e),(0,D._)(t,[{key:"getScrollHost",value:function(){return this.scrollHost}},{key:"scrollBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost;i.scrollBy?i.scrollBy({top:t,left:e,behavior:n}):(i.scrollLeft=i.scrollLeft+e,i.scrollTop=i.scrollTop+t)}},{key:"scrollTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost,r=i.scrollLeft,o=i.scrollTop;if(i.scrollTo?i.scrollTo({left:e,top:t,behavior:n}):(i.scrollLeft=e,i.scrollTop=t),0===r||!o){var a=new Event("scroll");Object.defineProperty(a,"isMock",{value:!0}),i.dispatchEvent(a)}}},{key:"getScrollOffset",value:function(){var e=this.viewerRender.$ui.get(0),t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{offsetLeft:Math.max(0,n.left-t.left),offsetTop:Math.max(0,n.top-t.top)}}},{key:"getScrollOffsetLeft",value:function(){return this.getScrollOffset().offsetLeft}},{key:"getScrollOffsetTop",value:function(){return this.getScrollOffset().offsetTop}},{key:"getScrollTop",value:function(){return this.scrollHost.scrollTop}},{key:"getScrollLeft",value:function(){return this.scrollHost.scrollLeft}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getWidth",value:function(){var e;return-1!==this.clientWidth?(e=this.clientWidth,this.clientWidth=-1):e=this.scrollHost.clientWidth,e}},{key:"getHeight",value:function(){var e;return-1!==this.clientHeight?(e=this.clientHeight,this.clientHeight=-1):e=this.scrollHost.clientHeight,e}},{key:"addScrollEventListener",value:function(e){return(0,E._)((0,S._)(t.prototype),"addScrollEventListener",this).call(this,e)}}],[{key:"create",value:function(e){return function(t){function n(t){return(0,C._)(this,n),(0,P._)(this,n,[t,e])}return(0,I._)(n,t),n}(t)}}]),t}(Xh);const yM=mM;var _M=function(e){return e[e.MOVE_TO=1]="MOVE_TO",e[e.LINE_TO=2]="LINE_TO",e}({}),bM=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"x",void 0),(0,U._)(this,"y",void 0),this.x=t,this.y=n}return(0,D._)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"div",value:function(e){return this.mult(1/e)}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normalize",value:function(){var e=this.length();return this.div(e)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"toPoint",value:function(e){return new wM(this.x,this.y,e)}}]),e}(),wM=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_M.MOVE_TO;(0,C._)(this,e),(0,U._)(this,"x",void 0),(0,U._)(this,"y",void 0),(0,U._)(this,"type",void 0),this.x=t,this.y=n,this.type=i}return(0,D._)(e,[{key:"distanceTo",value:function(e){return this.vectorTo(e).length()}},{key:"vectorTo",value:function(e){return new bM(e.x-this.x,e.y-this.y)}},{key:"toVector",value:function(){return new bM(this.x,this.y)}},{key:"newType",value:function(t){return e.fromPoint(this,t)}}],[{key:"fromVec",value:function(t,n){return new e(t.x,t.y,n)}},{key:"fromPoint",value:function(t,n){return new e(t.x,t.y,n)}}]),e}(),kM=function(){function e(t,n){(0,C._)(this,e),(0,U._)(this,"radius",void 0),(0,U._)(this,"origin",void 0),this.radius=t,this.origin=n}return(0,D._)(e,[{key:"contains",value:function(e){return this.origin.distanceTo(e)<this.radius}},{key:"intersectsLine",value:function(e,t){var n=e.x,i=e.y,r=t.x,o=t.y,a=this.origin,s=a.x,A=a.y,c=Math.pow(r-n,2)+Math.pow(o-i,2),u=2*((r-n)*(n-s)+(o-i)*(i-A)),l=u*u-4*c*(s*s+A*A+n*n+i*i-2*(s*n+A*i)-this.radius*this.radius),d=[];if(0===l){var h=-u/(2*c),f=new wM(n+h*(r-n),i+h*(o-i));xM(e,t,f)&&d.push(f)}else if(l>0){var p=(-u-Math.sqrt(l))/(2*c),g=(-u+Math.sqrt(l))/(2*c),v=new wM(n+p*(r-n),i+p*(o-i)),m=new wM(n+g*(r-n),i+g*(o-i));xM(e,t,v)&&d.push(v),xM(e,t,m)&&d.push(m)}return d}}]),e}();function xM(e,t,n){var i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.y,t.y);return n.x>=i&&n.x<=r&&n.y>=o&&n.y<=a}var PM=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"radius",void 0),this.radius=t}return(0,D._)(e,[{key:"erase",value:function(e,t){var n=e.reduce(function(e,t){return t.type===_M.MOVE_TO&&e.push([]),e[e.length-1].push(t),e},[]),i=new kM(this.radius,t);return n.forEach(function(e){for(var t=0;t<e.length-1;){var n=e[t],r=e[t+1];if(i.contains(n))if(i.contains(r))e.splice(t,1,r.newType(_M.MOVE_TO)),t++;else{var o=i.intersectsLine(n,r);1===o.length&&e.splice(t,1,o[0].newType(_M.MOVE_TO)),t++}else{if(i.contains(r)){var a=i.intersectsLine(n,r);1===a.length&&(e.splice(t+1,1,a[0].newType(_M.LINE_TO),r.newType(_M.MOVE_TO)),t++)}else{var s=i.intersectsLine(n,r);2===s.length&&(e.splice(t+1,0,s[0].newType(_M.LINE_TO),s[1].newType(_M.MOVE_TO)),t+=2)}t++}}}),n.reduce(function(e,t){return e.concat(t)},[])}}]),e}();var CM,DM,EM,SM,IM="unknown",TM="unknown_certify";CM={},(0,U._)(CM,IM,"unknownMsg"),(0,U._)(CM,TM,"unknownMsg_certify"),(0,U._)(CM,"unknownValidityMsg","unknownValidityMsg"),(0,U._)(CM,"validMsg","validMsg"),(0,U._)(CM,"validMsg_certify","validMsg_certify"),(0,U._)(CM,"invalidMsg","invalidMsg"),(0,U._)(CM,"invalidMsg_certify","invalidMsg_certify"),(0,U._)(CM,"invalidMsg_Upper","invalidMsg_Upper"),(0,U._)(CM,"errorSignatureMsg","errorSignatureMsg"),(0,U._)(CM,"errorByteRangeMsg","errorByteRangeMsg"),(0,U._)(CM,"errorByteRangeDetail","errorByteRangeDetail"),(0,U._)(CM,"validInfo","validInfo"),(0,U._)(CM,"validInfo_certify","validInfo_certify"),(0,U._)(CM,"invalidInfo","invalidInfo"),(0,U._)(CM,"invalidInfo_certify","invalidInfo_certify"),(0,U._)(CM,"validityUnknownInfo","validityUnknownInfo"),DM={},(0,U._)(DM,IM,"verifyUnknown"),(0,U._)(DM,"verifyNoChange","verifyNoChange_online"),(0,U._)(DM,"verifyNoChange_certify","verifyNoChange_certify"),(0,U._)(DM,"verifyFuture","verifyFuture"),(0,U._)(DM,"verifyAlteredCorrupted","verifyAlteredCorrupted"),(0,U._)(DM,"verifyChange","verifyChange_online"),(0,U._)(DM,"verifyChange_certify","verifyChange_certify"),(0,U._)(DM,"noSupportFormat","noSupportFormat"),(0,U._)(DM,"noSupportHandler","verifyChange_certify"),(0,U._)(DM,"e_StateVerifyChangeLegal","changeLegal"),(0,U._)(DM,"e_StateVerifyChangeIllegal","changeIllegal"),EM={},(0,U._)(EM,IM,"issueUnknown"),(0,U._)(EM,"issuerInvalid_mac","issuerInvalid_mac"),(0,U._)(EM,"issuerInvalid","issuerInvalid"),(0,U._)(EM,"issuerRevoke","issuerRevoke"),(0,U._)(EM,"issuerExpire_mac","issuerExpire_mac"),(0,U._)(EM,"issuerExpire","issuerExpire"),(0,U._)(EM,"issuerCurrent","issuerCurrent"),(0,U._)(EM,"issuerCurrent_certify","issuerCurrent_certify"),(0,U._)(EM,"issuerValid","issuerValid"),(0,U._)(EM,"issuerValidAndIssueRevoke","issuerValidAndIssueRevoke"),(0,U._)(EM,"issuerIdentityUnknown","issuerIdentityUnknown"),(0,U._)(EM,"identityValidAndUntrustedMsg","identityValidAndUntrustedMsg"),(0,U._)(EM,"notVerifiedIdentityMsg","notVerifiedIdentityMsg"),(0,U._)(EM,"e_StateVerifyIssueUnknown","issueUnknown"),(0,U._)(EM,"e_StateVerifyIssueUncheck","issueUncheck"),SM={},(0,U._)(SM,IM,"timestampUnknown"),(0,U._)(SM,"timestampExpire","timestampExpire_online"),(0,U._)(SM,"timestampDoc","timestampDoc_online"),(0,U._)(SM,"timestampNone","timestampNone_online"),(0,U._)(SM,"timestampEmbeddedAndExpire","timestampEmbeddedAndExpire"),(0,U._)(SM,"timestampEmbeddedAndExpire_mac","timestampEmbeddedAndExpire_mac"),(0,U._)(SM,"timestampEmbeddedAndExpire_mac_panel","timestampEmbeddedAndExpire_mac_panel"),(0,U._)(SM,"timestampEmbedded","timestampEmbedded"),(0,U._)(SM,"timestampEmbedded_mac","timestampEmbedded_mac"),(0,U._)(SM,"timestampEmbedded_mac_panel","timestampEmbedded_mac_panel"),(0,U._)(SM,"timestampEmbeddedAndNotBeVerified","timestampEmbeddedAndNotBeVerified"),(0,U._)(SM,"timestampSecure","timestampSecure"),(0,U._)(SM,"e_StateVerifyTimestampIssueUnknown","timestampIssueUnknown");var MM={NotYetVerified:"notYetVerified",Verified:"verified"};function RM(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return!e||e.isPortfolio()?[3,2]:[4,e.getSignaturesInfo()];case 1:return t=i.sent(),n=e.getPDFForm(),[2,Promise.all(t.signedNames.map(function(e){return n.getField(e)}))];case 2:return[2,[]]}})})()}function FM(e){var t=!1,n=RM(e);return n.length&&(t=n.some(function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&e.signatureInfo.isCertified})),t}function NM(e){var t=!1,n=RM(e);return n.length&&(t=n.some(function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&!e.signatureInfo.isCertified})),t}var LM="uniqueSerialNumber",OM="TrustedCertificateList",jM=1,BM=!1,VM=[{indexKey:"type"},{indexKey:"serialNumber"}],HM={Custom:"Custom",FATL:"FATL",EUTL:"EUTL"};function UM(){return"IsTrustCertListLoaded_version_".concat(jM)}var zM=function(){return{storeName:OM,dbName:"".concat("FoxitPDFSDKForWeb_").concat(OM),version:jM,keyPath:LM,indexArr:VM}},WM=function(){var e=zM(),t=e.storeName,n=e.dbName,i=e.version,r=e.keyPath,o=e.indexArr;return new UE.IndexDBStore(t,n,i,r,o)};function YM(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:if(!(t=WM()))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.add(e)];case 2:return i.sent(),[2,e];case 3:return n=i.sent(),console.error(n),[2,!1];case 4:return[2,!1]}})})()}function GM(e){return(0,x._)(function(){var t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),(t=WM())?[4,t.remove(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[3,4];case 3:return n=i.sent(),console.error(n),[3,4];case 4:return[2]}})})()}function $M(e){return(0,x._)(function(){var t,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),!(t=WM()))return[3,4];n=0,o.label=1;case 1:return n<e.length?(i=e[n],[4,t.remove(i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[3,6];case 5:return r=o.sent(),console.error(r),[3,6];case 6:return[2]}})})()}function JM(){return(0,x._)(function(){var e,t,n,i;return(0,N.Jh)(this,function(r){switch(r.label){case 0:if(e={isLoaded:!1,trustedCertificateList:null},t=function(){var e=UM();return"true"===localStorage.getItem(e)||BM}(),!t)return[3,5];if(!(n=WM()))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.getAll()];case 2:return(i=r.sent()||[]).length&&(e={isLoaded:!0,trustedCertificateList:i}),[3,4];case 3:return r.sent(),e.isLoaded=!1,[3,4];case 4:case 5:return[2,e]}})})()}function qM(e){return(0,x._)(function(){var t,n,i,r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return[4,JM()];case 1:return t=A.sent(),n=t.isLoaded,i=t.trustedCertificateList,n?[3,3]:[4,KM(e,!0)];case 2:A.sent(),A.label=3;case 3:return A.trys.push([3,8,,9]),r=null!=i?i:[],n?[3,5]:(o=WM())?[4,o.getAll()]:[3,5];case 4:r=null!==(a=A.sent())&&void 0!==a?a:[],A.label=5;case 5:return[3,7];case 6:A.sent().forEach(function(e){var t=r.findIndex(function(t){return t.uniqueSerialNumber===e.uniqueSerialNumber});t>-1?r[t]=e:r.push(e)}),A.label=7;case 7:return[2,r];case 8:return s=A.sent(),console.error(s),[2,[]];case 9:return[2]}})})()}function KM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,x._)(function(){var n,i,r,o,a,s,A;return(0,N.Jh)(this,function(c){switch(c.label){case 0:return t?[3,2]:[4,JM()];case 1:if(c.sent().isLoaded)return[2];c.label=2;case 2:BM=!1,c.label=3;case 3:return c.trys.push([3,9,10,11]),[4,ZM(e,t)];case 4:return(n=c.sent()).length?(n.map(function(e){e.usage=3}),(i=WM())?[4,i.getByIndex("type",HM.Custom)]:[3,8]):[3,8];case 5:return r=c.sent()||[],[4,i.clear()];case 6:return c.sent(),(o=n.concat(r)).forEach(function(e){var t=e||{},n=t.serialNumber,i=t.country,r=t.issuerName;e[LM]="".concat(n,"_").concat(i,"_").concat(r)}),a=function(e,t){var n=new Map;return e.filter(function(e){return!n.has(e[t])&&n.set(e[t],1)})}(o,LM),[4,i.addItems(a)];case 7:c.sent(),BM=!0,c.label=8;case 8:return[3,11];case 9:return s=c.sent(),BM=!1,console.error(s),[3,11];case 10:return A=UM(),localStorage.setItem(A,BM),[7];case 11:return[2]}})})()}function ZM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,x._)(function(){var n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),(a=e.libPath).endsWith("/")||(a+="/"),n={static_FATLUrl:{url:"".concat(a,"certFATLAndEUTL/tsfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:1,type:HM.FATL},static_EUTLUrl:{url:"".concat(a,"certFATLAndEUTL/eutlfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:2,type:HM.EUTL},static_FATL2Url:{url:"".concat(a,"certFATLAndEUTL/tsfile.foxitdata2?t=").concat((new Date).getTime()),trust_type:1,type:HM.FATL,purpose_code:"phantomkey"}},i=[n.static_FATLUrl,n.static_FATL2Url,n.static_EUTLUrl],[4,e.getWebPDFJR()];case 1:return[4,o.sent().getFATLAndEUTLList(i,t)];case 2:return r=o.sent(),[2,Promise.resolve(r)];case 3:return o.sent(),[2,Promise.resolve([])];case 4:return[2]}var a})})()}function XM(e,t,n,i){return(0,x._)(function(){var r,o,a,s;return(0,N.Jh)(this,function(A){switch(A.label){case 0:return r=t.getName(),o=function(e){var t=e.customs&&e.customs.getVerifySignatureRule?e.customs&&e.customs.getVerifySignatureRule:void 0,n="function"==typeof t?t():{},i=n.is_verify_signature,r=void 0===i||i,o=n.use_expired_tst,a=void 0===o||o,s=n.ignore_doc_info,A=void 0!==s&&s,c=n.time_type,u=void 0===c?0:c,l=n.verifyDocWhenOpened,d=void 0===l||l,h=n.untrustedAlterInfo;return{is_verify_signature:r,use_expired_tst:a,ignore_doc_info:A,time_type:u,verifyDocWhenOpened:d,untrustedAlterInfo:void 0!==h&&h}}(e),a=(0,U._)({},r,!!t.signatureInfo&&t.signatureInfo.isCertified),[4,qM(e)];case 1:return s=A.sent()||[],[2,(0,k._)((0,w._)({},o),{trustedCertificateList:s,isCertTrusted:n,isCertTrustedRoot:i,isCertifiedMap:a})]}})})()}function QM(e,t){return(0,x._)(function(e,t){var n,i,r,o,a,s,A,c,u,l,d=arguments;return(0,N.Jh)(this,function(h){switch(h.label){case 0:i=(n=d.length>2&&void 0!==d[2]?d[2]:{}).isCertTrusted,r=n.isCertTrustedRoot,o=t.getName(),a={},s={},h.label=1;case 1:return h.trys.push([1,5,,6]),[4,XM(e,t,i,r)];case 2:return A=h.sent(),[4,t.getDigitalSignatureInfo(A.trustedCertificateList,!1)];case 3:return s=h.sent(),[4,t.Verify(A)];case 4:return a=h.sent(),[3,6];case 5:return c=h.sent(),console.error(c),a={},s={},[3,6];case 6:return(u=a[o]?a[o]:{}).checkTime=Ye(new Date,"YYYY.MM.DD HH:mm:ssZ",{separator:"'",suffix:"'"}),l=(0,w._)({},t.signatureInfo,s,u),t.signatureInfo&&t.signatureInfo.status===MM.NotYetVerified&&(t.signatureInfo.status=MM.Verified,l.status=MM.Verified),[2,{name:o,signatureInfo:l}]}})}).apply(this,arguments)}Date.now(),Math.random();const eR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";e.endsWith("/")||(e+="/"),t=t.replace(/(\w*?)-(\w*)/,function(e,t,n){return t+"-"+n.toUpperCase()});return function(n,i,r){var o;return o={},(0,U._)(o,r,{Approved:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Approved.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Received.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Confidential.pdf"),fileType:"pdf"}}),(0,U._)(o,i,{Accepted:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Accepted.pdf"),fileType:"pdf"},Witness:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Witness.pdf"),fileType:"pdf"},SignHere:{url:"".concat(e,"stamps/").concat(t,"/SignHere/SignHere.pdf"),fileType:"pdf"},Rejected:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Rejected.pdf"),fileType:"pdf"},Initial:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Initial.pdf"),fileType:"pdf"}}),(0,U._)(o,n,{Approved:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Approved.pdf"),fileType:"pdf"},Void:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Void.pdf"),fileType:"pdf"},Verified:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Verified.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Received.pdf"),fileType:"pdf"},Final:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Final.pdf"),fileType:"pdf"},Expired:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Expired.pdf"),fileType:"pdf"},Emergency:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Emergency.pdf"),fileType:"pdf"},Draft:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Draft.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Confidential.pdf"),fileType:"pdf"},Completed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Completed.pdf"),fileType:"pdf"}}),o}.apply(undefined,(0,R._)(["Static","SignHere","Dynamic"]))};n(9867);var tR=window.MozWebSocket||window.WebSocket,nR=function(){},iR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.origin;(0,C._)(this,e),(0,U._)(this,"websocketServer",void 0),(0,U._)(this,"apiServer",void 0),(0,U._)(this,"messageReceiver",void 0),(0,U._)(this,"closeEventListener",void 0),(0,U._)(this,"connectStatusDefer",void 0),(0,U._)(this,"socket",void 0),this.websocketServer=t,this.apiServer=n,this.messageReceiver=nR,this.closeEventListener=nR,this.websocketServer=t.trim(),this.apiServer=n.trim()}return(0,D._)(e,[{key:"isConnected",value:function(){if(this.socket){switch(this.socket.readyState){case tR.OPEN:return Promise.resolve(!0);case tR.CLOSED:case tR.CLOSING:return Promise.resolve(!1)}return this.connectStatusDefer.promise}return Promise.resolve(!1)}},{key:"connect",value:function(e){var t,n=this;if(this.socket)switch(this.socket.readyState){case tR.CLOSED:case tR.CLOSING:break;default:this.socket.onclose=null,this.socket.close()}return this.connectStatusDefer=(0,z.createDeferred)(),this.socket=new tR(Cg(this.websocketServer,"collab-ws/ws")+"?shareId="+e),this.socket.onmessage=function(e){"\n"!==e.data&&n.messageReceiver(e.data)},this.socket.onclose=function(){n.closeEventListener(),clearInterval(t)},this.socket.onopen=function(){t=setInterval(function(){n.socket.send("\t")},1e4),n.connectStatusDefer.resolve(!0)},this.socket.onerror=function(){n.connectStatusDefer.resolve(!1)},this.connectStatusDefer.promise}},{key:"disconnect",value:function(){return this.socket.onclose=null,this.socket.close(),Promise.resolve(!0)}},{key:"createSession",value:function(e,t){return(0,x._)(function(){var e,n,i,r;return(0,N.Jh)(this,function(o){switch(o.label){case 0:return e=Cg(this.apiServer,"collab-ws","share"),n=new FormData,t.type!==vE.FROM_FILE?[3,2]:[4,t.file()];case 1:return r=o.sent(),(0,T._)(r,Blob)||(r=new Blob([r],{type:"application/pdf"})),n.append("file",r,t.options.fileName),i=JSON.stringify(t,function(e,t){if("file"!==e)return t}),[3,3];case 2:i=JSON.stringify(t),o.label=3;case 3:return n.append("open-file-params",i),[2,fetch(e,{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){return e.shareId})]}})}).call(this)}},{key:"getSessionInfo",value:function(e){return fetch(Cg(this.apiServer,"collab-ws/session/",e)).then(function(e){var t=e.headers.get("session-info");if("null"!==t&&t){var n,i=JSON.parse(decodeURIComponent(t)),r=i.openFileParams;if(r.type===vE.FROM_FILE)r.file=function(){return n||(n=e.blob()),n};return i}})}},{key:"send",value:function(e,t){return this.socket&&this.socket.send(t),Promise.resolve()}},{key:"getLostData",value:function(e,t){var n=Cg(this.apiServer,"collab-ws","data",e,""+t);return fetch(n).then(function(e){return e.json()})}},{key:"registerMessageReceiver",value:function(e){this.messageReceiver=e}},{key:"registerLostConnectionListener",value:function(e){this.closeEventListener=e}},{key:"destroy",value:function(){this.socket&&this.socket.close()}}]),e}(),rR=n(8272),oR=n.n(rR),aR=(n(7868),function(){function e(t){(0,C._)(this,e),this.title=t,this.step=0;var n=document.createElement("div");n.innerHTML=oR()({title:t}),this.element=n.firstElementChild,n.removeChild(this.element),this.totalElement=this.element.querySelector(".fv__ui-print-process-total"),this.currentElement=this.element.querySelector(".fv__ui-print-process-current"),this.progressElement=this.element.querySelector(".fv__ui-print-process-percent")}return(0,D._)(e,[{key:"reset",value:function(){this.updateProgress(0,0)}},{key:"show",value:function(){this.reset(),document.body.appendChild(this.element)}},{key:"updateProgress",value:function(e,t){var n=this.total;this.total=t,n!==t&&(this.totalElement.innerText=t),this.step=e,this.currentElement.innerText=e,this.progressElement.style.cssText+="\n            width: ".concat(e/t*100,"%;\n        ")}},{key:"close",value:function(){document.body.removeChild(this.element)}}]),e}()),sR=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"pageRender",void 0),(0,U._)(e,"shapeDom",void 0),(0,U._)(e,"calloutShape",new M_),(0,U._)(e,"startPoint",void 0),(0,U._)(e,"annotInfo",void 0),e.addDestroyHook(function(){e.calloutShape.hide(),e.startPoint=void 0}),e}return(0,I._)(t,e),(0,D._)(t,[{key:"prepare",value:function(e){this.pageRender=e;var t=e.$handler.find(".fv__create-callout-canvas")[0];t?this.shapeDom=t:(this.shapeDom=document.createElement("canvas"),this.shapeDom.style.cssText+="position: absolute",this.shapeDom.classList.add("fv__create-callout-state-canvas"),e.$handler.append(this.shapeDom))}},{key:"start",value:function(e){this.startPoint=e}},{key:"update",value:function(e,t){var n;if(this.startPoint&&this.pageRender&&this.shapeDom){var i=this.pageRender,r=i.page,o=H_.calcCalloutPosition((0,w._)({start:[this.startPoint.x,this.startPoint.y],end:[e.x,e.y],page:r,width:r.getMediaWidth(),height:r.getMediaHeight(),borderStyle:{style:0},endingStyle:0,scale:i.scale,rotate:i.rotate},t||{}));if(o&&!o.invalid){var a=(null===(n=o.calloutLinePoints)||void 0===n?void 0:n.map(function(e){var t=e.x,n=e.y;return r.getDevicePoint([t,n],i.scale,i.rotate)}))||[],s=r.getDeviceRect(o.rect,i.scale,i.rotate),A=r.getDeviceRect(o.innerRect,i.scale,i.rotate);(0,z.cssText)(this.shapeDom,{left:s.left+"px",top:s.top+"px"}),this.calloutShape.init(null,this.shapeDom),this.calloutShape.show(a,s,A),this.annotInfo=o}}}},{key:"complete",value:function(){var e=this,t=this.pageRender;if(!t)return Promise.reject(new Error("[CreateFreeTextCalloutService] not prepared!"));if(!this.annotInfo)return Promise.reject(new Error("[CreateFreeTextCalloutService] Cannot create callout before mouse moved!"));this.calloutShape.hide(),this.startPoint=void 0;var n=t.pdfViewer;return t.getPDFPage().then(function(i){var r=n.getAnnotDefaultProperty("freetext","FreeTextCallout"),o=16777215;void 0!==r.fillColor&&(o=r.fillColor);var a=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:n.i18n.t("viewer_:annotSubjects.Callout"),"interior-color":o,rotation:((360-90*i.getRotation()-t.getRotation())%360+360)%360,flags:4},e.annotInfo,r);return i.addAnnot(a)}).then(function(e){var i,r=e[0],o=null===(i=t.annotsRender)||void 0===i?void 0:i.getAnnotRender(r.getId()).component;return n.eventEmitter.emit(ae.addAnnotSuccess,o.annot),e})}}]),t}(z.Disposable),AR=2,cR=10,uR=function(e){function t(e){var n;(0,C._)(this,t),n=(0,P._)(this,t,[e]);var i=e.pdfViewer.store,r=n.modeName=n.constructor.getName();return n.multipage=i.getCurrentValue("multipage-"+r,AR),n.pageSpacing=i.getCurrentValue("pageSpacing-"+r,cR),n.isJump=!1,n.isCurrentViewMode=!0,n.lastCurrentPageIndex=0,n}return(0,I._)(t,e),(0,D._)(t,[{key:"getJQItems",value:function(){return O()((0,E._)((0,S._)(t.prototype),"getItems",this).call(this))}},{key:"into",value:function(e,n){this.isCurrentViewMode=!0,(0,E._)((0,S._)(t.prototype),"into",this).call(this,e,n);for(var i=this.modeName,r="",o=1;o<=this.multipage;o++)r=o%2==0?(r=r+"."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}":(r=r+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}",o%this.multipage===0&&(r=r+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}");var a=["<style>","."+i+" {","margin: 0 auto;","width: min-content;","display: grid;","grid-template-columns: repeat("+this.multipage+", 1fr);","justify-items: end;","}","."+i+".facing-cover-continuous-view-mode::before {",'content: "";',"width: calc("+100/this.multipage+"%);","}","."+i+"::after {",'content: "";',"width: -webkit-fill-available;","}","."+i+" .fv__pdf-view-mode-item {","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: flex-end;","-webkit-justify-content: flex-end;","justify-content: flex-end;","align-items: center;","margin-left: 0;","}",r,"."+i+" .fv__pdf-view-mode-item {","margin-right: "+this.pageSpacing+"px;","}","."+i+" .fv__pdf-page-layout{","width: 100%;","}","</style>"].join("");this.$style=O()(a),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(i)}},{key:"bindScrollEvent",value:function(){var e=this;if(this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender){var t=this.docRender.viewerRender.scrollWrap,n=!1,i=t.addScrollEventListener(function(){clearTimeout(e.scrollEventTimer),e.scrollEventTimer=setTimeout(function(){if(!n){var t=e.docRender;if(t){e.isJump=!1;var i=t.pagesRender;i&&i.renderVisiblePages().then(function(){t.isGoto?setTimeout(function(){e.isCurrentViewMode&&(t.isGoto=!1)},40):t.setCurrentPageIndex(e.getCurrentPageIndex())},function(){})}}},100)});this._unwatchScrollEvent=function(){n=!0,e._unwatchScrollEvent=function(){},i()}}}},{key:"out",value:function(){this.isCurrentViewMode=!1,this.docRender.$container.removeClass(this.modeName),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.getJQItems().css({width:"",height:""});var e=this.docRender.pagesRender.pageRenders;for(var n in e){e[n].$ui[0].style.maxWidth=null}(0,E._)((0,S._)(t.prototype),"out",this).call(this)}},{key:"renderViewMode",value:function(e,t,n,i,r){if(this.docRender){var o=this.getMaxPageWidth(),a=this.multipage,s=(a-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:o*a*t+s})}}},{key:"fixMargin",value:function(e,t){var n=this.multipage,i=(n-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:e*n+i})}},{key:"getPagesLayout",value:function(){for(var e=this.docRender.doc.pageCache,t=e.length,n=this.multipage,i=Math.ceil(t/n),r=Array(n).fill(0),o=Array(i).fill(0),a=0;a<n;a++)for(var s=a;s<t;s+=n)r[a]=Math.max(r[a],e[s].getPxWidth());for(var A=0;A<i;A++)for(var c=0;c<n;c++)e[A*n+c]&&(o[A]=Math.max(o[A],e[A*n+c].getPxHeight()));var u=[];return e.forEach(function(e,t){u.push({width:r[t%n],height:o[Math.floor(t/3)]})}),u}},{key:"getMaxPageWidth",value:function(){var e,t=0,n=this.docRender.doc.getPageSizesSync(),i=this.docRender.getRotation();for(var r in e=90===i||270===i?"height":"width",n){var o=4*n[r][e]/3;o>t&&(t=o)}return t}},{key:"getFitHeight",value:function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()}},{key:"getFitWidth",value:function(e){var t=this.getMaxPageWidth(),n=this.docRender.viewerRender.scrollWrap,i=this.multipage,r=(n.getWidth()-8-i*this.pageSpacing)/i,o=this.docRender.doc.getPageSize(e);o||(o=this.docRender.doc.getPageSize(0));var a=this.docRender.getRotation();return r*(o?90===a||270===a?o.height:o.width:90===a||270===a?this.getFitHeight(e):r)*4/(3*t)}},{key:"jumpToPage",value:function(e,t){var n=this,i=t.x,r=void 0===i?0:i,o=t.y,a=void 0===o?0:o;this.isJump=!0;var s=this.getJQItems();e>=s.length?e=s.length-1:e<0&&(e=0);var A=s.eq(e),c=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(A[0]),u=c.left+r,l=c.top+a;this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.viewerRender.scrollWrap.scrollTo(u,l),this.currentJumpPageIndex=e,this.docRender.setCurrentPageIndex(e),setTimeout(function(){n.isCurrentViewMode&&n.bindScrollEvent()})}},{key:"getCurrentPageIndex",value:function(){if(this.isJump)return this.currentJumpPageIndex;if(this.docRender){for(var e,t=this.getJQItems(),n=this.docRender.viewerRender.scrollWrap,i=n.getScrollTop(),r=i+n.getHeight(),o=n.getScrollLeft(),a=o+n.getWidth(),s=[],A=0;A<t.length;A++){var c=t[A],u=O()(c).width(),l=O()(c).height(),d=c.offsetTop,h=d+l,f=c.offsetLeft,p=f+u,g=void 0;if(d<=i&&h>i&&h<=r?g=h-i:d>=i&&h<=r?g=l:d<=i&&h>=r?g=r-i:d>=i&&d<r&&h>=r&&(g=r-d),g){var v=void 0;f<=o&&p>o&&p<a?(v=p-o,s.push({index:A,area:g*v})):f>=o&&p<a?(v=u,s.push({index:A,area:g*v})):f<=o&&p>a?(v=a-o,s.push({index:A,area:g*v})):f>=o&&f<a&&p>a&&(v=a-f,s.push({index:A,area:g*v}))}}for(var m=0,y=0;y<s.length;y++)s[y].area>m&&(m=s[y].area,e=s[y].index);return void 0!==e&&(this.lastCurrentPageIndex=e),this.lastCurrentPageIndex}}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,i=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,o=this.multipage;if(r>=i)t=Math.ceil((t+1)/o)*o;else t++}return t>e-1&&(t=e-1),t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),i=t.getWidth()-16,r=this.multipage;if(i>=n)e=(Math.ceil((e+1)/r)-2)*r;else e--}return e<0&&(e=0),e}}],[{key:"getName",value:function(){return"multipage-view-mode"}},{key:"setMultipage",value:function(e){AR=e}},{key:"getMultipage",value:function(){return AR}},{key:"setPageSpacing",value:function(e){cR=e}},{key:"getPageSpacing",value:function(){return cR}}]),t}(hh);var lR=function(e){if("undefined"==typeof window||!window.document)return function(){throw new Error(e+".js requires a window with a document")};var t={add:function(e,n,i,r){t._eventFun=function(e){i&&i.call(r,e)},e.addEventListener(n,t._eventFun,!1)},remove:function(e,n){e.removeEventListener(n,t._eventFun,!1),t._eventFun=void 0}};Node.prototype.parents=function(e){var t=this.parentNode;return this.classList.contains(e)||"BODY"===t.nodeName?this:t.parents(e)},Node.prototype.hasChildren=function(e){for(var t=e;t;){if(this===t)return!0;t=t.parentNode}return!1};var n,i=function(e,t){if(e){var n={};if(e.dataset)n=e.dataset;else for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i];if(0===r.name.indexOf("data-")){var o=r.name.replace("data-",""),a=r.value;n[o]=a}}for(var o in t){a=t[o];e.dataset?e.dataset[o]=a:e.setAttribute("data-"+o,a)}return n}};function r(t,n){var i=this;if(this.options=Object.assign({draggable:"",dragClass:e+"-drag",chosenClass:e+"-chosen",treeItemIconClass:"tree-item-icon",dragOverStrict:!0,endStrict:!0,inventedNode:null,onStart:"",onBeforeHover:"",onHover:"",onEnd:"",allowDrag:!0,excludeDraggable:"",enabled:!0,checkIsMoveToRight:function(){return!i.options.dragOverStrict&&i.end.classList.contains(i.options.treeItemIconClass)}},n),!t)throw new Error("el must be a dom node: "+t);if(!this.options.draggable)throw new Error("draggable class cannot be a empty string: "+this.options.draggable);this.options.enabled&&(this.el=t,this._bindEvent(),this._appendStyle(),this._cache={overData:[],doms:[]})}return"function"!=typeof Object.assign&&(Object.prototype.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),r.prototype=(n={_addClass:function(e,t,n){n&&this._removeClass(t,e),e.classList.add(t)},_removeClass:function(e,t){var n=this;(e=(0,T._)(e,Array)?e:[e]).forEach(function(e){for(var i=n.el.querySelectorAll("."+e),r=0;r<i.length;r++){var o=i[r];t&&o===t||o.classList.remove(e)}})},_initDragEvent:function(e){if(e){var t=this;e.draggable=this.options.allowDrag&&this._isEnabled(e),e.ondragstart=function(n){t._isEnabled(e)?t._onDragstart.call(t,n.target):n.preventDefault()},e.ondragover=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){var o={mouseX:lf(n),mouseY:df(n)};n.preventDefault(),t.options.enabled&&t._onDragover.call(t,n.target,o)}}},e.ondragenter=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){n.stopPropagation();var o={mouseX:lf(n),mouseY:df(n)};t.options.enabled&&t._onDragenter.call(t,n.target,o)}}},e.ondragleave=function(n){if(e.draggable){var i={mouseX:lf(n),mouseY:df(n)};t.options.enabled&&t._onDragleave.call(t,n.target,i)}},e.ondragend=function(n){if(e.draggable){var i={mouseX:lf(n),mouseY:df(n)};t.options.enabled&&t._onDragend.call(t,n.target,i)}},e.ondrop=function(n){e.draggable&&(n.stopPropagation(),n.preventDefault(),t.options.enabled&&t._onDrop.call(t,{target:n.target,files:n.dataTransfer.files,altKey:n.altKey,ctrlKey:n.ctrlKey,mouseX:lf(n),mouseY:df(n)}))}}},_getDragImage:function(){var e=document.createElement("img");return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.width=0,e.height=0,e.opacity=0,e},_setInventedNode:function(){var e=this.options.draggable;if(this._inventedNodeClassName="_"+e,!this.el.querySelector("."+this._inventedNodeClassName)){var t=this.options.inventedNode;if(!1!==t)if(t)t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.lastChild.nextSibling);else{t=document.createElement("div");var n=this.el.querySelectorAll("."+e)[0].getBoundingClientRect();t.style.position="fixed",t.style.width=n.width+"px",t.style.height=parseInt(n.height/2)+"px",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.transform="rotateZ(180deg)",t.style.borderWidth="1px",t.style.overflow="hidden",t.style.backgroundColor="rgba(0, 0, 0, 0)",t.style.zIndex="999",i(t,{id:"-1"}),t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.childNodes[0])}}},_removeInventedNode:function(){var e=this.el.querySelector("."+this._inventedNodeClassName);e&&(e.remove?e.remove():e.removeNode(!0))},_isTopest:function(e){var t=this.el.getBoundingClientRect();return e.clientY-t.y<12},destroy:function(){t.remove(this.el,"pointerdown")},_bindEvent:function(){var e=this;t.add(this.el,"pointerdown",this.setDraggable,this);var n=function(t){var n,i;if((0,T._)(t,TouchEvent)){var r=t.changedTouches||t.touches;if(1!==r.length)return;var o=r[0];n=o.clientX,i=o.clientY}else"clientX"in t&&(n=t.clientX,i=t.clientY);return document.elementFromPoint(n,i).closest("."+e.options.draggable)};if(z.isTouchDevice&&!z.isChromebook){var r,o,a=!1,s=function(t){if(e.options.enabled){var i=n(t);if(i){r=i,o=null,a=!0,document.addEventListener("pointerup",function(t){a=!1,e.end=o,e._onDragend()},{once:!0,capture:!0});var s={mouseX:lf(t),mouseY:df(t)};e._onDragstart.call(e,i,s),t.preventDefault()}}},A=function(t){if(a){t.preventDefault();var s={mouseX:lf(t),mouseY:df(t)},A=n(t);if(!A)return o=A,void(e.options.onHover&&e.options.onHover({dom:A,info:s}));A!==r&&(o!==A&&(A&&(e._onDragenter.call(e,A,s),setTimeout(function(){e.end=A,e.setBlwAndBrw(A),e._addClass(A,e.options.chosenClass);var t=Object.assign(i(A),{text:A.innerText.trim()});e.options.onHover&&A!==e.from&&e.options.onHover({dom:A,attrs:t,info:s})})),o&&e._onDragleave.call(e,o,s)),A&&A.ondragover(t)),o=A}else o=void 0};this.el.addEventListener("pointerdown",s,{capture:!0,passive:!1}),this.el.addEventListener("touchmove",A,{capture:!0,passive:!1}),this.unbindEventOnDocument=function(){e.el.removeEventListener("pointerdown",s,{capture:!0,passive:!1}),e.el.removeEventListener("mousemove",A,{capture:!0,passive:!1})}}},_appendStyle:function(){this._style=document.createElement("style"),document.head.appendChild(this._style)},setDraggable:function(e){var t;this.options.draggable.trim()&&(t=this.el.querySelectorAll("."+this.options.draggable)),t&&0!==t.length||(t=this.el.children);for(var n=0;n<t.length;n++){var i=t[n];this._initDragEvent(i)}if(this._cache.doms=t,this.options.excludeDraggable){var r=this.el.querySelectorAll("."+this.options.excludeDraggable)||[];for(n=0;n<r.length;n++){(i=r[n]).draggable=!1}}},_onDragstart:function(e,t){var n=this;setTimeout(function(){n._setInventedNode()},0),this._addClass(e,this.options.dragClass,!0),this.end=null,this.from=e;var r=e.parents(this.options.draggable);this.fromAttrs=Object.assign(i(r),{text:r.innerText.trim()}),this.options.onStart&&this.options.onStart({dom:this.from,attrs:this.fromAttrs,info:t})},_onDragover:function(e,t){var n=this._getTarget(e);if(this.end=n,this.setBlwAndBrw(e,t),this._addClass(n,this.options.chosenClass),-1===this._cache.overData.indexOf(n)&&(this._cache.overData=[]),this._cache.overData.push(n),20===this._cache.overData.length){var r=Object.assign(i(n),{text:n.innerText.trim()});this.options.onHover&&n!==this.from&&this.options.onHover({dom:n,attrs:r})}},_onDragenter:function(e,t){var n=this._getTarget(e);this.end=n,this._addClass(n,this.options.chosenClass,!0),this.setBlwAndBrw(e,t)},_getTarget:function(e){var t=this.options.dragOverStrict?e.parents(this.options.draggable):e;return"#text"===t.nodeName&&(t=t.parentNode),t},setBlwAndBrw:function(e,t){var n=this.options.checkIsMoveToRight(e,t);n?(this.end.style.setProperty("--blw","0"),this.end.style.setProperty("--brw","2px")):(this.end.style.setProperty("--blw","2px"),this.end.style.setProperty("--brw","0")),this.isMoveToRight=n},_onDragleave:function(e){this._removeClass(this.options.chosenClass),this.end=null,this._cache.overData=[],this.options.onHover&&this.options.onHover({dom:null})},_onDrop:function(e){var t=e.target,n=e.files,r=e.altKey,o=e.ctrlKey,a=this.end,s=a&&a.parents(this.options.draggable),A=s&&Object.assign(i(s),{text:s.innerText.trim()}),c=this.isMoveToRight;this.options.onDrop&&this.options.onDrop({endAttrs:A,dragFiles:n,isMoveToRight:c,target:t}),t.querySelector("."+this.options.chosenClass)||(this.end.altKey=r,this.end.ctrlKey=o)},_onDragend:function(){this._cache.overData=[],this._removeClass([this.options.chosenClass]),this._removeInventedNode();var e=this.end,t=e&&e.parents(this.options.draggable),n=t&&Object.assign(i(t),{text:t.innerText.trim()});t===this.from&&this.options.endStrict||this.options.onEnd&&this.options.onEnd({from:this.from,fromAttrs:this.fromAttrs,end:e,endAttrs:n,isMoveToRight:this.isMoveToRight})},destory:function(){t.remove(this.el,"pointerdown"),document.head.removeChild(this._style),this._cache.doms.forEach(function(e){e.removeAttribute("draggable"),e.ondragstart=null,e.ondragover=null,e.ondragenter=null,e.ondragleave=null,e.ondragend=null,e.ondrop=null}),this._cache=null}},(0,U._)(n,"destroy",function(){this.options.enabled&&this.destory()}),(0,U._)(n,"_isEnabled",function(e){return this.options.enabled&&(!e||!("true"===e.getAttribute("disabled-drag")))}),n),r.create=function(e,t){return new r(e,t)},r.version="1.0.0",r}("Draggable");const dR=lR;const hR={cipherNone:0,cipherRC4:1,cipherAES:2},fR=Ge.ZoomMode,pR={ThreadAction:RP,ResetFormAction:DP,URIAction:zm,JavaScriptAction:wP,HideAction:IP,GoToAction:Um,SubmitFormAction:PP,LaunchAction:mP,ImportDataAction:SP,NamedAction:_P,SetOCGStateAction:FP,RemoteGotoAction:TP,ActionFactory:LP,ZoomMode:fR};var gR=function(){function e(t){(0,C._)(this,e),this.engine=t,this.api=t.api}return(0,D._)(e,[{key:"combineFormsToCSV",value:function(e,t){return this.api.combineFormsToCSV(e,t)}},{key:"destroy",value:function(){this.engine=null,this.api=null}}]),e}();const vR=gR;var mR=function(){function e(t){(0,C._)(this,e),(0,U._)(this,"pdfRect",{left:0,right:0,top:0,bottom:0}),(0,U._)(this,"deviceRect",{left:0,right:0,top:0,bottom:0}),(0,U._)(this,"pdfViewer",void 0),(0,U._)(this,"page",void 0),(0,U._)(this,"pageRender",void 0),(0,U._)(this,"scale",void 0),(0,U._)(this,"rotate",void 0),(0,U._)(this,"intent",void 0),(0,U._)(this,"annotationInfo",this.getDefaultAnnotInfo()),(0,U._)(this,"eContainer",document.createElement("div")),(0,U._)(this,"renderer",void 0),this.eContainer.classList.add("fv__viewer-fake-annot-container"),this.pdfViewer=t.pdfViewer,this.pageRender=t.pageRender,this.intent=t.info.intent,(0,z.extendOptions)(this.annotationInfo,t.info,this.getDefaultAnnotConfig()),this.annotationInfo.type=this.getType(),this.page=t.pageRender.page,this.scale=t.pageRender.scale,this.rotate=t.pageRender.rotate,this.pageRender.$annotsContainer.append(this.eContainer)}return(0,D._)(e,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top),i=(0,W.F2)(this.annotationInfo.borderInfo.width)*this.scale*2;if(t<i){var r=.5*(i-t)*(e.right-e.left>0?1:-1);e.right+=r,e.left-=r}if(n<i){var o=.5*(i-n)*(e.bottom-e.top>0?1:-1);e.top-=o,e.bottom+=o}t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var a=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,a),(0,z.cssText)(this.eContainer,{left:e.left+"px",top:e.left+"px",width:t+"px",height:n+"px"})}},{key:"setContent",value:function(e){this.annotationInfo.content=e,this.annotationInfo.contents=e}},{key:"zoomTo",value:function(e){this.scale=e}},{key:"draw",value:function(){this.renderer||(this.renderer=this.generateApRenderer(),this.renderer.prepare(),this.renderer.willRender()),this.renderer.component&&this.renderer.render(this.scale,this.rotate)}},{key:"getContainerElement",value:function(){return this.eContainer}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.getDeviceRect(e,t),r=this.getOuterDeviceRect(e,t),o=this.getDeviceRect(n,t);return{annotInfo:this.annotationInfo,annotFlag:new Fd(this.annotationInfo.flags),smartScale:n,rect:r,outerDeviceRect:r,innerDeviceRect:i,engineRenderingRect:o,scale:e,rotate:t,page:this.page}}},{key:"getDeviceRect",value:function(e,t){return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.borderInfo;if(n&&5===n.style){var i=this.pageRender.getContainerVisibleRect(),r=i.right-i.left,o=i.bottom-i.top,a=this.page.getDeviceRect(this.pdfRect,e,t),s=(r-(a.right-a.left))/2,A=(o-(a.bottom-a.top))/2;return{left:a.left-s,right:a.right+s,top:a.top-A,bottom:a.bottom+A}}return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"apply",value:function(){return(0,x._)(function(){var e,t,n;return(0,N.Jh)(this,function(i){switch(i.label){case 0:return e=this,null===(t=this.renderer)||void 0===t||t.afterRender(),[4,this.getCreationJSON()];case 1:return(n=i.sent()).endingStyle&&(n.endStyle=n.endingStyle,delete n.endingStyle),n.rect=this.pdfRect,[2,this.page.addAnnot(n).then(function(t){var n=e.pdfViewer.addEventListener("renderAnnotSuccess",function(){e.destroy(),n()}),i=t[0];return e.pageRender.annotsRender.activeAnnot(i.getId()),e.pdfViewer.eventEmitter.emit(ae.addAnnotSuccess,i),t})]}})}).call(this)}},{key:"destroy",value:function(){var e;null===(e=this.renderer)||void 0===e||e.destroy(),this.getContainerElement().remove()}},{key:"getCreationJSON",value:function(){return this.annotationInfo}},{key:"getDefaultAnnotInfo",value:function(){return{borderInfo:{width:2,style:de.SOLID},color:16711680,opacity:1,flags:4,date:new Date}}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),this.getIntent()):{}}},{key:"getIntent",value:function(){return this.intent}}]),e}(),yR=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getTileConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.pdfViewer.config.tileSize,r=this.page.getDeviceRect(this.pdfRect,1,t),o=this.page.getDeviceRect(this.pdfRect,n,t),a=o.right-o.left,s=o.bottom-o.bottom;return[Math.ceil(s/i),Math.ceil(a/i),a,s,i,n,e,t,r.left,r.top]}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return Object.assign(i,{opacity:this.annotationInfo.opacity,tileConfig:this.getTileConfig(e,n)})}}]),t}(mR),_R=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getType",value:function(){return"square"}},{key:"generateApRenderer",value:function(){return new Gm(this)}}]),t}(yR),bR=function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"getType",value:function(){return"circle"}},{key:"generateApRenderer",value:function(){return new Qm(this)}},{key:"getCreationJSON",value:function(){var e=this,n=(0,E._)((0,S._)(t.prototype),"getCreationJSON",this).call(this);return"CircleDimension"===this.annotationInfo.intent?this.page.getMeasureScaleRatio().then(function(t){if(t&&t.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=tm(e.pdfViewer),o=Wi(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;n.contents=r+parseFloat(i.area).toFixed(2)+" sq "+o}return n}):n}}]),t}(yR),wR=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"],kR=["January","February","March","April","May","June","July","August","September","October","November","December"],xR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"MakeFixed",value:function(e,t){return(Array(t).join("0")+e).slice(-t)}},{key:"FormatDateTimeString",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,r=e.GetDate(t,i);n&&""!=n||(r=new Date),"Invalid Date"==r.toString()&&(r=new Date);for(var o="",a="",s=r.getFullYear(),A=r.getMonth()+1,c=r.getDate(),u=r.getHours(),l=r.getMinutes(),d=r.getSeconds(),h=0,f=0;h<n.length;){switch(a="",f=n[h]){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":if(n[h+1]!=f){switch(f){case"y":a+=f;break;case"m":a=A;break;case"d":a=c;break;case"H":a=u;break;case"h":a=u>12?u-12:u;break;case"M":a=l;break;case"s":a=d;break;case"t":a+=u>=12?"p":"a"}h++}else if(n[h+1]==f&&n[h+2]!=f){switch(f){case"y":a=this.MakeFixed(s-100*parseInt(s/100),2);break;case"m":a=this.MakeFixed(A,2);break;case"d":a=this.MakeFixed(c,2);break;case"H":a=this.MakeFixed(u,2);break;case"h":a=this.MakeFixed(u>12?u-12:u,2);break;case"M":a=this.MakeFixed(l,2);break;case"s":a=this.MakeFixed(d,2);break;case"t":a=u>=12?"pm":"am"}h+=2}else if(n[h+1]==f&&n[h+2]==f&&n[h+3]!=f)if("m"===f)h+=3,a+=wR[A-1];else h+=3,a+=f,a+=f,a+=f;else if(n[h+1]==f&&n[h+2]==f&&n[h+3]==f&&n[h+4]!=f)switch(f){case"y":a=s,h+=4;break;case"m":h+=4,a+=kR[A-1];break;default:h+=4,a+=f,a+=f,a+=f,a+=f}else h++,a+=f;break;default:h++,a+=f}o+=a}return o}},{key:"GetDate",value:function(e,t,n){t=(t=(t=t.replace("MM","ii")).replace("M","i")).toLowerCase();for(var i=new Date(e),r=new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),A=0,c=0;c<t.length&&A<e.length;){switch(t[c]){case"y":for(var u="";"0"<=e[A]&&e[A]<="9";)u+=e[A],A++;for(;"y"==t[c];)c++;if(2===u.length)u="20"+u;o=parseInt(u);break;case"m":var l="";if("A"<=e[A]&&e[A]<="Z")for(;A<e.length&&e[A].match(/[a-zA-Z]/);)l+=e[A],A++;else for(;"0"<=e[A]&&e[A]<="9";)l+=e[A],A++;for(;"m"==t[c];)c++;switch(l.length){case 1:case 2:a=parseInt(l)-1;break;case 3:a=wR.indexOf(l);break;case 4:a=kR.indexOf(l)}break;case"d":for(var d="";"0"<=e[A]&&e[A]<="9";)d+=e[A],A++;for(;"d"==t[c];)c++;s=parseInt(d);break;case"i":for(var h="";"0"<=e[A]&&e[A]<="9";)h+=e[A],A++;for(;"i"==t[c];)c++;r.setMinutes(parseInt(h));break;case"h":for(var f="";"0"<=e[A]&&e[A]<="9";)f+=e[A],A++;for(;"h"==t[c];)c++;r.setHours(parseInt(f));break;case"s":for(var p="";"0"<=e[A]&&e[A]<="9";)p+=e[A],A++;for(;"s"==t[c];)c++;r.setSeconds(parseInt(p));break;case"t":for(var g="";e[A]&&e[A].match(/[AaPpMm]/);)g+=e[A],A++;for(;"t"==t[c];)c++;if("pm"==g.toLowerCase()){var v=r.getHours();v<12&&(v+=12),r.setHours(v)}else{12==r.getHours()&&r.setHours(0)}break;default:A++,c++}}1==a&&29==s&&o%4!=0&&(o&=4294967292),r.setFullYear(o),r.setMonth(a),r.setDate(s);var m=new Date;return Math.abs(i.getFullYear()-m.getFullYear())<Math.abs(r.getFullYear()-m.getFullYear())||Math.abs(i.getMonth()-m.getMonth())<Math.abs(r.getMonth()-m.getMonth())||Math.abs(i.getDate()-m.getDate())<Math.abs(r.getDate()-m.getDate())?i:r}},{key:"getMonth",value:function(e,t){switch(t){case"m":return e;case"F":return kR[e];case"M":return wR[e]}}},{key:"switchFormat",value:function(e,t){return"toLib"==t?e.replace("yyyy","Y").replace("yy","y").replace("dd","d").replace("HH","H").replace("hh","h").replace("MM","i").replace("M","i").replace("mmmm","F").replace("mmm","M").replace("mm","m").replace("ss","S").replace("tt","K"):e.replace("Y","yyyy").replace("y","yy").replace("d","dd").replace("H","HH").replace("h","hh").replace("i","MM").replace("F","mmmm").replace("M","mmm").replace("m","mm").replace("S","ss").replace("K","tt")}}]),e}(),PR=function(){function e(){(0,C._)(this,e),(0,U._)(this,"eventEmitter",new yo.EventEmitter),(0,U._)(this,"isClosed",!1)}return(0,D._)(e,[{key:"getSpace",value:function(e){return[e.id,e.feature].join(".")}},{key:"getAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this.getSpace(e),[2,this.getSpaceKeys(e).reduce(function(e,n){var i=n.slice(t.length+1),r=localStorage.getItem(n);return e[i]=r?JSON.parse(r):null,e},{})]})}).call(this)}},{key:"get",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){return n=this.generateUniqueKey(e,t),(i=localStorage.getItem(n))?[2,JSON.parse(i)]:[2,null]})}).call(this)}},{key:"set",value:function(e,t,n){return(0,x._)(function(){var i,r,o,a;return(0,N.Jh)(this,function(s){return null==n?[2]:(i=this.generateUniqueKey(e,t),r=localStorage.getItem(i),o=r?JSON.parse(r):void 0,a=JSON.stringify(n),r===a||(localStorage.setItem(i,a),this.emitChangeEvent({context:e,key:t,oldValue:o,newValue:n})),[2])})}).call(this)}},{key:"removeAll",value:function(e){return(0,x._)(function(){var t;return(0,N.Jh)(this,function(n){return t=this,this.getSpaceKeys(e).forEach(function(n){var i=localStorage.getItem(n);localStorage.removeItem(n),localStorage.getItem(n)!==i&&t.emitRemoveEvent({context:e,key:n})}),[2]})}).call(this)}},{key:"remove",value:function(e,t){return(0,x._)(function(){var n,i;return(0,N.Jh)(this,function(r){return n=this.generateUniqueKey(e,t),i=localStorage.getItem(n),localStorage.removeItem(n),localStorage.getItem(n)!==i&&this.emitRemoveEvent({context:e,key:t}),[2]})}).call(this)}},{key:"onChange",value:function(e){return this.addEventListener("change",e)}},{key:"onRemove",value:function(e){return this.addEventListener("remove",e)}},{key:"close",value:function(){this.isClosed=!0}},{key:"addEventListener",value:function(e,t){var n=this,i=function(e){t(e)};return this.eventEmitter.addListener(e,i),function(){n.eventEmitter.removeListener(e,i)}}},{key:"generateUniqueKey",value:function(e,t){return[this.getSpace(e),t].join(".")}},{key:"getSpaceKeys",value:function(e){var t=this.getSpace(e)+".";return Array(localStorage.length).fill(0).map(function(e,t){return localStorage.key(t)}).filter(function(e){return!!e}).filter(function(e){return 0===e.indexOf(t)})}},{key:"emitChangeEvent",value:function(e){this.eventEmitter.emit("change",e)}},{key:"emitRemoveEvent",value:function(e){this.eventEmitter.emit("remove",e)}}]),e}(),CR=function(e){return e.ICON_CLASS="icon-class",e.IMAGE_URL="image-data-uri",e.CANVAS="canvas",e.NONE="none",e}({}),DR=function(e){function t(){var e;return(0,C._)(this,t),e=(0,P._)(this,t),(0,U._)(e,"element",void 0),(0,U._)(e,"_isVisible",!1),e.element=document.createElement("div"),e.element.classList.add("fv__viewer-portfolio-previewer"),e}return(0,I._)(t,e),(0,D._)(t,[{key:"isVisible",get:function(){return this._isVisible}},{key:"getThumb",value:function(e,t){var n=t.fileName,i="fv__icon-portfolio-file",r=n?n.match(/.*\.(.+$)/):void 0,o=r?r[1]:void 0;return o&&(i=i+" fv__icon-portfolio-ext-"+o),Promise.resolve({type:"icon-class",data:i})}},{key:"toggleVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"boolean"!=typeof e?this.toggleVisibility(!this._isVisible):(this.element.classList.toggle("portfolio-hidden",!e),this._isVisible=e)}}]),t}(z.Disposable),ER=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"pdfViewer",void 0),(0,U._)(n,"previewerPDFViewer",void 0),(0,U._)(n,"currentFileId",void 0),(0,U._)(n,"executor",void 0),n.pdfViewer=e,n.currentFileId=void 0,n.executor=new z.QueuedAsyncTaskExecutor,e.eventEmitter.on(ae.renderFileSuccess,function(){n.initPDFViewer()}),n}return(0,I._)(t,e),(0,D._)(t,[{key:"accept",value:function(e,t){return new Promise(function(t,n){var i=new FileReader;i.onload=function(){t("%PDF"===i.result)},i.onerror=function(e){return n(e)},i.readAsText(e.slice(0,4))})}},{key:"initPDFViewer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customs:{}};if(this.previewerPDFViewer)return this.previewerPDFViewer;var n=this.pdfViewer;if("JR"!==n.config.engineMode)throw new Error("Unsupported engine mode!");t.customs=Object.assign({},{isSupportFileType:n.$constructorOptions.customs.isSupportFileType,ScrollWrap:yM.create(this.element),getDocPermissions:function(){return 0},getAnnotPermissions:function(){return Promise.resolve([])}},t.customs);var i=Object.assign({},n.$constructorOptions,{defaultAnnotConfig:null,eventEmitter:new yo.EventEmitter,defaultKeyboardEventBinder:Tx,collaboration:{enable:!1},enableJS:!1,enableShortcutKey:!1,viewerUI:new SR(n.viewerUI),applicationContext:new z.ApplicationContextImpl},t),r=i.jr;r.readyWorker&&(r.readyWorker=r.readyWorker.clone({loadLocalFonts:!1})),delete i.messageSyncServiceWorker;var o=new pT(i);o.grantQueryLocalFontsPermission("denied");var a=document.createElement("div");return a.className="fv__viewer-portfolio-pdf-previewer-container",o.init(a),this.element.appendChild(a),this.previewerPDFViewer=o,this.addDestroyHook(function(){e.element.removeChild(a),o.destroy()}),o}},{key:"redraw",value:function(){var e=this;this.executor.exec(function(){var t=e.previewerPDFViewer;return t&&t.getCurrentPDFDoc()?t.redraw():Promise.resolve()})}},{key:"preview",value:function(e,t){var n=this,i=this.initPDFViewer();return this.currentFileId=t.handle,this.executor.exec(function(){return n.openFile(t,i,e)}),function(){return n.currentFileId=void 0,n.executor.exec(function(){return i.close()})}}},{key:"openFile",value:function(e,t,n){var i={fileName:e.fileName,isRenderOnDocLoaded:!0};"isRenderOnDocLoaded"in e&&(i.isRenderOnDocLoaded=e.isRenderOnDocLoaded);var r=this.pdfViewer.viewerUI;return t.openPDFByFile(n,i).catch(function(e){return o(e,i)});function o(e,t){switch(e.error){case $e.password:return a(e.pdfDoc,t,{type:vE.FROM_FILE,fileName:t.fileName,file:n,options:t});case $e.format:r.alert("alert.formatError");break;case $e.securityHandler:r.alert("alert.securityError");break;case $e.certificate:r.alert("dialog.openFileFailed.errCertificate");break;default:return r.alert("alert.openFailed"),Promise.reject(e)}}function a(e,n,i){var s,A;return(n.password||"")&&(s="error",A="retry.invalidPassword"),r.promptPassword("","retry.inputPassword","retry.Password","body",s,A).then(function(r){return r?(n.password=r,t.reopenPDFDoc(e,n,i).catch(function(e){o(e,n)})):a(e,n,i)},function(e){if(e)throw e})}}},{key:"getThumb",value:function(e,n){if("number"!=typeof this.currentFileId&&this.currentFileId!==n.handle)return(0,E._)((0,S._)(t.prototype),"getThumb",this).call(this,e,n);if(!this.previewerPDFViewer)return(0,E._)((0,S._)(t.prototype),"getThumb",this).call(this,e,n);var i=this.previewerPDFViewer.getCurrentPDFDoc();return i?i.getPageByIndex(0).then(function(e){return e.getThumb(0).then(function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(e.buffer){var i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),{type:CR.CANVAS,data:t}}if(e.image){var o=new Image;return o.onload=function(){URL.revokeObjectURL(o.src),n.drawImage(o,0,0)},o.src=URL.createObjectURL(e.image),{type:CR.CANVAS,data:t}}})}):(0,E._)((0,S._)(t.prototype),"getThumb",this).call(this,e,n)}}]),t}(DR),SR=function(e){function t(e){var n;return(0,C._)(this,t),n=(0,P._)(this,t),(0,U._)(n,"origin",void 0),(0,U._)(n,"contextMenu",void 0),n.origin=e,n.contextMenu=new(function(e){function t(){return(0,C._)(this,t),(0,P._)(this,t,arguments)}return(0,I._)(t,e),(0,D._)(t,[{key:"showAt",value:function(e,t){return!1}},{key:"destroy",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"onShown",value:function(){}},{key:"onHidden",value:function(){}}]),t}(dk)),n}return(0,I._)(t,e),(0,D._)(t,[{key:"createContextMenu",value:function(){return this.contextMenu}},{key:"alert",value:function(e){return this.origin.alert(e)}},{key:"confirm",value:function(e){return this.origin.confirm(e)}},{key:"prompt",value:function(e,t,n){return this.origin.prompt(e,t,n)}},{key:"promptPassword",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=this.origin).promptPassword.apply(i,(0,R._)(t))}},{key:"createFreeTextTooltip",value:function(){}},{key:"createAnnotTooltip",value:function(){}},{key:"createTextSelectionTooltip",value:function(e){return new Pk(this.pdfViewer,e)}},{key:"destroy",value:function(){}},{key:"getSignatureUI",value:function(){return this.origin.getSignatureUI()}},{key:"getJSDialogUI",value:function(){return this.origin.getJSDialogUI()}},{key:"getJSDynamicDialogUI",value:function(){return this.origin.getJSDynamicDialogUI()}},{key:"getActionEditorUI",value:function(){return this.origin.getActionEditorUI()}},{key:"getJSPopupMenuUI",value:function(){return this.origin.getJSPopupMenuUI()}}]),t}(hk),IR=function(e){function t(e){var n;(0,C._)(this,t);return(n=(0,P._)(this,t,[e])).annotationInfo.dicts=Object.assign({AreaHi:"AreaHi"},n.annotationInfo.dicts||{}),n.eContainer.classList.add("fv__viewer-fake-highlight-area-annot"),n}return(0,I._)(t,e),(0,D._)(t,[{key:"setRect",value:function(e){(0,E._)((0,S._)(t.prototype),"setRect",this).call(this,e),this.annotationInfo.coords=[this.pdfRect],this.annotationInfo.quadPoints=[{x:this.pdfRect.left,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.bottom},{x:this.pdfRect.left,y:this.pdfRect.bottom}]}},{key:"getDefaultAnnotInfo",value:function(){var e=(0,E._)((0,S._)(t.prototype),"getDefaultAnnotInfo",this).call(this);return e.color=16776960,e}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),"Area"):{}}},{key:"generateApRenderer",value:function(){return new Hv(this)}},{key:"getType",value:function(){return"highlight"}},{key:"getCreationJSON",value:function(){return(0,k._)((0,w._)({},(0,E._)((0,S._)(t.prototype),"getCreationJSON",this).call(this)),{color:this.annotationInfo.color})}},{key:"getRenderingData",value:function(e,n){var i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n);return(0,k._)((0,w._)({},i),{coords:[i.outerDeviceRect],isArea:!0})}}]),t}(yR),TR=function(e){function t(e){var n,i;((0,C._)(this,t),n=(0,P._)(this,t,[e]),(0,U._)(n,"vertexes",[]),(0,U._)(n,"deviceVertexes",[]),(0,U._)(n,"lastPoint",{x:0,y:0}),n.annotationInfo.vertexes)&&(i=n.vertexes).push.apply(i,(0,R._)(n.annotationInfo.vertexes));return n.annotationInfo.vertexes=n.vertexes,n}return(0,I._)(t,e),(0,D._)(t,[{key:"getVertexes",value:function(){return this.vertexes}},{key:"getDeviceVertexes",value:function(){return this.deviceVertexes}},{key:"addPoint",value:function(e,t){var n=(0,M._)(this.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1];this.vertexes.push({x:i,y:r}),this.lastPoint={x:i,y:r},this.deviceVertexes.push({x:e,y:t}),this.updateRect()}},{key:"setLastPoint",value:function(e,t){var n=this.deviceVertexes[this.deviceVertexes.length-1],i="number"==typeof e?e:n.x,r="number"==typeof t?t:n.y,o=(0,M._)(this.page.reverseDevicePoint([i,r],this.scale,this.rotate),2),a=o[0],s=o[1];this.lastPoint={x:a,y:s},this.updateRect()}},{key:"getLastPoint",value:function(){return this.lastPoint}},{key:"zoomTo",value:function(e){var n=this;this.scale!==e&&((0,E._)((0,S._)(t.prototype),"zoomTo",this).call(this,e),this.deviceVertexes=this.vertexes.map(function(t){var i=(0,M._)(n.page.getDevicePoint([t.x,t.y],e,n.rotate),2);return{x:i[0],y:i[1]}}),this.updateRect())}},{key:"removeLastPoint",value:function(){}},{key:"getRenderingData",value:function(e,n){var i=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this,e,n),r=(0,Qc._)(this.vertexes).slice(0);return r.push(this.lastPoint),(0,k._)((0,w._)({},i),{vertexes:r})}},{key:"generateApRenderer",value:function(){return new km(this)}},{key:"getType",value:function(){return"polyline"}},{key:"getOuterDeviceRect",value:function(e,n){return(0,E._)((0,S._)(t.prototype),"getDeviceRect",this).call(this,e,n)}},{key:"updateRect",value:function(){if(0!==this.deviceVertexes.length){var e=(0,M._)(this.page.getDevicePoint([this.lastPoint.x,this.lastPoint.y],this.scale,this.rotate),2),t={x:e[0],y:e[1]},n=t.x,i=t.y,r=t.x,o=t.y;this.deviceVertexes.forEach(function(e){n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)});var a=(0,W.F2)(this.annotationInfo.borderInfo.width)*this.scale*2+20;n-=a/2,i-=a/2,r+=a/2,o+=a/2,this.setRect({left:n,top:i,right:r,bottom:o})}}},{key:"apply",value:function(){var e=this;return(0,E._)((0,S._)(t.prototype),"apply",this).call(this).then(function(t){var n=e.annotationInfo.intent;return"PolygonDimension"===n||"PolyLineDimension"===n?e.page.getMeasureScaleRatio().then(function(i){if(i&&i.scale){var r=e.pdfViewer.getStore().getCurrentValue("measurementData"),o=tm(e.pdfViewer),a=Wi(r.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(r.displayUnit.name)):r.displayUnit.name;return t[0].setContent(o+parseFloat("PolyLineDimension"===n?r.perimeter:r.area).toFixed(2)+" "+a).then(function(e){return t})}return t}):t})}}]),t}(yR),MR=function(e){function t(e){var n;(0,C._)(this,t),n=(0,P._)(this,t,[e]),(0,U._)(n,"isCloudy",!1);var i=n.annotationInfo;if(i.borderStyle)switch(i.borderInfo.style=i.borderStyle,i.borderStyle){case de.CLOUDY:n.annotationInfo.borderInfo.cloudIntensity=i.borderStyleParam,n.isCloudy=!0;break;case de.DASHED:n.annotationInfo.borderInfo.dashes=i.borderStyleParam}return i.borderInfo.style===de.CLOUDY?n.isCloudy=!0:n.isCloudy=!1,n}return(0,I._)(t,e),(0,D._)(t,[{key:"setFlag",value:function(e,t){this.renderer.setFlag(e,t)}},{key:"generateApRenderer",value:function(){var e=this.isCloudy;return new Mm(this,e)}},{key:"getOuterDeviceRect",value:function(e,n){return this.isCloudy?Fh.on(this.getDeviceRect(e,n)).expand(100*e).extract():(0,E._)((0,S._)(t.prototype),"getDeviceRect",this).call(this,e,n)}},{key:"getType",value:function(){return"polygon"}}]),t}(TR),RR=ge,FR=function(e){function t(e){var n;(0,C._)(this,t);var i=(n=(0,P._)(this,t,[e])).annotationInfo;switch(n.annotationInfo.endStyle&&(i.endingStyle=n.annotationInfo.endStyle),i.intent){case fe.LINE_ARROW:i.endingStyle===RR.None&&(i.endingStyle=RR.OpenArrow);break;case fe.LINE_DIMENSION:i.startStyle===RR.None&&(i.startStyle=RR.OpenArrow),i.endingStyle===RR.None&&(i.endingStyle=RR.OpenArrow)}return i.hasCaption=i.enableCaption,i.leaderLinePoints.start=i.startPoint,n}return(0,I._)(t,e),(0,D._)(t,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var i=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,i),this.eContainer.style.cssText+="\n            width: ".concat(t,"px;\n            height: ").concat(n,"px;\n        ")}},{key:"generateApRenderer",value:function(){return new om(this)}},{key:"getType",value:function(){return"line"}},{key:"getStartPoint",value:function(){return this.annotationInfo.startPoint}},{key:"getEndPoint",value:function(){return this.annotationInfo.endPoint}},{key:"setEndPoint",value:function(e){var t=(0,M._)(this.page.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),n=t[0],i=t[1];this.annotationInfo.endPoint={x:n,y:i},this.annotationInfo.leaderLinePoints.end=this.annotationInfo.endPoint;var r=this.annotationInfo.startPoint,o=r.x,a=r.y,s=(0,M._)(this.page.getDevicePoint([o,a],this.scale,this.rotate),2),A=s[0],c=s[1];this.setRect({left:A,top:c,right:e.x,bottom:e.y}),this.annotationInfo.intent==fe.LINE_DIMENSION&&this.calculateLeaderLinePoints()}},{key:"calculateLeaderLinePoints",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=-1/(n/i),o=Math.atan(r),a=1,s=(this.page.getRotationAngle()+this.rotate)%360;if(t.x<e.x&&t.y<e.y||t.x>e.x&&t.y>e.y)switch(s){case 180:case 270:a=-1;break;default:a=1}else switch(s){case 90:case 180:a=1;break;default:a=-1}var A=this.annotationInfo.leaderLineLength,c=a*Math.cos(o)*A,u=a*Math.sin(o)*A,l={x:e.x+c,y:e.y+u},d=t,h=this.pdfRect;h.left<l.x&&l.x<h.right&&h.bottom<l.y&&l.y<h.top?d={x:t.x+c,y:t.y+u}:(l={x:e.x-c,y:e.y-u},d={x:t.x-c,y:t.y-u}),this.annotationInfo.leaderLinePoints.start=l,this.annotationInfo.leaderLinePoints.end=d}},{key:"getRenderingData",value:function(){var e=(0,E._)((0,S._)(t.prototype),"getRenderingData",this).call(this);return(0,w._)({},e,this.annotationInfo)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.leaderLinePoints.start,i=this.annotationInfo.startPoint,r=this.annotationInfo.leaderLineExtend,o=this.annotationInfo.borderInfo.width,a=Ri.convertTo(o,Hi)*this.scale,s=Math.max(Math.abs(n.x-i.x),Math.abs(n.y-i.y))+r,A=Ri.convertTo(s,Hi)*this.scale;return Fh.on(this.getDeviceRect(e,t)).expand(A+a).extract()}},{key:"getDefaultAnnotInfo",value:function(){var e={x:0,y:0},n={x:0,y:0};return(0,k._)((0,w._)({},(0,E._)((0,S._)(t.prototype),"getDefaultAnnotInfo",this).call(this)),{startPoint:e,endPoint:n,leaderLineLength:15,leaderLineExtend:5,captionOffset:{x:0,y:0},enableCaption:!1,leaderLinePoints:{start:e,end:n},leaderLineOffset:0,captionPos:ve.POS_INLINE,content:"",startStyle:Qe.None,endingStyle:Qe.None})}},{key:"apply",value:function(){var e=this;return(0,E._)((0,S._)(t.prototype),"apply",this).call(this).then(function(t){return"LineDimension"===e.annotationInfo.intent?e.page.getMeasureScaleRatio().then(function(n){if(n&&n.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=tm(e.pdfViewer),o=Wi(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;return t[0].setContent(r+parseFloat(i.distance).toFixed(2)+" "+o).then(function(e){return t})}return t}):t})}}]),t}(yR),NR=ae,LR=yM,OR={Hammer:qr(),EventEmitter:_o(),jQuery:O()},jR=OR,BR={DiffColor:OS,OverlayComparisonOptionsService:jS,OverlayComparisonService:VS},VR=(0,k._)((0,w._)({},_),{browser:z.browser,receiveImageBuffer:bg,units:A,download:Lh,createClass:z.createClass,DebounceAsyncTaskExecutor:z.DebounceAsyncTaskExecutor,ThrottleAsyncTaskExecutor:z.ThrottleAsyncTaskExecutor,QueuedAsyncTaskExecutor:z.QueuedAsyncTaskExecutor,areaSelections:p,cipherType:fP,securityEncryptType:{Unknown:-1,None:0,Password:1,Certificate:2,FoxitDRM:3,Custom:4,RMS:5,CDRM:6,MIP:7},keyUsageType:{Unknown:-1,Signature:0,Encryption:1,SignatureAndEncryption:2},securityUtils:g,IndexDBCache:UE.default,IndexDBStore:UE.IndexDBStore,fileUtils:l,FileFormat:h,activation:i,keyboardStatus:z.keyboardStatus,getUnitByName:Wi,getClientX:lf,getClientY:df,DebouncePromiseQueue:Ae,extendOptions:z.extendOptions,convertFromNumberToHex:z.convertFromNumberToHex,convertFromNumberToRGBA:z.convertFromNumberToRGBA,colorConvertor:z.colorConvertor,setThemeColor:z.setThemeColor,standardColorAsARGBNumber:z.standardColorAsARGBNumber,CalloutPointsReviser:H_,createDeferred:z.createDeferred,Store:z.Store,ValueStore:z.ValueStore,Disposable:z.Disposable,getAnnotThumbnail:function(e){e.endsWith("/")||(e+="/");var t="png",n=12,i=12;return{text:{url:"".concat(e,"annotThumbnail/Textbox_12.png"),type:t,width:n,height:i},freetext:{url:"".concat(e,"annotThumbnail/Typewriter_12.png"),type:t,width:n,height:i},line:{url:"".concat(e,"annotThumbnail/Line_12.png"),type:t,width:n,height:i},square:{url:"".concat(e,"annotThumbnail/Square Tool_12.png"),type:t,width:n,height:i},circle:{url:"".concat(e,"annotThumbnail/Ellipse Tool_12.png"),type:t,width:n,height:i},polygon:{url:"".concat(e,"annotThumbnail/Polygon Tool_12.png"),type:t,width:n,height:i},polyline:{url:"".concat(e,"annotThumbnail/Polygon Line Tool_12.png"),type:t,width:n,height:i},highlight:{url:"".concat(e,"annotThumbnail/Highlight Tool_12.png"),type:t,width:n,height:i},underline:{url:"".concat(e,"annotThumbnail/Underline Tool_12.png"),type:t,width:n,height:i},squiggly:{url:"".concat(e,"annotThumbnail/Squiggly Tool_12.png"),type:t,width:n,height:i},strikeout:{url:"".concat(e,"annotThumbnail/Strikeout Tool_12.png"),type:t,width:n,height:i},stamp:{url:"".concat(e,"annotThumbnail/Stamp_12.png"),type:t,width:n,height:i},caret:{url:"".concat(e,"annotThumbnail/Caret Tool_12.png"),type:t,width:n,height:i},ink:{url:"".concat(e,"annotThumbnail/Inksig_12.png"),type:t,width:n,height:i},fileattachment:{url:"".concat(e,"annotThumbnail/AttachAnnot_12.png"),type:t,width:n,height:i}}},getRanges:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[];return t.forEach(function(e){"number"==typeof e?i.push(e):i=i.concat(function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(e[0],e[1]))}),Array.from(new Set(i))},DebounceTaskExecutor:z.DebounceTaskExecutor,debounce:z.debounce,eraser:v,observeResize:z.observeResize,throttle:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0,A=function(){s=!1===a.leading?0:Date.now(),t=null,r=e.apply(n,i),t||(n=i=null)};function c(){var c=Date.now();s||!1!==a.leading||(s=c);var u=o-(c-s);return n=this,i=arguments,u<=0||u>o?(t&&(clearTimeout(t),t=null),s=c,r=e.apply(n,i),t||(n=i=null)):t||!1===a.trailing||(t=setTimeout(A,u)),r}return c.cancel=function(){clearTimeout(t),s=0,t=n=i=null},c},Draggable:dR,BuiltinIntersectionObserver:z.BuiltinIntersectionObserver,getDefaultStamps:eR,Color:z.Color,isEditableElement:z.isEditableElement,attachContextMenuEvent:z.attachContextMenuEvent,eventPath:z.eventPath,createFocusEvent:z.createFocusEvent,dpr:z.dpr,getDPI:z.getDPI,resolvePath:Dg}),HR={CreateFreeTextCalloutService:sR},UR={Log_Levels:z.Log_Levels,LEVELS:z.Log_Levels,setLogLevel:z.setLogLevel,LoggerFactory:z.LoggerFactory},zR={getDevicePagePoint:hf,deltaDeviceRect:rf,appendSelectMark:function(e,t){sf(e);for(var n=O()(document.createDocumentFragment()),i=0,r=t.length;i<r;i++){var o=t[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.right-o.left)+"px","height:"+(o.bottom-o.top)+"px"].join(";");n.append('<mark class="'+of+'" style="'+a+'"></mark>')}e.append(n)},removeSelectMark:sf,getBoundingPoint:nf,getCaretRectAndRotate:Af,removeTextSelectedRangeMark:cf,showTextSelectedRangeMark:uf},WR={IStateHandler:tf,HandStateHandler:Zf,StateHandlerConsts:s,StateHandlerUtils:zR,CreateMeasurementService:rr},YR={IViewMode:hh,UsualViewModeShortcutHandler:Sg,ViewModeShortcutHandler:lh,MultipageViewMode:uR},GR={ProgressComponent:Rk,IFloatingTooltip:fk,IViewerUI:hk,IContextMenu:dk,TinyViewerUI:Sx,TinyFloatingTooltip:Pk,TextSelectionTool:vk,IDateTimePicker:Fk},$R={Activatable:J,CustomOptionsUpdater:$S,ScrollWrap:Xh,PDFViewerRendering:V,PDFDocRendering:wh,PDFPageRendering:Y,ProgressComponent:Rk,TextSelectionTool:vk},JR=GR,qR={constant:Object.assign({Cipher_Type:hR,User_Permissions:Xt,DataEvents:oe.Z,AnnotUpdatedType:Qt,ZoomMode:fR},o),actions:(0,w._)({},pR,Ge),bookmark:{BookmarkRelationship:pC,BookmarkZoomMode:gC},common:{FileSpec:gP},annots:(0,w._)({constant:{Annot_Flags:en,Annot_Type:Zi,Annot_Unit_Type:Ei,MARKUP_ANNOTATION_STATE:ue},AnnotFlag:Fd},cn),form:Object.create(br,{constant:{value:{Field_Flag:gn,Field_Type:pn,Signature_Type:vn}},Widget:Pr,PDFFormField:aP,PDFForm:dP}),HeaderFooter:pP,DataEvents:oe.Z,Error_Code:$e,engine:{GraphicsObject:Gx},Matrix:nn,comparison:{},PDFPageBatchProcessor:mr},KR={ViewerEvents:NR,STATE_HANDLER_NAMES:s,ANNOTATION_PERMISSION:Gy,OPEN_FILE_TYPE:vE,SNAP_MODE:am,PagePointType:Xd,PROGRESS_STATUS:Tk,DIRECTION:Pv},ZR={BuiltinShortcutContext:Hd,BuiltinCommand:Vd,BuiltinShortcutCommand:Vd,Keyboard:z.KeyboardImpl,KeyboardUtils:z.KeyboardUtils,Shortcut:z.Shortcut,interceptors:z.interceptors},XR={COLLABORATION_ACTION:Bd,WebSocketCommunicator:iR},QR={PrintProgress:aR},eF=q,tF={consts:{ADD_FONT_MAP_LIST:zh},shared:{Lazy:z.Lazy,attachKeypressEvent:z.attachKeypressEvent,preventFastClickByKeydown:z.preventFastClickByKeydown,createClickEvent:z.createClickEvent,stopPropagationOnShortcutEvent:z.stopPropagationOnShortcutEvent,IoCScope:z.IoCScope},form:{CFR_Utils:xR}},nF={PDFPageRender:ch,PDFDocRender:Zh,annotsRender:{AnnotRender:te,ViewerAnnotManager:Rb}},iF={BookmarkDataService:PC};window.PDF=qR;var rF=n(5461),oF=n.n(rF);Ue().extend(oF())},7166:(e,t,n)=>{"use strict";n(1359);var i=n(9256);!function(){if("object"===("undefined"==typeof window?"undefined":(0,i._)(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(){for(var e=window.document,t=o(e);t;)t=o(e=t.ownerDocument);return e}(),t=[],n=null,r=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?h(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach(function(e){e._checkForIntersections()})}),n},s._resetCrossOriginUpdater=function(){n=null,r=null},s.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var i=this._checkForIntersections,r=null,a=null;this.POLL_INTERVAL?r=n.setInterval(i,this.POLL_INTERVAL):(A(n,"resize",i,!0),A(t,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(i)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push(function(){var e=t.defaultView;e&&(r&&e.clearInterval(r),c(e,"resize",i,!0)),c(t,"scroll",i,!0),a&&a.disconnect()});var s=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=s){var u=o(t);u&&this._monitorIntersections(u.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||e,r=this._observationTargets.some(function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=i;){var r=o(n);if((n=r&&r.ownerDocument)==t)return!0}return!1});if(!r){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=i){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,o=l(r),s=this._rootContainsTarget(r),A=i.entry,c=e&&s&&this._computeTargetAndRootIntersection(r,o,t),u=null;this._rootContainsTarget(r)?n&&!this.root||(u=t):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=i.entry=new a({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:u,intersectionRect:c});A?e&&s?this._hasCrossedThreshold(A,d)&&this._queuedEntries.push(d):A&&A.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a=i,s=p(t),A=!1;!A&&s;){var c=null,d=1==s.nodeType?window.getComputedStyle(s):{};if("none"==d.display)return null;if(s==this.root||9==s.nodeType)if(A=!0,s==this.root||s==e)n&&!this.root?!r||0==r.width&&0==r.height?(s=null,c=null,a=null):c=r:c=o;else{var f=p(s),g=f&&l(f),v=f&&this._computeTargetAndRootIntersection(f,g,o);g&&v?(s=f,c=h(g,v)):(s=null,a=null)}else{var m=s.ownerDocument;s!=m.body&&s!=m.documentElement&&"visible"!=d.overflow&&(c=l(s))}if(c&&(a=u(c,a)),!a)break;s=s&&p(s)}return a}},s.prototype._getRootRect=function(){var t;if(this.root&&!g(this.root))t=l(this.root);else{var n=g(this.root)?this.root:e,i=n.documentElement,r=n.body;t={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},s.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},s.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=a}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function a(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout(function(){n(),r=null},i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function A(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e,t){var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-r,s=i-n;return a>=0&&s>=0&&{top:n,bottom:i,left:r,right:o,width:a,height:s}||null}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function h(e,t){var n=t.top-e.top,i=t.left-e.left;return{top:n,left:i,height:t.height,width:t.width,bottom:n+t.height,right:i+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function g(e){return e&&9===e.nodeType}}();n(1718);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout(function(){for(var n=atob(i),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))})}}),globalThis.requestIdleCallback||(globalThis.requestIdleCallback=function(e){return setTimeout(e)}),globalThis.cancelIdleCallback||(globalThis.cancelIdleCallback=function(e){clearTimeout(e)})},1359:()=>{!function(){var e=function(e){return e.replace(i,function(e,t){return t.toUpperCase()})},t=function(){for(var t={},n=this.attributes,i=n.length,o=0;o<i;o+=1){var a=n[o],s=a.name,A=a.value;s.substring(0,r.length)===r&&(t[e(s.substring(r.length))]=A)}return t},n=document.createElement("_");if(void 0===n.dataset){var i=/\-([a-z])/gi,r="data-",o=!!document.addEventListener,a=!1,s="DOMAttrModified";o?n.addEventListener(s,A,!1):n.attachEvent("on"+s,A),n.setAttribute("foo","bar"),Object.defineProperty(Element.prototype,"dataset",{get:a?function(){return this._datasetCache||(this._datasetCache=t.call(this)),this._datasetCache}:t}),a&&o&&document.addEventListener(s,function(e){delete e.target._datasetCache},!1)}function A(){o?n.removeEventListener(s,A,!1):n.detachEvent("on"+s,A),a=!0}}()},1718:()=>{Array.prototype.findLast||Object.defineProperty(Array.prototype,"findLast",{enumerable:!1,writable:!1,value:function(e){for(var t=this.length-1;t>0;){var n=this[t];if(e(n,t,this))return n;t--}}})},9960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IndexDBStore:()=>f,default:()=>h});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=n(9256),A=n(651),c="object"===("undefined"==typeof window?"undefined":(0,s._)(window))?window:"function"==typeof importScripts?self:{},u=c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,l=c.IDBTransaction||c.webkitIDBTransaction||c.msIDBTransaction,d={},h=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,r._)(this,e),this.dbName=n,this.storeName=t,this.keyPath="id",this.version=i,this.indexArr=o}return(0,o._)(e,[{key:"_getDB",value:function(){var e=this,t=this.dbName,n=d[t];if(n)return n;var i=(0,A.createDeferred)(),r=d[t]=i.promise,o=u.open(t,this.version),a=this.keyPath;return o.onerror=function(e){i.reject(e)},o.onupgradeneeded=function(t){var n=t.target.result;if(!n.objectStoreNames.contains(e.storeName)){var i=n.createObjectStore(e.storeName,{keyPath:a});e.indexArr.length&&e.indexArr.forEach(function(e){var t=e.indexKey,n=e.unique,r=void 0!==n&&n;i.createIndex(t,t,{unique:r})})}},o.onsuccess=function(e){i.resolve(e.target.result)},r}},{key:"set",value:function(e,t){var n=this;return u?this._getDB().then(function(i){var r=n.storeName,o=n.keyPath,a=i.transaction([r],l.READ_WRITE||"readwrite").objectStore(r),s={value:t};s[o]=e.toString();var c=a.put(s),u=(0,A.createDeferred)();return c.onsuccess=function(e){u.resolve()},c.onerror=function(e){u.reject(e)},u.promise}):Promise.resolve()}},{key:"get",value:function(e){var t=this;return u?this._getDB().then(function(n){var i=(0,A.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t.value)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise}):Promise.resolve(null)}},{key:"getByIndex",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u&&this.indexArr.some(function(t){return t.indexKey===e})?this._getDB().then(function(r){var o=(0,A.createDeferred)(),a=n.storeName;if(!r.objectStoreNames.contains(a))return o.resolve();var s=r.transaction([a]).objectStore(a).index(e).openCursor(null,"next"),c=[];return s.onsuccess=function(n){var r=n.target.result;if(r){var a=r.value[e];return i?a.toLowerCase().indexOf(t.toLowerCase())>-1&&c.push(r.value):a===t&&c.push(r.value),void r.continue()}o.resolve(c)},s.onerror=function(e){o.reject(e)},s.oncomplete=function(e){},o.promise}):Promise.resolve(null)}},{key:"remove",value:function(e){var t=this;return u?this._getDB().then(function(n){var i=t.storeName;if(n.objectStoreNames.contains(i)){var r=n.transaction([i],l.READ_WRITE||"readwrite").objectStore(i).delete(e),o=(0,A.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject()},o.promise}}):Promise.resolve()}},{key:"clear",value:function(){var e=this;return u?this._getDB().then(function(t){var n=e.storeName;if(t.objectStoreNames.contains(n)){var i=t.transaction([n],l.READ_WRITE||"readwrite").objectStore(n).clear(),r=(0,A.createDeferred)();return i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject()},r.promise}}):Promise.resolve()}},{key:"destroy",value:function(){var e=this.dbName;delete d[e],u&&u.deleteDatabase(e)}},{key:"getAllKeys",value:function(){var e=this;return u?this._getDB().then(function(t){var n=(0,A.createDeferred)(),i=e.storeName;if(!t.objectStoreNames.contains(i))return n.resolve();var r=t.transaction([i]).objectStore(i).getAllKeys();return r.onsuccess=function(e){var t=e.target.result;if(!t)return n.resolve([]);n.resolve(t)},r.onerror=function(e){n.reject(e)},r.oncomplete=function(e){},n.promise}):Promise.resolve([])}}]),e}(),f=function(e){function t(e,n){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,r._)(this,t),(o=(0,i._)(this,t,[e,n,a,A])).keyPath=s,o}return(0,a._)(t,e),(0,o._)(t,[{key:"set",value:function(){throw new Error('This method is duplicated, please use "add" instead.')}},{key:"add",value:function(e){var t=this;return u?this._getDB().then(function(n){var i=t.storeName,r=(t.keyPath,n.transaction([i],l.READ_WRITE||"readwrite").objectStore(i).put(e)),o=(0,A.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject(e)},o.promise}):Promise.resolve()}},{key:"addItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)&&t.length&&u?this._getDB().then(function(n){for(var i=function(e){var n=t[e],i=o.put(n),r=(0,A.createDeferred)();i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject(e)},s.push(r.promise)},r=e.storeName,o=(e.keyPath,n.transaction([r],l.READ_WRITE||"readwrite").objectStore(r)),a=t.length,s=[],c=0;c<a;c++)i(c);return Promise.all(s)}):Promise.resolve()}},{key:"update",value:function(e,t,n){var i=this;return u?this.get(e).then(function(e){return e[t]=n,i.add(e)}):Promise.resolve()}},{key:"get",value:function(e){var t=this;return u?this._getDB().then(function(n){var i=(0,A.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise}):Promise.resolve(null)}},{key:"getAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return u?this._getDB().then(function(i){var r=(0,A.createDeferred)(),o=e.storeName;if(!i.objectStoreNames.contains(o))return r.resolve();var a=i.transaction([o]).objectStore(o);if(IDBObjectStore.prototype.getAll){var s=a.getAll(t,n);return s.onsuccess=function(e){var t=e.target.result;if(!t)return r.resolve();r.resolve(t)},s.onerror=function(e){r.reject(e)},r.promise}var c=a.openCursor(t),u=[];return c.onsuccess=function(e){var t=e.target.result;t&&(u.push(t.value),void 0===n||u.length<n)?t.continue():r.resolve(u)},c.onerror=function(e){r.reject(e)},r.promise}):Promise.resolve(null)}},{key:"getAllKeys",value:function(e){var t=this;return u?this._getDB().then(function(n){var i=(0,A.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r);if(IDBObjectStore.prototype.getAllKeys){var a=o.getAllKeys(null,e);return a.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},a.onerror=function(e){i.reject(e)},i.promise}var s=o.openCursor(key),c=[];return s.onsuccess=function(t){var n=t.target.result;n&&(c.push(n.key),void 0===e||c.length<e)?n.continue():i.resolve(c)},s.onerror=function(e){i.reject(e)},i.promise}):Promise.resolve(null)}}]),t}(h)},3397:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,vg:()=>o,yR:()=>r});var i=function(){return!0},r=function(e){return e},o=function(e,t){return t[e]}},323:(e,t,n)=>{"use strict";n.d(t,{ke:()=>p,oC:()=>f,F2:()=>h});var i=n(651),r=n(9227),o=n(7424),a=n(5991),s=n(449);var A,c=function(){function e(t){(0,r._)(this,e),(0,a._)(this,"values",void 0),(0,a._)(this,"cols",void 0),(0,i.assertThat)(Array.isArray(t),"Illegal Matrix values, it should be an array! But actual: "+t),(0,i.assertThat)(16===t.length,"Incorrect matrix values size, it must be 16!"),this.values=t,this.cols=Math.sqrt(t.length)}return(0,o._)(e,[{key:"multiVec4",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return[this.getAt(0,0)*e+this.getAt(0,1)*t+this.getAt(0,2)*n+this.getAt(0,3)*i,this.getAt(1,0)*e+this.getAt(1,1)*t+this.getAt(1,2)*n+this.getAt(1,3)*i,this.getAt(2,0)*e+this.getAt(2,1)*t+this.getAt(2,2)*n+this.getAt(2,3)*i,this.getAt(3,0)*e+this.getAt(3,1)*t+this.getAt(3,2)*n+this.getAt(3,3)*i]}},{key:"getAt",value:function(e,t){var n=e*this.cols+t;return(0,i.assertThat)(n<this.values.length,"Cannot access value at (".concat(e,",").concat(t,"), it out bound of this matrix!")),this.values[n]}}]),e}(),u=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r._)(this,e),(0,a._)(this,"a",void 0),(0,a._)(this,"b",void 0),(0,a._)(this,"c",void 0),(0,a._)(this,"d",void 0),this.a=t,this.b=n,this.c=i,this.d=o}return(0,o._)(e,[{key:"transform",value:function(t){var n=(0,s._)(t.multiVec4(this.a,this.b,this.c,this.d),4);return new e(n[0],n[1],n[2],n[3])}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this.transform(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new c([e,0,0,0,0,t,0,0,0,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,0,0,0,0,1])}(e,t,n))}},{key:"rotateZ",value:function(e){return this.transform(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/180*Math.PI,t=Math.cos(e),n=Math.sin(e);return new c([t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1])}(e))}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.transform(function(e){return new c([1,0,0,e,0,1,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,0,0,1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,0,0,0,1])}(e,t,n))}}]),e}(),l=72;function d(e){return function(){if(!A){var e=(0,i.getDPI)();A=[e.x,e.y]}return A}()[e]}function h(e){return e*d(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/l}function f(e){return e*i.dpr}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new u(e,t,0).scale(n).rotateZ(i);return[Math.round(Math.abs(r.a)),Math.round(Math.abs(r.b))]}},6453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9227);const r=function e(t,n){(0,i._)(this,e),this.option=t,this.ioc=n}},9475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3397);const r={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReplyAdded:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationReviewStateAnnotAdded:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationMarkedStateAnnotAdded:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationPositionMoved:"annotation-moved-position",annotationOrderChanged:"annotation-order-changed",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionAdded:"action-add",actionRemove:"action-remove",actionRemoved:"action-remove",layerVisibleChange:"layer-visible-change",layerVisibleChanged:"layer-visible-change",layerRemoved:"layer-removed",layerMerged:"layer-merged",layerAdded:"layer-added",bookmarkAdded:"bookmark-added",structureBookmarkAdded:"structure-bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageInfoChanged:"page-info-change",pageRotationChange:"page-rotation-change",beforePageRotationChanged:"before-page-rotation-changed",pageRotationChanged:"page-rotation-change",imageAdded:"image-added",watermarksAdded:"watermarks-added",watermarkAdded:"watermark-added",watermarkRemoved:"watermark-removed",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:(0,i.yR)("doc-password-changed"),drmEncryptSuccess:"drm-encrypt-success",drmEncryptSucceeded:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:(0,i.yR)("remove-password-and-permission"),pwdAndPermRemoved:(0,i.yR)("remove-password-and-permission"),securityTypeChanged:"security-type-changed",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",pagesInserted:"import-pages",importPages:"import-pages",documentAttachmentAdd:"document-attachment-add",docAttachmentAdded:"document-attachment-add",documentAttachmentModify:"document-attachment-modify",docAttachmentModified:"document-attachment-modify",documentAttachmentRemove:"document-attachment-remove",docAttachmentRemoved:"document-attachment-remove",applyRedaction:"apply-redaction",redactionApplied:"apply-redaction",removeReviewState:"remove-review-state",reviewStateRemoved:"remove-review-state",removeMarkedState:"remove-marked-state",markedStateRemoved:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",flattenAnnotation:"flatten-annotation",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",calculationOrderUpdated:"calculationOrderUpdated",COChange:"COChange",COChanged:"COChange",pagesMoved:"pages-moved",pagesReverseStart:"pagesReverseStart",pagesReversed:"pagesReversed",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated",pageMeasureScaleRatioChanged:" page-measure-scale-ratio-changed",obtainsPageFromEngine:"obtains-page-from-engine",pagesBoxChange:"pages-box-changed",pagesBoxChanged:"pages-box-changed",pagesLabelChange:"pages-label-change",pagesLabelChanged:"pages-label-change",pagesLabelNeedUpdate:"pages-label-need-change",pagesLabelNeedUpdated:"pages-label-need-change",pagesReplace:"pages-replace",pagesReplaced:"pages-replace",recognitionForm:"recognition-form",removeEmbeddedPageThumbnail:"remove-embedded-page-thumbnail",embeddedPageThumbnailRemoved:"remove-embedded-page-thumbnail",objectStartEdit:"object-start-edit",objectEndEdit:"object-end-edit",objectSelectionChanged:"object-selection-changed",objectAdded:"object-added",objectPropertyChanged:"object-property-changed",objectContentChanged:"object-content-changed",paragraphContentChanged:"paragraph-text-changed",paragraphTextOnActivate:"paragraph-text-on-activate",paragraphTextOnDeactivate:"paragraph-text-on-deactivate",paragraphTextEnterEdit:"paragraph-text-enter-edit",paragraphTextExitEdit:"paragraph-text-exit-edit",paragraphTextOnChar:"paragraph-text-on-char",findSuccess:"find-success",replaceSuccess:"replace-success",replaceAllSuccess:"replace-all-success",articleThreadAdded:"article-thread-added",articleThreadUpdated:"article-thread-updated",articleThreadRemoved:"article-thread-removed",articleBeadAdded:"article-bead-added",articleBeadRemoved:"article-bead-removed",articleBeadUpdated:"article-bead-updated",articleEnterReadMode:"article-enter-read-mode",articleOutReadMode:"article-out-read-mode",invalidRect:"invalidRect",xfaContentChanged:"xfa-content-changed",formReloaded:"formReloaded",formFieldImported:"form-field-imported",pagingSealUpdated:"paging-seal-updated",xfaFormImported:"xfa-form-imported",xfaFormReset:"xfa-form-reset",xfaFormRemoved:"xfa-form-removed",textSplited:"text-splited",formFieldPropertyUpdated:"form-field-property-updated",formFieldRenamed:"form-field-renamed",formFieldRemoved:"form-field-removed",formReset:"form-reset",formImported:"form-imported",tabOrderTypeUpdated:"tab-order-type-updated",pageAdditionalActionAdded:"page-additional-action-added",pageAdditionalActionUpdated:"page-additional-action-updated",pageAdditionalActionRemoved:"page-additional-action-removed",docAdditionalActionAdded:"doc-additional-action-added",docAdditionalActionUpdated:"doc-additional-action-updated",docAdditionalActionRemoved:"doc-additional-action-removed",docOpenActionUpdated:"doc-open-action-updated",docOpenActionRemoved:"doc-open-action-removed",formWidgetCreated:"form-widget-created",pdfDocCreated:"pdf-doc-created"}},9880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(4691),r=n(9227),o=n(7424),a=n(6905),s=n(9418),A=n(5467),c=n(5843),u=n(9256),l=n(651),d=function(){};const h=function(e){function t(e,n){var o;(0,r._)(this,t);(o=(0,i._)(this,t)).cacheMap={},o.callMap={},o.listeners={};o.ioc=n,o.setWorker(e),o.promises=[],o.workflow={out:[]},o._isIE10=l.isIE10,o.isDestroyed=!1;var a=o.ioc.getInstanceByClass(l.SyncGeneratorInvoker);return o.syncInvoker=a,o}return(0,A._)(t,e),(0,o._)(t,[{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new l.MessageChannel(this.syncInvoker.workerMessageAdaptor(this.worker),e,t);return n.ownsTo(this),n}},{key:"destroy",value:function(){this.isDestroyed||((0,a._)((0,s._)(t.prototype),"destroy",this).call(this),this.isDestroyed=!0,this.worker&&this.worker.terminate())}},{key:"setWorker",value:function(e){var t=this,n=this.cacheMap,i=this.callMap,r=this.listeners;this.worker=e,e.onmessage=function(o){var a=o.data;if(a.workflow){var s=t.workflow[a.workflow];return s?s.forEach(function(e){return e(a)}):void 0}var A=a.destroyId;if(A)delete i[A];else{var u=a.params;if(a.uiListener){var l=r[a.uiListener];if(l)for(var h=0,f=l.length;h<f;h++)l[h](u)}else{var p=a.callId;if(p)Promise.resolve((i[p]||d)(u)).then(function(n){var i=(0,c._)(n,ArrayBuffer)?[n]:[];t._isIE10&&(i=null),e.postMessage({backId:a.backId,params:n},i)});else{var g=a.id,v=n[g];if(v){delete n[g];var m=+a.type;try{if(0===m)v&&v.resolve(u);else if(1===m){var y=new Error(u.message);y.stack=u.stack,v&&v.reject(y)}else 0}catch(e){0}}setTimeout(function(){if(Object.keys(n).length<1){var e=t.listeners.idle;e&&e.forEach(function(e){return e()});var i=t.listeners.reset;i&&i.forEach(function(e){return e()})}},0)}}}},e.onerror=function(e){console.error("WorkerError",e)}}},{key:"emit",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._isIE10&&(i=i[0]);var o=t&&t[0];return"object"===(void 0===o?"undefined":(0,u._)(o))&&"clientTransfer"in o&&(i=o.clientTransfer),new Promise(function(o,a){var s=(0,l.getUniqueId)("worker");if(n.cacheMap[s]={resolve:o,reject:a},n.syncInvoker.isStarted())n.syncInvoker.postWorkerMessage({name:e,params:t,id:s,more:r});else try{n.worker.postMessage({name:e,params:t,id:s,more:r},i)}catch(i){n.worker.postMessage({name:e,params:t,id:s,more:r})}})}},{key:"calls",value:function(e){var t=(0,l.getUniqueId)("worker_call");return this.callMap[t]=e,t}},{key:"releaseCall",value:function(e){delete this.callMap[e]}},{key:"once",value:function(e,t){var n=this,i=arguments,r=this.listeners[e]=this.listeners[e]||[],o=function(){t.apply(n,i),n.off(e,o)};return r.push(o),function(){return n.off(e,o)}}},{key:"on",value:function(e,t){(this.listeners[e]=this.listeners[e]||[]).push(t)}},{key:"registerWorkflow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"out",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.workflow[e]?this.workflow[e].push(t):this.workflow[e]=[t]}},{key:"unregisterWorkflow",value:function(e,t){var n=this.workflow[e].indexOf(t);n>=0&&this.workflow[e].splice(n,1)}},{key:"off",value:function(e,t){var n=this.listeners[e];if(n){var i=n.indexOf(t);-1!=i&&n.splice(i,1)}}},{key:"over",value:function(e){}}]),t}(l.Disposable)},9867:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var i=n(4691),r=n(9227),o=n(7424),a=n(5467),s=(n(6929),n(651)),A=(n(7147),n(1550)),c=n(5843),u=n(6073),l=n(4919),d=n(6453),h=n(9880);function f(e){var t=[];return(0,c._)(e,ArrayBuffer)&&(t=[e]),t}var p="FoxitPDFSDKForWeb_JREngineCache_",g=p+"wasmBinary",v=p+"asmMem",m=p+"asmJs",y={get:function(e,t,n){return void 0===e[t]?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.workerPromise.emit(t,i)}:Reflect.get(e,t,n)}},_=function(e){function t(e,n){var o,a;if((0,r._)(this,t),(o=(0,i._)(this,t,[e,n])).readyWorker=null,a=e.readyWorker){o.readyWorker=a,w(o.workerPromise=new h.Z(a.worker,o.ioc));var A=function(){e.licenseSN=e.licenseKey=e.l=""};return a.initJREnginePromise.then(A,A),(0,u._)(o)}var c=e.workerPath,l=e.workerBlobUrl;"/"!==c[c.length-1]&&(c+="/");var d=o.workerUrl=c+"WebPDFJRWorker.js?h=a49a31d34d5407cb344d497e990f827f",f=l||d;f+=(f.indexOf("?")>-1?"&":"?")+"dpr="+window.devicePixelRatio;var p=new Worker(f);return s.isIE&&(p.terminate(),p=new Worker(f)),w(o.workerPromise=new h.Z(p,o.ioc)),o}return(0,a._)(t,e),(0,o._)(t,[{key:"setWorker",value:function(e){this.workerPromise.setWorker(e)}},{key:"registerWorkflow",value:function(e,t){this.workerPromise.registerWorkflow(e,t)}},{key:"unregisterWorkflow",value:function(e,t){this.workerPromise.unregisterWorkflow(e,t)}},{key:"init",value:function(){var e;if(e=this.readyWorker)return new Promise(function(t,n){return e.initJREnginePromise.then(t,n)});var t,n={};(t=localStorage.getItem(g))&&(n.wasmBinary=t),(t=localStorage.getItem(v))&&(n.asmMem=t),(t=localStorage.getItem(m))&&(n.asmJs=t);var i=this.option,r=this.workerPromise;i.cache=n,i.compatibilityURL=r.calls(function(e){return URL.createObjectURL(e)}),i.d=(0,s.getLocation)(window).href;var o=r.emit("initJREngine",i).then(function(e){return e});return o.finally(function(){r.releaseCall(i.compatibilityURL)}),o}},{key:"once",value:function(e,t){return this.workerPromise.once(e,t)}},{key:"off",value:function(e,t){return this.workerPromise.off(e,t)}},{key:"handleGroupMarkup",value:function(e,t,n,i){return this.workerPromise.emit("handleGroupMarkup",{docId:e,pageId:t,annotIds:n,isGroup:i})}},{key:"continueProgress",value:function(e){return this.workerPromise.emit("progressContinue",{progressiveId:e})}},{key:"cancleProgress",value:function(e){return this.workerPromise.emit("cancleProgress",{progressiveId:e})}},{key:"getPDFDocIdByFile",value:function(e,t){var n=f(e);return this.workerPromise.emit("getPDFDocByFile",{file:e,option:t},n)}},{key:"createNewDoc",value:function(e,t,n){return this.workerPromise.emit("createNewDoc",{title:e,author:t,pageSize:n})}},{key:"createNewDocEx",value:function(e,t,n){return this.workerPromise.emit("createNewDocEx",{title:e,author:t,pageSize:n})}},{key:"createNewPortfolioDoc",value:function(e,t,n){var i=[e].concat((0,l._)(t||[]));return this.workerPromise.emit("createNewPortfolioDoc",{fileCoversheet:e,files:t,title:n},i)}},{key:"getPDFDocIdByChunk",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("getPDFDocAsync",{size:e,getChunk:i});return r.finally(function(){n.workerPromise.releaseCall(i)}),r}},{key:"getPDFDocIdByHttpRangeRequest",value:function(e){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:e.size,range:e.range})}},{key:"getPDFDocIdByArrayBuffer",value:function(e){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:e},[e])}},{key:"setIcons",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:e})}},{key:"addIcon",value:function(e){return this.workerPromise.emit("addIcon",{icon:e})}},{key:"removeIcon",value:function(e,t,n){return this.workerPromise.emit("removeIcon",{type:e,catalog:t,name:n})}},{key:"checkCertificatePassword",value:function(e,t){return this.workerPromise.emit("checkCertificatePassword",{pfxFile:e,password:t})}},{key:"getCertificateInfo",value:function(e,t){return this.workerPromise.emit("getCertificateInfo",{file:e,password:t})}},{key:"createCertificateFile",value:function(e,t){return this.workerPromise.emit("createCertificateFile",{docId:e,info:t})}},{key:"getCertificateSerials",value:function(e){return this.workerPromise.emit("getCertificateSerials",{docId:e})}},{key:"parseByCertificate",value:function(e,t){return this.workerPromise.emit("parseByCertificate",{docId:e,info:t})}},{key:"parsePDFDocByPassword",value:function(e,t,n){var i=[],r=n.fdf;return r&&(0,c._)(r.file,ArrayBuffer)&&(i=[r.file]),this.workerPromise.emit("parsePDFDocByPassword",{id:e,password:t,initData:n},i)}},{key:"getPDFDocInfoById",value:function(e){return this.workerPromise.emit("getPDFDocInfoById",e)}},{key:"getMetadata",value:function(e){return this.workerPromise.emit("getMetadata",e)}},{key:"setMetadataValue",value:function(e,t,n){return this.workerPromise.emit("setMetadataValue",{id:e,key:t,value:n})}},{key:"getFileVersion",value:function(e){return this.workerPromise.emit("getFileVersion",e)}},{key:"isLinearized",value:function(e){return this.workerPromise.emit("isLinearized",{docId:e})}},{key:"loadForm",value:function(e){return this.workerPromise.emit("loadForm",{docId:e})}},{key:"updateFormControl",value:function(e,t,n,i,r){return this.workerPromise.emit("updateFormControl",{docId:e,fieldName:t,objectNumber:n,key:i,value:r})}},{key:"updateField",value:function(e,t,n,i){return this.workerPromise.emit("updateField",{docId:e,title:t,key:n,value:i})}},{key:"reloadFieldByName",value:function(e,t){return this.workerPromise.emit("reloadFieldByName",{docId:e,fieldName:t})}},{key:"updateMKProperty",value:function(e,t,n,i,r){return this.workerPromise.emit("updateMKProperty",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"setWidgetAS",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetAS",{docId:e,pageId:t,annotId:n,AS:i})}},{key:"setFieldValue",value:function(e,t,n){return this.workerPromise.emit("setFieldValue",{docId:e,title:t,value:n})}},{key:"formFillerEvent",value:function(e,t,n,i){return this.workerPromise.emit("formFillerEvent",{docId:e,type:t,pageIndex:n,point:i})}},{key:"getFieldsValue",value:function(e){return this.workerPromise.emit("getFieldsValue",{docId:e})}},{key:"addControl",value:function(e,t,n,i,r,o){return this.workerPromise.emit("addControl",{docId:e,pageIndex:t,fieldName:n,fieldType:i,rect:r,options:o})}},{key:"addSignatureControlBatch",value:function(e,t,n){return this.workerPromise.emit("addSignatureControlBatch",{docId:e,signatureInfos:t,shareVDictType:n})}},{key:"createFieldByCopyControl",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("createFieldByCopyControl",{docId:e,pageIndex:t,fieldType:n,isImgFieldType:i,newFieldName:r,newRect:o,srcFieldName:a,srcObjectNumber:s})}},{key:"validateFieldName",value:function(e,t,n){return this.workerPromise.emit("validateFieldName",{docId:e,fieldName:t,fieldType:n})}},{key:"renameField",value:function(e,t,n){return this.workerPromise.emit("renameField",{docId:e,fieldName:t,newName:n})}},{key:"removeField",value:function(e,t){return this.workerPromise.emit("removeField",{docId:e,fieldName:t})}},{key:"removeControl",value:function(e,t,n,i){return this.workerPromise.emit("removeControl",{docId:e,fieldName:n,pageIndex:t,controlObjectNumber:i})}},{key:"isLastSignature",value:function(e,t){return this.workerPromise.emit("isLastSignature",{docId:e,fieldName:t})}},{key:"fixPageFields",value:function(e,t){return this.workerPromise.emit("fixPageFields",{docId:e,pageIndex:t})}},{key:"hasFixedPageFields",value:function(e,t){return this.workerPromise.emit("hasFixedPageFields",{docId:e,pageIndex:t})}},{key:"getControlCount",value:function(e,t){return this.workerPromise.emit("getControlCount",{docId:e,pageIndex:t})}},{key:"copyControls",value:function(e,t,n,i){return this.workerPromise.emit("copyControls",{docId:e,pageIndex:t,dstPageIndex:n,controls:i})}},{key:"getControlPageIndex",value:function(e,t,n){return this.workerPromise.emit("getControlPageIndex",{docId:e,fieldName:t,objectNumber:n})}},{key:"getPageInfoByIndex",value:function(e,t){return this.workerPromise.emit("getPageInfoByIndex",{id:e,index:t})}},{key:"setRenderFlag",value:function(e,t){return this.workerPromise.emit("setRenderFlag",{docId:e,flags:t})}},{key:"getPageBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",A=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0;return this.workerPromise.emit("getPageBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,flags:o,usage:a,id:s,isSharedPage:A,annotData:c})}},{key:"getAnnotsBitmap",value:function(e,t,n,i,r,o,a,s,A,c){return this.workerPromise.emit("getAnnotsBitmap",{docId:e,pageId:t,arrayBuffer:n,scale:i,rotate:r,rect:o,flags:a,usage:s,annotData:A,pdfRect:c},n?[n]:[])}},{key:"getPageAndHighlightBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,exclude:o})}},{key:"clearDesignerAssitCache",value:function(e,t){return this.workerPromise.emit("clearDesignerAssitCache",{docId:e,pageId:t})}},{key:"clearAllDesignerAssistCache",value:function(e){return this.workerPromise.emit("clearAllDesignerAssistCache",{docId:e})}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:e,pageId:t,range:n,scale:i,rotate:r,rect:o})}},{key:"getAnnot",value:function(e,t,n){return this.workerPromise.emit("getAnnot",{docId:e,pageId:t,annotId:n})}},{key:"getPageAnnotIDList",value:function(e,t){return this.workerPromise.emit("getPageAnnotIDList",{docId:e,pageId:t})}},{key:"getAnnots",value:function(e,t,n,i){return this.workerPromise.emit("getAnnots",{docId:e,pageId:t,idList:n,reload:i})}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a,s,A){return this.workerPromise.emit("getAnnotBitmap",{docId:e,pageId:t,annotId:n,scale:i,rotate:r,rect:o,renderAppearanceType:a,viewerAnnotFlag:s,annotData:A})}},{key:"getAnnotObjNumByNM",value:function(e,t,n){return this.workerPromise.emit("getAnnotObjNumByNM",{docId:e,pageId:t,nm:n})}},{key:"getAnnotIdAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getAnnotObjectNumAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotObjectNumAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotObjectNumAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getCharInfoAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getThumb",value:function(e,t,n,i){return this.workerPromise.emit("getThumb",{docId:e,pageId:t,rotate:n,ratio:i})}},{key:"getMediaBoxBitmap",value:function(e,t,n,i){return this.workerPromise.emit("getMediaBoxBitmap",{docId:e,pageId:t,width:n,height:i})}},{key:"movePageTo",value:function(e,t,n){return this.workerPromise.emit("movePageTo",{docId:e,pageId:t,destIndex:n})}},{key:"insertPage",value:function(e,t,n,i){return this.workerPromise.emit("insertPage",{docId:e,pageIndex:t,width:n,height:i})}},{key:"removePage",value:function(e,t){return this.workerPromise.emit("removePage",{docId:e,pageIndex:t})}},{key:"updateAnnotQuadPointsByCharIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:e,pageId:t,annotId:n,startCharIndex:i,endCharIndex:r})}},{key:"setAnnotContent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotContent",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:e,pageId:t,annotId:n,style:i,styleParam:r})}},{key:"setAnnotBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderWidth",{docId:e,pageId:t,annotId:n,width:i})}},{key:"setAnnotFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setRedactAnnotFillColor",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i,onlyForFill:r})}},{key:"setAnnotBorderInfo",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderInfo",{docId:e,pageId:t,annotId:n,borderInfo:i})}},{key:"setRedactOverlayText",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayText",{docId:e,pageId:t,annotId:n,overlayText:i})}},{key:"removeRedactOverlayText",value:function(e,t,n){return this.workerPromise.emit("removeRedactOverlayText",{docId:e,pageId:t,annotId:n})}},{key:"setRedactOverlayTextAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayTextAlignment",{docId:e,pageId:t,annotId:n,alignment:i})}},{key:"setRedactRepeat",value:function(e,t,n,i){return this.workerPromise.emit("setRedactRepeat",{docId:e,pageId:t,annotId:n,isRepeat:i})}},{key:"setRedactAutoFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAutoFontSize",{docId:e,pageId:t,annotId:n,isAutoFontSize:i})}},{key:"getRedactDefaultAppearance",value:function(e,t,n){return this.workerPromise.emit("getRedactDefaultAppearance",{docId:e,pageId:t,annotId:n})}},{key:"setRedactDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactDefaultAppearance",{docId:e,pageId:t,annotId:n,appearance:i})}},{key:"setRedactOpacity",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactOpacity",{docId:e,pageId:t,annotId:n,opacity:i,only4Fill:r})}},{key:"setRedactApplyFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setRedactApplyFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotOpacity",{docId:e,pageId:t,annotId:n,opacity:i})}},{key:"setAnnotRotation",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRotation",{docId:e,pageId:t,annotId:n,rotation:i})}},{key:"removeAnnot",value:function(e,t,n){return this.workerPromise.emit("removeAnnot",{docId:e,pageId:t,annotId:n})}},{key:"annotAddReply",value:function(e,t,n,i){return this.workerPromise.emit("annotAddReply",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotRect",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRect",{docId:e,pageId:t,annotId:n,rect:i})}},{key:"setAnnotRectAndInnerRect",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotRectAndInnerRect",{docId:e,pageId:t,annotId:n,rect:i,innerRect:r})}},{key:"getAnnotInnerRect",value:function(e,t,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:e,pageId:t,annotId:n})}},{key:"moveAnnotTo",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotTo",{docId:e,pageId:t,annotId:n,position:i})}},{key:"getPDFDocStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(t),a=this.workerPromise.emit("getPDFDocStream",{docId:e,writeStream:o,flag:n,endAllOperations:i});return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"setAnnotIconName",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIconName",{docId:e,pageId:t,annotId:n,iconName:i})}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",{docId:e,pageId:t,annotId:n,writeStream:o});return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"setAnnotEndingStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:e,pageId:t,annotId:n,isBeginning:i,style:r})}},{key:"setLineStartPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineStartPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setLineEndPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineEndPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setAnnotLeaderLineLength",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineExtend",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineExtend",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineOffset",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineOffset",{docId:e,pageId:t,annotId:n,offset:i})}},{key:"setAnnotCaptionOffset",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotCaptionOffset",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"updateAnnotVertexes",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateAnnotVertexes",{docId:e,pageId:t,annotId:n,pointIndex:i,x:r,y:o})}},{key:"setAnnotVertexes",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotVertexes",{docId:e,pageId:t,annotId:n,vertexes:i})}},{key:"setHighlightingMode",value:function(e,t,n,i){return this.workerPromise.emit("setHighlightingMode",{docId:e,pageId:t,annotId:n,highlightingMode:i})}},{key:"setAnnotAPBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:e,pageId:t,annotId:n,url:i,size:r})}},{key:"getBitmapBuffer",value:function(e,t,n){return this.workerPromise.emit("getBitmapBuffer",{docId:e,pageId:t,annotId:n})}},{key:"setAnnotInnerRect",value:function(e,t,n,i){var r=i.left,o=i.right,a=i.top,s=i.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:e,pageId:t,annotId:n,rect:{left:r,right:o,top:a,bottom:s}})}},{key:"setCalloutLineEndingStyle",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:e,pageId:t,annotId:n,endingStyle:i})}},{key:"setAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setAction",{docId:e,pageId:t,annotId:n,type:i,trigger:r,append:o})}},{key:"removeAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("removeAction",{docId:e,pageId:t,annotId:n,trigger:i,parentObject:r,objectNumber:o})}},{key:"setDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAppearance",{docId:e,pageId:t,annotId:n,da:i})}},{key:"removeAnnotAction",value:function(e,t,n){return this.workerPromise.emit("removeAnnotAction",{docId:e,pageId:t,annotId:n})}},{key:"getAction",value:function(e,t,n){return this.workerPromise.emit("getAction",{docId:e,pageId:t,annotId:n})}},{key:"getStructureRoles",value:function(e){return this.workerPromise.emit("getStructureRoles",{docId:e})}},{key:"setActionDataByIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("setActionDataByIndex",{docId:e,pageId:t,annotId:n,data:i,actionIndex:r})}},{key:"addBookmarksFromStructureRoles",value:function(e,t,n){return this.workerPromise.emit("addBookmarksFromStructureRoles",{docId:e,structureRoles:t,rootTitle:n})}},{key:"setCalloutLinePoints",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLinePoints",{docId:e,pageId:t,annotId:n,calloutLinePoints:i})}},{key:"setSubject",value:function(e,t,n,i){return this.workerPromise.emit("setSubject",{docId:e,pageId:t,annotId:n,subject:i})}},{key:"setTitle",value:function(e,t,n,i){return this.workerPromise.emit("setTitle",{docId:e,pageId:t,annotId:n,title:i})}},{key:"setCreateDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setCreateDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setModifiedDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setModifiedDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setUniqueId",value:function(e,t,n,i){return this.workerPromise.emit("setUniqueId",{docId:e,pageId:t,annotId:n,newId:i})}},{key:"setDefaultAp",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAp",{docId:e,pageId:t,annotId:n,defaultAppearance:i})}},{key:"setAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setAlignment",{docId:e,pageId:t,annotId:n,value:i})}},{key:"setAnnotFlag",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFlag",{docId:e,pageId:t,annotId:n,flag:i})}},{key:"importFromFDF",value:function(e,t,n){var i=f(t);return this.workerPromise.emit("importFromFDF",{docId:e,fdf:t,dataType:n},i)}},{key:"importFromFDFFile",value:function(e,t,n,i){return this.workerPromise.emit("importFromFDFFile",{docId:e,file:t,size:n,type:i})}},{key:"exportToStardardXml",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(n),a=this.workerPromise.emit("exportToStardardXml",{docId:e,fileName:t,callbackId:o,range:i});return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"exportToFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.workerPromise.emit("exportToFDF",{docId:e,fileType:t,dataType:n,pageAnnots:i})}},{key:"exportToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),s=this.workerPromise.emit("exportToImage",{docId:e,imageSetting:t,fileName:n,pageRange:i,callbackId:a});return s.finally(function(){o.workerPromise.releaseCall(a)}),s}},{key:"exportToTxt",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("exportToTxt",{docId:e,taskName:t,pageRange:n,callbackId:o});return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"exportImageObjectToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),s=this.workerPromise.emit("exportImageObjectToImage",{docId:e,graphicsObject:t,imageSetting:n,fileName:i,callbackId:a});return s.finally(function(){o.workerPromise.releaseCall(a)}),s}},{key:"cancelExport",value:function(e){return this.workerPromise.emit("cancelExport",{docId:e})}},{key:"addAnnot",value:function(e,t,n){return this.workerPromise.emit("addAnnot",{docId:e,pageId:t,annot:n})}},{key:"addAnnots",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("addAnnots",{docId:e,annotJsonArray:t,progress:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"markRedactAnnot",value:function(e,t,n,i){return this.workerPromise.emit("markRedactAnnot",{docId:e,pageId:t,rects:n,annot:i})}},{key:"redactApply",value:function(e,t,n){return this.workerPromise.emit("redactApply",{docId:e,pageId:t,annotId:n})}},{key:"applyRedaction",value:function(e){return this.workerPromise.emit("applyRedaction",{docId:e})}},{key:"addAnnotGroup",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotGroup",{docId:e,pageId:t,annots:n,headerIndex:i})}},{key:"getBlankPageIndexes",value:function(e){return this.workerPromise.emit("getBlankPageIndexes",{docId:e})}},{key:"getBookmarks",value:function(e){return this.workerPromise.emit("getBookmarks",{docId:e})}},{key:"getCurFileSymbolId",value:function(e){return this.workerPromise.emit("getCurFileSymbolId",{docId:e})}},{key:"getFadeOutBackground",value:function(e,t){return this.workerPromise.emit("getFadeOutBackground",{docId:e,imgBuffer:t})}},{key:"getConvertToMono",value:function(e,t){return this.workerPromise.emit("getConvertToMono",{docId:e,imgBuffer:t})}},{key:"createRootBookmark",value:function(e){return this.workerPromise.emit("createRootBookmark",{docId:e})}},{key:"setBookmarkProperty",value:function(e,t,n){return this.workerPromise.emit("setBookmarkProperty",{docId:e,bkId:t,properties:n})}},{key:"removeBookmark",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.workerPromise.emit("removeBookmark",{docId:e,bkId:t,isOldVersion:n})}},{key:"getBookmarkDestination",value:function(e,t){return this.workerPromise.emit("getBookmarkDestination",{docId:e,bkId:t})}},{key:"setBookmarkDestination",value:function(e,t,n){return this.workerPromise.emit("setBookmarkDestination",{docId:e,bkId:t,gotoAction:n})}},{key:"getBookmarkAction",value:function(e,t){return this.workerPromise.emit("getBookmarkAction",{docId:e,bkId:t})}},{key:"setBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("setBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"moveBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("moveBookmarkAction",{docId:e,bkId:t,moveInfo:n})}},{key:"removeBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("removeBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"getLayerNodes",value:function(e){return this.workerPromise.emit("getLayerNodes",{docId:e})}},{key:"setLayerNodeVisiable",value:function(e,t,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:e,layerId:t,visiable:n})}},{key:"getTextRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtPoints",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("getTextContinuousRectsAtPoints",{docId:e,pageId:t,point1:n,point2:i,tolerance:r,start:o,end:a,isTextIndex:s})}},{key:"getTextContinuousCharsAtRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:e,pageId:t,rect:n,allInRect:i})}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t,n,i){return this.workerPromise.emit("getDoubleClickTextRectAtPoint",{docId:e,pageId:t,doubleClickPoint:n,tolerance:i})}},{key:"getTextSearch",value:function(e,t,n,i){return this.workerPromise.emit("getTextSearch",{docId:e,pageId:t,pattern:n,flags:i})}},{key:"getAnnotTextSearch",value:function(e,t,n,i,r){return this.workerPromise.emit("getAnnotTextSearch",{docId:e,pageId:t,annotId:n,pattern:i,flags:r})}},{key:"textSearchFindNext",value:function(e){return this.workerPromise.emit("textSearchFindNext",{id:e})}},{key:"textSearchFindPrev",value:function(e){return this.workerPromise.emit("textSearchFindPrev",{id:e})}},{key:"textSearchDestroy",value:function(e){return this.workerPromise.emit("textSearchDestroy",{id:e})}},{key:"registerSecurityCallback",value:function(e,t){return this.workerPromise.emit("registerSecurityCallback",{type:e,options:t})}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.workerPromise.emit("registerCustomWebPluginSecurityCallback",{fileName:e,filter:t,pluginSecurityObj:n})}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.workerPromise.emit("unRegisterSecurityHandler",{pluginId:e,filter:t})}},{key:"customProtectDoc",value:function(e,t){return this.workerPromise.emit("customProtectDoc",{docId:e,filter:t})}},{key:"destroyDoc",value:function(e){return this.workerPromise.emit("destroyDoc",{id:e})}},{key:"setDocOpenAction",value:function(e,t,n){return this.workerPromise.emit("setDocOpenAction",{docId:e,type:t,params:n})}},{key:"setDocActionData",value:function(e,t,n){return this.workerPromise.emit("setDocActionData",{docId:e,data:t,index:n})}},{key:"moveCaretRectByCharIndex",value:function(e,t,n,i){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:e,pageId:t,annotId:n,charIndex:i})}},{key:"setAnnotIntent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIntent",{docId:e,pageId:t,annotId:n,intent:i})}},{key:"setInkList",value:function(e,t,n,i){return this.workerPromise.emit("setInkList",{docId:e,pageId:t,annotId:n,inkList:i})}},{key:"setUserName",value:function(e){return this.workerPromise.emit("setUserName",{name:e})}},{key:"getUserName",value:function(){return this.workerPromise.emit("getUserName")}},{key:"addAnnotReviewState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotReviewState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"addAnnotMarkedState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotMarkedState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"removeAllStateAnnots",value:function(e,t,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:e,pageId:t,annotId:n})}},{key:"setStateName",value:function(e,t,n,i){return this.workerPromise.emit("setStateName",{docId:e,pageId:t,stateAnnotId:n,stateName:i})}},{key:"setNoteOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setNoteOpenStatus",{docId:e,pageId:t,annotId:n,isOpen:i})}},{key:"flatten",value:function(e,t,n){return this.workerPromise.emit("flatten",{docId:e,pageId:t,option:n})}},{key:"setDynamicInfoFormula",value:function(e,t){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:e,timeFormat:t})}},{key:"getDynamicInfoFormula",value:function(){return this.workerPromise.emit("getDynamicInfoFormula")}},{key:"setDigitalTimeFormat",value:function(e){return this.workerPromise.emit("setDigitalTimeFormat",{timeFormat:e})}},{key:"setDigitalInfo",value:function(e){return this.workerPromise.emit("setDigitalInfo",{identityInfo:e})}},{key:"getGraphicObjectsInfo",value:function(e,t){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:e,pageId:t})}},{key:"updatePageInfo",value:function(e,t){return this.workerPromise.emit("updatePageInfo",{docId:e,pageId:t})}},{key:"setPageRotation",value:function(e,t,n){return this.workerPromise.emit("setPageRotation",{docId:e,pageId:t,rotation:n})}},{key:"addPageImage",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("addPageImage",{docId:e,pageId:t,imageBuffer:n,point:i,width:r,height:o,rotation:a})}},{key:"getPageAction",value:function(e,t,n){return this.workerPromise.emit("getPageAction",{docId:e,pageId:t,trigger:n})}},{key:"setPageAction",value:function(e,t,n,i){return this.workerPromise.emit("setPageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"removePageAction",value:function(e,t,n,i){return this.workerPromise.emit("removePageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"movePageAction",value:function(e,t,n){return this.workerPromise.emit("movePageAction",{docId:e,pageId:t,moveInfo:n})}},{key:"addWatermark",value:function(e,t,n){return this.workerPromise.emit("addWatermark",{docId:e,pageId:t,data:n})}},{key:"getSecurityType",value:function(e){return this.workerPromise.emit("getSecurityType",{docId:e})}},{key:"setCertificateAndPermission",value:function(e,t,n,i){return this.workerPromise.emit("setCertificateAndPermission",{docId:e,infos:t,cipher:n,isEncryptMetadata:i})}},{key:"setPasswordAndPermission",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setPasswordAndPermission",{docId:e,userPassword:t,ownerPassword:n,permission:i,cipher:r,isEncryptMetadata:o})}},{key:"removeSecurity",value:function(e){return this.workerPromise.emit("removeSecurity",{docId:e})}},{key:"checkPassword",value:function(e,t){return this.workerPromise.emit("checkPassword",{docId:e,password:t})}},{key:"getPermission",value:function(e){return this.workerPromise.emit("getPermission",{docId:e})}},{key:"getStdCipherOptions",value:function(e){return this.workerPromise.emit("getStdCipherOptions",{docId:e})}},{key:"getUserPassword",value:function(e,t){return this.workerPromise.emit("getUserPassword",{docId:e,password:t})}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:e,pageId:t,point:n,tolerance:i,type:r,rect:o})}},{key:"setGraphicsObjectMatrix",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:e,pageId:t,id:n,matrix:i})}},{key:"setGraphicsObjectRect",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectRect",{docId:e,pageId:t,id:n,rect:i})}},{key:"getGraphicsObjectBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:e,pageId:t,id:n,scale:i,rotation:r})}},{key:"setGraphicsObjectBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:e,pageId:t,id:n,value:i,dashes:r})}},{key:"setGraphicsObjectBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:e,pageId:t,id:n,width:i})}},{key:"setGraphicsObjectBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"addGraphicsObject",value:function(e,t,n){return this.workerPromise.emit("addGraphicsObject",{docId:e,pageId:t,info:n})}},{key:"setImageObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"setImageObjectRotation",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectRotation",{docId:e,pageId:t,id:n,rotation:i})}},{key:"getImageObjectStream",value:function(e,t,n){return this.workerPromise.emit("getImageObjectStream",{docId:e,pageId:t,id:n})}},{key:"setActionDestination",value:function(e,t,n){return this.workerPromise.emit("setActionDestination",{docId:e,objNum:t,destination:n})}},{key:"setActionFieldNames",value:function(e,t,n){return this.workerPromise.emit("setActionFieldNames",{docId:e,objNum:t,fieldNames:n})}},{key:"setActionHideState",value:function(e,t,n){return this.workerPromise.emit("setActionHideState",{docId:e,objNum:t,isHide:n})}},{key:"setActionScript",value:function(e,t,n){return this.workerPromise.emit("setActionScript",{docId:e,objNum:t,script:n})}},{key:"setActionOCGState",value:function(e,t,n,i){return this.workerPromise.emit("setActionOCGState",{docId:e,objNum:t,hideLayerIds:n,visibleLayerIds:i})}},{key:"setThreadActionIndex",value:function(e,t,n){return this.workerPromise.emit("setThreadActionIndex",{docId:e,objNum:t,index:n})}},{key:"setActionFlags",value:function(e,t,n){return this.workerPromise.emit("setActionFlags",{docId:e,objNum:t,flags:n})}},{key:"setActionURI",value:function(e,t,n){return this.workerPromise.emit("setActionURI",{docId:e,objNum:t,uri:n})}},{key:"insertSubAction",value:function(e,t,n,i){return this.workerPromise.emit("insertSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"setSubAction",value:function(e,t,n,i){return this.workerPromise.emit("setSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"removeAllSubActions",value:function(e,t){return this.workerPromise.emit("removeAllSubActions",{docId:e,objNum:t})}},{key:"removeSubAction",value:function(e,t,n){return this.workerPromise.emit("removeSubAction",{docId:e,objNum:t,index:n})}},{key:"setActionData",value:function(e,t,n){return this.workerPromise.emit("setActionData",{docId:e,objNum:t,data:n})}},{key:"moveAction",value:function(e,t,n,i){return this.workerPromise.emit("moveAction",{docId:e,pageId:t,objNum:n,moveInfo:i})}},{key:"removeGraphicsObject",value:function(e,t,n,i){return this.workerPromise.emit("removeGraphicsObject",{docId:e,pageId:t,id:n,isFinal:i})}},{key:"setPopupOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setPopupOpenStatus",{docId:e,pageId:t,annotId:n,status:i})}},{key:"removePageAllAnnot",value:function(e,t){return this.workerPromise.emit("removePageAllAnnot",{docId:e,pageId:t})}},{key:"setTextObjectChar",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectChar",{docId:e,pageId:t,id:n,char:i})}},{key:"setTextObjectItalic",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectItalic",{docId:e,pageId:t,id:n,italic:i})}},{key:"setTextObjectBold",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectBold",{docId:e,pageId:t,id:n,bold:i})}},{key:"setTextObjectFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectFontSize",{docId:e,pageId:t,id:n,size:i})}},{key:"setTextObjectStandardFont",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectStandardFont",{docId:e,pageId:t,id:n,standardId:i})}},{key:"setTextObjectFontByName",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setTextObjectFontByName",{docId:e,pageId:t,id:n,name:i,styles:r,charset:o})}},{key:"getTextObjectWoff",value:function(e,t,n){return this.workerPromise.emit("getTextObjectWoff",{docId:e,pageId:t,id:n})}},{key:"getAnnotWoff",value:function(e,t,n){return this.workerPromise.emit("getAnnotWoff",{docId:e,pageId:t,id:n})}},{key:"drmEncrypt",value:function(e,t){return this.workerPromise.emit("drmEncrypt",{docId:e,options:t})}},{key:"getActionFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getActionFileStream",{docId:e,objNum:t,writeStream:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"getTemplates",value:function(e){return this.workerPromise.emit("getTemplates",{docId:e})}},{key:"hideTemplate",value:function(e,t,n){return this.workerPromise.emit("hideTemplate",{docId:e,templateObj:t,isHidden:n})}},{key:"spawnPage",value:function(e,t,n,i,r){return this.workerPromise.emit("spawnPage",{docId:e,templateObj:t,nPage:n,bRename:i,bOverlay:r})}},{key:"setFieldsValue",value:function(e,t,n){return this.workerPromise.emit("setFieldsValue",{docId:e,fieldsValue:t,resetAP:n})}},{key:"removeTemplate",value:function(e,t){return this.workerPromise.emit("removeTemplate",{docId:e,name:t})}},{key:"getFontBufferByName",value:function(e,t){return this.workerPromise.emit("getFontBufferByName",{docId:e,fontName:t})}},{key:"getPageSizes",value:function(e,t,n){return this.workerPromise.emit("getPageSizes",{docId:e,index:t,count:n})}},{key:"setMeasureRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureRatio",{docId:e,pageId:t,annotId:n,ratioInfo:i})}},{key:"setMeasureUnit",value:function(e,t,n,i,r){return this.workerPromise.emit("setMeasureUnit",{docId:e,pageId:t,annotId:n,unit:i,measureType:r})}},{key:"setMeasureConversionFactor",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureConversionFactor",{docId:e,pageId:t,annotId:n,factor:i})}},{key:"startImportPages",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("startImportPages",{docId:e,destIndex:t,file:n,password:i,flags:r,layerName:o,startIndex:a,endIndex:s})}},{key:"importPagesFromPDFDocs",value:function(e,t,n,i){return this.workerPromise.emit("importPagesFromPDFDocs",{docId:e,destIndex:t,srcDocs:n,layerName:i})}},{key:"exportPagesToPDFDocs",value:function(e,t,n,i,r){return this.workerPromise.emit("exportPagesToPDFDocs",{docId:e,srcPages:t,destDocs:n,layerName:i,bookmarkTitle:r})}},{key:"extractPages",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(n),s=this.workerPromise.emit("extractPages",{docId:e,pageRange:t,writeStream:a,file:i,password:r});return s.finally(function(){o.workerPromise.releaseCall(a)}),s}},{key:"copyPages",value:function(e,t,n){return this.workerPromise.emit("copyPages",{docId:e,pageRange:t,destIndex:n})}},{key:"saveCopyPagesData",value:function(e,t){return this.workerPromise.emit("saveCopyPagesData",{docId:e,pageRange:t})}},{key:"pastePages",value:function(e,t){return this.workerPromise.emit("pastePages",{docId:e,destIndex:t})}},{key:"embedAllPageThumbnail",value:function(e){return this.workerPromise.emit("embedAllPageThumbnail",{docId:e})}},{key:"removeEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("removeEmbeddedPageThumbnail",{docId:e})}},{key:"getAllBoxes",value:function(e,t){return this.workerPromise.emit("getAllBoxes",{docId:e,index:t})}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("setAllBoxesByIndexes",{docId:e,indexes:t,width:n,height:i,xOffset:r,yOffset:o,boxes:a,isMoveWhite:s})}},{key:"getPageFormat",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return this.workerPromise.emit("getPageFormat",{docId:e,type:t,previewWidth:n,previewHeight:i,fileName:r,newDocId:o,localFormat:a})}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("getPageFormatThumb",{docId:e,type:t,pageIndex:n,data:i,isUpdate:r,bitmapWidth:o,bitmapHeight:a,rotate:s})}},{key:"addPageFormat",value:function(e,t,n,i){return this.workerPromise.emit("addPageFormat",{docId:e,type:t,data:n,isUpdate:i})}},{key:"removeAllPageFormat",value:function(e,t){return this.workerPromise.emit("removeAllPageFormat",{docId:e,type:t})}},{key:"extractPrintPages",value:function(e,t){return this.workerPromise.emit("extractPrintPages",{docId:e,data:t})}},{key:"getHeaderFooter",value:function(e){return this.workerPromise.emit("getHeaderFooter",e)}},{key:"addHeaderFooter",value:function(e,t){return this.workerPromise.emit("addHeaderFooter",{headerFooter:t,docId:e})}},{key:"updateHeaderFooter",value:function(e,t){return this.workerPromise.emit("updateHeaderFooter",{headerFooter:t,docId:e})}},{key:"removeHeaderFooter",value:function(e){return this.workerPromise.emit("removeHeaderFooter",e)}},{key:"paste",value:function(e,t,n,i,r,o){return this.workerPromise.emit("paste",{docId:e,pageId:t,srcPageId:n,type:i,objectId:r,position:o})}},{key:"setFontMap",value:function(e){return this.workerPromise.emit("setFontMap",e)}},{key:"setWatermarkFontMap",value:function(e){return this.workerPromise.emit("setWatermarkFontMap",e)}},{key:"addFontMap",value:function(e){return this.workerPromise.emit("addFontMap",e)}},{key:"setJPXDownSample",value:function(e){return this.workerPromise.emit("setJPXDownSample",e)}},{key:"getAnnotsRawData",value:function(e,t){return this.workerPromise.emit("getAnnotsRawData",{docId:e,rawAnnots:t})}},{key:"attachFile",value:function(e,t){return this.workerPromise.emit("attachFile",{docId:e,blob:t})}},{key:"signDoc",value:function(e,t,n){return this.workerPromise.emit("signDoc",{docId:e,signInfo:t,ap:n})}},{key:"signDocForESignCN",value:function(e,t){return this.workerPromise.emit("signDocForESignCN",{docId:e,signInfo:t})}},{key:"getGraphicsObjectByIndex",value:function(e,t,n){return this.workerPromise.emit("getGraphicsObjectByIndex",{docId:e,pageId:t,index:n})}},{key:"getGraphicsObjectsCount",value:function(e,t){return this.workerPromise.emit("getGraphicsObjectsCount",{docId:e,pageId:t})}},{key:"getFontsInfo",value:function(e){return this.workerPromise.emit("getFontsInfo",{docId:e})}},{key:"getDocAdditionalActions",value:function(e){return this.workerPromise.emit("getDocAdditionalActions",{docId:e})}},{key:"calcPageContentBBox",value:function(e,t,n){return this.workerPromise.emit("calcPageContentBBox",{docId:e,pageIndex:t,mode:n})}},{key:"getPageBox",value:function(e,t,n){return this.workerPromise.emit("getPageBox",{docId:e,pageIndex:t,boxType:n})}},{key:"setPageBox",value:function(e,t,n,i){return this.workerPromise.emit("setPageBox",{docId:e,pageIndex:t,boxType:n,rect:i})}},{key:"setPageSize",value:function(e,t,n,i){return this.workerPromise.emit("setPageSize",{docId:e,pageIndex:t,width:n,height:i})}},{key:"syncDataCache",value:function(e,t){return this.workerPromise.emit("syncDataCache",{docId:e,pageIdMap:t})}},{key:"setDocColors",value:function(e,t){return this.workerPromise.emit("setDocColors",{docId:e,colors:t})}},{key:"setPageDisplayPreferences",value:function(e,t){return this.workerPromise.emit("setPageDisplayPreferences",{docId:e,pageDisplayPreferences:t})}},{key:"moveAnnotsToPage",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotsToPage",{docId:e,srcPageId:t,dstPageId:n,annotInfos:i})}},{key:"getOriginalStream",value:function(e){return this.workerPromise.emit("getOriginalStream",{docId:e})}},{key:"hasForm",value:function(e){return this.workerPromise.emit("hasForm",{docId:e})}},{key:"setTabOrder",value:function(e,t,n){return this.workerPromise.emit("setTabOrder",{docId:e,pageIndex:t,type:n})}},{key:"getTabOrder",value:function(e,t){return this.workerPromise.emit("getTabOrder",{docId:e,pageIndex:t})}},{key:"setStructureOrder",value:function(e,t,n){return this.workerPromise.emit("setStructureOrder",{docId:e,pageIndex:t,idList:n})}},{key:"setLockAction",value:function(e,t,n,i){return this.workerPromise.emit("setLockAction",{docId:e,title:t,type:n,fieldNames:i})}},{key:"VerifySignature",value:function(e,t,n){return this.workerPromise.emit("VerifySignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"getDigitalSignatureInfo",value:function(e,t,n){return this.workerPromise.emit("getDigitalSignatureInfo",{docId:e,fieldName:t,trustedCertificateList:n})}},{key:"verifyDocSignature",value:function(e,t){return this.workerPromise.emit("verifyDocSignature",{docId:e,verifyConfig:t})}},{key:"verifySignatureLtv",value:function(e,t,n){return this.workerPromise.emit("verifySignatureLtv",{docId:e,fieldName:t,verifyConfig:n})}},{key:"clearSignature",value:function(e,t,n){return this.workerPromise.emit("clearSignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"setImage",value:function(e,t,n,i){return this.workerPromise.emit("setImage",{docId:e,pageId:t,annotId:n,buffer:i})}},{key:"getWidgetMkOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetMkOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconCaptionRelation",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconCaptionRelation",{docId:e,pageId:t,annotId:n,relation:i})}},{key:"setWidgetHighlighting",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetHighlighting",{docId:e,pageId:t,annotId:n,mode:i})}},{key:"setWidgetMkCaption",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkCaption",{docId:e,pageId:t,annotId:n,position:i,caption:r})}},{key:"setWidgetMkIcon",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkIcon",{docId:e,pageId:t,annotId:n,position:i,buffer:r})}},{key:"getWidgetIconFitOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetIconFitOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconFitOption",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconFitOption",{docId:e,pageId:t,annotId:n,option:i})}},{key:"duplicateWidget",value:function(e,t,n,i){return this.workerPromise.emit("duplicateWidget",{docId:e,pages:t,fieldName:n,objectNumber:i})}},{key:"duplicateField",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("duplicateField",{docId:e,fieldName:t,pageIndex:n,annotObjNum:i,columns:r,rows:o,positions:a})}},{key:"getAllModuleLicenseRight",value:function(){return this.workerPromise.emit("getAllModuleLicenseRight")}},{key:"ensureSideModeLoaded",value:function(e){return this.workerPromise.emit("ensureSideModeLoaded",{moduleType:e})}},{key:"moveGraphicsObjectByPosition",value:function(e,t,n,i,r){return this.workerPromise.emit("moveGraphicsObjectByPosition",{docId:e,pageId:t,id:n,type:i,graphicObjectId:r})}},{key:"setDictionaryEntry",value:function(e,t,n,i,r){return this.workerPromise.emit("setDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"getDictionaryEntry",value:function(e,t,n,i){return this.workerPromise.emit("getDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i})}},{key:"resetAppearanceStream",value:function(e,t,n){return this.workerPromise.emit("resetAppearanceStream",{docId:e,pageId:t,annotId:n})}},{key:"setCO",value:function(e,t){return this.workerPromise.emit("setCO",{docId:e,CO:t})}},{key:"renderTemplatesByObjNum",value:function(e,t){return this.workerPromise.emit("renderTemplatesByObjNum",{docId:e,objNum:t})}},{key:"getNameTree",value:function(e,t){return this.workerPromise.emit("getNameTree",{docId:e,type:t})}},{key:"addNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("addNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"removeNameTreeObj",value:function(e,t,n){return this.workerPromise.emit("removeNameTreeObj",{docId:e,type:t,name:n})}},{key:"replaceNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("replaceNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"renameNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("renameNameTreeObj",{docId:e,type:t,oldName:n,newName:i})}},{key:"getPageIndexByObjNum",value:function(e,t){return this.workerPromise.emit("getPageIndexByObjNum",{docId:e,objNum:t})}},{key:"nameTreeTemplatesToPages",value:function(e,t){return this.workerPromise.emit("nameTreeTemplatesToPages",{docId:e,name:t})}},{key:"nameTreePagesToTemplates",value:function(e,t){return this.workerPromise.emit("nameTreePagesToTemplates",{docId:e,name:t})}},{key:"showNameTreePageAtTheEnd",value:function(e){return this.workerPromise.emit("showNameTreePageAtTheEnd",{docId:e})}},{key:"hideNameTreePage",value:function(e,t){return this.workerPromise.emit("hideNameTreePage",{docId:e,pageIndex:t})}},{key:"addFileSpec",value:function(e,t,n,i){return this.workerPromise.emit("addFileSpec",{docId:e,fileName:t,fileBuffer:n,modifiedDateTime:i})}},{key:"setFileSpecDesc",value:function(e,t,n){return this.workerPromise.emit("setFileSpecDesc",{docId:e,desc:t,objNum:n})}},{key:"getFileSpecStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStream",{docId:e,fileSpecObjNum:t,writeStreamCall:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"getFileSpecStreamByName",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStreamByName",{docId:e,name:t,writeStreamCall:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"addEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("addEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"setEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("setEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"removeEmbeddedFileByAttachments",value:function(e,t){return this.workerPromise.emit("removeEmbeddedFileByAttachments",{docId:e,name:t})}},{key:"cancelEmbedAllPageThumbnail",value:function(e){return this.workerPromise.emit("cancelEmbedAllPageThumbnail",{docId:e})}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("cancelRemoveEmbeddedPageThumbnail",{docId:e})}},{key:"moveControl",value:function(e,t,n,i){return this.workerPromise.emit("moveControl",{docId:e,fieldId:t,fieldName:n,newName:i})}},{key:"getAnnotIdArrayByOrder",value:function(e,t){return this.workerPromise.emit("getAnnotIdArrayByOrder",{docId:e,pageId:t})}},{key:"getAAJson",value:function(e,t){return this.workerPromise.emit("getAAJson",{docId:e,fieldName:t})}},{key:"getPageDictionary",value:function(e,t){return this.workerPromise.emit("getPageDictionary",{docId:e,pageId:t})}},{key:"getPDFDictInfo",value:function(e){return this.workerPromise.emit("getPDFDictInfo",{docId:e})}},{key:"startFormDesignerAssit",value:function(e){return this.workerPromise.emit("startFormDesignerAssit",{docId:e})}},{key:"stopFormDesignerAssit",value:function(e){return this.workerPromise.emit("stopFormDesignerAssit",{docId:e})}},{key:"getPageLabels",value:function(e,t){return this.workerPromise.emit("getPageLabels",{docId:e,indexes:t})}},{key:"hasKey",value:function(e,t,n){return this.workerPromise.emit("hasKey",{docId:e,id:t,key:n})}},{key:"setAt",value:function(e,t,n,i){return this.workerPromise.emit("setAt",{docId:e,id:t,key:n,value:i})}},{key:"getAt",value:function(e,t,n){return this.workerPromise.emit("getAt",{docId:e,id:t,key:n})}},{key:"getSuggestedFormDesignerRect",value:function(e,t,n){return this.workerPromise.emit("getSuggestedFormDesignerRect",{docId:e,pageId:t,point:n})}},{key:"autoRecognitionForm",value:function(e,t){return this.workerPromise.emit("autoRecognitionForm",{docId:e,options:t})}},{key:"isStaticXFA",value:function(e){return this.workerPromise.emit("isStaticXFA",{docId:e})}},{key:"isXFA",value:function(e){return this.workerPromise.emit("isXFA",{docId:e})}},{key:"removeXFA",value:function(e){return this.workerPromise.emit("removeXFA",{docId:e})}},{key:"getAllXFAWidgetsByPageIndex",value:function(e,t){return this.workerPromise.emit("getAllXFAWidgetsByPageIndex",{docId:e,pageIndex:t})}},{key:"triggerXFAWidgetEvent",value:function(e,t,n){return this.workerPromise.emit("triggerXFAWidgetEvent",{docId:e,pageIndex:t,info:n})}},{key:"createWebLinks",value:function(e,t,n){return this.workerPromise.emit("createWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"removeWebLinks",value:function(e,t,n){return this.workerPromise.emit("removeWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"linkHasPA",value:function(e,t,n){return this.workerPromise.emit("linkHasPA",{docId:e,pageId:t,annotId:n})}},{key:"linkResetAByPA",value:function(e,t,n){return this.workerPromise.emit("linkResetAByPA",{docId:e,pageId:t,annotId:n})}},{key:"getDestinationsArray",value:function(e){return this.workerPromise.emit("getDestinationsArray",{docId:e})}},{key:"deleteDestination",value:function(e,t,n){return this.workerPromise.emit("deleteDestination",{docId:e,pageId:t,name:n})}},{key:"renameDestination",value:function(e,t,n,i){return this.workerPromise.emit("renameDestination",{docId:e,pageId:t,oldName:n,newName:i})}},{key:"createDestination",value:function(e,t,n,i){return this.workerPromise.emit("createDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"resetDestination",value:function(e,t,n,i){return this.workerPromise.emit("resetDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"moveBookmark",value:function(e,t,n,i,r){return this.workerPromise.emit("moveBookmark",{docId:e,targetBookmarkId:t,destBookmarkId:n,position:i,isOldVersion:r})}},{key:"combineFormsToCSV",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("combineFormsToCSV",{filesArray:e,writeStreamCall:i});return r.finally(function(){n.workerPromise.releaseCall(i)}),r}},{key:"addAnnotObjects",value:function(e,t,n){return this.workerPromise.emit("addAnnotObjects",{docId:e,pageId:t,objects:n})}},{key:"reversePages",value:function(e,t){return this.workerPromise.emit("reversePages",{docId:e,pageRanges:t})}},{key:"movePagesTo",value:function(e,t,n){return this.workerPromise.emit("movePagesTo",{docId:e,pageRange:t,destIndex:n})}},{key:"removePages",value:function(e,t){return this.workerPromise.emit("removePages",{docId:e,pageRange:t})}},{key:"insertBlankPages",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages",{docId:e,pageRange:t,width:n,height:i})}},{key:"insertBlankPages2",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages2",{docId:e,pageRange:t,width:n,height:i})}},{key:"rotatePages",value:function(e,t,n){return this.workerPromise.emit("rotatePages",{docId:e,pageRange:t,rotation:n})}},{key:"getPageIndexByLabelText",value:function(e,t){return this.workerPromise.emit("getPageIndexByLabelText",{docId:e,text:t})}},{key:"getCurrentPageLabelInfo",value:function(e,t){return this.workerPromise.emit("getCurrentPageLabelInfo",{docId:e,pageIndex:t})}},{key:"checkDocIsUseLogicPage",value:function(e){return this.workerPromise.emit("checkDocIsUseLogicPage",{docId:e})}},{key:"formatPageNumbers",value:function(e,t,n,i){return this.workerPromise.emit("formatPageNumbers",{docId:e,isExtendNumbering:t,pageRange:n,numberingInfo:i})}},{key:"updatePageLabelsByAction",value:function(e,t,n){return this.workerPromise.emit("updatePageLabelsByAction",{docId:e,action:t,args:n})}},{key:"getPortfolioTreeNode",value:function(e){return this.workerPromise.emit("getPortfolioTreeNode",{docId:e})}},{key:"getPortfolioInitialNodePath",value:function(e){return this.workerPromise.emit("getPortfolioInitialNodePath",{docId:e})}},{key:"sendSortFolioParam",value:function(e,t,n){return this.workerPromise.emit("sendSortFolioParam",{docId:e,target:t,order:n})}},{key:"getFolioNodePDFDoc",value:function(e){return this.workerPromise.emit("getFolioNodePDFDoc",{docId:e})}},{key:"recordPDFFileByPortFolioNode",value:function(e,t){return this.workerPromise.emit("recordPDFFileByPortFolioNode",{docId:e,handle:t})}},{key:"getPortfolioFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getPortfolioFileStream",{docId:e,nodeHandle:t,writeStream:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"getPortfolioStream",value:function(e,t){return this.workerPromise.emit("getPortfolioStream",{docId:e,nodeHandles:t})}},{key:"getPortfolioSubNodes",value:function(e,t){return this.workerPromise.emit("getPortfolioSubNodes",{docId:e,nodeHandle:t})}},{key:"changePortfolioSubNodesOrder",value:function(e,t,n,i){return this.workerPromise.emit("changePortfolioSubNodesOrder",{docId:e,nodeHandle:t,sourceIndexes:n,targetIndex:i})}},{key:"portfolioMoveSubNodeToSubFolderNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioMoveSubNodeToSubFolderNode",{docId:e,nodeHandle:t,sourceHandles:n,targetHandle:i})}},{key:"portfolioHasSameNameSubNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioHasSameNameSubNode",{docId:e,name:t,type:n,targetHandle:i})}},{key:"setPortfolioInitialViewMode",value:function(e,t){return this.workerPromise.emit("setPortfolioInitialViewMode",{docId:e,value:t})}},{key:"setPortfolioSortingOrder",value:function(e,t){return this.workerPromise.emit("setPortfolioSortingOrder",{docId:e,bool:t})}},{key:"setPortfolioOrderSchemaField",value:function(e,t){return this.workerPromise.emit("setPortfolioOrderSchemaField",{docId:e,keyName:t})}},{key:"deletePortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("deletePortfolioSchemaField",{docId:e,index:t})}},{key:"addPortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("addPortfolioSchemaField",{docId:e,name:t})}},{key:"changePortfolioSchemaFieldVisible",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldVisible",{docId:e,index:t,isVisible:n})}},{key:"changePortfolioSchemaFieldPosition",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldPosition",{docId:e,index:t,offset:n})}},{key:"getPortfolioInfo",value:function(e){return this.workerPromise.emit("getPortfolioInfo",{docId:e})}},{key:"setPortfolioInfo",value:function(e,t){return this.workerPromise.emit("setPortfolioInfo",{docId:e,info:t})}},{key:"portfolioAddFiles",value:function(e,t,n,i){return this.workerPromise.emit("portfolioAddFiles",{docId:e,files:t,targetIndex:n,folderNodeHandle:i})}},{key:"portfolioCreateFolder",value:function(e,t,n){return this.workerPromise.emit("portfolioCreateFolder",{docId:e,name:t,folderNodeHandle:n})}},{key:"portfolioRemoveSubNodes",value:function(e,t,n){return this.workerPromise.emit("portfolioRemoveSubNodes",{docId:e,folderNodeHandle:t,subNodeHandles:n})}},{key:"portfolioRegenerateTOC",value:function(e,t){return this.workerPromise.emit("portfolioRegenerateTOC",{docId:e,title:t})}},{key:"getSnappedPoint",value:function(e,t,n,i){return this.workerPromise.emit("getSnappedPoint",{docId:e,pageId:t,point:n,mode:i})}},{key:"getPageTextRectCount",value:function(e,t){return this.workerPromise.emit("getPageTextRectCount",{docId:e,pageId:t})}},{key:"getPageTextByRectIndex",value:function(e,t,n){return this.workerPromise.emit("getPageTextByRectIndex",{docId:e,pageId:t,rectIndex:n})}},{key:"updateEncryptedEngineDocForMIP",value:function(e,t){return this.workerPromise.emit("updateEncryptedEngineDocForMIP",{docId:e,isSave:t})}},{key:"GetUnprotectedPDFDoc",value:function(e,t,n,i){return this.workerPromise.emit("GetUnprotectedPDFDoc",{docId:e,decryptedDataFile:t,permissions:n,isFullControl:i})}},{key:"StartSaveRawDataTobeEncrypted",value:function(e,t){return this.workerPromise.emit("StartSaveRawDataTobeEncrypted",{docId:e,isSavingByMipLabel:t})}},{key:"StartSaveasFromMIPEncryptedPDF",value:function(e,t,n){return this.workerPromise.emit("StartSaveasFromMIPEncryptedPDF",{docId:e,encryptedArrayBuffer:t,fileName:n})}},{key:"StartSaveasFromMIPLabel",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("StartSaveasFromMIPLabel",{docId:e,fileBuffer:t,wrapperBuffer:n,metaDataInfo:i,have_print_permission:r,have_copy_permission:o,fileName:a})}},{key:"getAppliedMIPLabelID",value:function(e){return this.workerPromise.emit("getAppliedMIPLabelID",{docId:e})}},{key:"removeAppliedMIPLabel",value:function(e){return this.workerPromise.emit("removeAppliedMIPLabel",{docId:e})}},{key:"checkIsMIPProtected",value:function(e){return this.workerPromise.emit("checkIsMIPProtected",{docId:e})}},{key:"isCPDF",value:function(e){return this.workerPromise.emit("isCPDF",{docId:e})}},{key:"getDocURI",value:function(e){return this.workerPromise.emit("getDocURI",{docId:e})}},{key:"convertToCPDF",value:function(e,t,n,i,r){return this.workerPromise.emit("convertToCPDF",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"removeCDocId",value:function(e,t,n,i,r){return this.workerPromise.emit("removeCDocId",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"changePEProperty",value:function(e,t,n,i){return this.workerPromise.emit("changePEProperty",{docId:e,type:n,fn:t,param:i})}},{key:"handlePageEditorEvent",value:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return this.workerPromise.emit("handlePageEditorEvent",{docId:e,fn:t,delay:n,args:r})}},{key:"reInitPageEditor",value:function(e){return this.workerPromise.emit("reInitPageEditor",{docId:e})}},{key:"updateWinlessMatrix",value:function(e,t,n){return this.workerPromise.emit("updateWinlessMatrix",{docId:e,type:t,matrixes:n})}},{key:"changeEditingProperty",value:function(e,t,n){return this.workerPromise.emit("changeEditingProperty",{docId:e,fn:t,args:n})}},{key:"triggerPopMenuAction",value:function(e,t){return this.workerPromise.emit("triggerPopMenuAction",{docId:e,action:t})}},{key:"removeMetadata",value:function(e,t){return this.workerPromise.emit("removeMetadata",{id:e,key:t})}},{key:"getViewerPreference",value:function(e){return this.workerPromise.emit("getViewerPreference",{docId:e})}},{key:"setViewPreference",value:function(e,t,n){return this.workerPromise.emit("setViewPreference",{docId:e,key:t,value:n})}},{key:"handleTouchUpEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleTouchUpEvent",{docId:e,fn:t,args:i})}},{key:"handleFindReplaceEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleFindReplaceEvent",{docId:e,fn:t,args:i})}},{key:"triggerTUPopMenuAction",value:function(e,t,n){return this.workerPromise.emit("triggerTUPopMenuAction",{docId:e,action:t,args:n})}},{key:"removeLayerNode",value:function(e,t){return this.workerPromise.emit("removeLayerNode",{docId:e,layerId:t})}},{key:"getLayersByPage",value:function(e,t){return this.workerPromise.emit("getLayersByPage",{docId:e,pageId:t})}},{key:"updateLayerInfo",value:function(e,t){return this.workerPromise.emit("updateLayerInfo",{docId:e,layerInfo:t})}},{key:"flattenLayers",value:function(e){return this.workerPromise.emit("flattenLayers",{docId:e})}},{key:"mergeLayers",value:function(e,t,n){return this.workerPromise.emit("mergeLayers",{docId:e,layerIds:t,mergeTo:n})}},{key:"getLayerRelatedAnnots",value:function(e,t){return this.workerPromise.emit("getLayerRelatedAnnots",{docId:e,layerId:t})}},{key:"layerMoveTo",value:function(e,t,n,i){return this.workerPromise.emit("layerMoveTo",{docId:e,layerId:t,parentLayerId:n,index:i})}},{key:"getInfos",value:function(e){return this.workerPromise.emit("getInfos",{docId:e})}},{key:"hasDocIsWrapped",value:function(e){return this.workerPromise.emit("hasDocIsWrapped",{docId:e})}},{key:"getEmbeddedFontData",value:function(e){return this.workerPromise.emit("getEmbeddedFontData",{docId:e})}},{key:"computeAuditSpace",value:function(e){return this.workerPromise.emit("computeAuditSpace",{docId:e})}},{key:"optimizer",value:function(e,t,n){return this.workerPromise.emit("optimizer",{docId:e,option:t,portfolioNodeHandle:n})}},{key:"optimizeScannedPDF",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("optimizeScannedPDF",{docId:e,option:t,callback:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"startReplacePages",value:function(e,t,n,i,r){return this.workerPromise.emit("startReplacePages",{docId:e,startIndex:t,count:n,srcPdfDocId:i,srcPageindexRange:r})}},{key:"importAsLayer",value:function(e,t){return this.workerPromise.emit("importAsLayer",{docId:e,args:t})}},{key:"previewImportLayer",value:function(e,t){return this.workerPromise.emit("previewImportLayer",{docId:e,args:t})}},{key:"reloadLayer",value:function(e){return this.workerPromise.emit("reloadLayer",{docId:e})}},{key:"cloneGraphicObject",value:function(e,t,n,i){return this.workerPromise.emit("cloneGraphicObject",{docId:e,pageId:t,srcPageId:n,ids:i})}},{key:"compareDoc",value:function(e){var t={baseDocId:e.baseDocId,basePageCount:e.basePageCount,basePageIndex:e.basePageIndex,baseFileName:e.baseFileName,compareDocId:e.compareDocId,comparedPageCount:e.comparedPageCount,comparePageIndex:e.comparePageIndex,comparePageNum:e.comparePageNum,compareFileName:e.compareFileName,newTemplateId:e.newTemplateId,oldTemplateId:e.oldTemplateId,inputOptions:e.options,compareResultStrings:e.compareResultStrings};return this.workerPromise.emit("compareDoc",{compareDocParam:t})}},{key:"searchDoc",value:function(e,t,n,i,r){return this.workerPromise.emit("searchDoc",{docId:e,type:t,words:n,flag:i,isForRedact:r})}},{key:"generateDocHash",value:function(e,t){return this.workerPromise.emit("generateDocHash",{docId:e,buffer:t})}},{key:"getSignIdForEvidence",value:function(e){return this.workerPromise.emit("getSignIdForEvidence",{docId:e})}},{key:"assignSignerForESignCN",value:function(e,t){return this.workerPromise.emit("assignSignerForESignCN",{docId:e,data:t})}},{key:"setESignCNFlowSignMode",value:function(e,t){return this.workerPromise.emit("setESignCNFlowSignMode",{docId:e,type:t})}},{key:"getESignCNFlowSignMode",value:function(e){return this.workerPromise.emit("getESignCNFlowSignMode",{docId:e})}},{key:"isESignCNFile",value:function(e){return this.workerPromise.emit("isESignCNFile",{docId:e})}},{key:"getESignCNMode",value:function(e,t){return this.workerPromise.emit("getESignCNMode",{docId:e,fieldName:t})}},{key:"isESignCNSignature",value:function(e,t,n){return this.workerPromise.emit("isESignCNSignature",{docId:e,fieldId:t,pageIndex:n})}},{key:"addAuditTrail",value:function(e){return this.workerPromise.emit("addAuditTrail",{docId:e})}},{key:"getDocAuditTrail",value:function(e,t,n){return this.workerPromise.emit("getDocAuditTrail",{docId:e,buffer:t,flowSignAnnots:n})}},{key:"destroyForm",value:function(e){return this.workerPromise.emit("destroyForm",{docId:e})}},{key:"updatePropAuthDictForESignCN",value:function(e,t,n){return this.workerPromise.emit("updatePropAuthDictForESignCN",{docId:e,fieldName:t,willingnessInfo:n})}},{key:"getAssignInfoForESignCN",value:function(e){return this.workerPromise.emit("getAssignInfoForESignCN",{docId:e})}},{key:"getOrderOfSignFlowFile",value:function(e){return this.workerPromise.emit("getOrderOfSignFlowFile",{docId:e})}},{key:"checkFieldWhetherFill",value:function(e,t){return this.workerPromise.emit("checkFieldWhetherFill",{docId:e,emailValue:t})}},{key:"setSignatureAP",value:function(e,t,n,i,r){return this.workerPromise.emit("setSignatureAP",{docId:e,pageIndex:t,annotId:n,inkSignBuffer:i,pagingSigObjNum:r})}},{key:"getFlowSignInfo",value:function(e){return this.workerPromise.emit("getFlowSignInfo",{docId:e})}},{key:"addPagingSealSignature",value:function(e,t){return this.workerPromise.emit("addPagingSealSignature",{docId:e,pagingSigConfig:t})}},{key:"updatePagingSealSignature",value:function(e,t,n){return this.workerPromise.emit("updatePagingSealSignature",{docId:e,pagingSigConfig:t,pagingSigObjNum:n})}},{key:"getAllPagingSealSignatures",value:function(e,t){return this.workerPromise.emit("getAllPagingSealSignatures",{docId:e,pagingSigObjNum:t})}},{key:"removePagingSealSignature",value:function(e,t){return this.workerPromise.emit("removePagingSealSignature",{docId:e,pagingSigObjNum:t})}},{key:"getAllPagingSigsInfo",value:function(e,t){return this.workerPromise.emit("getAllPagingSigsInfo",{docId:e,pagingSigObjNum:t})}},{key:"normalizePage",value:function(e,t){return this.workerPromise.emit("normalizePage",{docId:e,pageId:t})}},{key:"getViewportRect",value:function(e,t){return this.workerPromise.emit("getViewportRect",{docId:e,pageId:t})}},{key:"getMeasureScaleRatio",value:function(e,t){return this.workerPromise.emit("getMeasureScaleRatio",{docId:e,pageId:t})}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureScaleRatio",{docId:e,pageId:t,storeInPage:n,measureInfo:i})}},{key:"exportMeasureData",value:function(e,t){return this.workerPromise.emit("exportMeasureData",{docId:e,columnNames:t})}},{key:"setRenderConfigLineWeight",value:function(e,t){return this.workerPromise.emit("setRenderConfigLineWeight",{docId:e,lineWeight:t})}},{key:"convertToTextMarkup",value:function(e,t){return this.workerPromise.emit("convertToTextMarkup",{docId:e,findResults:t})}},{key:"redactSearch",value:function(e,t,n,i,r,o){return this.workerPromise.emit("redactSearch",{docId:e,findResults:t,start:n,count:i,overlayTexts:r,opts:o})}},{key:"setRedactAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAppearance",{docId:e,pageId:t,annotId:n,option:i})}},{key:"getCompareFileFilterNums",value:function(e){return this.workerPromise.emit("getCompareFileFilterNums",{docId:e})}},{key:"getPDFDocFromImageFile",value:function(e,t){return this.workerPromise.emit("getPDFDocFromImageFile",e,t)}},{key:"isScannedDoc",value:function(e){return this.workerPromise.emit("isScannedDoc",{docId:e})}},{key:"getPageCountAsync",value:function(e){return this.workerPromise.emit("getPageCountAsync",{docId:e})}},{key:"getPageTexts",value:function(e,t,n,i,r){return this.workerPromise.emit("getPageTexts",{docId:e,pageId:t,settings:n,minWidth:i,eol:r})}},{key:"hasOwnerPassword",value:function(e){return this.workerPromise.emit("hasOwnerPassword",{docId:e})}},{key:"removePDFAID",value:function(e){return this.workerPromise.emit("removePDFAID",{docId:e})}},{key:"setPageTransition",value:function(e,t,n,i,r){return this.workerPromise.emit("setPageTransition",{docId:e,transName:t,direction:n,speed:i,range:r})}},{key:"getPageTransitionByIndex",value:function(e,t){return this.workerPromise.emit("getPageTransitionByIndex",{docId:e,pageIndex:t})}},{key:"getStampTypeByPageIndex",value:function(e,t){return this.workerPromise.emit("getStampTypeByPageIndex",{docId:e,pageIndex:t})}},{key:"getText",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getText",{docId:e,pageRange:t,taskId:n,taskProgress:o});return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"cancelTaskProgress",value:function(e,t){return this.workerPromise.emit("cancelTaskProgress",{docId:e,taskId:t})}},{key:"isScannedPage",value:function(e,t){return this.workerPromise.emit("isScannedPage",{docId:e,pageId:t})}},{key:"createSummarizeComments",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("createSummarizeComments",{docId:e,param:n,writeStream:r});return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"getPageTransition",value:function(e,t){return this.workerPromise.emit("getPageTransition",{docId:e,pageId:t})}},{key:"hiddenDataSanitizeDocument",value:function(e){return this.workerPromise.emit("hiddenDataSanitizeDocument",{docId:e})}},{key:"hiddenDataRemoveHiddenInfo",value:function(e,t){return this.workerPromise.emit("hiddenDataRemoveHiddenInfo",{docId:e,options:t})}},{key:"cacheFontConfig",value:function(e,t,n){return this.workerPromise.emit("cacheFontConfig",{fontServerRoot:e,notExistFonts:t,customUploadFonts:n})}},{key:"getFxcoreFontList",value:function(){return this.workerPromise.emit("getFxcoreFontList")}},{key:"getPureTexts",value:function(e,t,n){return this.workerPromise.emit("getPureTexts",{docId:e,pageId:t,order:n})}},{key:"getLRContentForChatWithDoc",value:function(e,t){return this.workerPromise.emit("getLRContentForChatWithDoc",{docId:e,options:t})}},{key:"getDocPurText",value:function(e){return this.workerPromise.emit("getDocPurText",{docId:e})}},{key:"docCanDoOcr",value:function(e,t){return this.workerPromise.emit("docCanDoOcr",{docId:e,checkImage:t})}},{key:"fetchContentByType",value:function(e,t){return this.workerPromise.emit("fetchContentByType",{docId:e,options:t})}},{key:"getFATLAndEUTLList",value:function(e,t){return this.workerPromise.emit("getFATLAndEUTLList",{urls:e,isUpdate:t})}},{key:"getTextInRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextInRect",{docId:e,pageId:t,rect:n,type:i})}},{key:"previewIconDoc",value:function(e){return this.workerPromise.emit("previewIconDoc",{icon:e})}},{key:"getAnnotRects",value:function(e,t){return this.workerPromise.emit("getAnnotRects",{docId:e,pageId:t})}},{key:"transformPage",value:function(e,t,n){return this.workerPromise.emit("transformPage",{docId:e,pageId:t,options:n})}},{key:"getSignatureBitmap",value:function(e,t){return this.workerPromise.emit("getSignatureBitmap",{docId:e,fieldName:t})}},{key:"setSignatureBitmap",value:function(e,t,n){return this.workerPromise.emit("setSignatureBitmap",{docId:e,fieldName:t,buffer:n})}},{key:"getGraphicsObjectsByRect",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectsByRect",{docId:e,pageId:t,rect:n,tolerance:i,type:r,isInRect:o})}},{key:"removeAllEmbeddedFiles",value:function(e){return this.workerPromise.emit("removeAllEmbeddedFiles",{docId:e})}},{key:"getEmbeddedFileNames",value:function(e){return this.workerPromise.emit("getEmbeddedFileNames",{docId:e})}},{key:"comparePDFDocuments",value:function(e,t,n,i){return this.workerPromise.emit("comparePDFDocuments",{docId:e,otherDocId:t,params:n,progressId:i})}},{key:"getCharBBox",value:function(e,t){return this.workerPromise.emit("getCharBBox",{fontId:e,unicode:t})}},{key:"getCharWidthByFontID",value:function(e,t){return this.workerPromise.emit("getCharWidthByFontID",{fontId:e,unicode:t})}},{key:"getFontToneByFontID",value:function(e){return this.workerPromise.emit("getFontToneByFontID",{fontId:e})}},{key:"updateCalloutFigure",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateCalloutFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r,calloutLinePoints:o})}},{key:"clearPageRenderCache",value:function(e,t){return this.workerPromise.emit("clearPageRenderCache",{docId:e,pageId:t})}},{key:"updateRectFigure",value:function(e,t,n,i,r){return this.workerPromise.emit("updateRectFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r})}},{key:"drawTextString",value:function(e,t){return this.workerPromise.emit("drawTextString",{docId:e,font:t})}},{key:"loadAdvEditorConfigFile",value:function(e,t,n){return this.workerPromise.emit("loadAdvEditorConfigFile",{docId:e,fileBuffer:t,moduleName:n})}},{key:"setAdvEditorTextToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorTextToolStyle",{docId:e,style:t})}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorEditingObjectToolStyle",{docId:e,style:t})}},{key:"setConfiguration",value:function(e){return this.workerPromise.emit("setConfiguration",e)}}]),t}(d.Z);const b=new Proxy(_,{construct:function(e,t){return new Proxy((0,A._)(e,(0,l._)(t)),y)}});function w(e){e.on("wasmBinary",function(e){localStorage.setItem(g,e)}),e.on("asmMem",function(e){localStorage.setItem(v,e)}),e.on("asmJs",function(e){localStorage.setItem(m,e)})}const k=function(e){return function(e){function t(e,n,o,a){var s;return(0,r._)(this,t),(s=(0,i._)(this,t,[e,n,o,a])).api=new b(e,a),o.configuration&&s.updateConfigurations(o.configuration),s}return(0,a._)(t,e),(0,o._)(t,[{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.workerPromise.createMessageChannel(this.clientId+"."+e,t);return n.ownsTo(this),n}},{key:"defineRemoteAPI",value:function(e,t){var n=this.createMessageChannel(e,t);return function(){n.destroy()}}},{key:"obtainRemoteAPI",value:function(e){return this.createMessageChannel(e).remoteImplementation}},{key:"registerSecurityCallback",value:function(e,t){return this.api.registerSecurityCallback(e,t)}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.api.registerCustomWebPluginSecurityCallback(e,t,n)}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.api.unRegisterSecurityHandler(e,t)}},{key:"setFontMap",value:function(e){return this.api.setFontMap(e)}},{key:"setWatermarkFontMap",value:function(e){return this.api.setWatermarkFontMap(e)}},{key:"addFontMap",value:function(e){return this.api.addFontMap(e)}},{key:"getCharBBox",value:function(e,t){return this.api.getCharBBox(e,t)}},{key:"getCharWidthByFontID",value:function(e,t){return this.api.getCharWidthByFontID(e,t)}},{key:"getFontToneByFontID",value:function(e){return this.api.getFontToneByFontID(e)}},{key:"setJPXDownSample",value:function(e){return this.api.setJPXDownSample(e)}},{key:"cacheFontConfig",value:function(e,t,n){return this.api.cacheFontConfig(e,t,n)}},{key:"getFxcoreFontList",value:function(){return this.api.getFxcoreFontList()}},{key:"getFATLAndEUTLList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.api.getFATLAndEUTLList(e,t)}},{key:"updateConfigurations",value:function(e){return this.configuration=(0,s.extendOptions)({},this.configuration||{},e),this.api.setConfiguration(e)}}]),t}(e)}},1783:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(4691),r=n(9227),o=n(5467),a=n(7424),s=n(5843),A=n(9880);function c(e){var t=Object.getOwnPropertyNames(e.prototype);return function(e){function n(e,o){var a,s=function(e){var n=t[e],i=h.indexOf(n);if(-1!==i)return h.splice(i,1),"continue";a[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return d.emit(n,t)}};(0,r._)(this,n),a=(0,i._)(this,n,[e,o]);var c=e.workerPath,u=e.workerBlobUrl;"/"!==c.slice(-1)&&(c+="/");for(var l=new Worker(u||c+"WebPDFSRWorker.js?h=0.32994342844449265"),d=a.workerPromise=new A.Z(l),h=Object.getOwnPropertyNames(a.constructor.prototype),f=t.length;f--;)s(f);return a}return(0,o._)(n,e),(0,a._)(n,[{key:"init",value:function(){return this.workerPromise.emit("initSREngine",this.option)}},{key:"getPDFDocIdByFile",value:function(e,t){var n=function(e){var t=[];return(0,s._)(e,ArrayBuffer)&&(t=[e]),t}(e);return this.workerPromise.emit("getPDFDocByFile",[e,t],n)}},{key:"getPDFDocStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("getPDFDocStream",[e,r,n]);return o.finally(function(){i.workerPromise.releaseCall(r)}),o}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",[e,t,n,o]);return a.finally(function(){r.workerPromise.releaseCall(o)}),a}},{key:"resetEngine",value:function(e){return this.workerPromise.emit("resetEngine",[e])}}]),n}(e)}const u=function(e){return function(e){function t(e,n,o,a){var s;return(0,r._)(this,t),(s=(0,i._)(this,t,[e,n,o,a])).api=new(c(s.api.constructor))(e),s}return(0,o._)(t,e),t}(e)}},4231:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=(new Date).getTimezoneOffset(),c=Date.prototype;function u(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:A))}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-u(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+u(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&s(t.prototype,n),i&&s(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments)}}),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(new Date(this.$d.getTime()+u(this.$timezoneOffset)),arguments)}}),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach(function(e){l.prototype[e]=function(){var t=new Date(this.$d.getTime()+u(this.$timezoneOffset));c[e].apply(t,arguments),t.setTime(t.getTime()-u(this.$timezoneOffset)),this.$d=t}}),["toString","toTimeString"].forEach(function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}});var d=l,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach(function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}}),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-A)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===A},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?A:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7990:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",s="day",A="week",c="month",u="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,a=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:A,d:s,D:d,h:a,m:o,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",_={};_[y]=g;var b="$isDayjsObject",w=function(e){return e instanceof C||!(!e||!e[b])},k=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(r=o),n&&(_[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,r=s}return!i&&r&&(y=r),r||!i&&y},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},P=m;P.l=k,P.i=w,P.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return x(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<x(e)},v.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!P.u(t)||t,u=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(s)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(u){case l:return i?h(1,0):h(31,11);case c:return i?h(1,g):h(0,g+1);case A:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return h(i?v-_:v+(6-_),g);case s:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,A=P.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[s]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[l]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[A],f=A===s?this.$D+(t-this.$W):t;if(A===c||A===l){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[P.p(e)]()},v.add=function(i,u){var d,h=this;i=Number(i);var f=P.p(u),p=function(e){var t=x(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===l)return this.set(l,this.$y+i);if(f===s)return p(1);if(f===A)return p(7);var g=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,v=this.$d.getTime()+i*g;return P.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,s=this.$M,A=n.weekdays,c=n.months,u=n.meridiem,l=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return s+1;case"MM":return P.s(s+1,2,"0");case"MMM":return l(n.monthsShort,s,c,3);case"MMMM":return l(c,s);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return l(n.weekdaysMin,t.$W,A,2);case"ddd":return l(n.weekdaysShort,t.$W,A,3);case"dddd":return A[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,d,h){var f,p=this,g=P.p(d),v=x(i),m=(v.utcOffset()-this.utcOffset())*t,y=this-v,_=function(){return P.m(p,v)};switch(g){case l:f=_()/12;break;case c:f=_();break;case u:f=_()/3;break;case A:f=(y-m)/6048e5;break;case s:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=k(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),D=C.prototype;return x.prototype=D,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",s],["$M",c],["$y",l],["$D",d]].forEach(function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),x.extend=function(e,t){return e.$i||(e(t,C,x),e.$i=!0),x},x.locale=k,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=_[y],x.Ls=_,x.p={},x}()},8990:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function r(e,t,n){var r=i[n];return Array.isArray(r)&&(r=r[t?0:1]),r.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r}};return n.default.locale(o,null,!0),o}(n(7990))},4883:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},5522:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(i,null,!0),i}(n(7990))},890:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},859:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return n.default.locale(i,null,!0),i}(n(7990))},5576:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(e){return e+"일"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(e){return e<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return n.default.locale(i,null,!0),i}(n(7990))},3765:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(i,null,!0),i}(n(7990))},1128:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},7074:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-hk",months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d 分鐘",h:"一小時",hh:"%d 小時",d:"一天",dd:"%d 天",M:"一個月",MM:"%d 個月",y:"一年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},579:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},1434:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,i=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return i.bind(this)(e);var r=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return i.bind(this)(o)}}}()},7983:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,i=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},s=function(e){return(e=+e)+(e>68?1900:2e3)},A=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,i=a.meridiem;if(i){for(var r=1;r<=24;r+=1)if(e.indexOf(i(r,0,t))>-1){n=r>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=l(e,!1)}],a:[o,function(e){this.afternoon=l(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[i,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,A("seconds")],ss:[r,A("seconds")],m:[r,A("minutes")],mm:[r,A("minutes")],H:[r,A("hours")],h:[r,A("hours")],HH:[r,A("hours")],hh:[r,A("hours")],D:[r,A("day")],DD:[i,A("day")],Do:[o,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var i=1;i<=31;i+=1)t(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],w:[r,A("week")],ww:[i,A("week")],M:[r,A("month")],MM:[i,A("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,A("year")],YY:[i,function(e){this.year=s(e)}],YYYY:[/\d{4}/,A("year")],Z:c,ZZ:c};function h(n){var i,r;i=n,r=a&&a.formats;for(var o=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,i){var o=i&&i.toUpperCase();return n||r[i]||e[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(t),s=o.length,A=0;A<s;A+=1){var c=o[A],u=d[c],l=u&&u[0],h=u&&u[1];o[A]=h?{regex:l,parser:h}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,i=0;n<s;n+=1){var r=o[n];if("string"==typeof r)i+=r.length;else{var a=r.regex,A=r.parser,c=e.slice(i),u=a.exec(c)[0];A.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var i=t.prototype,r=i.parse;i.parse=function(e){var t=e.date,i=e.utc,o=e.args;this.$u=i;var s=o[1];if("string"==typeof s){var A=!0===o[2],c=!0===o[3],u=A||c,l=o[2];c&&(l=o[2]),a=this.$locale(),!A&&l&&(a=n.Ls[l]),this.$d=function(e,t,n,i){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),o=r.year,a=r.month,s=r.day,A=r.hours,c=r.minutes,u=r.seconds,l=r.milliseconds,d=r.zone,f=r.week,p=new Date,g=s||(o||a?1:p.getDate()),v=o||p.getFullYear(),m=0;o&&!a||(m=a>0?a-1:p.getMonth());var y,_=A||0,b=c||0,w=u||0,k=l||0;return d?new Date(Date.UTC(v,m,g,_,b,w,k+60*d.offset*1e3)):n?new Date(Date.UTC(v,m,g,_,b,w,k)):(y=new Date(v,m,g,_,b,w,k),f&&(y=i(y).week(f).toDate()),y)}catch(e){return new Date("")}}(t,s,i,n),this.init(),l&&!0!==l&&(this.$L=this.locale(l).$L),u&&t!=this.format(s)&&(this.$d=new Date("")),a={}}else if(s instanceof Array)for(var d=s.length,f=1;f<=d;f+=1){o[1]=s[f-1];var p=n.apply(this,o);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===d&&(this.$d=new Date(""))}else r.call(this,e)}}}()},8366:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,r,o){var a=r.prototype;o.utc=function(e){return new r({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var A=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else A.call(this)};var c=a.utcOffset;a.utcOffset=function(i,r){var o=this.$utils().u;if(o(i))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof i&&(i=function(e){void 0===e&&(e="");var i=e.match(t);if(!i)return null;var r=(""+i[0]).match(n)||["-",0,0],o=r[0],a=60*+r[1]+ +r[2];return 0===a?0:"+"===o?a:-a}(i),null===i))return this;var a=Math.abs(i)<=16?60*i:i;if(0===a)return this.utc(r);var s=this.clone();if(r)return s.$offset=a,s.$u=!1,s;var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(s=this.local().add(a+A,e)).$offset=a,s.$x.$localOffset=A,s};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var l=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var d=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var i=this.local(),r=o(e).local();return d.call(i,r,t,n)}}}()},2778:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),A=n?n+t:t;return e._events[A]?e._events[A].fn?e._events[A]=[e._events[A],s]:e._events[A].push(s):(e._events[A]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var A,c,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,a),!0}for(c=1,A=new Array(l-1);c<l;c++)A[c-1]=arguments[c];u.fn.apply(u.context,A)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,r);break;default:if(!A)for(d=1,A=new Array(l-1);d<l;d++)A[d-1]=arguments[d];u[c].fn.apply(u[c].context,A)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var A=0,c=[],u=s.length;A<u;A++)(s[A].fn!==t||r&&!s[A].once||i&&s[A].context!==i)&&c.push(s[A]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},636:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,A=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,l={},d=l.toString,h=l.hasOwnProperty,f=h.toString,p=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[d.call(e)]||"object":typeof e}var k="3.7.1",x=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:k,constructor:P,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,A=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===A&&(a=this,s--);s<A;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?P.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!x.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return A(a)},guid:1,support:g}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var E=o.pop,S=o.sort,I=o.splice,T="[\\x20\\t\\r\\n\\f]",M=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(R,F)};var N=y,L=c;!function(){var e,t,n,r,a,A,c,l,d,f,p=L,v=P.expando,m=0,y=0,_=ee(),b=ee(),w=ee(),k=ee(),x=function(e,t){return e===t&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+T+"*("+R+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+T+"*\\]",O=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(T+"+","g"),B=new RegExp("^"+T+"*,"+T+"*"),V=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),H=new RegExp(T+"|>"),U=new RegExp(O),z=new RegExp("^"+R+"$"),W={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){Ae()},X=de(function(e){return!0===e.disabled&&D(e,"fieldset")},{dir:"parentNode",next:"legend"});try{p.apply(o=s.call(N.childNodes),N.childNodes),o[N.childNodes.length].nodeType}catch(e){p={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function Q(e,t,n,i){var r,o,a,s,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(Ae(t),t=t||A,l)){if(11!==m&&(c=$.exec(e)))if(r=c[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Q.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(c[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(k[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(H.test(e)||V.test(e))){for((f=J.test(e)&&se(t.parentNode)||t)==t&&g.scope||((s=t.getAttribute("id"))?s=P.escapeSelector(s):t.setAttribute("id",s=v)),o=(u=ue(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+le(u[o]);h=u.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){k(e,!0)}finally{s===v&&t.removeAttribute("id")}}}return me(e.replace(M,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[v]=!0,e}function ne(e){var t=A.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return D(t,"input")&&t.type===e}}function re(e){return function(t){return(D(t,"input")||D(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&X(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te(function(t){return t=+t,te(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function Ae(e){var n,i=e?e.ownerDocument||e:N;return i!=A&&9===i.nodeType&&i.documentElement?(c=(A=i).documentElement,l=!P.isXMLDoc(A),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&N!=A&&(n=A.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=ne(function(e){return c.appendChild(e).id=P.expando,!A.getElementsByName||!A.getElementsByName(P.expando).length}),g.disconnectedMatch=ne(function(e){return f.call(e,"*")}),g.scope=ne(function(){return A.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return A.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&l)return t.getElementsByClassName(e)},d=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+T+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+v+"-]").length||d.push("~="),e.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=A.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=A.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")}),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),x=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument==N&&Q.contains(N,e)?-1:t===A||t.ownerDocument==N&&Q.contains(N,t)?1:r?u.call(r,e)-u.call(r,t):0:4&n?-1:1)},A):A}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(Ae(e),l&&!k[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return Q(t,A,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=A&&Ae(e),P.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=A&&Ae(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!l):void 0;return void 0!==r?r:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!g.sortStable,r=!g.sortStable&&s.call(e,0),S.call(e,x),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)I.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(s.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return D(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+T+")"+e+"("+T+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=Q.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,A){var c,u,l,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!A&&!s,_=!1;if(p){if(o){for(;f;){for(l=t;l=l[f];)if(s?D(l,g):1===l.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(_=(d=(c=(u=p[v]||(p[v]={}))[e]||[])[0]===m&&c[1])&&c[2],l=d&&p.childNodes[d];l=++d&&l&&l[f]||(_=d=0)||h.pop();)if(1===l.nodeType&&++_&&l===t){u[e]=[m,d,_];break}}else if(y&&(_=d=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===m&&c[1]),!1===_)for(;(l=++d&&l&&l[f]||(_=d=0)||h.pop())&&(!(s?D(l,g):1===l.nodeType)||!++_||(y&&((u=l[v]||(l[v]={}))[e]=[m,_]),l!==t)););return(_-=r)===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return r[v]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=u.call(e,o[a])]=!(t[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:te(function(e){var t=[],n=[],i=ve(e.replace(M,"$1"));return i[v]?te(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return Q(e,t).length>0}}),contains:te(function(e){return e=e.replace(q,K),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}}),lang:te(function(e){return z.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(q,K).toLowerCase(),function(t){var n;do{if(n=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return A.activeElement}catch(e){}}()&&A.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return D(e,"input")&&!!e.checked||D(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){return D(e,"input")&&"button"===e.type||D(e,"button")},text:function(e){var t;return D(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,n){return[n<0?n+t:n]}),even:ae(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ae(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ae(function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:ae(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function ue(e,n){var i,r,o,a,s,A,c,u=b[e+" "];if(u)return n?0:u.slice(0);for(s=e,A=[],c=t.preFilter;s;){for(a in i&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),A.push(o=[])),i=!1,(r=V.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(M," ")}),s=s.slice(i.length)),t.filter)!(r=W[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?Q.error(e):b(e,A).slice(0)}function le(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,A){var c,u,l=[m,s];if(A){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,A))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=t[v]||(t[v]={}),r&&D(t,r))t=t[i]||t;else{if((c=u[o])&&c[0]===m&&c[1]===s)return l[2]=c[2];if(u[o]=l,l[2]=e(t,n,A))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],s=0,A=e.length,c=null!=t;s<A;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function pe(e,t,n,i,r,o){return i&&!i[v]&&(i=pe(i)),r&&!r[v]&&(r=pe(r,o)),te(function(o,a,s,A){var c,l,d,h,f=[],g=[],v=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Q(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?m:fe(m,f,e,s,A);if(n?n(y,h=r||(o?e:v||i)?[]:a,s,A):h=y,i)for(c=fe(h,g),i(c,[],s,A),l=c.length;l--;)(d=c[l])&&(h[g[l]]=!(y[g[l]]=d));if(o){if(r||e){if(r){for(c=[],l=h.length;l--;)(d=h[l])&&c.push(y[l]=d);r(null,h=[],c,A)}for(l=h.length;l--;)(d=h[l])&&(c=r?u.call(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else h=fe(h===a?h.splice(v,h.length):h),r?r(null,a,h,A):p.apply(a,h)})}function ge(e){for(var i,r,o,a=e.length,s=t.relative[e[0].type],A=s||t.relative[" "],c=s?1:0,l=de(function(e){return e===i},A,!0),d=de(function(e){return u.call(i,e)>-1},A,!0),h=[function(e,t,r){var o=!s&&(r||t!=n)||((i=t).nodeType?l(e,t,r):d(e,t,r));return i=null,o}];c<a;c++)if(r=t.relative[e[c].type])h=[de(he(h),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<a&&!t.relative[e[o].type];o++);return pe(c>1&&he(h),c>1&&le(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(M,"$1"),r,c<o&&ge(e.slice(c,o)),o<a&&ge(e=e.slice(o)),o<a&&le(e))}h.push(r)}return he(h)}function ve(e,i){var r,o=[],a=[],s=w[e+" "];if(!s){for(i||(i=ue(e)),r=i.length;r--;)(s=ge(i[r]))[v]?o.push(s):a.push(s);s=w(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,s,c,u,d){var h,f,g,v=0,y="0",_=a&&[],b=[],w=n,k=a||o&&t.find.TAG("*",d),x=m+=null==w?1:Math.random()||.1,C=k.length;for(d&&(n=s==A||s||d);y!==C&&null!=(h=k[y]);y++){if(o&&h){for(f=0,s||h.ownerDocument==A||(Ae(h),c=!l);g=e[f++];)if(g(h,s||A,c)){p.call(u,h);break}d&&(m=x)}r&&((h=!g&&h)&&v--,a&&_.push(h))}if(v+=y,r&&y!==v){for(f=0;g=i[f++];)g(_,b,s,c);if(a){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=E.call(u));b=fe(b)}p.apply(u,b),d&&!a&&b.length>0&&v+i.length>1&&P.uniqueSort(u)}return d&&(m=x,n=w),_};return r?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,i,r){var o,a,s,A,c,u="function"==typeof e&&e,d=!r&&ue(e=u.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&l&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(q,K),n)||[])[0]))return i;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[A=s.type]);)if((c=t.find[A])&&(r=c(s.matches[0].replace(q,K),J.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&le(a)))return p.apply(i,r),i;break}}return(u||ve(e,d))(r,n,!l,i,!n||J.test(e)&&se(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(x).join("")===v,Ae(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(A.createElement("fieldset"))}),P.find=Q,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Q.compile=ve,Q.select=me,Q.setDocument=Ae,Q.tokenize=ue,Q.escape=P.escapeSelector,Q.getText=P.text,Q.isXML=P.isXMLDoc,Q.selectors=P.expr,Q.support=P.support,Q.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(e,t,n){return v(t)?P.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?P.grep(e,function(e){return e===t!==n}):"string"!=typeof t?P.grep(e,function(e){return u.call(t,e)>-1!==n}):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,function(e){return 1===e.nodeType}))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter(function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(H(this,e||[],!1))},not:function(e){return this.pushStack(H(this,e||[],!0))},is:function(e){return!!H(this,"string"==typeof e&&B.test(e)?P(e):e||[],!1).length}});var U,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||U,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,U=P(y);var W=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!B.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(P(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(Y[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}});var $=/[^\x20\t\r\n\f]+/g;function J(e){return e}function q(e){throw e}function K(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],function(e,n){t[n]=!0}),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],s=-1,A=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){P.each(n,function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)})}(arguments),n&&!t&&A()),this},remove:function(){return P.each(arguments,function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||A()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred(function(n){P.each(t,function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var s=this,A=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(s,A))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,a(o,t,J,r),a(o,t,q,r)):(o++,c.call(i,a(o,t,J,r),a(o,t,q,r),a(o,t,J,t.notifyWith))):(n!==J&&(s=void 0,A=[i]),(r||t.resolveWith)(s,A))}},u=r?c:function(){try{c()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,u.error),e+1>=o&&(n!==q&&(s=void 0,A=[i]),t.rejectWith(s,A))}};e?u():(P.Deferred.getErrorHook?u.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(u.error=P.Deferred.getStackHook()),i.setTimeout(u))}}return P.Deferred(function(i){t[0][3].add(a(0,i,v(r)?r:J,i.notifyWith)),t[1][3].add(a(0,i,v(e)?e:J)),t[2][3].add(a(0,i,v(n)?n:q))}).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,function(e,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(K(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)K(r[n],a(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Z.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout(function(){throw e})};var X=P.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),i.removeEventListener("load",Q),P.ready()}P.fn.ready=function(e){return X.then(e).catch(function(e){P.readyException(e)}),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||X.resolveWith(y,[P]))}}),P.ready.then=X.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Q),i.addEventListener("load",Q));var ee=function(e,t,n,i,r,o,a){var s=0,A=e.length,c=null==n;if("object"===w(n))for(s in r=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(P(e),n)})),t))for(;s<A;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):A?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var se=new ae,Ae=new ae,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function le(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}Ae.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return Ae.hasData(e)||se.hasData(e)},data:function(e,t,n){return Ae.access(e,t,n)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Ae.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),le(o,i,r[i]));se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ae.set(this,e)}):ee(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Ae.get(o,e))||void 0!==(n=le(o,e))?n:void 0;this.each(function(){Ae.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=se.get(e,t),n&&(!i||Array.isArray(n)?i=se.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){P.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:P.Callbacks("once memory").add(function(){se.remove(e,[t+"queue",n])})})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each(function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)})},dequeue:function(e){return this.each(function(){P.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ge=function(e){return P.contains(e.ownerDocument,e)},ve={composed:!0};pe.getRootNode&&(ge=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return P.css(e,t,"")},A=s(),c=n&&n[3]||(P.cssNumber[t]?"":"px"),u=e.nodeType&&(P.cssNumber[t]||"px"!==c&&+A)&&he.exec(P.css(e,t));if(u&&u[3]!==c){for(A/=2,c=c||u[3],u=+A||1;a--;)P.style(e,t,u+c),(1-o)*(1-(o=s()/A||.5))<=0&&(a=0),u/=o;u*=2,P.style(e,t,u+c),n=n||[]}return n&&(u=+u||+A||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var _e={};function be(e){var t,n=e.ownerDocument,i=e.nodeName,r=_e[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),_e[i]=r,r)}function we(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=se.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=be(i))):"none"!==n&&(r[o]="none",se.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?P(this).show():P(this).hide()})}});var ke,xe,Pe=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,De=/^$|^module$|\/(?:java|ecma)script/i;ke=y.createDocumentFragment().appendChild(y.createElement("div")),(xe=y.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),ke.appendChild(xe),g.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",g.option=!!ke.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?P.merge([e],n):n}function Ie(e,t){for(var n=0,i=e.length;n<i;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,g.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Me(e,t,n,i,r){for(var o,a,s,A,c,u,l=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===w(o))P.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||l.appendChild(t.createElement("div")),s=(Ce.exec(o)||["",""])[1].toLowerCase(),A=Ee[s]||Ee._default,a.innerHTML=A[1]+P.htmlPrefilter(o)+A[2],u=A[0];u--;)a=a.lastChild;P.merge(d,a.childNodes),(a=l.firstChild).textContent=""}else d.push(t.createTextNode(o));for(l.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(c=ge(o),a=Se(l.appendChild(o),"script"),c&&Ie(a),n)for(u=0;o=a[u++];)De.test(o.type||"")&&n.push(o);return l}var Re=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Ne(){return!1}function Le(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each(function(){P.event.add(this,t,r,i,n)})}function Oe(e,t,n){n?(se.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=se.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),se.set(this,t,i),this[t](),n=se.get(this,t),se.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(se.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===se.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,s,A,c,u,l,d,h,f,p,g=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(A=g.events)||(A=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)h=p=(s=Re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(l=P.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=P.event.special[h]||{},u=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=A[h])||((d=A[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,A,c,u,l,d,h,f,p,g=se.hasData(e)&&se.get(e);if(g&&(A=g.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(h=p=(s=Re.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(l=P.event.special[h]||{},d=A[h=(i?l.delegateType:l.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&p!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,l.remove&&l.remove.call(e,u));a&&!d.length&&(l.teardown&&!1!==l.teardown.call(e,f,g.handle)||P.removeEvent(e,h,g.handle),delete A[h])}else for(h in A)P.event.remove(e,h+t[c],n,i,!0);P.isEmptyObject(A)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),A=P.event.fix(e),c=(se.get(this,"events")||Object.create(null))[A.type]||[],u=P.event.special[A.type]||{};for(s[0]=A,t=1;t<arguments.length;t++)s[t]=arguments[t];if(A.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,A)){for(a=P.event.handlers.call(this,A,c),t=0;(r=a[t++])&&!A.isPropagationStopped();)for(A.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!A.isImmediatePropagationStopped();)A.rnamespace&&!1!==o.namespace&&!A.rnamespace.test(o.namespace)||(A.handleObj=o,A.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(A.result=i)&&(A.preventDefault(),A.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,A),A.result}},handlers:function(e,t){var n,i,r,o,a,s=[],A=t.delegateCount,c=e.target;if(A&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<A;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,A<t.length&&s.push({elem:c,handlers:t.slice(A)}),s},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&D(t,"input")&&se.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(y.documentMode){var n=se.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),se.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t)-1;o?se.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),se.remove(r,t))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),P.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){P.event.remove(this,e,n,t)})}});var je=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(r in se.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)P.event.add(t,r,s[r][n]);Ae.hasData(e)&&(o=Ae.access(e),a=P.extend({},o),Ae.set(t,a))}}function Ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ge(e,t,n,i){t=A(t);var r,o,a,s,c,u,l=0,d=e.length,h=d-1,f=t[0],p=v(f);if(p||d>1&&"string"==typeof f&&!g.checkClone&&Be.test(f))return e.each(function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ge(o,t,n,i)});if(d&&(o=(r=Me(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=P.map(Se(r,"script"),Ue)).length;l<d;l++)c=r,l!==h&&(c=P.clone(c,!0,!0),s&&P.merge(a,Se(c,"script"))),n.call(e[l],c,l);if(s)for(u=a[a.length-1].ownerDocument,P.map(a,ze),l=0;l<s;l++)c=a[l],De.test(c.type||"")&&!se.access(c,"globalEval")&&P.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?P._evalUrl&&!c.noModule&&P._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):b(c.textContent.replace(Ve,""),c,u))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Se(i)),i.parentNode&&(n&&ge(i)&&Ie(Se(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),A=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Se(s),i=0,r=(o=Se(e)).length;i<r;i++)Ye(o[i],a[i]);if(t)if(n)for(o=o||Se(e),a=a||Se(s),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,s);return(a=Se(s,"script")).length>0&&Ie(a,!A&&Se(e,"script")),s},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[se.expando]=void 0}n[Ae.expando]&&(n[Ae.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,function(e){return void 0===e?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ge(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)})},prepend:function(){return Ge(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return P.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Ee[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Se(this)),n&&n.replaceChild(t,this))},e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var Je=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ze=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Xe=new RegExp(fe.join("|"),"i");function Qe(e,t,n){var i,r,o,a,s=qe.test(t),A=e.style;return(n=n||Ke(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(M,"$1")||void 0),""!==a||ge(e)||(a=P.style(e,t)),!g.pixelBoxStyles()&&Je.test(a)&&Xe.test(t)&&(i=A.width,r=A.minWidth,o=A.maxWidth,A.minWidth=A.maxWidth=A.width=a,a=n.width,A.width=i,A.minWidth=r,A.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,A=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),pe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,s,A,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,P.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),A},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function At(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ct(e,t,n,i,r,o){var a="width"===t?1:0,s=0,A=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(A-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(A-=P.css(e,"border"+fe[a]+"Width",!0,r))):(A+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?A+=P.css(e,"border"+fe[a]+"Width",!0,r):s+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(A+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-A-s-.5))||0),A+c}function ut(e,t,n){var i=Ke(e),r=(!g.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Qe(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Je.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,n||(r?"border":"content"),o,i,a)+"px"}function lt(e,t,n,i,r){return new lt.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re(t),A=qe.test(t),c=e.style;if(A||(t=rt(s)),a=P.cssHooks[t]||P.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||A||(n+=r&&r[3]||(P.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(A?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=re(t);return qe.test(t)||(t=rt(s)),(a=P.cssHooks[t]||P.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Qe(e,t,i)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,i):Ze(e,at,function(){return ut(e,t,i)})},set:function(e,n,i){var r,o=Ke(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),A=i?ct(e,t,i,s,o):0;return s&&a&&(A-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),A&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),At(0,n,A)}}}),P.cssHooks.marginLeft=et(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=At)}),P.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)},e,t,arguments.length>1)}}),P.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=lt.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function gt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(gt):i.setTimeout(gt,P.fx.interval),P.fx.tick())}function vt(){return i.setTimeout(function(){dt=void 0}),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function _t(e,t,n){var i,r,o=0,a=_t.prefilters.length,s=P.Deferred().always(function(){delete A.elem}),A=function(){if(r)return!1;for(var t=dt||vt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=_t.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(P._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return P.map(u,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),P.fx.timer(P.extend(A,{elem:e,anim:c,queue:c.opts.queue})),c}P.Animation=P.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,A,c,u,l="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),g=se.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||P.style(e,i)}if((A=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=se.get(e,"display")),"none"===(u=P.css(e,"display"))&&(c?u=c:(we([e],!0),c=e.style.display||c,u=P.css(e,"display"),we([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===P.css(e,"float")&&(A||(d.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),A=!1,h)A||(g?"hidden"in g&&(p=g.hidden):g=se.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&we([e],!0),d.done(function(){for(i in p||we([e]),se.remove(e,"fxshow"),h)P.style(e,i,h[i])})),A=yt(p?g[i]:0,i,d),i in g||(g[i]=A.start,p&&(A.end=A.start,A.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=_t(this,P.extend({},e),o);(r||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=se.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),P.each(["toggle","show","hide"],function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}}),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,gt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,wt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){P.removeAttr(this,e)})}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||P.find.attr;wt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=wt[a],wt[a]=r,r=null!=n(e,t,i)?a:null,wt[a]=o),r}});var kt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[P.propFix[e]||e]})}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return v(e)?this.each(function(t){P(this).addClass(e.call(this,t,Ct(this)))}):(t=Dt(e)).length?this.each(function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}}):this},removeClass:function(e){var t,n,i,r,o,a;return v(e)?this.each(function(t){P(this).removeClass(e.call(this,t,Ct(this)))}):arguments.length?(t=Dt(e)).length?this.each(function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return v(e)?this.each(function(n){P(this).toggleClass(e.call(this,n,Ct(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Dt(e),this.each(function(){if(s)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Ct(this))&&se.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":se.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,function(e){return null==e?"":e+""})),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Et,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],A=a?o+1:r.length;for(i=o<0?A:a?o:0;i<A;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},g.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St=i.location,It={guid:Date.now()},Tt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Mt=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,s,A,c,u,l,d,f=[n||y],p=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),l=P.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!m(n)){for(A=l.delegateType||p,Mt.test(A+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?A:l.bindType||p,(u=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&oe(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!oe(n)||c&&v(n[p])&&!m(n)&&((s=n[c])&&(n[c]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Rt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Rt),P.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each(function(){P.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Nt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,function(t,r){n||Ft.test(e)?i(e,r):jt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==w(t))i(e,t);else for(r in t)jt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,function(){r(this.name,this.value)});else for(n in e)jt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}});var Bt=/%20/g,Vt=/#.*$/,Ht=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Yt={},Gt={},$t="*/".concat("*"),Jt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Gt;function a(s){var A;return r[s]=!0,P.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(A=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),A}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Zt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Jt.href=St.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,P.ajaxSettings),t):Zt(P.ajaxSettings,e)},ajaxPrefilter:qt(Yt),ajaxTransport:qt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,A,c,u,l,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,g=P.Deferred(),v=P.Callbacks("once memory"),m=h.statusCode||{},_={},b={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ut.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),x(0,t),this}};if(g.promise(k),h.url=((e||h.url||St.href)+"").replace(Wt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){A=y.createElement("a");try{A.href=h.url,A.href=A.href,h.crossDomain=Jt.protocol+"//"+Jt.host!=A.protocol+"//"+A.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Kt(Yt,h,t,k),c)return k;for(l in(u=P.event&&h.global)&&0===P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Bt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Tt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ht,"$1"),d=(Tt.test(r)?"&":"?")+"_="+It.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&k.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&k.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||c))return k.abort();if(w="abort",v.add(h.complete),k.done(h.success),k.fail(h.error),n=Kt(Gt,h,t,k)){if(k.readyState=1,u&&p.trigger("ajaxSend",[k,h]),c)return k;h.async&&h.timeout>0&&(s=i.setTimeout(function(){k.abort("timeout")},h.timeout));try{c=!1,n.send(_,x)}catch(e){if(c)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,A){var l,d,y,_,b,w=t;c||(c=!0,s&&i.clearTimeout(s),n=void 0,o=A||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,r,o,a,s=e.contents,A=e.dataTypes;"*"===A[0];)A.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){A.unshift(r);break}if(A[0]in n)o=A[0];else{for(r in n){if(!A[0]||e.converters[r+" "+A[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==A[0]&&A.unshift(o),n[o]}(h,k,a)),!l&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(e,t,n,i){var r,o,a,s,A,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!A&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),A=o,o=u.shift())if("*"===o)o=A;else if("*"!==A&&A!==o){if(!(a=c[A+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[A+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+A+" to "+o}}}return{state:"success",data:t}}(h,_,k,l),l?(h.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=b),(b=k.getResponseHeader("etag"))&&(P.etag[r]=b)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=_.state,d=_.data,l=!(y=_.error))):(y=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(t||w)+"",l?g.resolveWith(f,[d,w,k]):g.rejectWith(f,[k,w,y]),k.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[k,h,l?d:y]),v.fireWith(f,[k,w]),u&&(p.trigger("ajaxComplete",[k,h]),--P.active||P.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],function(e,t){P[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}}),P.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){P(this).wrapInner(e.call(this,t))}):this.each(function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){P(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Qt=P.ajaxSettings.xhr();g.cors=!!Qt&&"withCredentials"in Qt,g.ajax=Qt=!!Qt,P.ajaxTransport(function(e){var t,n;if(g.cors||Qt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),P.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),P.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}});var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+It.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),g.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Me([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Pt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,function(t){return e===t.elem}).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,s,A,c=P.css(e,"position"),u=P(e),l={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=P.css(e,"top"),A=P.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+A).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(A)||0),v(t)&&(t=t.call(e,n,P.extend({},s))),null!=t.top&&(l.top=t.top-s.top+a),null!=t.left&&(l.left=t.left-s.left+r),"using"in t?t.using.call(e,l):u.css(l)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){P.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),P.each(["top","left"],function(e,t){P.cssHooks[t]=et(g.pixelPosition,function(e,n){if(n)return n=Qe(e,t),Je.test(n)?P(e).position()[t]+"px":n})}),P.each({Height:"height",Width:"width"},function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return ee(this,function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,s):P.style(t,n,r,s)},t,a?r:void 0,a)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){P.fn[t]=function(e){return this.on(t,e)}}),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=D,P.isFunction=v,P.isWindow=m,P.camelCase=re,P.type=w,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P})},7151:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{_:()=>i})},7294:(e,t,n)=>{"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{_:()=>i})},1540:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{_:()=>i})},5578:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),A=s.value}catch(e){return void n(e)}s.done?t(A):Promise.resolve(A).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,A,"next",e)}function A(e){i(a,r,o,s,A,"throw",e)}s(void 0)})}}n.d(t,{_:()=>r})},4691:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(9418),r=n(4694),o=n(6073);function a(e,t,n){return t=(0,i._)(t),(0,o._)(e,(0,r._)()?Reflect.construct(t,n||[],(0,i._)(e).constructor):t.apply(e,n))}},9227:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5843);function r(e,t){if(!(0,i._)(e,t))throw new TypeError("Cannot call a class as a function")}},1550:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(4694),r=n(2251);function o(e,t,n){return o=(0,i._)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r._)(o,n.prototype),o},o.apply(null,arguments)}},7424:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{_:()=>r})},5991:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:()=>i})},6905:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(9418);function r(e,t,n){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i._)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},r(e,t,n||e)}},9418:(e,t,n)=>{"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{_:()=>i})},5467:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(2251);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i._)(e,t)}},5843:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5843);function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):(0,i._)(e,t)}},4694:(e,t,n)=>{"use strict";function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}n.d(t,{_:()=>i})},5077:(e,t,n)=>{"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{_:()=>i})},4279:(e,t,n)=>{"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{_:()=>i})},2956:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5991);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){(0,i._)(e,t,n[t])})}return e}},9149:(e,t,n)=>{"use strict";function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{_:()=>i})},6073:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(1540),r=n(9256);function o(e,t){return!t||"object"!==(0,r._)(t)&&"function"!=typeof t?(0,i._)(e):t}},2251:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{_:()=>i})},449:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(7294);var r=n(4279),o=n(6223);function a(e,t){return(0,i._)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||(0,o._)(e,t)||(0,r._)()}},6663:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(7294),r=n(5077),o=n(4279),a=n(6223);function s(e){return(0,i._)(e)||(0,r._)(e)||(0,a._)(e)||(0,o._)()}},4919:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(7151);var r=n(5077);var o=n(6223);function a(e){return function(e){if(Array.isArray(e))return(0,i._)(e)}(e)||(0,r._)(e)||(0,o._)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9256:(e,t,n)=>{"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{_:()=>i})},6223:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(7151);function r(e,t){if(e){if("string"==typeof e)return(0,i._)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i._)(e,t):void 0}}},7582:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>i,XA:()=>r});function i(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(A){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,A])}}}Object.create;function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"==typeof SuppressedError&&SuppressedError}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(7166),n(4227)})());