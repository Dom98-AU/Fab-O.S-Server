!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension"),require("UIExtension").PDFViewCtrl.commons):"function"==typeof define&&define.amd?define(["UIExtension",["UIExtension","PDFViewCtrl","commons"]],t):"object"==typeof exports?exports.Comparison=t(require("UIExtension"),require("UIExtension").PDFViewCtrl.commons):e.Comparison=t(e.UIExtension,e.UIExtension.PDFViewCtrl.commons)}(self,(e,t)=>(()=>{var n={742:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<layer class="center fv__ui-comparison-options-dialog websdk-modal" @var.dialog="$component" style="width: 680px" append-to="body">\n<layer-header\n@draggable="{type: \'parent\'}"\ntitle="comparison:options-dialog.title"\n></layer-header>\n<layer-view class="fv__ui-comparison-dialog-body">\n<div class="fv__ui-layout-row">\n<div class="fv__ui-layout-col-1">\n<fieldset class="fv__ui-comparison-fieldset">\n<legend>comparison:options-dialog.include</legend>\n<div class="fv__ui-comparison-fieldset-content">\n<form-group label="comparison:options-dialog.compareTextOnly" direction="rtl">\n<checkbox  @model="dialog.currentOptions.compareTextOnly" name="compareTextOnly"></checkbox>\n</form-group>\n<form-group label="comparison:options-dialog.compareTable" direction="rtl">\n<checkbox  @model="dialog.currentOptions.compareTable" name="compareTable"></checkbox>\n</form-group>\n<form-group label="comparison:options-dialog.detectPage" direction="rtl">\n<checkbox  @model="dialog.currentOptions.detectPageDeletionsOrInserts" name="detectPageDeletionsOrInserts"></checkbox>\n</form-group>\n</div>\n</fieldset>\n</div>\n<div class="fv__ui-layout-col-1">\n<fieldset class="fv__ui-comparison-fieldset">\n<legend>comparison:options-dialog.markingColor</legend>\n<div class="fv__ui-comparison-fieldset-content">\n<form-group label="comparison:options-dialog.replaceObjects">\n<inline-color-picker name="fv--comparison-options-replace-marking-color" @model="dialog.currentOptions.markingColor.replace|comparison:color"></inline-color-picker>\n</form-group>\n<form-group label="comparison:options-dialog.insertObjects">\n<inline-color-picker name="fv--comparison-options-insert-marking-color" @model="dialog.currentOptions.markingColor.insert|comparison:color"></inline-color-picker>\n</form-group>\n<form-group label="comparison:options-dialog.deleteObjects">\n<inline-color-picker name="fv--comparison-options-delete-marking-color" @model="dialog.currentOptions.markingColor.delete|comparison:color"></inline-color-picker>\n</form-group>\n</div>\n</fieldset>\n</div>\n</div>\n<div class="fv__ui-layout-row">\n<div class="fv__ui-layout-col-1">\n<fieldset class="fv__ui-comparison-fieldset">\n<legend>comparison:options-dialog.opacity</legend>\n<div class="fv__ui-comparison-fieldset-content fv__ui-comparison-options-checkbox-list">\n<form-group label="comparison:options-dialog.replaceObjects">\n<number type="number" min="0" max="100" step="1" suffix="%" @model="dialog.currentOptions.opacity.replace" name="fv--comparison-options-replace-opacity-replace"></number>\n</form-group>\n<form-group label="comparison:options-dialog.insertObjects">\n<number type="number" min="0" max="100" step="1" suffix="%" @model="dialog.currentOptions.opacity.insert" name="fv--comparison-options-replace-opacity-insert"></number>\n</form-group>\n<form-group label="comparison:options-dialog.deleteObjects">\n<number type="number" min="0" max="100" step="1" suffix="%" @model="dialog.currentOptions.opacity.delete" name="fv--comparison-options-replace-opacity-delete"></number>\n</form-group>\n</div>\n</fieldset>\n</div>\n<div class="fv__ui-layout-col-1">\n<fieldset class="fv__ui-comparison-fieldset">\n<legend>comparison:options-dialog.lineThickness</legend>\n<div class="fv__ui-comparison-fieldset-content fv__ui-comparison-options-checkbox-list">\n<form-group label="comparison:options-dialog.replaceObjects">\n<number type="number" min="1" max="12" step="1" @model="dialog.currentOptions.lineThickness.replace"  name="fv--comparison-options-replace-lineThickness-replace"></number>\n</form-group>\n<form-group label="comparison:options-dialog.insertObjects">\n<number type="number" min="1" max="12" step="1" @model="dialog.currentOptions.lineThickness.insert"  name="fv--comparison-options-replace-lineThickness-insert"></number>\n</form-group>\n<form-group label="comparison:options-dialog.deleteObjects">\n<number type="number" min="1" max="12" step="1" @model="dialog.currentOptions.lineThickness.delete"  name="fv--comparison-options-replace-lineThickness-delete"></number>\n</form-group>\n</div>\n</fieldset>\n</div>\n</div>\n</layer-view>\n<div class="fv__ui-comparison-dialog-footer fv__ui-layout-row">\n<div class="fv__ui-layout-col-1">\n<form-group label="comparison:options-dialog.setAsDefault" direction="rtl">\n<checkbox @model="dialog.saveAsDefault"></checkbox>\n</form-group>\n</div>\n<div class="fv__ui-layout-col-1 fv__ui-comparison-footer-buttons">\n<xbutton text="dialog.ok" class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" @on.click="dialog.ok()"></xbutton>\n<xbutton text="dialog.cancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" @on.click="dialog.cancel()" @cannotBeDisabled></xbutton>\n</div>\n</div>\n</layer>'}},331:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-comparison-previewer-wrapper" @var.self="$component">\n<div class="fv__ui-comparison-previewer-content" @init="self.previewerContainer = $component">\n</div>\n<div class="fv__ui-comparison-previewer-controls" name="fv--comparison-previewer-controls">\n<slider\nmin="1"\n@setter.max="self.pageNumbers.length || 2"\nstep="1"\n@on.change="self.previewPage($component.value)"\n@init="self.pageSlider = $component"\nclass="fv__ui-slider-no-input"\n@disable.late="self.pageNumbers.length === 0"\nname="fv--comparison-previewer-page-slider"\n>\n</slider>\n<dropdown\neditable\nname="fv--comparison-previewer-page-dropdown"\n@init="self.pageDropdown = $component"\n@on.change="self.previewPage($component.getEditValue())"\n@disable.late="self.pageNumbers.length === 0"\n>\n<xbutton @foreach="index in self.pageNumbers" @on.click="self.previewPage(index)">@{index}</xbutton>\n</dropdown>\n</div>\n</div>\n'}},706:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-comparison-select-compare-range fv__ui-layout-row" @var.self="$component">\n<form-group tag="div" @setter.label="self.label" class="fv__ui-layout-col-1 fv__ui-layout-row">\n<dropdown\nseparate="false"\nname="fv__ui-comparison-select-range-from"\n@disable="self.pageNumberList.length === 0"\n@init="self.fromDropdown = $component"\n>\n<xbutton\n@foreach="pageNumber in self.pageNumberList"\n@on.click="self.selectFromPageNumber(pageNumber)"\n@setter.text="pageNumber + \'\'"\n></xbutton>\n</dropdown>\n</form-group>\n<form-group tag="div" label="comparison:select-pdf-file.to" class="fv__ui-layout-col-1 fv__ui-layout-row">\n<dropdown\nseparate="false"\nname="fv__ui-comparison-select-range-to"\n@disable="self.pageNumberList.length === 0"\n@init="self.toDropdown = $component"\n>\n<xbutton\n@foreach="pageNumber in self.pageNumberList"\n@on.click="self.selectToPageNumber(pageNumber)"\n@setter.text="pageNumber + \'\'"\n></xbutton>\n</dropdown>\n</form-group>\n</div>'}},660:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<layer class="fv__ui-comparison-select-pdf-file-dialog websdk-modal" append-to="body" backdrop @var.dialog="$component" style="width: 640px" @isolate.strict>\n<layer-header @draggable="{type: \'parent\'}" title="comparison:select-pdf-file.title"></layer-header>\n<layer-view class="fv__ui-comparison-dialog-body">\n<fieldset class="fv__ui-comparison-fieldset">\n<legend>comparison:select-pdf-file.compareFiles</legend>\n<div class="fv__ui-comparison-fieldset-content">\n<div class="fv__ui-layout-row">\n<form-group tag="div" direction="ttb" delimiter="" class="fv__ui-layout-col-4" label="comparison:select-pdf-file.oldFile">\n<comparison:select-pdf-file target="old" name="select-pdf-file-old"></comparison:select-pdf-file>\n<comparison:selected-pdf-previewer target="old" name="select-pdf-previewer-old"></comparison:selected-pdf-previewer>\n</form-group>\n<div class="fv__ui-layout-col-2">\n<i class="fv__ui-comparison-transfer-icon" tabindex="0" @on.click="dialog.transferFiles()" @on.native.keyup="dialog.keyupHandler($event)"></i>\n</div>\n<form-group tag="div" direction="ttb" delimiter="" class="fv__ui-layout-col-4" label="comparison:select-pdf-file.newFile">\n<comparison:select-pdf-file target="new" name="select-pdf-file-new"></comparison:select-pdf-file>\n<comparison:selected-pdf-previewer target="new" name="select-pdf-previewer-new"></comparison:selected-pdf-previewer>\n</form-group>\n</div>\n</div>\n</fieldset>\n<fieldset class="fv__ui-comparison-fieldset fv__ui-comparison-select-compare-range-fieldset">\n<legend>comparison:select-pdf-file.comparePageRange</legend>\n<div class="fv__ui-comparison-fieldset-content">\n<comparison:select-compare-range target="old" name="select-compare-range-old"></comparison:select-compare-range>\n<comparison:select-compare-range target="new" name="select-compare-range-new"></comparison:select-compare-range>\n<comparison:options-dialog name="fv--comparison-options-dialog"></comparison:options-dialog>\n</div>\n</fieldset>\n</layer-view>\n<div class="fv__ui-comparison-dialog-footer fv__ui-layout-row">\n<div class="fv__ui-layout-col-1">\n<xbutton class="fv__ui-dialog-ok-button" name="select-pdf-file-options" text="comparison:select-pdf-file.options" @on.click="dialog.showOptionsDialog()" @disable="!dialog.selectedBothFiles"></xbutton>\n</div>\n<div class="fv__ui-layout-col-1 fv__ui-comparison-footer-buttons">\n<xbutton text="dialog.ok" class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" @on.click="dialog.ok()" @disable="!dialog.selectedBothFiles"></xbutton>\n<xbutton text="dialog.cancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" @on.click="dialog.hide()" @cannotBeDisabled></xbutton>\n</div>\n</div>\n</layer>'}},280:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-layout-row fv__ui-comparison-pdf-file-selector" @var.self="$component">\n<dropdown separate="false" class="fv__ui-comparison-pdf-file-selector-dropdown" name="fv--comparison-file-selector-dropdown" @init="self.fileListDropdown = $component">\n<xbutton\n@foreach="record in self.allSelectableFiles track by id"\n@sync.attr.record-id="record.id"\n@on.click="self.onSelectFileRecord(record)"\n@setter.text="record.filename||record.doc.metadata.Title"\n></xbutton>\n</dropdown>\n<file-selector text="comparison:select-pdf-file.choose" name="fv--comparison-file-selector" @on.change="self.onSelectedLocalFile($args[0])" accept=".pdf"></file-selector>\n</div>'}},983:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<layer class="fv__ui-comparison-legend-layer" @var.self="$component">\n<header class="fv__ui-layout-row fv__ui-comparison-legend-header" name="fv__ui-comparison-legend-header">\n<h2 class="fv__ui-layer-col-1 fv__ui-comparison-legend-title">comparison:toolbar.legend</h2>\n<button class="fv__ui-layer-col-1 fv__ui-comparison-legend-close-btn" @on.native.click="self.onClickCloseBtn()"></button>\n</header>\n<dl class="fv__ui-comparison-legend-item fv__ui-comparison-legend-replace-item" name="fv__ui-comparison-legend-replace-item">\n<dt @attr.style="\'text-decoration-color: \'+self.replaceColor">ABC</dt>\n<dd>comparison:toolbar.replace</dd>\n</dl>\n<dl class="fv__ui-comparison-legend-item fv__ui-comparison-legend-insert-item" name="fv__ui-comparison-legend-insert-item">\n<dt @attr.style="\'text-decoration-color: \'+self.insertColor">ABC<span class="fv__ui-comparison-legend-item-insert-mark" @attr.style="\'color: \'+self.insertColor"></span></dt>\n<dd>comparison:toolbar.insert</dd>\n</dl>\n<dl class="fv__ui-comparison-legend-item fv__ui-comparison-legend-delete-item" name="fv__ui-comparison-legend-delete-item">\n<dt @attr.style="\'text-decoration-color: \'+self.deleteColor">ABC<span class="fv__ui-comparison-legend-item-delete-mark" @attr.style="\'color: \'+self.deleteColor"></span></dt>\n<dd>comparison:toolbar.delete</dd>\n</dl>\n</layer>'}},972:e=>{e.exports=null},585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(o),i=/["&'<>]/;function s(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?s(e.call(e)):JSON.stringify(e)),e}r.$escape=function(e){return function(e){var t=""+e,n=i.exec(t);if(!n)return e;var o="",r=void 0,s=void 0,a=void 0;for(r=n.index,s=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}s!==r&&(o+=t.substring(s,r)),s=r+1,o+=a}return s!==r?o+t.substring(s,r):o}(s(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=r},779:(e,t,n)=>{"use strict";e.exports=n(585)},616:t=>{"use strict";t.exports=e},732:e=>{"use strict";e.exports=t}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e(t)}function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function n(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function o(o,r,i){return r=e(r),n(o,t()?Reflect.construct(r,i||[],e(o).constructor):r.apply(o,i))}function s(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):s(e,t)}function a(e,t){if(!s(e,t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}r.d(i,{default:()=>Me});var d=r(616),f=d.PDFUI,m=d.UIXAddon,h=d.SeniorComponentFactory,v=d.modular,g=(d.ServiceScope,d.Directive),b=d.Controller,y=(d.Component,d.ContainerComponent,d.UIEvents),w=d.UIConsts,k=d.shared,S=(k.keyboardStatus,k.attachContextMenuEvent,d.PDFViewCtrl),F=S.PDFViewer,C=S.ViewerEvents,D=(S.DeviceInfo,S.BrowserInfo,S.storage.StorageFeature),_=S.shared,x=_.Disposable,O=_.Store,P=_.ValueStore,I=(_.debounce,_.observeResize,_.throttle,_.Draggable,_.browser,_.DebounceAsyncTaskExecutor,_.ThrottleAsyncTaskExecutor,_.QueuedAsyncTaskExecutor,_.BuiltinIntersectionObserver,_.FileFormat,_.Color),N=_.download,j=(_.securityEncryptType,_.securityUtils,S.Log.LoggerFactory,S.collab.COLLABORATION_ACTION,S.vendors.Hammer,S.PDF.DataEvents,S.Consts.PDFDocPermission,S.keyboard),T=(j.BuiltinShortcutCommand,j.BuiltinShortcutContext,j.KeyboardUtils,S.keyboard.KeyboardUtils),R=T.matchers,H=T.isMatch,A=R.Enter,E=R.Escape,B=S._internal.shared,L=(B.IoCScope,B.Lazy,B.attachKeypressEvent),V=r(972),U=r.n(V);function $(e,t,n,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,r)}function M(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){$(i,o,r,s,a,"next",e)}function a(e){$(i,o,r,s,a,"throw",e)}s(void 0)})}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(t,n,o){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,o){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=e(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(o||t):i.value}},q(t,n,o||t)}function z(e,t){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var G=v.module("comparison",[]),W=r(660),K=r.n(W),X=r(280),Q=r.n(X),Y=function(e){return e.new="new",e.old="old",e}({}),Z=function(){function e(){a(this,e),J(this,"viewer",void 0),J(this,"pdfui",void 0),J(this,"selectedNewFileStore",new P),J(this,"selectedOldFileStore",new P),J(this,"allSelectableFiles",new P([]))}return l(e,[{key:"allInjected",value:function(){var e=this,t=this.viewer.customs.closeDocBefore;this.viewer.customs.closeDocBefore=function(n,o){return e.allSelectableFiles.getCurrentValue().some(function(e){return e.doc===n})&&(o.destroyCurrentDoc=!1),"function"!=typeof t||t()}}},{key:"addNewFileFile",value:function(e,t,n){var o=this;if(!("application/pdf"===e.type))return this.pdfui.alert({message:"alert.incorrect-filetype",level:"error"});for(var r=t,i=e.size,s=this.allSelectableFiles.getCurrentValue(),a=0;a<s.length;a++){var c=s[a].doc;if(!c.isDocModified()&&c.info.fileName===r&&c.info.fileSize===i&&c.isOwner())return void this.selectFile(c.info.id,n)}this.pdfui.loadPDFDocByFile(e,{fileName:t}).then(function(e){if(e){var r={doc:e,filename:t,id:e.id};s.push(r),o.allSelectableFiles.dispatch(s),o.selectFile(r.id,n)}})}},{key:"addCurrentOpeningFile",value:function(){var e=this.viewer.getCurrentPDFDoc();if(e&&!e.isCompareDoc()){var t=e.id,n=e.getFileName();if(this.getFileRecordById(t))this.selectFile(t,Y.old);else{var o=this.allSelectableFiles.getCurrentValue(),r={doc:e,filename:n,id:t};o.push(r),this.allSelectableFiles.dispatch(o),this.selectFile(t,Y.old)}}}},{key:"unselectFile",value:function(e){switch(e){case Y.new:this.selectedNewFileStore.dispatch(void 0);break;case Y.old:this.selectedOldFileStore.dispatch(void 0);break;default:throw new Error("Unknown file type: ".concat(e))}}},{key:"selectFile",value:function(e,t){var n=this.getFileRecordById(e);if(!n)throw new Error("File record not found by id: ".concat(e));switch(t){case Y.new:this.selectedNewFileStore.dispatch(n);break;case Y.old:this.selectedOldFileStore.dispatch(n);break;default:throw new Error("Unknown file type: ".concat(t))}}},{key:"getFileRecordById",value:function(e){return this.allSelectableFiles.getCurrentValue().find(function(t){return t.id===e})}},{key:"getSelectedFileRecordByTarget",value:function(e){return e===Y.new?this.selectedNewFileStore.getCurrentValue():e===Y.old?this.selectedOldFileStore.getCurrentValue():void 0}},{key:"onFileListChange",value:function(e){return this.allSelectableFiles.subscribe(function(t){return e(t)})}},{key:"onSelectNewFile",value:function(e){return this.selectedNewFileStore.subscribe(function(t){return e(t)})}},{key:"transferFiles",value:function(){var e=this.selectedNewFileStore.getCurrentValue(),t=this.selectedOldFileStore.getCurrentValue();e?this.selectFile(e.id,Y.old):this.selectedOldFileStore.dispatch(void 0),t?this.selectFile(t.id,Y.new):this.selectedNewFileStore.dispatch(void 0)}},{key:"onSelectOldFile",value:function(e){return this.selectedOldFileStore.subscribe(function(t){return e(t)})}},{key:"onSelectFile",value:function(e,t){if(e===Y.new)return this.onSelectNewFile(t);if(e===Y.old)return this.onSelectOldFile(t);throw new Error("[comparison:SelectPDFFileService]Incorrect target: ".concat(e))}},{key:"getFileNameOfRecord",value:function(e,t){var n,o,r;return e.filename||(null===(n=e.doc)||void 0===n?void 0:n.getFileName())||(null===(r=e.doc)||void 0===r||null===(o=r.metadata)||void 0===o?void 0:o.Title)+".pdf"||0}}],[{key:"inject",value:function(){return{viewer:F,pdfui:f}}}]),e}(),ee=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"selectFileService",void 0),J(e,"allSelectableFiles",[]),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.selectFileService.onFileListChange(function(e){t.allSelectableFiles=e,t.digest()}),this.selectFileService.onSelectFile(this.target,function(e){if(!e)return t.fileListDropdown.unselect();var n=t.allSelectableFiles.indexOf(e),o=n>-1?t.fileListDropdown.childAt(n):void 0;o?t.fileListDropdown.select(o):t.fileListDropdown.unselect()}))}},{key:"onSelectFileRecord",value:function(e){this.selectFileService.selectFile(e.id,this.target)}},{key:"onSelectedLocalFile",value:function(e){this.selectFileService.addNewFileFile(e,e.name,this.target)}}],[{key:"getName",value:function(){return"select-pdf-file"}},{key:"inject",value:function(){return{selectFileService:Z}}},{key:"getMetadata",value:function(){return{options:{target:{type:"enum",enums:[Y.new,Y.old],required:!0}}}}}]),n}(h.createSuperClass({template:Q()()}));G.registerComponent(ee);var te=r(706),ne=r.n(te),oe=function(){function e(t,n){a(this,e),J(this,"from",void 0),J(this,"end",void 0),this.from=t,this.end=n}return l(e,[{key:"setFromPageNumber",value:function(e){return!(e>this.end)&&(this.from=e,!0)}},{key:"setToPageNumber",value:function(e){return!(e<this.from)&&(this.end=e,!0)}},{key:"toJSON",value:function(){return{from:this.from,end:this.end}}}]),e}(),re=function(){function e(){a(this,e),J(this,"oldFileRange",new oe(1,1)),J(this,"newFileRange",new oe(1,1))}return l(e,[{key:"setFromPageNumber",value:function(e,t){var n=this.getRange(e);return!(t>n.end)&&(n.setFromPageNumber(t),!0)}},{key:"setToPageNumber",value:function(e,t){var n=this.getRange(e);return!(t<n.from)&&(n.setToPageNumber(t),!0)}},{key:"getRangeData",value:function(e){return this.getRange(e).toJSON()}},{key:"getRange",value:function(e){if(e===Y.new)return this.newFileRange;if(e===Y.old)return this.oldFileRange;throw new Error("Incorrect file target： ".concat(e,", It must be one of The ['new', 'old']"))}}]),e}(),ie=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"rangeService",void 0),J(e,"selectFileService",void 0),J(e,"pageNumberList",[]),J(e,"fromDropdown",void 0),J(e,"toDropdown",void 0),e}return p(n,t),l(n,[{key:"init",value:function(){q(e(n.prototype),"init",this).call(this),this.label="comparison:select-pdf-file.".concat(this.target,"File")}},{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.selectFileService.onSelectFile(this.target,function(e){if(!e)return t.resetRange();t.fromDropdown.enable(),t.toDropdown.enable(),e.doc?t.pageNumberList=Array(e.doc.getPageCount()).fill(0).map(function(e,t){return t+1}):t.pageNumberList=[],t.digest(),t.selectFromPageNumber(1),t.selectToPageNumber(t.pageNumberList.length||1)}))}},{key:"resetRange",value:function(){this.fromDropdown.disable(),this.fromDropdown.setText(""),this.toDropdown.disable(),this.toDropdown.setText("")}},{key:"selectFromPageNumber",value:function(e){var t=e-1;if(this.rangeService.setFromPageNumber(this.target,t)){if(this.fromDropdown){var n=this.fromDropdown.childAt(t);n&&this.fromDropdown.select(n)}}else this.getPDFUI().alert("comparison:select-pdf-file.rangeError")}},{key:"selectToPageNumber",value:function(e){var t=e-1;if(this.rangeService.setToPageNumber(this.target,t)){if(this.toDropdown){var n=this.toDropdown.childAt(t);n&&this.toDropdown.select(n)}}else this.getPDFUI().alert("comparison:select-pdf-file.rangeError")}}],[{key:"getName",value:function(){return"select-compare-range"}},{key:"getMetadata",value:function(){return{options:{target:{type:"enum",enums:["new","old"],required:!0}}}}},{key:"inject",value:function(){return{rangeService:re,selectFileService:Z}}}]),n}(h.createSuperClass({template:ne()()}));G.registerComponent(ie);var se=r(331),ae=r.n(se),ce=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"selectPDFFileService",void 0),J(e,"previewerContainer",void 0),J(e,"pageDropdown",void 0),J(e,"pageSlider",void 0),J(e,"pageNumbers",[]),J(e,"currentPageNumber",1),e}return p(n,t),l(n,[{key:"setFile",value:function(e){if(!e)return this.pageNumbers=[],this.currentPageNumber=1,this.pageDropdown.setMaxValue(0),this.previewerContainer.element.clear(),void this.digest();var t=e.doc.getPageCount();this.currentPageNumber>t&&(this.currentPageNumber=t),this.pageNumbers=Array(t).fill(0).map(function(e,t){return t+1}),this.pageDropdown.setMaxValue(t),this.digest(),this.previewPage(1)}},{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this);this.addDestroyHook(this.selectPDFFileService.onSelectFile(this.target,function(e){t.setFile(e)}))}},{key:"previewPage",value:function(e){var t=e-1,n=this.selectPDFFileService.getSelectedFileRecordByTarget(this.target);if(n){this.pageDropdown.select(this.pageDropdown.childAt(t)),this.pageDropdown.setEditValue(e),this.pageSlider.setValue(e);var o=this.previewerContainer.element,r=getComputedStyle(o),i=o.clientWidth-le(r.paddingLeft)-le(r.paddingRight)-le(r.borderLeftWidth)-le(r.borderRightWidth),s=o.clientHeight-le(r.paddingTop)-le(r.paddingBottom)-le(r.borderTopWidth)-le(r.borderBottomWidth);return n.doc.loadThumbnail({pageIndex:t,width:i,height:s,type:"image"}).then(function(e){o.clear(),o.appendChild(e)})}}}],[{key:"getName",value:function(){return"selected-pdf-previewer"}},{key:"getMetadata",value:function(){return{options:{target:{type:"enum",enums:[Y.old,Y.new],required:!0}}}}},{key:"inject",value:function(){return{selectPDFFileService:Z}}}]),n}(h.createSuperClass({template:ae()(),fragments:[{target:"fv--comparison-previewer-page-dropdown",config:{editOptions:{type:"number",min:1,step:1}}}]}));function le(e){return parseFloat(e)||0}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){J(e,t,n[t])})}return e}function pe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}G.registerComponent(ce);var de="comparison",fe=r(732),me="comparison-default-options",he=function(){function e(){a(this,e),J(this,"defaultOptions",void 0),J(this,"currentOptionsStore",void 0),J(this,"viewer",void 0),J(this,"storage",void 0),J(this,"initDefer",(0,fe.createDeferred)())}return l(e,[{key:"allInjected",value:function(){var e=this;this.storage=this.viewer.getStorage(),this.defaultOptions=new fe.ValueStore,this.currentOptionsStore=new fe.ValueStore,this.defaultOptions.dispatch(m.getAddonInfoByName(de).options["default-compare-options"]),this.storage.get(D.COMPARISON,me).then(function(t){e.defaultOptions.dispatch(t||e.defaultOptions.getCurrentValue()),e.currentOptionsStore.dispatch(e.defaultOptions.getCurrentValue()),e.initDefer.resolve()})}},{key:"waitFotInitialization",value:function(){return this.initDefer.promise}},{key:"saveAsDefaultOptions",value:function(e){this.defaultOptions.dispatch(e),this.storage.set(D.COMPARISON,me,e)}},{key:"getDefaultOptions",value:function(){return this.copyCompareOptions(this.defaultOptions.getCurrentValue())}},{key:"onDefaultOptionsChange",value:function(e){return this.defaultOptions.subscribe(function(t){return e(t)})}},{key:"updateCurrentOption",value:function(e){this.currentOptionsStore.dispatch(e)}},{key:"resetOptions",value:function(){this.currentOptionsStore.dispatch(this.currentOptionsStore.getCurrentValue())}},{key:"onUpdateCurrentOptions",value:function(e){return this.currentOptionsStore.subscribe(function(t){return e(t)})}},{key:"getCurrentOptions",value:function(){return this.currentOptionsStore.getCurrentValue()}},{key:"copyCompareOptions",value:function(e){return pe(ue({},e),{markingColor:ue({},e.markingColor),opacity:ue({},e.opacity),lineThickness:ue({},e.lineThickness)})}}],[{key:"inject",value:function(){return{viewer:F}}}]),e}(),ve=function(e){return e.start="start",e.processing="processing",e.end="end",e.failed="failed",e}({}),ge=function(){function e(){a(this,e),J(this,"viewer",void 0),J(this,"selectPDFFileService",void 0),J(this,"compareOptionsService",void 0),J(this,"compareRangeService",void 0),J(this,"compareStatusStore",new P)}return l(e,[{key:"compare",value:function(e){return M(function(){var t,n,o,r,i,s,a,c,l,u,p,d;return z(this,function(f){switch(f.label){case 0:return t=this,be("Old file not selected!",n=this.selectPDFFileService.getSelectedFileRecordByTarget(Y.old)),be("New file not selected!",o=this.selectPDFFileService.getSelectedFileRecordByTarget(Y.new)),r=this.compareOptionsService.getCurrentOptions(),i=this.compareRangeService.getRangeData(Y.old),s=this.compareRangeService.getRangeData(Y.new),a=this.viewer.getBuiltInComparisonStringResource(),[4,this.viewer.loadBuiltinComparisonTemplates()];case 1:c=f.sent(),l=c.newTemplateId,u=c.oldTemplateId,f.label=2;case 2:return f.trys.push([2,4,,5]),[4,n.doc.compareWith(o.doc,{basePageRange:i,otherPageRange:s,stringResource:a,baseFileName:this.selectPDFFileService.getFileNameOfRecord(n,Y.old),otherFileName:this.selectPDFFileService.getFileNameOfRecord(o,Y.new),resultFileName:this.viewer.i18n.t("comparison:resultFileName")||"The result of comparison.pdf",newTemplateId:l,oldTemplateId:u,options:{textOnly:r.compareTextOnly,detectPage:r.detectPageDeletionsOrInserts,compareTable:r.compareTable,markingColor:r.markingColor,lineThickness:r.lineThickness,opacity:r.opacity}},function(n){"function"==typeof e&&e(n);var o=ve.processing;0===n&&(o=ve.start),t.compareStatusStore.dispatch({rate:n,status:o})})];case 3:return p=f.sent(),this.compareStatusStore.dispatch({status:ve.end,doc:p}),[2,p];case 4:throw d=f.sent(),this.compareStatusStore.dispatch({error:d,status:ve.failed}),d;case 5:return[2]}})}).call(this)}},{key:"onProgress",value:function(e){return this.compareStatusStore.subscribe(function(t){return e(t)})}},{key:"hasPermission",value:function(e){if(!e)return!1;var t=e.getPermissionsSync();return t>=4294967292||4294967295===t}},{key:"checkPersmission",value:function(){var e=this.selectPDFFileService.getSelectedFileRecordByTarget(Y.old);if(be("Old file not selected!",e),!this.hasPermission(e.doc))return!1;var t=this.selectPDFFileService.getSelectedFileRecordByTarget(Y.new);return be("New file not selected!",t),!!this.hasPermission(t.doc)}}],[{key:"inject",value:function(){return{viewer:F,selectPDFFileService:Z,compareOptionsService:he,compareRangeService:re}}}]),e}();function be(e,t){if(null==t)throw new Error(e)}var ye=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"viewer",void 0),J(e,"pdfui",void 0),J(e,"selectFileService",void 0),J(e,"compareService",void 0),J(e,"compareRangeService",void 0),J(e,"selectedBothFiles",!1),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this);var o=function(){var e=t.selectFileService.getSelectedFileRecordByTarget(Y.new),n=t.selectFileService.getSelectedFileRecordByTarget(Y.old);t.selectedBothFiles=!!e&&!!n&&e!==n,t.digest()};this.addDestroyHook(this.selectFileService.onSelectFile(Y.new,o),this.selectFileService.onSelectFile(Y.old,o),L(this.element,function(e){t.hide()},E))}},{key:"ok",value:function(){return M(function(){var e,t,n,o,r,i,s,a,c;return z(this,function(l){switch(l.label){case 0:return e=this.checkPageRange(),t=e.checkPassed,n=e.message,t?[4,this.getPDFUI().getCurrentPDFDoc()]:[2,this.getPDFUI().alert(n)];case 1:return o=l.sent(),this.compareService.checkPersmission()?(this.hide(),[4,this.pdfui.loading()]):[2,this.getPDFUI().alert("comparison:permissionError")];case 2:r=l.sent(),i=(null==o?void 0:o.docModified)||!1,l.label=3;case 3:return l.trys.push([3,,15,16]),[4,this.compareService.compare()];case 4:return[4,(s=l.sent()).getFile({})];case 5:return a=l.sent(),r.close(),i?[4,this.getPDFUI().$confirm({message:"comparison:openFileTips",level:"prompt",customBtns:[{id:"open",text:"comparison:open"},{id:"download",text:"ui_:toolbar:buttons:download"}]})]:[3,10];case 6:return"open"!==(c=l.sent())?[3,9]:[4,this.pdfui.close(void 0,void 0,{destroyCurrentDoc:!1})];case 7:return l.sent(),[4,this.pdfui.openPDFByFile(a)];case 8:l.sent(),l.label=9;case 9:return"download"===c&&N(a,s.info.fileName),[3,14];case 10:return o?[4,this.pdfui.close(void 0,void 0,{destroyCurrentDoc:!1})]:[3,12];case 11:l.sent(),l.label=12;case 12:return[4,this.pdfui.openPDFByFile(a)];case 13:l.sent(),l.label=14;case 14:return[3,16];case 15:return r.close(),[7];case 16:return[2]}})}).call(this)}},{key:"checkPageRange",value:function(){var e,t,n={checkPassed:!0,message:""},o=this.compareRangeService.getRangeData(Y.old),r=this.compareRangeService.getRangeData(Y.new),i=null===(e=this.selectFileService.getSelectedFileRecordByTarget(Y.old))||void 0===e?void 0:e.doc,s=null===(t=this.selectFileService.getSelectedFileRecordByTarget(Y.new))||void 0===t?void 0:t.doc,a=0===o.from&&o.end===i.info.pageCount-1,c=0===r.from&&r.end===s.info.pageCount-1;a&&c||o.end-o.from+1!==r.end-r.from+1&&(n={checkPassed:!1,message:"comparison:select-pdf-file.selectSameNumber"});return n}},{key:"transferFiles",value:function(){this.selectFileService.transferFiles()}},{key:"doShown",value:function(){q(e(n.prototype),"doShown",this).call(this),this.resetRange(),0!==this.element.offsetWidth&&(this.element.style.cssText+="\n            left: calc(50vw - ".concat(this.element.offsetWidth/2,"px);\n            top: calc(50vh - ").concat(this.element.offsetHeight/2,"px);\n        "))}},{key:"resetRange",value:function(){var e=this.selectFileService.getSelectedFileRecordByTarget(Y.old);e&&this.selectFileService.selectFile(e.id,Y.old)}},{key:"showOptionsDialog",value:function(){var e=this.getRoot().querySelectorAll("@comparison:options-dialog");if(0===e.length)throw new Error("Failed to open dialog: <comparison:options-dialog>, Please make sure the component is in the layout template.");if(e.length>1)throw new Error("Failed to open dialog: <comparison:options-dialog>， Please make sure there is only one in the layout template");e[0].show()}},{key:"keyupHandler",value:function(e){H(e,A)&&this.transferFiles()}}],[{key:"getName",value:function(){return"select-pdf-file-dialog"}},{key:"inject",value:function(){return{viewer:F,pdfui:f,selectFileService:Z,compareService:ge,compareRangeService:re}}}]),n}(h.createSuperClass({template:K()()}));G.registerComponent(ye);var we=r(742),ke=r.n(we),Se=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"optionsService",void 0),J(e,"currentOptions",void 0),J(e,"saveAsDefault",!0),e}return p(n,t),l(n,[{key:"allInjected",value:function(){this.currentOptions=this.optionsService.copyCompareOptions(this.optionsService.getDefaultOptions())}},{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.optionsService.onUpdateCurrentOptions(function(e){t.currentOptions=t.optionsService.copyCompareOptions(e),t.digest()}),L(this.element,function(e){t.hide()},E))}},{key:"ok",value:function(){this.optionsService.updateCurrentOption(this.currentOptions),this.saveAsDefault&&this.optionsService.saveAsDefaultOptions(this.currentOptions),this.hide()}},{key:"doShown",value:function(){q(e(n.prototype),"doShown",this).call(this),this.optionsService.updateCurrentOption(this.optionsService.getDefaultOptions())}},{key:"cancel",value:function(){this.resetOptions(),this.hide()}},{key:"close",value:function(){this.cancel()}},{key:"resetOptions",value:function(){this.optionsService.resetOptions()}}],[{key:"getName",value:function(){return"options-dialog"}},{key:"inject",value:function(){return{optionsService:he}}}]),n}(h.createSuperClass({template:ke()()}));G.pipe("color",function(){return function(e){return"number"==typeof e?I.fromRGB(e):e&&"function"==typeof e.toRGB?e.toRGB():e}}),G.registerComponent(Se);var Fe=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"selectFileService",void 0),e}return p(n,t),l(n,[{key:"handle",value:function(){var e=this.component.getRoot().querySelectorAll("@comparison:select-pdf-file-dialog");if(0===e.length)throw new Error("The `<comparison:select-pdf-file-dialog> ` should be added into your layout template");if(e.length>1)throw new Error("Found more than one of `<comparison:select-pdf-file-dialog>`. Please check if the component has been added repeatedly");e[0].show(),this.selectFileService.addCurrentOpeningFile(),this.selectFileService.unselectFile(Y.new)}},{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this);var o=this.getPDFUI(),r=function(){return M(function(){var e;return z(this,function(t){switch(t.label){case 0:return[4,o.getCurrentPDFDoc()];case 1:return(e=t.sent())?(e.isDynamicXFA()?this.component.disable():this.component.enable(),[2]):[2]}})}).call(t)};this.addDestroyHook(o.addViewerEventListener(C.openFileSuccess,function(){r()})),r()}}],[{key:"getName",value:function(){return"ShowCompareFileDialogButtonController"}},{key:"inject",value:function(){return{selectFileService:Z,viewer:F}}}]),n}(b);function Ce(){}G.registerController(Fe),G.registerFragment("show-compare-dialog-button",{template:'\n        <ribbon-button\n                name="view-compare-button"\n                icon-class="fv__icon-comparison-compare"\n                class="fv__ui-toolbar-show-text-button"\n                @tooltip\n                tooltip-title="comparison:toolbar.compareBtnToolTip"\n                @controller="comparison:ShowCompareFileDialogButtonController"\n            >comparison:toolbar.compareBtnText</ribbon-button>\n    '}),G.registerPreConfiguredComponent("tab",{template:'\n        <gtab\n             name="comparison-tab"\n             group="toolbar-tab"\n             body="fv--comparison-tab-body"\n             text="comparison:toolbar.compareResultTabTitle"\n             visible="false"\n             @aria:toolbar.tab\n             @collab-unsupported\n             @hide-on-sr\n             @comparison:comparison-actions="show,active"\n        ></gtab>\n    '});var De={Text:1,Images:2,Annotation:3,Formatting:4,Everything:0},_e={Annotation:!1,Formatting:!1,Images:!0,Text:!0,Everything:!1},xe="open-compare-doc",Oe="filter-options-updated",Pe="show-hide-results",Ie="jumped-to-summary-page",Ne="show-legend-layer",je="Everything",Te=function(e){function t(){var e;return a(this,t),J(e=o(this,t,arguments),"pdfui",void 0),J(e,"viewer",void 0),J(e,"currentDoc",void 0),J(e,"currentPageIndex",void 0),J(e,"currentAnnotIndex",void 0),J(e,"subjects",new O),J(e,"filterOptions",Object.assign({},_e)),J(e,"unmark",Ce),J(e,"compareFilterNums",{Annotation:0,Formatting:0,Images:0,Text:0}),e}return p(t,e),l(t,[{key:"allInjected",value:function(){var e,t=this,n=function(e){return M(function(){var t;return z(this,function(n){switch(n.label){case 0:return this.currentPageIndex=void 0,this.currentAnnotIndex=void 0,e&&e.isCompareDoc()?[3,1]:(this.currentDoc=void 0,this.subjects.dispatch(xe,!1),this.dispatchJumpChange(),this.toggleLegend(!1),[2]);case 1:return this.currentDoc=e,this.subjects.dispatch(Pe,!0),[4,e.getComparisonFilterCountSummary()];case 2:t=n.sent(),this.compareFilterNums=Object.assign({},t),this.updateFilterOptions(Object.assign({},_e)),this.subjects.dispatch(xe,!0),this.dispatchJumpChange(),this.toggleLegend(!0),this.setFilterCheckboxstatue(),n.label=3;case 3:return[2]}})}).call(t)};this.pdfui.getCurrentPDFDoc().then(function(e){e&&n(e)}),this.addDestroyHook(this.pdfui.addViewerEventListener((J(e={},C.renderFileSuccess,function(e){return n(e)}),J(e,C.willCloseDocument,function(){t.currentDoc=void 0,t.unmark()}),J(e,C.layerVisibleChange,function(e){var n=e.id,o=e.visible;for(var r in De)if(De[r]===Number(n)&&r!==je){t.filterOptions[r]=o,t.subjects.dispatch(Oe,t.filterOptions);break}}),J(e,C.pageNumberChange,function(e){t.currentIsCompareDoc()&&t.subjects.dispatch(Ie,e<=2)}),J(e,C.zoomToSuccess,function(){t.isShowMark()&&t.activeAnnot(!1)}),e)))}},{key:"toggleShowHideResult",value:function(){var e=this.isShowResult();this.subjects.dispatch(Pe,!e);var t=this.viewer.getPDFDocRender(),n=!this.isShowResult();return!!t&&(t.hideMarkup(n,!0),!n)}},{key:"isShowResult",value:function(){return this.subjects.getCurrentValue(Pe,!0)}},{key:"onShowHideChange",value:function(e){return this.subjects.subscribe(Pe,function(t){return e(t)})}},{key:"updateFilterOptions",value:function(e){if("boolean"==typeof e.Everything){if(e.Everything!==this.filterOptions.Everything)for(var t in this.filterOptions){var n=this.filterOptions[t]!==e.Everything;this.filterOptions[t]=e.Everything,n&&t!==je&&this.emitFilterOptionChange(t,this.filterOptions[t])}else for(var o in this.filterOptions)if(o!==je){var r=this.filterOptions[o]!==e[o];this.filterOptions[o]=e[o],r&&this.emitFilterOptionChange(o,this.filterOptions[o])}}else{for(var i in e){var s=this.filterOptions[i]!==e[i];this.filterOptions[i]=e[i],s&&this.emitFilterOptionChange(i,this.filterOptions[i])}var a=Object.entries(this.filterOptions).every(function(e){return e[0]===je||e[1]});this.filterOptions.Everything=a}this.subjects.dispatch(Oe,this.filterOptions)}},{key:"emitFilterOptionChange",value:function(e,t){var n=De[e];this.pdfui.eventEmitter.emit(y.compareFilterChange,{id:n,checked:t})}},{key:"currentIsCompareDoc",value:function(){return!!this.currentDoc&&this.currentDoc.isCompareDoc()}},{key:"isFilterOptionOn",value:function(e){return this.filterOptions[e]}},{key:"onOpenCompareDoc",value:function(e){return this.subjects.subscribe(xe,function(t){return e(t)})}},{key:"onFilterOptionsUpdated",value:function(e){return this.subjects.subscribe(Oe,function(t){return e(t)})}},{key:"onJumpedToSummaryPage",value:function(e){return this.subjects.subscribe(Ie,function(t){return e(t)})}},{key:"jumpToSummaryPage",value:function(){return M(function(){return z(this,function(e){switch(e.label){case 0:return this.currentIsCompareDoc()?[4,this.viewer.goToPage(0,0,0,!1)]:[2];case 1:return[2,e.sent()]}})}).call(this)}},{key:"isLegendVisible",value:function(){return this.subjects.getCurrentValue(Ne,this.currentIsCompareDoc())}},{key:"toggleLegend",value:function(){return M(function(){var e,t,n,o=arguments;return z(this,function(r){switch(r.label){case 0:return(e=o.length>0&&void 0!==o[0]?o[0]:!this.isLegendVisible())?[4,this.pdfui.getRootComponent()]:[3,4];case 1:return t=r.sent(),[3,3];case 2:(n=r.sent()).querySelector("@comparison:legend-layer")||n.append("<comparison:legend-layer></comparison:legend-layer>"),r.label=3;case 3:t.querySelector("@comparison:legend-layer"),r.label=4;case 4:return this.subjects.dispatch(Ne,e),[2]}})}).apply(this,arguments)}},{key:"onShowLegend",value:function(e){return this.subjects.subscribe(Ne,function(t){return e(t)})}},{key:"getCompareFilterNums",value:function(){return Object.assign({},this.compareFilterNums)}},{key:"hasNextChange",value:function(){return M(function(){return z(this,function(e){switch(e.label){case 0:return[4,this.getNextChangeOfDirection(this.currentPageIndex,this.currentAnnotIndex,1)];case 1:return[2,!!e.sent().annot]}})}).call(this)}},{key:"hasPreviousChange",value:function(){return M(function(){return z(this,function(e){switch(e.label){case 0:return[4,this.getNextChangeOfDirection(this.currentPageIndex,this.currentAnnotIndex,-1)];case 1:return[2,!!e.sent().annot]}})}).call(this)}},{key:"onJumpChanges",value:function(e){return this.subjects.subscribe("",function(){return e()})}},{key:"nextChange",value:function(){return M(function(){var e,t,n;return z(this,function(o){switch(o.label){case 0:return[4,this.getNextChangeOfDirection(this.currentPageIndex,this.currentAnnotIndex,1)];case 1:return e=o.sent(),t=e.currentPageIndex,n=e.currentAnnotIndex,e.annot?(this.currentPageIndex=t,this.currentAnnotIndex=n,this.dispatchJumpChange(),[4,this.activeAnnot()]):[2];case 2:return o.sent(),[2]}})}).call(this)}},{key:"previousChange",value:function(){return M(function(){var e,t,n;return z(this,function(o){switch(o.label){case 0:return[4,this.getNextChangeOfDirection(this.currentPageIndex,this.currentAnnotIndex,-1)];case 1:return e=o.sent(),t=e.currentPageIndex,n=e.currentAnnotIndex,e.annot?(this.currentPageIndex=t,this.currentAnnotIndex=n,this.dispatchJumpChange(),[4,this.activeAnnot()]):[2];case 2:return o.sent(),[2]}})}).call(this)}},{key:"dispatchJumpChange",value:function(){this.subjects.dispatch("")}},{key:"activeAnnot",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return M(function(){var t,n,o,r,i,s,a;return z(this,function(c){switch(c.label){case 0:return t=this,[4,this.getAnnots(this.currentPageIndex)];case 1:return n=c.sent(),[4,this.getAnnots((this.currentPageIndex||0)+1)];case 2:return o=c.sent(),r=n[this.currentAnnotIndex||0],i=o[this.currentAnnotIndex||0],e?[4,this.jumpToAnnot(this.currentPageIndex,r)]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.unmark(),s=this.markAnnot(this.currentPageIndex,r),a=this.markAnnot((this.currentPageIndex||0)+1,i),this.unmark=function(){s(),a(),t.unmark=Ce},[2]}})}).call(this)}},{key:"markAnnot",value:function(e,t){if(!t)return Ce;var n=this.viewer.getPDFDocRender().getAnnotRender(e,t.getObjectNumber());if(!n)return Ce;var o=document.createElement("div");o.classList.add("fv__ui-comparison-changes-active");var r=n.getComponent().getBoundary(),i=t.getBorderColor(),s="";return-1!==i&&(s=I.fromRGB(i).toCSS_Hex()),o.style.cssText="\n            left: ".concat(r.left,"px;\n            top: ").concat(r.top,"px;\n            width: ").concat(r.width,"px;\n            height: ").concat(r.height,"px;\n            outline-color: ").concat(s,";\n        "),n.$page.append(o),function(){o.remove()}}},{key:"isShowMark",value:function(){return"number"==typeof this.currentPageIndex&&"number"==typeof this.currentAnnotIndex}},{key:"jumpToAnnot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return M(function(){var n;return z(this,function(o){switch(o.label){case 0:return t?(n=t.getRect(),[4,this.viewer.goToPage(e,{x:n.left,y:n.top},!0)]):[2];case 1:return o.sent(),[2]}})}).call(this)}},{key:"getNextChangeOfDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return M(function(){var o,r,i,s,a,c,l;return z(this,function(u){switch(u.label){case 0:if(!this.currentDoc)return[2,{currentPageIndex:e,currentAnnotIndex:t,annot:void 0}];if(o=e,r=t,i=0,s=this.currentDoc.getPageCount()-2,-1!==n)return[3,4];u.label=1;case 1:return o>=i?[4,this.getAnnots(o)]:[3,3];case 2:return 0!==(c=u.sent()).length&&0!==r?(r=Math.min(r-1,c.length-1),a=c[r],[3,3]):(o-=2,r=1/0,[3,1]);case 3:return[3,9];case 4:if(1!==n)return[3,8];u.label=5;case 5:return o<=s?[4,this.getAnnots(o)]:[3,7];case 6:if(0===(l=u.sent()).length)o+=2,r=-1;else{if(!((r+=1)>=l.length))return a=l[r],[3,7];o+=2,r=-1}return[3,5];case 7:return[3,9];case 8:throw new Error("Incorrect direction value: ".concat(n));case 9:return[2,{currentPageIndex:o,currentAnnotIndex:r,annot:a}]}})}).call(this)}},{key:"getAnnots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return M(function(){var t;return z(this,function(n){switch(n.label){case 0:return t=this,this.currentDoc?[4,this.currentDoc.getPageByIndex(e)]:[2,[]];case 1:return[4,n.sent().getMarkupAnnots()];case 2:return[2,n.sent().filter(function(e){var n=e.info.typeNano;return t.isFilterOptionOn(n)}).sort(function(e,t){var n=e.getRect(),o=t.getRect();return n.top<o.top?1:-1})]}})}).call(this)}},{key:"getTotalDiffCount",value:function(){var e=this;return Object.keys(this.compareFilterNums).reduce(function(t,n){return t+e.compareFilterNums[n]},0)}},{key:"setFilterCheckboxstatue",value:function(){for(var e in this.subjects.dispatch(Oe,ue({},_e)),this.options)e!==je&&this.setLayerStatus({id:De[e],checked:this.options[e]})}},{key:"setLayerStatus",value:function(e){e.id!==De[je]&&this.pdfui.eventEmitter.emit(y.compareFilterChange,e)}}],[{key:"inject",value:function(){return{pdfui:f,viewer:F}}}]),t}(x);G.registerController(function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onOpenCompareDoc(function(){t.updateComponentStatus()}),this.compareDocHelperService.onJumpChanges(function(){t.updateComponentStatus()}),this.compareDocHelperService.onFilterOptionsUpdated(function(){t.updateComponentStatus()}))}},{key:"updateComponentStatus",value:function(){var e=this;this.compareDocHelperService.currentIsCompareDoc()?this.compareDocHelperService.hasPreviousChange().then(function(t){t?e.component.enable():e.component.disable()}):this.component.disable()}},{key:"handle",value:function(){return this.compareDocHelperService.previousChange()}}],[{key:"getName",value:function(){return"PreviousChangeController"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(b)),G.registerPreConfiguredComponent("previous-change-button",{template:'\n        <ribbon-button\n            name="fv--comparison-previous-change-button"\n            icon-class="fv__icon-comparison-previous-change"\n            class="fv__ui-toolbar-show-text-button"\n            @tooltip\n            tooltip-title="comparison:toolbar.comparePreToolTip"\n            text="comparison:toolbar.comparePreText"\n            @controller="comparison:PreviousChangeController"\n        ></ribbon-button>\n    '}),G.registerController(function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onOpenCompareDoc(function(){t.updateComponentStatus()}),this.compareDocHelperService.onJumpChanges(function(){t.updateComponentStatus()}),this.compareDocHelperService.onFilterOptionsUpdated(function(){t.updateComponentStatus()}))}},{key:"updateComponentStatus",value:function(){var e=this;this.compareDocHelperService.currentIsCompareDoc()?this.compareDocHelperService.hasNextChange().then(function(t){t?e.component.enable():e.component.disable()}):this.component.disable()}},{key:"handle",value:function(){this.compareDocHelperService.nextChange()}}],[{key:"getName",value:function(){return"NextChangeController"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(b)),G.registerPreConfiguredComponent("next-change-button",{template:'\n        <ribbon-button\n            name="fv--comparison-next-change-button"\n            icon-class="fv__icon-comparison-next-change"\n            class="fv__ui-toolbar-show-text-button"\n            @tooltip\n            tooltip-title="comparison:toolbar.compareNextToolTip"\n            text="comparison:toolbar.compareNextText"\n            @controller="comparison:NextChangeController"\n        ></ribbon-button>\n    '});var Re=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this);var o=function(){var e=t.compareDocHelperService.getCompareFilterNums()[t.type]||0,n=t.localizer.translateSync({Text:"comparison:toolbar.filter.dropdown.text",Images:"comparison:toolbar.filter.dropdown.image",Annotation:"comparison:toolbar.filter.dropdown.annot",Formatting:"comparison:toolbar.filter.dropdown.format",Everything:"comparison:toolbar.filter.dropdown.everything"}[t.type],{count:e});t.setLabel(n)};this.addDestroyHook(this.compareDocHelperService.onFilterOptionsUpdated(function(e){t.checked=e[t.type],t.digest(!1)}),this.compareDocHelperService.onOpenCompareDoc(function(){o()}),this.watchI18n("",o))}},{key:"onInput",value:function(e){fe.isSafari&&this.updateFilterOption(e)}},{key:"updateFilterOption",value:function(e){this.compareDocHelperService.updateFilterOptions(J({},this.type,e))}},{key:"handleKeyup",value:function(e){H(e,A)&&(this.checked=!e.target.checked,this.updateFilterOption(this.checked))}}],[{key:"getName",value:function(){return"filter-options-checkbox"}},{key:"getMetadata",value:function(){return{options:{checked:{type:"boolean"},type:{type:"enum",enums:["Annotation","Formatting","Images","Text","Everything"],required:!0},label:{type:"string"}}}}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(h.createSuperClass({template:'\n<form-group @var.self="$component" direction="rtl" class="fv__ui-comparison-filter-option">\n    <label class="fv__ui-checkbox ">\n        <span class="fv__ui-checkbox-wrapper">\n            <input type="checkbox" class="fv__ui-checkbox-input" @model="self.checked" @on.input="self.onInput($component.getValue())" @on.change="self.updateFilterOption($component.getValue())" @on.native.keyup="self.handleKeyup($event)">\n            <span class="fv__ui-checkbox-inner"></span>\n        </span>\n    </label>\n</form-group>\n'}));G.registerComponent(Re);var He=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onOpenCompareDoc(function(e){e&&(t.compareDocHelperService.getTotalDiffCount()>0?t.enable():t.disable())}))}},{key:"handle",value:function(){this.getDropdown().active()}}],[{key:"getName",value:function(){return"filter-dropdown"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(h.createSuperClass({template:'\n    <ribbon-button\n        name="fv--comparison-filter-dropdown"\n        icon-class="fv__icon-comparison-filter"\n        text="comparison:toolbar.filter.title"\n        @tooltip\n        @on.click="$component.handle()"\n        tooltip-title="comparison:toolbar.filter.tooltip"\n    >\n        <dropdown separate="false">\n            <dropdown-item name="fv--comparison-filter-dropdown-item-text">\n                <comparison:filter-options-checkbox type="Text" label="comparison:toolbar.filter.dropdown.text"></comparison:filter-options-checkbox>\n            </dropdown-item>\n            <dropdown-item name="fv--comparison-filter-dropdown-item-image">\n                <comparison:filter-options-checkbox type="Images" label="comparison:toolbar.filter.dropdown.image"></comparison:filter-options-checkbox>\n            </dropdown-item>\n            <dropdown-item name="fv--comparison-filter-dropdown-item-annot">\n                <comparison:filter-options-checkbox type="Annotation" label="comparison:toolbar.filter.dropdown.annot"></comparison:filter-options-checkbox>\n            </dropdown-item>\n            <dropdown-item name="fv--comparison-filter-dropdown-item-format">\n                <comparison:filter-options-checkbox type="Formatting" label="comparison:toolbar.filter.dropdown.format"></comparison:filter-options-checkbox>\n            </dropdown-item>\n            <dropdown-item name="fv--comparison-filter-dropdown-item-everything">\n                <comparison:filter-options-checkbox type="Everything" label="comparison:toolbar.filter.dropdown.everything"></comparison:filter-options-checkbox>\n            </dropdown-item>\n        </dropdown>\n    </ribbon-button>\n    '}));G.registerComponent(He),G.registerController(function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),J(e,"isLegendVisible",!0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onShowLegend(function(e){t.isLegendVisible=e,t.digest()}))}},{key:"handle",value:function(){this.compareDocHelperService.toggleLegend()}}],[{key:"getName",value:function(){return"ShowHideColorLegendController"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(b)),G.registerPreConfiguredComponent("show-hide-color-legend-button",{template:"\n        <xbutton\n            @controller=\"comparison:ShowHideColorLegendController as ctrl\"\n            @setter.text=\"'comparison:toolbar.show.dropdown.' + (ctrl.isLegendVisible ? 'hideColor' : 'showColor')\"\n        ></xbutton>\n    "}),G.registerController(function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),J(e,"showResult",!0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onShowHideChange(function(e){t.showResult=e,t.digest()}))}},{key:"handle",value:function(){this.compareDocHelperService.toggleShowHideResult()}}],[{key:"getName",value:function(){return"ShowHideResultsController"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(b)),G.registerPreConfiguredComponent("show-hide-results-button",{template:"\n        <xbutton\n            @controller=\"comparison:ShowHideResultsController as ctrl\"\n            @setter.text=\"'comparison:toolbar.show.dropdown.' + (ctrl.showResult ? 'hideResult' : 'showResult')\"\n        ></xbutton>\n    "});var Ae=w.COMPONENT_EVENTS;G.registerController(function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.component.parent.once(Ae.ACTIVE,function(){t.getPDFUI().getPDFDocRender().then(function(e){0===e.getCurrentPageIndex()?t.component.disable():t.component.enable()})}),this.addDestroyHook(this.compareDocHelperService.onJumpedToSummaryPage(function(e){e?t.component.disable():t.component.enable()}))}},{key:"handle",value:function(){return this.compareDocHelperService.jumpToSummaryPage()}}],[{key:"getName",value:function(){return"ShowSummaryController"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(b)),G.registerPreConfiguredComponent("show-summary-button",{template:'\n        <xbutton @controller="comparison:ShowSummaryController" text="comparison:toolbar.show.dropdown.showSummary"></xbutton>\n    '}),G.registerPreConfiguredComponent("show-hide-compare-tool-dropdown",{template:'\n        <ribbon-button\n            icon-class="fv__icon-comparison-show"\n            name="fv--comparison-show-dropdown"\n            text="comparison:toolbar.show.title"\n            @tooltip\n            tooltip-title="comparison:toolbar.show.tooltip"\n        >\n        <dropdown>\n            <comparison:show-hide-results-button name="fv--comparison-show-hide-results"></comparison:show-hide-results-button>\n            <comparison:show-hide-color-legend-button name="fv--comparison-show-hide-color-legend" class="fv__ui-dropdown-separator"></comparison:show-hide-color-legend-button>\n            <comparison:show-summary-button name="fv--comparison-show-summary"></comparison:show-summary-button>\n        </dropdown>\n        </ribbon-button>\n    ',config:{target:"fv--comparison-show-dropdown",callback:function(){this.component.getDropdown().active()}}});var Ee="";Ee="@lazy",G.registerPreConfiguredComponent("tab-body",{template:'\n        <paddel name="fv--comparison-tab-body" visible="false" @aria:toolbar '.concat(Ee,'>\n            <group-list>\n                <group>\n                    <comparison:previous-change-button></comparison:previous-change-button>\n                    <comparison:next-change-button></comparison:next-change-button>\n                    <comparison:filter-dropdown name="fv--comparison-filter-dropdown"></comparison:filter-dropdown>\n                    <comparison:show-hide-compare-tool-dropdown></comparison:show-hide-compare-tool-dropdown>\n                </group>\n            </group-list>\n        </paddel>\n    ')});var Be=r(983),Le=r.n(Be),Ve=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),J(e,"optionService",void 0),J(e,"insertColor","#4db3ff"),J(e,"deleteColor","#fa4343"),J(e,"replaceColor","#ffd93f"),e}return p(n,t),l(n,[{key:"mounted",value:function(){var t=this;q(e(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.compareDocHelperService.onShowLegend(function(e){e?t.show():t.hide()}),this.optionService.onUpdateCurrentOptions(function(e){t.insertColor=I.fromRGB(e.markingColor.insert).toCSS_Hex(),t.deleteColor=I.fromRGB(e.markingColor.delete).toCSS_Hex(),t.replaceColor=I.fromRGB(e.markingColor.replace).toCSS_Hex(),t.isVisible||t.digest()}))}},{key:"onShown",value:function(){q(e(n.prototype),"onShown",this).call(this),this.digest()}},{key:"onClickCloseBtn",value:function(){this.compareDocHelperService.toggleLegend(!1)}}],[{key:"getName",value:function(){return"legend-layer"}},{key:"inject",value:function(){return{compareDocHelperService:Te,optionService:he}}}]),n}(h.createSuperClass({template:Le()()}));G.registerComponent(Ve);var Ue=function(t){function n(){var e;return a(this,n),J(e=o(this,n,arguments),"compareDocHelperService",void 0),e}return p(n,t),l(n,[{key:"init",value:function(t){q(e(n.prototype),"init",this).call(this,t);var o=this.attrValue.split(/[\s,]+/);this.addDestroyHook(this.compareDocHelperService.onOpenCompareDoc(function(e){e?o.forEach(function(e){"function"==typeof t[e]&&t[e].call(t)}):o.forEach(function(e){var n=function(e){return $e[e]}(e);n&&t[n].call(t)})}))}}],[{key:"getName",value:function(){return"comparison-actions"}},{key:"inject",value:function(){return{compareDocHelperService:Te}}}]),n}(g);G.getRegistry().registerDirective(Ue);var $e={show:"hide",active:"deactive",disable:"enable",lock:"unlock"};Object.keys($e).forEach(function(e){$e[$e[e]]=e});var Me=function(e){function t(){return a(this,t),o(this,t,arguments)}return p(t,e),l(t,[{key:"init",value:function(e){this.pdfUI=e}},{key:"getComparePDFDocService",value:function(){return this.pdfUI.getServiceInstance(ge)}},{key:"getSelectPDFFileService",value:function(){return this.pdfUI.getServiceInstance(Z)}},{key:"getCompareOptionsService",value:function(){return this.pdfUI.getServiceInstance(he)}},{key:"getCompareRangeService",value:function(){return this.pdfUI.getServiceInstance(re)}},{key:"getCompareDocHelperService",value:function(){return this.pdfUI.getServiceInstance(Te)}}],[{key:"getName",value:function(){return de}},{key:"getLoader",value:function(){return U()}}]),t}(m)})(),i=i.default})());