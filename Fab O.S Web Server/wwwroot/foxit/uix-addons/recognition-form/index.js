!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],o):"object"==typeof exports?exports.RecognitionFormUIXAddon=o(require("UIExtension")):e.RecognitionFormUIXAddon=o(e.UIExtension)}(self,e=>(()=>{var o={876:e=>{e.exports=null},616:o=>{"use strict";o.exports=e}},n={};function t(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return o[e](i,i.exports,t),i.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o);var r={};return(()=>{"use strict";function e(o){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e(o)}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}function n(e,o){return!o||"object"!=((n=o)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):o;var n}function i(t,r,i){return r=e(r),n(t,o()?Reflect.construct(r,i||[],e(t).constructor):r.apply(t,i))}function c(e,o){return null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](e):c(e,o)}function a(e,o){if(!c(e,o))throw new TypeError("Cannot call a class as a function")}function l(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function u(e,o,n){return o&&l(e.prototype,o),n&&l(e,n),e}function s(o,n,t){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(o,n,t){var r=function(o,n){for(;!Object.prototype.hasOwnProperty.call(o,n)&&null!==(o=e(o)););return o}(o,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(t||o):i.value}},s(o,n,t||o)}function f(e,o){return f=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},f(e,o)}function p(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&f(e,o)}t.d(r,{default:()=>_});var d=t(616),m=t(876),g=t.n(m),b=d.shared.replaceRibbonButton2XButton,y=PDFViewCtrl.PDF.constant.User_Permissions,v=d.PDFViewCtrl.Consts.PDFDocPermission,h=d.UIEvents,_=function(o){function n(){return a(this,n),i(this,n,arguments)}return p(n,o),u(n,[{key:"init",value:function(e){this.pdfUI=e}},{key:"destroy",value:function(){}}],[{key:"getName",value:function(){return"recognitionForm"}},{key:"getLoader",value:function(){return g()}},{key:"initOnLoad",value:function(){var o=!1,n=d.modular.module("recognition-form",[]),t={template:'<ribbon-button text="recognition-form:tips.recognition" @tooltip name="recognition-form-button" icon-class="fv__icon-toolbar-recognition-form">recognition-form:tips.recognition</ribbon-button>',config:{target:"recognition-form-button",tooltip:{title:"recognition-form:tips.recognition"},callback:function(n){function t(){return a(this,t),i(this,t,arguments)}return p(t,n),u(t,[{key:"changePermission",value:function(e){var o=this;e.readonly().then(function(n){var t=!(!e||e.isDestroyed)&&e.checkPermission(y.fillForm)&&e.checkPermission(y.modify);e.checkPermission(o.constructor.permission+y.modify)&&t&&!e.isStaticXFA()&&!e.isDynamicXFA()&&!n&&e.isOwner()?o.component.unlock&&o.component.unlock():o.component.lock&&o.component.lock()})}},{key:"mounted",value:function(){var o,n,r;s(e(t.prototype),"mounted",this).call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener((o={},n=h.permissionChanged,r=this.changePermission.bind(this),n in o?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o)))}},{key:"handle",value:function(e){var n,t=this,r=this.getComponentByName("recognition-dialog"),i=this.pdfUI.customsDetectFormFieldsParams||{},c=Promise.resolve(r);r||(c=(n=this.pdfUI,n.getRootComponent().then(function(e){e.append('\n            <layer name="recognition-dialog" class="fv__popup-dialog center fv__ui-recognition-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n                <layer-header title="recognition-form:dialog.title"></layer-header>\n                <div class="fv__popup-recognition-body" name="fv__popup-recognition-body">\n                    recognition-form:dialog.content\n                    <div class="fv__popup-recognition-body-employee">Employee Name:\n                        <div class="fv__popup-recognition-body-employee-lever-1">1</div>\n                        <span><label>Employee Name</label></span>\n                        <div class="fv__popup-recognition-body-employee-lever-2">2</div>\n                    </div>\n                    recognition-form:dialog.description\n                </div>\n                <layer-toolbar class="fv__ui-recognition-bottom-bar footer">\n                    <label class="fv__ui-checkbox checkbox mb_5" @controller="recognition-form:NotAgain" name="recognition-form-not-again">\n                        <span class="fv__ui-checkbox-wrapper">\n                            <input type="checkbox" class="fv__ui-checkbox-input" @aria:labelledby="::parent()::nextSiblings()">\n                            <span class="fv__ui-checkbox-inner"></span>\n                        </span>\n                        <span class="fv__ui-checkbox-text" data-i18n="recognition-form:dialog.notAgain"></span>\n                    </label>\n                    <xbutton data-action="OK" class="fv__ui-dialog-ok-button" @controller="recognition-form:HideDialog">dialog.ok</xbutton>\n                </layer-toolbar>\n            </layer>\n        ')})).then(function(e){r=t.getComponentByName("recognition-dialog")})),c.then(function(e){return t.pdfUI.getStateHandlerManager().then(function(e){return e.switchTo("hand")})}).then(function(e){t.pdfUI.getCurrentPDFDoc().then(function(e){return e.autoRecognitionForm()}).then(function(e){for(var n=t.component.element.parentElement;n;){if("form-toolbar-group-list"===n.getAttribute("name")){var c=n.querySelector(".fx-ribbon-item-active");c||(c=n.querySelector(".fx-ribbon-item.selected")),c.focus();break}n=n.parentElement}0===e?t.pdfUI.alert("recognition-form:error.noFields","recognition-form:error.title",void 0,"warning").then(function(){i.successAfter&&i.successAfter()}):(t.pdfUI.redraw(!0),!o&&r.show()),setTimeout(function(){t.component.lock&&t.component.lock()},200)})})}}],[{key:"permission",get:function(){return v.FillForm}}]),t}(d.Controller)}};n.registerPreConfiguredComponent("recognition-form-ribbon-button",t),n.registerPreConfiguredComponent("recognition-form-button",Object.assign({},t,{template:b(t.template)})),n.controller("HideDialog",{handle:function(){var e=this.pdfUI.customsDetectFormFieldsParams||{},o=this.getComponentByName("recognition-dialog");e.successAfter&&e.successAfter(),o&&o.hide()}}),n.controller("NotAgain",{handle:function(e){if("INPUT"===e.target.nodeName){var n=e.target;o=n.checked}}})}}]),n}(d.UIXAddon)})(),r=r.default})());