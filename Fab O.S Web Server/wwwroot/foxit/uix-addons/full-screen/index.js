!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.FullScreenUIXAddon=t(require("UIExtension")):e.FullScreenUIXAddon=t(e.UIExtension)}(self,e=>(()=>{var t={463:e=>{e.exports=null},616:t=>{"use strict";t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{"use strict";function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e(t)}function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function n(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function l(r,o,l){return o=e(o),n(r,t()?Reflect.construct(o,l||[],e(r).constructor):o.apply(r,l))}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):u(e,t)}function c(e,t){if(!u(e,t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}r.d(o,{default:()=>U});var p=r(616),d=r(463),m=r.n(d);function h(t,n,r){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var o=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=e(t)););return t}(t,n);if(o){var l=Object.getOwnPropertyDescriptor(o,n);return l.get?l.get.call(r||t):l.value}},h(t,n,r||t)}var v=p.UIEvents,y=function(t){function n(){return c(this,n),l(this,n,arguments)}return f(n,t),s(n,[{key:"mounted",value:function(){var t=this;h(e(n.prototype),"mounted",this).call(this),this.on("click",function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,r=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?r.call(e):n.call(t)}),this.getPDFUI().addUIEventListener(v.fullscreenchange,function(e){e?t.setText("full-screen:exit-fullscreen"):t.setText("full-screen:fullscreen"),t.localize()})}}],[{key:"getName",value:function(){return"toggle-full-screen-button"}}]),n}(p.SeniorComponentFactory.createSuperClass({template:'\n        <xbutton icon-class="fv__icon-toolbar-fullscreen" text="full-screen:fullscreen"></xbutton>\n    '})),b=[["show","hide"],["active","deactive"],["disable","enable"],["collapseTotally","expand"],["toggle","toggle"]],w=b.reduce(function(e,t){return e.concat(t)}),g=b.reduce(function(e,t){return e[t[0]]=t[1],e[t[1]]=t[0],e},{}),x=function(e){function t(){return c(this,t),l(this,t,arguments)}return f(t,e),s(t,[{key:"componentPrelink",value:function(){var e=this,t=this.attrValue||this.subName;t&&-1!==w.indexOf(t)&&this.component.getPDFUI().addUIEventListener("fullscreenchange",function(n){var r=n?t:g[t];"show"==r&&!1===e.component.autoVisible||e.component[r].call(e.component)})}}],[{key:"getName",value:function(){return"fullscreen"}}]),t}(p.Directive);function F(e,t,n,r,o,l,u){try{var c=e[l](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function E(e,t){var n,r,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=c(0),u.throw=c(1),u.return=c(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,r=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){l=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){l.label=c[1];break}if(6===c[0]&&l.label<o[1]){l.label=o[1],o=c;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(c);break}o[2]&&l.ops.pop(),l.trys.pop();continue}c=t.call(e,l)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var I=p.PDFViewCtrl.BrowserInfo.isIE10,k=function(t){function n(){return c(this,n),l(this,n,arguments)}return f(n,t),s(n,[{key:"mounted",value:function(){var t=this;h(e(n.prototype),"mounted",this).call(this),this.pdfUI=this.component.getPDFUI(),this.addDestroyHook(this.pdfUI.addUIEventListener("fullscreenchange",function(e){e?t.component.setText("full-screen:contextmenu-exit"):t.component.setText("full-screen:contextmenu")}))}},{key:"handle",value:function(){return(e=function(){var e,t,n,r,o,l;return E(this,function(u){switch(u.label){case 0:return I?(this.pdfUI.alert("full-screen:browser-not-support"),[2]):this.pdfUI.checkAppSignIn()?[4,this.pdfUI.getComponentByName("float-bar-full-screen")]:[2];case 1:return(e=u.sent())?[2,e.trigger("click")]:[4,this.pdfUI.getPDFViewer()];case 2:return(t=u.sent()).customs&&t.customs.setFullScreen&&this.pdfUI.addUIEventListener("fullscreenchange",function(e){t.customs.setFullScreen({isFullscreen:e,callExplorer:!1})}),n=window.document,r=n.documentElement,o=r.requestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullScreen||r.msRequestFullscreen,l=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen,n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?l&&l.call(n):o&&o.call(r),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var l=e.apply(t,n);function u(e){F(l,r,o,u,c,"next",e)}function c(e){F(l,r,o,u,c,"throw",e)}u(void 0)})}).call(this);var e}}],[{key:"getName",value:function(){return"FullscreenController"}}]),n}(p.Controller),S=p.PDFViewCtrl.DeviceInfo,O=p.PDFViewCtrl.BrowserInfo,U=function(e){function t(){return c(this,t),l(this,t,arguments)}return f(t,e),s(t,[{key:"afterMounted",value:function(e){this.pdfUI.eventEmitter.emit("fullscreenchange",this.checkISFullscreen())}},{key:"init",value:function(e){var t=this;this.pdfUI=e;var n=this.checkISFullscreen(),r=function(r){var o=t.checkISFullscreen();n!==o&&(n=o,e.eventEmitter.emit("fullscreenchange",o))};window.addEventListener("resize",r),this._removeResizeEvent=function(){return window.removeEventListener("resize",r)}}},{key:"checkISFullscreen",value:function(){var e=document.mozFullscreen||document.webkitIsFullScreen||document.fullscreen;return S.isMobile?O.isSafari?!!document.webkitCurrentFullScreenElement:e:e||window.innerHeight===window.screen.height&&window.innerWidth===window.screen.width}},{key:"destroy",value:function(){this._removeResizeEvent()}}],[{key:"getName",value:function(){return"full-screen"}},{key:"getLoader",value:function(){return m()}},{key:"initOnLoad",value:function(){var e=p.modular.module("full-screen",[]);e.getRegistry().registerDirective(x),e.registerComponent(y),e.registerController(k),e.registerPreConfiguredComponent("contextmenu-item-fullscreen",{template:'<contextmenu-item name="fv--contextmenu-item-full-screen" @controller="full-screen:FullscreenController" @hide-on-device="ios">full-screen:contextmenu</contextmenu-item>'})}}]),t}(p.UIXAddon)})(),o=o.default})());