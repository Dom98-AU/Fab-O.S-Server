!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.EditTextObject=e(require("UIExtension")):t.EditTextObject=e(t.UIExtension)}(self,t=>(()=>{var e={218:(t,e,n)=>{n(779);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-addon-font-family-size-dropdown" @controller="edit-text-object:FontFamilySizeController as ffsc">\n<dropdown name="font-family-dropdown" class="fv__ui-addon-font-family-dropdown" @tooltip tooltip-title="edit-text:dropdowns.editFontFamily" separate="false" selectable="true" @aria:title>\n<dropdown-button \n@foreach="fontFamily in ffsc.fontFamilies" \n@sync.text="fontFamily.text" \n@sync.attr.style="ffsc.renderFontFamilyItem(fontFamily)"\n@on.click="ffsc.selectFontFamily(fontFamily)"\ntabindex="0"\n></dropdown-button>\n</dropdown>\n<dropdown name="font-size-dropdown" editable="true" class="fv__ui-addon-font-size-dropdown" @tooltip tooltip-title="edit-text:dropdowns.editFontSize"  selectable="true" @aria:title>\n<dropdown-button\n@foreach="fontSize in ffsc.fontSizes"\n@sync.text="fontSize"\n@on.click="ffsc.selectFontSize(fontSize)"\ntabindex="0"\n></dropdown-button>\n</dropdown>\n</div>'}},566:t=>{t.exports=null},585:(t,e,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(o),i=/["&'<>]/;function c(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?c(t.call(t)):JSON.stringify(t)),t}r.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var o="",r=void 0,c=void 0,a=void 0;for(r=n.index,c=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}c!==r&&(o+=e.substring(c,r)),c=r+1,o+=a}return c!==r?o+e.substring(c,r):o}(c(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r},779:(t,e,n)=>{"use strict";t.exports=n(585)},616:e=>{"use strict";e.exports=t}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{"use strict";function t(e){return t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(e)}function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(e=function(){return!!t})()}function n(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var n}function i(o,r,i){return r=t(r),n(o,e()?Reflect.construct(r,i||[],t(o).constructor):r.apply(o,i))}function c(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):c(t,e)}function a(t,e){if(!c(t,e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}o.d(r,{default:()=>N});var d=o(616),p=o(566),h=o.n(p);function m(e,n,o){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,o){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=t(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(o||e):i.value}},m(e,n,o||e)}var v=function(e){function n(){return a(this,n),i(this,n,arguments)}return f(n,e),l(n,[{key:"mounted",value:function(){var e=this;m(t(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(d.PDFViewCtrl.Events.switchStateHandler,function(t){if("add-text-object"===t.getStateName())e.component.enable();else e.component.disable()}))}}]),n}(d.Controller),y=d.PDFViewCtrl._internal.consts.ADD_FONT_MAP_LIST,b="standard",g="ext",x=function(e){function n(t){var e;a(this,n),e=i(this,n,[t]);var o=window.EditTextObject,r=o.addonInfo,c=r.standardFontFamilies||[],s=r.extensionFontFamilies||[];return e.standardFontFamilies=c,e.extensionFontFamilies=s,c.forEach(function(t){t.type=b}),s.forEach(function(t){t.type=g}),e.fontFamilies=c.concat(s),e.fontSizes=o.addonInfo.customFontSizes||[],e.currentTextObjects=[],e}return f(n,e),l(n,[{key:"mounted",value:function(){var e=this;m(t(n.prototype),"mounted",this).call(this),this.selectFontFamily(this.fontFamilies[0]),this.fontSizes.indexOf(16)>-1?this.selectFontSize(16):this.selectFontSize(this.fontSizes[0]),this.digest(!0),this.addDestroyHook(this.getPDFUI().addViewerEventListener("text-object-active",function(t){e.currentTextObjects.push(t),1===e.currentTextObjects.length&&e.active(t)}),this.getPDFUI().addViewerEventListener("text-object-unactive",function(t){var n=e.currentTextObjects.indexOf(t);n>-1&&e.currentTextObjects.splice(n,1),0===e.currentTextObjects.length&&e.deactive(t)}),this.getPDFUI().addViewerEventListener(d.PDFViewCtrl.Events.openFileSuccess,function(){e.component.disable()}),this.component.on("change",function(t,n){if(0!==e.currentTextObjects.length)switch(t){case"fontFamily":for(var o=e.fontFamilies,r=o.length,i="string"==typeof n,c=!1,a=0;a<r;a++){var s=o[a];if(i&&s.text===n||s.name===n){e.applyFontFamily(s),c=!0;break}}i||c||e.applyFontFamily(n);break;case"fontSize":(n=+n)>100?n=100:n<.1&&(n=.1),e.applyFontSize(n)}})),this.getPDFUI().getStore().then(function(t){e.addDestroyHook(t.subscribe(y,function(t){var n=t.new;n.slice(0).map(function(t){t.text=t.name,t.type=g}),e.fontFamilies=e.fontFamilies.concat(n),e.digest(!0)}))})}},{key:"active",value:function(t){var e=this;this.component.enable();var n=t.getModel().info.textState.vertical_size,o=d.PDFViewCtrl.shared.units,r=o.POINT.convertTo(n,o.PIXEL_HORIZONTAL);this.component.selectFontSize(r);this.component.selectFontFamily(function(t){var n=t.getModel().getFontInfo();if(n.isStandard){for(var o=0,r=e.standardFontFamilies.length;o<r;o++){var i=e.standardFontFamilies[o];if(i.value===n.standardId)return i}return{text:n.baseName,value:n.standardId,standard:!0,type:"standard"}}return{text:n.familyName,name:n.familyName,style:n.styles,charset:n.charset,type:"ext"}}(t))}},{key:"deactive",value:function(){this.component.disable()}},{key:"selectFontFamily",value:function(t){var e=this.component.currentFontFamily;this.component.selectFontFamily(t),this.changeFocusElement("fontFamily"),JSON.stringify(e)!==JSON.stringify(t)&&this.component.trigger("change","fontFamily",t,e)}},{key:"applyFontFamily",value:function(t){0!==this.currentTextObjects.length&&this.currentTextObjects.forEach(function(e){var n=e.getModel();switch(t.type){case b:n.setStandardFont(t.value).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()});break;case g:n.setFontByName(t.name,t.style,t.charset).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()})}})}},{key:"selectFontSize",value:function(t){var e=this.component.currentFontSize;this.component.selectFontSize(t),this.changeFocusElement("fontSize"),e!=t&&this.component.trigger("change","fontSize",t,e)}},{key:"applyFontSize",value:function(t){0!==!this.currentTextObjects.length&&this.currentTextObjects.forEach(function(e){var n=d.PDFViewCtrl.shared.units,o=e.getModel();o.setFontSize(n.PIXEL_HORIZONTAL.convertTo(t,n.POINT)).then(function(){return o.setText(e.getTextChar())}).then(function(t){e.reActive()})})}},{key:"renderFontFamilyItem",value:function(t){return"Symbol"===t.text?"":'font-family: "'.concat(t.name||t.text,'"')}},{key:"changeFocusElement",value:function(t){var e=this;setTimeout(function(){var n=null;switch(t){case"fontFamily":n=e.getComponentByName("font-family-dropdown");break;case"fontSize":n=e.getComponentByName("font-size-dropdown")}if(1===e.currentTextObjects.length){var o=e.currentTextObjects[0].eCharInput;o&&o.focus()}else n&&n.togglerElement.focus()},10)}}],[{key:"getName",value:function(){return"FontFamilySizeController"}}]),n}(v),F=o(218),w=o.n(F),C=function(e){function n(t,e,o){return a(this,n),i(this,n,[t,e,o])}return f(n,e),l(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"isContainer",value:function(){return!1}},{key:"postlink",value:function(){var e=this;m(t(n.prototype),"postlink",this).call(this),this.disable(),this.fontFamilyDropdownComponent=this.getComponentByName("font-family-dropdown"),this.fontSizeDropdownComponent=this.getComponentByName("font-size-dropdown"),this.fontFamilyDropdownText=this.fontFamilyDropdownComponent.textElement,this.fontFamilyDropdownComponent.align=this.align,this.fontSizeDropdownComponent.align=this.align,this.addDestroyHook(this.fontSizeDropdownComponent.on("change",function(t){e.trigger("change","fontSize",t)}),this.fontFamilyDropdownComponent.on("change",function(t){e.trigger("change","fontFamily",t)}))}},{key:"getFontFamily",value:function(){return this.currentFontFamily}},{key:"selectFontFamily",value:function(t){var e=this.fontFamilyDropdownComponent.findChildren(function(e){return e.controller.data.fontFamily===t})[0];e&&this.fontFamilyDropdownComponent.select(e),this.fontFamilyDropdownComponent.setText(t.text),"Symbol"===t.text?this.fontFamilyDropdownText.style.cssText+="font-family: inherit":this.fontFamilyDropdownText.style.cssText+='font-family: "'.concat(t.name||t.text,'"'),this.currentFontFamily=t}},{key:"selectFontSize",value:function(t){var e=this.fontSizeDropdownComponent.findChildren(function(e){return e.controller.data.fontSize===t})[0];e&&this.fontSizeDropdownComponent.select(e),this.fontSizeDropdownComponent.setEditValue(t),this.currentFontSize=t}},{key:"getFontSize",value:function(){return this.currentFontSize}}],[{key:"getName",value:function(){return"font-family-size-dropdown"}},{key:"getMetadata",value:function(){return{options:{align:{type:"enum",enums:["left","center","right","client-center"],defaultValue:"left"}}}}}]),n}(d.SeniorComponentFactory.createSuperClass({template:w()(),fragments:[{target:"font-family-dropdown",config:{}},{target:"font-size-dropdown",config:{editOptions:{type:"number",step:.1}}}]})),k=function(t){function e(t){var n;return a(this,e),(n=i(this,e,[t])).currentTextObjects=[],n}return f(e,t),l(e,[{key:"postlink",value:function(){var t=this;this.component.disable(),this.addDestroyHook(this.getPDFUI().addViewerEventListener("text-object-active",function(e){t.currentTextObjects.push(e),t.component.enable(),t.active(e)}),this.getPDFUI().addViewerEventListener("text-object-unactive",function(e){var n=t.currentTextObjects.indexOf(e);n>-1&&t.currentTextObjects.splice(n,1),t.deactive(e),0===t.currentTextObjects.length&&t.component.disable()}))}},{key:"active",value:function(t){}},{key:"deactive",value:function(t){}}]),e}(v),S=function(t){function e(){return a(this,e),i(this,e,arguments)}return f(e,t),l(e,[{key:"active",value:function(t){t.getModel().isBold()?this.component.active():this.component.deactive()}},{key:"handle",value:function(){var t=this;0!==this.currentTextObjects.length?this.currentTextObjects.forEach(function(e){var n=e.getModel();t.component.isActive?n.setBold(!1).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()}):n.setBold(!0).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()})}):this.component.isActive?this.component.deactive():this.component.active()}}],[{key:"getName",value:function(){return"BoldStyleController"}}]),e}(k),j=function(t){function e(){return a(this,e),i(this,e,arguments)}return f(e,t),l(e,[{key:"active",value:function(t){t.getModel().isItalic()?this.component.active():this.component.deactive()}},{key:"handle",value:function(){var t=this;0!==this.currentTextObjects.length?this.currentTextObjects.forEach(function(e){var n=e.getModel();t.component.isActive?n.setItalic(!1).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()}):n.setItalic(!0).then(function(){return n.setText(e.getTextChar())}).then(function(t){e.reActive()})}):this.component.isActive?this.component.deactive():this.component.active()}}],[{key:"getName",value:function(){return"ItalicStyleController"}}]),e}(k),T=function(t){function e(){return a(this,e),i(this,e,arguments)}return f(e,t),l(e,[{key:"active",value:function(t){t.getModel().info.textState.font}}],[{key:"getName",value:function(){return"UnderlineStyleController"}}]),e}(k),O=function(e){function n(){return a(this,n),i(this,n,arguments)}return f(n,e),l(n,[{key:"isContainer",value:function(){return!1}},{key:"postlink",value:function(){var e=this;m(t(n.prototype),"postlink",this).call(this),this.disable();var o=this.eIcon,r=document.createElement("i");r.classList.add("fv__ui-addon-textobject-color-status"),o.appendChild(r);var i=this.getComponentByName("addon-textobject-color-picker");this.colorPicker=i,this.colorStatuesElement=r;var c=function(t){var e=Array.from(t.target.classList).concat(["fv__ui-picker-addcolor","fv__ui-picker-removecolor","fv__ui-property-icon-delete-color-dark","fv__ui-property-icon-delete-color-light"]),n=new Set(e);e.length!==n.size&&t.stopPropagation()},a=function(t){var n=Array.from(t.target.classList).concat(["fv__ui-picker-addcolor","fv__ui-picker-removecolor","fv__ui-property-icon-delete-color-dark","fv__ui-property-icon-delete-color-light"]),o=new Set(n);if(n.length===o.size){var r=e.getDropdown();r.isActive&&(r.doDeactive(),r.parent.focus())}};i.element.addEventListener("mouseup",c),i.element.addEventListener("click",a),this.addDestroyHook(function(){i.element&&i.element.removeEventListener("mouseup",c),i.element&&i.element.removeEventListener("click",a)}),this.setColor("#000000");var s=function(){e.freeze()},l=function(){e.unfreeze()};i.on("change",function(t,n){e.updateColorStatus(n),e.trigger("change",n),e.controller.handle(n)}),i.on("postrender",function(){i.$colorInput.off("show.spectrum",s).on("show.spectrum",s),i.$colorInput.off("hide.spectrum",l).on("hide.spectrum",l)}),i.trigger("postrender")}},{key:"setColor",value:function(t){this.colorPicker.setValue(t),this.updateColorStatus(t)}},{key:"getColor",value:function(){return this.colorPicker.getValue()}},{key:"updateColorStatus",value:function(t){this.colorStatuesElement.style.cssText+="background-color: ".concat(t)}},{key:"doActive",value:function(){m(t(n.prototype),"doActive",this).call(this),this.colorPicker.focus()}}],[{key:"getName",value:function(){return"text-color-picker"}}]),n}(d.SeniorComponentFactory.createSuperClass({template:'\n        <ribbon-button icon-class="fv__icon-addon-textobject-font-color" @tooltip tooltip-title="edit-text:buttons.editFontColor" text="edit-text:buttons.editFontColor" not-immediately="true">\n            <dropdown class="fv__ui-addon-textobject-font-color" separate="false" @aria:title="edit-text:buttons.editFontColor">\n                <dropdown-item> \n                    <color class="fv__ui-addon-textobject-color-picker" name="addon-textobject-color-picker"></color>\n                </dropdown-item> \n            </dropdown>\n        </ribbon-button>\n    ',fragments:[{target:"addon-textobject-color-picker",config:{colors:["#ff6633","#ff00ff","#ffcc00","#00ffff","#00ff00","#ffff00","#ff0000","#993399","#cc99ff","#ff99cc","#0000ff","#66cc33","#000000","#333333","#666666","#999999","#cccccc","#ffffff"],transparentclass:"fv__ui-property-icon-nocolor",addclass:"fv__ui-property-icon-add-color",removeclass:"fv__ui-property-icon-remove-color",deleteclass:"fv__ui-property-icon-delete-color-",selectedclass:"fv__ui-property-icon-selected-color-",lightpostname:"light",darkpostname:"dark"}}]})),_=function(e){function n(t){var e;return a(this,n),(e=i(this,n,[t])).currentTextObjects=[],e}return f(n,e),l(n,[{key:"mounted",value:function(){var e=this;m(t(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener("text-object-active",function(t){if(e.currentTextObjects.push(t),!(e.currentTextObjects.length>2)){e.component.enable();var n=t.getModel().getFillColor(),o=16777215&n;0===(n>>24&255)?e.component.setColor("transparent"):e.component.setColor(function(t){if(t<0)return"#000000";var e=t.toString(16),n=6;t>16777215&&(n=8);for(;e.length<n;)e="0"+e;return"#"+e}(o))}}),this.getPDFUI().addViewerEventListener("text-object-unactive",function(t){var n=e.currentTextObjects.indexOf(t);n>-1&&e.currentTextObjects.splice(n,1),0===e.currentTextObjects.length&&e.component.disable()}),this.getPDFUI().addViewerEventListener(d.PDFViewCtrl.Events.openFileSuccess,function(){e.component.disable()}))}},{key:"handle",value:function(t){0!==this.currentTextObjects.length&&this.currentTextObjects.forEach(function(e){var n=e.getModel();if("transparent"===t)n.setFillColor(0).then(function(){return n.setText(e.getTextChar())}).then(function(){e.reActive()});else{var o=parseInt(t.substring(1),16);n.setFillColor(255<<24|o).then(function(){return n.setText(e.getTextChar())}).then(function(){e.reActive()})}})}}],[{key:"getName",value:function(){return"FontColorController"}}]),n}(v);function I(t,e,n,o,r,i,c){try{var a=t[i](c),s=a.value}catch(t){return void n(t)}a.done?e(s):Promise.resolve(s).then(o,r)}function D(t,e){var n,o,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=a(0),c.throw=a(1),c.return=a(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var z=function(e){function n(t){var e;return a(this,n),(e=i(this,n,[t,"add-text-object"])).isStateIn=!1,e}return f(n,e),l(n,[{key:"mounted",value:function(){var e,o=this,r=this,i=function(){return m(t(n.prototype),"mounted",o)};return(e=function(){var t,e,n,o,c,a,s;return D(this,function(l){switch(l.label){case 0:return t=this,i().call(r),[4,(e=this.component.getRoot()).getMountedComponentByName("fv--addon-textobject-font-family-size-dropdown")];case 1:return n=l.sent(),[4,e.getMountedComponentByName("fv--addon-textobject-bold-style")];case 2:return o=l.sent(),[4,e.getMountedComponentByName("fv--addon-textobject-italic-style")];case 3:return c=l.sent(),[4,e.getMountedComponentByName("fv--addon-textobject-font-color")];case 4:return a=l.sent(),s=function(){t.isStateIn&&t.updateUIData()},this.addDestroyHook(n.on("change",s),o.on("active",s),c.on("active",s),o.on("deactive",s),c.on("deactive",s),a.on("change",s)),this.fontFamilySizeDropdown=n,this.boldStyleButton=o,this.italicStyleButton=c,this.fontColorDropdown=a,[2]}})},function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function c(t){I(i,o,r,c,a,"next",t)}function a(t){I(i,o,r,c,a,"throw",t)}c(void 0)})}).call(this)}},{key:"updateUIData",value:function(){var t=this.fontFamilySizeDropdown.getFontFamily(),e=this.fontFamilySizeDropdown.getFontSize(),n=d.PDFViewCtrl.shared.units,o=n.PIXEL_HORIZONTAL.convertTo(e,n.POINT),r={};switch(t.type){case"standard":r.standardId=t.value;break;case"ext":r.name=t.name,r.styles=t.style,r.charset=t.charset}var i=this.fontColorDropdown.getColor(),c=0;"transparent"!==i&&(c=4278190080|parseInt(i.substring(1),16));var a={fontSize:o,weight:this.boldStyleButton.isActive?700:400,italic:this.italicStyleButton.isActive,fillColor:c,font:r};this.getPDFUI().eventEmitter.emit("add-text-object-param-transfer",a),this.getPDFUI().getStore().then(function(t){t.dispatch("add-text-object-param-transfer",a)})}},{key:"stateOut",value:function(){this.isStateIn=!1}},{key:"stateIn",value:function(){this.isStateIn=!0,this.updateUIData()}}],[{key:"getName",value:function(){return"AddTextStateController"}},{key:"permission",get:function(){return d.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),n}(d.StatefulController);const E=d.StatefulController.ext("edit-text","EditTextStateController");var P=d.shared.replaceRibbonButton2XButton,N=(d.UIConsts.FRAGMENT_ACTION,function(t){function e(){return a(this,e),i(this,e,arguments)}return f(e,t),l(e,[{key:"beforeMounted",value:function(t){var e=t.getComponentByName("edit-tab");e&&e.show()}},{key:"fragments",value:function(){return[]}}],[{key:"getName",value:function(){return"editTextObject"}},{key:"getLoader",value:function(){return h()}},{key:"initOnLoad",value:function(){var t=d.modular.module("edit-text-object",[]);t.registerController(x),t.registerController(S),t.registerController(j),t.registerController(T),t.registerController(_),t.registerController(z),t.registerController(E),t.registerComponent(C),t.registerComponent(O),[{name:"add-text-button",template:'<ribbon-button name="fv--addon-add-text-button" icon-class="fv__icon-addon-textobject-add-text" @controller="edit-text-object:AddTextStateController" @tooltip tooltip-title="edit-text:buttons.addText">edit-text:buttons.addText</ribbon-button>'},{name:"text-bold-style-button",template:'<ribbon-button name="fv--addon-textobject-bold-style" icon-class="fv__icon-addon-textobject-bold" @controller="edit-text-object:BoldStyleController" @tooltip tooltip-title="edit-text:buttons.editFontWeight">edit-text:buttons.editFontWeight</ribbon-button>'},{name:"text-italic-style-button",template:'<ribbon-button name="fv--addon-textobject-italic-style" icon-class="fv__icon-addon-textobject-italic" @controller="edit-text-object:ItalicStyleController" @tooltip tooltip-title="edit-text:buttons.editFontItalic">edit-text:buttons.editFontItalic</ribbon-button>'}].forEach(function(e){var n=Object.assign({},e,{template:P(e.template)}),o=Object.assign({},e,{name:e.name.replace(/-button$/,"-ribbon-button")});t.registerPreConfiguredComponent(n.name,n),t.registerPreConfiguredComponent(o.name,o)}),[{name:"font-color-picker",template:'<edit-text-object:text-color-picker name="fv--addon-textobject-font-color" align="center" @controller="edit-text-object:FontColorController">'},{name:"font-style-dropdown",template:'<edit-text-object:font-family-size-dropdown name="fv--addon-textobject-font-family-size-dropdown">'}].forEach(function(e){t.registerPreConfiguredComponent(e.name,e)})}}]),e}(d.UIXAddon));Object.assign(d.addons,{path_objects:{AddTextStateController:z,BoldStyleController:S,ItalicStyleController:j}})})(),r=r.default})());