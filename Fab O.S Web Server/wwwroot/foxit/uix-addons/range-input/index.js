!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.RangeUIXAddon=e(require("UIExtension")):t.RangeUIXAddon=e(t.UIExtension)}(self,t=>(()=>{var e={648:(t,e,n)=>{var r=n(779);t.exports=function(t){"use strict";var e="",n=(t=t||{}).showPrefix,a=r.$escape,o=t.disabled,i=t.rangeVal,u=t.pageCount,s=t.showSample;return e+='<div class="range" name="range-input">\n<div class="d_f mtmb_10 range-input__row-one">\n',n&&(e+='\n<div class="w_80 range-input__prefix" data-i18n="range:page"></div>\n'),e+='\n<input\nclass="w_140 range-input__input"\ntype="text"\nautocomplete="off"\nname="page"\n',e+=a(o),e+='\nvalue="',e+=a(i),e+='">\n<span\nclass="ml_20 mr_20"\ndata-i18n="range:separator"></span>\n<span name="pageCount">',e+=a(u),e+="</span>\n</div>\n",s&&(e+='\n<div class="d_f" name="infoMessage">\n<div class="w_80"></div>\n<span data-i18n="range:sample"></span>\n<i class="range-input-hint"></i>\n</div>\n'),e+="\n</div>"}},65:(t,e,n)=>{n(779);t.exports=function(t){"use strict";t=t||{};return'<div class="d_f" name="infoMessage">\n<div class="w_80"></div>\n<span data-i18n="range:sample" class="range-sample__sample"></span>\n<i class="range-input-hint"></i>\n</div>'}},156:t=>{t.exports=null},585:(t,e,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},a=Object.create(r),o=/["&'<>]/;function i(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?i(t.call(t)):JSON.stringify(t)),t}a.$escape=function(t){return function(t){var e=""+t,n=o.exec(e);if(!n)return t;var r="",a=void 0,i=void 0,u=void 0;for(a=n.index,i=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:u="&#34;";break;case 38:u="&#38;";break;case 39:u="&#39;";break;case 60:u="&#60;";break;case 62:u="&#62;";break;default:continue}i!==a&&(r+=e.substring(i,a)),i=a+1,r+=u}return i!==a?r+e.substring(i,a):r}(i(t))},a.$each=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n);else for(var a in t)e(t[a],a)},t.exports=a},779:(t,e,n)=>{"use strict";t.exports=n(585)},705:(t,e,n)=>{var r=n(639).Symbol;t.exports=r},239:(t,e,n)=>{var r=n(705),a=n(607),o=n(333),i=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?a(t):o(t)}},561:(t,e,n)=>{var r=n(990),a=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(a,""):t}},957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},607:(t,e,n)=>{var r=n(705),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var a=i.call(t);return r&&(e?t[u]=n:delete t[u]),a}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,n)=>{var r=n(957),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();t.exports=o},990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},279:(t,e,n)=>{var r=n(218),a=n(771),o=n(841),i=Math.max,u=Math.min;t.exports=function(t,e,n){var s,l,c,f,p,h,d=0,v=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=s,r=l;return s=l=void 0,d=e,f=t.apply(r,n)}function m(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-d>=c}function w(){var t=a();if(m(t))return x(t);p=setTimeout(w,function(t){var n=e-(t-h);return g?u(n,c-(t-d)):n}(t))}function x(t){return p=void 0,y&&s?b(t):(s=l=void 0,f)}function P(){var t=a(),n=m(t);if(s=arguments,l=this,h=t,n){if(void 0===p)return function(t){return d=t,p=setTimeout(w,e),v?b(t):f}(h);if(g)return clearTimeout(p),p=setTimeout(w,e),b(h)}return void 0===p&&(p=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?i(o(n.maxWait)||0,e):c,y="trailing"in n?!!n.trailing:y),P.cancel=function(){void 0!==p&&clearTimeout(p),d=0,s=h=l=p=void 0},P.flush=function(){return void 0===p?f:x(a())},P}},218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,n)=>{var r=n(239),a=n(5);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==r(t)}},771:(t,e,n)=>{var r=n(639);t.exports=function(){return r.Date.now()}},841:(t,e,n)=>{var r=n(561),a=n(218),o=n(448),i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):i.test(t)?NaN:+t}},616:e=>{"use strict";e.exports=t}},n={};function r(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a={};return(()=>{"use strict";function t(e){return t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(e)}function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(e=function(){return!!t})()}function n(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var n}function o(r,a,o){return a=t(a),n(r,e()?Reflect.construct(a,o||[],t(r).constructor):a.apply(r,o))}function i(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):i(t,e)}function u(t,e){if(!i(t,e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}r.d(a,{default:()=>kt});var p=r(616),h=r(156),d=r.n(h);function v(e,n,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,r){var a=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=t(e)););return e}(e,n);if(a){var o=Object.getOwnPropertyDescriptor(a,n);return o.get?o.get.call(r||e):o.value}},v(e,n,r||e)}var g=r(65),y=r.n(g),b=p.vendors.jQuery,m="range-sample__tool-tip";function w(){b("."+m).remove()}function x(t,e,n){if(!i(t,HTMLElement))return function(){};var r=function(r){var a=t.getBoundingClientRect();!function(t,e,n,r){w(),b('<div class="'.concat(m,'">\n        <header>').concat(n,"</header>\n        <main>").concat(r,"</main>\n    </div>")).css({left:t+"px",top:e+"px"}).appendTo("body")}(a.right,a.bottom,e.i18n.t("range:sampleHintTitle"),n=e.i18n.t(n||"range:sampleHintDescription"))},a=function(t){w()};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",a),function(){t.removeEventListener("mouseenter",r),t.removeEventListener("mouseenter",a)}}var P=function(e){function n(){return u(this,n),o(this,n,arguments)}return f(n,e),l(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"mounted",value:function(){v(t(n.prototype),"mounted",this).call(this);var e=this.element,r=this.attrs.desc,a=x(e.querySelector(".range-input-hint"),this.pdfUI,r);this.addDestroyHook(function(){return a()})}}],[{key:"getName",value:function(){return"sample"}}]),n}(p.SeniorComponentFactory.createSuperClass({template:y()()}));function _(t,e,n,r,a,o,i){try{var u=t[o](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,a)}function O(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(t){_(o,r,a,i,u,"next",t)}function u(t){_(o,r,a,i,u,"throw",t)}i(void 0)})}}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function S(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||C(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var A=r(279),D=r.n(A),L=r(648),$=r.n(L);function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){u=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T,R,U=function(t){return String(t).replace(/[<>&"\s]/g,function(t){return{" ":"&nbsp;","<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[t]})},V=p.vendors.jQuery,M="range-input__notfound-tip",H="range-input__label-wrap",B="range-input__label-item";function W(t,e){var n,r=e=e.trim();(n=e.match(/\"([\s\S]+)\"$/))&&(r=n[1]);var a=[];return t.forEach(function(t,e){t.toLowerCase().startsWith(r.toLowerCase())&&a.push([t,e])}),a}function F(t){return t.reduce(function(t,e){var n=N(e,2);return t+function(t,e){return'<li class="'.concat(B,'" data-label="').concat(U(t),'" data-index="').concat(e,'">').concat(U(t)," (").concat(e+1,")</li>")}(n[0],n[1])},"")}function q(){"function"==typeof T&&T(),V("."+M).remove()}function Q(){"function"==typeof R&&R(),V("."+H).remove(),J&&J(null)}function X(t,e,n){var r=F(t),a=V("."+H);a.length||(a=V('<ul class="'.concat(H,'"><ul>'))),a.empty().append(r);var o=e.getBoundingClientRect();return a.css({top:o.bottom+"px",left:o.left+"px"}),document.body.contains(a[0])||(document.body.appendChild(a[0]),a.slideDown()),a.find(":first-child").addClass("active"),R=K(e,n),new Promise(function(t,n){!function(t,e){if(J=t,Y=e,Z)return;document.body.addEventListener("mousedown",function(t){V(t.target).hasClass(B)&&J(t.target),Q()},{capture:!0}),window.addEventListener("resize",function(t){z(Y),G(Y)}),Z=!0}(t,e)})}function z(t){var e=V("."+H);if(e.length){var n=t.getBoundingClientRect();e.css({top:n.bottom+"px",left:n.left+"px"})}}function G(t){var e=V("."+M);if(e.length){var n=t.getBoundingClientRect();e.css({left:n.left-13+"px"}),e.css({top:n.top-e[0].getBoundingClientRect().height-7+"px"})}}var J,Y,Z=!1;function K(t,e){if(e)return V("."+e).on("scroll",function(){z(t),G(t)}),function(){V("."+e).off("scroll")}}var tt,et=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u(this,t),j(this,"type",void 0),j(this,"word",void 0),j(this,"startPos",void 0),j(this,"endPos",void 0),j(this,"originWord",void 0),this.type=e,this.word=n,this.startPos=r,this.endPos=a,this.originWord=o},nt="",rt=[],at=0,ot=0,it={},ut=null;function st(){return ut}function lt(t){for(var e="";t.length;)e+=t.shift();return e}function ct(t){for(var e=t.length-1,n=0;e>=0&&"\\"===t[e];)n++,e--;return n}function ft(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return it=n,at=0,nt="",nt=function(t){var e="",n=[],r=0;rt=[];var a="",o=-1,i=-1,u=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;if(o++,","===p||"-"===p)if(5===r)n.push(p),a+=p;else if(0===r)i=o,rt.push(new et(","===p?3:4,p,o,o));else{var h=lt(n);rt.push(new et(r,h,i+1,o-1)),rt.push(new et(","===p?3:4,p,o,o)),i=o,r=0,e&&!a&&(e=a)}else if(p>="0"&&p<="9")0===r?r=1:5!==r&&2!==r||(a+=p),n.push(p);else if(p>="A"&&p<="Z"||p>="a"&&p<="z")0===r&&(r=2),n.push(p),a+=p;else if('"'===p)if(0==r)r=5,n.push(p),a+=p;else if(5==r)if("\\"==n[n.length-1]&&ct(n)%2!=0)n.push(p),a+=p;else{var d=lt(n);d+='"',rt.push(new et(5,d,i+1,o)),i=o,r=0,a=""}else{var v=lt(n);a=v,rt.push(new et(r,v,i+1,o-1)),i=o-1,a&&!e&&(e=a),n.push('"'),r=5,a=""}else"\\"===p?(n.push(p),a+=p,0===r&&(r=6)):" "===p?5===r&&n.push(p):(a+=p,n.push(p),0===r&&(r=6))}}catch(t){s=!0,l=t}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}if(n.length){var g=lt(n);rt.push(new et(r,g,i+1,o))}return a&&!e&&(e=a),e}(t),ot=e,ut=null,nt||(!function(){var t=0,e=0,n=new et(6);4===(t=vt())&&(ht(),t=2);if(2===t)for(;;){if(pt(n),0===n.type)return!0;if(3!==n.type)break;if(4!==(e=vt())){if(0===e)return!0;if(2!=e)break}else ht()}return!1}()?(ht(),nt=at>=0&&at<rt.length?rt[at].word:"?"):function(){function t(t){var e=t.word,n=t.type;if(!e)return nt=e,!1;if(5==n){var r,a=it[e];if(void 0!==a)return Array.isArray(a)?(r=a[0],nt||(nt=e)):r=a,t.type=1,e=String(r),t.originWord=t.word,t.word=e,!0;nt=e}else if(1==n){var o=+e;if(o>0&&o<=ot)return--o,e=String(o),t.originWord=t.word,t.word=e,!0;nt=e}return!1}for(at=0;at<rt.length;++at){var e=void 0;if((e=rt[at])&&(5==e.type||1==e.type)){if(5==e.type){if(!gt(e.word))return nt=e.word,!1;e.word=yt(e.word,!0)}if(!t(e))return!1}}return!0}()&&(r?function(){var t=[],e=[];function n(){if(1===e.length){var n=e[0];if(e.pop(),t.includes(n))return;t.push(n)}else if(2===e.length){var r=e[0];e.shift();var a,o=e[0];if(e.shift(),r>o)r=(a=[o,r])[0],o=a[1];for(var i=r;i<=o;++i)t.includes(i)||t.push(i)}}for(var r=0;r<rt.length;++r){var a=rt[r];if(a)if(1==a.type){var o=+a.word;e.push(o)}else 3==a.type&&n()}return n(),t}():ut=rt.map(function(t){return Number.isInteger(+t.word)?+t.word+1:t.word}).join(""))),nt}function pt(t){return at>=0&&at<rt.length?(t.word=rt[at].word,t.type=rt[at].type,++at,!0):(t.type=0,!1)}function ht(){return at>=1&&at<=rt.length&&(--at,!0)}function dt(){var t=new et(6);return pt(t),1==t.type||5==t.type?3:3==t.type||4==t.type?4:0}function vt(){var t,e=new et(6);if(3==(t=dt())){if(pt(e),0==e.type)return 2;if(4!=e.type)return ht(),2;if(3==dt())return 2}return t}function gt(t){var e;for(t=wt(t);e=t.match(/\\\\+\"|\\\\+/);){if(e[0].length%2==1)return!1;t=t.substring(e[0].length)}return!0}function yt(t,e){return t?(e&&(t=wt(t)),t.replace(/\\\\/g,"\\").replace(/\\\"/g,'"')):t}function bt(t){if(t!==document.activeElement)return!1;if(rt.length<=0)return!1;var e=mt(tt=t.selectionStart||0);if(!e)return!1;if(5!=e.type&&1!=e.type&&2!=e.type&&6!=e.type)return!1;var n,r=yt((n=e).originWord||n.word,!1);return r||!1}function mt(t){for(var e=0;e<rt.length;++e){var n=rt[e];if(n.startPos<=t&&t-1<=n.endPos)return rt[e]}return null}function wt(t){return'"'==t[0]&&'"'==t[t.length-1]&&(t=t.substring(1,t.length-1)),t}function xt(t){return"string"!=typeof t&&(t=String(t)),t=(t=t.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"'),'"'.concat(t,'"')}var Pt=p.vendors.jQuery,_t=p.__.business,Ot=p.UIConsts.COMPONENT_EVENTS;function jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";Object.defineProperty(t,"rangeVal",{set:function(t){throw new Error("Rangeval is not allowed to be modified")},get:function(){return e}})}var It=function(e){function n(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a;return u(this,n),(a=o(this,n,S(e))).state={default:{type:"common",rangeVal:"1",disabled:"",pageCount:1},showPrefix:!0,type:"common",disabled:"",rangeVal:"1",pageCount:1,types:["common","continue-start-one"]},jt(a.state),a}return f(n,e),l(n,[{key:"getRange",value:function(){return this.state.rangeVal}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"inputFocus",value:function(){Pt(this.element).find(".range-input__input").focus()}},{key:"render",value:function(){v(t(n.prototype),"render",this).call(this);var e=this.viewConfig.attrs,r=this.state,a=r.default,o=r.types,i=a.type,u=e.type,s=o.includes(u)?u:i,l=void 0===e.range?a.rangeVal:e.range,c=e["page-count"]?+e["page-count"]:a.pageCount;if(void 0!==e["show-prefix"]&&("false"===e["show-prefix"]?this.state.showPrefix=!1:this.state.showPrefix=!0),!Number.isInteger(c))throw new Error("Please pass in an integer");this.state.default={type:void 0===e.type?i:s,disabled:void 0===e.disabled?"":"disabled",pageCount:c,rangeVal:l},this.state.type=this.state.default.type,this.state.disabled=this.state.default.disabled,this.state.pageCount=this.state.default.pageCount,jt(this.state,l)}},{key:"mounted",value:function(){var e=this;this.$element=Pt(this.element),this.$element.html($()(I(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}return t}({},this.state),{showSample:!this.attrs["hide-sample"]}))),this.$pageInput=this.$element.find("[name=page]");var r=this._checkPropsRange(this.state.rangeVal);this.state.default.rangeVal=r,jt(this.state,r),this._bindEvent(),this._findParentLayerComponent(),this._bindParentLayerComponentEvent(),this.addDestroyHook(function(){e.hasPageLabel&&q()}),v(t(n.prototype),"mounted",this).call(this)}},{key:"_findParentLayerComponent",value:function(){var t=this.attrs["layer-name"];if(t){for(var e=this.parent;e&&t!==e.name;)e=e.parent;if(!e)throw"parent component not found.";this.layerComp=e}}},{key:"_bindParentLayerComponentEvent",value:function(){var t=this;if(this.layerComp){var e=function(){t.hasPageLabel&&q()};this.layerComp.on(Ot.HIDDEN,e),this.addDestroyHook(function(){return t.layerComp.off(Ot.HIDDEN,e)})}}},{key:"_checkPropsRange",value:function(t){if("common"===this.state.type)return this._input_common(t),this._change_common(t)}},{key:"_bindEvent",value:function(){var t=this,e=this.attrs["scroll-box-class-name"],n=function(r,a){var o=Pt(r.target).val();if(t.valueInvalid=!1,t.hasPageLabel){if(!o.trim())return t.valueInvalid=!0,void q();var i=ft(o,t.state.pageCount,t.labelsMap),u=bt(t.$pageInput[0]),s=[];u?(s=W(t.labels,u)).length||'"'!==u[0]||(s=W(t.labels,u.substring(1))):i&&(s=W(t.labels,i)),s.length||Q(),i?(!function(t,e,n){if(q(),t){var r=V('<span class="'.concat(M,'"><span>')),a=V('<i class="range-input__notfound-tip__text"><i>');a.text(t),r.empty().append(a);var o=e.getBoundingClientRect();r.css({left:o.left-13+"px"}).appendTo("body"),r.css({top:o.top-r[0].getBoundingClientRect().height-7+"px"}),T=K(e,n)}}(t.pdfUI.i18n.t("range:pageNotFoundTip",{target:i,interpolation:{escapeValue:!1}}),t.$pageInput[0],e),t.valueInvalid=!0):q(),!a&&s.length&&(u||i)&&X(s,t.$pageInput[0],e).then(function(e){if(e){var a=Pt(e).data("label"),i=Pt(e).data("index"),u=function(t,e,n){var r=mt(tt);if(!r)return!1;var a,o=t.substring(0,r.startPos),i=t.substring(r.endPos+1);return void 0!==(a=it[e])&&('"'===o[o.length-1]&&'"'===i[0]&&(o=o.substring(0,o.length-1),i=i.substring(1)),Array.isArray(a)?o+(n+1)+i:"".concat(o).concat(xt(e)).concat(i))}(o,a,i);t.$pageInput.val(u),t.$pageInput.focus(),n(r,!0)}});var l=st();if(l){var c=t["_input_".concat(t.state.type)](l);jt(t.state,c)}}else{var f=t["_input_".concat(t.state.type)](o);t.$pageInput.val(f),jt(t.state,f)}},r=D()(n,300);this.$pageInput.on("input",function(e){t.hasPageLabel?r(e):(t.attrs.continuous||n(e),t.trigger("nativeInput",e))}),this.$pageInput.on("focus",function(e){t.hasPageLabel&&n(e,!0)}),this.$pageInput.on("change",function(e){!t.hasPageLabel&&t.attrs.continuous&&t.trigger("nativeChange",e)}),this.$pageInput.on("blur",function(e){if(t.hasPageLabel){n(e,!0);var r=t.state.rangeVal,a=Pt(e.target).val();return t.valueInvalid||t.trigger("rangeChange",r,a),void t.trigger("rangeChangeAlways",r,a,t.valueInvalid)}if(t.attrs.continuous)t.trigger("nativeBlur",e);else{var o=Pt(e.target).val().trim();t._input_common(o);var i=t["_change_".concat(t.state.type)](o);jt(t.state,i),t.trigger("rangeChange",i),t.trigger("rangeChangeAlways",i)}}),this.$pageInput.on("keydown",function(t){"ArrowDown"===t.key||"ArrowUp"===t.key?(!function(t){if(("ArrowUp"===t||"ArrowDown"===t)&&V("."+H).length){var e,n=V(".".concat(B,".active"));"ArrowUp"===t?e=n.prev():"ArrowDown"===t&&(e=n.next()),e.length&&(n.removeClass("active"),e.addClass("active"))}}(t.key),t.stopPropagation(),t.preventDefault()):"Enter"===t.key&&(!function(){if(J){var t=V(".".concat(B,".active"));t.length&&(J(t[0]),Q())}}(),t.preventDefault())});var a=x(this.$element.find(".range-input-hint").get(0),this.pdfUI);this.addDestroyHook(function(){return t.$pageInput.off()},function(){return a()})}},{key:"_input_common",value:function(t){var e=_t.form_.verify.pageRange.restrict({value:t,max:this.state.pageCount,initValue:this.state.rangeVal});return this.strictValue=e,e.nullable}},{key:"_change_common",value:function(t){return this.strictValue.nonNullable!==t&&this.$pageInput.val(this.strictValue.nonNullable),this.$pageInput.val()}},{key:"alertNoPageSelected",value:function(){var t=this.pdfUI.i18n.t("range:noPageSelected");return this.pdfUI.alert({message:t,level:"warning"})}},{key:"checkValueInvalidAndAlert",value:function(){var t=this;return!!this.hasPageLabel&&(q(),Q(),this.valueInvalid&&this.alertNoPageSelected().then(function(){t.$pageInput.focus()}),this.valueInvalid)}},{key:"checkHasLabel",value:function(){return O(function(){var t;return E(this,function(e){switch(e.label){case 0:if(!this.doc)throw"You should set doc before check the page label.";return t=this,[4,this.doc.checkDocIsUseLogicPage()];case 1:return t.hasPageLabel=e.sent(),[2]}})}).call(this)}},{key:"getLabels",value:function(){return O(function(){var t,e,n;return E(this,function(r){switch(r.label){case 0:return this.hasPageLabel?[4,(a=this.doc,O(function(){var t,e,n,r,o;return E(this,function(i){switch(i.label){case 0:return[4,a.getPageLabels()];case 1:for(t=i.sent(),e={},n=0;n<t.length;n++)r=t[n],void 0===(o=e[r])?e[r]=n:Array.isArray(o)?e[r].push(n):e[r]=[o,n];return[2,{labels:t,labelsMap:e}]}})})())]:[2];case 1:return t=r.sent(),e=t.labels,n=t.labelsMap,this.labels=e,this.labelsMap=n,[2]}var a})}).call(this)}},{key:"setDoc",value:function(t){this.doc=t}},{key:"reset",value:function(t){return O(function(t){var e,n,r,a,o,i,u,s,l;return E(this,function(c){switch(c.label){case 0:return e=t.doc,n=t.pageCount,r=t.currentIndexOrPages,a=t.trigger,o=void 0===a||a,i=t.cropHandle,void 0===n&&(n=e.getPageCount()),this.setDoc(e),this.updatePageCount(n),[4,this.checkHasLabel()];case 1:return c.sent(),[4,this.getLabels()];case 2:return c.sent(),this.attrs["empty-initial"]?(this.restDefault(r,o),[2]):this.attrs["another-doc"]?(this.restDefault(r),[2]):(u=this.controller.getComponentByName("fv-thumbnail-panel"),u||r&&(this.restDefault(r),i&&i(r)),u&&(l=u.getAllActivePageIndex(),s=r,l[1].length>0&&(s=l[1].join())),s?(this.restDefault(s,o),i&&i(s),[2]):[2])}})}).apply(this,arguments)}},{key:"restDefault",value:function(t,e){var n=this;if(this.attrs["empty-initial"])return this.$pageInput.val(""),void(this.valueInvalid=!0);void 0!==t&&""!==t||(t=this.state.default.rangeVal);jt(this.state,t);var r=t;this.hasPageLabel&&!this.attrs["another-doc"]&&(r=t.split(",").map(function(t){return t.split("-").map(function(t){var e=n.labels[t-1];return Array.isArray(n.labelsMap[e])?t:xt("".concat(n.labels[t-1]))}).join("-")}).join(",")),this.$pageInput.val(r),e&&this.trigger("rangeChange",t)}},{key:"updatePageCount",value:function(t){if(!Number.isInteger(t))throw new Error("Please pass in an integer");this.state.pageCount=t,this.state.default.pageCount=t,Pt(this.element).find("[name=pageCount]").text(t)}},{key:"inputDisabled",value:function(){this.$pageInput.attr("disabled",!0)}},{key:"inputEnabled",value:function(){this.$pageInput.removeAttr("disabled")}},{key:"removePopup",value:function(){this.hasPageLabel&&(q(),Q())}}],[{key:"getName",value:function(){return"input"}}]),n}(p.components.Component),kt=function(t){function e(){return u(this,e),o(this,e,arguments)}return f(e,t),l(e,[{key:"fragments",value:function(){return[]}},{key:"init",value:function(t){this.pdfUI=t}}],[{key:"getName",value:function(){return"Range"}},{key:"getLoader",value:function(){return d()}},{key:"initOnLoad",value:function(){var t=p.modular.module("range",[]);t.registerComponent(P),t.registerComponent(It)}}]),e}(p.UIXAddon)})(),a=a.default})());